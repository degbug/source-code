<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/InternationalFormatter.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L190">[^]</a><a href="#L1007">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L190" title="Defined at 190.">setFormat</a></li>
<li><a href="#L200" title="Defined at 200.">getFormat</a></li>
<li><a href="#L213" title="Defined at 213.">setMinimum</a></li>
<li><a href="#L225" title="Defined at 225.">getMinimum</a></li>
<li><a href="#L238" title="Defined at 238.">setMaximum</a></li>
<li><a href="#L250" title="Defined at 250.">getMaximum</a></li>
<li><a href="#L284" title="Defined at 284.">install</a></li>
<li><a href="#L299" title="Defined at 299.">valueToString</a></li>
<li><a href="#L319" title="Defined at 319.">stringToValue</a></li>
<li><a href="#L349" title="Defined at 349.">getFields</a></li>
<li><a href="#L371" title="Defined at 371.">clone</a></li>
<li><a href="#L386" title="Defined at 386.">getActions</a></li>
<li><a href="#L398" title="Defined at 398.">stringToValue</a></li>
<li><a href="#L412" title="Defined at 412.">isValidValue</a></li>
<li><a href="#L443" title="Defined at 443.">getAttributes</a></li>
<li><a href="#L461" title="Defined at 461.">getAttributeStart</a></li>
<li><a href="#L480" title="Defined at 480.">getIterator</a></li>
<li><a href="#L487" title="Defined at 487.">updateMaskIfNecessary</a></li>
<li><a href="#L509" title="Defined at 509.">updateMask</a></li>
<li><a href="#L539" title="Defined at 539.">getLiteralCountTo</a></li>
<li><a href="#L554" title="Defined at 554.">isLiteral</a></li>
<li><a href="#L564" title="Defined at 564.">getLiteral</a></li>
<li><a href="#L576" title="Defined at 576.">isNavigatable</a></li>
<li><a href="#L583" title="Defined at 583.">updateValue</a></li>
<li><a href="#L592" title="Defined at 592.">replace</a></li>
<li><a href="#L608" title="Defined at 608.">getNextNonliteralIndex</a></li>
<li><a href="#L631" title="Defined at 631.">canReplace</a></li>
<li><a href="#L688" title="Defined at 688.">replace</a></li>
<li><a href="#L734" title="Defined at 734.">repositionCursor</a></li>
<li><a href="#L753" title="Defined at 753.">getBufferedChar</a></li>
<li><a href="#L765" title="Defined at 765.">isValidMask</a></li>
<li><a href="#L772" title="Defined at 772.">isLiteral</a></li>
<li><a href="#L781" title="Defined at 781.">updateMask</a></li>
<li><a href="#L823" title="Defined at 823.">canIncrement</a></li>
<li><a href="#L830" title="Defined at 830.">selectField</a></li>
<li><a href="#L860" title="Defined at 860.">getAdjustField</a></li>
<li><a href="#L869" title="Defined at 869.">getFieldTypeCountTo</a></li>
<li><a href="#L902" title="Defined at 902.">adjustValue</a></li>
<li><a href="#L915" title="Defined at 915.">getSupportsIncrement</a></li>
<li><a href="#L923" title="Defined at 923.">resetValue</a></li>
<li><a href="#L941" title="Defined at 941.">readObject</a></li>
<li><a href="#L951" title="Defined at 951.">getReplaceHolder</a></li>
<li><a href="#L978" title="Defined at 978.">resetFromValue</a></li>
<li><a href="#L1007" title="Defined at 1007.">actionPerformed</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.awt.event.ActionEvent;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.text.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.text.AttributedCharacterIterator.Attribute;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.*;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.swing.*;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  <code>InternationalFormatter</code> extends <code>DefaultFormatter</code>,
  using an instance of <code>java.text.Format</code> to handle the
  conversion to a String, and the conversion from a String.
  <p>
  If <code>getAllowsInvalid()</code> is false, this will ask the
  <code>Format</code> to format the current text on every edit.
  </p><p>
  You can specify a minimum and maximum value by way of the
  <code>setMinimum</code> and <code>setMaximum</code> methods. In order
  for this to work the values returned from <code>stringToValue</code> must be
  comparable to the min/max values by way of the <code>Comparable</code>
  interface.
  </p><p>
  Be careful how you configure the <code>Format</code> and the
  <code>InternationalFormatter</code>, as it is possible to create a
  situation where certain values can not be input. Consider the date
  format 'M/d/yy', an <code>InternationalFormatter</code> that is always
  valid (<code>setAllowsInvalid(false)</code>), is in overwrite mode
  (<code>setOverwriteMode(true)</code>) and the date 7/1/99. In this
  case the user will not be able to enter a two digit month or day of
  month. To avoid this, the format should be 'MM/dd/yy'.
  </p><p>
  If <code>InternationalFormatter</code> is configured to only allow valid
  values (<code>setAllowsInvalid(false)</code>), every valid edit will result
  in the text of the <code>JFormattedTextField</code> being completely reset
  from the <code>Format</code>.
  The cursor position will also be adjusted as literal characters are
  added/removed from the resulting String.
  </p><p>
  <code>InternationalFormatter</code>'s behavior of
  <code>stringToValue</code> is  slightly different than that of
  <code>DefaultTextFormatter</code>, it does the following:
  </p><ol>
    <li><code>parseObject</code> is invoked on the <code>Format</code>
        specified by <code>setFormat</code>
    </li><li>If a Class has been set for the values (<code>setValueClass</code>),
        supers implementation is invoked to convert the value returned
        from <code>parseObject</code> to the appropriate class.
    </li><li>If a <code>ParseException</code> has not been thrown, and the value
        is outside the min/max a <code>ParseException</code> is thrown.
    </li><li>The value is returned.
  </li></ol>
  <code>InternationalFormatter</code> implements <code>stringToValue</code>
  in this manner so that you can specify an alternate Class than
  <code>Format</code> may return.
  <p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeansâ„¢
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @see java.text.Format
  @see java.lang.Comparable
  @since 1.4</p></div>
<a id="L95" name="L95"></a>  95 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/3964.html" title="Multiple referred from 7 places.">InternationalFormatter</a> <strong class="reserved">extends</strong> <a href="../S/3327.html#L62" title="Defined at 62 in src/javax/swing/text/DefaultFormatter.java.">DefaultFormatter</a> <em class="brace">{</em>
<div class="comment">
      Used by <code>getFields</code>.</div>
<a id="L99" name="L99"></a>  99     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>[] EMPTY_FIELD_ARRAY =<strong class="reserved">new</strong> <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>[0];
<a id="L100" name="L100"></a> 100 
<div class="comment">
      Object used to handle the conversion.</div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">private</strong> <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<div class="comment">
      Can be used to impose a maximum value.</div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">private</strong> <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>;
<div class="comment">
      Can be used to impose a minimum value.</div>
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>;
<a id="L113" name="L113"></a> 113 
<div class="comment">
      <code>InternationalFormatter</code>'s behavior is dicatated by a
      <code>AttributedCharacterIterator</code> that is obtained from
      the <code>Format</code>. On every edit, assuming
      allows invalid is false, the <code>Format</code> instance is invoked
      with <code>formatToCharacterIterator</code>. A <code>BitSet</code> is
      also kept upto date with the non-literal characters, that is
      for every index in the <code>AttributedCharacterIterator</code> an
      entry in the bit set is updated based on the return value from
      <code>isLiteral(Map)</code>. <code>isLiteral(int)</code> then uses
      this cached information.
      <p>
      If allowsInvalid is false, every edit results in resetting the complete
      text of the JTextComponent.
      </p><p>
      InternationalFormatterFilter can also provide two actions suitable for
      incrementing and decrementing. To enable this a subclass must
      override <code>getSupportsIncrement</code> to return true, and
      override <code>adjustValue</code> to handle the changing of the
      value. If you want to support changing the value outside of
      the valid FieldPositions, you will need to override
      <code>canIncrement</code>.</p></div>
<div class="comment">
      A bit is set for every index identified in the
      AttributedCharacterIterator that is not considered decoration.
      This should only be used if validMask is true.</div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> literalMask;
<div class="comment">
      Used to iterate over characters.</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>;
<div class="comment">
      True if the Format was able to convert the value to a String and
      back.</div>
<a id="L151" name="L151"></a> 151     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> validMask;
<div class="comment">
      Current value being displayed.</div>
<a id="L155" name="L155"></a> 155     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>;
<div class="comment">
      If true, DocumentFilter methods are unconditionally allowed,
      and no checking is done on their values. This is used when
      incrementing/decrementing via the actions.</div>
<a id="L161" name="L161"></a> 161     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> ignoreDocumentMutate;
<a id="L162" name="L162"></a> 162 
<a id="L163" name="L163"></a> 163 
<div class="comment">
      Creates an <code>InternationalFormatter</code> with no
      <code>Format</code> specified.</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> InternationalFormatter() <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <a href="../S/3327.html#L164" title="Defined at 164 in src/javax/swing/text/DefaultFormatter.java.">setOverwriteMode</a>(<strong class="reserved">false</strong>);
<a id="L170" name="L170"></a> 170     <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<div class="comment">
      Creates an <code>InternationalFormatter</code> with the specified
      <code>Format</code> instance.
      @param format Format instance used for converting from/to Strings</div>
<a id="L178" name="L178"></a> 178     <strong class="reserved">public</strong> InternationalFormatter(<a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179         <strong class="reserved">this</strong>();
<a id="L180" name="L180"></a> 180         <a href="../D/32766.html" title="Multiple defined in 5 places.">setFormat</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<div class="comment">
      Sets the format that dictates the legal values that can be edited
      and displayed.
      @param format <code>Format</code> instance used for converting
      from/to Strings</div>
<a id="L190" name="L190"></a> 190     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27441.html" title="Multiple referred from 6 places.">setFormat</a>(<a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>) <em class="brace">{</em>
<a id="L191" name="L191"></a> 191         <strong class="reserved">this</strong>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<div class="comment">
      Returns the format that dictates the legal values that can be edited
      and displayed.
      @return Format instance used for converting from/to Strings</div>
<a id="L200" name="L200"></a> 200     <strong class="reserved">public</strong> <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> <a href="../R/16695.html" title="Multiple referred from 25 places.">getFormat</a>() <em class="brace">{</em>
<a id="L201" name="L201"></a> 201         <strong class="reserved">return</strong> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L202" name="L202"></a> 202     <em class="brace">}</em>
<a id="L203" name="L203"></a> 203 
<div class="comment">
      Sets the minimum permissible value. If the <code>valueClass</code> has
      not been specified, and <code>minimum</code> is non null, the
      <code>valueClass</code> will be set to that of the class of
      <code>minimum</code>.
      @param minimum Minimum legal value that can be input
      @see #setValueClass</div>
<a id="L213" name="L213"></a> 213     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27758.html" title="Multiple referred from 8 places.">setMinimum</a>(<a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> minimum) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214         <strong class="reserved">if</strong> (<a href="../S/3327.html#L218" title="Defined at 218 in src/javax/swing/text/DefaultFormatter.java.">getValueClass</a>() == <strong class="reserved">null</strong> &amp;&amp; minimum != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L215" name="L215"></a> 215             <a href="../S/3327.html#L209" title="Defined at 209 in src/javax/swing/text/DefaultFormatter.java.">setValueClass</a>(minimum.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>());
<a id="L216" name="L216"></a> 216         <em class="brace">}</em>
<a id="L217" name="L217"></a> 217         <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = minimum;
<a id="L218" name="L218"></a> 218     <em class="brace">}</em>
<a id="L219" name="L219"></a> 219 
<div class="comment">
      Returns the minimum permissible value.
      @return Minimum legal value that can be input</div>
<a id="L225" name="L225"></a> 225     <strong class="reserved">public</strong> <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../R/17729.html" title="Multiple referred from 89 places.">getMinimum</a>() <em class="brace">{</em>
<a id="L226" name="L226"></a> 226         <strong class="reserved">return</strong> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>;
<a id="L227" name="L227"></a> 227     <em class="brace">}</em>
<a id="L228" name="L228"></a> 228 
<div class="comment">
      Sets the maximum permissible value. If the <code>valueClass</code> has
      not been specified, and <code>max</code> is non null, the
      <code>valueClass</code> will be set to that of the class of
      <code>max</code>.
      @param max Maximum legal value that can be input
      @see #setValueClass</div>
<a id="L238" name="L238"></a> 238     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27731.html" title="Multiple referred from 20 places.">setMaximum</a>(<a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>) <em class="brace">{</em>
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong> (<a href="../S/3327.html#L218" title="Defined at 218 in src/javax/swing/text/DefaultFormatter.java.">getValueClass</a>() == <strong class="reserved">null</strong> &amp;&amp; <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240             <a href="../S/3327.html#L209" title="Defined at 209 in src/javax/swing/text/DefaultFormatter.java.">setValueClass</a>(<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>());
<a id="L241" name="L241"></a> 241         <em class="brace">}</em>
<a id="L242" name="L242"></a> 242         <strong class="reserved">this</strong>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>;
<a id="L243" name="L243"></a> 243     <em class="brace">}</em>
<a id="L244" name="L244"></a> 244 
<div class="comment">
      Returns the maximum permissible value.
      @return Maximum legal value that can be input</div>
<a id="L250" name="L250"></a> 250     <strong class="reserved">public</strong> <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../R/17611.html" title="Multiple referred from 94 places.">getMaximum</a>() <em class="brace">{</em>
<a id="L251" name="L251"></a> 251         <strong class="reserved">return</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>;
<a id="L252" name="L252"></a> 252     <em class="brace">}</em>
<a id="L253" name="L253"></a> 253 
<div class="comment">
      Installs the <code>DefaultFormatter</code> onto a particular
      <code>JFormattedTextField</code>.
      This will invoke <code>valueToString</code> to convert the
      current value from the <code>JFormattedTextField</code> to
      a String. This will then install the <code>Action</code>s from
      <code>getActions</code>, the <code>DocumentFilter</code>
      returned from <code>getDocumentFilter</code> and the
      <code>NavigationFilter</code> returned from
      <code>getNavigationFilter</code> onto the
      <code>JFormattedTextField</code>.
      <p>
      Subclasses will typically only need to override this if they
      wish to install additional listeners on the
      <code>JFormattedTextField</code>.
      </p><p>
      If there is a <code>ParseException</code> in converting the
      current value to a String, this will set the text to an empty
      String, and mark the <code>JFormattedTextField</code> as being
      in an invalid state.
      </p><p>
      While this is a public method, this is typically only useful
      for subclassers of <code>JFormattedTextField</code>.
      <code>JFormattedTextField</code> will invoke this method at
      the appropriate times when the value changes, or its internal
      state changes.
      @param ftf JFormattedTextField to format for, may be null indicating
                 uninstall from current JFormattedTextField.</p></div>
<a id="L284" name="L284"></a> 284     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20832.html" title="Multiple referred from 32 places.">install</a>(<a href="../S/3126.html#L179" title="Defined at 179 in src/javax/swing/JFormattedTextField.java.">JFormattedTextField</a> ftf) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285         <strong class="reserved">super</strong>.<a href="../D/24817.html" title="Multiple defined in 32 places.">install</a>(ftf);
<a id="L286" name="L286"></a> 286         <a href="../S/3251.html#L487" title="Defined at 487 in src/javax/swing/text/InternationalFormatter.java.">updateMaskIfNecessary</a>();
<a id="L287" name="L287"></a> 287         <em class="comment">// invoked again as the mask should now be valid.</em>
<a id="L288" name="L288"></a> 288         <a href="../S/3327.html#L330" title="Defined at 330 in src/javax/swing/text/DefaultFormatter.java.">positionCursorAtInitialLocation</a>();
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<div class="comment">
      Returns a String representation of the Object <code>value</code>.
      This invokes <code>format</code> on the current <code>Format</code>.
      @throws ParseException if there is an error in the conversion
      @param value Value to convert
      @return String representation of value</div>
<a id="L299" name="L299"></a> 299     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/30103.html" title="Multiple referred from 9 places.">valueToString</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L300" name="L300"></a> 300         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301             <strong class="reserved">return</strong> "";
<a id="L302" name="L302"></a> 302         <em class="brace">}</em>
<a id="L303" name="L303"></a> 303         <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> f = <a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>();
<a id="L304" name="L304"></a> 304 
<a id="L305" name="L305"></a> 305         <strong class="reserved">if</strong> (f == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L307" name="L307"></a> 307         <em class="brace">}</em>
<a id="L308" name="L308"></a> 308         <strong class="reserved">return</strong> f.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L309" name="L309"></a> 309     <em class="brace">}</em>
<a id="L310" name="L310"></a> 310 
<div class="comment">
      Returns the <code>Object</code> representation of the
      <code>String</code> <code>text</code>.
      @param text <code>String</code> to convert
      @return <code>Object</code> representation of text
      @throws ParseException if there is an error in the conversion</div>
<a id="L319" name="L319"></a> 319     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/28956.html" title="Multiple referred from 13 places.">stringToValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>) <strong class="reserved">throws</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L320" name="L320"></a> 320         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/34943.html" title="Multiple defined in 9 places.">stringToValue</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>());
<a id="L321" name="L321"></a> 321 
<a id="L322" name="L322"></a> 322         <em class="comment">// Convert to the value class if the Value returned from the</em>
<a id="L323" name="L323"></a> 323         <em class="comment">// Format does not match.</em>
<a id="L324" name="L324"></a> 324         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/3327.html#L218" title="Defined at 218 in src/javax/swing/text/DefaultFormatter.java.">getValueClass</a>() != <strong class="reserved">null</strong> &amp;&amp;
<a id="L325" name="L325"></a> 325                              !<a href="../S/3327.html#L218" title="Defined at 218 in src/javax/swing/text/DefaultFormatter.java.">getValueClass</a>().<a href="../S/1722.html#L483" title="Defined at 483 in src/java/lang/Class.java.">isInstance</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">super</strong>.<a href="../D/34943.html" title="Multiple defined in 9 places.">stringToValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L327" name="L327"></a> 327         <em class="brace">}</em>
<a id="L328" name="L328"></a> 328         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L329" name="L329"></a> 329             <strong class="reserved">if</strong> (!<a href="../D/26468.html" title="Multiple defined in 4 places.">isValidValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">true</strong>)) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a>("Value not within min/max range", 0);
<a id="L331" name="L331"></a> 331             <em class="brace">}</em>
<a id="L332" name="L332"></a> 332         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> cce) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a>("Class cast exception comparing values: "
<a id="L334" name="L334"></a> 334                                      + cce, 0);
<a id="L335" name="L335"></a> 335         <em class="brace">}</em>
<a id="L336" name="L336"></a> 336         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L337" name="L337"></a> 337     <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<div class="comment">
      Returns the <code>Format.Field</code> constants associated with
      the text at <code>offset</code>. If <code>offset</code> is not
      a valid location into the current text, this will return an
      empty array.
      @param offset offset into text to be examined
      @return Format.Field constants associated with the text at the
              given position.</div>
<a id="L349" name="L349"></a> 349     <strong class="reserved">public</strong> <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a>[] <a href="../R/16566.html" title="Multiple referred from 26 places.">getFields</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <strong class="reserved">if</strong> (<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>()) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351             <em class="comment">// This will work if the currently edited value is valid.</em>
<a id="L352" name="L352"></a> 352             <a href="../D/36158.html" title="Multiple defined in 2 places.">updateMask</a>();
<a id="L353" name="L353"></a> 353         <em class="brace">}</em>
<a id="L354" name="L354"></a> 354 
<a id="L355" name="L355"></a> 355         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; attrs = <a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L356" name="L356"></a> 356 
<a id="L357" name="L357"></a> 357         <strong class="reserved">if</strong> (attrs != <strong class="reserved">null</strong> &amp;&amp; attrs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358             <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt; al = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>&gt;();
<a id="L359" name="L359"></a> 359 
<a id="L360" name="L360"></a> 360             al.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(attrs.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>());
<a id="L361" name="L361"></a> 361             <strong class="reserved">return</strong> al.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(EMPTY_FIELD_ARRAY);
<a id="L362" name="L362"></a> 362         <em class="brace">}</em>
<a id="L363" name="L363"></a> 363         <strong class="reserved">return</strong> EMPTY_FIELD_ARRAY;
<a id="L364" name="L364"></a> 364     <em class="brace">}</em>
<a id="L365" name="L365"></a> 365 
<div class="comment">
      Creates a copy of the DefaultFormatter.
      @return copy of the DefaultFormatter</div>
<a id="L371" name="L371"></a> 371     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <strong class="reserved">throws</strong> <a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> <em class="brace">{</em>
<a id="L372" name="L372"></a> 372         <a href="../S/3251.html#L95" title="Defined at 95 in src/javax/swing/text/InternationalFormatter.java.">InternationalFormatter</a> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a> = (<a href="../S/3251.html#L95" title="Defined at 95 in src/javax/swing/text/InternationalFormatter.java.">InternationalFormatter</a>)<strong class="reserved">super</strong>.
<a id="L373" name="L373"></a> 373                                            <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L374" name="L374"></a> 374 
<a id="L375" name="L375"></a> 375         <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.literalMask = <strong class="reserved">null</strong>;
<a id="L376" name="L376"></a> 376         <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <strong class="reserved">null</strong>;
<a id="L377" name="L377"></a> 377         <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.validMask = <strong class="reserved">false</strong>;
<a id="L378" name="L378"></a> 378         <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <strong class="reserved">null</strong>;
<a id="L379" name="L379"></a> 379         <strong class="reserved">return</strong> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>;
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<div class="comment">
      If <code>getSupportsIncrement</code> returns true, this returns
      two Actions suitable for incrementing/decrementing the value.</div>
<a id="L386" name="L386"></a> 386     <strong class="reserved">protected</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <a href="../R/14955.html" title="Multiple referred from 33 places.">getActions</a>() <em class="brace">{</em>
<a id="L387" name="L387"></a> 387         <strong class="reserved">if</strong> (<a href="../D/22875.html" title="Multiple defined in 2 places.">getSupportsIncrement</a>()) <em class="brace">{</em>
<a id="L388" name="L388"></a> 388             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <em class="brace">{</em> <strong class="reserved">new</strong> <a href="../S/3251.html#L999" title="Defined at 999 in src/javax/swing/text/InternationalFormatter.java.">IncrementAction</a>("increment", 1),
<a id="L389" name="L389"></a> 389                                   <strong class="reserved">new</strong> <a href="../S/3251.html#L999" title="Defined at 999 in src/javax/swing/text/InternationalFormatter.java.">IncrementAction</a>("decrement", -1) <em class="brace">}</em>;
<a id="L390" name="L390"></a> 390         <em class="brace">}</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L392" name="L392"></a> 392     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<div class="comment">
      Invokes <code>parseObject</code> on <code>f</code>, returning
      its value.</div>
<a id="L398" name="L398"></a> 398     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/28956.html" title="Multiple referred from 13 places.">stringToValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <a href="../S/2459.html#L133" title="Defined at 133 in src/java/text/Format.java.">Format</a> f) <strong class="reserved">throws</strong> <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L399" name="L399"></a> 399         <strong class="reserved">if</strong> (f == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L400" name="L400"></a> 400             <strong class="reserved">return</strong> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L401" name="L401"></a> 401         <em class="brace">}</em>
<a id="L402" name="L402"></a> 402         <strong class="reserved">return</strong> f.<a href="../D/29171.html" title="Multiple defined in 7 places.">parseObject</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L403" name="L403"></a> 403     <em class="brace">}</em>
<a id="L404" name="L404"></a> 404 
<div class="comment">
      Returns true if <code>value</code> is between the min/max.
      @param wantsCCE If false, and a ClassCastException is thrown in
                      comparing the values, the exception is consumed and
                      false is returned.</div>
<a id="L412" name="L412"></a> 412     <strong class="reserved">boolean</strong> <a href="../R/22201.html" title="Multiple referred from 11 places.">isValidValue</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">boolean</strong> wantsCCE) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413         <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = <a href="../D/20655.html" title="Multiple defined in 19 places.">getMinimum</a>();
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">if</strong> (<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) &gt; 0) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L418" name="L418"></a> 418             <em class="brace">}</em>
<a id="L419" name="L419"></a> 419         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> cce) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">if</strong> (wantsCCE) <em class="brace">{</em>
<a id="L421" name="L421"></a> 421                 <strong class="reserved">throw</strong> cce;
<a id="L422" name="L422"></a> 422             <em class="brace">}</em>
<a id="L423" name="L423"></a> 423             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L424" name="L424"></a> 424         <em class="brace">}</em>
<a id="L425" name="L425"></a> 425 
<a id="L426" name="L426"></a> 426         <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>();
<a id="L427" name="L427"></a> 427         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L428" name="L428"></a> 428             <strong class="reserved">if</strong> (<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) &lt; 0) <em class="brace">{</em>
<a id="L429" name="L429"></a> 429                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L430" name="L430"></a> 430             <em class="brace">}</em>
<a id="L431" name="L431"></a> 431         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> cce) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">if</strong> (wantsCCE) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433                 <strong class="reserved">throw</strong> cce;
<a id="L434" name="L434"></a> 434             <em class="brace">}</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L438" name="L438"></a> 438     <em class="brace">}</em>
<a id="L439" name="L439"></a> 439 
<div class="comment">
      Returns a Set of the attribute identifiers at <code>index</code>.</div>
<a id="L443" name="L443"></a> 443     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L446" name="L446"></a> 446 
<a id="L447" name="L447"></a> 447             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0 &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt;= <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/18768.html" title="Multiple defined in 8 places.">getEndIndex</a>()) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L449" name="L449"></a> 449                 <strong class="reserved">return</strong> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L450" name="L450"></a> 450             <em class="brace">}</em>
<a id="L451" name="L451"></a> 451         <em class="brace">}</em>
<a id="L452" name="L452"></a> 452         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L453" name="L453"></a> 453     <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Returns the start of the first run that contains the attribute
      <code>id</code>. This will return <code>-1</code> if the attribute
      can not be found.</div>
<a id="L461" name="L461"></a> 461     <strong class="reserved">int</strong> <a href="../S/3265.html#L455" title="Referred from 455 in src/javax/swing/text/NumberFormatter.java.">getAttributeStart</a>(<a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462         <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L463" name="L463"></a> 463             <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465             <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L466" name="L466"></a> 466             <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467                 <strong class="reserved">if</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L468" name="L468"></a> 468                     <strong class="reserved">return</strong> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L469" name="L469"></a> 469                 <em class="brace">}</em>
<a id="L470" name="L470"></a> 470                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L471" name="L471"></a> 471             <em class="brace">}</em>
<a id="L472" name="L472"></a> 472         <em class="brace">}</em>
<a id="L473" name="L473"></a> 473         <strong class="reserved">return</strong> -1;
<a id="L474" name="L474"></a> 474     <em class="brace">}</em>
<a id="L475" name="L475"></a> 475 
<div class="comment">
      Returns the <code>AttributedCharacterIterator</code> used to
      format the last value.</div>
<a id="L480" name="L480"></a> 480     <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../R/17187.html" title="Multiple referred from 39 places.">getIterator</a>() <em class="brace">{</em>
<a id="L481" name="L481"></a> 481         <strong class="reserved">return</strong> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>;
<a id="L482" name="L482"></a> 482     <em class="brace">}</em>
<a id="L483" name="L483"></a> 483 
<div class="comment">
      Updates the AttributedCharacterIterator and bitset, if necessary.</div>
<a id="L487" name="L487"></a> 487     <strong class="reserved">void</strong> <a href="../R/29915.html" title="Multiple referred from 3 places.">updateMaskIfNecessary</a>() <em class="brace">{</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">if</strong> (!<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>() &amp;&amp; (<a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>() != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L489" name="L489"></a> 489             <strong class="reserved">if</strong> (!<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490                 <a href="../D/36158.html" title="Multiple defined in 2 places.">updateMask</a>();
<a id="L491" name="L491"></a> 491             <em class="brace">}</em>
<a id="L492" name="L492"></a> 492             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L493" name="L493"></a> 493                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newString = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>();
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495                 <strong class="reserved">if</strong> (!newString.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>)) <em class="brace">{</em>
<a id="L496" name="L496"></a> 496                     <a href="../D/36158.html" title="Multiple defined in 2 places.">updateMask</a>();
<a id="L497" name="L497"></a> 497                 <em class="brace">}</em>
<a id="L498" name="L498"></a> 498             <em class="brace">}</em>
<a id="L499" name="L499"></a> 499         <em class="brace">}</em>
<a id="L500" name="L500"></a> 500     <em class="brace">}</em>
<a id="L501" name="L501"></a> 501 
<div class="comment">
      Updates the AttributedCharacterIterator by invoking
      <code>formatToCharacterIterator</code> on the <code>Format</code>.
      If this is successful,
      <code>updateMask(AttributedCharacterIterator)</code>
      is then invoked to update the internal bitmask.</div>
<a id="L509" name="L509"></a> 509     <strong class="reserved">void</strong> <a href="../R/29914.html" title="Multiple referred from 6 places.">updateMask</a>() <em class="brace">{</em>
<a id="L510" name="L510"></a> 510         <strong class="reserved">if</strong> (<a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513             validMask = <strong class="reserved">false</strong>;
<a id="L514" name="L514"></a> 514             <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L516" name="L516"></a> 516                     <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L517" name="L517"></a> 517                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518                     <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <strong class="reserved">null</strong>;
<a id="L519" name="L519"></a> 519                 <em class="brace">}</em>
<a id="L520" name="L520"></a> 520                 <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/34943.html" title="Multiple defined in 9 places.">stringToValue</a>(<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>);
<a id="L523" name="L523"></a> 523                         <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>().
<a id="L524" name="L524"></a> 524                                   <a href="../D/16551.html" title="Multiple defined in 4 places.">formatToCharacterIterator</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526                         <a href="../D/36158.html" title="Multiple defined in 2 places.">updateMask</a>(<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>);
<a id="L527" name="L527"></a> 527                     <em class="brace">}</em>
<a id="L528" name="L528"></a> 528                     <strong class="reserved">catch</strong> (<a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> pe) <em class="brace">{</em><em class="brace">}</em>
<a id="L529" name="L529"></a> 529                     <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> iae) <em class="brace">{</em><em class="brace">}</em>
<a id="L530" name="L530"></a> 530                     <strong class="reserved">catch</strong> (<a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> npe) <em class="brace">{</em><em class="brace">}</em>
<a id="L531" name="L531"></a> 531                 <em class="brace">}</em>
<a id="L532" name="L532"></a> 532             <em class="brace">}</em>
<a id="L533" name="L533"></a> 533         <em class="brace">}</em>
<a id="L534" name="L534"></a> 534     <em class="brace">}</em>
<a id="L535" name="L535"></a> 535 
<div class="comment">
      Returns the number of literal characters before <code>index</code>.</div>
<a id="L539" name="L539"></a> 539     <strong class="reserved">int</strong> <a href="../R/17400.html" title="Multiple referred from 4 places.">getLiteralCountTo</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L540" name="L540"></a> 540         <strong class="reserved">int</strong> lCount = 0;
<a id="L541" name="L541"></a> 541 
<a id="L542" name="L542"></a> 542         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>; counter++) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <strong class="reserved">if</strong> (<a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(counter)) <em class="brace">{</em>
<a id="L544" name="L544"></a> 544                 lCount++;
<a id="L545" name="L545"></a> 545             <em class="brace">}</em>
<a id="L546" name="L546"></a> 546         <em class="brace">}</em>
<a id="L547" name="L547"></a> 547         <strong class="reserved">return</strong> lCount;
<a id="L548" name="L548"></a> 548     <em class="brace">}</em>
<a id="L549" name="L549"></a> 549 
<div class="comment">
      Returns true if the character at index is a literal, that is
      not editable.</div>
<a id="L554" name="L554"></a> 554     <strong class="reserved">boolean</strong> <a href="../R/21677.html" title="Multiple referred from 18 places.">isLiteral</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L555" name="L555"></a> 555         <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>() &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L556" name="L556"></a> 556             <strong class="reserved">return</strong> literalMask.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L557" name="L557"></a> 557         <em class="brace">}</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L559" name="L559"></a> 559     <em class="brace">}</em>
<a id="L560" name="L560"></a> 560 
<div class="comment">
      Returns the literal character at index.</div>
<a id="L564" name="L564"></a> 564     <strong class="reserved">char</strong> <a href="../R/17399.html" title="Multiple referred from 2 places.">getLiteral</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>() &amp;&amp; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566             <strong class="reserved">return</strong> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L567" name="L567"></a> 567         <em class="brace">}</em>
<a id="L568" name="L568"></a> 568         <strong class="reserved">return</strong> (<strong class="reserved">char</strong>)0;
<a id="L569" name="L569"></a> 569     <em class="brace">}</em>
<a id="L570" name="L570"></a> 570 
<div class="comment">
      Returns true if the character at offset is navigable too. This
      is implemented in terms of <code>isLiteral</code>, subclasses
      may wish to provide different behavior.</div>
<a id="L576" name="L576"></a> 576     <strong class="reserved">boolean</strong> <a href="../R/21771.html" title="Multiple referred from 3 places.">isNavigatable</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L577" name="L577"></a> 577         <strong class="reserved">return</strong> !<a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L578" name="L578"></a> 578     <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<div class="comment">
      Overriden to update the mask after invoking supers implementation.</div>
<a id="L583" name="L583"></a> 583     <strong class="reserved">void</strong> <a href="../R/29985.html" title="Multiple referred from 5 places.">updateValue</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584         <strong class="reserved">super</strong>.<a href="../D/36242.html" title="Multiple defined in 3 places.">updateValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L585" name="L585"></a> 585         <a href="../S/3251.html#L487" title="Defined at 487 in src/javax/swing/text/InternationalFormatter.java.">updateMaskIfNecessary</a>();
<a id="L586" name="L586"></a> 586     <em class="brace">}</em>
<a id="L587" name="L587"></a> 587 
<div class="comment">
      Overriden to unconditionally allow the replace if
      ignoreDocumentMutate is true.</div>
<a id="L592" name="L592"></a> 592     <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> fb, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>,
<a id="L593" name="L593"></a> 593                      <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L594" name="L594"></a> 594                      <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L595" name="L595"></a> 595         <strong class="reserved">if</strong> (ignoreDocumentMutate) <em class="brace">{</em>
<a id="L596" name="L596"></a> 596             fb.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrs);
<a id="L597" name="L597"></a> 597             <strong class="reserved">return</strong>;
<a id="L598" name="L598"></a> 598         <em class="brace">}</em>
<a id="L599" name="L599"></a> 599         <strong class="reserved">super</strong>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(fb, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrs);
<a id="L600" name="L600"></a> 600     <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<div class="comment">
      Returns the index of the next non-literal character starting at
      index. If index is not a literal, it will be returned.
      @param direction Amount to increment looking for non-literal</div>
<a id="L608" name="L608"></a> 608     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/17936.html" title="Multiple referred from 3 places.">getNextNonliteralIndex</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609         <strong class="reserved">int</strong> <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a> = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L610" name="L610"></a> 610 
<a id="L611" name="L611"></a> 611         <strong class="reserved">while</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0 &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612             <strong class="reserved">if</strong> (<a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += direction;
<a id="L614" name="L614"></a> 614             <em class="brace">}</em>
<a id="L615" name="L615"></a> 615             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L616" name="L616"></a> 616                 <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L617" name="L617"></a> 617             <em class="brace">}</em>
<a id="L618" name="L618"></a> 618         <em class="brace">}</em>
<a id="L619" name="L619"></a> 619         <strong class="reserved">return</strong> (direction == -1) ? 0 : <a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>;
<a id="L620" name="L620"></a> 620     <em class="brace">}</em>
<a id="L621" name="L621"></a> 621 
<div class="comment">
      Overriden in an attempt to honor the literals.
      <p>If we do not allow invalid values and are in overwrite mode, this
      <code>rh.length</code> is corrected as to preserve trailing literals.
      If not in overwrite mode, and there is text to insert it is
      inserted at the next non literal index going forward.  If there
      is only text to remove, it is removed from the next non literal
      index going backward.</p></div>
<a id="L631" name="L631"></a> 631     <strong class="reserved">boolean</strong> <a href="../R/10900.html" title="Multiple referred from 3 places.">canReplace</a>(<a href="../S/3327.html#L647" title="Defined at 647 in src/javax/swing/text/DefaultFormatter.java.">ReplaceHolder</a> rh) <em class="brace">{</em>
<a id="L632" name="L632"></a> 632         <strong class="reserved">if</strong> (!<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>()) <em class="brace">{</em>
<a id="L633" name="L633"></a> 633             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L634" name="L634"></a> 634             <strong class="reserved">int</strong> tl = (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) ? <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() : 0;
<a id="L635" name="L635"></a> 635             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>();
<a id="L636" name="L636"></a> 636 
<a id="L637" name="L637"></a> 637             <strong class="reserved">if</strong> (tl == 0 &amp;&amp; rh.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1 &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>() != rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                 <em class="comment">// Backspace, adjust to actually delete next non-literal.</em>
<a id="L639" name="L639"></a> 639                 rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/3251.html#L608" title="Defined at 608 in src/javax/swing/text/InternationalFormatter.java.">getNextNonliteralIndex</a>(rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, -1);
<a id="L640" name="L640"></a> 640             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/3327.html#L173" title="Defined at 173 in src/javax/swing/text/DefaultFormatter.java.">getOverwriteMode</a>()) <em class="brace">{</em>
<a id="L641" name="L641"></a> 641                 <strong class="reserved">int</strong> pos = rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L642" name="L642"></a> 642                 <strong class="reserved">int</strong> textPos = pos;
<a id="L643" name="L643"></a> 643                 <strong class="reserved">boolean</strong> overflown = <strong class="reserved">false</strong>;
<a id="L644" name="L644"></a> 644 
<a id="L645" name="L645"></a> 645                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; rh.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                     <strong class="reserved">while</strong> (<a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(pos)) pos++;
<a id="L647" name="L647"></a> 647                     <strong class="reserved">if</strong> (pos &gt;= <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L648" name="L648"></a> 648                         pos = textPos;
<a id="L649" name="L649"></a> 649                         overflown = <strong class="reserved">true</strong>;
<a id="L650" name="L650"></a> 650                         <strong class="reserved">break</strong>;
<a id="L651" name="L651"></a> 651                     <em class="brace">}</em>
<a id="L652" name="L652"></a> 652                     textPos = ++pos;
<a id="L653" name="L653"></a> 653                 <em class="brace">}</em>
<a id="L654" name="L654"></a> 654                 <strong class="reserved">if</strong> (overflown || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22360.html" title="Multiple defined in 12 places.">getSelectedText</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655                     rh.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = pos - rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L656" name="L656"></a> 656                 <em class="brace">}</em>
<a id="L657" name="L657"></a> 657             <em class="brace">}</em>
<a id="L658" name="L658"></a> 658             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (tl &gt; 0) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659                 <em class="comment">// insert (or insert and remove)</em>
<a id="L660" name="L660"></a> 660                 rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/3251.html#L608" title="Defined at 608 in src/javax/swing/text/InternationalFormatter.java.">getNextNonliteralIndex</a>(rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, 1);
<a id="L661" name="L661"></a> 661             <em class="brace">}</em>
<a id="L662" name="L662"></a> 662             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L663" name="L663"></a> 663                 <em class="comment">// remove only</em>
<a id="L664" name="L664"></a> 664                 rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/3251.html#L608" title="Defined at 608 in src/javax/swing/text/InternationalFormatter.java.">getNextNonliteralIndex</a>(rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, -1);
<a id="L665" name="L665"></a> 665             <em class="brace">}</em>
<a id="L666" name="L666"></a> 666             ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endOffset = rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L667" name="L667"></a> 667             ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endTextLength = (rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) ?
<a id="L668" name="L668"></a> 668                                                     rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() : 0;
<a id="L669" name="L669"></a> 669         <em class="brace">}</em>
<a id="L670" name="L670"></a> 670         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L671" name="L671"></a> 671             ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endOffset = rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L672" name="L672"></a> 672             ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endTextLength = (rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) ?
<a id="L673" name="L673"></a> 673                                                     rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() : 0;
<a id="L674" name="L674"></a> 674         <em class="brace">}</em>
<a id="L675" name="L675"></a> 675         <strong class="reserved">boolean</strong> can = <strong class="reserved">super</strong>.<a href="../D/12163.html" title="Multiple defined in 3 places.">canReplace</a>(rh);
<a id="L676" name="L676"></a> 676         <strong class="reserved">if</strong> (can &amp;&amp; !<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>()) <em class="brace">{</em>
<a id="L677" name="L677"></a> 677             ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).<a href="../S/3251.html#L978" title="Defined at 978 in src/javax/swing/text/InternationalFormatter.java.">resetFromValue</a>(<strong class="reserved">this</strong>);
<a id="L678" name="L678"></a> 678         <em class="brace">}</em>
<a id="L679" name="L679"></a> 679         <strong class="reserved">return</strong> can;
<a id="L680" name="L680"></a> 680     <em class="brace">}</em>
<a id="L681" name="L681"></a> 681 
<div class="comment">
      When in !allowsInvalid mode the text is reset on every edit, thus
      supers implementation will position the cursor at the wrong position.
      As such, this invokes supers implementation and then invokes
      <code>repositionCursor</code> to correctly reset the cursor.</div>
<a id="L688" name="L688"></a> 688     <strong class="reserved">boolean</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<a href="../S/3327.html#L647" title="Defined at 647 in src/javax/swing/text/DefaultFormatter.java.">ReplaceHolder</a> rh) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L689" name="L689"></a> 689         <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = -1;
<a id="L690" name="L690"></a> 690         <strong class="reserved">int</strong> direction = 1;
<a id="L691" name="L691"></a> 691         <strong class="reserved">int</strong> literalCount = -1;
<a id="L692" name="L692"></a> 692 
<a id="L693" name="L693"></a> 693         <strong class="reserved">if</strong> (rh.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0 &amp;&amp; (rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> == <strong class="reserved">null</strong> || rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) &amp;&amp;
<a id="L694" name="L694"></a> 694                (<a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>() != rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> ||
<a id="L695" name="L695"></a> 695                    rh.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 1)) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696             direction = -1;
<a id="L697" name="L697"></a> 697         <em class="brace">}</em>
<a id="L698" name="L698"></a> 698         <strong class="reserved">if</strong> (!<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>()) <em class="brace">{</em>
<a id="L699" name="L699"></a> 699             <strong class="reserved">if</strong> ((rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> == <strong class="reserved">null</strong> || rh.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) &amp;&amp; rh.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L700" name="L700"></a> 700                 <em class="comment">// remove</em>
<a id="L701" name="L701"></a> 701                 <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>();
<a id="L702" name="L702"></a> 702             <em class="brace">}</em>
<a id="L703" name="L703"></a> 703             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L704" name="L704"></a> 704                 <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = rh.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L705" name="L705"></a> 705             <em class="brace">}</em>
<a id="L706" name="L706"></a> 706             literalCount = <a href="../S/3251.html#L539" title="Defined at 539 in src/javax/swing/text/InternationalFormatter.java.">getLiteralCountTo</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L707" name="L707"></a> 707         <em class="brace">}</em>
<a id="L708" name="L708"></a> 708         <strong class="reserved">if</strong> (<strong class="reserved">super</strong>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(rh)) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709             <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> != -1) <em class="brace">{</em>
<a id="L710" name="L710"></a> 710                 <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endOffset;
<a id="L711" name="L711"></a> 711 
<a id="L712" name="L712"></a> 712                 <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> += ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endTextLength;
<a id="L713" name="L713"></a> 713                 <a href="../D/31108.html" title="Multiple defined in 2 places.">repositionCursor</a>(literalCount, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, direction);
<a id="L714" name="L714"></a> 714             <em class="brace">}</em>
<a id="L715" name="L715"></a> 715             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L716" name="L716"></a> 716                 <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endOffset;
<a id="L717" name="L717"></a> 717                 <strong class="reserved">if</strong> (direction == 1) <em class="brace">{</em>
<a id="L718" name="L718"></a> 718                     <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> += ((<a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>)rh).endTextLength;
<a id="L719" name="L719"></a> 719                 <em class="brace">}</em>
<a id="L720" name="L720"></a> 720                 <a href="../D/31108.html" title="Multiple defined in 2 places.">repositionCursor</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, direction);
<a id="L721" name="L721"></a> 721             <em class="brace">}</em>
<a id="L722" name="L722"></a> 722             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L723" name="L723"></a> 723         <em class="brace">}</em>
<a id="L724" name="L724"></a> 724         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L725" name="L725"></a> 725     <em class="brace">}</em>
<a id="L726" name="L726"></a> 726 
<div class="comment">
      Repositions the cursor. <code>startLiteralCount</code> gives
      the number of literals to the start of the deleted range, end
      gives the ending location to adjust from, direction gives
      the direction relative to <code>end</code> to position the
      cursor from.</div>
<a id="L734" name="L734"></a> 734     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26205.html" title="Multiple referred from 5 places.">repositionCursor</a>(<strong class="reserved">int</strong> startLiteralCount, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>,
<a id="L735" name="L735"></a> 735                                   <strong class="reserved">int</strong> direction)  <em class="brace">{</em>
<a id="L736" name="L736"></a> 736         <strong class="reserved">int</strong> endLiteralCount = <a href="../S/3251.html#L539" title="Defined at 539 in src/javax/swing/text/InternationalFormatter.java.">getLiteralCountTo</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L737" name="L737"></a> 737 
<a id="L738" name="L738"></a> 738         <strong class="reserved">if</strong> (endLiteralCount != <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739             <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> -= startLiteralCount;
<a id="L740" name="L740"></a> 740             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; counter++) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741                 <strong class="reserved">if</strong> (<a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(counter)) <em class="brace">{</em>
<a id="L742" name="L742"></a> 742                     <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>++;
<a id="L743" name="L743"></a> 743                 <em class="brace">}</em>
<a id="L744" name="L744"></a> 744             <em class="brace">}</em>
<a id="L745" name="L745"></a> 745         <em class="brace">}</em>
<a id="L746" name="L746"></a> 746         <a href="../D/31108.html" title="Multiple defined in 2 places.">repositionCursor</a>(<div class="comment">
 /*direction*/</div>);
<a id="L747" name="L747"></a> 747     <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<div class="comment">
      Returns the character from the mask that has been buffered
      at <code>index</code>.</div>
<a id="L753" name="L753"></a> 753     <strong class="reserved">char</strong> <a href="../S/3265.html#L309" title="Referred from 309 in src/javax/swing/text/NumberFormatter.java.">getBufferedChar</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L754" name="L754"></a> 754         <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L755" name="L755"></a> 755             <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L756" name="L756"></a> 756                 <strong class="reserved">return</strong> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L757" name="L757"></a> 757             <em class="brace">}</em>
<a id="L758" name="L758"></a> 758         <em class="brace">}</em>
<a id="L759" name="L759"></a> 759         <strong class="reserved">return</strong> (<strong class="reserved">char</strong>)0;
<a id="L760" name="L760"></a> 760     <em class="brace">}</em>
<a id="L761" name="L761"></a> 761 
<div class="comment">
      Returns true if the current mask is valid.</div>
<a id="L765" name="L765"></a> 765     <strong class="reserved">boolean</strong> <a href="../R/22181.html" title="Multiple referred from 9 places.">isValidMask</a>() <em class="brace">{</em>
<a id="L766" name="L766"></a> 766         <strong class="reserved">return</strong> validMask;
<a id="L767" name="L767"></a> 767     <em class="brace">}</em>
<a id="L768" name="L768"></a> 768 
<div class="comment">
      Returns true if <code>attributes</code> is null or empty.</div>
<a id="L772" name="L772"></a> 772     <strong class="reserved">boolean</strong> <a href="../R/21677.html" title="Multiple referred from 18 places.">isLiteral</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773         <strong class="reserved">return</strong> ((<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>) || <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0);
<a id="L774" name="L774"></a> 774     <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<div class="comment">
      Updates the interal bitset from <code>iterator</code>. This will
      set <code>validMask</code> to true if <code>iterator</code> is
      non-null.</div>
<a id="L781" name="L781"></a> 781     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29914.html" title="Multiple referred from 6 places.">updateMask</a>(<a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782         <strong class="reserved">if</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783             validMask = <strong class="reserved">true</strong>;
<a id="L784" name="L784"></a> 784             <strong class="reserved">this</strong>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>;
<a id="L785" name="L785"></a> 785 
<a id="L786" name="L786"></a> 786             <em class="comment">// Update the literal mask</em>
<a id="L787" name="L787"></a> 787             <strong class="reserved">if</strong> (literalMask == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L788" name="L788"></a> 788                 literalMask = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>();
<a id="L789" name="L789"></a> 789             <em class="brace">}</em>
<a id="L790" name="L790"></a> 790             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L791" name="L791"></a> 791                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = literalMask.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1; counter &gt;= 0;
<a id="L792" name="L792"></a> 792                      counter--) <em class="brace">{</em>
<a id="L793" name="L793"></a> 793                     literalMask.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>(counter);
<a id="L794" name="L794"></a> 794                 <em class="brace">}</em>
<a id="L795" name="L795"></a> 795             <em class="brace">}</em>
<a id="L796" name="L796"></a> 796 
<a id="L797" name="L797"></a> 797             <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L798" name="L798"></a> 798             <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE) <em class="brace">{</em>
<a id="L799" name="L799"></a> 799                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L800" name="L800"></a> 800                 <strong class="reserved">boolean</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <a href="../D/25814.html" title="Multiple defined in 7 places.">isLiteral</a>(<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L801" name="L801"></a> 801                 <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L802" name="L802"></a> 802                 <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/22192.html" title="Multiple defined in 11 places.">getRunLimit</a>();
<a id="L803" name="L803"></a> 803 
<a id="L804" name="L804"></a> 804                 <strong class="reserved">while</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L805" name="L805"></a> 805                     <strong class="reserved">if</strong> (<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L806" name="L806"></a> 806                         literalMask.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L807" name="L807"></a> 807                     <em class="brace">}</em>
<a id="L808" name="L808"></a> 808                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L809" name="L809"></a> 809                         literalMask.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L810" name="L810"></a> 810                     <em class="brace">}</em>
<a id="L811" name="L811"></a> 811                     <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>++;
<a id="L812" name="L812"></a> 812                 <em class="brace">}</em>
<a id="L813" name="L813"></a> 813                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L814" name="L814"></a> 814             <em class="brace">}</em>
<a id="L815" name="L815"></a> 815         <em class="brace">}</em>
<a id="L816" name="L816"></a> 816     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<div class="comment">
      Returns true if <code>field</code> is non-null.
      Subclasses that wish to allow incrementing to happen outside of
      the known fields will need to override this.</div>
<a id="L823" name="L823"></a> 823     <strong class="reserved">boolean</strong> <a href="../S/3251.html#L1028" title="Referred from 1028 in src/javax/swing/text/InternationalFormatter.java.">canIncrement</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> field, <strong class="reserved">int</strong> cursorPosition) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824         <strong class="reserved">return</strong> (field != <strong class="reserved">null</strong>);
<a id="L825" name="L825"></a> 825     <em class="brace">}</em>
<a id="L826" name="L826"></a> 826 
<div class="comment">
      Selects the fields identified by <code>attributes</code>.</div>
<a id="L830" name="L830"></a> 830     <strong class="reserved">void</strong> <a href="../S/3251.html#L1042" title="Referred from 1042 in src/javax/swing/text/InternationalFormatter.java.">selectField</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> f, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831         <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L832" name="L832"></a> 832 
<a id="L833" name="L833"></a> 833         <strong class="reserved">if</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L834" name="L834"></a> 834                         (f <strong class="reserved">instanceof</strong> <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>)) <em class="brace">{</em>
<a id="L835" name="L835"></a> 835             <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a> field =
<a id="L836" name="L836"></a> 836                                    (<a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>)f;
<a id="L837" name="L837"></a> 837 
<a id="L838" name="L838"></a> 838             <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L839" name="L839"></a> 839             <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840                 <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(field) == <strong class="reserved">null</strong> &amp;&amp;
<a id="L841" name="L841"></a> 841                        <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE);
<a id="L842" name="L842"></a> 842                 <strong class="reserved">if</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE) <em class="brace">{</em>
<a id="L843" name="L843"></a> 843                     <strong class="reserved">int</strong> <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/22192.html" title="Multiple defined in 11 places.">getRunLimit</a>(field);
<a id="L844" name="L844"></a> 844 
<a id="L845" name="L845"></a> 845                     <strong class="reserved">if</strong> (--<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt;= 0) <em class="brace">{</em>
<a id="L846" name="L846"></a> 846                         <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/31672.html" title="Multiple defined in 17 places.">select</a>(<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>(),
<a id="L847" name="L847"></a> 847                                                        <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L848" name="L848"></a> 848                         <strong class="reserved">break</strong>;
<a id="L849" name="L849"></a> 849                     <em class="brace">}</em>
<a id="L850" name="L850"></a> 850                     <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L851" name="L851"></a> 851                     <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L852" name="L852"></a> 852                 <em class="brace">}</em>
<a id="L853" name="L853"></a> 853             <em class="brace">}</em>
<a id="L854" name="L854"></a> 854         <em class="brace">}</em>
<a id="L855" name="L855"></a> 855     <em class="brace">}</em>
<a id="L856" name="L856"></a> 856 
<div class="comment">
      Returns the field that will be adjusted by adjustValue.</div>
<a id="L860" name="L860"></a> 860     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/3251.html#L1026" title="Referred from 1026 in src/javax/swing/text/InternationalFormatter.java.">getAdjustField</a>(<strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L861" name="L861"></a> 861         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L862" name="L862"></a> 862     <em class="brace">}</em>
<a id="L863" name="L863"></a> 863 
<div class="comment">
      Returns the number of occurrences of <code>f</code> before
      the location <code>start</code> in the current
      <code>AttributedCharacterIterator</code>.</div>
<a id="L869" name="L869"></a> 869     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/3251.html#L1032" title="Referred from 1032 in src/javax/swing/text/InternationalFormatter.java.">getFieldTypeCountTo</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> f, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) <em class="brace">{</em>
<a id="L870" name="L870"></a> 870         <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L871" name="L871"></a> 871         <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = 0;
<a id="L872" name="L872"></a> 872 
<a id="L873" name="L873"></a> 873         <strong class="reserved">if</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> != <strong class="reserved">null</strong> &amp;&amp;
<a id="L874" name="L874"></a> 874                     (f <strong class="reserved">instanceof</strong> <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>)) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875             <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a> field =
<a id="L876" name="L876"></a> 876                                    (<a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>)f;
<a id="L877" name="L877"></a> 877 
<a id="L878" name="L878"></a> 878             <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L879" name="L879"></a> 879             <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>() &lt; <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) <em class="brace">{</em>
<a id="L880" name="L880"></a> 880                 <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(field) == <strong class="reserved">null</strong> &amp;&amp;
<a id="L881" name="L881"></a> 881                        <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE);
<a id="L882" name="L882"></a> 882                 <strong class="reserved">if</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE) <em class="brace">{</em>
<a id="L883" name="L883"></a> 883                     <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/22192.html" title="Multiple defined in 11 places.">getRunLimit</a>(field));
<a id="L884" name="L884"></a> 884                     <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L885" name="L885"></a> 885                     <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++;
<a id="L886" name="L886"></a> 886                 <em class="brace">}</em>
<a id="L887" name="L887"></a> 887                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L888" name="L888"></a> 888                     <strong class="reserved">break</strong>;
<a id="L889" name="L889"></a> 889                 <em class="brace">}</em>
<a id="L890" name="L890"></a> 890             <em class="brace">}</em>
<a id="L891" name="L891"></a> 891         <em class="brace">}</em>
<a id="L892" name="L892"></a> 892         <strong class="reserved">return</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L893" name="L893"></a> 893     <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<div class="comment">
      Subclasses supporting incrementing must override this to handle
      the actual incrementing. <code>value</code> is the current value,
      <code>attributes</code> gives the field the cursor is in (may be
      null depending upon <code>canIncrement</code>) and
      <code>direction</code> is the amount to increment by.</div>
<a id="L902" name="L902"></a> 902     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/3251.html#L1035" title="Referred from 1035 in src/javax/swing/text/InternationalFormatter.java.">adjustValue</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> field,
<a id="L903" name="L903"></a> 903                            <strong class="reserved">int</strong> direction) <strong class="reserved">throws</strong>
<a id="L904" name="L904"></a> 904                       <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L905" name="L905"></a> 905         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L906" name="L906"></a> 906     <em class="brace">}</em>
<a id="L907" name="L907"></a> 907 
<div class="comment">
      Returns false, indicating InternationalFormatter does not allow
      incrementing of the value. Subclasses that wish to support
      incrementing/decrementing the value should override this and
      return true. Subclasses should also override
      <code>adjustValue</code>.</div>
<a id="L915" name="L915"></a> 915     <strong class="reserved">boolean</strong> <a href="../S/3251.html#L387" title="Referred from 387 in src/javax/swing/text/InternationalFormatter.java.">getSupportsIncrement</a>() <em class="brace">{</em>
<a id="L916" name="L916"></a> 916         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L917" name="L917"></a> 917     <em class="brace">}</em>
<a id="L918" name="L918"></a> 918 
<div class="comment">
      Resets the value of the JFormattedTextField to be
      <code>value</code>.</div>
<a id="L923" name="L923"></a> 923     <strong class="reserved">void</strong> <a href="../R/26303.html" title="Multiple referred from 8 places.">resetValue</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> <em class="brace">{</em>
<a id="L924" name="L924"></a> 924         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L925" name="L925"></a> 925         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../D/36376.html" title="Multiple defined in 6 places.">valueToString</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L926" name="L926"></a> 926 
<a id="L927" name="L927"></a> 927         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L928" name="L928"></a> 928             ignoreDocumentMutate = <strong class="reserved">true</strong>;
<a id="L929" name="L929"></a> 929             doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L930" name="L930"></a> 930             doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(0, <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>, <strong class="reserved">null</strong>);
<a id="L931" name="L931"></a> 931         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L932" name="L932"></a> 932             ignoreDocumentMutate = <strong class="reserved">false</strong>;
<a id="L933" name="L933"></a> 933         <em class="brace">}</em>
<a id="L934" name="L934"></a> 934         <a href="../D/36242.html" title="Multiple defined in 3 places.">updateValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L935" name="L935"></a> 935     <em class="brace">}</em>
<a id="L936" name="L936"></a> 936 
<div class="comment">
      Subclassed to update the internal representation of the mask after
      the default read operation has completed.</div>
<a id="L941" name="L941"></a> 941     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L942" name="L942"></a> 942         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L943" name="L943"></a> 943         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L944" name="L944"></a> 944         <a href="../S/3251.html#L487" title="Defined at 487 in src/javax/swing/text/InternationalFormatter.java.">updateMaskIfNecessary</a>();
<a id="L945" name="L945"></a> 945     <em class="brace">}</em>
<a id="L946" name="L946"></a> 946 
<a id="L947" name="L947"></a> 947 
<div class="comment">
      Overriden to return an instance of <code>ExtendedReplaceHolder</code>.</div>
<a id="L951" name="L951"></a> 951     <a href="../S/3327.html#L647" title="Defined at 647 in src/javax/swing/text/DefaultFormatter.java.">ReplaceHolder</a> <a href="../R/18676.html" title="Multiple referred from 2 places.">getReplaceHolder</a>(<a href="../S/3353.html#L62" title="Defined at 62 in src/javax/swing/text/DocumentFilter.java.">DocumentFilter</a>.<a href="../D/3245.html" title="Multiple defined in 2 places.">FilterBypass</a> fb, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>,
<a id="L952" name="L952"></a> 952                                    <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>,
<a id="L953" name="L953"></a> 953                                    <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs) <em class="brace">{</em>
<a id="L954" name="L954"></a> 954         <strong class="reserved">if</strong> (replaceHolder == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L955" name="L955"></a> 955             replaceHolder = <strong class="reserved">new</strong> <a href="../S/3251.html#L966" title="Defined at 966 in src/javax/swing/text/InternationalFormatter.java.">ExtendedReplaceHolder</a>();
<a id="L956" name="L956"></a> 956         <em class="brace">}</em>
<a id="L957" name="L957"></a> 957         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/21983.html" title="Multiple defined in 2 places.">getReplaceHolder</a>(fb, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrs);
<a id="L958" name="L958"></a> 958     <em class="brace">}</em>
<a id="L959" name="L959"></a> 959 
<a id="L960" name="L960"></a> 960 
<div class="comment">
      As InternationalFormatter replaces the complete text on every edit,
      ExtendedReplaceHolder keeps track of the offset and length passed
      into canReplace.</div>
<a id="L966" name="L966"></a> 966     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/2807.html" title="Multiple referred from 10 places.">ExtendedReplaceHolder</a> <strong class="reserved">extends</strong> <a href="../S/3327.html#L647" title="Defined at 647 in src/javax/swing/text/DefaultFormatter.java.">ReplaceHolder</a> <em class="brace">{</em>
<div class="comment">
 Offset of the insert/remove. This may differ from offset in
         * that if !allowsInvalid the text is replaced on every edit. </div>
<a id="L969" name="L969"></a> 969         <strong class="reserved">int</strong> endOffset;
<div class="comment">
 Length of the text. This may differ from text.length in
         * that if !allowsInvalid the text is replaced on every edit. </div>
<a id="L972" name="L972"></a> 972         <strong class="reserved">int</strong> endTextLength;
<a id="L973" name="L973"></a> 973 
<div class="comment">
          Resets the region to delete to be the complete document and
          the text from invoking valueToString on the current value.</div>
<a id="L978" name="L978"></a> 978         <strong class="reserved">void</strong> <a href="../S/3251.html#L677" title="Referred from 677 in src/javax/swing/text/InternationalFormatter.java.">resetFromValue</a>(<a href="../S/3251.html#L95" title="Defined at 95 in src/javax/swing/text/InternationalFormatter.java.">InternationalFormatter</a> <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>) <em class="brace">{</em>
<a id="L979" name="L979"></a> 979             <em class="comment">// Need to reset the complete string as Format's result can</em>
<a id="L980" name="L980"></a> 980             <em class="comment">// be completely different.</em>
<a id="L981" name="L981"></a> 981             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 0;
<a id="L982" name="L982"></a> 982             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L983" name="L983"></a> 983                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/1537.html#L4367" title="Defined at 4367 in src/java/time/format/DateTimeFormatterBuilder.java.">formatter</a>.<a href="../D/36376.html" title="Multiple defined in 6 places.">valueToString</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L984" name="L984"></a> 984             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> pe) <em class="brace">{</em>
<a id="L985" name="L985"></a> 985                 <em class="comment">// Should never happen, otherwise canReplace would have</em>
<a id="L986" name="L986"></a> 986                 <em class="comment">// returned value.</em>
<a id="L987" name="L987"></a> 987                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = "";
<a id="L988" name="L988"></a> 988             <em class="brace">}</em>
<a id="L989" name="L989"></a> 989             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = fb.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L990" name="L990"></a> 990         <em class="brace">}</em>
<a id="L991" name="L991"></a> 991     <em class="brace">}</em>
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993 
<div class="comment">
      IncrementAction is used to increment the value by a certain amount.
      It calls into <code>adjustValue</code> to handle the actual
      incrementing of the value.</div>
<a id="L999" name="L999"></a> 999     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/3767.html" title="Multiple referred from 2 places.">IncrementAction</a> <strong class="reserved">extends</strong> <a href="../S/3224.html#L59" title="Defined at 59 in src/javax/swing/AbstractAction.java.">AbstractAction</a> <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">private</strong> <strong class="reserved">int</strong> direction;
<a id="L1001" name="L1001"></a>1001 
<a id="L1002" name="L1002"></a>1002         IncrementAction(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003             <strong class="reserved">super</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1004" name="L1004"></a>1004             <strong class="reserved">this</strong>.direction = direction;
<a id="L1005" name="L1005"></a>1005         <em class="brace">}</em>
<a id="L1006" name="L1006"></a>1006 
<a id="L1007" name="L1007"></a>1007         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9558.html" title="Multiple referred from 49 places.">actionPerformed</a>(<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> ae) <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008 
<a id="L1009" name="L1009"></a>1009             <strong class="reserved">if</strong> (<a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) <em class="brace">{</em>
<a id="L1010" name="L1010"></a>1010                 <strong class="reserved">if</strong> (<a href="../S/3327.html#L197" title="Defined at 197 in src/javax/swing/text/DefaultFormatter.java.">getAllowsInvalid</a>()) <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011                     <em class="comment">// This will work if the currently edited value is valid.</em>
<a id="L1012" name="L1012"></a>1012                     <a href="../D/36158.html" title="Multiple defined in 2 places.">updateMask</a>();
<a id="L1013" name="L1013"></a>1013                 <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014 
<a id="L1015" name="L1015"></a>1015                 <strong class="reserved">boolean</strong> validEdit = <strong class="reserved">false</strong>;
<a id="L1016" name="L1016"></a>1016 
<a id="L1017" name="L1017"></a>1017                 <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                     <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>();
<a id="L1019" name="L1019"></a>1019 
<a id="L1020" name="L1020"></a>1020                     <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> != -1) <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021                         <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L1022" name="L1022"></a>1022 
<a id="L1023" name="L1023"></a>1023                         <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L1024" name="L1024"></a>1024 
<a id="L1025" name="L1025"></a>1025                         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1026" name="L1026"></a>1026                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> field = <a href="../D/16830.html" title="Multiple defined in 2 places.">getAdjustField</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L1027" name="L1027"></a>1027 
<a id="L1028" name="L1028"></a>1028                         <strong class="reserved">if</strong> (<a href="../S/3251.html#L823" title="Defined at 823 in src/javax/swing/text/InternationalFormatter.java.">canIncrement</a>(field, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>)) <em class="brace">{</em>
<a id="L1029" name="L1029"></a>1029                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030                                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/34943.html" title="Multiple defined in 9 places.">stringToValue</a>(
<a id="L1031" name="L1031"></a>1031                                         <a href="../S/3126.html#L1001" title="Defined at 1001 in src/javax/swing/JFormattedTextField.java.">getFormattedTextField</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>());
<a id="L1032" name="L1032"></a>1032                                 <strong class="reserved">int</strong> fieldTypeCount = <a href="../S/3251.html#L869" title="Defined at 869 in src/javax/swing/text/InternationalFormatter.java.">getFieldTypeCountTo</a>(
<a id="L1033" name="L1033"></a>1033                                         field, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L1034" name="L1034"></a>1034 
<a id="L1035" name="L1035"></a>1035                                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/11243.html" title="Multiple defined in 2 places.">adjustValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>,
<a id="L1036" name="L1036"></a>1036                                         field, direction);
<a id="L1037" name="L1037"></a>1037                                 <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/26468.html" title="Multiple defined in 4 places.">isValidValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">false</strong>)) <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038                                     <a href="../S/3251.html#L923" title="Defined at 923 in src/javax/swing/text/InternationalFormatter.java.">resetValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1039" name="L1039"></a>1039                                     <a href="../D/36158.html" title="Multiple defined in 2 places.">updateMask</a>();
<a id="L1040" name="L1040"></a>1040 
<a id="L1041" name="L1041"></a>1041                                     <strong class="reserved">if</strong> (<a href="../S/3251.html#L765" title="Defined at 765 in src/javax/swing/text/InternationalFormatter.java.">isValidMask</a>()) <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042                                         <a href="../S/3251.html#L830" title="Defined at 830 in src/javax/swing/text/InternationalFormatter.java.">selectField</a>(field, fieldTypeCount);
<a id="L1043" name="L1043"></a>1043                                     <em class="brace">}</em>
<a id="L1044" name="L1044"></a>1044                                     validEdit = <strong class="reserved">true</strong>;
<a id="L1045" name="L1045"></a>1045                                 <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046                             <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047                             <strong class="reserved">catch</strong> (<a href="../D/6624.html" title="Multiple defined in 3 places.">ParseException</a> pe) <em class="brace">{</em> <em class="brace">}</em>
<a id="L1048" name="L1048"></a>1048                             <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em> <em class="brace">}</em>
<a id="L1049" name="L1049"></a>1049                         <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050                     <em class="brace">}</em>
<a id="L1051" name="L1051"></a>1051                 <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052                 <strong class="reserved">if</strong> (!validEdit) <em class="brace">{</em>
<a id="L1053" name="L1053"></a>1053                     <a href="../D/24999.html" title="Multiple defined in 2 places.">invalidEdit</a>();
<a id="L1054" name="L1054"></a>1054                 <em class="brace">}</em>
<a id="L1055" name="L1055"></a>1055             <em class="brace">}</em>
<a id="L1056" name="L1056"></a>1056         <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057     <em class="brace">}</em>
<a id="L1058" name="L1058"></a>1058 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L190">[^]</a><a href="#L1007">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>