<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L72">[^]</a><a href="#L394">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L72" title="Defined at 72.">getUnrenderedNodes</a></li>
<li><a href="#L93" title="Defined at 93.">outputNodePush</a></li>
<li><a href="#L100" title="Defined at 100.">outputNodePop</a></li>
<li><a href="#L108" title="Defined at 108.">push</a></li>
<li><a href="#L118" title="Defined at 118.">pop</a></li>
<li><a href="#L133" title="Defined at 133.">needsClone</a></li>
<li><a href="#L148" title="Defined at 148.">getMapping</a></li>
<li><a href="#L174" title="Defined at 174.">getMappingWithoutRendered</a></li>
<li><a href="#L192" title="Defined at 192.">addMapping</a></li>
<li><a href="#L222" title="Defined at 222.">addMappingAndRender</a></li>
<li><a href="#L248" title="Defined at 248.">getLevel</a></li>
<li><a href="#L252" title="Defined at 252.">removeMapping</a></li>
<li><a href="#L261" title="Defined at 261.">removeMappingIfNotRender</a></li>
<li><a href="#L270" title="Defined at 270.">removeMappingIfRender</a></li>
<li><a href="#L308" title="Defined at 308.">clone</a></li>
<li><a href="#L327" title="Defined at 327.">put</a></li>
<li><a href="#L339" title="Defined at 339.">entrySet</a></li>
<li><a href="#L349" title="Defined at 349.">index</a></li>
<li><a href="#L372" title="Defined at 372.">rehash</a></li>
<li><a href="#L390" title="Defined at 390.">get</a></li>
<li><a href="#L394" title="Defined at 394.">clone</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements. See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership. The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License. You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied. See the License for the
  specific language governing permissions and limitations
  under the License.</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.security.c14n.<a href="../D/24375.html" title="Multiple defined in 2 places.">implementations</a>;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.util.Collection;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.List;
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  A stack based Symbol Table.
 <br>For speed reasons all the symbols are introduced in the same map,
  and at the same time in a list so it can be removed when the frame is pop back.
  @author Raul Benito</div>
<a id="L40" name="L40"></a>  40 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/5428.html" title="Multiple referred from 18 places.">NameSpaceSymbTable</a> <em class="brace">{</em>
<a id="L41" name="L41"></a>  41 
<a id="L42" name="L42"></a>  42     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> XMLNS = "xmlns";
<a id="L43" name="L43"></a>  43     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a> initialMap = <strong class="reserved">new</strong> <a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>();
<a id="L44" name="L44"></a>  44 
<a id="L45" name="L45"></a>  45     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L46" name="L46"></a>  46         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ne = <strong class="reserved">new</strong> <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>("", <strong class="reserved">null</strong>, <strong class="reserved">true</strong>, XMLNS);
<a id="L47" name="L47"></a>  47         ne.lastrendered = "";
<a id="L48" name="L48"></a>  48         initialMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(XMLNS, ne);
<a id="L49" name="L49"></a>  49     <em class="brace">}</em>
<a id="L50" name="L50"></a>  50 
<div class="comment">
     /**The map betwen prefix-&gt; entry table. */</div>
<a id="L52" name="L52"></a>  52     <strong class="reserved">private</strong> <a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a> symb;
<a id="L53" name="L53"></a>  53 
<div class="comment">
     /**The stacks for removing the definitions when doing pop.*/</div>
<a id="L55" name="L55"></a>  55     <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>&gt; level;
<a id="L56" name="L56"></a>  56     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> cloned = <strong class="reserved">true</strong>;
<a id="L57" name="L57"></a>  57 
<div class="comment">
      Default constractor
     *</div>
<a id="L61" name="L61"></a>  61     <strong class="reserved">public</strong> NameSpaceSymbTable() <em class="brace">{</em>
<a id="L62" name="L62"></a>  62         level = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>&gt;();
<a id="L63" name="L63"></a>  63         <em class="comment">//Insert the default binding for xmlns.</em>
<a id="L64" name="L64"></a>  64         symb = (<a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>) initialMap.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L65" name="L65"></a>  65     <em class="brace">}</em>
<a id="L66" name="L66"></a>  66 
<div class="comment">
      Get all the unrendered nodes in the name space.
      For Inclusive rendering
      @param result the list where to fill the unrendered xmlns definitions.
     *</div>
<a id="L72" name="L72"></a>  72     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/19691.html" title="Multiple referred from 4 places.">getUnrenderedNodes</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>) <em class="brace">{</em>
<a id="L73" name="L73"></a>  73         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>&gt; it = symb.<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L74" name="L74"></a>  74         <strong class="reserved">while</strong> (it.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L75" name="L75"></a>  75             <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> n = it.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L76" name="L76"></a>  76             <em class="comment">//put them rendered?</em>
<a id="L77" name="L77"></a>  77             <strong class="reserved">if</strong> ((!n.rendered) &amp;&amp; (n.n != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L78" name="L78"></a>  78                 n = (<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>) n.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L79" name="L79"></a>  79                 <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L80" name="L80"></a>  80                 symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(n.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, n);
<a id="L81" name="L81"></a>  81                 n.lastrendered = n.uri;
<a id="L82" name="L82"></a>  82                 n.rendered = <strong class="reserved">true</strong>;
<a id="L83" name="L83"></a>  83 
<a id="L84" name="L84"></a>  84                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(n.n);
<a id="L85" name="L85"></a>  85             <em class="brace">}</em>
<a id="L86" name="L86"></a>  86         <em class="brace">}</em>
<a id="L87" name="L87"></a>  87     <em class="brace">}</em>
<a id="L88" name="L88"></a>  88 
<div class="comment">
      Push a frame for visible namespace.
      For Inclusive rendering.
     *</div>
<a id="L93" name="L93"></a>  93     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24055.html" title="Multiple referred from 4 places.">outputNodePush</a>() <em class="brace">{</em>
<a id="L94" name="L94"></a>  94         <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>();
<a id="L95" name="L95"></a>  95     <em class="brace">}</em>
<a id="L96" name="L96"></a>  96 
<div class="comment">
      Pop a frame for visible namespace.
     *</div>
<a id="L100" name="L100"></a> 100     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24054.html" title="Multiple referred from 4 places.">outputNodePop</a>() <em class="brace">{</em>
<a id="L101" name="L101"></a> 101         <a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L102" name="L102"></a> 102     <em class="brace">}</em>
<a id="L103" name="L103"></a> 103 
<div class="comment">
      Push a frame for a node.
      Inclusive or Exclusive.
     *</div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25256.html" title="Multiple referred from 281 places.">push</a>() <em class="brace">{</em>
<a id="L109" name="L109"></a> 109         <em class="comment">//Put the number of namespace definitions in the stack.</em>
<a id="L110" name="L110"></a> 110         level.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">null</strong>);
<a id="L111" name="L111"></a> 111         cloned = <strong class="reserved">false</strong>;
<a id="L112" name="L112"></a> 112     <em class="brace">}</em>
<a id="L113" name="L113"></a> 113 
<div class="comment">
      Pop a frame.
      Inclusive or Exclusive.
     *</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24804.html" title="Multiple referred from 176 places.">pop</a>() <em class="brace">{</em>
<a id="L119" name="L119"></a> 119         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = level.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1;
<a id="L120" name="L120"></a> 120         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> ob = level.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L121" name="L121"></a> 121         <strong class="reserved">if</strong> (ob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122             symb = (<a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>)ob;
<a id="L123" name="L123"></a> 123             <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> == 0) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124                 cloned = <strong class="reserved">false</strong>;
<a id="L125" name="L125"></a> 125             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L126" name="L126"></a> 126                 cloned = (level.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> - 1) != symb);
<a id="L127" name="L127"></a> 127             <em class="brace">}</em>
<a id="L128" name="L128"></a> 128         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L129" name="L129"></a> 129             cloned = <strong class="reserved">false</strong>;
<a id="L130" name="L130"></a> 130         <em class="brace">}</em>
<a id="L131" name="L131"></a> 131     <em class="brace">}</em>
<a id="L132" name="L132"></a> 132 
<a id="L133" name="L133"></a> 133     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/23498.html" title="Multiple referred from 8 places.">needsClone</a>() <em class="brace">{</em>
<a id="L134" name="L134"></a> 134         <strong class="reserved">if</strong> (!cloned) <em class="brace">{</em>
<a id="L135" name="L135"></a> 135             level.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(level.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1, symb);
<a id="L136" name="L136"></a> 136             symb = (<a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>) symb.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L137" name="L137"></a> 137             cloned = <strong class="reserved">true</strong>;
<a id="L138" name="L138"></a> 138         <em class="brace">}</em>
<a id="L139" name="L139"></a> 139     <em class="brace">}</em>
<a id="L140" name="L140"></a> 140 
<a id="L141" name="L141"></a> 141 
<div class="comment">
      Gets the attribute node that defines the binding for the prefix.
      @param prefix the prefix to obtain the attribute.
      @return null if there is no need to render the prefix. Otherwise the node of
      definition.
     *</div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">public</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../R/17549.html" title="Multiple referred from 16 places.">getMapping</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L149" name="L149"></a> 149         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> entry = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L150" name="L150"></a> 150         <strong class="reserved">if</strong> (entry == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L151" name="L151"></a> 151             <em class="comment">//There is no definition for the prefix(a bug?).</em>
<a id="L152" name="L152"></a> 152             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L153" name="L153"></a> 153         <em class="brace">}</em>
<a id="L154" name="L154"></a> 154         <strong class="reserved">if</strong> (entry.rendered) <em class="brace">{</em>
<a id="L155" name="L155"></a> 155             <em class="comment">//No need to render an entry already rendered.</em>
<a id="L156" name="L156"></a> 156             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L157" name="L157"></a> 157         <em class="brace">}</em>
<a id="L158" name="L158"></a> 158         <em class="comment">// Mark this entry as render.</em>
<a id="L159" name="L159"></a> 159         entry = (<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>) entry.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L160" name="L160"></a> 160         <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L161" name="L161"></a> 161         symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, entry);
<a id="L162" name="L162"></a> 162         entry.rendered = <strong class="reserved">true</strong>;
<a id="L163" name="L163"></a> 163         entry.lastrendered = entry.uri;
<a id="L164" name="L164"></a> 164         <em class="comment">// Return the node for outputing.</em>
<a id="L165" name="L165"></a> 165         <strong class="reserved">return</strong> entry.n;
<a id="L166" name="L166"></a> 166     <em class="brace">}</em>
<a id="L167" name="L167"></a> 167 
<div class="comment">
      Gets a definition without mark it as render.
      For render in exclusive c14n the namespaces in the include prefixes.
      @param prefix The prefix whose definition is neaded.
      @return the attr to render, null if there is no need to render
     *</div>
<a id="L174" name="L174"></a> 174     <strong class="reserved">public</strong> <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../S/5620.html#L638" title="Referred from 638 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/CanonicalizerBase.java.">getMappingWithoutRendered</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L175" name="L175"></a> 175         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> entry = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L176" name="L176"></a> 176         <strong class="reserved">if</strong> (entry == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L177" name="L177"></a> 177             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L178" name="L178"></a> 178         <em class="brace">}</em>
<a id="L179" name="L179"></a> 179         <strong class="reserved">if</strong> (entry.rendered) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L181" name="L181"></a> 181         <em class="brace">}</em>
<a id="L182" name="L182"></a> 182         <strong class="reserved">return</strong> entry.n;
<a id="L183" name="L183"></a> 183     <em class="brace">}</em>
<a id="L184" name="L184"></a> 184 
<div class="comment">
      Adds the mapping for a prefix.
      @param prefix the prefix of definition
      @param uri the Uri of the definition
      @param n the attribute that have the definition
      @return true if there is already defined.
     *</div>
<a id="L192" name="L192"></a> 192     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9842.html" title="Multiple referred from 17 places.">addMapping</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> n) <em class="brace">{</em>
<a id="L193" name="L193"></a> 193         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ob = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L194" name="L194"></a> 194         <strong class="reserved">if</strong> ((ob != <strong class="reserved">null</strong>) &amp;&amp; uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(ob.uri)) <em class="brace">{</em>
<a id="L195" name="L195"></a> 195             <em class="comment">//If we have it previously defined. Don't keep working.</em>
<a id="L196" name="L196"></a> 196             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L197" name="L197"></a> 197         <em class="brace">}</em>
<a id="L198" name="L198"></a> 198         <em class="comment">//Creates and entry in the table for this new definition.</em>
<a id="L199" name="L199"></a> 199         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ne = <strong class="reserved">new</strong> <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>(uri, n, <strong class="reserved">false</strong>, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L200" name="L200"></a> 200         <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L201" name="L201"></a> 201         symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, ne);
<a id="L202" name="L202"></a> 202         <strong class="reserved">if</strong> (ob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L203" name="L203"></a> 203             <em class="comment">//We have a previous definition store it for the pop.</em>
<a id="L204" name="L204"></a> 204             <em class="comment">//Check if a previous definition(not the inmidiatly one) has been rendered.</em>
<a id="L205" name="L205"></a> 205             ne.lastrendered = ob.lastrendered;
<a id="L206" name="L206"></a> 206             <strong class="reserved">if</strong> ((ob.lastrendered != <strong class="reserved">null</strong>) &amp;&amp; (ob.lastrendered.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(uri))) <em class="brace">{</em>
<a id="L207" name="L207"></a> 207                 <em class="comment">//Yes it is. Mark as rendered.</em>
<a id="L208" name="L208"></a> 208                 ne.rendered = <strong class="reserved">true</strong>;
<a id="L209" name="L209"></a> 209             <em class="brace">}</em>
<a id="L210" name="L210"></a> 210         <em class="brace">}</em>
<a id="L211" name="L211"></a> 211         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L212" name="L212"></a> 212     <em class="brace">}</em>
<a id="L213" name="L213"></a> 213 
<div class="comment">
      Adds a definition and mark it as render.
      For inclusive c14n.
      @param prefix the prefix of definition
      @param uri the Uri of the definition
      @param n the attribute that have the definition
      @return the attr to render, null if there is no need to render
     *</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">public</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../R/9843.html" title="Multiple referred from 8 places.">addMappingAndRender</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> n) <em class="brace">{</em>
<a id="L223" name="L223"></a> 223         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ob = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225         <strong class="reserved">if</strong> ((ob != <strong class="reserved">null</strong>) &amp;&amp; uri.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(ob.uri)) <em class="brace">{</em>
<a id="L226" name="L226"></a> 226             <strong class="reserved">if</strong> (!ob.rendered) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227                 ob = (<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>) ob.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L228" name="L228"></a> 228                 <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L229" name="L229"></a> 229                 symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, ob);
<a id="L230" name="L230"></a> 230                 ob.lastrendered = uri;
<a id="L231" name="L231"></a> 231                 ob.rendered = <strong class="reserved">true</strong>;
<a id="L232" name="L232"></a> 232                 <strong class="reserved">return</strong> ob.n;
<a id="L233" name="L233"></a> 233             <em class="brace">}</em>
<a id="L234" name="L234"></a> 234             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L235" name="L235"></a> 235         <em class="brace">}</em>
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ne = <strong class="reserved">new</strong> <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>(uri,n,<strong class="reserved">true</strong>,<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L238" name="L238"></a> 238         ne.lastrendered = uri;
<a id="L239" name="L239"></a> 239         <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L240" name="L240"></a> 240         symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, ne);
<a id="L241" name="L241"></a> 241         <strong class="reserved">if</strong> ((ob != <strong class="reserved">null</strong>) &amp;&amp; (ob.lastrendered != <strong class="reserved">null</strong>) &amp;&amp; (ob.lastrendered.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(uri))) <em class="brace">{</em>
<a id="L242" name="L242"></a> 242             ne.rendered = <strong class="reserved">true</strong>;
<a id="L243" name="L243"></a> 243             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L244" name="L244"></a> 244         <em class="brace">}</em>
<a id="L245" name="L245"></a> 245         <strong class="reserved">return</strong> ne.n;
<a id="L246" name="L246"></a> 246     <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17337.html" title="Multiple referred from 27 places.">getLevel</a>() <em class="brace">{</em>
<a id="L249" name="L249"></a> 249         <strong class="reserved">return</strong> level.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L250" name="L250"></a> 250     <em class="brace">}</em>
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26014.html" title="Multiple referred from 9 places.">removeMapping</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ob = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L254" name="L254"></a> 254 
<a id="L255" name="L255"></a> 255         <strong class="reserved">if</strong> (ob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256             <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L257" name="L257"></a> 257             symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <strong class="reserved">null</strong>);
<a id="L258" name="L258"></a> 258         <em class="brace">}</em>
<a id="L259" name="L259"></a> 259     <em class="brace">}</em>
<a id="L260" name="L260"></a> 260 
<a id="L261" name="L261"></a> 261     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5609.html#L260" title="Referred from 260 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/Canonicalizer20010315Excl.java.">removeMappingIfNotRender</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ob = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264         <strong class="reserved">if</strong> (ob != <strong class="reserved">null</strong> &amp;&amp; !ob.rendered) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265             <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L266" name="L266"></a> 266             symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <strong class="reserved">null</strong>);
<a id="L267" name="L267"></a> 267         <em class="brace">}</em>
<a id="L268" name="L268"></a> 268     <em class="brace">}</em>
<a id="L269" name="L269"></a> 269 
<a id="L270" name="L270"></a> 270     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26016.html" title="Multiple referred from 3 places.">removeMappingIfRender</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> ob = symb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>);
<a id="L272" name="L272"></a> 272 
<a id="L273" name="L273"></a> 273         <strong class="reserved">if</strong> (ob != <strong class="reserved">null</strong> &amp;&amp; ob.rendered) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274             <a href="../S/5613.html#L133" title="Defined at 133 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">needsClone</a>();
<a id="L275" name="L275"></a> 275             symb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <strong class="reserved">null</strong>);
<a id="L276" name="L276"></a> 276         <em class="brace">}</em>
<a id="L277" name="L277"></a> 277         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L278" name="L278"></a> 278     <em class="brace">}</em>
<a id="L279" name="L279"></a> 279 <em class="brace">}</em>
<a id="L280" name="L280"></a> 280 
<div class="comment">
  The internal structure of NameSpaceSymbTable.
 *</div>
<a id="L284" name="L284"></a> 284 <strong class="reserved">class</strong> <a href="../R/5427.html" title="Multiple referred from 24 places.">NameSpaceSymbEntry</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L285" name="L285"></a> 285 
<a id="L286" name="L286"></a> 286     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L287" name="L287"></a> 287 
<div class="comment">
     /**The URI that the prefix defines */</div>
<a id="L289" name="L289"></a> 289     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri;
<a id="L290" name="L290"></a> 290 
<div class="comment">
     /**The last output in the URI for this prefix (This for speed reason).*/</div>
<a id="L292" name="L292"></a> 292     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lastrendered = <strong class="reserved">null</strong>;
<a id="L293" name="L293"></a> 293 
<div class="comment">
     /**This prefix-URI has been already render or not.*/</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">boolean</strong> rendered = <strong class="reserved">false</strong>;
<a id="L296" name="L296"></a> 296 
<div class="comment">
     /**The attribute to include.*/</div>
<a id="L298" name="L298"></a> 298     <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> n;
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300     NameSpaceSymbEntry(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> n, <strong class="reserved">boolean</strong> rendered, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301         <strong class="reserved">this</strong>.uri = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L302" name="L302"></a> 302         <strong class="reserved">this</strong>.rendered = rendered;
<a id="L303" name="L303"></a> 303         <strong class="reserved">this</strong>.n = n;
<a id="L304" name="L304"></a> 304         <strong class="reserved">this</strong>.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L305" name="L305"></a> 305     <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<div class="comment">
     /** @inheritDoc */</div>
<a id="L308" name="L308"></a> 308     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L309" name="L309"></a> 309         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L310" name="L310"></a> 310             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L311" name="L311"></a> 311         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L312" name="L312"></a> 312             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314     <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 <em class="brace">}</em>;
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317 <strong class="reserved">class</strong> <a href="../R/7782.html" title="Multiple referred from 8 places.">SymbMap</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L318" name="L318"></a> 318     <strong class="reserved">int</strong> <a href="../D/16577.html" title="Multiple defined in 8 places.">free</a> = 23;
<a id="L319" name="L319"></a> 319     <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>[] <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>;
<a id="L320" name="L320"></a> 320     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>;
<a id="L321" name="L321"></a> 321 
<a id="L322" name="L322"></a> 322     SymbMap() <em class="brace">{</em>
<a id="L323" name="L323"></a> 323         <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a> = <strong class="reserved">new</strong> <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>[<a href="../D/16577.html" title="Multiple defined in 8 places.">free</a>];
<a id="L324" name="L324"></a> 324         <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[<a href="../D/16577.html" title="Multiple defined in 8 places.">free</a>];
<a id="L325" name="L325"></a> 325     <em class="brace">}</em>
<a id="L326" name="L326"></a> 326 
<a id="L327" name="L327"></a> 327     <strong class="reserved">void</strong> <a href="../R/25285.html" title="Multiple referred from 5173 places.">put</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L329" name="L329"></a> 329         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> oldKey = <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L330" name="L330"></a> 330         <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L331" name="L331"></a> 331         <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L332" name="L332"></a> 332         <strong class="reserved">if</strong> ((oldKey == <strong class="reserved">null</strong> || !oldKey.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>)) &amp;&amp; (--<a href="../D/16577.html" title="Multiple defined in 8 places.">free</a> == 0)) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333             <a href="../D/16577.html" title="Multiple defined in 8 places.">free</a> = <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L334" name="L334"></a> 334             <strong class="reserved">int</strong> newCapacity = <a href="../D/16577.html" title="Multiple defined in 8 places.">free</a> &lt;&lt; 2;
<a id="L335" name="L335"></a> 335             <a href="../D/30620.html" title="Multiple defined in 6 places.">rehash</a>(newCapacity);
<a id="L336" name="L336"></a> 336         <em class="brace">}</em>
<a id="L337" name="L337"></a> 337     <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339     <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>&gt; <a href="../R/13962.html" title="Multiple referred from 210 places.">entrySet</a>() <em class="brace">{</em>
<a id="L340" name="L340"></a> 340         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>&gt; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>&gt;();
<a id="L341" name="L341"></a> 341         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0;i &lt; <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;i++) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             <strong class="reserved">if</strong> ((<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>[i] != <strong class="reserved">null</strong>) &amp;&amp; !("".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>[i].uri))) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>[i]);
<a id="L344" name="L344"></a> 344             <em class="brace">}</em>
<a id="L345" name="L345"></a> 345         <em class="brace">}</em>
<a id="L346" name="L346"></a> 346         <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L347" name="L347"></a> 347     <em class="brace">}</em>
<a id="L348" name="L348"></a> 348 
<a id="L349" name="L349"></a> 349     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/20506.html" title="Multiple referred from 7476 places.">index</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>;
<a id="L351" name="L351"></a> 351         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L352" name="L352"></a> 352         <em class="comment">//abs of index</em>
<a id="L353" name="L353"></a> 353         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = (obj.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() &amp; 0x7fffffff) % <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L354" name="L354"></a> 354         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> cur = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356         <strong class="reserved">if</strong> (cur == <strong class="reserved">null</strong> || (cur.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(obj))) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357             <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L358" name="L358"></a> 358         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>--;
<a id="L360" name="L360"></a> 360         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ? 0 : ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L362" name="L362"></a> 362             cur = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L363" name="L363"></a> 363         <em class="brace">}</em> <strong class="reserved">while</strong> (cur != <strong class="reserved">null</strong> &amp;&amp; (!cur.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(obj)));
<a id="L364" name="L364"></a> 364         <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      rehashes the map to the new capacity.
      @param newCapacity an <code>int</code> value</div>
<a id="L372" name="L372"></a> 372     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25834.html" title="Multiple referred from 6 places.">rehash</a>(<strong class="reserved">int</strong> newCapacity) <em class="brace">{</em>
<a id="L373" name="L373"></a> 373         <strong class="reserved">int</strong> oldCapacity = <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L374" name="L374"></a> 374         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oldKeys[] = <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>;
<a id="L375" name="L375"></a> 375         <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> oldVals[] = <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>;
<a id="L376" name="L376"></a> 376 
<a id="L377" name="L377"></a> 377         <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[newCapacity];
<a id="L378" name="L378"></a> 378         <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a> = <strong class="reserved">new</strong> <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>[newCapacity];
<a id="L379" name="L379"></a> 379 
<a id="L380" name="L380"></a> 380         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = oldCapacity; i-- &gt; 0;) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381             <strong class="reserved">if</strong> (oldKeys[i] != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = oldKeys[i];
<a id="L383" name="L383"></a> 383                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L384" name="L384"></a> 384                 <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L385" name="L385"></a> 385                 <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>] = oldVals[i];
<a id="L386" name="L386"></a> 386             <em class="brace">}</em>
<a id="L387" name="L387"></a> 387         <em class="brace">}</em>
<a id="L388" name="L388"></a> 388     <em class="brace">}</em>
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390     <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">return</strong> <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>)];
<a id="L392" name="L392"></a> 392     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<a id="L394" name="L394"></a> 394     <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>()  <em class="brace">{</em>
<a id="L395" name="L395"></a> 395         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L396" name="L396"></a> 396             <a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = (<a href="../S/5613.html#L317" title="Defined at 317 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">SymbMap</a>) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L397" name="L397"></a> 397             <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a> = <strong class="reserved">new</strong> <a href="../S/5613.html#L284" title="Defined at 284 in src/com/sun/org/apache/xml/internal/security/c14n/implementations/NameSpaceSymbTable.java.">NameSpaceSymbEntry</a>[<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L398" name="L398"></a> 398             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>, 0, <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.<a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>, 0, <a href="../D/15643.html" title="Multiple defined in 6 places.">entries</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L399" name="L399"></a> 399             <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L400" name="L400"></a> 400             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>, 0, <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>, 0, <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402             <strong class="reserved">return</strong> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>;
<a id="L403" name="L403"></a> 403         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404             e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L405" name="L405"></a> 405         <em class="brace">}</em>
<a id="L406" name="L406"></a> 406         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L407" name="L407"></a> 407     <em class="brace">}</em>
<a id="L408" name="L408"></a> 408 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L72">[^]</a><a href="#L394">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>