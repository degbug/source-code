<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/management/openmbean/OpenType.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L196">[^]</a><a href="#L394">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L196" title="Defined at 196.">checkClassNameOverride</a></li>
<li><a href="#L209" title="Defined at 209.">overridesGetClassName</a></li>
<li><a href="#L222" title="Defined at 222.">validClassName</a></li>
<li><a href="#L270" title="Defined at 270.">valid</a></li>
<li><a href="#L278" title="Defined at 278.">getDescriptor</a></li>
<li><a href="#L306" title="Defined at 306.">getClassName</a></li>
<li><a href="#L312" title="Defined at 312.">safeGetClassName</a></li>
<li><a href="#L321" title="Defined at 321.">getTypeName</a></li>
<li><a href="#L331" title="Defined at 331.">getDescription</a></li>
<li><a href="#L342" title="Defined at 342.">isArray</a></li>
<li><a href="#L355" title="Defined at 355.">isValue</a></li>
<li><a href="#L366" title="Defined at 366.">isAssignableFrom</a></li>
<li><a href="#L380" title="Defined at 380.">equals</a></li>
<li><a href="#L382" title="Defined at 382.">hashCode</a></li>
<li><a href="#L389" title="Defined at 389.">toString</a></li>
<li><a href="#L394" title="Defined at 394.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2008, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.management.openmbean;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.jmx.mbeanserver.GetPropertyAction;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.IOException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.Collections;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.List;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> javax.management.Descriptor;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> javax.management.ImmutableDescriptor;
<a id="L40" name="L40"></a>  40 
<div class="comment">
  The <code>OpenType</code> class is the parent abstract class of all classes which describe the actual <i>open type</i>
  of open data values.
  <p>
  An <i>open type</i> is defined by:
  </p><ul><li>the fully qualified Java class name of the open data values this type describes;
       note that only a limited set of Java classes is allowed for open data values
       (see {@link #ALLOWED_CLASSNAMES_LIST ALLOWED_CLASSNAMES_LIST}),</li><li>its name,</li><li>its description.</li>
  </ul>
  @param <t> the Java type that instances described by this type must
  have.  For example, {@link SimpleType#INTEGER} is a {@code
  SimpleType<integer>} which is a subclass of <code>OpenType<integer></integer></code>,
  meaning that an attribute, parameter, or return value that is described
  as a <code>SimpleType.INTEGER</code> must have Java type
  {@link Integer}.
  @since 1.5</integer></t></div>
<a id="L63" name="L63"></a>  63 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/5824.html" title="Multiple referred from 91 places.">OpenType</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L64" name="L64"></a>  64 
<div class="comment">
     /* Serial version */</div>
<a id="L66" name="L66"></a>  66     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -9195195325186646468L;
<a id="L67" name="L67"></a>  67 
<a id="L68" name="L68"></a>  68 
<div class="comment">
      List of the fully qualified names of the Java classes allowed for open
      data values. A multidimensional array of any one of these classes or
      their corresponding primitive types is also an allowed class for open
      data values.
       <pre>ALLOWED_CLASSNAMES_LIST = {
        "java.lang.Void",
        "java.lang.Boolean",
        "java.lang.Character",
        "java.lang.Byte",
        "java.lang.Short",
        "java.lang.Integer",
        "java.lang.Long",
        "java.lang.Float",
        "java.lang.Double",
        "java.lang.String",
        "java.math.BigDecimal",
        "java.math.BigInteger",
        "java.util.Date",
        "javax.management.ObjectName",
        CompositeData.class.getName(),
        TabularData.class.getName() } ;
       </pre></div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; ALLOWED_CLASSNAMES_LIST =
<a id="L96" name="L96"></a>  96       <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(
<a id="L97" name="L97"></a>  97         <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>(
<a id="L98" name="L98"></a>  98           "java.lang.Void",
<a id="L99" name="L99"></a>  99           "java.lang.Boolean",
<a id="L100" name="L100"></a> 100           "java.lang.Character",
<a id="L101" name="L101"></a> 101           "java.lang.Byte",
<a id="L102" name="L102"></a> 102           "java.lang.Short",
<a id="L103" name="L103"></a> 103           "java.lang.Integer",
<a id="L104" name="L104"></a> 104           "java.lang.Long",
<a id="L105" name="L105"></a> 105           "java.lang.Float",
<a id="L106" name="L106"></a> 106           "java.lang.Double",
<a id="L107" name="L107"></a> 107           "java.lang.String",
<a id="L108" name="L108"></a> 108           "java.math.BigDecimal",
<a id="L109" name="L109"></a> 109           "java.math.BigInteger",
<a id="L110" name="L110"></a> 110           "java.util.Date",
<a id="L111" name="L111"></a> 111           "javax.management.ObjectName",
<a id="L112" name="L112"></a> 112           <a href="../S/3583.html#L45" title="Defined at 45 in src/javax/management/openmbean/CompositeData.java.">CompositeData</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),        <em class="comment">// better refer to these two class names like this, rather than hardcoding a string,</em>
<a id="L113" name="L113"></a> 113           <a href="../S/3594.html#L45" title="Defined at 45 in src/javax/management/openmbean/TabularData.java.">TabularData</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()) );       <em class="comment">// in case the package of these classes should change (who knows...)</em>
<a id="L114" name="L114"></a> 114 
<a id="L115" name="L115"></a> 115 
<div class="comment">
      @deprecated Use {@link #ALLOWED_CLASSNAMES_LIST ALLOWED_CLASSNAMES_LIST} instead.</div>
<a id="L119" name="L119"></a> 119     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L120" name="L120"></a> 120     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] ALLOWED_CLASSNAMES =
<a id="L121" name="L121"></a> 121         ALLOWED_CLASSNAMES_LIST.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[0]);
<a id="L122" name="L122"></a> 122 
<a id="L123" name="L123"></a> 123 
<div class="comment">
      @serial The fully qualified Java class name of open data values this
              type describes.</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L129" name="L129"></a> 129 
<div class="comment">
      @serial The type description (should not be null or empty).</div>
<a id="L133" name="L133"></a> 133     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>;
<a id="L134" name="L134"></a> 134 
<div class="comment">
      @serial The name given to this type (should not be null or empty).</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>;
<a id="L139" name="L139"></a> 139 
<div class="comment">
      Tells if this type describes an array (checked in constructor).</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> <a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a> = <strong class="reserved">false</strong>;
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Cached Descriptor for this OpenType, constructed on demand.</div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3499.html#L439" title="Defined at 439 in src/javax/management/Descriptor.java.">Descriptor</a> descriptor;
<a id="L149" name="L149"></a> 149 
<div class="comment">
     /* *** Constructor *** */</div>
<a id="L151" name="L151"></a> 151 
<div class="comment">
      Constructs an <code>OpenType</code> instance (actually a subclass instance as <code>OpenType</code> is abstract),
      checking for the validity of the given parameters.
      The validity constraints are described below for each parameter.
      <br>&nbsp;
      @param  className  The fully qualified Java class name of the open data values this open type describes.
                         The valid Java class names allowed for open data values are listed in
                         {@link #ALLOWED_CLASSNAMES_LIST ALLOWED_CLASSNAMES_LIST}.
                         A multidimensional array of any one of these classes
                         or their corresponding primitive types is also an allowed class,
                         in which case the class name follows the rules defined by the method
                         {@link Class#getName() getName()} of <code>java.lang.Class</code>.
                         For example, a 3-dimensional array of Strings has for class name
                         "<code>[[[Ljava.lang.String;</code>" (without the quotes).
      <br>&nbsp;
      @param  typeName  The name given to the open type this instance represents; cannot be a null or empty string.
      <br>&nbsp;
      @param  description  The human readable description of the open type this instance represents;
                           cannot be a null or empty string.
      <br>&nbsp;
      @throws IllegalArgumentException  if <var>className</var>, <var>typeName</var> or <var>description</var>
                                        is a null or empty string
      <br>&nbsp;
      @throws OpenDataException  if <var>className</var> is not one of the allowed Java class names for open data</div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">protected</strong> OpenType(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>,
<a id="L178" name="L178"></a> 178                        <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>,
<a id="L179" name="L179"></a> 179                        <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>) <strong class="reserved">throws</strong> <a href="../S/3584.html#L39" title="Defined at 39 in src/javax/management/openmbean/OpenDataException.java.">OpenDataException</a> <em class="brace">{</em>
<a id="L180" name="L180"></a> 180         <a href="../S/3596.html#L196" title="Defined at 196 in src/javax/management/openmbean/OpenType.java.">checkClassNameOverride</a>();
<a id="L181" name="L181"></a> 181         <strong class="reserved">this</strong>.<a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a> = <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("typeName", <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>);
<a id="L182" name="L182"></a> 182         <strong class="reserved">this</strong>.<a href="../D/14861.html" title="Multiple defined in 3 places.">description</a> = <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("description", <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>);
<a id="L183" name="L183"></a> 183         <strong class="reserved">this</strong>.<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../S/3596.html#L222" title="Defined at 222 in src/javax/management/openmbean/OpenType.java.">validClassName</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L184" name="L184"></a> 184         <strong class="reserved">this</strong>.<a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a> = (<strong class="reserved">this</strong>.<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> != <strong class="reserved">null</strong> &amp;&amp; <strong class="reserved">this</strong>.<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("["));
<a id="L185" name="L185"></a> 185     <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
     /* Package-private constructor for callers we trust to get it right. */</div>
<a id="L188" name="L188"></a> 188     OpenType(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>,
<a id="L189" name="L189"></a> 189              <strong class="reserved">boolean</strong> <a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190         <strong class="reserved">this</strong>.<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>   = <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("className",<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L191" name="L191"></a> 191         <strong class="reserved">this</strong>.<a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>    = <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("typeName", <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>);
<a id="L192" name="L192"></a> 192         <strong class="reserved">this</strong>.<a href="../D/14861.html" title="Multiple defined in 3 places.">description</a> = <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("description", <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>);
<a id="L193" name="L193"></a> 193         <strong class="reserved">this</strong>.<a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>     = <a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>;
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11112.html" title="Multiple referred from 2 places.">checkClassNameOverride</a>() <strong class="reserved">throws</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>() == <strong class="reserved">null</strong>)
<a id="L198" name="L198"></a> 198             <strong class="reserved">return</strong>;  <em class="comment">// We trust bootstrap classes.</em>
<a id="L199" name="L199"></a> 199         <strong class="reserved">if</strong> (<a href="../S/3596.html#L209" title="Defined at 209 in src/javax/management/openmbean/OpenType.java.">overridesGetClassName</a>(<strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>())) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200             <strong class="reserved">final</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a> getExtendOpenTypes =
<a id="L201" name="L201"></a> 201                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("jmx.extend.open.types");
<a id="L202" name="L202"></a> 202             <strong class="reserved">if</strong> (<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(getExtendOpenTypes) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L203" name="L203"></a> 203                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>("Cannot override getClassName() " +
<a id="L204" name="L204"></a> 204                         "unless -Djmx.extend.open.types");
<a id="L205" name="L205"></a> 205             <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207     <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/3596.html#L199" title="Referred from 199 in src/javax/management/openmbean/OpenType.java.">overridesGetClassName</a>(<strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210         <strong class="reserved">return</strong> <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;() <em class="brace">{</em>
<a id="L211" name="L211"></a> 211             <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L212" name="L212"></a> 212                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L213" name="L213"></a> 213                     <strong class="reserved">return</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/20584.html" title="Multiple defined in 21 places.">getMethod</a>("getClassName").<a href="../D/18264.html" title="Multiple defined in 10 places.">getDeclaringClass</a>() !=
<a id="L214" name="L214"></a> 214                             <a href="../D/6390.html" title="Multiple defined in 2 places.">OpenType</a>.<strong class="reserved">class</strong>);
<a id="L215" name="L215"></a> 215                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;  <em class="comment">// fail safe</em>
<a id="L217" name="L217"></a> 217                 <em class="brace">}</em>
<a id="L218" name="L218"></a> 218             <em class="brace">}</em>
<a id="L219" name="L219"></a> 219         <em class="brace">}</em>);
<a id="L220" name="L220"></a> 220     <em class="brace">}</em>
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/30041.html" title="Multiple referred from 2 places.">validClassName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>) <strong class="reserved">throws</strong> <a href="../S/3584.html#L39" title="Defined at 39 in src/javax/management/openmbean/OpenDataException.java.">OpenDataException</a> <em class="brace">{</em>
<a id="L223" name="L223"></a> 223         <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>   = <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("className", <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225         <em class="comment">// Check if className describes an array class, and determines its elements' class name.</em>
<a id="L226" name="L226"></a> 226         <em class="comment">// (eg: a 3-dimensional array of Strings has for class name: "[[[Ljava.lang.String;")</em>
<a id="L227" name="L227"></a> 227         <em class="comment">//</em>
<a id="L228" name="L228"></a> 228         <strong class="reserved">int</strong> n = 0;
<a id="L229" name="L229"></a> 229         <strong class="reserved">while</strong> (<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("[", n)) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230             n++;
<a id="L231" name="L231"></a> 231         <em class="brace">}</em>
<a id="L232" name="L232"></a> 232         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> eltClassName; <em class="comment">// class name of array elements</em>
<a id="L233" name="L233"></a> 233         <strong class="reserved">boolean</strong> <a href="../S/3602.html#L513" title="Defined at 513 in src/javax/management/openmbean/ArrayType.java.">isPrimitiveArray</a> = <strong class="reserved">false</strong>;
<a id="L234" name="L234"></a> 234         <strong class="reserved">if</strong> (n &gt; 0) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235             <strong class="reserved">if</strong> (<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("L", n) &amp;&amp; <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>(";")) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236                 <em class="comment">// removes the n leading '[' + the 'L' characters</em>
<a id="L237" name="L237"></a> 237                 <em class="comment">// and the last ';' character</em>
<a id="L238" name="L238"></a> 238                 eltClassName = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(n+1, <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1);
<a id="L239" name="L239"></a> 239             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (n == <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240                 <em class="comment">// removes the n leading '[' characters</em>
<a id="L241" name="L241"></a> 241                 eltClassName = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(n, <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L242" name="L242"></a> 242                 <a href="../S/3602.html#L513" title="Defined at 513 in src/javax/management/openmbean/ArrayType.java.">isPrimitiveArray</a> = <strong class="reserved">true</strong>;
<a id="L243" name="L243"></a> 243             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L244" name="L244"></a> 244                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3584.html#L39" title="Defined at 39 in src/javax/management/openmbean/OpenDataException.java.">OpenDataException</a>("Argument className=\"" + <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> +
<a id="L245" name="L245"></a> 245                         "\" is not a valid class name");
<a id="L246" name="L246"></a> 246             <em class="brace">}</em>
<a id="L247" name="L247"></a> 247         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L248" name="L248"></a> 248             <em class="comment">// not an array</em>
<a id="L249" name="L249"></a> 249             eltClassName = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L250" name="L250"></a> 250         <em class="brace">}</em>
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252         <em class="comment">// Check that eltClassName's value is one of the allowed basic data types for open data</em>
<a id="L253" name="L253"></a> 253         <em class="comment">//</em>
<a id="L254" name="L254"></a> 254         <strong class="reserved">boolean</strong> ok = <strong class="reserved">false</strong>;
<a id="L255" name="L255"></a> 255         <strong class="reserved">if</strong> (<a href="../S/3602.html#L513" title="Defined at 513 in src/javax/management/openmbean/ArrayType.java.">isPrimitiveArray</a>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256             ok = <a href="../D/510.html" title="Multiple defined in 3 places.">ArrayType</a>.<a href="../S/3602.html#L159" title="Defined at 159 in src/javax/management/openmbean/ArrayType.java.">isPrimitiveContentType</a>(eltClassName);
<a id="L257" name="L257"></a> 257         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L258" name="L258"></a> 258             ok = ALLOWED_CLASSNAMES_LIST.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(eltClassName);
<a id="L259" name="L259"></a> 259         <em class="brace">}</em>
<a id="L260" name="L260"></a> 260         <strong class="reserved">if</strong> ( ! ok ) <em class="brace">{</em>
<a id="L261" name="L261"></a> 261             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3584.html#L39" title="Defined at 39 in src/javax/management/openmbean/OpenDataException.java.">OpenDataException</a>("Argument className=\""+ <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> +
<a id="L262" name="L262"></a> 262                                         "\" is not one of the allowed Java class names for open data.");
<a id="L263" name="L263"></a> 263         <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265         <strong class="reserved">return</strong> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L266" name="L266"></a> 266     <em class="brace">}</em>
<a id="L267" name="L267"></a> 267 
<div class="comment">
 Return argValue.trim() provided argValue is neither null nor empty;
       otherwise throw IllegalArgumentException.  </div>
<a id="L270" name="L270"></a> 270     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/30040.html" title="Multiple referred from 71 places.">valid</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> argName, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> argValue) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271         <strong class="reserved">if</strong> (argValue == <strong class="reserved">null</strong> || (argValue = argValue.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>()).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(""))
<a id="L272" name="L272"></a> 272             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Argument " + argName +
<a id="L273" name="L273"></a> 273                                                " cannot be null or empty");
<a id="L274" name="L274"></a> 274         <strong class="reserved">return</strong> argValue;
<a id="L275" name="L275"></a> 275     <em class="brace">}</em>
<a id="L276" name="L276"></a> 276 
<div class="comment">
     /* Package-private access to a Descriptor containing this OpenType. */</div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">synchronized</strong> <a href="../S/3499.html#L439" title="Defined at 439 in src/javax/management/Descriptor.java.">Descriptor</a> <a href="../R/16122.html" title="Multiple referred from 92 places.">getDescriptor</a>() <em class="brace">{</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">if</strong> (descriptor == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280             descriptor = <strong class="reserved">new</strong> <a href="../S/3570.html#L41" title="Defined at 41 in src/javax/management/ImmutableDescriptor.java.">ImmutableDescriptor</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <em class="brace">{</em>"openType"<em class="brace">}</em>,
<a id="L281" name="L281"></a> 281                                                  <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em><strong class="reserved">this</strong><em class="brace">}</em>);
<a id="L282" name="L282"></a> 282         <em class="brace">}</em>
<a id="L283" name="L283"></a> 283         <strong class="reserved">return</strong> descriptor;
<a id="L284" name="L284"></a> 284     <em class="brace">}</em>
<a id="L285" name="L285"></a> 285 
<div class="comment">
     /* *** Open type information methods *** */</div>
<a id="L287" name="L287"></a> 287 
<div class="comment">
      Returns the fully qualified Java class name of the open data values
      this open type describes.
      The only possible Java class names for open data values are listed in
      {@link #ALLOWED_CLASSNAMES_LIST ALLOWED_CLASSNAMES_LIST}.
      A multidimensional array of any one of these classes or their
      corresponding primitive types is also an allowed class,
      in which case the class name follows the rules defined by the method
      {@link Class#getName() getName()} of <code>java.lang.Class</code>.
      For example, a 3-dimensional array of Strings has for class name
      "<code>[[[Ljava.lang.String;</code>" (without the quotes),
      a 3-dimensional array of Integers has for class name
      "<code>[[[Ljava.lang.Integer;</code>" (without the quotes),
      and a 3-dimensional array of int has for class name
      "<code>[[[I</code>" (without the quotes)
      @return the class name.</div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15596.html" title="Multiple referred from 186 places.">getClassName</a>() <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">return</strong> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L308" name="L308"></a> 308     <em class="brace">}</em>
<a id="L309" name="L309"></a> 309 
<a id="L310" name="L310"></a> 310     <em class="comment">// A version of getClassName() that can only be called from within this</em>
<a id="L311" name="L311"></a> 311     <em class="comment">// package and that cannot be overridden.</em>
<a id="L312" name="L312"></a> 312     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/26566.html" title="Multiple referred from 6 places.">safeGetClassName</a>() <em class="brace">{</em>
<a id="L313" name="L313"></a> 313         <strong class="reserved">return</strong> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L314" name="L314"></a> 314     <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 
<div class="comment">
      Returns the name of this <code>OpenType</code> instance.
      @return the type name.</div>
<a id="L321" name="L321"></a> 321     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19632.html" title="Multiple referred from 34 places.">getTypeName</a>() <em class="brace">{</em>
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323         <strong class="reserved">return</strong> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>;
<a id="L324" name="L324"></a> 324     <em class="brace">}</em>
<a id="L325" name="L325"></a> 325 
<div class="comment">
      Returns the text description of this <code>OpenType</code> instance.
      @return the description.</div>
<a id="L331" name="L331"></a> 331     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16121.html" title="Multiple referred from 70 places.">getDescription</a>() <em class="brace">{</em>
<a id="L332" name="L332"></a> 332 
<a id="L333" name="L333"></a> 333         <strong class="reserved">return</strong> <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a>;
<a id="L334" name="L334"></a> 334     <em class="brace">}</em>
<a id="L335" name="L335"></a> 335 
<div class="comment">
      Returns <code>true</code> if the open data values this open
      type describes are arrays, <code>false</code> otherwise.
      @return true if this is an array type.</div>
<a id="L342" name="L342"></a> 342     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21175.html" title="Multiple referred from 102 places.">isArray</a>() <em class="brace">{</em>
<a id="L343" name="L343"></a> 343 
<a id="L344" name="L344"></a> 344         <strong class="reserved">return</strong> <a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a>;
<a id="L345" name="L345"></a> 345     <em class="brace">}</em>
<a id="L346" name="L346"></a> 346 
<div class="comment">
      Tests whether <var>obj</var> is a value for this open type.
      @param obj the object to be tested for validity.
      @return <code>true</code> if <var>obj</var> is a value for this
      open type, <code>false</code> otherwise.</div>
<a id="L355" name="L355"></a> 355     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/22207.html" title="Multiple referred from 16 places.">isValue</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) ;
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Tests whether values of the given type can be assigned to this open type.
      The default implementation of this method returns true only if the
      types are equal.
      @param ot the type to be tested.
      @return true if <code>ot</code> is assignable to this open type.</div>
<a id="L366" name="L366"></a> 366     <strong class="reserved">boolean</strong> <a href="../R/21180.html" title="Multiple referred from 203 places.">isAssignableFrom</a>(<a href="../D/6390.html" title="Multiple defined in 2 places.">OpenType</a>&lt;?&gt; ot) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(ot);
<a id="L368" name="L368"></a> 368     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<div class="comment">
     /* *** Methods overriden from class Object *** */</div>
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Compares the specified <code>obj</code> parameter with this
      open type instance for equality.
      @param obj the object to compare to.
      @return true if this object and <code>obj</code> are equal.</div>
<a id="L380" name="L380"></a> 380     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) ;
<a id="L381" name="L381"></a> 381 
<a id="L382" name="L382"></a> 382     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() ;
<a id="L383" name="L383"></a> 383 
<div class="comment">
      Returns a string representation of this open type instance.
      @return the string representation.</div>
<a id="L389" name="L389"></a> 389     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() ;
<a id="L390" name="L390"></a> 390 
<div class="comment">
      Deserializes an <a href="../R/5824.html" title="Multiple referred from 91 places.">OpenType</a> from an {@link java.io.ObjectInputStream}.</div>
<a id="L394" name="L394"></a> 394     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>)
<a id="L395" name="L395"></a> 395             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L396" name="L396"></a> 396         <a href="../S/3596.html#L196" title="Defined at 196 in src/javax/management/openmbean/OpenType.java.">checkClassNameOverride</a>();
<a id="L397" name="L397"></a> 397         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L398" name="L398"></a> 398         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> classNameField;
<a id="L399" name="L399"></a> 399         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> descriptionField;
<a id="L400" name="L400"></a> 400         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> typeNameField;
<a id="L401" name="L401"></a> 401         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L402" name="L402"></a> 402             classNameField =
<a id="L403" name="L403"></a> 403                 <a href="../S/3596.html#L222" title="Defined at 222 in src/javax/management/openmbean/OpenType.java.">validClassName</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("className", <strong class="reserved">null</strong>));
<a id="L404" name="L404"></a> 404             descriptionField =
<a id="L405" name="L405"></a> 405                 <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("description", (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("description", <strong class="reserved">null</strong>));
<a id="L406" name="L406"></a> 406             typeNameField =
<a id="L407" name="L407"></a> 407                 <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>("typeName", (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("typeName", <strong class="reserved">null</strong>));
<a id="L408" name="L408"></a> 408         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409             <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e2 = <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L410" name="L410"></a> 410             e2.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(e);
<a id="L411" name="L411"></a> 411             <strong class="reserved">throw</strong> e2;
<a id="L412" name="L412"></a> 412         <em class="brace">}</em>
<a id="L413" name="L413"></a> 413         <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = classNameField;
<a id="L414" name="L414"></a> 414         <a href="../D/14861.html" title="Multiple defined in 3 places.">description</a> = descriptionField;
<a id="L415" name="L415"></a> 415         <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a> = typeNameField;
<a id="L416" name="L416"></a> 416         <a href="../D/25208.html" title="Multiple defined in 5 places.">isArray</a> = (<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("["));
<a id="L417" name="L417"></a> 417     <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L196">[^]</a><a href="#L394">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>