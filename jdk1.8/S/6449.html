<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L510">[^]</a><a href="#L2740">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L510" title="Defined at 510.">getServedClientCount</a></li>
<li><a href="#L522" title="Defined at 522.">getActiveClientCount</a></li>
<li><a href="#L534" title="Defined at 534.">getMaxActiveClientCount</a></li>
<li><a href="#L548" title="Defined at 548.">setMaxActiveClientCount</a></li>
<li><a href="#L560" title="Defined at 560.">getInetAddressAcl</a></li>
<li><a href="#L571" title="Defined at 571.">getTrapPort</a></li>
<li><a href="#L581" title="Defined at 581.">setTrapPort</a></li>
<li><a href="#L590" title="Defined at 590.">setTrapPort</a></li>
<li><a href="#L604" title="Defined at 604.">getInformPort</a></li>
<li><a href="#L615" title="Defined at 615.">setInformPort</a></li>
<li><a href="#L628" title="Defined at 628.">getProtocol</a></li>
<li><a href="#L641" title="Defined at 641.">getBufferSize</a></li>
<li><a href="#L656" title="Defined at 656.">setBufferSize</a></li>
<li><a href="#L672" title="Defined at 672.">getMaxTries</a></li>
<li><a href="#L682" title="Defined at 682.">setMaxTries</a></li>
<li><a href="#L694" title="Defined at 694.">getTimeout</a></li>
<li><a href="#L703" title="Defined at 703.">setTimeout</a></li>
<li><a href="#L715" title="Defined at 715.">getPduFactory</a></li>
<li><a href="#L725" title="Defined at 725.">setPduFactory</a></li>
<li><a href="#L739" title="Defined at 739.">setUserDataFactory</a></li>
<li><a href="#L750" title="Defined at 750.">getUserDataFactory</a></li>
<li><a href="#L767" title="Defined at 767.">getAuthTrapEnabled</a></li>
<li><a href="#L778" title="Defined at 778.">setAuthTrapEnabled</a></li>
<li><a href="#L796" title="Defined at 796.">getAuthRespEnabled</a></li>
<li><a href="#L807" title="Defined at 807.">setAuthRespEnabled</a></li>
<li><a href="#L819" title="Defined at 819.">getEnterpriseOid</a></li>
<li><a href="#L831" title="Defined at 831.">setEnterpriseOid</a></li>
<li><a href="#L841" title="Defined at 841.">getMibs</a></li>
<li><a href="#L860" title="Defined at 860.">getSnmpOutTraps</a></li>
<li><a href="#L870" title="Defined at 870.">getSnmpOutGetResponses</a></li>
<li><a href="#L880" title="Defined at 880.">getSnmpOutGenErrs</a></li>
<li><a href="#L890" title="Defined at 890.">getSnmpOutBadValues</a></li>
<li><a href="#L900" title="Defined at 900.">getSnmpOutNoSuchNames</a></li>
<li><a href="#L910" title="Defined at 910.">getSnmpOutTooBigs</a></li>
<li><a href="#L920" title="Defined at 920.">getSnmpInASNParseErrs</a></li>
<li><a href="#L930" title="Defined at 930.">getSnmpInBadCommunityUses</a></li>
<li><a href="#L941" title="Defined at 941.">getSnmpInBadCommunityNames</a></li>
<li><a href="#L951" title="Defined at 951.">getSnmpInBadVersions</a></li>
<li><a href="#L961" title="Defined at 961.">getSnmpOutPkts</a></li>
<li><a href="#L971" title="Defined at 971.">getSnmpInPkts</a></li>
<li><a href="#L981" title="Defined at 981.">getSnmpInGetRequests</a></li>
<li><a href="#L991" title="Defined at 991.">getSnmpInGetNexts</a></li>
<li><a href="#L1001" title="Defined at 1001.">getSnmpInSetRequests</a></li>
<li><a href="#L1011" title="Defined at 1011.">getSnmpInTotalSetVars</a></li>
<li><a href="#L1021" title="Defined at 1021.">getSnmpInTotalReqVars</a></li>
<li><a href="#L1034" title="Defined at 1034.">getSnmpSilentDrops</a></li>
<li><a href="#L1047" title="Defined at 1047.">getSnmpProxyDrops</a></li>
<li><a href="#L1075" title="Defined at 1075.">preRegister</a></li>
<li><a href="#L1089" title="Defined at 1089.">postRegister</a></li>
<li><a href="#L1097" title="Defined at 1097.">preDeregister</a></li>
<li><a href="#L1105" title="Defined at 1105.">postDeregister</a></li>
<li><a href="#L1119" title="Defined at 1119.">addMib</a></li>
<li><a href="#L1150" title="Defined at 1150.">addMib</a></li>
<li><a href="#L1183" title="Defined at 1183.">addMib</a></li>
<li><a href="#L1205" title="Defined at 1205.">addMib</a></li>
<li><a href="#L1228" title="Defined at 1228.">removeMib</a></li>
<li><a href="#L1241" title="Defined at 1241.">removeMib</a></li>
<li><a href="#L1258" title="Defined at 1258.">removeMib</a></li>
<li><a href="#L1276" title="Defined at 1276.">removeMib</a></li>
<li><a href="#L1289" title="Defined at 1289.">doBind</a></li>
<li><a href="#L1317" title="Defined at 1317.">getPort</a></li>
<li><a href="#L1328" title="Defined at 1328.">doUnbind</a></li>
<li><a href="#L1345" title="Defined at 1345.">createSnmpRequestHandler</a></li>
<li><a href="#L1367" title="Defined at 1367.">doReceive</a></li>
<li><a href="#L1409" title="Defined at 1409.">doError</a></li>
<li><a href="#L1416" title="Defined at 1416.">doProcess</a></li>
<li><a href="#L1428" title="Defined at 1428.">getBindTries</a></li>
<li><a href="#L1440" title="Defined at 1440.">stop</a></li>
<li><a href="#L1497" title="Defined at 1497.">snmpV1Trap</a></li>
<li><a href="#L1543" title="Defined at 1543.">handleMultipleIpVersion</a></li>
<li><a href="#L1573" title="Defined at 1573.">snmpV1Trap</a></li>
<li><a href="#L1650" title="Defined at 1650.">snmpV1Trap</a></li>
<li><a href="#L1692" title="Defined at 1692.">snmpV1Trap</a></li>
<li><a href="#L1713" title="Defined at 1713.">snmpV1Trap</a></li>
<li><a href="#L1822" title="Defined at 1822.">snmpV2Trap</a></li>
<li><a href="#L1860" title="Defined at 1860.">snmpV2Trap</a></li>
<li><a href="#L1920" title="Defined at 1920.">snmpV2Trap</a></li>
<li><a href="#L1993" title="Defined at 1993.">snmpV2Trap</a></li>
<li><a href="#L2008" title="Defined at 2008.">snmpV2Trap</a></li>
<li><a href="#L2083" title="Defined at 2083.">snmpPduTrap</a></li>
<li><a href="#L2103" title="Defined at 2103.">snmpPduTrap</a></li>
<li><a href="#L2119" title="Defined at 2119.">sendTrapPdu</a></li>
<li><a href="#L2198" title="Defined at 2198.">sendTrapPdu</a></li>
<li><a href="#L2243" title="Defined at 2243.">sendTrapMessage</a></li>
<li><a href="#L2270" title="Defined at 2270.">openTrapSocketIfNeeded</a></li>
<li><a href="#L2284" title="Defined at 2284.">closeTrapSocketIfNeeded</a></li>
<li><a href="#L2328" title="Defined at 2328.">snmpInformRequest</a></li>
<li><a href="#L2414" title="Defined at 2414.">snmpInformRequest</a></li>
<li><a href="#L2465" title="Defined at 2465.">snmpInformRequest</a></li>
<li><a href="#L2487" title="Defined at 2487.">mapErrorStatus</a></li>
<li><a href="#L2495" title="Defined at 2495.">snmpInformRequest</a></li>
<li><a href="#L2535" title="Defined at 2535.">openInformSocketIfNeeded</a></li>
<li><a href="#L2549" title="Defined at 2549.">closeInformSocketIfNeeded</a></li>
<li><a href="#L2561" title="Defined at 2561.">getAddress</a></li>
<li><a href="#L2577" title="Defined at 2577.">finalize</a></li>
<li><a href="#L2600" title="Defined at 2600.">makeDebugTag</a></li>
<li><a href="#L2604" title="Defined at 2604.">updateRequestCounters</a></li>
<li><a href="#L2622" title="Defined at 2622.">updateErrorCounters</a></li>
<li><a href="#L2646" title="Defined at 2646.">updateVarCounters</a></li>
<li><a href="#L2660" title="Defined at 2660.">incSnmpInASNParseErrs</a></li>
<li><a href="#L2664" title="Defined at 2664.">incSnmpInBadVersions</a></li>
<li><a href="#L2668" title="Defined at 2668.">incSnmpInBadCommunityUses</a></li>
<li><a href="#L2672" title="Defined at 2672.">incSnmpInBadCommunityNames</a></li>
<li><a href="#L2676" title="Defined at 2676.">incSnmpSilentDrops</a></li>
<li><a href="#L2686" title="Defined at 2686.">getSysUpTime</a></li>
<li><a href="#L2693" title="Defined at 2693.">readObject</a></li>
<li><a href="#L2710" title="Defined at 2710.">init</a></li>
<li><a href="#L2735" title="Defined at 2735.">getAgentMib</a></li>
<li><a href="#L2740" title="Defined at 2740.">createMainThread</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2012, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> com.sun.jmx.snmp.daemon;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 <em class="comment">// java imports</em>
<a id="L31" name="L31"></a>  31 <em class="comment">//</em>
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Vector;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.logging.Level;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.net.DatagramSocket;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.net.DatagramPacket;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.net.InetAddress;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.net.SocketException;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.net.UnknownHostException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.io.IOException;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.io.InterruptedIOException;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44 
<a id="L45" name="L45"></a>  45 <em class="comment">// jmx imports</em>
<a id="L46" name="L46"></a>  46 <em class="comment">//</em>
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> javax.management.MBeanServer;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> javax.management.MBeanRegistration;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> javax.management.ObjectName;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> static com.sun.jmx.defaults.JmxProperties.SNMP_ADAPTOR_LOGGER;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpIpAddress;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpMessage;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpOid;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpPduFactory;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpPduPacket;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpPduRequest;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpPduTrap;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpTimeticks;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpVarBind;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpVarBindList;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpDefinitions;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpStatusException;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpTooBigException;
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> com.sun.jmx.snmp.InetAddressAcl;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpPeer;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpParameters;
<a id="L67" name="L67"></a>  67 <em class="comment">// SNMP Runtime imports</em>
<a id="L68" name="L68"></a>  68 <em class="comment">//</em>
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> com.sun.jmx.snmp.SnmpPduFactoryBER;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> com.sun.jmx.snmp.agent.SnmpMibAgent;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> com.sun.jmx.snmp.agent.SnmpMibHandler;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> com.sun.jmx.snmp.agent.SnmpUserDataFactory;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> com.sun.jmx.snmp.agent.SnmpErrorHandlerAgent;
<a id="L74" name="L74"></a>  74 
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> com.sun.jmx.snmp.IPAcl.SnmpAcl;
<a id="L76" name="L76"></a>  76 
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> com.sun.jmx.snmp.tasks.ThreadService;
<a id="L78" name="L78"></a>  78 
<div class="comment">
  Implements an adaptor on top of the SNMP protocol.
  <p>
  When this SNMP protocol adaptor is started it creates a datagram socket
  and is able to receive requests and send traps or inform requests.
  When it is stopped, the socket is closed and neither requests
  and nor traps/inform request are processed.
  </p><p>
  The default port number of the socket is 161. This default value can be
  changed by specifying a port number:
  </p><ul>
  <li>in the object constructor</li>
  <li>using the {@link com.sun.jmx.snmp.daemon.CommunicatorServer#setPort
      setPort} method before starting the adaptor</li>
  </ul>
  The default object name is defined by {@link
  com.sun.jmx.snmp.ServiceName#DOMAIN com.sun.jmx.snmp.ServiceName.DOMAIN}
  and {@link com.sun.jmx.snmp.ServiceName#SNMP_ADAPTOR_SERVER
  com.sun.jmx.snmp.ServiceName.SNMP_ADAPTOR_SERVER}.
  <p>
  The SNMP protocol adaptor supports versions 1 and 2 of the SNMP protocol
  in a stateless way: when it receives a v1 request, it replies with a v1
  response, when it receives a v2 request it replies with a v2 response.
  <br>The method <a href="#L1497" title="Defined at 1497.">snmpV1Trap</a> sends traps using SNMP v1
  format.
  The method <a href="#L1822" title="Defined at 1822.">snmpV2Trap</a> sends traps using SNMP v2 format.
  The method <a href="#L2328" title="Defined at 2328.">snmpInformRequest</a> sends inform
  requests using SNMP v2 format.
  </p><p>
  To receive data packets, the SNMP protocol adaptor uses a buffer
  which size can be configured using the property <code>bufferSize</code>
  (default value is 1024).
  Packets which do not fit into the buffer are rejected.
  Increasing <code>bufferSize</code> allows the exchange of bigger packets.
  However, the underlying networking system may impose a limit on the size
  of UDP packets.
  Packets which size exceed this limit will be rejected, no matter what
  the value of <code>bufferSize</code> actually is.
  </p><p>
  An SNMP protocol adaptor may serve several managers concurrently. The
  number of concurrent managers can be limited using the property
  <code>maxActiveClientCount</code>.
  </p><p>
  The SNMP protocol adaptor specifies a default value (10) for the
  <code>maxActiveClientCount</code> property. When the adaptor is stopped,
  the active requests are interrupted and an error result is sent to
  the managers.
  </p><p><b>This API is a Sun Microsystems internal API  and is subject
  to change without notice.</b></p></div>
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7333.html" title="Multiple referred from 28 places.">SnmpAdaptorServer</a> <strong class="reserved">extends</strong> <a href="../S/6458.html#L112" title="Defined at 112 in src/com/sun/jmx/snmp/daemon/CommunicatorServer.java.">CommunicatorServer</a>
<a id="L131" name="L131"></a> 131     <strong class="reserved">implements</strong> <a href="../S/6460.html#L58" title="Defined at 58 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServerMBean.java.">SnmpAdaptorServerMBean</a>, <a href="../S/3438.html#L38" title="Defined at 38 in src/javax/management/MBeanRegistration.java.">MBeanRegistration</a>, <a href="../S/6476.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpDefinitions.java.">SnmpDefinitions</a>,
<a id="L132" name="L132"></a> 132                <a href="../S/6414.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/agent/SnmpMibHandler.java.">SnmpMibHandler</a> <em class="brace">{</em>
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134     <em class="comment">// PRIVATE VARIABLES</em>
<a id="L135" name="L135"></a> 135     <em class="comment">//------------------</em>
<a id="L136" name="L136"></a> 136 
<div class="comment">
      Port number for sending SNMP traps.
      <br>The default value is 162.</div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">private</strong> <strong class="reserved">int</strong>                 trapPort = 162;
<a id="L142" name="L142"></a> 142 
<div class="comment">
      Port number for sending SNMP inform requests.
      <br>The default value is 162.</div>
<a id="L147" name="L147"></a> 147     <strong class="reserved">private</strong> <strong class="reserved">int</strong>                 informPort = 162;
<a id="L148" name="L148"></a> 148 
<div class="comment">
      The <code>InetAddress</code> used when creating the datagram socket.
      <br>It is specified when creating the SNMP protocol adaptor.
      If not specified, the local host machine is used.</div>
<a id="L154" name="L154"></a> 154     <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong>;
<a id="L155" name="L155"></a> 155 
<div class="comment">
      The IP address based ACL used by this SNMP protocol adaptor.</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">private</strong> <a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> ipacl = <strong class="reserved">null</strong>;
<a id="L160" name="L160"></a> 160 
<div class="comment">
      The factory object.</div>
<a id="L164" name="L164"></a> 164     <strong class="reserved">private</strong> <a href="../S/6382.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPduFactory.java.">SnmpPduFactory</a> pduFactory = <strong class="reserved">null</strong>;
<a id="L165" name="L165"></a> 165 
<div class="comment">
      The user-data factory object.</div>
<a id="L169" name="L169"></a> 169     <strong class="reserved">private</strong> <a href="../S/6413.html#L66" title="Defined at 66 in src/com/sun/jmx/snmp/agent/SnmpUserDataFactory.java.">SnmpUserDataFactory</a> userDataFactory = <strong class="reserved">null</strong>;
<a id="L170" name="L170"></a> 170 
<div class="comment">
      Indicates if the SNMP protocol adaptor sends a response in case
      of authentication failure</div>
<a id="L175" name="L175"></a> 175     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> authRespEnabled = <strong class="reserved">true</strong>;
<a id="L176" name="L176"></a> 176 
<div class="comment">
      Indicates if authentication traps are enabled.</div>
<a id="L180" name="L180"></a> 180     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> authTrapEnabled = <strong class="reserved">true</strong>;
<a id="L181" name="L181"></a> 181 
<div class="comment">
      The enterprise OID.
      <br>The default value is "1.3.6.1.4.1.42".</div>
<a id="L186" name="L186"></a> 186     <strong class="reserved">private</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> enterpriseOid = <strong class="reserved">new</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>("1.3.6.1.4.1.42");
<a id="L187" name="L187"></a> 187 
<div class="comment">
      The buffer size of the SNMP protocol adaptor.
      This buffer size is used for both incoming request and outgoing
      inform requests.
      <br>The default value is 1024.</div>
<a id="L194" name="L194"></a> 194     <strong class="reserved">int</strong> bufferSize = 1024;
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">long</strong>            startUpTime     = 0;
<a id="L197" name="L197"></a> 197     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a>  <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a>          = <strong class="reserved">null</strong>;
<a id="L198" name="L198"></a> 198     <strong class="reserved">transient</strong> <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a>          trapSocket      = <strong class="reserved">null</strong>;
<a id="L199" name="L199"></a> 199     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/6455.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/daemon/SnmpSession.java.">SnmpSession</a>     informSession   = <strong class="reserved">null</strong>;
<a id="L200" name="L200"></a> 200     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a>  packet          = <strong class="reserved">null</strong>;
<a id="L201" name="L201"></a> 201     <strong class="reserved">transient</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a>&gt;    mibs            = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L202" name="L202"></a> 202     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/6456.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/daemon/SnmpMibTree.java.">SnmpMibTree</a>     <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L203" name="L203"></a> 203 
<div class="comment">
      Whether ACL must be used.</div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong>         useAcl = <strong class="reserved">true</strong>;
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209 
<a id="L210" name="L210"></a> 210     <em class="comment">// SENDING SNMP INFORMS STUFF</em>
<a id="L211" name="L211"></a> 211     <em class="comment">//---------------------------</em>
<a id="L212" name="L212"></a> 212 
<div class="comment">
      Number of times to try an inform request before giving up.
      The default number is 3.</div>
<a id="L217" name="L217"></a> 217     <strong class="reserved">private</strong> <strong class="reserved">int</strong> maxTries = 3 ;
<a id="L218" name="L218"></a> 218 
<div class="comment">
      The amount of time to wait for an inform response from the manager.
      The default amount of time is 3000 millisec.</div>
<a id="L223" name="L223"></a> 223     <strong class="reserved">private</strong> <strong class="reserved">int</strong> timeout = 3 * 1000 ;
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225     <em class="comment">// VARIABLES REQUIRED FOR IMPLEMENTING SNMP GROUP (MIBII)</em>
<a id="L226" name="L226"></a> 226     <em class="comment">//-------------------------------------------------------</em>
<a id="L227" name="L227"></a> 227 
<div class="comment">
      The <code>snmpOutTraps</code> value defined in MIB-II.</div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">int</strong> snmpOutTraps=0;
<a id="L232" name="L232"></a> 232 
<div class="comment">
      The <code>snmpOutGetResponses</code> value defined in MIB-II.</div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpOutGetResponses=0;
<a id="L237" name="L237"></a> 237 
<div class="comment">
      The <code>snmpOutGenErrs</code> value defined in MIB-II.</div>
<a id="L241" name="L241"></a> 241     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpOutGenErrs=0;
<a id="L242" name="L242"></a> 242 
<div class="comment">
      The <code>snmpOutBadValues</code> value defined in MIB-II.</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpOutBadValues=0;
<a id="L247" name="L247"></a> 247 
<div class="comment">
      The <code>snmpOutNoSuchNames</code> value defined in MIB-II.</div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpOutNoSuchNames=0;
<a id="L252" name="L252"></a> 252 
<div class="comment">
      The <code>snmpOutTooBigs</code> value defined in MIB-II.</div>
<a id="L256" name="L256"></a> 256     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpOutTooBigs=0;
<a id="L257" name="L257"></a> 257 
<div class="comment">
      The <code>snmpOutPkts</code> value defined in MIB-II.</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">int</strong> snmpOutPkts=0;
<a id="L262" name="L262"></a> 262 
<div class="comment">
      The <code>snmpInASNParseErrs</code> value defined in MIB-II.</div>
<a id="L266" name="L266"></a> 266     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInASNParseErrs=0;
<a id="L267" name="L267"></a> 267 
<div class="comment">
      The <code>snmpInBadCommunityUses</code> value defined in MIB-II.</div>
<a id="L271" name="L271"></a> 271     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInBadCommunityUses=0;
<a id="L272" name="L272"></a> 272 
<div class="comment">
      The <code>snmpInBadCommunityNames</code> value defined in MIB-II.</div>
<a id="L276" name="L276"></a> 276     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInBadCommunityNames=0;
<a id="L277" name="L277"></a> 277 
<div class="comment">
      The <code>snmpInBadVersions</code> value defined in MIB-II.</div>
<a id="L281" name="L281"></a> 281     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInBadVersions=0;
<a id="L282" name="L282"></a> 282 
<div class="comment">
      The <code>snmpInGetRequests</code> value defined in MIB-II.</div>
<a id="L286" name="L286"></a> 286     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInGetRequests=0;
<a id="L287" name="L287"></a> 287 
<div class="comment">
      The <code>snmpInGetNexts</code> value defined in MIB-II.</div>
<a id="L291" name="L291"></a> 291     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInGetNexts=0;
<a id="L292" name="L292"></a> 292 
<div class="comment">
      The <code>snmpInSetRequests</code> value defined in MIB-II.</div>
<a id="L296" name="L296"></a> 296     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInSetRequests=0;
<a id="L297" name="L297"></a> 297 
<div class="comment">
      The <code>snmpInPkts</code> value defined in MIB-II.</div>
<a id="L301" name="L301"></a> 301     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInPkts=0;
<a id="L302" name="L302"></a> 302 
<div class="comment">
      The <code>snmpInTotalReqVars</code> value defined in MIB-II.</div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInTotalReqVars=0;
<a id="L307" name="L307"></a> 307 
<div class="comment">
      The <code>snmpInTotalSetVars</code> value defined in MIB-II.</div>
<a id="L311" name="L311"></a> 311     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpInTotalSetVars=0;
<a id="L312" name="L312"></a> 312 
<div class="comment">
      The <code>snmpInTotalSetVars</code> value defined in rfc 1907 MIB-II.</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">private</strong> <strong class="reserved">int</strong> snmpSilentDrops=0;
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> InterruptSysCallMsg =
<a id="L319" name="L319"></a> 319         "Interrupted system call";
<a id="L320" name="L320"></a> 320     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> sysUpTimeOid = <strong class="reserved">new</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>("1.3.6.1.2.1.1.3.0") ;
<a id="L321" name="L321"></a> 321     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> snmpTrapOidOid = <strong class="reserved">new</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>("1.3.6.1.6.3.1.1.4.1.0");
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323     <strong class="reserved">private</strong> <a href="../S/6313.html#L38" title="Defined at 38 in src/com/sun/jmx/snmp/tasks/ThreadService.java.">ThreadService</a> threadService;
<a id="L324" name="L324"></a> 324 
<a id="L325" name="L325"></a> 325     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> threadNumber = 6;
<a id="L326" name="L326"></a> 326 
<a id="L327" name="L327"></a> 327     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L328" name="L328"></a> 328         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("com.sun.jmx.snmp.threadnumber");
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330         <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L332" name="L332"></a> 332                 threadNumber = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(s));
<a id="L333" name="L333"></a> 333             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER,
<a id="L335" name="L335"></a> 335                         <a href="../S/6449.html#L130" title="Defined at 130 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">SnmpAdaptorServer</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L336" name="L336"></a> 336                         "&lt;static init&gt;",
<a id="L337" name="L337"></a> 337                         "Got wrong value for com.sun.jmx.snmp.threadnumber: " +
<a id="L338" name="L338"></a> 338                         s + ". Use the default value: " + threadNumber);
<a id="L339" name="L339"></a> 339             <em class="brace">}</em>
<a id="L340" name="L340"></a> 340         <em class="brace">}</em>
<a id="L341" name="L341"></a> 341     <em class="brace">}</em>
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343     <em class="comment">// PUBLIC CONSTRUCTORS</em>
<a id="L344" name="L344"></a> 344     <em class="comment">//--------------------</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Initializes this SNMP protocol adaptor using the default port (161).
      Use the {@link com.sun.jmx.snmp.IPAcl.SnmpAcl} default
      implementation of the <code>InetAddressAcl</code> interface.</div>
<a id="L351" name="L351"></a> 351     <strong class="reserved">public</strong> SnmpAdaptorServer() <em class="brace">{</em>
<a id="L352" name="L352"></a> 352         <strong class="reserved">this</strong>(<strong class="reserved">true</strong>, <strong class="reserved">null</strong>, com.sun.jmx.snmp.<a href="../D/7883.html" title="Multiple defined in 2 places.">ServiceName</a>.SNMP_ADAPTOR_PORT,
<a id="L353" name="L353"></a> 353              <strong class="reserved">null</strong>) ;
<a id="L354" name="L354"></a> 354     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<div class="comment">
      Initializes this SNMP protocol adaptor using the specified port.
      Use the {@link com.sun.jmx.snmp.IPAcl.SnmpAcl} default
      implementation of the <code>InetAddressAcl</code> interface.
      @param port The port number for sending SNMP responses.</div>
<a id="L363" name="L363"></a> 363     <strong class="reserved">public</strong> SnmpAdaptorServer(<strong class="reserved">int</strong> port) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <strong class="reserved">this</strong>(<strong class="reserved">true</strong>, <strong class="reserved">null</strong>, port, <strong class="reserved">null</strong>) ;
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      Initializes this SNMP protocol adaptor using the default port (161)
      and the specified IP address based ACL implementation.
      @param acl The <code>InetAddressAcl</code> implementation.
             <code>null</code> means no ACL - everybody is authorized.
      @since 1.5</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> SnmpAdaptorServer(<a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> acl) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">this</strong>(<strong class="reserved">false</strong>, acl, com.sun.jmx.snmp.<a href="../D/7883.html" title="Multiple defined in 2 places.">ServiceName</a>.SNMP_ADAPTOR_PORT,
<a id="L378" name="L378"></a> 378              <strong class="reserved">null</strong>) ;
<a id="L379" name="L379"></a> 379     <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<div class="comment">
      Initializes this SNMP protocol adaptor using the default port (161)
      and the
      specified <code>InetAddress</code>.
      Use the {@link com.sun.jmx.snmp.IPAcl.SnmpAcl} default
      implementation of the <code>InetAddressAcl</code> interface.
      @param addr The IP address to bind.</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> SnmpAdaptorServer(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">this</strong>(<strong class="reserved">true</strong>, <strong class="reserved">null</strong>, com.sun.jmx.snmp.<a href="../D/7883.html" title="Multiple defined in 2 places.">ServiceName</a>.SNMP_ADAPTOR_PORT,
<a id="L392" name="L392"></a> 392              addr) ;
<a id="L393" name="L393"></a> 393     <em class="brace">}</em>
<a id="L394" name="L394"></a> 394 
<div class="comment">
      Initializes this SNMP protocol adaptor using the specified port and the
      specified IP address based ACL implementation.
      @param acl The <code>InetAddressAcl</code> implementation.
             <code>null</code> means no ACL - everybody is authorized.
      @param port The port number for sending SNMP responses.
      @since 1.5</div>
<a id="L405" name="L405"></a> 405     <strong class="reserved">public</strong> SnmpAdaptorServer(<a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> acl, <strong class="reserved">int</strong> port) <em class="brace">{</em>
<a id="L406" name="L406"></a> 406         <strong class="reserved">this</strong>(<strong class="reserved">false</strong>, acl, port, <strong class="reserved">null</strong>) ;
<a id="L407" name="L407"></a> 407     <em class="brace">}</em>
<a id="L408" name="L408"></a> 408 
<div class="comment">
      Initializes this SNMP protocol adaptor using the specified port and the
      specified <code>InetAddress</code>.
      Use the {@link com.sun.jmx.snmp.IPAcl.SnmpAcl} default
      implementation of the <code>InetAddressAcl</code> interface.
      @param port The port number for sending SNMP responses.
      @param addr The IP address to bind.</div>
<a id="L418" name="L418"></a> 418     <strong class="reserved">public</strong> SnmpAdaptorServer(<strong class="reserved">int</strong> port, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr) <em class="brace">{</em>
<a id="L419" name="L419"></a> 419         <strong class="reserved">this</strong>(<strong class="reserved">true</strong>, <strong class="reserved">null</strong>, port, addr) ;
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<div class="comment">
      Initializes this SNMP protocol adaptor using the specified IP
      address based ACL implementation and the specified
      <code>InetAddress</code>.
      @param acl The <code>InetAddressAcl</code> implementation.
      @param addr The IP address to bind.
      @since 1.5</div>
<a id="L432" name="L432"></a> 432     <strong class="reserved">public</strong> SnmpAdaptorServer(<a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> acl, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433         <strong class="reserved">this</strong>(<strong class="reserved">false</strong>, acl, com.sun.jmx.snmp.<a href="../D/7883.html" title="Multiple defined in 2 places.">ServiceName</a>.SNMP_ADAPTOR_PORT,
<a id="L434" name="L434"></a> 434              addr) ;
<a id="L435" name="L435"></a> 435     <em class="brace">}</em>
<a id="L436" name="L436"></a> 436 
<div class="comment">
      Initializes this SNMP protocol adaptor using the specified port, the
      specified  address based ACL implementation and the specified
      <code>InetAddress</code>.
      @param acl The <code>InetAddressAcl</code> implementation.
      @param port The port number for sending SNMP responses.
      @param addr The IP address to bind.
      @since 1.5</div>
<a id="L448" name="L448"></a> 448     <strong class="reserved">public</strong> SnmpAdaptorServer(<a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> acl, <strong class="reserved">int</strong> port, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449         <strong class="reserved">this</strong>(<strong class="reserved">false</strong>, acl, port, addr);
<a id="L450" name="L450"></a> 450     <em class="brace">}</em>
<a id="L451" name="L451"></a> 451 
<div class="comment">
      Initializes this SNMP protocol adaptor using the specified port and the
      specified <code>InetAddress</code>.
      This constructor allows to initialize an SNMP adaptor without using
      the ACL mechanism (by setting the <code>useAcl</code> parameter to
      false).
      <br>This constructor must be used in particular with a platform that
      does not support the <code>java.security.acl</code> package like pJava.
      @param useAcl Specifies if this new SNMP adaptor uses the ACL mechanism.
      If the specified parameter is set to <code>true</code>, this
      constructor is equivalent to
      <code>SnmpAdaptorServer((int)port,(InetAddress)addr)</code>.
      @param port The port number for sending SNMP responses.
      @param addr The IP address to bind.</div>
<a id="L468" name="L468"></a> 468     <strong class="reserved">public</strong> SnmpAdaptorServer(<strong class="reserved">boolean</strong> useAcl, <strong class="reserved">int</strong> port, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">this</strong>(useAcl,<strong class="reserved">null</strong>,port,addr);
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<a id="L472" name="L472"></a> 472     <em class="comment">// If forceAcl is `true' and InetAddressAcl is null, then a default</em>
<a id="L473" name="L473"></a> 473     <em class="comment">// SnmpAcl object is created.</em>
<a id="L474" name="L474"></a> 474     <em class="comment">//</em>
<a id="L475" name="L475"></a> 475     <strong class="reserved">private</strong> SnmpAdaptorServer(<strong class="reserved">boolean</strong> forceAcl, <a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> acl,
<a id="L476" name="L476"></a> 476                               <strong class="reserved">int</strong> port, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477         <strong class="reserved">super</strong>(<a href="../S/6458.html#L112" title="Defined at 112 in src/com/sun/jmx/snmp/daemon/CommunicatorServer.java.">CommunicatorServer</a>.SNMP_TYPE) ;
<a id="L478" name="L478"></a> 478 
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480         <em class="comment">// Initialize the ACL implementation.</em>
<a id="L481" name="L481"></a> 481         <em class="comment">//</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">if</strong> (acl == <strong class="reserved">null</strong> &amp;&amp; forceAcl) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L484" name="L484"></a> 484                 acl = <strong class="reserved">new</strong> <a href="../S/6354.html#L65" title="Defined at 65 in src/com/sun/jmx/snmp/IPAcl/SnmpAcl.java.">SnmpAcl</a>("SNMP protocol adaptor IP ACL");
<a id="L485" name="L485"></a> 485             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L486" name="L486"></a> 486                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L488" name="L488"></a> 488                         "constructor", "UnknowHostException when creating ACL",e);
<a id="L489" name="L489"></a> 489                 <em class="brace">}</em>
<a id="L490" name="L490"></a> 490             <em class="brace">}</em>
<a id="L491" name="L491"></a> 491         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L492" name="L492"></a> 492             <strong class="reserved">this</strong>.useAcl = (acl!=<strong class="reserved">null</strong>) || forceAcl;
<a id="L493" name="L493"></a> 493         <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(acl, port, addr) ;
<a id="L496" name="L496"></a> 496     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<a id="L498" name="L498"></a> 498     <em class="comment">// GETTERS AND SETTERS</em>
<a id="L499" name="L499"></a> 499     <em class="comment">//--------------------</em>
<a id="L500" name="L500"></a> 500 
<div class="comment">
      Gets the number of managers that have been processed by this
      SNMP protocol adaptor  since its creation.
      @return The number of managers handled by this SNMP protocol adaptor
      since its creation. This counter is not reset by the <code>stop</code>
      method.</div>
<a id="L509" name="L509"></a> 509     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L510" name="L510"></a> 510     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/6449.html#L511" title="Referred from 511 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getServedClientCount</a>() <em class="brace">{</em>
<a id="L511" name="L511"></a> 511         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/22417.html" title="Multiple defined in 3 places.">getServedClientCount</a>();
<a id="L512" name="L512"></a> 512     <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<div class="comment">
      Gets the number of managers currently being processed by this
      SNMP protocol adaptor.
      @return The number of managers currently being processed by this
      SNMP protocol adaptor.</div>
<a id="L521" name="L521"></a> 521     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L522" name="L522"></a> 522     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/14958.html" title="Multiple referred from 2 places.">getActiveClientCount</a>() <em class="brace">{</em>
<a id="L523" name="L523"></a> 523         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/16793.html" title="Multiple defined in 3 places.">getActiveClientCount</a>();
<a id="L524" name="L524"></a> 524     <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<div class="comment">
      Gets the maximum number of managers that this SNMP protocol adaptor can
      process concurrently.
      @return The maximum number of managers that this SNMP protocol adaptor
              can process concurrently.</div>
<a id="L533" name="L533"></a> 533     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L534" name="L534"></a> 534     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/6449.html#L535" title="Referred from 535 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getMaxActiveClientCount</a>() <em class="brace">{</em>
<a id="L535" name="L535"></a> 535         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/20420.html" title="Multiple defined in 3 places.">getMaxActiveClientCount</a>();
<a id="L536" name="L536"></a> 536     <em class="brace">}</em>
<a id="L537" name="L537"></a> 537 
<div class="comment">
      Sets the maximum number of managers this SNMP protocol adaptor can
      process concurrently.
      @param c The number of managers.
      @exception java.lang.IllegalStateException This method has been invoked
      while the communicator was <code>ONLINE</code> or <code>STARTING</code>.</div>
<a id="L547" name="L547"></a> 547     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L548" name="L548"></a> 548     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/6449.html#L550" title="Referred from 550 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">setMaxActiveClientCount</a>(<strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)
<a id="L549" name="L549"></a> 549         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> <em class="brace">{</em>
<a id="L550" name="L550"></a> 550         <strong class="reserved">super</strong>.<a href="../D/33195.html" title="Multiple defined in 3 places.">setMaxActiveClientCount</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L551" name="L551"></a> 551     <em class="brace">}</em>
<a id="L552" name="L552"></a> 552 
<div class="comment">
      Returns the Ip address based ACL used by this SNMP protocol adaptor.
      @return The <code>InetAddressAcl</code> implementation.
      @since 1.5</div>
<a id="L559" name="L559"></a> 559     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L560" name="L560"></a> 560     <strong class="reserved">public</strong> <a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> getInetAddressAcl() <em class="brace">{</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">return</strong> ipacl;
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<div class="comment">
      Returns the port used by this SNMP protocol adaptor for sending traps.
      By default, port 162 is used.
      @return The port number for sending SNMP traps.</div>
<a id="L570" name="L570"></a> 570     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L571" name="L571"></a> 571     <strong class="reserved">public</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../S/6449.html#L2111" title="Referred from 2111 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">getTrapPort</a>() <em class="brace">{</em>
<a id="L572" name="L572"></a> 572         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(trapPort) ;
<a id="L573" name="L573"></a> 573     <em class="brace">}</em>
<a id="L574" name="L574"></a> 574 
<div class="comment">
      Sets the port used by this SNMP protocol adaptor for sending traps.
      @param port The port number for sending SNMP traps.</div>
<a id="L580" name="L580"></a> 580     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L581" name="L581"></a> 581     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/6449.html#L582" title="Referred from 582 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">setTrapPort</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> port) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <a href="../D/34192.html" title="Multiple defined in 3 places.">setTrapPort</a>(port.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L583" name="L583"></a> 583     <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<div class="comment">
      Sets the port used by this SNMP protocol adaptor for sending traps.
      @param port The port number for sending SNMP traps.</div>
<a id="L590" name="L590"></a> 590     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/6449.html#L582" title="Referred from 582 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">setTrapPort</a>(<strong class="reserved">int</strong> port) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591         <strong class="reserved">int</strong> <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a>= port ;
<a id="L592" name="L592"></a> 592         <strong class="reserved">if</strong> (<a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> &lt; 0) <strong class="reserved">throw</strong> <strong class="reserved">new</strong>
<a id="L593" name="L593"></a> 593             <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Trap port cannot be a negative value");
<a id="L594" name="L594"></a> 594         trapPort= <a href="../S/1444.html#L56" title="Defined at 56 in src/java/io/ExpiringCache.java.">val</a> ;
<a id="L595" name="L595"></a> 595     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<div class="comment">
      Returns the port used by this SNMP protocol adaptor for sending
      inform requests. By default, port 162 is used.
      @return The port number for sending SNMP inform requests.</div>
<a id="L603" name="L603"></a> 603     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L604" name="L604"></a> 604     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17062.html" title="Multiple referred from 2 places.">getInformPort</a>() <em class="brace">{</em>
<a id="L605" name="L605"></a> 605         <strong class="reserved">return</strong> informPort;
<a id="L606" name="L606"></a> 606     <em class="brace">}</em>
<a id="L607" name="L607"></a> 607 
<div class="comment">
      Sets the port used by this SNMP protocol adaptor for sending
      inform requests.
      @param port The port number for sending SNMP inform requests.</div>
<a id="L614" name="L614"></a> 614     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L615" name="L615"></a> 615     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setInformPort(<strong class="reserved">int</strong> port) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616         <strong class="reserved">if</strong> (port &lt; 0)
<a id="L617" name="L617"></a> 617             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Inform request port "+
<a id="L618" name="L618"></a> 618                                                "cannot be a negative value");
<a id="L619" name="L619"></a> 619         informPort= port ;
<a id="L620" name="L620"></a> 620     <em class="brace">}</em>
<a id="L621" name="L621"></a> 621 
<div class="comment">
      Returns the protocol of this SNMP protocol adaptor.
      @return The string "snmp".</div>
<a id="L627" name="L627"></a> 627     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L628" name="L628"></a> 628     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18529.html" title="Multiple referred from 40 places.">getProtocol</a>() <em class="brace">{</em>
<a id="L629" name="L629"></a> 629         <strong class="reserved">return</strong> "snmp";
<a id="L630" name="L630"></a> 630     <em class="brace">}</em>
<a id="L631" name="L631"></a> 631 
<div class="comment">
      Returns the buffer size of this SNMP protocol adaptor.
      This buffer size is used for both incoming request and outgoing
      inform requests.
      By default, buffer size 1024 is used.
      @return The buffer size.</div>
<a id="L640" name="L640"></a> 640     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L641" name="L641"></a> 641     <strong class="reserved">public</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> <a href="../R/15344.html" title="Multiple referred from 7 places.">getBufferSize</a>() <em class="brace">{</em>
<a id="L642" name="L642"></a> 642         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(bufferSize) ;
<a id="L643" name="L643"></a> 643     <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<div class="comment">
      Sets the buffer size of this SNMP protocol adaptor.
      This buffer size is used for both incoming request and outgoing
      inform requests.
      @param s The buffer size.
      @exception java.lang.IllegalStateException This method has been invoked
      while the communicator was <code>ONLINE</code> or <code>STARTING</code>.</div>
<a id="L655" name="L655"></a> 655     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L656" name="L656"></a> 656     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26973.html" title="Multiple referred from 8 places.">setBufferSize</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> s)
<a id="L657" name="L657"></a> 657         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> <em class="brace">{</em>
<a id="L658" name="L658"></a> 658         <strong class="reserved">if</strong> ((<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == ONLINE) || (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == STARTING)) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("Stop server before carrying out"+
<a id="L660" name="L660"></a> 660                                             " this operation");
<a id="L661" name="L661"></a> 661         <em class="brace">}</em>
<a id="L662" name="L662"></a> 662         bufferSize = s.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>() ;
<a id="L663" name="L663"></a> 663     <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<div class="comment">
      Gets the number of times to try sending an inform request before
      giving up.
      By default, a maximum of 3 tries is used.
      @return The maximun number of tries.</div>
<a id="L671" name="L671"></a> 671     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L672" name="L672"></a> 672     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17604.html" title="Multiple referred from 3 places.">getMaxTries</a>() <em class="brace">{</em>
<a id="L673" name="L673"></a> 673         <strong class="reserved">return</strong> maxTries;
<a id="L674" name="L674"></a> 674     <em class="brace">}</em>
<a id="L675" name="L675"></a> 675 
<div class="comment">
      Changes the maximun number of times to try sending an inform
      request before giving up.
      @param newMaxTries The maximun number of tries.</div>
<a id="L681" name="L681"></a> 681     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L682" name="L682"></a> 682     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setMaxTries(<strong class="reserved">int</strong> newMaxTries) <em class="brace">{</em>
<a id="L683" name="L683"></a> 683         <strong class="reserved">if</strong> (newMaxTries &lt; 0)
<a id="L684" name="L684"></a> 684             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L685" name="L685"></a> 685         maxTries = newMaxTries;
<a id="L686" name="L686"></a> 686     <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<div class="comment">
      Gets the timeout to wait for an inform response from the manager.
      By default, a timeout of 3 seconds is used.
      @return The value of the timeout property.</div>
<a id="L693" name="L693"></a> 693     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L694" name="L694"></a> 694     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19500.html" title="Multiple referred from 3 places.">getTimeout</a>() <em class="brace">{</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> timeout;
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<div class="comment">
      Changes the timeout to wait for an inform response from the manager.
      @param newTimeout The timeout (in milliseconds).</div>
<a id="L702" name="L702"></a> 702     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L703" name="L703"></a> 703     <strong class="reserved">final</strong> <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../S/6457.html#L239" title="Referred from 239 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">setTimeout</a>(<strong class="reserved">int</strong> newTimeout) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704         <strong class="reserved">if</strong> (newTimeout &lt; 0)
<a id="L705" name="L705"></a> 705             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L706" name="L706"></a> 706         timeout= newTimeout;
<a id="L707" name="L707"></a> 707     <em class="brace">}</em>
<a id="L708" name="L708"></a> 708 
<div class="comment">
      Returns the message factory of this SNMP protocol adaptor.
      @return The factory object.</div>
<a id="L714" name="L714"></a> 714     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L715" name="L715"></a> 715     <strong class="reserved">public</strong> <a href="../S/6382.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPduFactory.java.">SnmpPduFactory</a> <a href="../R/18321.html" title="Multiple referred from 2 places.">getPduFactory</a>() <em class="brace">{</em>
<a id="L716" name="L716"></a> 716         <strong class="reserved">return</strong> pduFactory ;
<a id="L717" name="L717"></a> 717     <em class="brace">}</em>
<a id="L718" name="L718"></a> 718 
<div class="comment">
      Sets the message factory of this SNMP protocol adaptor.
      @param factory The factory object (null means the default factory).</div>
<a id="L724" name="L724"></a> 724     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L725" name="L725"></a> 725     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setPduFactory(<a href="../S/6382.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPduFactory.java.">SnmpPduFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726         <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> == <strong class="reserved">null</strong>)
<a id="L727" name="L727"></a> 727             pduFactory = <strong class="reserved">new</strong> <a href="../S/6369.html#L79" title="Defined at 79 in src/com/sun/jmx/snmp/SnmpPduFactoryBER.java.">SnmpPduFactoryBER</a>() ;
<a id="L728" name="L728"></a> 728         <strong class="reserved">else</strong>
<a id="L729" name="L729"></a> 729             pduFactory = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> ;
<a id="L730" name="L730"></a> 730     <em class="brace">}</em>
<a id="L731" name="L731"></a> 731 
<div class="comment">
      Set the user-data factory of this SNMP protocol adaptor.
      @param factory The factory object (null means no factory).
      @see com.sun.jmx.snmp.agent.SnmpUserDataFactory</div>
<a id="L738" name="L738"></a> 738     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L739" name="L739"></a> 739     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setUserDataFactory(<a href="../S/6413.html#L66" title="Defined at 66 in src/com/sun/jmx/snmp/agent/SnmpUserDataFactory.java.">SnmpUserDataFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>) <em class="brace">{</em>
<a id="L740" name="L740"></a> 740         userDataFactory = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> ;
<a id="L741" name="L741"></a> 741     <em class="brace">}</em>
<a id="L742" name="L742"></a> 742 
<div class="comment">
      Get the user-data factory associated with this SNMP protocol adaptor.
      @return The factory object (null means no factory).
      @see com.sun.jmx.snmp.agent.SnmpUserDataFactory</div>
<a id="L749" name="L749"></a> 749     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L750" name="L750"></a> 750     <strong class="reserved">public</strong> <a href="../S/6413.html#L66" title="Defined at 66 in src/com/sun/jmx/snmp/agent/SnmpUserDataFactory.java.">SnmpUserDataFactory</a> getUserDataFactory() <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">return</strong> userDataFactory;
<a id="L752" name="L752"></a> 752     <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<div class="comment">
      Returns <code>true</code> if authentication traps are enabled.
      <p>
      When this feature is enabled, the SNMP protocol adaptor sends
      an <code>authenticationFailure</code> trap each time an
      authentication fails.
      </p><p>
      The default behaviour is to send authentication traps.
      @return <code>true</code> if authentication traps are enabled,
              <code>false</code> otherwise.</p></div>
<a id="L766" name="L766"></a> 766     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L767" name="L767"></a> 767     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/6462.html#L425" title="Referred from 425 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">getAuthTrapEnabled</a>() <em class="brace">{</em>
<a id="L768" name="L768"></a> 768         <strong class="reserved">return</strong> authTrapEnabled ;
<a id="L769" name="L769"></a> 769     <em class="brace">}</em>
<a id="L770" name="L770"></a> 770 
<div class="comment">
      Sets the flag indicating if traps need to be sent in case of
      authentication failure.
      @param enabled Flag indicating if traps need to be sent.</div>
<a id="L777" name="L777"></a> 777     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L778" name="L778"></a> 778     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setAuthTrapEnabled(<strong class="reserved">boolean</strong> <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779         authTrapEnabled = <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a> ;
<a id="L780" name="L780"></a> 780     <em class="brace">}</em>
<a id="L781" name="L781"></a> 781 
<div class="comment">
      Returns <code>true</code> if this SNMP protocol adaptor sends a
      response in case of authentication failure.
      <p>
      When this feature is enabled, the SNMP protocol adaptor sends a
      response with <code>noSuchName</code> or <code>readOnly</code> when
      the authentication failed. If the flag is disabled, the
      SNMP protocol adaptor trashes the PDU silently.
      </p><p>
      The default behavior is to send responses.
      @return <code>true</code> if responses are sent.</p></div>
<a id="L795" name="L795"></a> 795     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L796" name="L796"></a> 796     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/6462.html#L422" title="Referred from 422 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">getAuthRespEnabled</a>() <em class="brace">{</em>
<a id="L797" name="L797"></a> 797         <strong class="reserved">return</strong> authRespEnabled ;
<a id="L798" name="L798"></a> 798     <em class="brace">}</em>
<a id="L799" name="L799"></a> 799 
<div class="comment">
      Sets the flag indicating if responses need to be sent in case of
      authentication failure.
      @param enabled Flag indicating if responses need to be sent.</div>
<a id="L806" name="L806"></a> 806     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L807" name="L807"></a> 807     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setAuthRespEnabled(<strong class="reserved">boolean</strong> <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>) <em class="brace">{</em>
<a id="L808" name="L808"></a> 808         authRespEnabled = <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a> ;
<a id="L809" name="L809"></a> 809     <em class="brace">}</em>
<a id="L810" name="L810"></a> 810 
<div class="comment">
      Returns the enterprise OID. It is used by
      <a href="#L1497" title="Defined at 1497.">snmpV1Trap</a> to fill the 'enterprise' field of the
      trap request.
      @return The OID in string format "x.x.x.x".</div>
<a id="L818" name="L818"></a> 818     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L819" name="L819"></a> 819     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getEnterpriseOid() <em class="brace">{</em>
<a id="L820" name="L820"></a> 820         <strong class="reserved">return</strong> enterpriseOid.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() ;
<a id="L821" name="L821"></a> 821     <em class="brace">}</em>
<a id="L822" name="L822"></a> 822 
<div class="comment">
      Sets the enterprise OID.
      @param oid The OID in string format "x.x.x.x".
      @exception IllegalArgumentException The string format is incorrect</div>
<a id="L830" name="L830"></a> 830     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L831" name="L831"></a> 831     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setEnterpriseOid(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> oid) <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L832" name="L832"></a> 832         enterpriseOid = <strong class="reserved">new</strong> <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>(oid) ;
<a id="L833" name="L833"></a> 833     <em class="brace">}</em>
<a id="L834" name="L834"></a> 834 
<div class="comment">
      Returns the names of the MIBs available in this SNMP protocol adaptor.
      @return An array of MIB names.</div>
<a id="L840" name="L840"></a> 840     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L841" name="L841"></a> 841     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] getMibs() <em class="brace">{</em>
<a id="L842" name="L842"></a> 842         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[mibs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L843" name="L843"></a> 843         <strong class="reserved">int</strong> i = 0 ;
<a id="L844" name="L844"></a> 844         <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a>&gt; e = mibs.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>() ; e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() ;) <em class="brace">{</em>
<a id="L845" name="L845"></a> 845             <a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib = e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() ;
<a id="L846" name="L846"></a> 846             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i++] = mib.<a href="../D/20602.html" title="Multiple defined in 2 places.">getMibName</a>();
<a id="L847" name="L847"></a> 847         <em class="brace">}</em>
<a id="L848" name="L848"></a> 848         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> ;
<a id="L849" name="L849"></a> 849     <em class="brace">}</em>
<a id="L850" name="L850"></a> 850 
<a id="L851" name="L851"></a> 851     <em class="comment">// GETTERS FOR SNMP GROUP (MIBII)</em>
<a id="L852" name="L852"></a> 852     <em class="comment">//-------------------------------</em>
<a id="L853" name="L853"></a> 853 
<div class="comment">
      Returns the <code>snmpOutTraps</code> value defined in MIB-II.
      @return The <code>snmpOutTraps</code> value.</div>
<a id="L859" name="L859"></a> 859     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L860" name="L860"></a> 860     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutTraps() <em class="brace">{</em>
<a id="L861" name="L861"></a> 861         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutTraps);
<a id="L862" name="L862"></a> 862     <em class="brace">}</em>
<a id="L863" name="L863"></a> 863 
<div class="comment">
      Returns the <code>snmpOutGetResponses</code> value defined in MIB-II.
      @return The <code>snmpOutGetResponses</code> value.</div>
<a id="L869" name="L869"></a> 869     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L870" name="L870"></a> 870     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutGetResponses() <em class="brace">{</em>
<a id="L871" name="L871"></a> 871         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutGetResponses);
<a id="L872" name="L872"></a> 872     <em class="brace">}</em>
<a id="L873" name="L873"></a> 873 
<div class="comment">
      Returns the <code>snmpOutGenErrs</code> value defined in MIB-II.
      @return The <code>snmpOutGenErrs</code> value.</div>
<a id="L879" name="L879"></a> 879     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L880" name="L880"></a> 880     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutGenErrs() <em class="brace">{</em>
<a id="L881" name="L881"></a> 881         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutGenErrs);
<a id="L882" name="L882"></a> 882     <em class="brace">}</em>
<a id="L883" name="L883"></a> 883 
<div class="comment">
      Returns the <code>snmpOutBadValues</code> value defined in MIB-II.
      @return The <code>snmpOutBadValues</code> value.</div>
<a id="L889" name="L889"></a> 889     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L890" name="L890"></a> 890     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutBadValues() <em class="brace">{</em>
<a id="L891" name="L891"></a> 891         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutBadValues);
<a id="L892" name="L892"></a> 892     <em class="brace">}</em>
<a id="L893" name="L893"></a> 893 
<div class="comment">
      Returns the <code>snmpOutNoSuchNames</code> value defined in MIB-II.
      @return The <code>snmpOutNoSuchNames</code> value.</div>
<a id="L899" name="L899"></a> 899     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L900" name="L900"></a> 900     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutNoSuchNames() <em class="brace">{</em>
<a id="L901" name="L901"></a> 901         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutNoSuchNames);
<a id="L902" name="L902"></a> 902     <em class="brace">}</em>
<a id="L903" name="L903"></a> 903 
<div class="comment">
      Returns the <code>snmpOutTooBigs</code> value defined in MIB-II.
      @return The <code>snmpOutTooBigs</code> value.</div>
<a id="L909" name="L909"></a> 909     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L910" name="L910"></a> 910     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutTooBigs() <em class="brace">{</em>
<a id="L911" name="L911"></a> 911         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutTooBigs);
<a id="L912" name="L912"></a> 912     <em class="brace">}</em>
<a id="L913" name="L913"></a> 913 
<div class="comment">
      Returns the <code>snmpInASNParseErrs</code> value defined in MIB-II.
      @return The <code>snmpInASNParseErrs</code> value.</div>
<a id="L919" name="L919"></a> 919     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L920" name="L920"></a> 920     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInASNParseErrs() <em class="brace">{</em>
<a id="L921" name="L921"></a> 921         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInASNParseErrs);
<a id="L922" name="L922"></a> 922     <em class="brace">}</em>
<a id="L923" name="L923"></a> 923 
<div class="comment">
      Returns the <code>snmpInBadCommunityUses</code> value defined in MIB-II.
      @return The <code>snmpInBadCommunityUses</code> value.</div>
<a id="L929" name="L929"></a> 929     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L930" name="L930"></a> 930     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInBadCommunityUses() <em class="brace">{</em>
<a id="L931" name="L931"></a> 931         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInBadCommunityUses);
<a id="L932" name="L932"></a> 932     <em class="brace">}</em>
<a id="L933" name="L933"></a> 933 
<div class="comment">
      Returns the <code>snmpInBadCommunityNames</code> value defined in
      MIB-II.
      @return The <code>snmpInBadCommunityNames</code> value.</div>
<a id="L940" name="L940"></a> 940     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L941" name="L941"></a> 941     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInBadCommunityNames() <em class="brace">{</em>
<a id="L942" name="L942"></a> 942         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInBadCommunityNames);
<a id="L943" name="L943"></a> 943     <em class="brace">}</em>
<a id="L944" name="L944"></a> 944 
<div class="comment">
      Returns the <code>snmpInBadVersions</code> value defined in MIB-II.
      @return The <code>snmpInBadVersions</code> value.</div>
<a id="L950" name="L950"></a> 950     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L951" name="L951"></a> 951     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInBadVersions() <em class="brace">{</em>
<a id="L952" name="L952"></a> 952         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInBadVersions);
<a id="L953" name="L953"></a> 953     <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<div class="comment">
      Returns the <code>snmpOutPkts</code> value defined in MIB-II.
      @return The <code>snmpOutPkts</code> value.</div>
<a id="L960" name="L960"></a> 960     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L961" name="L961"></a> 961     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpOutPkts() <em class="brace">{</em>
<a id="L962" name="L962"></a> 962         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpOutPkts);
<a id="L963" name="L963"></a> 963     <em class="brace">}</em>
<a id="L964" name="L964"></a> 964 
<div class="comment">
      Returns the <code>snmpInPkts</code> value defined in MIB-II.
      @return The <code>snmpInPkts</code> value.</div>
<a id="L970" name="L970"></a> 970     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L971" name="L971"></a> 971     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInPkts() <em class="brace">{</em>
<a id="L972" name="L972"></a> 972         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInPkts);
<a id="L973" name="L973"></a> 973     <em class="brace">}</em>
<a id="L974" name="L974"></a> 974 
<div class="comment">
      Returns the <code>snmpInGetRequests</code> value defined in MIB-II.
      @return The <code>snmpInGetRequests</code> value.</div>
<a id="L980" name="L980"></a> 980     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L981" name="L981"></a> 981     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInGetRequests() <em class="brace">{</em>
<a id="L982" name="L982"></a> 982         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInGetRequests);
<a id="L983" name="L983"></a> 983     <em class="brace">}</em>
<a id="L984" name="L984"></a> 984 
<div class="comment">
      Returns the <code>snmpInGetNexts</code> value defined in MIB-II.
      @return The <code>snmpInGetNexts</code> value.</div>
<a id="L990" name="L990"></a> 990     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L991" name="L991"></a> 991     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInGetNexts() <em class="brace">{</em>
<a id="L992" name="L992"></a> 992         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInGetNexts);
<a id="L993" name="L993"></a> 993     <em class="brace">}</em>
<a id="L994" name="L994"></a> 994 
<div class="comment">
      Returns the <code>snmpInSetRequests</code> value defined in MIB-II.
      @return The <code>snmpInSetRequests</code> value.</div>
<a id="L1000" name="L1000"></a>1000     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1001" name="L1001"></a>1001     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInSetRequests() <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInSetRequests);
<a id="L1003" name="L1003"></a>1003     <em class="brace">}</em>
<a id="L1004" name="L1004"></a>1004 
<div class="comment">
      Returns the <code>snmpInTotalSetVars</code> value defined in MIB-II.
      @return The <code>snmpInTotalSetVars</code> value.</div>
<a id="L1010" name="L1010"></a>1010     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1011" name="L1011"></a>1011     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInTotalSetVars() <em class="brace">{</em>
<a id="L1012" name="L1012"></a>1012         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInTotalSetVars);
<a id="L1013" name="L1013"></a>1013     <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014 
<div class="comment">
      Returns the <code>snmpInTotalReqVars</code> value defined in MIB-II.
      @return The <code>snmpInTotalReqVars</code> value.</div>
<a id="L1020" name="L1020"></a>1020     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1021" name="L1021"></a>1021     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpInTotalReqVars() <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpInTotalReqVars);
<a id="L1023" name="L1023"></a>1023     <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024 
<div class="comment">
      Returns the <code>snmpSilentDrops</code> value defined in RFC
      1907 NMPv2-MIB .
      @return The <code>snmpSilentDrops</code> value.
      @since 1.5</div>
<a id="L1033" name="L1033"></a>1033     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1034" name="L1034"></a>1034     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpSilentDrops() <em class="brace">{</em>
<a id="L1035" name="L1035"></a>1035         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(snmpSilentDrops);
<a id="L1036" name="L1036"></a>1036     <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037 
<div class="comment">
      Returns the <code>snmpProxyDrops</code> value defined in RFC
      1907 NMPv2-MIB .
      @return The <code>snmpProxyDrops</code> value.
      @since 1.5</div>
<a id="L1046" name="L1046"></a>1046     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1047" name="L1047"></a>1047     <strong class="reserved">public</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> getSnmpProxyDrops() <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>(0);
<a id="L1049" name="L1049"></a>1049     <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050 
<a id="L1051" name="L1051"></a>1051 
<a id="L1052" name="L1052"></a>1052     <em class="comment">// PUBLIC METHODS</em>
<a id="L1053" name="L1053"></a>1053     <em class="comment">//---------------</em>
<a id="L1054" name="L1054"></a>1054 
<div class="comment">
      Allows the MBean to perform any operations it needs before being
      registered in the MBean server.
      If the name of the SNMP protocol adaptor MBean is not specified,
      it is initialized with the default value:
      {@link com.sun.jmx.snmp.ServiceName#DOMAIN
        com.sun.jmx.snmp.ServiceName.DOMAIN}:{@link
      com.sun.jmx.snmp.ServiceName#SNMP_ADAPTOR_SERVER
      com.sun.jmx.snmp.ServiceName.SNMP_ADAPTOR_SERVER}.
      If any exception is raised, the SNMP protocol adaptor MBean will
      not be registered in the MBean server.
      @param server The MBean server to register the service with.
      @param name The object name.
      @return The name of the SNMP protocol adaptor registered.
      @exception java.lang.Exception</div>
<a id="L1074" name="L1074"></a>1074     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1075" name="L1075"></a>1075     <strong class="reserved">public</strong> <a href="../S/3486.html#L223" title="Defined at 223 in src/javax/management/ObjectName.java.">ObjectName</a> <a href="../R/24896.html" title="Multiple referred from 4 places.">preRegister</a>(<a href="../S/3578.html#L260" title="Defined at 260 in src/javax/management/MBeanServer.java.">MBeanServer</a> server, <a href="../S/3486.html#L223" title="Defined at 223 in src/javax/management/ObjectName.java.">ObjectName</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1076" name="L1076"></a>1076         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1077" name="L1077"></a>1077 
<a id="L1078" name="L1078"></a>1078         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079             <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <strong class="reserved">new</strong> <a href="../S/3486.html#L223" title="Defined at 223 in src/javax/management/ObjectName.java.">ObjectName</a>(server.<a href="../D/18300.html" title="Multiple defined in 9 places.">getDefaultDomain</a>() + ":" +
<a id="L1080" name="L1080"></a>1080                              com.sun.jmx.snmp.<a href="../D/7883.html" title="Multiple defined in 2 places.">ServiceName</a>.SNMP_ADAPTOR_SERVER);
<a id="L1081" name="L1081"></a>1081         <em class="brace">}</em>
<a id="L1082" name="L1082"></a>1082         <strong class="reserved">return</strong> (<strong class="reserved">super</strong>.<a href="../D/29525.html" title="Multiple defined in 16 places.">preRegister</a>(server, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>));
<a id="L1083" name="L1083"></a>1083     <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084 
<div class="comment">
      Not used in this context.</div>
<a id="L1088" name="L1088"></a>1088     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1089" name="L1089"></a>1089     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24865.html" title="Multiple referred from 4 places.">postRegister</a> (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> registrationDone) <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">super</strong>.<a href="../D/29492.html" title="Multiple defined in 15 places.">postRegister</a>(registrationDone);
<a id="L1091" name="L1091"></a>1091     <em class="brace">}</em>
<a id="L1092" name="L1092"></a>1092 
<div class="comment">
      Not used in this context.</div>
<a id="L1096" name="L1096"></a>1096     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1097" name="L1097"></a>1097     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24887.html" title="Multiple referred from 3 places.">preDeregister</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098         <strong class="reserved">super</strong>.<a href="../D/29516.html" title="Multiple defined in 14 places.">preDeregister</a>();
<a id="L1099" name="L1099"></a>1099     <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100 
<div class="comment">
      Not used in this context.</div>
<a id="L1104" name="L1104"></a>1104     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1105" name="L1105"></a>1105     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24854.html" title="Multiple referred from 3 places.">postDeregister</a>() <em class="brace">{</em>
<a id="L1106" name="L1106"></a>1106         <strong class="reserved">super</strong>.<a href="../D/29480.html" title="Multiple defined in 14 places.">postDeregister</a>();
<a id="L1107" name="L1107"></a>1107     <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108 
<div class="comment">
      Adds a new MIB in the SNMP MIB handler.
      @param mib The MIB to add.
      @return A reference to the SNMP MIB handler.
      @exception IllegalArgumentException If the parameter is null.</div>
<a id="L1118" name="L1118"></a>1118     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1119" name="L1119"></a>1119     <strong class="reserved">public</strong> <a href="../S/6414.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/agent/SnmpMibHandler.java.">SnmpMibHandler</a> <a href="../R/9853.html" title="Multiple referred from 7 places.">addMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib)
<a id="L1120" name="L1120"></a>1120         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L1121" name="L1121"></a>1121         <strong class="reserved">if</strong> (mib == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1122" name="L1122"></a>1122             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>() ;
<a id="L1123" name="L1123"></a>1123         <em class="brace">}</em>
<a id="L1124" name="L1124"></a>1124 
<a id="L1125" name="L1125"></a>1125         <strong class="reserved">if</strong>(!mibs.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(mib))
<a id="L1126" name="L1126"></a>1126             mibs.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(mib);
<a id="L1127" name="L1127"></a>1127 
<a id="L1128" name="L1128"></a>1128         <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/30517.html" title="Multiple defined in 40 places.">register</a>(mib);
<a id="L1129" name="L1129"></a>1129 
<a id="L1130" name="L1130"></a>1130         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1131" name="L1131"></a>1131     <em class="brace">}</em>
<a id="L1132" name="L1132"></a>1132 
<div class="comment">
      Adds a new MIB in the SNMP MIB handler.
      This method is to be called to set a specific agent to a specific OID.
      This can be useful when dealing with MIB overlapping.
      Some OID can be implemented in more than one MIB. In this case,
      the OID nearer agent will be used on SNMP operations.
      @param mib The MIB to add.
      @param oids The set of OIDs this agent implements.
      @return A reference to the SNMP MIB handler.
      @exception IllegalArgumentException If the parameter is null.
      @since 1.5</div>
<a id="L1149" name="L1149"></a>1149     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1150" name="L1150"></a>1150     <strong class="reserved">public</strong> <a href="../S/6414.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/agent/SnmpMibHandler.java.">SnmpMibHandler</a> <a href="../R/9853.html" title="Multiple referred from 7 places.">addMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib, <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>[] oids)
<a id="L1151" name="L1151"></a>1151         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L1152" name="L1152"></a>1152         <strong class="reserved">if</strong> (mib == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1153" name="L1153"></a>1153             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>() ;
<a id="L1154" name="L1154"></a>1154         <em class="brace">}</em>
<a id="L1155" name="L1155"></a>1155 
<a id="L1156" name="L1156"></a>1156         <em class="comment">//If null oid array, just add it to the mib.</em>
<a id="L1157" name="L1157"></a>1157         <strong class="reserved">if</strong>(oids == <strong class="reserved">null</strong>)
<a id="L1158" name="L1158"></a>1158             <strong class="reserved">return</strong> <a href="../D/10939.html" title="Multiple defined in 10 places.">addMib</a>(mib);
<a id="L1159" name="L1159"></a>1159 
<a id="L1160" name="L1160"></a>1160         <strong class="reserved">if</strong>(!mibs.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(mib))
<a id="L1161" name="L1161"></a>1161             mibs.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(mib);
<a id="L1162" name="L1162"></a>1162 
<a id="L1163" name="L1163"></a>1163         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; oids.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1164" name="L1164"></a>1164             <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/30517.html" title="Multiple defined in 40 places.">register</a>(mib, oids[i].<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>());
<a id="L1165" name="L1165"></a>1165         <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L1167" name="L1167"></a>1167     <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168 
<div class="comment">
      Adds a new MIB in the SNMP MIB handler. In SNMP V1 and V2 the
      <code>contextName</code> is useless and this method
      is equivalent to <code>addMib(SnmpMibAgent mib)</code>.
      @param mib The MIB to add.
      @param contextName The MIB context name.
      @return A reference on the SNMP MIB handler.
      @exception IllegalArgumentException If the parameter is null.
      @since 1.5</div>
<a id="L1182" name="L1182"></a>1182     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1183" name="L1183"></a>1183     <strong class="reserved">public</strong> <a href="../S/6414.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/agent/SnmpMibHandler.java.">SnmpMibHandler</a> <a href="../R/9853.html" title="Multiple referred from 7 places.">addMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> contextName)
<a id="L1184" name="L1184"></a>1184         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L1185" name="L1185"></a>1185         <strong class="reserved">return</strong> <a href="../D/10939.html" title="Multiple defined in 10 places.">addMib</a>(mib);
<a id="L1186" name="L1186"></a>1186     <em class="brace">}</em>
<a id="L1187" name="L1187"></a>1187 
<div class="comment">
      Adds a new MIB in the SNMP MIB handler. In SNMP V1 and V2 the
      <code>contextName</code> is useless and this method
      is equivalent to <code>addMib(SnmpMibAgent mib, SnmpOid[] oids)</code>.
      @param mib The MIB to add.
      @param contextName The MIB context. If null is passed, will be
             registered in the default context.
      @param oids The set of OIDs this agent implements.
      @return A reference to the SNMP MIB handler.
      @exception IllegalArgumentException If the parameter is null.
      @since 1.5</div>
<a id="L1204" name="L1204"></a>1204     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1205" name="L1205"></a>1205     <strong class="reserved">public</strong> <a href="../S/6414.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/agent/SnmpMibHandler.java.">SnmpMibHandler</a> <a href="../R/9853.html" title="Multiple referred from 7 places.">addMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib,
<a id="L1206" name="L1206"></a>1206                                  <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> contextName,
<a id="L1207" name="L1207"></a>1207                                  <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>[] oids)
<a id="L1208" name="L1208"></a>1208         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L1209" name="L1209"></a>1209 
<a id="L1210" name="L1210"></a>1210         <strong class="reserved">return</strong> <a href="../D/10939.html" title="Multiple defined in 10 places.">addMib</a>(mib, oids);
<a id="L1211" name="L1211"></a>1211     <em class="brace">}</em>
<a id="L1212" name="L1212"></a>1212 
<div class="comment">
      Removes the specified MIB from the SNMP protocol adaptor.
      In SNMP V1 and V2 the <code>contextName</code> is useless and this
      method is equivalent to <code>removeMib(SnmpMibAgent mib)</code>.
      @param mib The MIB to be removed.
      @param contextName The context name used at registration time.
      @return <code>true</code> if the specified <code>mib</code> was
      a MIB included in the SNMP MIB handler, <code>false</code>
      otherwise.
      @since 1.5</div>
<a id="L1227" name="L1227"></a>1227     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1228" name="L1228"></a>1228     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26021.html" title="Multiple referred from 10 places.">removeMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> contextName) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229         <strong class="reserved">return</strong> <a href="../D/30878.html" title="Multiple defined in 9 places.">removeMib</a>(mib);
<a id="L1230" name="L1230"></a>1230     <em class="brace">}</em>
<a id="L1231" name="L1231"></a>1231 
<div class="comment">
      Removes the specified MIB from the SNMP protocol adaptor.
      @param mib The MIB to be removed.
      @return <code>true</code> if the specified <code>mib</code> was a MIB
              included in the SNMP MIB handler, <code>false</code> otherwise.</div>
<a id="L1240" name="L1240"></a>1240     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1241" name="L1241"></a>1241     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26021.html" title="Multiple referred from 10 places.">removeMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib) <em class="brace">{</em>
<a id="L1242" name="L1242"></a>1242         <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/35968.html" title="Multiple defined in 8 places.">unregister</a>(mib);
<a id="L1243" name="L1243"></a>1243         <strong class="reserved">return</strong> (mibs.<a href="../D/30774.html" title="Multiple defined in 14 places.">removeElement</a>(mib)) ;
<a id="L1244" name="L1244"></a>1244     <em class="brace">}</em>
<a id="L1245" name="L1245"></a>1245 
<div class="comment">
      Removes the specified MIB from the SNMP protocol adaptor.
      @param mib The MIB to be removed.
      @param oids The oid the MIB was previously registered for.
      @return <code>true</code> if the specified <code>mib</code> was
      a MIB included in the SNMP MIB handler, <code>false</code>
      otherwise.
      @since 1.5</div>
<a id="L1257" name="L1257"></a>1257     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1258" name="L1258"></a>1258     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26021.html" title="Multiple referred from 10 places.">removeMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib, <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>[] oids) <em class="brace">{</em>
<a id="L1259" name="L1259"></a>1259         <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/35968.html" title="Multiple defined in 8 places.">unregister</a>(mib, oids);
<a id="L1260" name="L1260"></a>1260         <strong class="reserved">return</strong> (mibs.<a href="../D/30774.html" title="Multiple defined in 14 places.">removeElement</a>(mib)) ;
<a id="L1261" name="L1261"></a>1261     <em class="brace">}</em>
<a id="L1262" name="L1262"></a>1262 
<div class="comment">
      Removes the specified MIB from the SNMP protocol adaptor.
      @param mib The MIB to be removed.
      @param contextName The context name used at registration time.
      @param oids The oid the MIB was previously registered for.
      @return <code>true</code> if the specified <code>mib</code> was
      a MIB included in the SNMP MIB handler, <code>false</code>
      otherwise.
      @since 1.5</div>
<a id="L1275" name="L1275"></a>1275     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1276" name="L1276"></a>1276     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26021.html" title="Multiple referred from 10 places.">removeMib</a>(<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> mib,
<a id="L1277" name="L1277"></a>1277                              <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> contextName,
<a id="L1278" name="L1278"></a>1278                              <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a>[] oids) <em class="brace">{</em>
<a id="L1279" name="L1279"></a>1279         <strong class="reserved">return</strong> <a href="../D/30878.html" title="Multiple defined in 9 places.">removeMib</a>(mib, oids);
<a id="L1280" name="L1280"></a>1280     <em class="brace">}</em>
<a id="L1281" name="L1281"></a>1281 
<a id="L1282" name="L1282"></a>1282     <em class="comment">// SUBCLASSING OF COMMUNICATOR SERVER</em>
<a id="L1283" name="L1283"></a>1283     <em class="comment">//-----------------------------------</em>
<a id="L1284" name="L1284"></a>1284 
<div class="comment">
      Creates the datagram socket.</div>
<a id="L1288" name="L1288"></a>1288     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1289" name="L1289"></a>1289     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13383.html" title="Multiple referred from 10 places.">doBind</a>()
<a id="L1290" name="L1290"></a>1290         <strong class="reserved">throws</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>, <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L1291" name="L1291"></a>1291 
<a id="L1292" name="L1292"></a>1292         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1293" name="L1293"></a>1293             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1294" name="L1294"></a>1294                 <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a> = <strong class="reserved">new</strong> <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a>(port, <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) ;
<a id="L1295" name="L1295"></a>1295             <em class="brace">}</em>
<a id="L1296" name="L1296"></a>1296             dbgTag = <a href="../D/27250.html" title="Multiple defined in 4 places.">makeDebugTag</a>();
<a id="L1297" name="L1297"></a>1297         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> e) <em class="brace">{</em>
<a id="L1298" name="L1298"></a>1298             <strong class="reserved">if</strong> (e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(InterruptSysCallMsg))
<a id="L1299" name="L1299"></a>1299                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>(e.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()) ;
<a id="L1300" name="L1300"></a>1300             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1301" name="L1301"></a>1301                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L1303" name="L1303"></a>1303                         "doBind", "cannot bind on port " + port);
<a id="L1304" name="L1304"></a>1304                 <em class="brace">}</em>
<a id="L1305" name="L1305"></a>1305                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>(e) ;
<a id="L1306" name="L1306"></a>1306             <em class="brace">}</em>
<a id="L1307" name="L1307"></a>1307         <em class="brace">}</em>
<a id="L1308" name="L1308"></a>1308     <em class="brace">}</em>
<a id="L1309" name="L1309"></a>1309 
<div class="comment">
      Return the actual port to which the adaptor is bound.
      Can be different from the port given at construction time if
      that port number was 0.
      @return the actual port to which the adaptor is bound.
     *</div>
<a id="L1316" name="L1316"></a>1316     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1317" name="L1317"></a>1317     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18374.html" title="Multiple referred from 119 places.">getPort</a>() <em class="brace">{</em>
<a id="L1318" name="L1318"></a>1318         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1319" name="L1319"></a>1319             <strong class="reserved">if</strong> (<a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a> != <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a>.<a href="../D/20210.html" title="Multiple defined in 8 places.">getLocalPort</a>();
<a id="L1320" name="L1320"></a>1320         <em class="brace">}</em>
<a id="L1321" name="L1321"></a>1321         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L1322" name="L1322"></a>1322     <em class="brace">}</em>
<a id="L1323" name="L1323"></a>1323 
<div class="comment">
      Closes the datagram socket.</div>
<a id="L1327" name="L1327"></a>1327     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1328" name="L1328"></a>1328     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13457.html" title="Multiple referred from 3 places.">doUnbind</a>()
<a id="L1329" name="L1329"></a>1329         <strong class="reserved">throws</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>, <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L1330" name="L1330"></a>1330         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1331" name="L1331"></a>1331             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1332" name="L1332"></a>1332                 "doUnbind","Finally close the socket");
<a id="L1333" name="L1333"></a>1333         <em class="brace">}</em>
<a id="L1334" name="L1334"></a>1334         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1335" name="L1335"></a>1335             <strong class="reserved">if</strong> (<a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1336" name="L1336"></a>1336                 <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>() ;
<a id="L1337" name="L1337"></a>1337                 <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a> = <strong class="reserved">null</strong> ;
<a id="L1338" name="L1338"></a>1338                 <em class="comment">// Important to inform finalize() that the socket is closed...</em>
<a id="L1339" name="L1339"></a>1339             <em class="brace">}</em>
<a id="L1340" name="L1340"></a>1340         <em class="brace">}</em>
<a id="L1341" name="L1341"></a>1341         <a href="../S/6449.html#L2284" title="Defined at 2284 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">closeTrapSocketIfNeeded</a>() ;
<a id="L1342" name="L1342"></a>1342         <a href="../S/6449.html#L2549" title="Defined at 2549 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">closeInformSocketIfNeeded</a>() ;
<a id="L1343" name="L1343"></a>1343     <em class="brace">}</em>
<a id="L1344" name="L1344"></a>1344 
<a id="L1345" name="L1345"></a>1345     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/6449.html#L1385" title="Referred from 1385 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">createSnmpRequestHandler</a>(<a href="../S/6449.html#L130" title="Defined at 130 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">SnmpAdaptorServer</a> server,
<a id="L1346" name="L1346"></a>1346                                           <strong class="reserved">int</strong> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>,
<a id="L1347" name="L1347"></a>1347                                           <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a> s,
<a id="L1348" name="L1348"></a>1348                                           <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a> p,
<a id="L1349" name="L1349"></a>1349                                           <a href="../S/6456.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/daemon/SnmpMibTree.java.">SnmpMibTree</a> tree,
<a id="L1350" name="L1350"></a>1350                                           <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a>&gt; m,
<a id="L1351" name="L1351"></a>1351                                           <a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L1352" name="L1352"></a>1352                                           <a href="../S/6382.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPduFactory.java.">SnmpPduFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>,
<a id="L1353" name="L1353"></a>1353                                           <a href="../S/6413.html#L66" title="Defined at 66 in src/com/sun/jmx/snmp/agent/SnmpUserDataFactory.java.">SnmpUserDataFactory</a> dataFactory,
<a id="L1354" name="L1354"></a>1354                                           <a href="../S/3578.html#L260" title="Defined at 260 in src/javax/management/MBeanServer.java.">MBeanServer</a> f,
<a id="L1355" name="L1355"></a>1355                                           <a href="../S/3486.html#L223" title="Defined at 223 in src/javax/management/ObjectName.java.">ObjectName</a> n) <em class="brace">{</em>
<a id="L1356" name="L1356"></a>1356         <strong class="reserved">final</strong> <a href="../S/6462.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">SnmpRequestHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a> =
<a id="L1357" name="L1357"></a>1357             <strong class="reserved">new</strong> <a href="../S/6462.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">SnmpRequestHandler</a>(<strong class="reserved">this</strong>, <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, s, p, tree, m, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>,
<a id="L1358" name="L1358"></a>1358                                    dataFactory, f, n);
<a id="L1359" name="L1359"></a>1359         threadService.<a href="../D/35003.html" title="Multiple defined in 3 places.">submitTask</a>(<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>);
<a id="L1360" name="L1360"></a>1360     <em class="brace">}</em>
<a id="L1361" name="L1361"></a>1361 
<div class="comment">
      Reads a packet from the datagram socket and creates a request
      handler which decodes and processes the request.</div>
<a id="L1366" name="L1366"></a>1366     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1367" name="L1367"></a>1367     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/6458.html#L837" title="Referred from 837 in src/com/sun/jmx/snmp/daemon/CommunicatorServer.java.">doReceive</a>()
<a id="L1368" name="L1368"></a>1368         <strong class="reserved">throws</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>, <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L1369" name="L1369"></a>1369 
<a id="L1370" name="L1370"></a>1370         <em class="comment">// Let's wait for something to be received.</em>
<a id="L1371" name="L1371"></a>1371         <em class="comment">//</em>
<a id="L1372" name="L1372"></a>1372         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1373" name="L1373"></a>1373             packet = <strong class="reserved">new</strong> <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a>(<strong class="reserved">new</strong> <strong class="reserved">byte</strong>[bufferSize], bufferSize) ;
<a id="L1374" name="L1374"></a>1374             <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a>.<a href="../D/30371.html" title="Multiple defined in 9 places.">receive</a>(packet);
<a id="L1375" name="L1375"></a>1375             <strong class="reserved">int</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/22724.html" title="Multiple defined in 28 places.">getState</a>();
<a id="L1376" name="L1376"></a>1376 
<a id="L1377" name="L1377"></a>1377             <strong class="reserved">if</strong>(<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> != ONLINE) <em class="brace">{</em>
<a id="L1378" name="L1378"></a>1378                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1380" name="L1380"></a>1380                         "doReceive","received a message but state not online, returning.");
<a id="L1381" name="L1381"></a>1381                 <em class="brace">}</em>
<a id="L1382" name="L1382"></a>1382                 <strong class="reserved">return</strong>;
<a id="L1383" name="L1383"></a>1383             <em class="brace">}</em>
<a id="L1384" name="L1384"></a>1384 
<a id="L1385" name="L1385"></a>1385             <a href="../S/6449.html#L1345" title="Defined at 1345 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">createSnmpRequestHandler</a>(<strong class="reserved">this</strong>, servedClientCount, <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a>,
<a id="L1386" name="L1386"></a>1386                                      packet, <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>, mibs, ipacl, pduFactory,
<a id="L1387" name="L1387"></a>1387                                      userDataFactory, topMBS, objectName);
<a id="L1388" name="L1388"></a>1388         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> e) <em class="brace">{</em>
<a id="L1389" name="L1389"></a>1389             <em class="comment">// Let's check if we have been interrupted by stop().</em>
<a id="L1390" name="L1390"></a>1390             <em class="comment">//</em>
<a id="L1391" name="L1391"></a>1391             <strong class="reserved">if</strong> (e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(InterruptSysCallMsg))
<a id="L1392" name="L1392"></a>1392                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>(e.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()) ;
<a id="L1393" name="L1393"></a>1393             <strong class="reserved">else</strong>
<a id="L1394" name="L1394"></a>1394                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>(e) ;
<a id="L1395" name="L1395"></a>1395         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1409.html#L43" title="Defined at 43 in src/java/io/InterruptedIOException.java.">InterruptedIOException</a> e) <em class="brace">{</em>
<a id="L1396" name="L1396"></a>1396             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>(e.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()) ;
<a id="L1397" name="L1397"></a>1397         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a> e) <em class="brace">{</em>
<a id="L1398" name="L1398"></a>1398             <strong class="reserved">throw</strong> e ;
<a id="L1399" name="L1399"></a>1399         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1400" name="L1400"></a>1400             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>(e) ;
<a id="L1401" name="L1401"></a>1401         <em class="brace">}</em>
<a id="L1402" name="L1402"></a>1402         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1403" name="L1403"></a>1403             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1404" name="L1404"></a>1404                 "doReceive", "received a message");
<a id="L1405" name="L1405"></a>1405         <em class="brace">}</em>
<a id="L1406" name="L1406"></a>1406     <em class="brace">}</em>
<a id="L1407" name="L1407"></a>1407 
<a id="L1408" name="L1408"></a>1408     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1409" name="L1409"></a>1409     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/6458.html#L818" title="Referred from 818 in src/com/sun/jmx/snmp/daemon/CommunicatorServer.java.">doError</a>(<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <strong class="reserved">throws</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a> <em class="brace">{</em>
<a id="L1410" name="L1410"></a>1410     <em class="brace">}</em>
<a id="L1411" name="L1411"></a>1411 
<div class="comment">
      Not used in this context.</div>
<a id="L1415" name="L1415"></a>1415     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1416" name="L1416"></a>1416     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/13423.html" title="Multiple referred from 6 places.">doProcess</a>()
<a id="L1417" name="L1417"></a>1417         <strong class="reserved">throws</strong> <a href="../D/1679.html" title="Multiple defined in 2 places.">CommunicationException</a>, <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> <em class="brace">{</em>
<a id="L1418" name="L1418"></a>1418     <em class="brace">}</em>
<a id="L1419" name="L1419"></a>1419 
<a id="L1420" name="L1420"></a>1420 
<div class="comment">
      The number of times the communicator server will attempt
      to bind before giving up.
      We attempt only once...
      @return 1
     *</div>
<a id="L1427" name="L1427"></a>1427     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1428" name="L1428"></a>1428     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../S/6458.html#L780" title="Referred from 780 in src/com/sun/jmx/snmp/daemon/CommunicatorServer.java.">getBindTries</a>() <em class="brace">{</em>
<a id="L1429" name="L1429"></a>1429         <strong class="reserved">return</strong> 1;
<a id="L1430" name="L1430"></a>1430     <em class="brace">}</em>
<a id="L1431" name="L1431"></a>1431 
<div class="comment">
      Stops this SNMP protocol adaptor.
      Closes the datagram socket.
      <p>
      Has no effect if this SNMP protocol adaptor is <code>OFFLINE</code> or
      <code>STOPPING</code>.</p></div>
<a id="L1439" name="L1439"></a>1439     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1440" name="L1440"></a>1440     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28900.html" title="Multiple referred from 176 places.">stop</a>()<em class="brace">{</em>
<a id="L1441" name="L1441"></a>1441 
<a id="L1442" name="L1442"></a>1442         <strong class="reserved">final</strong> <strong class="reserved">int</strong> port = <a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L1443" name="L1443"></a>1443         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1444" name="L1444"></a>1444             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1445" name="L1445"></a>1445                 "stop", "Stopping: using port " + port);
<a id="L1446" name="L1446"></a>1446         <em class="brace">}</em>
<a id="L1447" name="L1447"></a>1447         <strong class="reserved">if</strong> ((<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == ONLINE) || (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> == STARTING))<em class="brace">{</em>
<a id="L1448" name="L1448"></a>1448             <strong class="reserved">super</strong>.<a href="../D/34877.html" title="Multiple defined in 25 places.">stop</a>();
<a id="L1449" name="L1449"></a>1449             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1450" name="L1450"></a>1450                 <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a> sn = <strong class="reserved">new</strong> <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a>(0);
<a id="L1451" name="L1451"></a>1451                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1452" name="L1452"></a>1452                     <strong class="reserved">byte</strong>[] ob = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[1];
<a id="L1453" name="L1453"></a>1453 
<a id="L1454" name="L1454"></a>1454                     <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a> pk;
<a id="L1455" name="L1455"></a>1455                     <strong class="reserved">if</strong> (<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> != <strong class="reserved">null</strong>)
<a id="L1456" name="L1456"></a>1456                         pk = <strong class="reserved">new</strong> <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a>(ob , 1, <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, port);
<a id="L1457" name="L1457"></a>1457                     <strong class="reserved">else</strong>
<a id="L1458" name="L1458"></a>1458                         pk = <strong class="reserved">new</strong> <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a>(ob , 1,
<a id="L1459" name="L1459"></a>1459                                  <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net.<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1470" title="Defined at 1470 in src/java/net/InetAddress.java.">getLocalHost</a>(), port);
<a id="L1460" name="L1460"></a>1460 
<a id="L1461" name="L1461"></a>1461                     <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1462" name="L1462"></a>1462                         SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1463" name="L1463"></a>1463                             "stop", "Sending: using port " + port);
<a id="L1464" name="L1464"></a>1464                     <em class="brace">}</em>
<a id="L1465" name="L1465"></a>1465                     sn.<a href="../D/31727.html" title="Multiple defined in 8 places.">send</a>(pk);
<a id="L1466" name="L1466"></a>1466                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1467" name="L1467"></a>1467                     sn.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L1468" name="L1468"></a>1468                 <em class="brace">}</em>
<a id="L1469" name="L1469"></a>1469             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> e)<em class="brace">{</em>
<a id="L1470" name="L1470"></a>1470                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L1471" name="L1471"></a>1471                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L1472" name="L1472"></a>1472                         "stop", "Got unexpected Throwable", e);
<a id="L1473" name="L1473"></a>1473                 <em class="brace">}</em>
<a id="L1474" name="L1474"></a>1474             <em class="brace">}</em>
<a id="L1475" name="L1475"></a>1475         <em class="brace">}</em>
<a id="L1476" name="L1476"></a>1476     <em class="brace">}</em>
<a id="L1477" name="L1477"></a>1477 
<a id="L1478" name="L1478"></a>1478     <em class="comment">// SENDING SNMP TRAPS STUFF</em>
<a id="L1479" name="L1479"></a>1479     <em class="comment">//-------------------------</em>
<a id="L1480" name="L1480"></a>1480 
<div class="comment">
      Sends a trap using SNMP V1 trap format.
      <br>The trap is sent to each destination defined in the ACL file
      (if available).
      If no ACL file or no destinations are available, the trap is sent
      to the local host.
      @param generic The generic number of the trap.
      @param specific The specific number of the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit defined
                 by <code>bufferSize</code>.</div>
<a id="L1496" name="L1496"></a>1496     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1497" name="L1497"></a>1497     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28687.html" title="Multiple referred from 3 places.">snmpV1Trap</a>(<strong class="reserved">int</strong> <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>, <strong class="reserved">int</strong> specific,
<a id="L1498" name="L1498"></a>1498                            <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L1499" name="L1499"></a>1499         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1500" name="L1500"></a>1500 
<a id="L1501" name="L1501"></a>1501         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1502" name="L1502"></a>1502             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1503" name="L1503"></a>1503                 "snmpV1Trap", "generic=" + <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a> +
<a id="L1504" name="L1504"></a>1504                   ", specific=" + specific);
<a id="L1505" name="L1505"></a>1505         <em class="brace">}</em>
<a id="L1506" name="L1506"></a>1506 
<a id="L1507" name="L1507"></a>1507         <em class="comment">// First, make an SNMP V1 trap pdu</em>
<a id="L1508" name="L1508"></a>1508         <em class="comment">//</em>
<a id="L1509" name="L1509"></a>1509         <a href="../S/6484.html#L45" title="Defined at 45 in src/com/sun/jmx/snmp/SnmpPduTrap.java.">SnmpPduTrap</a> pdu = <strong class="reserved">new</strong> <a href="../S/6484.html#L45" title="Defined at 45 in src/com/sun/jmx/snmp/SnmpPduTrap.java.">SnmpPduTrap</a>() ;
<a id="L1510" name="L1510"></a>1510         pdu.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong> ;
<a id="L1511" name="L1511"></a>1511         pdu.port = trapPort ;
<a id="L1512" name="L1512"></a>1512         pdu.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = pduV1TrapPdu ;
<a id="L1513" name="L1513"></a>1513         pdu.<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = snmpVersionOne ;
<a id="L1514" name="L1514"></a>1514         pdu.community = <strong class="reserved">null</strong> ;
<a id="L1515" name="L1515"></a>1515         pdu.enterprise = enterpriseOid ;
<a id="L1516" name="L1516"></a>1516         pdu.genericTrap = <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a> ;
<a id="L1517" name="L1517"></a>1517         pdu.specificTrap = specific ;
<a id="L1518" name="L1518"></a>1518         pdu.timeStamp = <a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>();
<a id="L1519" name="L1519"></a>1519 
<a id="L1520" name="L1520"></a>1520         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1521" name="L1521"></a>1521             pdu.varBindList = <strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>[varBindList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L1522" name="L1522"></a>1522             varBindList.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(pdu.varBindList);
<a id="L1523" name="L1523"></a>1523         <em class="brace">}</em>
<a id="L1524" name="L1524"></a>1524         <strong class="reserved">else</strong>
<a id="L1525" name="L1525"></a>1525             pdu.varBindList = <strong class="reserved">null</strong> ;
<a id="L1526" name="L1526"></a>1526 
<a id="L1527" name="L1527"></a>1527         <em class="comment">// If the local host cannot be determined, we put 0.0.0.0 in agentAddr</em>
<a id="L1528" name="L1528"></a>1528         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1529" name="L1529"></a>1529             <strong class="reserved">if</strong> (<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> != <strong class="reserved">null</strong>)
<a id="L1530" name="L1530"></a>1530                 pdu.agentAddr = <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L1531" name="L1531"></a>1531             <strong class="reserved">else</strong> pdu.agentAddr =
<a id="L1532" name="L1532"></a>1532               <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1470" title="Defined at 1470 in src/java/net/InetAddress.java.">getLocalHost</a>().<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L1533" name="L1533"></a>1533         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L1534" name="L1534"></a>1534             <strong class="reserved">byte</strong>[] zeroedAddr = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[4];
<a id="L1535" name="L1535"></a>1535             pdu.agentAddr = <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(zeroedAddr) ;
<a id="L1536" name="L1536"></a>1536         <em class="brace">}</em>
<a id="L1537" name="L1537"></a>1537 
<a id="L1538" name="L1538"></a>1538         <em class="comment">// Next, send the pdu to all destinations defined in ACL</em>
<a id="L1539" name="L1539"></a>1539         <em class="comment">//</em>
<a id="L1540" name="L1540"></a>1540         <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu) ;
<a id="L1541" name="L1541"></a>1541     <em class="brace">}</em>
<a id="L1542" name="L1542"></a>1542 
<a id="L1543" name="L1543"></a>1543     <strong class="reserved">private</strong> <a href="../S/6482.html#L39" title="Defined at 39 in src/com/sun/jmx/snmp/SnmpIpAddress.java.">SnmpIpAddress</a> <a href="../R/20118.html" title="Multiple referred from 8 places.">handleMultipleIpVersion</a>(<strong class="reserved">byte</strong>[] <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) <em class="brace">{</em>
<a id="L1544" name="L1544"></a>1544         <strong class="reserved">if</strong>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 4)
<a id="L1545" name="L1545"></a>1545           <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/6482.html#L39" title="Defined at 39 in src/com/sun/jmx/snmp/SnmpIpAddress.java.">SnmpIpAddress</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L1546" name="L1546"></a>1546         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1547" name="L1547"></a>1547             <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L1548" name="L1548"></a>1548                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L1549" name="L1549"></a>1549                     "handleMultipleIPVersion",
<a id="L1550" name="L1550"></a>1550                       "Not an IPv4 address, return null");
<a id="L1551" name="L1551"></a>1551             <em class="brace">}</em>
<a id="L1552" name="L1552"></a>1552             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1553" name="L1553"></a>1553         <em class="brace">}</em>
<a id="L1554" name="L1554"></a>1554     <em class="brace">}</em>
<a id="L1555" name="L1555"></a>1555 
<div class="comment">
      Sends a trap using SNMP V1 trap format.
      <br>The trap is sent to the specified <code>InetAddress</code>
      destination using the specified community string (and the ACL file
      is not used).
      @param addr The <code>InetAddress</code> destination of the trap.
      @param cs The community string to be used for the trap.
      @param generic The generic number of the trap.
      @param specific The specific number of the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit defined
                 by <code>bufferSize</code>.</div>
<a id="L1572" name="L1572"></a>1572     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1573" name="L1573"></a>1573     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28687.html" title="Multiple referred from 3 places.">snmpV1Trap</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs, <strong class="reserved">int</strong> <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>,
<a id="L1574" name="L1574"></a>1574                            <strong class="reserved">int</strong> specific, <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L1575" name="L1575"></a>1575         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1576" name="L1576"></a>1576 
<a id="L1577" name="L1577"></a>1577         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1578" name="L1578"></a>1578             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1579" name="L1579"></a>1579                 "snmpV1Trap", "generic=" + <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a> + ", specific=" +
<a id="L1580" name="L1580"></a>1580                   specific);
<a id="L1581" name="L1581"></a>1581         <em class="brace">}</em>
<a id="L1582" name="L1582"></a>1582 
<a id="L1583" name="L1583"></a>1583         <em class="comment">// First, make an SNMP V1 trap pdu</em>
<a id="L1584" name="L1584"></a>1584         <em class="comment">//</em>
<a id="L1585" name="L1585"></a>1585         <a href="../S/6484.html#L45" title="Defined at 45 in src/com/sun/jmx/snmp/SnmpPduTrap.java.">SnmpPduTrap</a> pdu = <strong class="reserved">new</strong> <a href="../S/6484.html#L45" title="Defined at 45 in src/com/sun/jmx/snmp/SnmpPduTrap.java.">SnmpPduTrap</a>() ;
<a id="L1586" name="L1586"></a>1586         pdu.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong> ;
<a id="L1587" name="L1587"></a>1587         pdu.port = trapPort ;
<a id="L1588" name="L1588"></a>1588         pdu.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = pduV1TrapPdu ;
<a id="L1589" name="L1589"></a>1589         pdu.<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = snmpVersionOne ;
<a id="L1590" name="L1590"></a>1590 
<a id="L1591" name="L1591"></a>1591         <strong class="reserved">if</strong>(cs != <strong class="reserved">null</strong>)
<a id="L1592" name="L1592"></a>1592             pdu.community = cs.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L1593" name="L1593"></a>1593         <strong class="reserved">else</strong>
<a id="L1594" name="L1594"></a>1594             pdu.community = <strong class="reserved">null</strong> ;
<a id="L1595" name="L1595"></a>1595 
<a id="L1596" name="L1596"></a>1596         pdu.enterprise = enterpriseOid ;
<a id="L1597" name="L1597"></a>1597         pdu.genericTrap = <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a> ;
<a id="L1598" name="L1598"></a>1598         pdu.specificTrap = specific ;
<a id="L1599" name="L1599"></a>1599         pdu.timeStamp = <a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>();
<a id="L1600" name="L1600"></a>1600 
<a id="L1601" name="L1601"></a>1601         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1602" name="L1602"></a>1602             pdu.varBindList = <strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>[varBindList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L1603" name="L1603"></a>1603             varBindList.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(pdu.varBindList);
<a id="L1604" name="L1604"></a>1604         <em class="brace">}</em>
<a id="L1605" name="L1605"></a>1605         <strong class="reserved">else</strong>
<a id="L1606" name="L1606"></a>1606             pdu.varBindList = <strong class="reserved">null</strong> ;
<a id="L1607" name="L1607"></a>1607 
<a id="L1608" name="L1608"></a>1608         <em class="comment">// If the local host cannot be determined, we put 0.0.0.0 in agentAddr</em>
<a id="L1609" name="L1609"></a>1609         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1610" name="L1610"></a>1610             <strong class="reserved">if</strong> (<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> != <strong class="reserved">null</strong>)
<a id="L1611" name="L1611"></a>1611                 pdu.agentAddr = <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L1612" name="L1612"></a>1612             <strong class="reserved">else</strong> pdu.agentAddr =
<a id="L1613" name="L1613"></a>1613               <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1470" title="Defined at 1470 in src/java/net/InetAddress.java.">getLocalHost</a>().<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L1614" name="L1614"></a>1614         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L1615" name="L1615"></a>1615             <strong class="reserved">byte</strong>[] zeroedAddr = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[4];
<a id="L1616" name="L1616"></a>1616             pdu.agentAddr = <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(zeroedAddr) ;
<a id="L1617" name="L1617"></a>1617         <em class="brace">}</em>
<a id="L1618" name="L1618"></a>1618 
<a id="L1619" name="L1619"></a>1619         <em class="comment">// Next, send the pdu to the specified destination</em>
<a id="L1620" name="L1620"></a>1620         <em class="comment">//</em>
<a id="L1621" name="L1621"></a>1621         <strong class="reserved">if</strong>(addr != <strong class="reserved">null</strong>)
<a id="L1622" name="L1622"></a>1622             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(addr, pdu) ;
<a id="L1623" name="L1623"></a>1623         <strong class="reserved">else</strong>
<a id="L1624" name="L1624"></a>1624             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu);
<a id="L1625" name="L1625"></a>1625     <em class="brace">}</em>
<a id="L1626" name="L1626"></a>1626 
<div class="comment">
      Sends a trap using SNMP V1 trap format.
      <br>The trap is sent to the specified <code>InetAddress</code>
      destination using the specified parameters (and the ACL file is not
      used).
      Note that if the specified <code>InetAddress</code> destination is null,
      then the ACL file mechanism is used.
      @param addr The <code>InetAddress</code> destination of the trap.
      @param agentAddr The agent address to be used for the trap.
      @param cs The community string to be used for the trap.
      @param enterpOid The enterprise OID to be used for the trap.
      @param generic The generic number of the trap.
      @param specific The specific number of the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @param time The time stamp (overwrite the current time).
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit defined
                 by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L1650" name="L1650"></a>1650     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28687.html" title="Multiple referred from 3 places.">snmpV1Trap</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr,
<a id="L1651" name="L1651"></a>1651                            <a href="../S/6482.html#L39" title="Defined at 39 in src/com/sun/jmx/snmp/SnmpIpAddress.java.">SnmpIpAddress</a> agentAddr,
<a id="L1652" name="L1652"></a>1652                            <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs,
<a id="L1653" name="L1653"></a>1653                            <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> enterpOid,
<a id="L1654" name="L1654"></a>1654                            <strong class="reserved">int</strong> <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>,
<a id="L1655" name="L1655"></a>1655                            <strong class="reserved">int</strong> specific,
<a id="L1656" name="L1656"></a>1656                            <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList,
<a id="L1657" name="L1657"></a>1657                            <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L1658" name="L1658"></a>1658         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1659" name="L1659"></a>1659         <a href="../D/34647.html" title="Multiple defined in 8 places.">snmpV1Trap</a>(addr,
<a id="L1660" name="L1660"></a>1660                    trapPort,
<a id="L1661" name="L1661"></a>1661                    agentAddr,
<a id="L1662" name="L1662"></a>1662                    cs,
<a id="L1663" name="L1663"></a>1663                    enterpOid,
<a id="L1664" name="L1664"></a>1664                    <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>,
<a id="L1665" name="L1665"></a>1665                    specific,
<a id="L1666" name="L1666"></a>1666                    varBindList,
<a id="L1667" name="L1667"></a>1667                    <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>);
<a id="L1668" name="L1668"></a>1668     <em class="brace">}</em>
<a id="L1669" name="L1669"></a>1669 
<div class="comment">
      Sends a trap using SNMP V1 trap format.
      <br>The trap is sent to the specified <code>SnmpPeer</code> destination.
      The community string used is the one located in the
      <code>SnmpPeer</code> parameters
      (<code>SnmpParameters.getRdCommunity() </code>).
      @param peer The <code>SnmpPeer</code> destination of the trap.
      @param agentAddr The agent address to be used for the trap.
      @param enterpOid The enterprise OID to be used for the trap.
      @param generic The generic number of the trap.
      @param specific The specific number of the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @param time The time stamp (overwrite the current time).
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit
      defined by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L1691" name="L1691"></a>1691     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1692" name="L1692"></a>1692     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28687.html" title="Multiple referred from 3 places.">snmpV1Trap</a>(<a href="../S/6464.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPeer.java.">SnmpPeer</a> peer,
<a id="L1693" name="L1693"></a>1693                            <a href="../S/6482.html#L39" title="Defined at 39 in src/com/sun/jmx/snmp/SnmpIpAddress.java.">SnmpIpAddress</a> agentAddr,
<a id="L1694" name="L1694"></a>1694                            <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> enterpOid,
<a id="L1695" name="L1695"></a>1695                            <strong class="reserved">int</strong> <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>,
<a id="L1696" name="L1696"></a>1696                            <strong class="reserved">int</strong> specific,
<a id="L1697" name="L1697"></a>1697                            <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList,
<a id="L1698" name="L1698"></a>1698                            <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L1699" name="L1699"></a>1699         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1700" name="L1700"></a>1700 
<a id="L1701" name="L1701"></a>1701         <a href="../S/6316.html#L35" title="Defined at 35 in src/com/sun/jmx/snmp/SnmpParameters.java.">SnmpParameters</a> p = (<a href="../S/6316.html#L35" title="Defined at 35 in src/com/sun/jmx/snmp/SnmpParameters.java.">SnmpParameters</a>) peer.<a href="../D/21385.html" title="Multiple defined in 8 places.">getParams</a>();
<a id="L1702" name="L1702"></a>1702         <a href="../D/34647.html" title="Multiple defined in 8 places.">snmpV1Trap</a>(peer.<a href="../S/6464.html#L275" title="Defined at 275 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestAddr</a>(),
<a id="L1703" name="L1703"></a>1703                    peer.<a href="../S/6464.html#L283" title="Defined at 283 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestPort</a>(),
<a id="L1704" name="L1704"></a>1704                    agentAddr,
<a id="L1705" name="L1705"></a>1705                    p.<a href="../S/6316.html#L80" title="Defined at 80 in src/com/sun/jmx/snmp/SnmpParameters.java.">getRdCommunity</a>(),
<a id="L1706" name="L1706"></a>1706                    enterpOid,
<a id="L1707" name="L1707"></a>1707                    <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>,
<a id="L1708" name="L1708"></a>1708                    specific,
<a id="L1709" name="L1709"></a>1709                    varBindList,
<a id="L1710" name="L1710"></a>1710                    <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>);
<a id="L1711" name="L1711"></a>1711     <em class="brace">}</em>
<a id="L1712" name="L1712"></a>1712 
<a id="L1713" name="L1713"></a>1713     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28687.html" title="Multiple referred from 3 places.">snmpV1Trap</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr,
<a id="L1714" name="L1714"></a>1714                             <strong class="reserved">int</strong> port,
<a id="L1715" name="L1715"></a>1715                             <a href="../S/6482.html#L39" title="Defined at 39 in src/com/sun/jmx/snmp/SnmpIpAddress.java.">SnmpIpAddress</a> agentAddr,
<a id="L1716" name="L1716"></a>1716                             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs,
<a id="L1717" name="L1717"></a>1717                             <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> enterpOid,
<a id="L1718" name="L1718"></a>1718                             <strong class="reserved">int</strong> <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a>,
<a id="L1719" name="L1719"></a>1719                             <strong class="reserved">int</strong> specific,
<a id="L1720" name="L1720"></a>1720                             <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList,
<a id="L1721" name="L1721"></a>1721                             <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L1722" name="L1722"></a>1722         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1723" name="L1723"></a>1723 
<a id="L1724" name="L1724"></a>1724         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1725" name="L1725"></a>1725             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1726" name="L1726"></a>1726                 "snmpV1Trap", "generic=" + <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a> + ", specific=" +
<a id="L1727" name="L1727"></a>1727                   specific);
<a id="L1728" name="L1728"></a>1728         <em class="brace">}</em>
<a id="L1729" name="L1729"></a>1729 
<a id="L1730" name="L1730"></a>1730         <em class="comment">// First, make an SNMP V1 trap pdu</em>
<a id="L1731" name="L1731"></a>1731         <em class="comment">//</em>
<a id="L1732" name="L1732"></a>1732         <a href="../S/6484.html#L45" title="Defined at 45 in src/com/sun/jmx/snmp/SnmpPduTrap.java.">SnmpPduTrap</a> pdu = <strong class="reserved">new</strong> <a href="../S/6484.html#L45" title="Defined at 45 in src/com/sun/jmx/snmp/SnmpPduTrap.java.">SnmpPduTrap</a>() ;
<a id="L1733" name="L1733"></a>1733         pdu.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong> ;
<a id="L1734" name="L1734"></a>1734         pdu.port = port ;
<a id="L1735" name="L1735"></a>1735         pdu.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = pduV1TrapPdu ;
<a id="L1736" name="L1736"></a>1736         pdu.<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = snmpVersionOne ;
<a id="L1737" name="L1737"></a>1737 
<a id="L1738" name="L1738"></a>1738         <em class="comment">//Diff start</em>
<a id="L1739" name="L1739"></a>1739         <strong class="reserved">if</strong>(cs != <strong class="reserved">null</strong>)
<a id="L1740" name="L1740"></a>1740             pdu.community = cs.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L1741" name="L1741"></a>1741         <strong class="reserved">else</strong>
<a id="L1742" name="L1742"></a>1742             pdu.community = <strong class="reserved">null</strong> ;
<a id="L1743" name="L1743"></a>1743         <em class="comment">//Diff end</em>
<a id="L1744" name="L1744"></a>1744 
<a id="L1745" name="L1745"></a>1745         <em class="comment">// Diff start</em>
<a id="L1746" name="L1746"></a>1746         <strong class="reserved">if</strong>(enterpOid != <strong class="reserved">null</strong>)
<a id="L1747" name="L1747"></a>1747             pdu.enterprise = enterpOid;
<a id="L1748" name="L1748"></a>1748         <strong class="reserved">else</strong>
<a id="L1749" name="L1749"></a>1749             pdu.enterprise = enterpriseOid ;
<a id="L1750" name="L1750"></a>1750         <em class="comment">//Diff end</em>
<a id="L1751" name="L1751"></a>1751         pdu.genericTrap = <a href="../S/1616.html#L641" title="Defined at 641 in src/java/lang/invoke/MethodType.java.">generic</a> ;
<a id="L1752" name="L1752"></a>1752         pdu.specificTrap = specific ;
<a id="L1753" name="L1753"></a>1753         <em class="comment">//Diff start</em>
<a id="L1754" name="L1754"></a>1754         <strong class="reserved">if</strong>(<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a> != <strong class="reserved">null</strong>)
<a id="L1755" name="L1755"></a>1755             pdu.timeStamp = <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>();
<a id="L1756" name="L1756"></a>1756         <strong class="reserved">else</strong>
<a id="L1757" name="L1757"></a>1757             pdu.timeStamp = <a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>();
<a id="L1758" name="L1758"></a>1758         <em class="comment">//Diff end</em>
<a id="L1759" name="L1759"></a>1759 
<a id="L1760" name="L1760"></a>1760         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1761" name="L1761"></a>1761             pdu.varBindList = <strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>[varBindList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L1762" name="L1762"></a>1762             varBindList.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(pdu.varBindList);
<a id="L1763" name="L1763"></a>1763         <em class="brace">}</em>
<a id="L1764" name="L1764"></a>1764         <strong class="reserved">else</strong>
<a id="L1765" name="L1765"></a>1765             pdu.varBindList = <strong class="reserved">null</strong> ;
<a id="L1766" name="L1766"></a>1766 
<a id="L1767" name="L1767"></a>1767         <strong class="reserved">if</strong> (agentAddr == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1768" name="L1768"></a>1768             <em class="comment">// If the local host cannot be determined,</em>
<a id="L1769" name="L1769"></a>1769             <em class="comment">// we put 0.0.0.0 in agentAddr</em>
<a id="L1770" name="L1770"></a>1770             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1771" name="L1771"></a>1771                 <strong class="reserved">final</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> inetAddr =
<a id="L1772" name="L1772"></a>1772                     (<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>!=<strong class="reserved">null</strong>)?<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>:<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1470" title="Defined at 1470 in src/java/net/InetAddress.java.">getLocalHost</a>();
<a id="L1773" name="L1773"></a>1773                 agentAddr = <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(inetAddr.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L1774" name="L1774"></a>1774             <em class="brace">}</em>  <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L1775" name="L1775"></a>1775                 <strong class="reserved">byte</strong>[] zeroedAddr = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[4];
<a id="L1776" name="L1776"></a>1776                 agentAddr = <a href="../S/6449.html#L1543" title="Defined at 1543 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">handleMultipleIpVersion</a>(zeroedAddr);
<a id="L1777" name="L1777"></a>1777             <em class="brace">}</em>
<a id="L1778" name="L1778"></a>1778         <em class="brace">}</em>
<a id="L1779" name="L1779"></a>1779 
<a id="L1780" name="L1780"></a>1780         pdu.agentAddr = agentAddr;
<a id="L1781" name="L1781"></a>1781 
<a id="L1782" name="L1782"></a>1782         <em class="comment">// Next, send the pdu to the specified destination</em>
<a id="L1783" name="L1783"></a>1783         <em class="comment">//</em>
<a id="L1784" name="L1784"></a>1784         <em class="comment">// Diff start</em>
<a id="L1785" name="L1785"></a>1785         <strong class="reserved">if</strong>(addr != <strong class="reserved">null</strong>)
<a id="L1786" name="L1786"></a>1786             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(addr, pdu) ;
<a id="L1787" name="L1787"></a>1787         <strong class="reserved">else</strong>
<a id="L1788" name="L1788"></a>1788             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu);
<a id="L1789" name="L1789"></a>1789 
<a id="L1790" name="L1790"></a>1790         <em class="comment">//End diff</em>
<a id="L1791" name="L1791"></a>1791     <em class="brace">}</em>
<a id="L1792" name="L1792"></a>1792 
<div class="comment">
      Sends a trap using SNMP V2 trap format.
      <br>The trap is sent to the specified <code>SnmpPeer</code> destination.
      <br>The community string used is the one located in the
      <code>SnmpPeer</code> parameters
      (<code>SnmpParameters.getRdCommunity() </code>).
      <br>The variable list included in the outgoing trap is composed of
      the following items:
      <ul>
      <li><code>sysUpTime.0</code> with the value specified by
          <code>time</code></li>
      <li><code>snmpTrapOid.0</code> with the value specified by
          <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      @param peer The <code>SnmpPeer</code> destination of the trap.
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @param time The time stamp (overwrite the current time).
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit
      defined by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L1821" name="L1821"></a>1821     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1822" name="L1822"></a>1822     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28688.html" title="Multiple referred from 2 places.">snmpV2Trap</a>(<a href="../S/6464.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPeer.java.">SnmpPeer</a> peer,
<a id="L1823" name="L1823"></a>1823                            <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L1824" name="L1824"></a>1824                            <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList,
<a id="L1825" name="L1825"></a>1825                            <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L1826" name="L1826"></a>1826         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1827" name="L1827"></a>1827 
<a id="L1828" name="L1828"></a>1828         <a href="../S/6316.html#L35" title="Defined at 35 in src/com/sun/jmx/snmp/SnmpParameters.java.">SnmpParameters</a> p = (<a href="../S/6316.html#L35" title="Defined at 35 in src/com/sun/jmx/snmp/SnmpParameters.java.">SnmpParameters</a>) peer.<a href="../D/21385.html" title="Multiple defined in 8 places.">getParams</a>();
<a id="L1829" name="L1829"></a>1829         <a href="../D/34648.html" title="Multiple defined in 8 places.">snmpV2Trap</a>(peer.<a href="../S/6464.html#L275" title="Defined at 275 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestAddr</a>(),
<a id="L1830" name="L1830"></a>1830                    peer.<a href="../S/6464.html#L283" title="Defined at 283 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestPort</a>(),
<a id="L1831" name="L1831"></a>1831                    p.<a href="../S/6316.html#L80" title="Defined at 80 in src/com/sun/jmx/snmp/SnmpParameters.java.">getRdCommunity</a>(),
<a id="L1832" name="L1832"></a>1832                    trapOid,
<a id="L1833" name="L1833"></a>1833                    varBindList,
<a id="L1834" name="L1834"></a>1834                    <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>);
<a id="L1835" name="L1835"></a>1835     <em class="brace">}</em>
<a id="L1836" name="L1836"></a>1836 
<div class="comment">
      Sends a trap using SNMP V2 trap format.
      <br>The trap is sent to each destination defined in the ACL file
      (if available). If no ACL file or no destinations are available,
      the trap is sent to the local host.
      <br>The variable list included in the outgoing trap is composed of
      the following items:
      <ul>
      <li><code>sysUpTime.0</code> with its current value</li>
      <li><code>snmpTrapOid.0</code> with the value specified by
          <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit defined
                 by <code>bufferSize</code>.</div>
<a id="L1859" name="L1859"></a>1859     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1860" name="L1860"></a>1860     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28688.html" title="Multiple referred from 2 places.">snmpV2Trap</a>(<a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid, <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L1861" name="L1861"></a>1861         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1862" name="L1862"></a>1862 
<a id="L1863" name="L1863"></a>1863         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1864" name="L1864"></a>1864             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1865" name="L1865"></a>1865                 "snmpV2Trap", "trapOid=" + trapOid);
<a id="L1866" name="L1866"></a>1866         <em class="brace">}</em>
<a id="L1867" name="L1867"></a>1867 
<a id="L1868" name="L1868"></a>1868         <em class="comment">// First, make an SNMP V2 trap pdu</em>
<a id="L1869" name="L1869"></a>1869         <em class="comment">// We clone varBindList and insert sysUpTime and snmpTrapOid</em>
<a id="L1870" name="L1870"></a>1870         <em class="comment">//</em>
<a id="L1871" name="L1871"></a>1871         <a href="../S/6472.html#L43" title="Defined at 43 in src/com/sun/jmx/snmp/SnmpPduRequest.java.">SnmpPduRequest</a> pdu = <strong class="reserved">new</strong> <a href="../S/6472.html#L43" title="Defined at 43 in src/com/sun/jmx/snmp/SnmpPduRequest.java.">SnmpPduRequest</a>() ;
<a id="L1872" name="L1872"></a>1872         pdu.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong> ;
<a id="L1873" name="L1873"></a>1873         pdu.port = trapPort ;
<a id="L1874" name="L1874"></a>1874         pdu.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = pduV2TrapPdu ;
<a id="L1875" name="L1875"></a>1875         pdu.<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = snmpVersionTwo ;
<a id="L1876" name="L1876"></a>1876         pdu.community = <strong class="reserved">null</strong> ;
<a id="L1877" name="L1877"></a>1877 
<a id="L1878" name="L1878"></a>1878         <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> fullVbl ;
<a id="L1879" name="L1879"></a>1879         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>)
<a id="L1880" name="L1880"></a>1880             fullVbl = varBindList.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() ;
<a id="L1881" name="L1881"></a>1881         <strong class="reserved">else</strong>
<a id="L1882" name="L1882"></a>1882             fullVbl = <strong class="reserved">new</strong> <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a>(2) ;
<a id="L1883" name="L1883"></a>1883         <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> sysUpTimeValue = <strong class="reserved">new</strong> <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a>(<a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>()) ;
<a id="L1884" name="L1884"></a>1884         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(snmpTrapOidOid, trapOid), 0) ;
<a id="L1885" name="L1885"></a>1885         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(sysUpTimeOid, sysUpTimeValue),
<a id="L1886" name="L1886"></a>1886                                 0);
<a id="L1887" name="L1887"></a>1887         pdu.varBindList = <strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>[fullVbl.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L1888" name="L1888"></a>1888         fullVbl.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(pdu.varBindList) ;
<a id="L1889" name="L1889"></a>1889 
<a id="L1890" name="L1890"></a>1890         <em class="comment">// Next, send the pdu to all destinations defined in ACL</em>
<a id="L1891" name="L1891"></a>1891         <em class="comment">//</em>
<a id="L1892" name="L1892"></a>1892         <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu) ;
<a id="L1893" name="L1893"></a>1893     <em class="brace">}</em>
<a id="L1894" name="L1894"></a>1894 
<div class="comment">
      Sends a trap using SNMP V2 trap format.
      <br>The trap is sent to the specified <code>InetAddress</code>
      destination using the specified community string (and the ACL file
      is not used).
      <br>The variable list included in the outgoing trap is composed of
      the following items:
      <ul>
      <li><code>sysUpTime.0</code> with its current value</li>
      <li><code>snmpTrapOid.0</code> with the value specified by
          <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      @param addr The <code>InetAddress</code> destination of the trap.
      @param cs The community string to be used for the trap.
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit
                 defined by <code>bufferSize</code>.</div>
<a id="L1919" name="L1919"></a>1919     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1920" name="L1920"></a>1920     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28688.html" title="Multiple referred from 2 places.">snmpV2Trap</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs, <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L1921" name="L1921"></a>1921                            <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L1922" name="L1922"></a>1922         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1923" name="L1923"></a>1923 
<a id="L1924" name="L1924"></a>1924         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L1925" name="L1925"></a>1925             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L1926" name="L1926"></a>1926                 "snmpV2Trap", "trapOid=" + trapOid);
<a id="L1927" name="L1927"></a>1927         <em class="brace">}</em>
<a id="L1928" name="L1928"></a>1928 
<a id="L1929" name="L1929"></a>1929         <em class="comment">// First, make an SNMP V2 trap pdu</em>
<a id="L1930" name="L1930"></a>1930         <em class="comment">// We clone varBindList and insert sysUpTime and snmpTrapOid</em>
<a id="L1931" name="L1931"></a>1931         <em class="comment">//</em>
<a id="L1932" name="L1932"></a>1932         <a href="../S/6472.html#L43" title="Defined at 43 in src/com/sun/jmx/snmp/SnmpPduRequest.java.">SnmpPduRequest</a> pdu = <strong class="reserved">new</strong> <a href="../S/6472.html#L43" title="Defined at 43 in src/com/sun/jmx/snmp/SnmpPduRequest.java.">SnmpPduRequest</a>() ;
<a id="L1933" name="L1933"></a>1933         pdu.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong> ;
<a id="L1934" name="L1934"></a>1934         pdu.port = trapPort ;
<a id="L1935" name="L1935"></a>1935         pdu.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = pduV2TrapPdu ;
<a id="L1936" name="L1936"></a>1936         pdu.<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = snmpVersionTwo ;
<a id="L1937" name="L1937"></a>1937 
<a id="L1938" name="L1938"></a>1938         <strong class="reserved">if</strong>(cs != <strong class="reserved">null</strong>)
<a id="L1939" name="L1939"></a>1939             pdu.community = cs.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L1940" name="L1940"></a>1940         <strong class="reserved">else</strong>
<a id="L1941" name="L1941"></a>1941             pdu.community = <strong class="reserved">null</strong>;
<a id="L1942" name="L1942"></a>1942 
<a id="L1943" name="L1943"></a>1943         <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> fullVbl ;
<a id="L1944" name="L1944"></a>1944         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>)
<a id="L1945" name="L1945"></a>1945             fullVbl = varBindList.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() ;
<a id="L1946" name="L1946"></a>1946         <strong class="reserved">else</strong>
<a id="L1947" name="L1947"></a>1947             fullVbl = <strong class="reserved">new</strong> <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a>(2) ;
<a id="L1948" name="L1948"></a>1948         <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> sysUpTimeValue = <strong class="reserved">new</strong> <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a>(<a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>()) ;
<a id="L1949" name="L1949"></a>1949         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(snmpTrapOidOid, trapOid), 0) ;
<a id="L1950" name="L1950"></a>1950         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(sysUpTimeOid, sysUpTimeValue),
<a id="L1951" name="L1951"></a>1951                                 0);
<a id="L1952" name="L1952"></a>1952         pdu.varBindList = <strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>[fullVbl.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L1953" name="L1953"></a>1953         fullVbl.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(pdu.varBindList) ;
<a id="L1954" name="L1954"></a>1954 
<a id="L1955" name="L1955"></a>1955         <em class="comment">// Next, send the pdu to the specified destination</em>
<a id="L1956" name="L1956"></a>1956         <em class="comment">//</em>
<a id="L1957" name="L1957"></a>1957         <strong class="reserved">if</strong>(addr != <strong class="reserved">null</strong>)
<a id="L1958" name="L1958"></a>1958             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(addr, pdu);
<a id="L1959" name="L1959"></a>1959         <strong class="reserved">else</strong>
<a id="L1960" name="L1960"></a>1960             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu);
<a id="L1961" name="L1961"></a>1961     <em class="brace">}</em>
<a id="L1962" name="L1962"></a>1962 
<div class="comment">
      Sends a trap using SNMP V2 trap format.
      <br>The trap is sent to the specified <code>InetAddress</code>
      destination using the specified parameters (and the ACL file is not
      used).
      Note that if the specified <code>InetAddress</code> destination is null,
      then the ACL file mechanism is used.
      <br>The variable list included in the outgoing trap is composed of the
      following items:
      <ul>
      <li><code>sysUpTime.0</code> with the value specified by
          <code>time</code></li>
      <li><code>snmpTrapOid.0</code> with the value specified by
          <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      @param addr The <code>InetAddress</code> destination of the trap.
      @param cs The community string to be used for the trap.
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @param time The time stamp (overwrite the current time).
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit
      defined by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L1993" name="L1993"></a>1993     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28688.html" title="Multiple referred from 2 places.">snmpV2Trap</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr,
<a id="L1994" name="L1994"></a>1994                            <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs,
<a id="L1995" name="L1995"></a>1995                            <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L1996" name="L1996"></a>1996                            <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList,
<a id="L1997" name="L1997"></a>1997                            <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L1998" name="L1998"></a>1998         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L1999" name="L1999"></a>1999 
<a id="L2000" name="L2000"></a>2000         <a href="../D/34648.html" title="Multiple defined in 8 places.">snmpV2Trap</a>(addr,
<a id="L2001" name="L2001"></a>2001                    trapPort,
<a id="L2002" name="L2002"></a>2002                    cs,
<a id="L2003" name="L2003"></a>2003                    trapOid,
<a id="L2004" name="L2004"></a>2004                    varBindList,
<a id="L2005" name="L2005"></a>2005                    <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>);
<a id="L2006" name="L2006"></a>2006     <em class="brace">}</em>
<a id="L2007" name="L2007"></a>2007 
<a id="L2008" name="L2008"></a>2008     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28688.html" title="Multiple referred from 2 places.">snmpV2Trap</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr,
<a id="L2009" name="L2009"></a>2009                             <strong class="reserved">int</strong> port,
<a id="L2010" name="L2010"></a>2010                             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs,
<a id="L2011" name="L2011"></a>2011                             <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L2012" name="L2012"></a>2012                             <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList,
<a id="L2013" name="L2013"></a>2013                             <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L2014" name="L2014"></a>2014         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2015" name="L2015"></a>2015 
<a id="L2016" name="L2016"></a>2016         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2017" name="L2017"></a>2017             <strong class="reserved">final</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> strb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>()
<a id="L2018" name="L2018"></a>2018                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("trapOid=").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(trapOid)
<a id="L2019" name="L2019"></a>2019                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("\ncommunity=").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(cs)
<a id="L2020" name="L2020"></a>2020                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("\naddr=").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(addr)
<a id="L2021" name="L2021"></a>2021                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("\nvarBindList=").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(varBindList)
<a id="L2022" name="L2022"></a>2022                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("\ntime=").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>)
<a id="L2023" name="L2023"></a>2023                 .<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("\ntrapPort=").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(port);
<a id="L2024" name="L2024"></a>2024             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2025" name="L2025"></a>2025                 "snmpV2Trap", strb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L2026" name="L2026"></a>2026         <em class="brace">}</em>
<a id="L2027" name="L2027"></a>2027 
<a id="L2028" name="L2028"></a>2028         <em class="comment">// First, make an SNMP V2 trap pdu</em>
<a id="L2029" name="L2029"></a>2029         <em class="comment">// We clone varBindList and insert sysUpTime and snmpTrapOid</em>
<a id="L2030" name="L2030"></a>2030         <em class="comment">//</em>
<a id="L2031" name="L2031"></a>2031         <a href="../S/6472.html#L43" title="Defined at 43 in src/com/sun/jmx/snmp/SnmpPduRequest.java.">SnmpPduRequest</a> pdu = <strong class="reserved">new</strong> <a href="../S/6472.html#L43" title="Defined at 43 in src/com/sun/jmx/snmp/SnmpPduRequest.java.">SnmpPduRequest</a>() ;
<a id="L2032" name="L2032"></a>2032         pdu.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <strong class="reserved">null</strong> ;
<a id="L2033" name="L2033"></a>2033         pdu.port = port ;
<a id="L2034" name="L2034"></a>2034         pdu.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = pduV2TrapPdu ;
<a id="L2035" name="L2035"></a>2035         pdu.<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = snmpVersionTwo ;
<a id="L2036" name="L2036"></a>2036 
<a id="L2037" name="L2037"></a>2037         <strong class="reserved">if</strong>(cs != <strong class="reserved">null</strong>)
<a id="L2038" name="L2038"></a>2038             pdu.community = cs.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>();
<a id="L2039" name="L2039"></a>2039         <strong class="reserved">else</strong>
<a id="L2040" name="L2040"></a>2040             pdu.community = <strong class="reserved">null</strong>;
<a id="L2041" name="L2041"></a>2041 
<a id="L2042" name="L2042"></a>2042         <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> fullVbl ;
<a id="L2043" name="L2043"></a>2043         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>)
<a id="L2044" name="L2044"></a>2044             fullVbl = varBindList.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() ;
<a id="L2045" name="L2045"></a>2045         <strong class="reserved">else</strong>
<a id="L2046" name="L2046"></a>2046             fullVbl = <strong class="reserved">new</strong> <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a>(2) ;
<a id="L2047" name="L2047"></a>2047 
<a id="L2048" name="L2048"></a>2048         <em class="comment">// Only difference with other</em>
<a id="L2049" name="L2049"></a>2049         <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> sysUpTimeValue;
<a id="L2050" name="L2050"></a>2050         <strong class="reserved">if</strong>(<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a> != <strong class="reserved">null</strong>)
<a id="L2051" name="L2051"></a>2051             sysUpTimeValue = <a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>;
<a id="L2052" name="L2052"></a>2052         <strong class="reserved">else</strong>
<a id="L2053" name="L2053"></a>2053             sysUpTimeValue = <strong class="reserved">new</strong> <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a>(<a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>()) ;
<a id="L2054" name="L2054"></a>2054         <em class="comment">//End of diff</em>
<a id="L2055" name="L2055"></a>2055 
<a id="L2056" name="L2056"></a>2056         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(snmpTrapOidOid, trapOid), 0) ;
<a id="L2057" name="L2057"></a>2057         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(sysUpTimeOid, sysUpTimeValue),
<a id="L2058" name="L2058"></a>2058                                 0);
<a id="L2059" name="L2059"></a>2059         pdu.varBindList = <strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>[fullVbl.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()] ;
<a id="L2060" name="L2060"></a>2060         fullVbl.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(pdu.varBindList) ;
<a id="L2061" name="L2061"></a>2061 
<a id="L2062" name="L2062"></a>2062         <em class="comment">// Next, send the pdu to the specified destination</em>
<a id="L2063" name="L2063"></a>2063         <em class="comment">//</em>
<a id="L2064" name="L2064"></a>2064         <em class="comment">// Diff start</em>
<a id="L2065" name="L2065"></a>2065         <strong class="reserved">if</strong>(addr != <strong class="reserved">null</strong>)
<a id="L2066" name="L2066"></a>2066             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(addr, pdu) ;
<a id="L2067" name="L2067"></a>2067         <strong class="reserved">else</strong>
<a id="L2068" name="L2068"></a>2068             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu);
<a id="L2069" name="L2069"></a>2069         <em class="comment">//End diff</em>
<a id="L2070" name="L2070"></a>2070     <em class="brace">}</em>
<a id="L2071" name="L2071"></a>2071 
<div class="comment">
      Send the specified trap PDU to the passed <code>InetAddress</code>.
      @param address The destination address.
      @param pdu The pdu to send.
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit
      defined by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L2082" name="L2082"></a>2082     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2083" name="L2083"></a>2083     <strong class="reserved">public</strong> <strong class="reserved">void</strong> snmpPduTrap(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <a href="../S/6474.html#L36" title="Defined at 36 in src/com/sun/jmx/snmp/SnmpPduPacket.java.">SnmpPduPacket</a> pdu)
<a id="L2084" name="L2084"></a>2084             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2085" name="L2085"></a>2085 
<a id="L2086" name="L2086"></a>2086         <strong class="reserved">if</strong>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> != <strong class="reserved">null</strong>)
<a id="L2087" name="L2087"></a>2087             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, pdu);
<a id="L2088" name="L2088"></a>2088         <strong class="reserved">else</strong>
<a id="L2089" name="L2089"></a>2089             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu);
<a id="L2090" name="L2090"></a>2090     <em class="brace">}</em>
<a id="L2091" name="L2091"></a>2091 
<div class="comment">
      Send the specified trap PDU to the passed <code>SnmpPeer</code>.
      @param peer The destination peer. The Read community string is used of
      <code>SnmpParameters</code> is used as the trap community string.
      @param pdu The pdu to send.
      @exception IOException An I/O error occurred while sending the trap.
      @exception SnmpStatusException If the trap exceeds the limit defined
      by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L2102" name="L2102"></a>2102     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2103" name="L2103"></a>2103     <strong class="reserved">public</strong> <strong class="reserved">void</strong> snmpPduTrap(<a href="../S/6464.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPeer.java.">SnmpPeer</a> peer,
<a id="L2104" name="L2104"></a>2104                             <a href="../S/6474.html#L36" title="Defined at 36 in src/com/sun/jmx/snmp/SnmpPduPacket.java.">SnmpPduPacket</a> pdu)
<a id="L2105" name="L2105"></a>2105         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2106" name="L2106"></a>2106         <strong class="reserved">if</strong>(peer != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2107" name="L2107"></a>2107             pdu.port = peer.<a href="../S/6464.html#L283" title="Defined at 283 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestPort</a>();
<a id="L2108" name="L2108"></a>2108             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(peer.<a href="../S/6464.html#L275" title="Defined at 275 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestAddr</a>(), pdu);
<a id="L2109" name="L2109"></a>2109         <em class="brace">}</em>
<a id="L2110" name="L2110"></a>2110         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2111" name="L2111"></a>2111             pdu.port = <a href="../D/23279.html" title="Multiple defined in 2 places.">getTrapPort</a>().<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L2112" name="L2112"></a>2112             <a href="../D/31757.html" title="Multiple defined in 2 places.">sendTrapPdu</a>(pdu);
<a id="L2113" name="L2113"></a>2113         <em class="brace">}</em>
<a id="L2114" name="L2114"></a>2114     <em class="brace">}</em>
<a id="L2115" name="L2115"></a>2115 
<div class="comment">
      Send the specified trap PDU to every destinations from the ACL file.</div>
<a id="L2119" name="L2119"></a>2119     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26788.html" title="Multiple referred from 14 places.">sendTrapPdu</a>(<a href="../S/6474.html#L36" title="Defined at 36 in src/com/sun/jmx/snmp/SnmpPduPacket.java.">SnmpPduPacket</a> pdu)
<a id="L2120" name="L2120"></a>2120      <strong class="reserved">throws</strong> <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2121" name="L2121"></a>2121 
<a id="L2122" name="L2122"></a>2122         <em class="comment">// Make an SNMP message from the pdu</em>
<a id="L2123" name="L2123"></a>2123         <em class="comment">//</em>
<a id="L2124" name="L2124"></a>2124         <a href="../S/6372.html#L64" title="Defined at 64 in src/com/sun/jmx/snmp/SnmpMessage.java.">SnmpMessage</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <strong class="reserved">null</strong> ;
<a id="L2125" name="L2125"></a>2125         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2126" name="L2126"></a>2126             <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = (<a href="../S/6372.html#L64" title="Defined at 64 in src/com/sun/jmx/snmp/SnmpMessage.java.">SnmpMessage</a>)pduFactory.<a href="../D/15411.html" title="Multiple defined in 7 places.">encodeSnmpPdu</a>(pdu, bufferSize) ;
<a id="L2127" name="L2127"></a>2127             <strong class="reserved">if</strong> (<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2128" name="L2128"></a>2128                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a>(
<a id="L2129" name="L2129"></a>2129                           <a href="../S/6476.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpDefinitions.java.">SnmpDefinitions</a>.snmpRspAuthorizationError) ;
<a id="L2130" name="L2130"></a>2130             <em class="brace">}</em>
<a id="L2131" name="L2131"></a>2131         <em class="brace">}</em>
<a id="L2132" name="L2132"></a>2132         <strong class="reserved">catch</strong> (<a href="../S/6384.html#L46" title="Defined at 46 in src/com/sun/jmx/snmp/SnmpTooBigException.java.">SnmpTooBigException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L2133" name="L2133"></a>2133             <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L2134" name="L2134"></a>2134                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L2135" name="L2135"></a>2135                     "sendTrapPdu", "Trap pdu is too big. " +
<a id="L2136" name="L2136"></a>2136                      "Trap hasn't been sent to anyone" );
<a id="L2137" name="L2137"></a>2137             <em class="brace">}</em>
<a id="L2138" name="L2138"></a>2138             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a>(<a href="../S/6476.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpDefinitions.java.">SnmpDefinitions</a>.snmpRspTooBig) ;
<a id="L2139" name="L2139"></a>2139             <em class="comment">// FIXME: is the right exception to throw ?</em>
<a id="L2140" name="L2140"></a>2140             <em class="comment">// We could simply forward SnmpTooBigException ?</em>
<a id="L2141" name="L2141"></a>2141         <em class="brace">}</em>
<a id="L2142" name="L2142"></a>2142 
<a id="L2143" name="L2143"></a>2143         <em class="comment">// Now send the SNMP message to each destination</em>
<a id="L2144" name="L2144"></a>2144         <em class="comment">//</em>
<a id="L2145" name="L2145"></a>2145         <strong class="reserved">int</strong> sendingCount = 0 ;
<a id="L2146" name="L2146"></a>2146         <a href="../S/6449.html#L2270" title="Defined at 2270 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">openTrapSocketIfNeeded</a>() ;
<a id="L2147" name="L2147"></a>2147         <strong class="reserved">if</strong> (ipacl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2148" name="L2148"></a>2148             <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>&gt; ed = ipacl.<a href="../D/23278.html" title="Multiple defined in 2 places.">getTrapDestinations</a>() ;
<a id="L2149" name="L2149"></a>2149             <strong class="reserved">while</strong> (ed.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L2150" name="L2150"></a>2150                 <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = ed.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() ;
<a id="L2151" name="L2151"></a>2151                 <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; ec = ipacl.<a href="../D/23277.html" title="Multiple defined in 2 places.">getTrapCommunities</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) ;
<a id="L2152" name="L2152"></a>2152                 <strong class="reserved">while</strong> (ec.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L2153" name="L2153"></a>2153                     <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.community = ec.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>().<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>() ;
<a id="L2154" name="L2154"></a>2154                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2155" name="L2155"></a>2155                         <a href="../S/6449.html#L2243" title="Defined at 2243 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">sendTrapMessage</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>) ;
<a id="L2156" name="L2156"></a>2156                         sendingCount++ ;
<a id="L2157" name="L2157"></a>2157                     <em class="brace">}</em>
<a id="L2158" name="L2158"></a>2158                     <strong class="reserved">catch</strong> (<a href="../S/6384.html#L46" title="Defined at 46 in src/com/sun/jmx/snmp/SnmpTooBigException.java.">SnmpTooBigException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L2159" name="L2159"></a>2159                         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L2160" name="L2160"></a>2160                             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L2161" name="L2161"></a>2161                                 "sendTrapPdu", "Trap pdu is too big. " +
<a id="L2162" name="L2162"></a>2162                                  "Trap hasn't been sent to "+<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L2163" name="L2163"></a>2163                         <em class="brace">}</em>
<a id="L2164" name="L2164"></a>2164                     <em class="brace">}</em>
<a id="L2165" name="L2165"></a>2165                 <em class="brace">}</em>
<a id="L2166" name="L2166"></a>2166             <em class="brace">}</em>
<a id="L2167" name="L2167"></a>2167         <em class="brace">}</em>
<a id="L2168" name="L2168"></a>2168 
<a id="L2169" name="L2169"></a>2169         <em class="comment">// If there is no destination defined or if everything has failed</em>
<a id="L2170" name="L2170"></a>2170         <em class="comment">// we tried to send the trap to the local host (as suggested by</em>
<a id="L2171" name="L2171"></a>2171         <em class="comment">// mister Olivier Reisacher).</em>
<a id="L2172" name="L2172"></a>2172         <em class="comment">//</em>
<a id="L2173" name="L2173"></a>2173         <strong class="reserved">if</strong> (sendingCount == 0) <em class="brace">{</em>
<a id="L2174" name="L2174"></a>2174             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2175" name="L2175"></a>2175                 <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1470" title="Defined at 1470 in src/java/net/InetAddress.java.">getLocalHost</a>() ;
<a id="L2176" name="L2176"></a>2176                 <a href="../S/6449.html#L2243" title="Defined at 2243 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">sendTrapMessage</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>) ;
<a id="L2177" name="L2177"></a>2177             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/6384.html#L46" title="Defined at 46 in src/com/sun/jmx/snmp/SnmpTooBigException.java.">SnmpTooBigException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L2178" name="L2178"></a>2178                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L2179" name="L2179"></a>2179                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L2180" name="L2180"></a>2180                         "sendTrapPdu", "Trap pdu is too big. " +
<a id="L2181" name="L2181"></a>2181                          "Trap hasn't been sent.");
<a id="L2182" name="L2182"></a>2182                 <em class="brace">}</em>
<a id="L2183" name="L2183"></a>2183             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L2184" name="L2184"></a>2184                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L2185" name="L2185"></a>2185                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L2186" name="L2186"></a>2186                         "sendTrapPdu", "Trap pdu is too big. " +
<a id="L2187" name="L2187"></a>2187                          "Trap hasn't been sent.");
<a id="L2188" name="L2188"></a>2188                 <em class="brace">}</em>
<a id="L2189" name="L2189"></a>2189             <em class="brace">}</em>
<a id="L2190" name="L2190"></a>2190         <em class="brace">}</em>
<a id="L2191" name="L2191"></a>2191 
<a id="L2192" name="L2192"></a>2192         <a href="../S/6449.html#L2284" title="Defined at 2284 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">closeTrapSocketIfNeeded</a>() ;
<a id="L2193" name="L2193"></a>2193     <em class="brace">}</em>
<a id="L2194" name="L2194"></a>2194 
<div class="comment">
      Send the specified trap PDU to the specified destination.</div>
<a id="L2198" name="L2198"></a>2198     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26788.html" title="Multiple referred from 14 places.">sendTrapPdu</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr, <a href="../S/6474.html#L36" title="Defined at 36 in src/com/sun/jmx/snmp/SnmpPduPacket.java.">SnmpPduPacket</a> pdu)
<a id="L2199" name="L2199"></a>2199         <strong class="reserved">throws</strong> <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2200" name="L2200"></a>2200 
<a id="L2201" name="L2201"></a>2201         <em class="comment">// Make an SNMP message from the pdu</em>
<a id="L2202" name="L2202"></a>2202         <em class="comment">//</em>
<a id="L2203" name="L2203"></a>2203         <a href="../S/6372.html#L64" title="Defined at 64 in src/com/sun/jmx/snmp/SnmpMessage.java.">SnmpMessage</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <strong class="reserved">null</strong> ;
<a id="L2204" name="L2204"></a>2204         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2205" name="L2205"></a>2205             <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = (<a href="../S/6372.html#L64" title="Defined at 64 in src/com/sun/jmx/snmp/SnmpMessage.java.">SnmpMessage</a>)pduFactory.<a href="../D/15411.html" title="Multiple defined in 7 places.">encodeSnmpPdu</a>(pdu, bufferSize) ;
<a id="L2206" name="L2206"></a>2206             <strong class="reserved">if</strong> (<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2207" name="L2207"></a>2207                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a>(
<a id="L2208" name="L2208"></a>2208                           <a href="../S/6476.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpDefinitions.java.">SnmpDefinitions</a>.snmpRspAuthorizationError) ;
<a id="L2209" name="L2209"></a>2209             <em class="brace">}</em>
<a id="L2210" name="L2210"></a>2210         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/6384.html#L46" title="Defined at 46 in src/com/sun/jmx/snmp/SnmpTooBigException.java.">SnmpTooBigException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L2211" name="L2211"></a>2211             <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L2212" name="L2212"></a>2212                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L2213" name="L2213"></a>2213                     "sendTrapPdu", "Trap pdu is too big. " +
<a id="L2214" name="L2214"></a>2214                      "Trap hasn't been sent to the specified host.");
<a id="L2215" name="L2215"></a>2215             <em class="brace">}</em>
<a id="L2216" name="L2216"></a>2216             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a>(<a href="../S/6476.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpDefinitions.java.">SnmpDefinitions</a>.snmpRspTooBig) ;
<a id="L2217" name="L2217"></a>2217             <em class="comment">// FIXME: is the right exception to throw ?</em>
<a id="L2218" name="L2218"></a>2218             <em class="comment">// We could simply forward SnmpTooBigException ?</em>
<a id="L2219" name="L2219"></a>2219         <em class="brace">}</em>
<a id="L2220" name="L2220"></a>2220 
<a id="L2221" name="L2221"></a>2221         <em class="comment">// Now send the SNMP message to specified destination</em>
<a id="L2222" name="L2222"></a>2222         <em class="comment">//</em>
<a id="L2223" name="L2223"></a>2223         <a href="../S/6449.html#L2270" title="Defined at 2270 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">openTrapSocketIfNeeded</a>() ;
<a id="L2224" name="L2224"></a>2224         <strong class="reserved">if</strong> (addr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2225" name="L2225"></a>2225             <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = addr;
<a id="L2226" name="L2226"></a>2226             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2227" name="L2227"></a>2227                 <a href="../S/6449.html#L2243" title="Defined at 2243 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">sendTrapMessage</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>) ;
<a id="L2228" name="L2228"></a>2228             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/6384.html#L46" title="Defined at 46 in src/com/sun/jmx/snmp/SnmpTooBigException.java.">SnmpTooBigException</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>) <em class="brace">{</em>
<a id="L2229" name="L2229"></a>2229                 <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST)) <em class="brace">{</em>
<a id="L2230" name="L2230"></a>2230                     SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINEST, dbgTag,
<a id="L2231" name="L2231"></a>2231                         "sendTrapPdu", "Trap pdu is too big. " +
<a id="L2232" name="L2232"></a>2232                          "Trap hasn't been sent to " +  <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L2233" name="L2233"></a>2233                 <em class="brace">}</em>
<a id="L2234" name="L2234"></a>2234             <em class="brace">}</em>
<a id="L2235" name="L2235"></a>2235         <em class="brace">}</em>
<a id="L2236" name="L2236"></a>2236 
<a id="L2237" name="L2237"></a>2237         <a href="../S/6449.html#L2284" title="Defined at 2284 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">closeTrapSocketIfNeeded</a>() ;
<a id="L2238" name="L2238"></a>2238     <em class="brace">}</em>
<a id="L2239" name="L2239"></a>2239 
<div class="comment">
      Send the specified message on trapSocket.</div>
<a id="L2243" name="L2243"></a>2243     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26787.html" title="Multiple referred from 3 places.">sendTrapMessage</a>(<a href="../S/6372.html#L64" title="Defined at 64 in src/com/sun/jmx/snmp/SnmpMessage.java.">SnmpMessage</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>)
<a id="L2244" name="L2244"></a>2244         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6384.html#L46" title="Defined at 46 in src/com/sun/jmx/snmp/SnmpTooBigException.java.">SnmpTooBigException</a> <em class="brace">{</em>
<a id="L2245" name="L2245"></a>2245 
<a id="L2246" name="L2246"></a>2246         <strong class="reserved">byte</strong>[] <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a> = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[bufferSize] ;
<a id="L2247" name="L2247"></a>2247         <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a> packet = <strong class="reserved">new</strong> <a href="../S/748.html#L43" title="Defined at 43 in src/java/net/DatagramPacket.java.">DatagramPacket</a>(<a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>, <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) ;
<a id="L2248" name="L2248"></a>2248         <strong class="reserved">int</strong> encodingLength = <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/15404.html" title="Multiple defined in 5 places.">encodeMessage</a>(<a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>) ;
<a id="L2249" name="L2249"></a>2249         packet.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(encodingLength) ;
<a id="L2250" name="L2250"></a>2250         packet.<a href="../D/31877.html" title="Multiple defined in 3 places.">setAddress</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) ;
<a id="L2251" name="L2251"></a>2251         packet.<a href="../D/33565.html" title="Multiple defined in 9 places.">setPort</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.port) ;
<a id="L2252" name="L2252"></a>2252         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2253" name="L2253"></a>2253             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2254" name="L2254"></a>2254                 "sendTrapMessage", "sending trap to " + <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> + ":" +
<a id="L2255" name="L2255"></a>2255                   <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.port);
<a id="L2256" name="L2256"></a>2256         <em class="brace">}</em>
<a id="L2257" name="L2257"></a>2257         trapSocket.<a href="../D/31727.html" title="Multiple defined in 8 places.">send</a>(packet) ;
<a id="L2258" name="L2258"></a>2258         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2259" name="L2259"></a>2259             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2260" name="L2260"></a>2260                 "sendTrapMessage", "sent to " + <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> + ":" +
<a id="L2261" name="L2261"></a>2261                   <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>.port);
<a id="L2262" name="L2262"></a>2262         <em class="brace">}</em>
<a id="L2263" name="L2263"></a>2263         snmpOutTraps++;
<a id="L2264" name="L2264"></a>2264         snmpOutPkts++;
<a id="L2265" name="L2265"></a>2265     <em class="brace">}</em>
<a id="L2266" name="L2266"></a>2266 
<div class="comment">
      Open trapSocket if it's not already done.</div>
<a id="L2270" name="L2270"></a>2270     <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/23994.html" title="Multiple referred from 2 places.">openTrapSocketIfNeeded</a>() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L2271" name="L2271"></a>2271         <strong class="reserved">if</strong> (trapSocket == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2272" name="L2272"></a>2272             trapSocket = <strong class="reserved">new</strong> <a href="../S/750.html#L67" title="Defined at 67 in src/java/net/DatagramSocket.java.">DatagramSocket</a>(0, <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>) ;
<a id="L2273" name="L2273"></a>2273             <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2274" name="L2274"></a>2274                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2275" name="L2275"></a>2275                     "openTrapSocketIfNeeded", "using port " +
<a id="L2276" name="L2276"></a>2276                       trapSocket.<a href="../D/20210.html" title="Multiple defined in 8 places.">getLocalPort</a>() + " to send traps");
<a id="L2277" name="L2277"></a>2277             <em class="brace">}</em>
<a id="L2278" name="L2278"></a>2278         <em class="brace">}</em>
<a id="L2279" name="L2279"></a>2279     <em class="brace">}</em>
<a id="L2280" name="L2280"></a>2280 
<div class="comment">
      Close trapSocket if the SNMP protocol adaptor is not ONLINE.</div>
<a id="L2284" name="L2284"></a>2284     <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/11607.html" title="Multiple referred from 3 places.">closeTrapSocketIfNeeded</a>() <em class="brace">{</em>
<a id="L2285" name="L2285"></a>2285         <strong class="reserved">if</strong> ((trapSocket != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> != ONLINE)) <em class="brace">{</em>
<a id="L2286" name="L2286"></a>2286             trapSocket.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>() ;
<a id="L2287" name="L2287"></a>2287             trapSocket = <strong class="reserved">null</strong> ;
<a id="L2288" name="L2288"></a>2288         <em class="brace">}</em>
<a id="L2289" name="L2289"></a>2289     <em class="brace">}</em>
<a id="L2290" name="L2290"></a>2290 
<a id="L2291" name="L2291"></a>2291     <em class="comment">// SENDING SNMP INFORMS STUFF</em>
<a id="L2292" name="L2292"></a>2292     <em class="comment">//---------------------------</em>
<a id="L2293" name="L2293"></a>2293 
<div class="comment">
      Sends an inform using SNMP V2 inform request format.
      <br>The inform request is sent to each destination defined in the ACL
      file (if available).
      If no ACL file or no destinations are available, the inform request is
      sent to the local host.
      <br>The variable list included in the outgoing inform is composed of
      the following items:
      <ul>
      <li><code>sysUpTime.0</code> with its current value</li>
      <li><code>snmpTrapOid.0</code> with the value specified by
          <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      To send an inform request, the SNMP adaptor server must be active.
      @param cb The callback that is invoked when a request is complete.
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @return A vector of {@link com.sun.jmx.snmp.daemon.SnmpInformRequest}
              objects.
              <p>If there is no destination host for this inform request,
              the returned vector will be empty.
      @exception IllegalStateException  This method has been invoked while
                 the SNMP adaptor server was not active.
      @exception IOException An I/O error occurred while sending the
                 inform request.
      @exception SnmpStatusException If the inform request exceeds the
                 limit defined by <code>bufferSize</code>.</p></div>
<a id="L2327" name="L2327"></a>2327     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2328" name="L2328"></a>2328     <strong class="reserved">public</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/6457.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">SnmpInformRequest</a>&gt; <a href="../R/28686.html" title="Multiple referred from 2 places.">snmpInformRequest</a>(<a href="../S/6451.html#L52" title="Defined at 52 in src/com/sun/jmx/snmp/daemon/SnmpInformHandler.java.">SnmpInformHandler</a> cb,
<a id="L2329" name="L2329"></a>2329                                                        <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L2330" name="L2330"></a>2330                                                        <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L2331" name="L2331"></a>2331         <strong class="reserved">throws</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2332" name="L2332"></a>2332 
<a id="L2333" name="L2333"></a>2333         <strong class="reserved">if</strong> (!<a href="../D/25158.html" title="Multiple defined in 19 places.">isActive</a>()) <em class="brace">{</em>
<a id="L2334" name="L2334"></a>2334             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(
<a id="L2335" name="L2335"></a>2335                "Start SNMP adaptor server before carrying out this operation");
<a id="L2336" name="L2336"></a>2336         <em class="brace">}</em>
<a id="L2337" name="L2337"></a>2337         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2338" name="L2338"></a>2338             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2339" name="L2339"></a>2339                 "snmpInformRequest", "trapOid=" + trapOid);
<a id="L2340" name="L2340"></a>2340         <em class="brace">}</em>
<a id="L2341" name="L2341"></a>2341 
<a id="L2342" name="L2342"></a>2342         <em class="comment">// First, make an SNMP inform pdu:</em>
<a id="L2343" name="L2343"></a>2343         <em class="comment">// We clone varBindList and insert sysUpTime and snmpTrapOid variables.</em>
<a id="L2344" name="L2344"></a>2344         <em class="comment">//</em>
<a id="L2345" name="L2345"></a>2345         <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> fullVbl ;
<a id="L2346" name="L2346"></a>2346         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>)
<a id="L2347" name="L2347"></a>2347             fullVbl = varBindList.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() ;
<a id="L2348" name="L2348"></a>2348         <strong class="reserved">else</strong>
<a id="L2349" name="L2349"></a>2349             fullVbl = <strong class="reserved">new</strong> <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a>(2) ;
<a id="L2350" name="L2350"></a>2350         <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> sysUpTimeValue = <strong class="reserved">new</strong> <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a>(<a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>()) ;
<a id="L2351" name="L2351"></a>2351         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(snmpTrapOidOid, trapOid), 0) ;
<a id="L2352" name="L2352"></a>2352         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(sysUpTimeOid, sysUpTimeValue),
<a id="L2353" name="L2353"></a>2353                                 0);
<a id="L2354" name="L2354"></a>2354 
<a id="L2355" name="L2355"></a>2355         <em class="comment">// Next, send the pdu to the specified destination</em>
<a id="L2356" name="L2356"></a>2356         <em class="comment">//</em>
<a id="L2357" name="L2357"></a>2357         <a href="../S/6449.html#L2535" title="Defined at 2535 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">openInformSocketIfNeeded</a>() ;
<a id="L2358" name="L2358"></a>2358 
<a id="L2359" name="L2359"></a>2359         <em class="comment">// Now send the SNMP message to each destination</em>
<a id="L2360" name="L2360"></a>2360         <em class="comment">//</em>
<a id="L2361" name="L2361"></a>2361         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/6457.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">SnmpInformRequest</a>&gt; informReqList = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L2362" name="L2362"></a>2362         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr;
<a id="L2363" name="L2363"></a>2363         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs;
<a id="L2364" name="L2364"></a>2364         <strong class="reserved">if</strong> (ipacl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2365" name="L2365"></a>2365             <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>&gt; ed = ipacl.<a href="../D/19695.html" title="Multiple defined in 2 places.">getInformDestinations</a>() ;
<a id="L2366" name="L2366"></a>2366             <strong class="reserved">while</strong> (ed.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L2367" name="L2367"></a>2367                 addr = ed.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() ;
<a id="L2368" name="L2368"></a>2368                 <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; ec = ipacl.<a href="../D/19693.html" title="Multiple defined in 2 places.">getInformCommunities</a>(addr) ;
<a id="L2369" name="L2369"></a>2369                 <strong class="reserved">while</strong> (ec.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L2370" name="L2370"></a>2370                     cs = ec.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() ;
<a id="L2371" name="L2371"></a>2371                     informReqList.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(
<a id="L2372" name="L2372"></a>2372                        informSession.<a href="../S/6455.html#L183" title="Defined at 183 in src/com/sun/jmx/snmp/daemon/SnmpSession.java.">makeAsyncRequest</a>(addr, cs, cb,
<a id="L2373" name="L2373"></a>2373                                               fullVbl,<a href="../D/19696.html" title="Multiple defined in 2 places.">getInformPort</a>())) ;
<a id="L2374" name="L2374"></a>2374                 <em class="brace">}</em>
<a id="L2375" name="L2375"></a>2375             <em class="brace">}</em>
<a id="L2376" name="L2376"></a>2376         <em class="brace">}</em>
<a id="L2377" name="L2377"></a>2377 
<a id="L2378" name="L2378"></a>2378         <strong class="reserved">return</strong> informReqList ;
<a id="L2379" name="L2379"></a>2379     <em class="brace">}</em>
<a id="L2380" name="L2380"></a>2380 
<div class="comment">
      Sends an inform using SNMP V2 inform request format.
      <br>The inform is sent to the specified <code>InetAddress</code>
      destination
      using the specified community string.
      <br>The variable list included in the outgoing inform is composed
          of the following items:
      <ul>
      <li><code>sysUpTime.0</code> with its current value</li>
      <li><code>snmpTrapOid.0</code> with the value specified by
           <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      To send an inform request, the SNMP adaptor server must be active.
      @param addr The <code>InetAddress</code> destination for this inform
                  request.
      @param cs The community string to be used for the inform request.
      @param cb The callback that is invoked when a request is complete.
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @return The inform request object.
      @exception IllegalStateException  This method has been invoked
                 while the SNMP adaptor server was not active.
      @exception IOException An I/O error occurred while sending the
                 inform request.
      @exception SnmpStatusException If the inform request exceeds the
                 limit defined by <code>bufferSize</code>.</div>
<a id="L2413" name="L2413"></a>2413     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2414" name="L2414"></a>2414     <strong class="reserved">public</strong> <a href="../S/6457.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">SnmpInformRequest</a> <a href="../R/28686.html" title="Multiple referred from 2 places.">snmpInformRequest</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr,
<a id="L2415" name="L2415"></a>2415                                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs,
<a id="L2416" name="L2416"></a>2416                                                <a href="../S/6451.html#L52" title="Defined at 52 in src/com/sun/jmx/snmp/daemon/SnmpInformHandler.java.">SnmpInformHandler</a> cb,
<a id="L2417" name="L2417"></a>2417                                                <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L2418" name="L2418"></a>2418                                                <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L2419" name="L2419"></a>2419         <strong class="reserved">throws</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2420" name="L2420"></a>2420 
<a id="L2421" name="L2421"></a>2421         <strong class="reserved">return</strong> <a href="../D/34645.html" title="Multiple defined in 7 places.">snmpInformRequest</a>(addr,
<a id="L2422" name="L2422"></a>2422                                  <a href="../D/19696.html" title="Multiple defined in 2 places.">getInformPort</a>(),
<a id="L2423" name="L2423"></a>2423                                  cs,
<a id="L2424" name="L2424"></a>2424                                  cb,
<a id="L2425" name="L2425"></a>2425                                  trapOid,
<a id="L2426" name="L2426"></a>2426                                  varBindList);
<a id="L2427" name="L2427"></a>2427     <em class="brace">}</em>
<a id="L2428" name="L2428"></a>2428 
<div class="comment">
      Sends an inform using SNMP V2 inform request format.
      <br>The inform is sent to the specified <code>SnmpPeer</code>
          destination.
      <br>The community string used is the one located in the
          <code>SnmpPeer</code> parameters
          (<code>SnmpParameters.getInformCommunity() </code>).
      <br>The variable list included in the outgoing inform is composed
          of the following items:
      <ul>
      <li><code>sysUpTime.0</code> with its current value</li>
      <li><code>snmpTrapOid.0</code> with the value specified by
          <code>trapOid</code></li>
      <li><code>all the (oid,values)</code> from the specified
          <code>varBindList</code></li>
      </ul>
      To send an inform request, the SNMP adaptor server must be active.
      @param peer The <code>SnmpPeer</code> destination for this inform
                  request.
      @param cb The callback that is invoked when a request is complete.
      @param trapOid The OID identifying the trap.
      @param varBindList A list of <code>SnmpVarBind</code> instances or null.
      @return The inform request object.
      @exception IllegalStateException  This method has been invoked while
                 the SNMP adaptor server was not active.
      @exception IOException An I/O error occurred while sending the
                 inform request.
      @exception SnmpStatusException If the inform request exceeds the
                 limit defined by <code>bufferSize</code>.
      @since 1.5</div>
<a id="L2464" name="L2464"></a>2464     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2465" name="L2465"></a>2465     <strong class="reserved">public</strong> <a href="../S/6457.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">SnmpInformRequest</a> <a href="../R/28686.html" title="Multiple referred from 2 places.">snmpInformRequest</a>(<a href="../S/6464.html#L59" title="Defined at 59 in src/com/sun/jmx/snmp/SnmpPeer.java.">SnmpPeer</a> peer,
<a id="L2466" name="L2466"></a>2466                                                <a href="../S/6451.html#L52" title="Defined at 52 in src/com/sun/jmx/snmp/daemon/SnmpInformHandler.java.">SnmpInformHandler</a> cb,
<a id="L2467" name="L2467"></a>2467                                                <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L2468" name="L2468"></a>2468                                                <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L2469" name="L2469"></a>2469         <strong class="reserved">throws</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2470" name="L2470"></a>2470 
<a id="L2471" name="L2471"></a>2471         <a href="../S/6316.html#L35" title="Defined at 35 in src/com/sun/jmx/snmp/SnmpParameters.java.">SnmpParameters</a> p = (<a href="../S/6316.html#L35" title="Defined at 35 in src/com/sun/jmx/snmp/SnmpParameters.java.">SnmpParameters</a>) peer.<a href="../D/21385.html" title="Multiple defined in 8 places.">getParams</a>();
<a id="L2472" name="L2472"></a>2472         <strong class="reserved">return</strong> <a href="../D/34645.html" title="Multiple defined in 7 places.">snmpInformRequest</a>(peer.<a href="../S/6464.html#L275" title="Defined at 275 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestAddr</a>(),
<a id="L2473" name="L2473"></a>2473                                  peer.<a href="../S/6464.html#L283" title="Defined at 283 in src/com/sun/jmx/snmp/SnmpPeer.java.">getDestPort</a>(),
<a id="L2474" name="L2474"></a>2474                                  p.<a href="../S/6316.html#L115" title="Defined at 115 in src/com/sun/jmx/snmp/SnmpParameters.java.">getInformCommunity</a>(),
<a id="L2475" name="L2475"></a>2475                                  cb,
<a id="L2476" name="L2476"></a>2476                                  trapOid,
<a id="L2477" name="L2477"></a>2477                                  varBindList);
<a id="L2478" name="L2478"></a>2478     <em class="brace">}</em>
<a id="L2479" name="L2479"></a>2479 
<div class="comment">
      Method that maps an SNMP error status in the passed protocolVersion
      according to the provided pdu type.
      @param errorStatus The error status to convert.
      @param protocolVersion The protocol version.
      @param reqPduType The pdu type.</div>
<a id="L2487" name="L2487"></a>2487     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/23049.html" title="Multiple referred from 4 places.">mapErrorStatus</a>(<strong class="reserved">int</strong> errorStatus,
<a id="L2488" name="L2488"></a>2488                                      <strong class="reserved">int</strong> protocolVersion,
<a id="L2489" name="L2489"></a>2489                                      <strong class="reserved">int</strong> reqPduType) <em class="brace">{</em>
<a id="L2490" name="L2490"></a>2490         <strong class="reserved">return</strong> <a href="../S/6443.html#L52" title="Defined at 52 in src/com/sun/jmx/snmp/daemon/SnmpSubRequestHandler.java.">SnmpSubRequestHandler</a>.<a href="../D/27449.html" title="Multiple defined in 2 places.">mapErrorStatus</a>(errorStatus,
<a id="L2491" name="L2491"></a>2491                                                     protocolVersion,
<a id="L2492" name="L2492"></a>2492                                                     reqPduType);
<a id="L2493" name="L2493"></a>2493     <em class="brace">}</em>
<a id="L2494" name="L2494"></a>2494 
<a id="L2495" name="L2495"></a>2495     <strong class="reserved">private</strong> <a href="../S/6457.html#L72" title="Defined at 72 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">SnmpInformRequest</a> <a href="../R/28686.html" title="Multiple referred from 2 places.">snmpInformRequest</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr,
<a id="L2496" name="L2496"></a>2496                                                 <strong class="reserved">int</strong> port,
<a id="L2497" name="L2497"></a>2497                                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cs,
<a id="L2498" name="L2498"></a>2498                                                 <a href="../S/6451.html#L52" title="Defined at 52 in src/com/sun/jmx/snmp/daemon/SnmpInformHandler.java.">SnmpInformHandler</a> cb,
<a id="L2499" name="L2499"></a>2499                                                 <a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> trapOid,
<a id="L2500" name="L2500"></a>2500                                                 <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> varBindList)
<a id="L2501" name="L2501"></a>2501         <strong class="reserved">throws</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/6312.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/SnmpStatusException.java.">SnmpStatusException</a> <em class="brace">{</em>
<a id="L2502" name="L2502"></a>2502 
<a id="L2503" name="L2503"></a>2503         <strong class="reserved">if</strong> (!<a href="../D/25158.html" title="Multiple defined in 19 places.">isActive</a>()) <em class="brace">{</em>
<a id="L2504" name="L2504"></a>2504             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(
<a id="L2505" name="L2505"></a>2505               "Start SNMP adaptor server before carrying out this operation");
<a id="L2506" name="L2506"></a>2506         <em class="brace">}</em>
<a id="L2507" name="L2507"></a>2507         <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2508" name="L2508"></a>2508             SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2509" name="L2509"></a>2509                 "snmpInformRequest", "trapOid=" + trapOid);
<a id="L2510" name="L2510"></a>2510         <em class="brace">}</em>
<a id="L2511" name="L2511"></a>2511 
<a id="L2512" name="L2512"></a>2512         <em class="comment">// First, make an SNMP inform pdu:</em>
<a id="L2513" name="L2513"></a>2513         <em class="comment">// We clone varBindList and insert sysUpTime and snmpTrapOid variables.</em>
<a id="L2514" name="L2514"></a>2514         <em class="comment">//</em>
<a id="L2515" name="L2515"></a>2515         <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a> fullVbl ;
<a id="L2516" name="L2516"></a>2516         <strong class="reserved">if</strong> (varBindList != <strong class="reserved">null</strong>)
<a id="L2517" name="L2517"></a>2517             fullVbl = varBindList.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() ;
<a id="L2518" name="L2518"></a>2518         <strong class="reserved">else</strong>
<a id="L2519" name="L2519"></a>2519             fullVbl = <strong class="reserved">new</strong> <a href="../S/6437.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpVarBindList.java.">SnmpVarBindList</a>(2) ;
<a id="L2520" name="L2520"></a>2520         <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a> sysUpTimeValue = <strong class="reserved">new</strong> <a href="../S/6475.html#L19" title="Defined at 19 in src/com/sun/jmx/snmp/SnmpTimeticks.java.">SnmpTimeticks</a>(<a href="../D/22893.html" title="Multiple defined in 2 places.">getSysUpTime</a>()) ;
<a id="L2521" name="L2521"></a>2521         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(snmpTrapOidOid, trapOid), 0) ;
<a id="L2522" name="L2522"></a>2522         fullVbl.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/6477.html#L29" title="Defined at 29 in src/com/sun/jmx/snmp/SnmpVarBind.java.">SnmpVarBind</a>(sysUpTimeOid, sysUpTimeValue),
<a id="L2523" name="L2523"></a>2523                                 0);
<a id="L2524" name="L2524"></a>2524 
<a id="L2525" name="L2525"></a>2525         <em class="comment">// Next, send the pdu to the specified destination</em>
<a id="L2526" name="L2526"></a>2526         <em class="comment">//</em>
<a id="L2527" name="L2527"></a>2527         <a href="../S/6449.html#L2535" title="Defined at 2535 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">openInformSocketIfNeeded</a>() ;
<a id="L2528" name="L2528"></a>2528         <strong class="reserved">return</strong> informSession.<a href="../S/6455.html#L183" title="Defined at 183 in src/com/sun/jmx/snmp/daemon/SnmpSession.java.">makeAsyncRequest</a>(addr, cs, cb, fullVbl, port) ;
<a id="L2529" name="L2529"></a>2529     <em class="brace">}</em>
<a id="L2530" name="L2530"></a>2530 
<a id="L2531" name="L2531"></a>2531 
<div class="comment">
      Open informSocket if it's not already done.</div>
<a id="L2535" name="L2535"></a>2535     <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/23981.html" title="Multiple referred from 2 places.">openInformSocketIfNeeded</a>() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L2536" name="L2536"></a>2536         <strong class="reserved">if</strong> (informSession == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2537" name="L2537"></a>2537             informSession = <strong class="reserved">new</strong> <a href="../S/6455.html#L40" title="Defined at 40 in src/com/sun/jmx/snmp/daemon/SnmpSession.java.">SnmpSession</a>(<strong class="reserved">this</strong>) ;
<a id="L2538" name="L2538"></a>2538             <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2539" name="L2539"></a>2539                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2540" name="L2540"></a>2540                    "openInformSocketIfNeeded",
<a id="L2541" name="L2541"></a>2541                       "to send inform requests and receive inform responses");
<a id="L2542" name="L2542"></a>2542             <em class="brace">}</em>
<a id="L2543" name="L2543"></a>2543         <em class="brace">}</em>
<a id="L2544" name="L2544"></a>2544     <em class="brace">}</em>
<a id="L2545" name="L2545"></a>2545 
<div class="comment">
      Close informSocket if the SNMP protocol adaptor is not ONLINE.</div>
<a id="L2549" name="L2549"></a>2549     <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../S/6449.html#L1342" title="Referred from 1342 in src/com/sun/jmx/snmp/daemon/SnmpAdaptorServer.java.">closeInformSocketIfNeeded</a>() <em class="brace">{</em>
<a id="L2550" name="L2550"></a>2550         <strong class="reserved">if</strong> ((informSession != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> != ONLINE)) <em class="brace">{</em>
<a id="L2551" name="L2551"></a>2551             informSession.<a href="../S/6455.html#L416" title="Defined at 416 in src/com/sun/jmx/snmp/daemon/SnmpSession.java.">destroySession</a>() ;
<a id="L2552" name="L2552"></a>2552             informSession = <strong class="reserved">null</strong> ;
<a id="L2553" name="L2553"></a>2553         <em class="brace">}</em>
<a id="L2554" name="L2554"></a>2554     <em class="brace">}</em>
<a id="L2555" name="L2555"></a>2555 
<div class="comment">
      Gets the IP address to bind.
      This getter is used to initialize the DatagramSocket in the
      SnmpSocket object created for the inform request stuff.</div>
<a id="L2561" name="L2561"></a>2561     <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/14983.html" title="Multiple referred from 105 places.">getAddress</a>() <em class="brace">{</em>
<a id="L2562" name="L2562"></a>2562         <strong class="reserved">return</strong> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>;
<a id="L2563" name="L2563"></a>2563     <em class="brace">}</em>
<a id="L2564" name="L2564"></a>2564 
<a id="L2565" name="L2565"></a>2565 
<a id="L2566" name="L2566"></a>2566     <em class="comment">// PROTECTED METHODS</em>
<a id="L2567" name="L2567"></a>2567     <em class="comment">//------------------</em>
<a id="L2568" name="L2568"></a>2568 
<div class="comment">
      Finalizer of the SNMP protocol adaptor objects.
      This method is called by the garbage collector on an object
      when garbage collection determines that there are no more
      references to the object.
      <p>Closes the datagram socket associated to this SNMP protocol adaptor.</p></div>
<a id="L2576" name="L2576"></a>2576     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2577" name="L2577"></a>2577     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <em class="brace">{</em>
<a id="L2578" name="L2578"></a>2578         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2579" name="L2579"></a>2579             <strong class="reserved">if</strong> (<a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2580" name="L2580"></a>2580                 <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>() ;
<a id="L2581" name="L2581"></a>2581                 <a href="../D/34655.html" title="Multiple defined in 3 places.">socket</a> = <strong class="reserved">null</strong> ;
<a id="L2582" name="L2582"></a>2582             <em class="brace">}</em>
<a id="L2583" name="L2583"></a>2583 
<a id="L2584" name="L2584"></a>2584             threadService.<a href="../D/35229.html" title="Multiple defined in 7 places.">terminate</a>();
<a id="L2585" name="L2585"></a>2585         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L2586" name="L2586"></a>2586             <strong class="reserved">if</strong> (SNMP_ADAPTOR_LOGGER.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER)) <em class="brace">{</em>
<a id="L2587" name="L2587"></a>2587                 SNMP_ADAPTOR_LOGGER.<a href="../D/27062.html" title="Multiple defined in 6 places.">logp</a>(<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINER, dbgTag,
<a id="L2588" name="L2588"></a>2588                    "finalize", "Exception in finalizer", e);
<a id="L2589" name="L2589"></a>2589             <em class="brace">}</em>
<a id="L2590" name="L2590"></a>2590         <em class="brace">}</em>
<a id="L2591" name="L2591"></a>2591     <em class="brace">}</em>
<a id="L2592" name="L2592"></a>2592 
<a id="L2593" name="L2593"></a>2593     <em class="comment">// PACKAGE METHODS</em>
<a id="L2594" name="L2594"></a>2594     <em class="comment">//----------------</em>
<a id="L2595" name="L2595"></a>2595 
<div class="comment">
      Returns the string used in debug traces.</div>
<a id="L2599" name="L2599"></a>2599     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2600" name="L2600"></a>2600     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/22864.html" title="Multiple referred from 6 places.">makeDebugTag</a>() <em class="brace">{</em>
<a id="L2601" name="L2601"></a>2601         <strong class="reserved">return</strong> "SnmpAdaptorServer["+ <a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>() + ":" + <a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() + "]";
<a id="L2602" name="L2602"></a>2602     <em class="brace">}</em>
<a id="L2603" name="L2603"></a>2603 
<a id="L2604" name="L2604"></a>2604     <strong class="reserved">void</strong> <a href="../S/6462.html#L389" title="Referred from 389 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">updateRequestCounters</a>(<strong class="reserved">int</strong> pduType) <em class="brace">{</em>
<a id="L2605" name="L2605"></a>2605         <strong class="reserved">switch</strong>(pduType)  <em class="brace">{</em>
<a id="L2606" name="L2606"></a>2606 
<a id="L2607" name="L2607"></a>2607         <strong class="reserved">case</strong> pduGetRequestPdu:
<a id="L2608" name="L2608"></a>2608             snmpInGetRequests++;
<a id="L2609" name="L2609"></a>2609             <strong class="reserved">break</strong>;
<a id="L2610" name="L2610"></a>2610         <strong class="reserved">case</strong> pduGetNextRequestPdu:
<a id="L2611" name="L2611"></a>2611             snmpInGetNexts++;
<a id="L2612" name="L2612"></a>2612             <strong class="reserved">break</strong>;
<a id="L2613" name="L2613"></a>2613         <strong class="reserved">case</strong> pduSetRequestPdu:
<a id="L2614" name="L2614"></a>2614             snmpInSetRequests++;
<a id="L2615" name="L2615"></a>2615             <strong class="reserved">break</strong>;
<a id="L2616" name="L2616"></a>2616         <strong class="reserved">default</strong>:
<a id="L2617" name="L2617"></a>2617             <strong class="reserved">break</strong>;
<a id="L2618" name="L2618"></a>2618         <em class="brace">}</em>
<a id="L2619" name="L2619"></a>2619         snmpInPkts++ ;
<a id="L2620" name="L2620"></a>2620     <em class="brace">}</em>
<a id="L2621" name="L2621"></a>2621 
<a id="L2622" name="L2622"></a>2622     <strong class="reserved">void</strong> <a href="../R/29858.html" title="Multiple referred from 3 places.">updateErrorCounters</a>(<strong class="reserved">int</strong> errorStatus) <em class="brace">{</em>
<a id="L2623" name="L2623"></a>2623         <strong class="reserved">switch</strong>(errorStatus) <em class="brace">{</em>
<a id="L2624" name="L2624"></a>2624 
<a id="L2625" name="L2625"></a>2625         <strong class="reserved">case</strong> snmpRspNoError:
<a id="L2626" name="L2626"></a>2626             snmpOutGetResponses++;
<a id="L2627" name="L2627"></a>2627             <strong class="reserved">break</strong>;
<a id="L2628" name="L2628"></a>2628         <strong class="reserved">case</strong> snmpRspGenErr:
<a id="L2629" name="L2629"></a>2629             snmpOutGenErrs++;
<a id="L2630" name="L2630"></a>2630             <strong class="reserved">break</strong>;
<a id="L2631" name="L2631"></a>2631         <strong class="reserved">case</strong> snmpRspBadValue:
<a id="L2632" name="L2632"></a>2632             snmpOutBadValues++;
<a id="L2633" name="L2633"></a>2633             <strong class="reserved">break</strong>;
<a id="L2634" name="L2634"></a>2634         <strong class="reserved">case</strong> snmpRspNoSuchName:
<a id="L2635" name="L2635"></a>2635             snmpOutNoSuchNames++;
<a id="L2636" name="L2636"></a>2636             <strong class="reserved">break</strong>;
<a id="L2637" name="L2637"></a>2637         <strong class="reserved">case</strong> snmpRspTooBig:
<a id="L2638" name="L2638"></a>2638             snmpOutTooBigs++;
<a id="L2639" name="L2639"></a>2639             <strong class="reserved">break</strong>;
<a id="L2640" name="L2640"></a>2640         <strong class="reserved">default</strong>:
<a id="L2641" name="L2641"></a>2641             <strong class="reserved">break</strong>;
<a id="L2642" name="L2642"></a>2642         <em class="brace">}</em>
<a id="L2643" name="L2643"></a>2643         snmpOutPkts++ ;
<a id="L2644" name="L2644"></a>2644     <em class="brace">}</em>
<a id="L2645" name="L2645"></a>2645 
<a id="L2646" name="L2646"></a>2646     <strong class="reserved">void</strong> <a href="../S/6462.html#L391" title="Referred from 391 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">updateVarCounters</a>(<strong class="reserved">int</strong> pduType, <strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L2647" name="L2647"></a>2647         <strong class="reserved">switch</strong>(pduType) <em class="brace">{</em>
<a id="L2648" name="L2648"></a>2648 
<a id="L2649" name="L2649"></a>2649         <strong class="reserved">case</strong> pduGetRequestPdu:
<a id="L2650" name="L2650"></a>2650         <strong class="reserved">case</strong> pduGetNextRequestPdu:
<a id="L2651" name="L2651"></a>2651         <strong class="reserved">case</strong> pduGetBulkRequestPdu:
<a id="L2652" name="L2652"></a>2652             snmpInTotalReqVars += n ;
<a id="L2653" name="L2653"></a>2653             <strong class="reserved">break</strong> ;
<a id="L2654" name="L2654"></a>2654         <strong class="reserved">case</strong> pduSetRequestPdu:
<a id="L2655" name="L2655"></a>2655             snmpInTotalSetVars += n ;
<a id="L2656" name="L2656"></a>2656             <strong class="reserved">break</strong> ;
<a id="L2657" name="L2657"></a>2657         <em class="brace">}</em>
<a id="L2658" name="L2658"></a>2658     <em class="brace">}</em>
<a id="L2659" name="L2659"></a>2659 
<a id="L2660" name="L2660"></a>2660     <strong class="reserved">void</strong> <a href="../R/20469.html" title="Multiple referred from 2 places.">incSnmpInASNParseErrs</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L2661" name="L2661"></a>2661         snmpInASNParseErrs += n ;
<a id="L2662" name="L2662"></a>2662     <em class="brace">}</em>
<a id="L2663" name="L2663"></a>2663 
<a id="L2664" name="L2664"></a>2664     <strong class="reserved">void</strong> <a href="../S/6462.html#L260" title="Referred from 260 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">incSnmpInBadVersions</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L2665" name="L2665"></a>2665         snmpInBadVersions += n ;
<a id="L2666" name="L2666"></a>2666     <em class="brace">}</em>
<a id="L2667" name="L2667"></a>2667 
<a id="L2668" name="L2668"></a>2668     <strong class="reserved">void</strong> <a href="../S/6462.html#L855" title="Referred from 855 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">incSnmpInBadCommunityUses</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L2669" name="L2669"></a>2669         snmpInBadCommunityUses += n ;
<a id="L2670" name="L2670"></a>2670     <em class="brace">}</em>
<a id="L2671" name="L2671"></a>2671 
<a id="L2672" name="L2672"></a>2672     <strong class="reserved">void</strong> <a href="../S/6462.html#L857" title="Referred from 857 in src/com/sun/jmx/snmp/daemon/SnmpRequestHandler.java.">incSnmpInBadCommunityNames</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L2673" name="L2673"></a>2673         snmpInBadCommunityNames += n ;
<a id="L2674" name="L2674"></a>2674     <em class="brace">}</em>
<a id="L2675" name="L2675"></a>2675 
<a id="L2676" name="L2676"></a>2676     <strong class="reserved">void</strong> <a href="../R/20473.html" title="Multiple referred from 2 places.">incSnmpSilentDrops</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L2677" name="L2677"></a>2677         snmpSilentDrops += n ;
<a id="L2678" name="L2678"></a>2678     <em class="brace">}</em>
<a id="L2679" name="L2679"></a>2679     <em class="comment">// PRIVATE METHODS</em>
<a id="L2680" name="L2680"></a>2680     <em class="comment">//----------------</em>
<a id="L2681" name="L2681"></a>2681 
<div class="comment">
      Returns the time (in hundreths of second) elapsed since the SNMP
      protocol adaptor startup.</div>
<a id="L2686" name="L2686"></a>2686     <strong class="reserved">long</strong> <a href="../R/19305.html" title="Multiple referred from 8 places.">getSysUpTime</a>() <em class="brace">{</em>
<a id="L2687" name="L2687"></a>2687         <strong class="reserved">return</strong> (<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() - startUpTime) / 10 ;
<a id="L2688" name="L2688"></a>2688     <em class="brace">}</em>
<a id="L2689" name="L2689"></a>2689 
<div class="comment">
      Control the way the SnmpAdaptorServer service is deserialized.</div>
<a id="L2693" name="L2693"></a>2693     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>)
<a id="L2694" name="L2694"></a>2694         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L2695" name="L2695"></a>2695 
<a id="L2696" name="L2696"></a>2696         <em class="comment">// Call the default deserialization of the object.</em>
<a id="L2697" name="L2697"></a>2697         <em class="comment">//</em>
<a id="L2698" name="L2698"></a>2698         <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L2699" name="L2699"></a>2699 
<a id="L2700" name="L2700"></a>2700         <em class="comment">// Call the specific initialization for the SnmpAdaptorServer service.</em>
<a id="L2701" name="L2701"></a>2701         <em class="comment">// This is for transient structures to be initialized to specific</em>
<a id="L2702" name="L2702"></a>2702         <em class="comment">// default values.</em>
<a id="L2703" name="L2703"></a>2703         <em class="comment">//</em>
<a id="L2704" name="L2704"></a>2704         mibs      = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;() ;
<a id="L2705" name="L2705"></a>2705     <em class="brace">}</em>
<a id="L2706" name="L2706"></a>2706 
<div class="comment">
      Common initializations.</div>
<a id="L2710" name="L2710"></a>2710     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<a href="../S/6465.html#L41" title="Defined at 41 in src/com/sun/jmx/snmp/InetAddressAcl.java.">InetAddressAcl</a> acl, <strong class="reserved">int</strong> p, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2711" name="L2711"></a>2711 
<a id="L2712" name="L2712"></a>2712         <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>= <strong class="reserved">new</strong> <a href="../S/6456.html#L48" title="Defined at 48 in src/com/sun/jmx/snmp/daemon/SnmpMibTree.java.">SnmpMibTree</a>();
<a id="L2713" name="L2713"></a>2713 
<a id="L2714" name="L2714"></a>2714         <em class="comment">// The default Agent is initialized with a SnmpErrorHandlerAgent agent.</em>
<a id="L2715" name="L2715"></a>2715         <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../S/6456.html#L55" title="Defined at 55 in src/com/sun/jmx/snmp/daemon/SnmpMibTree.java.">setDefaultAgent</a>(<strong class="reserved">new</strong> <a href="../S/6419.html#L49" title="Defined at 49 in src/com/sun/jmx/snmp/agent/SnmpErrorHandlerAgent.java.">SnmpErrorHandlerAgent</a>());
<a id="L2716" name="L2716"></a>2716 
<a id="L2717" name="L2717"></a>2717         <em class="comment">// For the trap time, use the time the agent started ...</em>
<a id="L2718" name="L2718"></a>2718         <em class="comment">//</em>
<a id="L2719" name="L2719"></a>2719         startUpTime= <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L2720" name="L2720"></a>2720         maxActiveClientCount = 10;
<a id="L2721" name="L2721"></a>2721 
<a id="L2722" name="L2722"></a>2722         <em class="comment">// Create the default message factory</em>
<a id="L2723" name="L2723"></a>2723         pduFactory = <strong class="reserved">new</strong> <a href="../S/6369.html#L79" title="Defined at 79 in src/com/sun/jmx/snmp/SnmpPduFactoryBER.java.">SnmpPduFactoryBER</a>() ;
<a id="L2724" name="L2724"></a>2724 
<a id="L2725" name="L2725"></a>2725         port = p ;
<a id="L2726" name="L2726"></a>2726         ipacl = acl ;
<a id="L2727" name="L2727"></a>2727         <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> ;
<a id="L2728" name="L2728"></a>2728 
<a id="L2729" name="L2729"></a>2729         <strong class="reserved">if</strong> ((ipacl == <strong class="reserved">null</strong>) &amp;&amp; (useAcl == <strong class="reserved">true</strong>))
<a id="L2730" name="L2730"></a>2730             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("ACL object cannot be null") ;
<a id="L2731" name="L2731"></a>2731 
<a id="L2732" name="L2732"></a>2732         threadService = <strong class="reserved">new</strong> <a href="../S/6313.html#L38" title="Defined at 38 in src/com/sun/jmx/snmp/tasks/ThreadService.java.">ThreadService</a>(threadNumber);
<a id="L2733" name="L2733"></a>2733     <em class="brace">}</em>
<a id="L2734" name="L2734"></a>2734 
<a id="L2735" name="L2735"></a>2735     <a href="../S/6411.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/agent/SnmpMibAgent.java.">SnmpMibAgent</a> <a href="../R/14998.html" title="Multiple referred from 6 places.">getAgentMib</a>(<a href="../S/6468.html#L22" title="Defined at 22 in src/com/sun/jmx/snmp/SnmpOid.java.">SnmpOid</a> oid) <em class="brace">{</em>
<a id="L2736" name="L2736"></a>2736         <strong class="reserved">return</strong> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/16847.html" title="Multiple defined in 3 places.">getAgentMib</a>(oid);
<a id="L2737" name="L2737"></a>2737     <em class="brace">}</em>
<a id="L2738" name="L2738"></a>2738 
<a id="L2739" name="L2739"></a>2739     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L2740" name="L2740"></a>2740     <strong class="reserved">protected</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> <a href="../R/12549.html" title="Multiple referred from 2 places.">createMainThread</a>() <em class="brace">{</em>
<a id="L2741" name="L2741"></a>2741         <strong class="reserved">final</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a> t = <strong class="reserved">super</strong>.<a href="../D/14029.html" title="Multiple defined in 2 places.">createMainThread</a>();
<a id="L2742" name="L2742"></a>2742         t.<a href="../D/32347.html" title="Multiple defined in 2 places.">setDaemon</a>(<strong class="reserved">true</strong>);
<a id="L2743" name="L2743"></a>2743         <strong class="reserved">return</strong> t;
<a id="L2744" name="L2744"></a>2744     <em class="brace">}</em>
<a id="L2745" name="L2745"></a>2745 
<a id="L2746" name="L2746"></a>2746 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L510">[^]</a><a href="#L2740">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>