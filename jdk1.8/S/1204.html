<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/BasicPermission.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L87">[^]</a><a href="#L522">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L87" title="Defined at 87.">init</a></li>
<li><a href="#L168" title="Defined at 168.">implies</a></li>
<li><a href="#L203" title="Defined at 203.">equals</a></li>
<li><a href="#L224" title="Defined at 224.">hashCode</a></li>
<li><a href="#L235" title="Defined at 235.">getActions</a></li>
<li><a href="#L251" title="Defined at 251.">newPermissionCollection</a></li>
<li><a href="#L259" title="Defined at 259.">readObject</a></li>
<li><a href="#L275" title="Defined at 275.">getCanonicalName</a></li>
<li><a href="#L355" title="Defined at 355.">add</a></li>
<li><a href="#L396" title="Defined at 396.">implies</a></li>
<li><a href="#L459" title="Defined at 459.">elements</a></li>
<li><a href="#L499" title="Defined at 499.">writeObject</a></li>
<li><a href="#L522" title="Defined at 522.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Map;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Collections;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.io.ObjectStreamField;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.io.IOException;
<a id="L37" name="L37"></a>  37 
<div class="comment">
  The BasicPermission class extends the Permission class, and
  can be used as the base class for permissions that want to
  follow the same naming convention as BasicPermission.
  <p>
  The name for a BasicPermission is the name of the given permission
  (for example, "exit",
  "setFactory", "print.queueJob", etc). The naming
  convention follows the  hierarchical property naming convention.
  An asterisk may appear by itself, or if immediately preceded by a "."
  may appear at the end of the name, to signify a wildcard match.
  For example, "*" and "java.*" signify a wildcard match, while "*java", "a*b",
  and "java*" do not.
  </p><p>
  The action string (inherited from Permission) is unused.
  Thus, BasicPermission is commonly used as the base class for
  "named" permissions
  (ones that contain a name but no actions list; you either have the
  named permission or you don't.)
  Subclasses may implement actions on top of BasicPermission,
  if desired.
  </p><p>
  @see java.security.Permission
  @see java.security.Permissions
  @see java.security.PermissionCollection
  @see java.lang.SecurityManager
  @author Marianne Mueller
  @author Roland Schemers</p></div>
<a id="L68" name="L68"></a>  68 
<a id="L69" name="L69"></a>  69 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/708.html" title="Multiple referred from 39 places.">BasicPermission</a> <strong class="reserved">extends</strong> <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>
<a id="L70" name="L70"></a>  70     <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>
<a id="L71" name="L71"></a>  71 <em class="brace">{</em>
<a id="L72" name="L72"></a>  72 
<a id="L73" name="L73"></a>  73     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 6279438298436773498L;
<a id="L74" name="L74"></a>  74 
<a id="L75" name="L75"></a>  75     <em class="comment">// does this permission have a wildcard at the end?</em>
<a id="L76" name="L76"></a>  76     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> <a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>;
<a id="L77" name="L77"></a>  77 
<a id="L78" name="L78"></a>  78     <em class="comment">// the name without the wildcard on the end</em>
<a id="L79" name="L79"></a>  79     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path;
<a id="L80" name="L80"></a>  80 
<a id="L81" name="L81"></a>  81     <em class="comment">// is this permission the old-style exitVM permission (pre JDK 1.6)?</em>
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> exitVM;
<a id="L83" name="L83"></a>  83 
<div class="comment">
      initialize a BasicPermission object. Common to all constructors.</div>
<a id="L87" name="L87"></a>  87     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L88" name="L88"></a>  88         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>)
<a id="L89" name="L89"></a>  89             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("name can't be null");
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91         <strong class="reserved">int</strong> len = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93         <strong class="reserved">if</strong> (len == 0) <em class="brace">{</em>
<a id="L94" name="L94"></a>  94             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("name can't be empty");
<a id="L95" name="L95"></a>  95         <em class="brace">}</em>
<a id="L96" name="L96"></a>  96 
<a id="L97" name="L97"></a>  97         <strong class="reserved">char</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(len - 1);
<a id="L98" name="L98"></a>  98 
<a id="L99" name="L99"></a>  99         <em class="comment">// Is wildcard or ends with ".*"?</em>
<a id="L100" name="L100"></a> 100         <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> == '*' &amp;&amp; (len == 1 || <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(len - 2) == '.')) <em class="brace">{</em>
<a id="L101" name="L101"></a> 101             <a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a> = <strong class="reserved">true</strong>;
<a id="L102" name="L102"></a> 102             <strong class="reserved">if</strong> (len == 1) <em class="brace">{</em>
<a id="L103" name="L103"></a> 103                 path = "";
<a id="L104" name="L104"></a> 104             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L105" name="L105"></a> 105                 path = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, len - 1);
<a id="L106" name="L106"></a> 106             <em class="brace">}</em>
<a id="L107" name="L107"></a> 107         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L108" name="L108"></a> 108             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("exitVM")) <em class="brace">{</em>
<a id="L109" name="L109"></a> 109                 <a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a> = <strong class="reserved">true</strong>;
<a id="L110" name="L110"></a> 110                 path = "exitVM.";
<a id="L111" name="L111"></a> 111                 exitVM = <strong class="reserved">true</strong>;
<a id="L112" name="L112"></a> 112             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L113" name="L113"></a> 113                 path = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L114" name="L114"></a> 114             <em class="brace">}</em>
<a id="L115" name="L115"></a> 115         <em class="brace">}</em>
<a id="L116" name="L116"></a> 116     <em class="brace">}</em>
<a id="L117" name="L117"></a> 117 
<div class="comment">
      Creates a new BasicPermission with the specified name.
      Name is the symbolic name of the permission, such as
      "setFactory",
      "print.queueJob", or "topLevelWindow", etc.
      @param name the name of the BasicPermission.
      @throws NullPointerException if <code>name</code> is <code>null</code>.
      @throws IllegalArgumentException if <code>name</code> is empty.</div>
<a id="L129" name="L129"></a> 129     <strong class="reserved">public</strong> BasicPermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130         <strong class="reserved">super</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L131" name="L131"></a> 131         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L132" name="L132"></a> 132     <em class="brace">}</em>
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134 
<div class="comment">
      Creates a new BasicPermission object with the specified name.
      The name is the symbolic name of the BasicPermission, and the
      actions String is currently unused.
      @param name the name of the BasicPermission.
      @param actions ignored.
      @throws NullPointerException if <code>name</code> is <code>null</code>.
      @throws IllegalArgumentException if <code>name</code> is empty.</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">public</strong> BasicPermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L147" name="L147"></a> 147         <strong class="reserved">super</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L148" name="L148"></a> 148         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L149" name="L149"></a> 149     <em class="brace">}</em>
<a id="L150" name="L150"></a> 150 
<div class="comment">
      Checks if the specified permission is "implied" by
      this object.
      <p>
      More specifically, this method returns true if:
      </p><ul><li> <i>p</i>'s class is the same as this object's class, and
      </li><li> <i>p</i>'s name equals or (in the case of wildcards)
           is implied by this object's
           name. For example, "a.b.*" implies "a.b.c".
      </li></ul>
      @param p the permission to check against.
      @return true if the passed permission is equal to or
      implied by this permission, false otherwise.</div>
<a id="L168" name="L168"></a> 168     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> p) <em class="brace">{</em>
<a id="L169" name="L169"></a> 169         <strong class="reserved">if</strong> ((p == <strong class="reserved">null</strong>) || (p.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L170" name="L170"></a> 170             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172         <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a> that = (<a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a>) p;
<a id="L173" name="L173"></a> 173 
<a id="L174" name="L174"></a> 174         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.<a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>) <em class="brace">{</em>
<a id="L175" name="L175"></a> 175             <strong class="reserved">if</strong> (that.<a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176                 <em class="comment">// one wildcard can imply another</em>
<a id="L177" name="L177"></a> 177                 <strong class="reserved">return</strong> that.path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(path);
<a id="L178" name="L178"></a> 178             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L179" name="L179"></a> 179                 <em class="comment">// make sure ap.path is longer so a.b.* doesn't imply a.b</em>
<a id="L180" name="L180"></a> 180                 <strong class="reserved">return</strong> (that.path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; <strong class="reserved">this</strong>.path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) &amp;&amp;
<a id="L181" name="L181"></a> 181                     that.path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(<strong class="reserved">this</strong>.path);
<a id="L182" name="L182"></a> 182             <em class="brace">}</em>
<a id="L183" name="L183"></a> 183         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L184" name="L184"></a> 184             <strong class="reserved">if</strong> (that.<a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185                 <em class="comment">// a non-wildcard can't imply a wildcard</em>
<a id="L186" name="L186"></a> 186                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L187" name="L187"></a> 187             <em class="brace">}</em>
<a id="L188" name="L188"></a> 188             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L189" name="L189"></a> 189                 <strong class="reserved">return</strong> <strong class="reserved">this</strong>.path.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.path);
<a id="L190" name="L190"></a> 190             <em class="brace">}</em>
<a id="L191" name="L191"></a> 191         <em class="brace">}</em>
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<div class="comment">
      Checks two BasicPermission objects for equality.
      Checks that <i>obj</i>'s class is the same as this object's class
      and has the same name as this object.
      <p>
      @param obj the object we are testing for equality with this object.
      @return true if <i>obj</i>'s class is the same as this object's class
       and has the same name as this BasicPermission object, false otherwise.</p></div>
<a id="L203" name="L203"></a> 203     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204         <strong class="reserved">if</strong> (obj == <strong class="reserved">this</strong>)
<a id="L205" name="L205"></a> 205             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L206" name="L206"></a> 206 
<a id="L207" name="L207"></a> 207         <strong class="reserved">if</strong> ((obj == <strong class="reserved">null</strong>) || (obj.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()))
<a id="L208" name="L208"></a> 208             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L209" name="L209"></a> 209 
<a id="L210" name="L210"></a> 210         <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a> bp = (<a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a>) obj;
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212         <strong class="reserved">return</strong> <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(bp.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L213" name="L213"></a> 213     <em class="brace">}</em>
<a id="L214" name="L214"></a> 214 
<a id="L215" name="L215"></a> 215 
<div class="comment">
      Returns the hash code value for this object.
      The hash code used is the hash code of the name, that is,
      <code>getName().hashCode()</code>, where <code>getName</code> is
      from the Permission superclass.
      @return a hash code value for this object.</div>
<a id="L224" name="L224"></a> 224     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L225" name="L225"></a> 225         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L226" name="L226"></a> 226     <em class="brace">}</em>
<a id="L227" name="L227"></a> 227 
<div class="comment">
      Returns the canonical string representation of the actions,
      which currently is the empty string "", since there are no actions for
      a BasicPermission.
      @return the empty string "".</div>
<a id="L235" name="L235"></a> 235     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14955.html" title="Multiple referred from 33 places.">getActions</a>() <em class="brace">{</em>
<a id="L236" name="L236"></a> 236         <strong class="reserved">return</strong> "";
<a id="L237" name="L237"></a> 237     <em class="brace">}</em>
<a id="L238" name="L238"></a> 238 
<div class="comment">
      Returns a new PermissionCollection object for storing BasicPermission
      objects.
      <p>BasicPermission objects must be stored in a manner that allows them
      to be inserted in any order, but that also enables the
      PermissionCollection <code>implies</code> method
      to be implemented in an efficient (and consistent) manner.
      @return a new PermissionCollection object suitable for
      storing BasicPermissions.</p></div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/23594.html" title="Multiple referred from 3 places.">newPermissionCollection</a>() <em class="brace">{</em>
<a id="L252" name="L252"></a> 252         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1204.html#L299" title="Defined at 299 in src/java/security/BasicPermission.java.">BasicPermissionCollection</a>(<strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>());
<a id="L253" name="L253"></a> 253     <em class="brace">}</em>
<a id="L254" name="L254"></a> 254 
<div class="comment">
      readObject is called to restore the state of the BasicPermission from
      a stream.</div>
<a id="L259" name="L259"></a> 259     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L260" name="L260"></a> 260          <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L261" name="L261"></a> 261     <em class="brace">{</em>
<a id="L262" name="L262"></a> 262         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L263" name="L263"></a> 263         <em class="comment">// init is called to initialize the rest of the values.</em>
<a id="L264" name="L264"></a> 264         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L265" name="L265"></a> 265     <em class="brace">}</em>
<a id="L266" name="L266"></a> 266 
<div class="comment">
      Returns the canonical name of this BasicPermission.
      All internal invocations of getName should invoke this method, so
      that the pre-JDK 1.6 "exitVM" and current "exitVM.*" permission are
      equivalent in equals/hashCode methods.
      @return the canonical name of this BasicPermission.</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15440.html" title="Multiple referred from 25 places.">getCanonicalName</a>() <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <strong class="reserved">return</strong> exitVM ? "exitVM.*" : <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L277" name="L277"></a> 277     <em class="brace">}</em>
<a id="L278" name="L278"></a> 278 <em class="brace">}</em>
<a id="L279" name="L279"></a> 279 
<div class="comment">
  A BasicPermissionCollection stores a collection
  of BasicPermission permissions. BasicPermission objects
  must be stored in a manner that allows them to be inserted in any
  order, but enable the implies function to evaluate the implies
  method in an efficient (and consistent) manner.
  A BasicPermissionCollection handles comparing a permission like "a.b.c.d.e"
  with a Permission such as "a.b.*", or "*".
  @see java.security.Permission
  @see java.security.Permissions
  @author Roland Schemers
  @serial include</div>
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299 <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../S/1204.html#L252" title="Referred from 252 in src/java/security/BasicPermission.java.">BasicPermissionCollection</a>
<a id="L300" name="L300"></a> 300     <strong class="reserved">extends</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a>
<a id="L301" name="L301"></a> 301     <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>
<a id="L302" name="L302"></a> 302 <em class="brace">{</em>
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 739301742472979399L;
<a id="L305" name="L305"></a> 305 
<div class="comment">
       Key is name, value is permission. All permission objects in
       collection must be of the same type.
       Not serialized; see serialization section at end of class.</div>
<a id="L311" name="L311"></a> 311     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; perms;
<a id="L312" name="L312"></a> 312 
<div class="comment">
      This is set to <code>true</code> if this BasicPermissionCollection
      contains a BasicPermission with '*' as its permission name.
      @see #serialPersistentFields</div>
<a id="L319" name="L319"></a> 319     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> all_allowed;
<a id="L320" name="L320"></a> 320 
<div class="comment">
      The class to which all BasicPermissions in this
      BasicPermissionCollection belongs.
      @see #serialPersistentFields</div>
<a id="L327" name="L327"></a> 327     <strong class="reserved">private</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; permClass;
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Create an empty BasicPermissionCollection object.</div>
<a id="L333" name="L333"></a> 333 
<a id="L334" name="L334"></a> 334     <strong class="reserved">public</strong> BasicPermissionCollection(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335         perms = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt;(11);
<a id="L336" name="L336"></a> 336         all_allowed = <strong class="reserved">false</strong>;
<a id="L337" name="L337"></a> 337         permClass = <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>;
<a id="L338" name="L338"></a> 338     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<div class="comment">
      Adds a permission to the BasicPermissions. The key for the hash is
      permission.path.
      @param permission the Permission object to add.
      @exception IllegalArgumentException - if the permission is not a
                                            BasicPermission, or if
                                            the permission is not of the
                                            same Class as the other
                                            permissions in this collection.
      @exception SecurityException - if this BasicPermissionCollection object
                                     has been marked readonly</div>
<a id="L355" name="L355"></a> 355     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356         <strong class="reserved">if</strong> (! (permission <strong class="reserved">instanceof</strong> <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a>))
<a id="L357" name="L357"></a> 357             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid permission: "+
<a id="L358" name="L358"></a> 358                                                permission);
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> (<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>())
<a id="L360" name="L360"></a> 360             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>("attempt to add a Permission to a readonly PermissionCollection");
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362         <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a> bp = (<a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a>) permission;
<a id="L363" name="L363"></a> 363 
<a id="L364" name="L364"></a> 364         <em class="comment">// make sure we only add new BasicPermissions of the same class</em>
<a id="L365" name="L365"></a> 365         <em class="comment">// Also check null for compatibility with deserialized form from</em>
<a id="L366" name="L366"></a> 366         <em class="comment">// previous versions.</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong> (permClass == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368             <em class="comment">// adding first permission</em>
<a id="L369" name="L369"></a> 369             permClass = bp.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>();
<a id="L370" name="L370"></a> 370         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             <strong class="reserved">if</strong> (bp.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != permClass)
<a id="L372" name="L372"></a> 372                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid permission: " +
<a id="L373" name="L373"></a> 373                                                 permission);
<a id="L374" name="L374"></a> 374         <em class="brace">}</em>
<a id="L375" name="L375"></a> 375 
<a id="L376" name="L376"></a> 376         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377             perms.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(bp.<a href="../D/17480.html" title="Multiple defined in 4 places.">getCanonicalName</a>(), permission);
<a id="L378" name="L378"></a> 378         <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<a id="L380" name="L380"></a> 380         <em class="comment">// No sync on all_allowed; staleness OK</em>
<a id="L381" name="L381"></a> 381         <strong class="reserved">if</strong> (!all_allowed) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382             <strong class="reserved">if</strong> (bp.<a href="../D/17480.html" title="Multiple defined in 4 places.">getCanonicalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*"))
<a id="L383" name="L383"></a> 383                 all_allowed = <strong class="reserved">true</strong>;
<a id="L384" name="L384"></a> 384         <em class="brace">}</em>
<a id="L385" name="L385"></a> 385     <em class="brace">}</em>
<a id="L386" name="L386"></a> 386 
<div class="comment">
      Check and see if this set of permissions implies the permissions
      expressed in "permission".
      @param permission the Permission object to compare
      @return true if "permission" is a proper subset of a permission in
      the set, false if not.</div>
<a id="L396" name="L396"></a> 396     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397         <strong class="reserved">if</strong> (! (permission <strong class="reserved">instanceof</strong> <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a>))
<a id="L398" name="L398"></a> 398             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400         <a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a> bp = (<a href="../S/1204.html#L69" title="Defined at 69 in src/java/security/BasicPermission.java.">BasicPermission</a>) permission;
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402         <em class="comment">// random subclasses of BasicPermission do not imply each other</em>
<a id="L403" name="L403"></a> 403         <strong class="reserved">if</strong> (bp.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != permClass)
<a id="L404" name="L404"></a> 404             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406         <em class="comment">// short circuit if the "*" Permission was added</em>
<a id="L407" name="L407"></a> 407         <strong class="reserved">if</strong> (all_allowed)
<a id="L408" name="L408"></a> 408             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L409" name="L409"></a> 409 
<a id="L410" name="L410"></a> 410         <em class="comment">// strategy:</em>
<a id="L411" name="L411"></a> 411         <em class="comment">// Check for full match first. Then work our way up the</em>
<a id="L412" name="L412"></a> 412         <em class="comment">// path looking for matches on a.b..*</em>
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = bp.<a href="../D/17480.html" title="Multiple defined in 4 places.">getCanonicalName</a>();
<a id="L415" name="L415"></a> 415         <em class="comment">//System.out.println("check "+path);</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417         <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = perms.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(path);
<a id="L421" name="L421"></a> 421         <em class="brace">}</em>
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424             <em class="comment">// we have a direct hit!</em>
<a id="L425" name="L425"></a> 425             <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission);
<a id="L426" name="L426"></a> 426         <em class="brace">}</em>
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428         <em class="comment">// work our way up the tree...</em>
<a id="L429" name="L429"></a> 429         <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L430" name="L430"></a> 430 
<a id="L431" name="L431"></a> 431         <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1;
<a id="L432" name="L432"></a> 432 
<a id="L433" name="L433"></a> 433         <strong class="reserved">while</strong> ((<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = path.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(".", <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>)) != -1) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434 
<a id="L435" name="L435"></a> 435             path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>+1) + "*";
<a id="L436" name="L436"></a> 436             <em class="comment">//System.out.println("check "+path);</em>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                 <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = perms.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(path);
<a id="L440" name="L440"></a> 440             <em class="brace">}</em>
<a id="L441" name="L441"></a> 441 
<a id="L442" name="L442"></a> 442             <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443                 <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission);
<a id="L444" name="L444"></a> 444             <em class="brace">}</em>
<a id="L445" name="L445"></a> 445             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> -1;
<a id="L446" name="L446"></a> 446         <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<a id="L448" name="L448"></a> 448         <em class="comment">// we don't have to check for "*" as it was already checked</em>
<a id="L449" name="L449"></a> 449         <em class="comment">// at the top (all_allowed), so we just return false</em>
<a id="L450" name="L450"></a> 450         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L451" name="L451"></a> 451     <em class="brace">}</em>
<a id="L452" name="L452"></a> 452 
<div class="comment">
      Returns an enumeration of all the BasicPermission objects in the
      container.
      @return an enumeration of all the BasicPermission objects.</div>
<a id="L459" name="L459"></a> 459     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../R/13650.html" title="Multiple referred from 679 places.">elements</a>() <em class="brace">{</em>
<a id="L460" name="L460"></a> 460         <em class="comment">// Convert Iterator of Map values into an Enumeration</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L5207" title="Defined at 5207 in src/java/util/Collections.java.">enumeration</a>(perms.<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>());
<a id="L463" name="L463"></a> 463         <em class="brace">}</em>
<a id="L464" name="L464"></a> 464     <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<a id="L466" name="L466"></a> 466     <em class="comment">// Need to maintain serialization interoperability with earlier releases,</em>
<a id="L467" name="L467"></a> 467     <em class="comment">// which had the serializable field:</em>
<a id="L468" name="L468"></a> 468     <em class="comment">//</em>
<a id="L469" name="L469"></a> 469     <em class="comment">// @serial the Hashtable is indexed by the BasicPermission name</em>
<a id="L470" name="L470"></a> 470     <em class="comment">//</em>
<a id="L471" name="L471"></a> 471     <em class="comment">// private Hashtable permissions;</em>
<div class="comment">
      @serialField permissions java.util.Hashtable
         The BasicPermissions in this BasicPermissionCollection.
         All BasicPermissions in the collection must belong to the same class.
         The Hashtable is indexed by the BasicPermission name; the value
         of the Hashtable entry is the permission.
      @serialField all_allowed boolean
        This is set to <code>true</code> if this BasicPermissionCollection
        contains a BasicPermission with '*' as its permission name.
      @serialField permClass java.lang.Class
        The class to which all BasicPermissions in this
        BasicPermissionCollection belongs.</div>
<a id="L485" name="L485"></a> 485     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L486" name="L486"></a> 486         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("permissions", <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>.<strong class="reserved">class</strong>),
<a id="L487" name="L487"></a> 487         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("all_allowed", <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TYPE),
<a id="L488" name="L488"></a> 488         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("permClass", <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<strong class="reserved">class</strong>),
<a id="L489" name="L489"></a> 489     <em class="brace">}</em>;
<a id="L490" name="L490"></a> 490 
<div class="comment">
      @serialData Default fields.</div>
<div class="comment">
      Writes the contents of the perms field out as a Hashtable for
      serialization compatibility with earlier releases. all_allowed
      and permClass unchanged.</div>
<a id="L499" name="L499"></a> 499     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L500" name="L500"></a> 500         <em class="comment">// Don't call out.defaultWriteObject()</em>
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502         <em class="comment">// Copy perms into a Hashtable</em>
<a id="L503" name="L503"></a> 503         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a> =
<a id="L504" name="L504"></a> 504                 <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;&gt;(perms.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()*2);
<a id="L505" name="L505"></a> 505 
<a id="L506" name="L506"></a> 506         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507             <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>.<a href="../D/29972.html" title="Multiple defined in 20 places.">putAll</a>(perms);
<a id="L508" name="L508"></a> 508         <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<a id="L510" name="L510"></a> 510         <em class="comment">// Write out serializable fields</em>
<a id="L511" name="L511"></a> 511         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> pfields = <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L512" name="L512"></a> 512         pfields.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("all_allowed", all_allowed);
<a id="L513" name="L513"></a> 513         pfields.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("permissions", <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>);
<a id="L514" name="L514"></a> 514         pfields.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("permClass", permClass);
<a id="L515" name="L515"></a> 515         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<div class="comment">
      readObject is called to restore the state of the
      BasicPermissionCollection from a stream.</div>
<a id="L522" name="L522"></a> 522     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>)
<a id="L523" name="L523"></a> 523          <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L524" name="L524"></a> 524     <em class="brace">{</em>
<a id="L525" name="L525"></a> 525         <em class="comment">// Don't call defaultReadObject()</em>
<a id="L526" name="L526"></a> 526 
<a id="L527" name="L527"></a> 527         <em class="comment">// Read in serialized fields</em>
<a id="L528" name="L528"></a> 528         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> gfields = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530         <em class="comment">// Get permissions</em>
<a id="L531" name="L531"></a> 531         <em class="comment">// writeObject writes a Hashtable&lt;String, Permission&gt; for the</em>
<a id="L532" name="L532"></a> 532         <em class="comment">// permissions key, so this cast is safe, unless the data is corrupt.</em>
<a id="L533" name="L533"></a> 533         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L534" name="L534"></a> 534         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a> =
<a id="L535" name="L535"></a> 535                 (<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt;)gfields.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("permissions", <strong class="reserved">null</strong>);
<a id="L536" name="L536"></a> 536         perms = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt;(<a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()*2);
<a id="L537" name="L537"></a> 537         perms.<a href="../D/29972.html" title="Multiple defined in 20 places.">putAll</a>(<a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>);
<a id="L538" name="L538"></a> 538 
<a id="L539" name="L539"></a> 539         <em class="comment">// Get all_allowed</em>
<a id="L540" name="L540"></a> 540         all_allowed = gfields.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("all_allowed", <strong class="reserved">false</strong>);
<a id="L541" name="L541"></a> 541 
<a id="L542" name="L542"></a> 542         <em class="comment">// Get permClass</em>
<a id="L543" name="L543"></a> 543         permClass = (<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;) gfields.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("permClass", <strong class="reserved">null</strong>);
<a id="L544" name="L544"></a> 544 
<a id="L545" name="L545"></a> 545         <strong class="reserved">if</strong> (permClass == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546             <em class="comment">// set permClass</em>
<a id="L547" name="L547"></a> 547             <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; e = <a href="../D/29330.html" title="Multiple defined in 4 places.">permissions</a>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L548" name="L548"></a> 548             <strong class="reserved">if</strong> (e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                 <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> p = e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L550" name="L550"></a> 550                 permClass = p.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>();
<a id="L551" name="L551"></a> 551             <em class="brace">}</em>
<a id="L552" name="L552"></a> 552         <em class="brace">}</em>
<a id="L553" name="L553"></a> 553     <em class="brace">}</em>
<a id="L554" name="L554"></a> 554 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L87">[^]</a><a href="#L522">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>