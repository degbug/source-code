<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/WeakHashMap.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L193">[^]</a><a href="#L1326">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L193" title="Defined at 193.">SuppressWarnings</a></li>
<li><a href="#L194" title="Defined at 194.">newTable</a></li>
<li><a href="#L271" title="Defined at 271.">maskNull</a></li>
<li><a href="#L278" title="Defined at 278.">unmaskNull</a></li>
<li><a href="#L286" title="Defined at 286.">eq</a></li>
<li><a href="#L297" title="Defined at 297.">hash</a></li>
<li><a href="#L310" title="Defined at 310.">indexFor</a></li>
<li><a href="#L317" title="Defined at 317.">expungeStaleEntries</a></li>
<li><a href="#L349" title="Defined at 349.">getTable</a></li>
<li><a href="#L360" title="Defined at 360.">size</a></li>
<li><a href="#L373" title="Defined at 373.">isEmpty</a></li>
<li><a href="#L394" title="Defined at 394.">get</a></li>
<li><a href="#L416" title="Defined at 416.">containsKey</a></li>
<li><a href="#L424" title="Defined at 424.">getEntry</a></li>
<li><a href="#L447" title="Defined at 447.">put</a></li>
<li><a href="#L484" title="Defined at 484.">resize</a></li>
<li><a href="#L511" title="Defined at 511.">transfer</a></li>
<li><a href="#L540" title="Defined at 540.">putAll</a></li>
<li><a href="#L589" title="Defined at 589.">remove</a></li>
<li><a href="#L616" title="Defined at 616.">removeMapping</a></li>
<li><a href="#L649" title="Defined at 649.">clear</a></li>
<li><a href="#L674" title="Defined at 674.">containsValue</a></li>
<li><a href="#L689" title="Defined at 689.">containsNullValue</a></li>
<li><a href="#L719" title="Defined at 719.">SuppressWarnings</a></li>
<li><a href="#L720" title="Defined at 720.">getKey</a></li>
<li><a href="#L724" title="Defined at 724.">getValue</a></li>
<li><a href="#L728" title="Defined at 728.">setValue</a></li>
<li><a href="#L734" title="Defined at 734.">equals</a></li>
<li><a href="#L749" title="Defined at 749.">hashCode</a></li>
<li><a href="#L755" title="Defined at 755.">toString</a></li>
<li><a href="#L782" title="Defined at 782.">hasNext</a></li>
<li><a href="#L804" title="Defined at 804.">nextEntry</a></li>
<li><a href="#L817" title="Defined at 817.">remove</a></li>
<li><a href="#L832" title="Defined at 832.">next</a></li>
<li><a href="#L838" title="Defined at 838.">next</a></li>
<li><a href="#L844" title="Defined at 844.">next</a></li>
<li><a href="#L866" title="Defined at 866.">keySet</a></li>
<li><a href="#L872" title="Defined at 872.">iterator</a></li>
<li><a href="#L876" title="Defined at 876.">size</a></li>
<li><a href="#L880" title="Defined at 880.">contains</a></li>
<li><a href="#L884" title="Defined at 884.">remove</a></li>
<li><a href="#L893" title="Defined at 893.">clear</a></li>
<li><a href="#L897" title="Defined at 897.">spliterator</a></li>
<li><a href="#L915" title="Defined at 915.">values</a></li>
<li><a href="#L921" title="Defined at 921.">iterator</a></li>
<li><a href="#L925" title="Defined at 925.">size</a></li>
<li><a href="#L929" title="Defined at 929.">contains</a></li>
<li><a href="#L933" title="Defined at 933.">clear</a></li>
<li><a href="#L937" title="Defined at 937.">spliterator</a></li>
<li><a href="#L956" title="Defined at 956.">entrySet</a></li>
<li><a href="#L962" title="Defined at 962.">iterator</a></li>
<li><a href="#L966" title="Defined at 966.">contains</a></li>
<li><a href="#L974" title="Defined at 974.">remove</a></li>
<li><a href="#L978" title="Defined at 978.">size</a></li>
<li><a href="#L982" title="Defined at 982.">clear</a></li>
<li><a href="#L986" title="Defined at 986.">deepCopy</a></li>
<li><a href="#L993" title="Defined at 993.">toArray</a></li>
<li><a href="#L997" title="Defined at 997.">toArray</a></li>
<li><a href="#L1001" title="Defined at 1001.">spliterator</a></li>
<li><a href="#L1006" title="Defined at 1006.">SuppressWarnings</a></li>
<li><a href="#L1008" title="Defined at 1008.">forEach</a></li>
<li><a href="#L1028" title="Defined at 1028.">SuppressWarnings</a></li>
<li><a href="#L1030" title="Defined at 1030.">replaceAll</a></li>
<li><a href="#L1072" title="Defined at 1072.">getFence</a></li>
<li><a href="#L1083" title="Defined at 1083.">estimateSize</a></li>
<li><a href="#L1097" title="Defined at 1097.">trySplit</a></li>
<li><a href="#L1104" title="Defined at 1104.">forEachRemaining</a></li>
<li><a href="#L1138" title="Defined at 1138.">tryAdvance</a></li>
<li><a href="#L1164" title="Defined at 1164.">characteristics</a></li>
<li><a href="#L1177" title="Defined at 1177.">trySplit</a></li>
<li><a href="#L1184" title="Defined at 1184.">forEachRemaining</a></li>
<li><a href="#L1216" title="Defined at 1216.">tryAdvance</a></li>
<li><a href="#L1241" title="Defined at 1241.">characteristics</a></li>
<li><a href="#L1262" title="Defined at 1262.">forEachRemaining</a></li>
<li><a href="#L1298" title="Defined at 1298.">tryAdvance</a></li>
<li><a href="#L1326" title="Defined at 1326.">characteristics</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.lang.ref.ReferenceQueue;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.concurrent.ThreadLocalRandom;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.function.BiConsumer;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.function.BiFunction;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.function.Consumer;
<a id="L34" name="L34"></a>  34 
<a id="L35" name="L35"></a>  35 
<div class="comment">
  Hash table based implementation of the <tt>Map</tt> interface, with
  <em>weak keys</em>.
  An entry in a <tt>WeakHashMap</tt> will automatically be removed when
  its key is no longer in ordinary use.  More precisely, the presence of a
  mapping for a given key will not prevent the key from being discarded by the
  garbage collector, that is, made finalizable, finalized, and then reclaimed.
  When a key has been discarded its entry is effectively removed from the map,
  so this class behaves somewhat differently from other <tt>Map</tt>
  implementations.
  <p> Both null values and the null key are supported. This class has
  performance characteristics similar to those of the <tt>HashMap</tt>
  class, and has the same efficiency parameters of <em>initial capacity</em>
  and <em>load factor</em>.
  </p><p> Like most collection classes, this class is not synchronized.
  A synchronized <tt>WeakHashMap</tt> may be constructed using the
  {@link Collections#synchronizedMap Collections.synchronizedMap}
  method.
  </p><p> This class is intended primarily for use with key objects whose
  <tt>equals</tt> methods test for object identity using the
  <tt>==</tt> operator.  Once such a key is discarded it can never be
  recreated, so it is impossible to do a lookup of that key in a
  <tt>WeakHashMap</tt> at some later time and be surprised that its entry
  has been removed.  This class will work perfectly well with key objects
  whose <tt>equals</tt> methods are not based upon object identity, such
  as <tt>String</tt> instances.  With such recreatable key objects,
  however, the automatic removal of <tt>WeakHashMap</tt> entries whose
  keys have been discarded may prove to be confusing.
  </p><p> The behavior of the <tt>WeakHashMap</tt> class depends in part upon
  the actions of the garbage collector, so several familiar (though not
  required) <tt>Map</tt> invariants do not hold for this class.  Because
  the garbage collector may discard keys at any time, a
  <tt>WeakHashMap</tt> may behave as though an unknown thread is silently
  removing entries.  In particular, even if you synchronize on a
  <tt>WeakHashMap</tt> instance and invoke none of its mutator methods, it
  is possible for the <tt>size</tt> method to return smaller values over
  time, for the <tt>isEmpty</tt> method to return <tt>false</tt> and
  then <tt>true</tt>, for the <tt>containsKey</tt> method to return
  <tt>true</tt> and later <tt>false</tt> for a given key, for the
  <tt>get</tt> method to return a value for a given key but later return
  <tt>null</tt>, for the <tt>put</tt> method to return
  <tt>null</tt> and the <tt>remove</tt> method to return
  <tt>false</tt> for a key that previously appeared to be in the map, and
  for successive examinations of the key set, the value collection, and
  the entry set to yield successively smaller numbers of elements.
  </p><p> Each key object in a <tt>WeakHashMap</tt> is stored indirectly as
  the referent of a weak reference.  Therefore a key will automatically be
  removed only after the weak references to it, both inside and outside of the
  map, have been cleared by the garbage collector.
  </p><p> <strong>Implementation note:</strong> The value objects in a
  <tt>WeakHashMap</tt> are held by ordinary strong references.  Thus care
  should be taken to ensure that value objects do not strongly refer to their
  own keys, either directly or indirectly, since that will prevent the keys
  from being discarded.  Note that a value object may refer indirectly to its
  key via the <tt>WeakHashMap</tt> itself; that is, a value object may
  strongly refer to some other key object whose associated value object, in
  turn, strongly refers to the key of the first value object.  If the values
  in the map do not rely on the map holding strong references to them, one way
  to deal with this is to wrap values themselves within
  <tt>WeakReferences</tt> before
  inserting, as in: <tt>m.put(key, new WeakReference(value))</tt>,
  and then unwrapping upon each <tt>get</tt>.
  </p><p>The iterators returned by the <tt>iterator</tt> method of the collections
  returned by all of this class's "collection view methods" are
  <i>fail-fast</i>: if the map is structurally modified at any time after the
  iterator is created, in any way except through the iterator's own
  <tt>remove</tt> method, the iterator will throw a {@link
  ConcurrentModificationException}.  Thus, in the face of concurrent
  modification, the iterator fails quickly and cleanly, rather than risking
  arbitrary, non-deterministic behavior at an undetermined time in the future.
  </p><p>Note that the fail-fast behavior of an iterator cannot be guaranteed
  as it is, generally speaking, impossible to make any hard guarantees in the
  presence of unsynchronized concurrent modification.  Fail-fast iterators
  throw <tt>ConcurrentModificationException</tt> on a best-effort basis.
  Therefore, it would be wrong to write a program that depended on this
  exception for its correctness:  <i>the fail-fast behavior of iterators
  should be used only to detect bugs.</i>
  </p><p>This class is a member of the
  <a href="{@docRoot}/../technotes/guides/collections/index.html">
  Java Collections Framework</a>.
  @param <k> the type of keys maintained by this map
  @param <v> the type of mapped values
  @author      Doug Lea
  @author      Josh Bloch
  @author      Mark Reinhold
  @since       1.2
  @see         java.util.HashMap
  @see         java.lang.ref.WeakReference</v></k></p></div>
<a id="L136" name="L136"></a> 136 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8734.html" title="Multiple referred from 126 places.">WeakHashMap</a>&lt;K,V&gt;
<a id="L137" name="L137"></a> 137     <strong class="reserved">extends</strong> <a href="../S/1135.html#L68" title="Defined at 68 in src/java/util/AbstractMap.java.">AbstractMap</a>&lt;K,V&gt;
<a id="L138" name="L138"></a> 138     <strong class="reserved">implements</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;K,V&gt; <em class="brace">{</em>
<a id="L139" name="L139"></a> 139 
<div class="comment">
      The default initial capacity -- MUST be a power of two.</div>
<a id="L143" name="L143"></a> 143     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DEFAULT_INITIAL_CAPACITY = 16;
<a id="L144" name="L144"></a> 144 
<div class="comment">
      The maximum capacity, used if a higher value is implicitly specified
      by either of the constructors with arguments.
      MUST be a power of two &lt;= 1&lt;&lt;30.</div>
<a id="L150" name="L150"></a> 150     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MAXIMUM_CAPACITY = 1 &lt;&lt; 30;
<a id="L151" name="L151"></a> 151 
<div class="comment">
      The load factor used when none specified in constructor.</div>
<a id="L155" name="L155"></a> 155     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">float</strong> DEFAULT_LOAD_FACTOR = 0.75f;
<a id="L156" name="L156"></a> 156 
<div class="comment">
      The table, resized as necessary. Length MUST Always be a power of two.</div>
<a id="L160" name="L160"></a> 160     <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] table;
<a id="L161" name="L161"></a> 161 
<div class="comment">
      The number of key-value mappings contained in this weak hash map.</div>
<a id="L165" name="L165"></a> 165     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L166" name="L166"></a> 166 
<div class="comment">
      The next size value at which to resize (capacity * load factor).</div>
<a id="L170" name="L170"></a> 170     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a>;
<a id="L171" name="L171"></a> 171 
<div class="comment">
      The load factor for the hash table.</div>
<a id="L175" name="L175"></a> 175     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">float</strong> <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>;
<a id="L176" name="L176"></a> 176 
<div class="comment">
      Reference queue for cleared WeakEntries</div>
<a id="L180" name="L180"></a> 180     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; queue = <strong class="reserved">new</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;&gt;();
<a id="L181" name="L181"></a> 181 
<div class="comment">
      The number of times this WeakHashMap has been structurally modified.
      Structural modifications are those that change the number of
      mappings in the map or otherwise modify its internal structure
      (e.g., rehash).  This field is used to make iterators on
      Collection-views of the map fail-fast.
      @see ConcurrentModificationException</div>
<a id="L191" name="L191"></a> 191     <strong class="reserved">int</strong> modCount;
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L194" name="L194"></a> 194     <strong class="reserved">private</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] <a href="../R/23621.html" title="Multiple referred from 31 places.">newTable</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L195" name="L195"></a> 195         <strong class="reserved">return</strong> (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[]) <strong class="reserved">new</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt;[n];
<a id="L196" name="L196"></a> 196     <em class="brace">}</em>
<a id="L197" name="L197"></a> 197 
<div class="comment">
      Constructs a new, empty <tt>WeakHashMap</tt> with the given initial
      capacity and the given load factor.
      @param  initialCapacity The initial capacity of the <tt>WeakHashMap</tt>
      @param  loadFactor      The load factor of the <tt>WeakHashMap</tt>
      @throws IllegalArgumentException if the initial capacity is negative,
              or if the load factor is nonpositive.</div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">public</strong> WeakHashMap(<strong class="reserved">int</strong> initialCapacity, <strong class="reserved">float</strong> <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <strong class="reserved">if</strong> (initialCapacity &lt; 0)
<a id="L209" name="L209"></a> 209             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Illegal Initial Capacity: "+
<a id="L210" name="L210"></a> 210                                                initialCapacity);
<a id="L211" name="L211"></a> 211         <strong class="reserved">if</strong> (initialCapacity &gt; MAXIMUM_CAPACITY)
<a id="L212" name="L212"></a> 212             initialCapacity = MAXIMUM_CAPACITY;
<a id="L213" name="L213"></a> 213 
<a id="L214" name="L214"></a> 214         <strong class="reserved">if</strong> (<a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a> &lt;= 0 || <a href="../D/3293.html" title="Multiple defined in 10 places.">Float</a>.<a href="../D/25912.html" title="Multiple defined in 4 places.">isNaN</a>(<a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>))
<a id="L215" name="L215"></a> 215             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Illegal Load factor: "+
<a id="L216" name="L216"></a> 216                                                <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>);
<a id="L217" name="L217"></a> 217         <strong class="reserved">int</strong> <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> = 1;
<a id="L218" name="L218"></a> 218         <strong class="reserved">while</strong> (<a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> &lt; initialCapacity)
<a id="L219" name="L219"></a> 219             <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> &lt;&lt;= 1;
<a id="L220" name="L220"></a> 220         table = <a href="../D/28090.html" title="Multiple defined in 2 places.">newTable</a>(<a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>);
<a id="L221" name="L221"></a> 221         <strong class="reserved">this</strong>.<a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a> = <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>;
<a id="L222" name="L222"></a> 222         <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> = (<strong class="reserved">int</strong>)(<a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> * <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>);
<a id="L223" name="L223"></a> 223     <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
      Constructs a new, empty <tt>WeakHashMap</tt> with the given initial
      capacity and the default load factor (0.75).
      @param  initialCapacity The initial capacity of the <tt>WeakHashMap</tt>
      @throws IllegalArgumentException if the initial capacity is negative</div>
<a id="L232" name="L232"></a> 232     <strong class="reserved">public</strong> WeakHashMap(<strong class="reserved">int</strong> initialCapacity) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233         <strong class="reserved">this</strong>(initialCapacity, DEFAULT_LOAD_FACTOR);
<a id="L234" name="L234"></a> 234     <em class="brace">}</em>
<a id="L235" name="L235"></a> 235 
<div class="comment">
      Constructs a new, empty <tt>WeakHashMap</tt> with the default initial
      capacity (16) and load factor (0.75).</div>
<a id="L240" name="L240"></a> 240     <strong class="reserved">public</strong> WeakHashMap() <em class="brace">{</em>
<a id="L241" name="L241"></a> 241         <strong class="reserved">this</strong>(DEFAULT_INITIAL_CAPACITY, DEFAULT_LOAD_FACTOR);
<a id="L242" name="L242"></a> 242     <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<div class="comment">
      Constructs a new <tt>WeakHashMap</tt> with the same mappings as the
      specified map.  The <tt>WeakHashMap</tt> is created with the default
      load factor (0.75) and an initial capacity sufficient to hold the
      mappings in the specified map.
      @param   m the map whose mappings are to be placed in this map
      @throws  NullPointerException if the specified map is null
      @since   1.3</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">public</strong> WeakHashMap(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;? <strong class="reserved">extends</strong> K, ? <strong class="reserved">extends</strong> V&gt; m) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">this</strong>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>((<strong class="reserved">int</strong>) (m.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() / DEFAULT_LOAD_FACTOR) + 1,
<a id="L256" name="L256"></a> 256                 DEFAULT_INITIAL_CAPACITY),
<a id="L257" name="L257"></a> 257              DEFAULT_LOAD_FACTOR);
<a id="L258" name="L258"></a> 258         <a href="../D/29972.html" title="Multiple defined in 20 places.">putAll</a>(m);
<a id="L259" name="L259"></a> 259     <em class="brace">}</em>
<a id="L260" name="L260"></a> 260 
<a id="L261" name="L261"></a> 261     <em class="comment">// internal utilities</em>
<a id="L262" name="L262"></a> 262 
<div class="comment">
      Value representing null keys inside tables.</div>
<a id="L266" name="L266"></a> 266     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> NULL_KEY = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L267" name="L267"></a> 267 
<div class="comment">
      Use NULL_KEY for key if it is null.</div>
<a id="L271" name="L271"></a> 271     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/23115.html" title="Multiple referred from 18 places.">maskNull</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) ? NULL_KEY : <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L273" name="L273"></a> 273     <em class="brace">}</em>
<a id="L274" name="L274"></a> 274 
<div class="comment">
      Returns internal representation of null key back to caller as null.</div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/29726.html" title="Multiple referred from 33 places.">unmaskNull</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">return</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == NULL_KEY) ? <strong class="reserved">null</strong> : <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Checks for equality of non-null reference x and possibly-null y.  By
      default uses Object.equals.</div>
<a id="L286" name="L286"></a> 286     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/13982.html" title="Multiple referred from 70 places.">eq</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> y) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287         <strong class="reserved">return</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> == y || <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(y);
<a id="L288" name="L288"></a> 288     <em class="brace">}</em>
<a id="L289" name="L289"></a> 289 
<div class="comment">
      Retrieve object hash code and applies a supplemental hash function to the
      result hash, which defends against poor quality hash functions.  This is
      critical because HashMap uses power-of-two length hash tables, that
      otherwise encounter collisions for hashCodes that do not differ
      in lower bits.</div>
<a id="L297" name="L297"></a> 297     <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/20297.html" title="Multiple referred from 694 places.">hash</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298         <strong class="reserved">int</strong> h = k.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300         <em class="comment">// This function ensures that hashCodes that differ only by</em>
<a id="L301" name="L301"></a> 301         <em class="comment">// constant multiples at each bit position have a bounded</em>
<a id="L302" name="L302"></a> 302         <em class="comment">// number of collisions (approximately 8 at default load factor).</em>
<a id="L303" name="L303"></a> 303         h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12);
<a id="L304" name="L304"></a> 304         <strong class="reserved">return</strong> h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);
<a id="L305" name="L305"></a> 305     <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<div class="comment">
      Returns index for hash code h.</div>
<a id="L310" name="L310"></a> 310     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/20507.html" title="Multiple referred from 7 places.">indexFor</a>(<strong class="reserved">int</strong> h, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311         <strong class="reserved">return</strong> h &amp; (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1);
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<div class="comment">
      Expunges stale entries from the table.</div>
<a id="L317" name="L317"></a> 317     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14174.html" title="Multiple referred from 7 places.">expungeStaleEntries</a>() <em class="brace">{</em>
<a id="L318" name="L318"></a> 318         <strong class="reserved">for</strong> (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>; (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = queue.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>()) != <strong class="reserved">null</strong>; ) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319             <strong class="reserved">synchronized</strong> (queue) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                 @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L321" name="L321"></a> 321                     <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;) <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L322" name="L322"></a> 322                 <strong class="reserved">int</strong> i = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>, table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L323" name="L323"></a> 323 
<a id="L324" name="L324"></a> 324                 <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; prev = table[i];
<a id="L325" name="L325"></a> 325                 <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; p = prev;
<a id="L326" name="L326"></a> 326                 <strong class="reserved">while</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327                     <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = p.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L328" name="L328"></a> 328                     <strong class="reserved">if</strong> (p == e) <em class="brace">{</em>
<a id="L329" name="L329"></a> 329                         <strong class="reserved">if</strong> (prev == e)
<a id="L330" name="L330"></a> 330                             table[i] = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L331" name="L331"></a> 331                         <strong class="reserved">else</strong>
<a id="L332" name="L332"></a> 332                             prev.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L333" name="L333"></a> 333                         <em class="comment">// Must not null out e.next;</em>
<a id="L334" name="L334"></a> 334                         <em class="comment">// stale entries may be in use by a HashIterator</em>
<a id="L335" name="L335"></a> 335                         e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>; <em class="comment">// Help GC</em>
<a id="L336" name="L336"></a> 336                         <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L337" name="L337"></a> 337                         <strong class="reserved">break</strong>;
<a id="L338" name="L338"></a> 338                     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339                     prev = p;
<a id="L340" name="L340"></a> 340                     p = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L341" name="L341"></a> 341                 <em class="brace">}</em>
<a id="L342" name="L342"></a> 342             <em class="brace">}</em>
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344     <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Returns the table after first expunging stale entries.</div>
<a id="L349" name="L349"></a> 349     <strong class="reserved">private</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] <a href="../R/19370.html" title="Multiple referred from 35 places.">getTable</a>() <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <a href="../D/15897.html" title="Multiple defined in 3 places.">expungeStaleEntries</a>();
<a id="L351" name="L351"></a> 351         <strong class="reserved">return</strong> table;
<a id="L352" name="L352"></a> 352     <em class="brace">}</em>
<a id="L353" name="L353"></a> 353 
<div class="comment">
      Returns the number of key-value mappings in this map.
      This result is a snapshot, and may not reflect unprocessed
      entries that will be removed before next attempted access
      because they are no longer referenced.</div>
<a id="L360" name="L360"></a> 360     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L361" name="L361"></a> 361         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> == 0)
<a id="L362" name="L362"></a> 362             <strong class="reserved">return</strong> 0;
<a id="L363" name="L363"></a> 363         <a href="../D/15897.html" title="Multiple defined in 3 places.">expungeStaleEntries</a>();
<a id="L364" name="L364"></a> 364         <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      Returns <tt>true</tt> if this map contains no key-value mappings.
      This result is a snapshot, and may not reflect unprocessed
      entries that will be removed before next attempted access
      because they are no longer referenced.</div>
<a id="L373" name="L373"></a> 373     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>() <em class="brace">{</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0;
<a id="L375" name="L375"></a> 375     <em class="brace">}</em>
<a id="L376" name="L376"></a> 376 
<div class="comment">
      Returns the value to which the specified key is mapped,
      or <code>null</code> if this map contains no mapping for the key.
      <p>More formally, if this map contains a mapping from a key
      <code>k</code> to a value <code>v</code> such that {@code (key==null ? k==null :
      key.equals(k))}, then this method returns <code>v</code>; otherwise
      it returns <code>null</code>.  (There can be at most one such mapping.)
      </p><p>A return value of <code>null</code> does not <i>necessarily</i>
      indicate that the map contains no mapping for the key; it's also
      possible that the map explicitly maps the key to <code>null</code>.
      The {@link #containsKey containsKey} operation may be used to
      distinguish these two cases.
      @see #put(Object, Object)</p></div>
<a id="L394" name="L394"></a> 394     <strong class="reserved">public</strong> V <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k = <a href="../D/27517.html" title="Multiple defined in 3 places.">maskNull</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L396" name="L396"></a> 396         <strong class="reserved">int</strong> h = <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>(k);
<a id="L397" name="L397"></a> 397         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L398" name="L398"></a> 398         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(h, tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L399" name="L399"></a> 399         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = tab[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L400" name="L400"></a> 400         <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L401" name="L401"></a> 401             <strong class="reserved">if</strong> (e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> == h &amp;&amp; <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>(k, e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>()))
<a id="L402" name="L402"></a> 402                 <strong class="reserved">return</strong> e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L403" name="L403"></a> 403             e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L404" name="L404"></a> 404         <em class="brace">}</em>
<a id="L405" name="L405"></a> 405         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L406" name="L406"></a> 406     <em class="brace">}</em>
<a id="L407" name="L407"></a> 407 
<div class="comment">
      Returns <tt>true</tt> if this map contains a mapping for the
      specified key.
      @param  key   The key whose presence in this map is to be tested
      @return <tt>true</tt> if there is a mapping for <tt>key</tt>;
              <tt>false</tt> otherwise</div>
<a id="L416" name="L416"></a> 416     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11964.html" title="Multiple referred from 263 places.">containsKey</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417         <strong class="reserved">return</strong> <a href="../D/18807.html" title="Multiple defined in 12 places.">getEntry</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) != <strong class="reserved">null</strong>;
<a id="L418" name="L418"></a> 418     <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<div class="comment">
      Returns the entry associated with the specified key in this map.
      Returns null if the map contains no mapping for this key.</div>
<a id="L424" name="L424"></a> 424     <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../R/16396.html" title="Multiple referred from 29 places.">getEntry</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k = <a href="../D/27517.html" title="Multiple defined in 3 places.">maskNull</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L426" name="L426"></a> 426         <strong class="reserved">int</strong> h = <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>(k);
<a id="L427" name="L427"></a> 427         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L428" name="L428"></a> 428         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(h, tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L429" name="L429"></a> 429         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = tab[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L430" name="L430"></a> 430         <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong> &amp;&amp; !(e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> == h &amp;&amp; <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>(k, e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>())))
<a id="L431" name="L431"></a> 431             e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L432" name="L432"></a> 432         <strong class="reserved">return</strong> e;
<a id="L433" name="L433"></a> 433     <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<div class="comment">
      Associates the specified value with the specified key in this map.
      If the map previously contained a mapping for this key, the old
      value is replaced.
      @param key key with which the specified value is to be associated.
      @param value value to be associated with the specified key.
      @return the previous value associated with <tt>key</tt>, or
              <tt>null</tt> if there was no mapping for <tt>key</tt>.
              (A <tt>null</tt> return can also indicate that the map
              previously associated <tt>null</tt> with <tt>key</tt>.)</div>
<a id="L447" name="L447"></a> 447     <strong class="reserved">public</strong> V <a href="../R/25285.html" title="Multiple referred from 5173 places.">put</a>(K <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, V <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k = <a href="../D/27517.html" title="Multiple defined in 3 places.">maskNull</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L449" name="L449"></a> 449         <strong class="reserved">int</strong> h = <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>(k);
<a id="L450" name="L450"></a> 450         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L451" name="L451"></a> 451         <strong class="reserved">int</strong> i = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(h, tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453         <strong class="reserved">for</strong> (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = tab[i]; e != <strong class="reserved">null</strong>; e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454             <strong class="reserved">if</strong> (h == e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &amp;&amp; <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>(k, e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>())) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455                 V oldValue = e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L456" name="L456"></a> 456                 <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != oldValue)
<a id="L457" name="L457"></a> 457                     e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L458" name="L458"></a> 458                 <strong class="reserved">return</strong> oldValue;
<a id="L459" name="L459"></a> 459             <em class="brace">}</em>
<a id="L460" name="L460"></a> 460         <em class="brace">}</em>
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462         modCount++;
<a id="L463" name="L463"></a> 463         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = tab[i];
<a id="L464" name="L464"></a> 464         tab[i] = <strong class="reserved">new</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;&gt;(k, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, queue, h, e);
<a id="L465" name="L465"></a> 465         <strong class="reserved">if</strong> (++<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt;= <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a>)
<a id="L466" name="L466"></a> 466             <a href="../D/31231.html" title="Multiple defined in 41 places.">resize</a>(tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> * 2);
<a id="L467" name="L467"></a> 467         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L468" name="L468"></a> 468     <em class="brace">}</em>
<a id="L469" name="L469"></a> 469 
<div class="comment">
      Rehashes the contents of this map into a new array with a
      larger capacity.  This method is called automatically when the
      number of keys in this map reaches its threshold.
      If current capacity is MAXIMUM_CAPACITY, this method does not
      resize the map, but sets threshold to Integer.MAX_VALUE.
      This has the effect of preventing future calls.
      @param newCapacity the new capacity, MUST be a power of two;
             must be greater than current capacity unless current
             capacity is MAXIMUM_CAPACITY (in which case value
             is irrelevant).</div>
<a id="L484" name="L484"></a> 484     <strong class="reserved">void</strong> <a href="../R/26311.html" title="Multiple referred from 88 places.">resize</a>(<strong class="reserved">int</strong> newCapacity) <em class="brace">{</em>
<a id="L485" name="L485"></a> 485         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] oldTable = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L486" name="L486"></a> 486         <strong class="reserved">int</strong> oldCapacity = oldTable.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L487" name="L487"></a> 487         <strong class="reserved">if</strong> (oldCapacity == MAXIMUM_CAPACITY) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L489" name="L489"></a> 489             <strong class="reserved">return</strong>;
<a id="L490" name="L490"></a> 490         <em class="brace">}</em>
<a id="L491" name="L491"></a> 491 
<a id="L492" name="L492"></a> 492         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] <a href="../D/28090.html" title="Multiple defined in 2 places.">newTable</a> = <a href="../D/28090.html" title="Multiple defined in 2 places.">newTable</a>(newCapacity);
<a id="L493" name="L493"></a> 493         <a href="../D/35577.html" title="Multiple defined in 8 places.">transfer</a>(oldTable, <a href="../D/28090.html" title="Multiple defined in 2 places.">newTable</a>);
<a id="L494" name="L494"></a> 494         table = <a href="../D/28090.html" title="Multiple defined in 2 places.">newTable</a>;
<a id="L495" name="L495"></a> 495 
<div class="comment">
          If ignoring null elements and processing ref queue caused massive
          shrinkage, then restore old table.  This should be rare, but avoids
          unbounded expansion of garbage-filled tables.</div>
<a id="L501" name="L501"></a> 501         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt;= <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> / 2) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502             <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> = (<strong class="reserved">int</strong>)(newCapacity * <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a>);
<a id="L503" name="L503"></a> 503         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L504" name="L504"></a> 504             <a href="../D/15897.html" title="Multiple defined in 3 places.">expungeStaleEntries</a>();
<a id="L505" name="L505"></a> 505             <a href="../D/35577.html" title="Multiple defined in 8 places.">transfer</a>(<a href="../D/28090.html" title="Multiple defined in 2 places.">newTable</a>, oldTable);
<a id="L506" name="L506"></a> 506             table = oldTable;
<a id="L507" name="L507"></a> 507         <em class="brace">}</em>
<a id="L508" name="L508"></a> 508     <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<div class="comment">
     /** Transfers all entries from src to dest tables */</div>
<a id="L511" name="L511"></a> 511     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29413.html" title="Multiple referred from 15 places.">transfer</a>(<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] src, <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] dest) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; src.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++j) <em class="brace">{</em>
<a id="L513" name="L513"></a> 513             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = src[j];
<a id="L514" name="L514"></a> 514             src[j] = <strong class="reserved">null</strong>;
<a id="L515" name="L515"></a> 515             <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516                 <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L517" name="L517"></a> 517                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L518" name="L518"></a> 518                 <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519                     e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <strong class="reserved">null</strong>;  <em class="comment">// Help GC</em>
<a id="L520" name="L520"></a> 520                     e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>; <em class="comment">//  "   "</em>
<a id="L521" name="L521"></a> 521                     <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L522" name="L522"></a> 522                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L523" name="L523"></a> 523                     <strong class="reserved">int</strong> i = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>, dest.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L524" name="L524"></a> 524                     e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = dest[i];
<a id="L525" name="L525"></a> 525                     dest[i] = e;
<a id="L526" name="L526"></a> 526                 <em class="brace">}</em>
<a id="L527" name="L527"></a> 527                 e = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L528" name="L528"></a> 528             <em class="brace">}</em>
<a id="L529" name="L529"></a> 529         <em class="brace">}</em>
<a id="L530" name="L530"></a> 530     <em class="brace">}</em>
<a id="L531" name="L531"></a> 531 
<div class="comment">
      Copies all of the mappings from the specified map to this map.
      These mappings will replace any mappings that this map had for any
      of the keys currently in the specified map.
      @param m mappings to be stored in this map.
      @throws  NullPointerException if the specified map is null.</div>
<a id="L540" name="L540"></a> 540     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25286.html" title="Multiple referred from 45 places.">putAll</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;? <strong class="reserved">extends</strong> K, ? <strong class="reserved">extends</strong> V&gt; m) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">int</strong> numKeysToBeAdded = m.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L542" name="L542"></a> 542         <strong class="reserved">if</strong> (numKeysToBeAdded == 0)
<a id="L543" name="L543"></a> 543             <strong class="reserved">return</strong>;
<a id="L544" name="L544"></a> 544 
<div class="comment">
          Expand the map if the map if the number of mappings to be added
          is greater than or equal to threshold.  This is conservative; the
          obvious condition is (m.size() + size) &gt;= threshold, but this
          condition could result in a map with twice the appropriate capacity,
          if the keys to be added overlap with the keys already in this map.
          By using the conservative calculation, we subject ourself
          to at most one extra resize.</div>
<a id="L554" name="L554"></a> 554         <strong class="reserved">if</strong> (numKeysToBeAdded &gt; <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a>) <em class="brace">{</em>
<a id="L555" name="L555"></a> 555             <strong class="reserved">int</strong> targetCapacity = (<strong class="reserved">int</strong>)(numKeysToBeAdded / <a href="../S/867.html#L1329" title="Defined at 1329 in src/java/util/HashMap.java.">loadFactor</a> + 1);
<a id="L556" name="L556"></a> 556             <strong class="reserved">if</strong> (targetCapacity &gt; MAXIMUM_CAPACITY)
<a id="L557" name="L557"></a> 557                 targetCapacity = MAXIMUM_CAPACITY;
<a id="L558" name="L558"></a> 558             <strong class="reserved">int</strong> newCapacity = table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L559" name="L559"></a> 559             <strong class="reserved">while</strong> (newCapacity &lt; targetCapacity)
<a id="L560" name="L560"></a> 560                 newCapacity &lt;&lt;= 1;
<a id="L561" name="L561"></a> 561             <strong class="reserved">if</strong> (newCapacity &gt; table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L562" name="L562"></a> 562                 <a href="../D/31231.html" title="Multiple defined in 41 places.">resize</a>(newCapacity);
<a id="L563" name="L563"></a> 563         <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565         <strong class="reserved">for</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;? <strong class="reserved">extends</strong> K, ? <strong class="reserved">extends</strong> V&gt; e : m.<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>())
<a id="L566" name="L566"></a> 566             <a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(e.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>(), e.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>());
<a id="L567" name="L567"></a> 567     <em class="brace">}</em>
<a id="L568" name="L568"></a> 568 
<div class="comment">
      Removes the mapping for a key from this weak hash map if it is present.
      More formally, if this map contains a mapping from key <tt>k</tt> to
      value <tt>v</tt> such that <code>(key==null ?  k==null :
      key.equals(k))</code>, that mapping is removed.  (The map can contain
      at most one such mapping.)
      <p>Returns the value to which this map previously associated the key,
      or <tt>null</tt> if the map contained no mapping for the key.  A
      return value of <tt>null</tt> does not <i>necessarily</i> indicate
      that the map contained no mapping for the key; it's also possible
      that the map explicitly mapped the key to <tt>null</tt>.
      </p><p>The map will not contain a mapping for the specified key once the
      call returns.
      @param key key whose mapping is to be removed from the map
      @return the previous value associated with <tt>key</tt>, or
              <tt>null</tt> if there was no mapping for <tt>key</tt></p></div>
<a id="L589" name="L589"></a> 589     <strong class="reserved">public</strong> V <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L590" name="L590"></a> 590         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k = <a href="../D/27517.html" title="Multiple defined in 3 places.">maskNull</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L591" name="L591"></a> 591         <strong class="reserved">int</strong> h = <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>(k);
<a id="L592" name="L592"></a> 592         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L593" name="L593"></a> 593         <strong class="reserved">int</strong> i = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(h, tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L594" name="L594"></a> 594         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; prev = tab[i];
<a id="L595" name="L595"></a> 595         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = prev;
<a id="L596" name="L596"></a> 596 
<a id="L597" name="L597"></a> 597         <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L598" name="L598"></a> 598             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L599" name="L599"></a> 599             <strong class="reserved">if</strong> (h == e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &amp;&amp; <a href="../D/15674.html" title="Multiple defined in 6 places.">eq</a>(k, e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>())) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600                 modCount++;
<a id="L601" name="L601"></a> 601                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L602" name="L602"></a> 602                 <strong class="reserved">if</strong> (prev == e)
<a id="L603" name="L603"></a> 603                     tab[i] = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L604" name="L604"></a> 604                 <strong class="reserved">else</strong>
<a id="L605" name="L605"></a> 605                     prev.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L606" name="L606"></a> 606                 <strong class="reserved">return</strong> e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L607" name="L607"></a> 607             <em class="brace">}</em>
<a id="L608" name="L608"></a> 608             prev = e;
<a id="L609" name="L609"></a> 609             e = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L610" name="L610"></a> 610         <em class="brace">}</em>
<a id="L611" name="L611"></a> 611 
<a id="L612" name="L612"></a> 612         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L613" name="L613"></a> 613     <em class="brace">}</em>
<a id="L614" name="L614"></a> 614 
<div class="comment">
     /** Special version of remove needed by Entry set */</div>
<a id="L616" name="L616"></a> 616     <strong class="reserved">boolean</strong> <a href="../R/26014.html" title="Multiple referred from 9 places.">removeMapping</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617         <strong class="reserved">if</strong> (!(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>))
<a id="L618" name="L618"></a> 618             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L619" name="L619"></a> 619         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L620" name="L620"></a> 620         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt; entry = (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt;)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L621" name="L621"></a> 621         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k = <a href="../D/27517.html" title="Multiple defined in 3 places.">maskNull</a>(entry.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>());
<a id="L622" name="L622"></a> 622         <strong class="reserved">int</strong> h = <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>(k);
<a id="L623" name="L623"></a> 623         <strong class="reserved">int</strong> i = <a href="../S/934.html#L310" title="Defined at 310 in src/java/util/WeakHashMap.java.">indexFor</a>(h, tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L624" name="L624"></a> 624         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; prev = tab[i];
<a id="L625" name="L625"></a> 625         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = prev;
<a id="L626" name="L626"></a> 626 
<a id="L627" name="L627"></a> 627         <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L628" name="L628"></a> 628             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L629" name="L629"></a> 629             <strong class="reserved">if</strong> (h == e.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &amp;&amp; e.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(entry)) <em class="brace">{</em>
<a id="L630" name="L630"></a> 630                 modCount++;
<a id="L631" name="L631"></a> 631                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>--;
<a id="L632" name="L632"></a> 632                 <strong class="reserved">if</strong> (prev == e)
<a id="L633" name="L633"></a> 633                     tab[i] = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L634" name="L634"></a> 634                 <strong class="reserved">else</strong>
<a id="L635" name="L635"></a> 635                     prev.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L636" name="L636"></a> 636                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L637" name="L637"></a> 637             <em class="brace">}</em>
<a id="L638" name="L638"></a> 638             prev = e;
<a id="L639" name="L639"></a> 639             e = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L640" name="L640"></a> 640         <em class="brace">}</em>
<a id="L641" name="L641"></a> 641 
<a id="L642" name="L642"></a> 642         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L643" name="L643"></a> 643     <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<div class="comment">
      Removes all of the mappings from this map.
      The map will be empty after this call returns.</div>
<a id="L649" name="L649"></a> 649     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L650" name="L650"></a> 650         <em class="comment">// clear out ref queue. We don't need to expunge entries</em>
<a id="L651" name="L651"></a> 651         <em class="comment">// since table is getting cleared.</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">while</strong> (queue.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>() != <strong class="reserved">null</strong>)
<a id="L653" name="L653"></a> 653             ;
<a id="L654" name="L654"></a> 654 
<a id="L655" name="L655"></a> 655         modCount++;
<a id="L656" name="L656"></a> 656         <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/16028.html" title="Multiple defined in 25 places.">fill</a>(table, <strong class="reserved">null</strong>);
<a id="L657" name="L657"></a> 657         <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = 0;
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659         <em class="comment">// Allocation of array may have caused GC, which may have caused</em>
<a id="L660" name="L660"></a> 660         <em class="comment">// additional entries to go stale.  Removing these entries from the</em>
<a id="L661" name="L661"></a> 661         <em class="comment">// reference queue will make them eligible for reclamation.</em>
<a id="L662" name="L662"></a> 662         <strong class="reserved">while</strong> (queue.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>() != <strong class="reserved">null</strong>)
<a id="L663" name="L663"></a> 663             ;
<a id="L664" name="L664"></a> 664     <em class="brace">}</em>
<a id="L665" name="L665"></a> 665 
<div class="comment">
      Returns <tt>true</tt> if this map maps one or more keys to the
      specified value.
      @param value value whose presence in this map is to be tested
      @return <tt>true</tt> if this map maps one or more keys to the
              specified value</div>
<a id="L674" name="L674"></a> 674     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11980.html" title="Multiple referred from 28 places.">containsValue</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>==<strong class="reserved">null</strong>)
<a id="L676" name="L676"></a> 676             <strong class="reserved">return</strong> <a href="../S/934.html#L689" title="Defined at 689 in src/java/util/WeakHashMap.java.">containsNullValue</a>();
<a id="L677" name="L677"></a> 677 
<a id="L678" name="L678"></a> 678         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L679" name="L679"></a> 679         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i-- &gt; 0;)
<a id="L680" name="L680"></a> 680             <strong class="reserved">for</strong> (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = tab[i]; e != <strong class="reserved">null</strong>; e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>)
<a id="L681" name="L681"></a> 681                 <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>))
<a id="L682" name="L682"></a> 682                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L683" name="L683"></a> 683         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L684" name="L684"></a> 684     <em class="brace">}</em>
<a id="L685" name="L685"></a> 685 
<div class="comment">
      Special-case code for containsValue with null argument</div>
<a id="L689" name="L689"></a> 689     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/934.html#L676" title="Referred from 676 in src/java/util/WeakHashMap.java.">containsNullValue</a>() <em class="brace">{</em>
<a id="L690" name="L690"></a> 690         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L691" name="L691"></a> 691         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i-- &gt; 0;)
<a id="L692" name="L692"></a> 692             <strong class="reserved">for</strong> (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = tab[i]; e != <strong class="reserved">null</strong>; e = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>)
<a id="L693" name="L693"></a> 693                 <strong class="reserved">if</strong> (e.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>==<strong class="reserved">null</strong>)
<a id="L694" name="L694"></a> 694                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<div class="comment">
      The entries in this hash table extend WeakReference, using its main ref
      field as the key.</div>
<a id="L702" name="L702"></a> 702     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <strong class="reserved">extends</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <strong class="reserved">implements</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../R/2694.html" title="Multiple referred from 1260 places.">Entry</a>&lt;K,V&gt; <em class="brace">{</em>
<a id="L703" name="L703"></a> 703         V <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L704" name="L704"></a> 704         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L705" name="L705"></a> 705         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L706" name="L706"></a> 706 
<div class="comment">
          Creates new entry.</div>
<a id="L710" name="L710"></a> 710         Entry(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, V <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L711" name="L711"></a> 711               <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; queue,
<a id="L712" name="L712"></a> 712               <strong class="reserved">int</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>, <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>) <em class="brace">{</em>
<a id="L713" name="L713"></a> 713             <strong class="reserved">super</strong>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, queue);
<a id="L714" name="L714"></a> 714             <strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L715" name="L715"></a> 715             <strong class="reserved">this</strong>.<a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>  = <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L716" name="L716"></a> 716             <strong class="reserved">this</strong>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>  = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L717" name="L717"></a> 717         <em class="brace">}</em>
<a id="L718" name="L718"></a> 718 
<a id="L719" name="L719"></a> 719         @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L720" name="L720"></a> 720         <strong class="reserved">public</strong> K <a href="../R/17222.html" title="Multiple referred from 269 places.">getKey</a>() <em class="brace">{</em>
<a id="L721" name="L721"></a> 721             <strong class="reserved">return</strong> (K) <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L722" name="L722"></a> 722         <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724         <strong class="reserved">public</strong> V <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>() <em class="brace">{</em>
<a id="L725" name="L725"></a> 725             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L726" name="L726"></a> 726         <em class="brace">}</em>
<a id="L727" name="L727"></a> 727 
<a id="L728" name="L728"></a> 728         <strong class="reserved">public</strong> V <a href="../R/28371.html" title="Multiple referred from 200 places.">setValue</a>(V newValue) <em class="brace">{</em>
<a id="L729" name="L729"></a> 729             V oldValue = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L730" name="L730"></a> 730             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = newValue;
<a id="L731" name="L731"></a> 731             <strong class="reserved">return</strong> oldValue;
<a id="L732" name="L732"></a> 732         <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L735" name="L735"></a> 735             <strong class="reserved">if</strong> (!(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>))
<a id="L736" name="L736"></a> 736                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L737" name="L737"></a> 737             <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt; e = (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt;)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L738" name="L738"></a> 738             K k1 = <a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L739" name="L739"></a> 739             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> k2 = e.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L740" name="L740"></a> 740             <strong class="reserved">if</strong> (k1 == k2 || (k1 != <strong class="reserved">null</strong> &amp;&amp; k1.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(k2))) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741                 V v1 = <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L742" name="L742"></a> 742                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> v2 = e.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L743" name="L743"></a> 743                 <strong class="reserved">if</strong> (v1 == v2 || (v1 != <strong class="reserved">null</strong> &amp;&amp; v1.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(v2)))
<a id="L744" name="L744"></a> 744                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L745" name="L745"></a> 745             <em class="brace">}</em>
<a id="L746" name="L746"></a> 746             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<a id="L749" name="L749"></a> 749         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L750" name="L750"></a> 750             K k = <a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L751" name="L751"></a> 751             V v = <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L752" name="L752"></a> 752             <strong class="reserved">return</strong> <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(k) ^ <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(v);
<a id="L753" name="L753"></a> 753         <em class="brace">}</em>
<a id="L754" name="L754"></a> 754 
<a id="L755" name="L755"></a> 755         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L756" name="L756"></a> 756             <strong class="reserved">return</strong> <a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>() + "=" + <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L757" name="L757"></a> 757         <em class="brace">}</em>
<a id="L758" name="L758"></a> 758     <em class="brace">}</em>
<a id="L759" name="L759"></a> 759 
<a id="L760" name="L760"></a> 760     <strong class="reserved">private</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/3384.html" title="Multiple referred from 6 places.">HashIterator</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <strong class="reserved">implements</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<a id="L761" name="L761"></a> 761         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L762" name="L762"></a> 762         <strong class="reserved">private</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; entry;
<a id="L763" name="L763"></a> 763         <strong class="reserved">private</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; lastReturned;
<a id="L764" name="L764"></a> 764         <strong class="reserved">private</strong> <strong class="reserved">int</strong> expectedModCount = modCount;
<a id="L765" name="L765"></a> 765 
<div class="comment">
          Strong reference needed to avoid disappearance of key
          between hasNext and next</div>
<a id="L770" name="L770"></a> 770         <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> nextKey;
<a id="L771" name="L771"></a> 771 
<div class="comment">
          Strong reference needed to avoid disappearance of key
          between nextEntry() and any use of the entry</div>
<a id="L776" name="L776"></a> 776         <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> currentKey;
<a id="L777" name="L777"></a> 777 
<a id="L778" name="L778"></a> 778         HashIterator() <em class="brace">{</em>
<a id="L779" name="L779"></a> 779             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>() ? 0 : table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L780" name="L780"></a> 780         <em class="brace">}</em>
<a id="L781" name="L781"></a> 781 
<a id="L782" name="L782"></a> 782         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20233.html" title="Multiple referred from 653 places.">hasNext</a>() <em class="brace">{</em>
<a id="L783" name="L783"></a> 783             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] t = table;
<a id="L784" name="L784"></a> 784 
<a id="L785" name="L785"></a> 785             <strong class="reserved">while</strong> (nextKey == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L786" name="L786"></a> 786                 <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e = entry;
<a id="L787" name="L787"></a> 787                 <strong class="reserved">int</strong> i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L788" name="L788"></a> 788                 <strong class="reserved">while</strong> (e == <strong class="reserved">null</strong> &amp;&amp; i &gt; 0)
<a id="L789" name="L789"></a> 789                     e = t[--i];
<a id="L790" name="L790"></a> 790                 entry = e;
<a id="L791" name="L791"></a> 791                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = i;
<a id="L792" name="L792"></a> 792                 <strong class="reserved">if</strong> (e == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L793" name="L793"></a> 793                     currentKey = <strong class="reserved">null</strong>;
<a id="L794" name="L794"></a> 794                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L795" name="L795"></a> 795                 <em class="brace">}</em>
<a id="L796" name="L796"></a> 796                 nextKey = e.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(); <em class="comment">// hold on to key in strong ref</em>
<a id="L797" name="L797"></a> 797                 <strong class="reserved">if</strong> (nextKey == <strong class="reserved">null</strong>)
<a id="L798" name="L798"></a> 798                     entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L799" name="L799"></a> 799             <em class="brace">}</em>
<a id="L800" name="L800"></a> 800             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L801" name="L801"></a> 801         <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 
<div class="comment">
         /** The common parts of next() across different types of iterators */</div>
<a id="L804" name="L804"></a> 804         <strong class="reserved">protected</strong> <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../R/23663.html" title="Multiple referred from 13 places.">nextEntry</a>() <em class="brace">{</em>
<a id="L805" name="L805"></a> 805             <strong class="reserved">if</strong> (modCount != expectedModCount)
<a id="L806" name="L806"></a> 806                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L807" name="L807"></a> 807             <strong class="reserved">if</strong> (nextKey == <strong class="reserved">null</strong> &amp;&amp; !<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>())
<a id="L808" name="L808"></a> 808                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L809" name="L809"></a> 809 
<a id="L810" name="L810"></a> 810             lastReturned = entry;
<a id="L811" name="L811"></a> 811             entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L812" name="L812"></a> 812             currentKey = nextKey;
<a id="L813" name="L813"></a> 813             nextKey = <strong class="reserved">null</strong>;
<a id="L814" name="L814"></a> 814             <strong class="reserved">return</strong> lastReturned;
<a id="L815" name="L815"></a> 815         <em class="brace">}</em>
<a id="L816" name="L816"></a> 816 
<a id="L817" name="L817"></a> 817         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>() <em class="brace">{</em>
<a id="L818" name="L818"></a> 818             <strong class="reserved">if</strong> (lastReturned == <strong class="reserved">null</strong>)
<a id="L819" name="L819"></a> 819                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>();
<a id="L820" name="L820"></a> 820             <strong class="reserved">if</strong> (modCount != expectedModCount)
<a id="L821" name="L821"></a> 821                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L822" name="L822"></a> 822 
<a id="L823" name="L823"></a> 823             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(currentKey);
<a id="L824" name="L824"></a> 824             expectedModCount = modCount;
<a id="L825" name="L825"></a> 825             lastReturned = <strong class="reserved">null</strong>;
<a id="L826" name="L826"></a> 826             currentKey = <strong class="reserved">null</strong>;
<a id="L827" name="L827"></a> 827         <em class="brace">}</em>
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829     <em class="brace">}</em>
<a id="L830" name="L830"></a> 830 
<a id="L831" name="L831"></a> 831     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/8626.html" title="Multiple referred from 8 places.">ValueIterator</a> <strong class="reserved">extends</strong> <a href="../D/3736.html" title="Multiple defined in 2 places.">HashIterator</a>&lt;V&gt; <em class="brace">{</em>
<a id="L832" name="L832"></a> 832         <strong class="reserved">public</strong> V <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L833" name="L833"></a> 833             <strong class="reserved">return</strong> <a href="../D/28147.html" title="Multiple defined in 3 places.">nextEntry</a>().<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L834" name="L834"></a> 834         <em class="brace">}</em>
<a id="L835" name="L835"></a> 835     <em class="brace">}</em>
<a id="L836" name="L836"></a> 836 
<a id="L837" name="L837"></a> 837     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/4370.html" title="Multiple referred from 8 places.">KeyIterator</a> <strong class="reserved">extends</strong> <a href="../D/3736.html" title="Multiple defined in 2 places.">HashIterator</a>&lt;K&gt; <em class="brace">{</em>
<a id="L838" name="L838"></a> 838         <strong class="reserved">public</strong> K <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L839" name="L839"></a> 839             <strong class="reserved">return</strong> <a href="../D/28147.html" title="Multiple defined in 3 places.">nextEntry</a>().<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L840" name="L840"></a> 840         <em class="brace">}</em>
<a id="L841" name="L841"></a> 841     <em class="brace">}</em>
<a id="L842" name="L842"></a> 842 
<a id="L843" name="L843"></a> 843     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2697.html" title="Multiple referred from 7 places.">EntryIterator</a> <strong class="reserved">extends</strong> <a href="../D/3736.html" title="Multiple defined in 2 places.">HashIterator</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <em class="brace">{</em>
<a id="L844" name="L844"></a> 844         <strong class="reserved">public</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L845" name="L845"></a> 845             <strong class="reserved">return</strong> <a href="../D/28147.html" title="Multiple defined in 3 places.">nextEntry</a>();
<a id="L846" name="L846"></a> 846         <em class="brace">}</em>
<a id="L847" name="L847"></a> 847     <em class="brace">}</em>
<a id="L848" name="L848"></a> 848 
<a id="L849" name="L849"></a> 849     <em class="comment">// Views</em>
<a id="L850" name="L850"></a> 850 
<a id="L851" name="L851"></a> 851     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>;
<a id="L852" name="L852"></a> 852 
<div class="comment">
      Returns a {@link Set} view of the keys contained in this map.
      The set is backed by the map, so changes to the map are
      reflected in the set, and vice-versa.  If the map is modified
      while an iteration over the set is in progress (except through
      the iterator's own <tt>remove</tt> operation), the results of
      the iteration are undefined.  The set supports element removal,
      which removes the corresponding mapping from the map, via the
      <tt>Iterator.remove</tt>, <tt>Set.remove</tt>,
      <tt>removeAll</tt>, <tt>retainAll</tt>, and <tt>clear</tt>
      operations.  It does not support the <tt>add</tt> or <tt>addAll</tt>
      operations.</div>
<a id="L866" name="L866"></a> 866     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;K&gt; <a href="../R/22393.html" title="Multiple referred from 182 places.">keySet</a>() <em class="brace">{</em>
<a id="L867" name="L867"></a> 867         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;K&gt; ks = <a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>;
<a id="L868" name="L868"></a> 868         <strong class="reserved">return</strong> (ks != <strong class="reserved">null</strong> ? ks : (<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a> = <strong class="reserved">new</strong> <a href="../D/4825.html" title="Multiple defined in 7 places.">KeySet</a>()));
<a id="L869" name="L869"></a> 869     <em class="brace">}</em>
<a id="L870" name="L870"></a> 870 
<a id="L871" name="L871"></a> 871     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/4388.html" title="Multiple referred from 29 places.">KeySet</a> <strong class="reserved">extends</strong> <a href="../S/869.html#L58" title="Defined at 58 in src/java/util/AbstractSet.java.">AbstractSet</a>&lt;K&gt; <em class="brace">{</em>
<a id="L872" name="L872"></a> 872         <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;K&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L873" name="L873"></a> 873             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/4806.html" title="Multiple defined in 7 places.">KeyIterator</a>();
<a id="L874" name="L874"></a> 874         <em class="brace">}</em>
<a id="L875" name="L875"></a> 875 
<a id="L876" name="L876"></a> 876         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L877" name="L877"></a> 877             <strong class="reserved">return</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L878" name="L878"></a> 878         <em class="brace">}</em>
<a id="L879" name="L879"></a> 879 
<a id="L880" name="L880"></a> 880         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881             <strong class="reserved">return</strong> <a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L882" name="L882"></a> 882         <em class="brace">}</em>
<a id="L883" name="L883"></a> 883 
<a id="L884" name="L884"></a> 884         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L885" name="L885"></a> 885             <strong class="reserved">if</strong> (<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>)) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886                 <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L887" name="L887"></a> 887                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L888" name="L888"></a> 888             <em class="brace">}</em>
<a id="L889" name="L889"></a> 889             <strong class="reserved">else</strong>
<a id="L890" name="L890"></a> 890                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L891" name="L891"></a> 891         <em class="brace">}</em>
<a id="L892" name="L892"></a> 892 
<a id="L893" name="L893"></a> 893         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L894" name="L894"></a> 894             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L895" name="L895"></a> 895         <em class="brace">}</em>
<a id="L896" name="L896"></a> 896 
<a id="L897" name="L897"></a> 897         <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;K&gt; <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L898" name="L898"></a> 898             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/4828.html" title="Multiple defined in 6 places.">KeySpliterator</a>&lt;&gt;(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>, 0, -1, 0, 0);
<a id="L899" name="L899"></a> 899         <em class="brace">}</em>
<a id="L900" name="L900"></a> 900     <em class="brace">}</em>
<a id="L901" name="L901"></a> 901 
<div class="comment">
      Returns a {@link Collection} view of the values contained in this map.
      The collection is backed by the map, so changes to the map are
      reflected in the collection, and vice-versa.  If the map is
      modified while an iteration over the collection is in progress
      (except through the iterator's own <tt>remove</tt> operation),
      the results of the iteration are undefined.  The collection
      supports element removal, which removes the corresponding
      mapping from the map, via the <tt>Iterator.remove</tt>,
      <tt>Collection.remove</tt>, <tt>removeAll</tt>,
      <tt>retainAll</tt> and <tt>clear</tt> operations.  It does not
      support the <tt>add</tt> or <tt>addAll</tt> operations.</div>
<a id="L915" name="L915"></a> 915     <strong class="reserved">public</strong> <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;V&gt; <a href="../R/30107.html" title="Multiple referred from 933 places.">values</a>() <em class="brace">{</em>
<a id="L916" name="L916"></a> 916         <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;V&gt; vs = <a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>;
<a id="L917" name="L917"></a> 917         <strong class="reserved">return</strong> (vs != <strong class="reserved">null</strong>) ? vs : (<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a> = <strong class="reserved">new</strong> <a href="../D/9514.html" title="Multiple defined in 7 places.">Values</a>());
<a id="L918" name="L918"></a> 918     <em class="brace">}</em>
<a id="L919" name="L919"></a> 919 
<a id="L920" name="L920"></a> 920     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/8639.html" title="Multiple referred from 18 places.">Values</a> <strong class="reserved">extends</strong> <a href="../S/995.html#L61" title="Defined at 61 in src/java/util/AbstractCollection.java.">AbstractCollection</a>&lt;V&gt; <em class="brace">{</em>
<a id="L921" name="L921"></a> 921         <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;V&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L922" name="L922"></a> 922             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/9501.html" title="Multiple defined in 7 places.">ValueIterator</a>();
<a id="L923" name="L923"></a> 923         <em class="brace">}</em>
<a id="L924" name="L924"></a> 924 
<a id="L925" name="L925"></a> 925         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L926" name="L926"></a> 926             <strong class="reserved">return</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L927" name="L927"></a> 927         <em class="brace">}</em>
<a id="L928" name="L928"></a> 928 
<a id="L929" name="L929"></a> 929         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L930" name="L930"></a> 930             <strong class="reserved">return</strong> <a href="../D/13361.html" title="Multiple defined in 32 places.">containsValue</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L931" name="L931"></a> 931         <em class="brace">}</em>
<a id="L932" name="L932"></a> 932 
<a id="L933" name="L933"></a> 933         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L934" name="L934"></a> 934             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L935" name="L935"></a> 935         <em class="brace">}</em>
<a id="L936" name="L936"></a> 936 
<a id="L937" name="L937"></a> 937         <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;V&gt; <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L938" name="L938"></a> 938             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/9508.html" title="Multiple defined in 6 places.">ValueSpliterator</a>&lt;&gt;(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>, 0, -1, 0, 0);
<a id="L939" name="L939"></a> 939         <em class="brace">}</em>
<a id="L940" name="L940"></a> 940     <em class="brace">}</em>
<a id="L941" name="L941"></a> 941 
<div class="comment">
      Returns a {@link Set} view of the mappings contained in this map.
      The set is backed by the map, so changes to the map are
      reflected in the set, and vice-versa.  If the map is modified
      while an iteration over the set is in progress (except through
      the iterator's own <tt>remove</tt> operation, or through the
      <tt>setValue</tt> operation on a map entry returned by the
      iterator) the results of the iteration are undefined.  The set
      supports element removal, which removes the corresponding
      mapping from the map, via the <tt>Iterator.remove</tt>,
      <tt>Set.remove</tt>, <tt>removeAll</tt>, <tt>retainAll</tt> and
      <tt>clear</tt> operations.  It does not support the
      <tt>add</tt> or <tt>addAll</tt> operations.</div>
<a id="L956" name="L956"></a> 956     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../R/13962.html" title="Multiple referred from 210 places.">entrySet</a>() <em class="brace">{</em>
<a id="L957" name="L957"></a> 957         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; es = <a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>;
<a id="L958" name="L958"></a> 958         <strong class="reserved">return</strong> es != <strong class="reserved">null</strong> ? es : (<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a> = <strong class="reserved">new</strong> <a href="../D/2930.html" title="Multiple defined in 7 places.">EntrySet</a>());
<a id="L959" name="L959"></a> 959     <em class="brace">}</em>
<a id="L960" name="L960"></a> 960 
<a id="L961" name="L961"></a> 961     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/2699.html" title="Multiple referred from 12 places.">EntrySet</a> <strong class="reserved">extends</strong> <a href="../S/869.html#L58" title="Defined at 58 in src/java/util/AbstractSet.java.">AbstractSet</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <em class="brace">{</em>
<a id="L962" name="L962"></a> 962         <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L963" name="L963"></a> 963             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2928.html" title="Multiple defined in 7 places.">EntryIterator</a>();
<a id="L964" name="L964"></a> 964         <em class="brace">}</em>
<a id="L965" name="L965"></a> 965 
<a id="L966" name="L966"></a> 966         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967             <strong class="reserved">if</strong> (!(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>))
<a id="L968" name="L968"></a> 968                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L969" name="L969"></a> 969             <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt; e = (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;?,?&gt;)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L970" name="L970"></a> 970             <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; candidate = <a href="../D/18807.html" title="Multiple defined in 12 places.">getEntry</a>(e.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>());
<a id="L971" name="L971"></a> 971             <strong class="reserved">return</strong> candidate != <strong class="reserved">null</strong> &amp;&amp; candidate.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(e);
<a id="L972" name="L972"></a> 972         <em class="brace">}</em>
<a id="L973" name="L973"></a> 973 
<a id="L974" name="L974"></a> 974         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L975" name="L975"></a> 975             <strong class="reserved">return</strong> <a href="../D/30868.html" title="Multiple defined in 6 places.">removeMapping</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L976" name="L976"></a> 976         <em class="brace">}</em>
<a id="L977" name="L977"></a> 977 
<a id="L978" name="L978"></a> 978         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L979" name="L979"></a> 979             <strong class="reserved">return</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L980" name="L980"></a> 980         <em class="brace">}</em>
<a id="L981" name="L981"></a> 981 
<a id="L982" name="L982"></a> 982         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L983" name="L983"></a> 983             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L984" name="L984"></a> 984         <em class="brace">}</em>
<a id="L985" name="L985"></a> 985 
<a id="L986" name="L986"></a> 986         <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../R/13133.html" title="Multiple referred from 2 places.">deepCopy</a>() <em class="brace">{</em>
<a id="L987" name="L987"></a> 987             <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>());
<a id="L988" name="L988"></a> 988             <strong class="reserved">for</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; e : <strong class="reserved">this</strong>)
<a id="L989" name="L989"></a> 989                 <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">new</strong> <a href="../S/1135.html#L68" title="Defined at 68 in src/java/util/AbstractMap.java.">AbstractMap</a>.<a href="../S/1135.html#L584" title="Defined at 584 in src/java/util/AbstractMap.java.">SimpleEntry</a>&lt;&gt;(e));
<a id="L990" name="L990"></a> 990             <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>;
<a id="L991" name="L991"></a> 991         <em class="brace">}</em>
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/29213.html" title="Multiple referred from 289 places.">toArray</a>() <em class="brace">{</em>
<a id="L994" name="L994"></a> 994             <strong class="reserved">return</strong> <a href="../S/934.html#L986" title="Defined at 986 in src/java/util/WeakHashMap.java.">deepCopy</a>().<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>();
<a id="L995" name="L995"></a> 995         <em class="brace">}</em>
<a id="L996" name="L996"></a> 996 
<a id="L997" name="L997"></a> 997         <strong class="reserved">public</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../R/29213.html" title="Multiple referred from 289 places.">toArray</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>[] <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L998" name="L998"></a> 998             <strong class="reserved">return</strong> <a href="../S/934.html#L986" title="Defined at 986 in src/java/util/WeakHashMap.java.">deepCopy</a>().<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L999" name="L999"></a> 999         <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2932.html" title="Multiple defined in 6 places.">EntrySpliterator</a>&lt;&gt;(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<strong class="reserved">this</strong>, 0, -1, 0, 0);
<a id="L1003" name="L1003"></a>1003         <em class="brace">}</em>
<a id="L1004" name="L1004"></a>1004     <em class="brace">}</em>
<a id="L1005" name="L1005"></a>1005 
<a id="L1006" name="L1006"></a>1006     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L1007" name="L1007"></a>1007     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1008" name="L1008"></a>1008     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(<a href="../S/971.html#L45" title="Defined at 45 in src/java/util/function/BiConsumer.java.">BiConsumer</a>&lt;? <strong class="reserved">super</strong> K, ? <strong class="reserved">super</strong> V&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1009" name="L1009"></a>1009         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>);
<a id="L1010" name="L1010"></a>1010         <strong class="reserved">int</strong> expectedModCount = modCount;
<a id="L1011" name="L1011"></a>1011 
<a id="L1012" name="L1012"></a>1012         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K, V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();
<a id="L1013" name="L1013"></a>1013         <strong class="reserved">for</strong> (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K, V&gt; entry : tab) <em class="brace">{</em>
<a id="L1014" name="L1014"></a>1014             <strong class="reserved">while</strong> (entry != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = entry.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1016" name="L1016"></a>1016                 <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1017" name="L1017"></a>1017                     <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>((K)<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>), entry.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1018" name="L1018"></a>1018                 <em class="brace">}</em>
<a id="L1019" name="L1019"></a>1019                 entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1020" name="L1020"></a>1020 
<a id="L1021" name="L1021"></a>1021                 <strong class="reserved">if</strong> (expectedModCount != modCount) <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1023" name="L1023"></a>1023                 <em class="brace">}</em>
<a id="L1024" name="L1024"></a>1024             <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025         <em class="brace">}</em>
<a id="L1026" name="L1026"></a>1026     <em class="brace">}</em>
<a id="L1027" name="L1027"></a>1027 
<a id="L1028" name="L1028"></a>1028     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L1029" name="L1029"></a>1029     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1030" name="L1030"></a>1030     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26141.html" title="Multiple referred from 16 places.">replaceAll</a>(<a href="../S/975.html#L44" title="Defined at 44 in src/java/util/function/BiFunction.java.">BiFunction</a>&lt;? <strong class="reserved">super</strong> K, ? <strong class="reserved">super</strong> V, ? <strong class="reserved">extends</strong> V&gt; function) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(function);
<a id="L1032" name="L1032"></a>1032         <strong class="reserved">int</strong> expectedModCount = modCount;
<a id="L1033" name="L1033"></a>1033 
<a id="L1034" name="L1034"></a>1034         <a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K, V&gt;[] tab = <a href="../D/22972.html" title="Multiple defined in 9 places.">getTable</a>();;
<a id="L1035" name="L1035"></a>1035         <strong class="reserved">for</strong> (<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K, V&gt; entry : tab) <em class="brace">{</em>
<a id="L1036" name="L1036"></a>1036             <strong class="reserved">while</strong> (entry != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = entry.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1038" name="L1038"></a>1038                 <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1039" name="L1039"></a>1039                     entry.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = function.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>((K)<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>), entry.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L1040" name="L1040"></a>1040                 <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041                 entry = entry.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1042" name="L1042"></a>1042 
<a id="L1043" name="L1043"></a>1043                 <strong class="reserved">if</strong> (expectedModCount != modCount) <em class="brace">{</em>
<a id="L1044" name="L1044"></a>1044                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1045" name="L1045"></a>1045                 <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046             <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047         <em class="brace">}</em>
<a id="L1048" name="L1048"></a>1048     <em class="brace">}</em>
<a id="L1049" name="L1049"></a>1049 
<div class="comment">
      Similar form as other hash Spliterators, but skips dead
      elements.</div>
<a id="L1054" name="L1054"></a>1054     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/8735.html" title="Multiple referred from 3 places.">WeakHashMapSpliterator</a>&lt;K,V&gt; <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055         <strong class="reserved">final</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1056" name="L1056"></a>1056         <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>; <em class="comment">// current node</em>
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;             <em class="comment">// current index, modified on advance/split</em>
<a id="L1058" name="L1058"></a>1058         <strong class="reserved">int</strong> fence;             <em class="comment">// -1 until first use; then one past last index</em>
<a id="L1059" name="L1059"></a>1059         <strong class="reserved">int</strong> est;               <em class="comment">// size estimate</em>
<a id="L1060" name="L1060"></a>1060         <strong class="reserved">int</strong> expectedModCount;  <em class="comment">// for comodification checks</em>
<a id="L1061" name="L1061"></a>1061 
<a id="L1062" name="L1062"></a>1062         WeakHashMapSpliterator(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m, <strong class="reserved">int</strong> origin,
<a id="L1063" name="L1063"></a>1063                                <strong class="reserved">int</strong> fence, <strong class="reserved">int</strong> est,
<a id="L1064" name="L1064"></a>1064                                <strong class="reserved">int</strong> expectedModCount) <em class="brace">{</em>
<a id="L1065" name="L1065"></a>1065             <strong class="reserved">this</strong>.<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = m;
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = origin;
<a id="L1067" name="L1067"></a>1067             <strong class="reserved">this</strong>.fence = fence;
<a id="L1068" name="L1068"></a>1068             <strong class="reserved">this</strong>.est = est;
<a id="L1069" name="L1069"></a>1069             <strong class="reserved">this</strong>.expectedModCount = expectedModCount;
<a id="L1070" name="L1070"></a>1070         <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071 
<a id="L1072" name="L1072"></a>1072         <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/16544.html" title="Multiple referred from 40 places.">getFence</a>() <em class="brace">{</em> <em class="comment">// initialize fence and size on first use</em>
<a id="L1073" name="L1073"></a>1073             <strong class="reserved">int</strong> hi;
<a id="L1074" name="L1074"></a>1074             <strong class="reserved">if</strong> ((hi = fence) &lt; 0) <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075                 <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1076" name="L1076"></a>1076                 est = m.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1077" name="L1077"></a>1077                 expectedModCount = m.modCount;
<a id="L1078" name="L1078"></a>1078                 hi = fence = m.table.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1079" name="L1079"></a>1079             <em class="brace">}</em>
<a id="L1080" name="L1080"></a>1080             <strong class="reserved">return</strong> hi;
<a id="L1081" name="L1081"></a>1081         <em class="brace">}</em>
<a id="L1082" name="L1082"></a>1082 
<a id="L1083" name="L1083"></a>1083         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L1084" name="L1084"></a>1084             <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(); <em class="comment">// force init</em>
<a id="L1085" name="L1085"></a>1085             <strong class="reserved">return</strong> (<strong class="reserved">long</strong>) est;
<a id="L1086" name="L1086"></a>1086         <em class="brace">}</em>
<a id="L1087" name="L1087"></a>1087     <em class="brace">}</em>
<a id="L1088" name="L1088"></a>1088 
<a id="L1089" name="L1089"></a>1089     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/4391.html" title="Multiple referred from 18 places.">KeySpliterator</a>&lt;K,V&gt;
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">extends</strong> <a href="../S/934.html#L1054" title="Defined at 1054 in src/java/util/WeakHashMap.java.">WeakHashMapSpliterator</a>&lt;K,V&gt;
<a id="L1091" name="L1091"></a>1091         <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;K&gt; <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092         KeySpliterator(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m, <strong class="reserved">int</strong> origin, <strong class="reserved">int</strong> fence, <strong class="reserved">int</strong> est,
<a id="L1093" name="L1093"></a>1093                        <strong class="reserved">int</strong> expectedModCount) <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094             <strong class="reserved">super</strong>(m, origin, fence, est, expectedModCount);
<a id="L1095" name="L1095"></a>1095         <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096 
<a id="L1097" name="L1097"></a>1097         <strong class="reserved">public</strong> <a href="../D/4828.html" title="Multiple defined in 6 places.">KeySpliterator</a>&lt;K,V&gt; <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098             <strong class="reserved">int</strong> hi = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(), lo = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, mid = (lo + hi) &gt;&gt;&gt; 1;
<a id="L1099" name="L1099"></a>1099             <strong class="reserved">return</strong> (lo &gt;= mid) ? <strong class="reserved">null</strong> :
<a id="L1100" name="L1100"></a>1100                 <strong class="reserved">new</strong> <a href="../D/4828.html" title="Multiple defined in 6 places.">KeySpliterator</a>&lt;K,V&gt;(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, lo, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = mid, est &gt;&gt;&gt;= 1,
<a id="L1101" name="L1101"></a>1101                                         expectedModCount);
<a id="L1102" name="L1102"></a>1102         <em class="brace">}</em>
<a id="L1103" name="L1103"></a>1103 
<a id="L1104" name="L1104"></a>1104         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> K&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105             <strong class="reserved">int</strong> i, hi, mc;
<a id="L1106" name="L1106"></a>1106             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L1107" name="L1107"></a>1107                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1108" name="L1108"></a>1108             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1109" name="L1109"></a>1109             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = m.table;
<a id="L1110" name="L1110"></a>1110             <strong class="reserved">if</strong> ((hi = fence) &lt; 0) <em class="brace">{</em>
<a id="L1111" name="L1111"></a>1111                 mc = expectedModCount = m.modCount;
<a id="L1112" name="L1112"></a>1112                 hi = fence = tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1113" name="L1113"></a>1113             <em class="brace">}</em>
<a id="L1114" name="L1114"></a>1114             <strong class="reserved">else</strong>
<a id="L1115" name="L1115"></a>1115                 mc = expectedModCount;
<a id="L1116" name="L1116"></a>1116             <strong class="reserved">if</strong> (tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= hi &amp;&amp; (i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) &gt;= 0 &amp;&amp;
<a id="L1117" name="L1117"></a>1117                 (i &lt; (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = hi) || <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118                 <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; p = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>;
<a id="L1119" name="L1119"></a>1119                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <strong class="reserved">null</strong>; <em class="comment">// exhaust</em>
<a id="L1120" name="L1120"></a>1120                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1121" name="L1121"></a>1121                     <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>)
<a id="L1122" name="L1122"></a>1122                         p = tab[i++];
<a id="L1123" name="L1123"></a>1123                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = p.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1125" name="L1125"></a>1125                         p = p.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1126" name="L1126"></a>1126                         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1127" name="L1127"></a>1127                             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") K k =
<a id="L1128" name="L1128"></a>1128                                 (K) <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1129" name="L1129"></a>1129                             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(k);
<a id="L1130" name="L1130"></a>1130                         <em class="brace">}</em>
<a id="L1131" name="L1131"></a>1131                     <em class="brace">}</em>
<a id="L1132" name="L1132"></a>1132                 <em class="brace">}</em> <strong class="reserved">while</strong> (p != <strong class="reserved">null</strong> || i &lt; hi);
<a id="L1133" name="L1133"></a>1133             <em class="brace">}</em>
<a id="L1134" name="L1134"></a>1134             <strong class="reserved">if</strong> (m.modCount != mc)
<a id="L1135" name="L1135"></a>1135                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1136" name="L1136"></a>1136         <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137 
<a id="L1138" name="L1138"></a>1138         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> K&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1139" name="L1139"></a>1139             <strong class="reserved">int</strong> hi;
<a id="L1140" name="L1140"></a>1140             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L1141" name="L1141"></a>1141                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1142" name="L1142"></a>1142             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.table;
<a id="L1143" name="L1143"></a>1143             <strong class="reserved">if</strong> (tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= (hi = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>()) &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0) <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144                 <strong class="reserved">while</strong> (<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> != <strong class="reserved">null</strong> || <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; hi) <em class="brace">{</em>
<a id="L1145" name="L1145"></a>1145                     <strong class="reserved">if</strong> (<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> == <strong class="reserved">null</strong>)
<a id="L1146" name="L1146"></a>1146                         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = tab[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++];
<a id="L1147" name="L1147"></a>1147                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1148" name="L1148"></a>1148                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1149" name="L1149"></a>1149                         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1150" name="L1150"></a>1150                         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151                             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") K k =
<a id="L1152" name="L1152"></a>1152                                 (K) <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1153" name="L1153"></a>1153                             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(k);
<a id="L1154" name="L1154"></a>1154                             <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.modCount != expectedModCount)
<a id="L1155" name="L1155"></a>1155                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1156" name="L1156"></a>1156                             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1157" name="L1157"></a>1157                         <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158                     <em class="brace">}</em>
<a id="L1159" name="L1159"></a>1159                 <em class="brace">}</em>
<a id="L1160" name="L1160"></a>1160             <em class="brace">}</em>
<a id="L1161" name="L1161"></a>1161             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1162" name="L1162"></a>1162         <em class="brace">}</em>
<a id="L1163" name="L1163"></a>1163 
<a id="L1164" name="L1164"></a>1164         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L1165" name="L1165"></a>1165             <strong class="reserved">return</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/2027.html" title="Multiple defined in 2 places.">DISTINCT</a>;
<a id="L1166" name="L1166"></a>1166         <em class="brace">}</em>
<a id="L1167" name="L1167"></a>1167     <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168 
<a id="L1169" name="L1169"></a>1169     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8633.html" title="Multiple referred from 17 places.">ValueSpliterator</a>&lt;K,V&gt;
<a id="L1170" name="L1170"></a>1170         <strong class="reserved">extends</strong> <a href="../S/934.html#L1054" title="Defined at 1054 in src/java/util/WeakHashMap.java.">WeakHashMapSpliterator</a>&lt;K,V&gt;
<a id="L1171" name="L1171"></a>1171         <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;V&gt; <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172         ValueSpliterator(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m, <strong class="reserved">int</strong> origin, <strong class="reserved">int</strong> fence, <strong class="reserved">int</strong> est,
<a id="L1173" name="L1173"></a>1173                          <strong class="reserved">int</strong> expectedModCount) <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174             <strong class="reserved">super</strong>(m, origin, fence, est, expectedModCount);
<a id="L1175" name="L1175"></a>1175         <em class="brace">}</em>
<a id="L1176" name="L1176"></a>1176 
<a id="L1177" name="L1177"></a>1177         <strong class="reserved">public</strong> <a href="../D/9508.html" title="Multiple defined in 6 places.">ValueSpliterator</a>&lt;K,V&gt; <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178             <strong class="reserved">int</strong> hi = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(), lo = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, mid = (lo + hi) &gt;&gt;&gt; 1;
<a id="L1179" name="L1179"></a>1179             <strong class="reserved">return</strong> (lo &gt;= mid) ? <strong class="reserved">null</strong> :
<a id="L1180" name="L1180"></a>1180                 <strong class="reserved">new</strong> <a href="../D/9508.html" title="Multiple defined in 6 places.">ValueSpliterator</a>&lt;K,V&gt;(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, lo, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = mid, est &gt;&gt;&gt;= 1,
<a id="L1181" name="L1181"></a>1181                                           expectedModCount);
<a id="L1182" name="L1182"></a>1182         <em class="brace">}</em>
<a id="L1183" name="L1183"></a>1183 
<a id="L1184" name="L1184"></a>1184         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> V&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1185" name="L1185"></a>1185             <strong class="reserved">int</strong> i, hi, mc;
<a id="L1186" name="L1186"></a>1186             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L1187" name="L1187"></a>1187                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1188" name="L1188"></a>1188             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1189" name="L1189"></a>1189             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = m.table;
<a id="L1190" name="L1190"></a>1190             <strong class="reserved">if</strong> ((hi = fence) &lt; 0) <em class="brace">{</em>
<a id="L1191" name="L1191"></a>1191                 mc = expectedModCount = m.modCount;
<a id="L1192" name="L1192"></a>1192                 hi = fence = tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1193" name="L1193"></a>1193             <em class="brace">}</em>
<a id="L1194" name="L1194"></a>1194             <strong class="reserved">else</strong>
<a id="L1195" name="L1195"></a>1195                 mc = expectedModCount;
<a id="L1196" name="L1196"></a>1196             <strong class="reserved">if</strong> (tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= hi &amp;&amp; (i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) &gt;= 0 &amp;&amp;
<a id="L1197" name="L1197"></a>1197                 (i &lt; (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = hi) || <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1198" name="L1198"></a>1198                 <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; p = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>;
<a id="L1199" name="L1199"></a>1199                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <strong class="reserved">null</strong>; <em class="comment">// exhaust</em>
<a id="L1200" name="L1200"></a>1200                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1201" name="L1201"></a>1201                     <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>)
<a id="L1202" name="L1202"></a>1202                         p = tab[i++];
<a id="L1203" name="L1203"></a>1203                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1204" name="L1204"></a>1204                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = p.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1205" name="L1205"></a>1205                         V v = p.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1206" name="L1206"></a>1206                         p = p.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1207" name="L1207"></a>1207                         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>)
<a id="L1208" name="L1208"></a>1208                             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(v);
<a id="L1209" name="L1209"></a>1209                     <em class="brace">}</em>
<a id="L1210" name="L1210"></a>1210                 <em class="brace">}</em> <strong class="reserved">while</strong> (p != <strong class="reserved">null</strong> || i &lt; hi);
<a id="L1211" name="L1211"></a>1211             <em class="brace">}</em>
<a id="L1212" name="L1212"></a>1212             <strong class="reserved">if</strong> (m.modCount != mc)
<a id="L1213" name="L1213"></a>1213                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1214" name="L1214"></a>1214         <em class="brace">}</em>
<a id="L1215" name="L1215"></a>1215 
<a id="L1216" name="L1216"></a>1216         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> V&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1217" name="L1217"></a>1217             <strong class="reserved">int</strong> hi;
<a id="L1218" name="L1218"></a>1218             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L1219" name="L1219"></a>1219                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1220" name="L1220"></a>1220             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.table;
<a id="L1221" name="L1221"></a>1221             <strong class="reserved">if</strong> (tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= (hi = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>()) &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0) <em class="brace">{</em>
<a id="L1222" name="L1222"></a>1222                 <strong class="reserved">while</strong> (<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> != <strong class="reserved">null</strong> || <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; hi) <em class="brace">{</em>
<a id="L1223" name="L1223"></a>1223                     <strong class="reserved">if</strong> (<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> == <strong class="reserved">null</strong>)
<a id="L1224" name="L1224"></a>1224                         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = tab[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++];
<a id="L1225" name="L1225"></a>1225                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1226" name="L1226"></a>1226                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1227" name="L1227"></a>1227                         V v = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1228" name="L1228"></a>1228                         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1229" name="L1229"></a>1229                         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230                             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(v);
<a id="L1231" name="L1231"></a>1231                             <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.modCount != expectedModCount)
<a id="L1232" name="L1232"></a>1232                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1233" name="L1233"></a>1233                             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1234" name="L1234"></a>1234                         <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235                     <em class="brace">}</em>
<a id="L1236" name="L1236"></a>1236                 <em class="brace">}</em>
<a id="L1237" name="L1237"></a>1237             <em class="brace">}</em>
<a id="L1238" name="L1238"></a>1238             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1239" name="L1239"></a>1239         <em class="brace">}</em>
<a id="L1240" name="L1240"></a>1240 
<a id="L1241" name="L1241"></a>1241         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L1242" name="L1242"></a>1242             <strong class="reserved">return</strong> 0;
<a id="L1243" name="L1243"></a>1243         <em class="brace">}</em>
<a id="L1244" name="L1244"></a>1244     <em class="brace">}</em>
<a id="L1245" name="L1245"></a>1245 
<a id="L1246" name="L1246"></a>1246     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2701.html" title="Multiple referred from 17 places.">EntrySpliterator</a>&lt;K,V&gt;
<a id="L1247" name="L1247"></a>1247         <strong class="reserved">extends</strong> <a href="../S/934.html#L1054" title="Defined at 1054 in src/java/util/WeakHashMap.java.">WeakHashMapSpliterator</a>&lt;K,V&gt;
<a id="L1248" name="L1248"></a>1248         <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <em class="brace">{</em>
<a id="L1249" name="L1249"></a>1249         EntrySpliterator(<a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m, <strong class="reserved">int</strong> origin, <strong class="reserved">int</strong> fence, <strong class="reserved">int</strong> est,
<a id="L1250" name="L1250"></a>1250                        <strong class="reserved">int</strong> expectedModCount) <em class="brace">{</em>
<a id="L1251" name="L1251"></a>1251             <strong class="reserved">super</strong>(m, origin, fence, est, expectedModCount);
<a id="L1252" name="L1252"></a>1252         <em class="brace">}</em>
<a id="L1253" name="L1253"></a>1253 
<a id="L1254" name="L1254"></a>1254         <strong class="reserved">public</strong> <a href="../D/2932.html" title="Multiple defined in 6 places.">EntrySpliterator</a>&lt;K,V&gt; <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L1255" name="L1255"></a>1255             <strong class="reserved">int</strong> hi = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>(), lo = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, mid = (lo + hi) &gt;&gt;&gt; 1;
<a id="L1256" name="L1256"></a>1256             <strong class="reserved">return</strong> (lo &gt;= mid) ? <strong class="reserved">null</strong> :
<a id="L1257" name="L1257"></a>1257                 <strong class="reserved">new</strong> <a href="../D/2932.html" title="Multiple defined in 6 places.">EntrySpliterator</a>&lt;K,V&gt;(<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, lo, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = mid, est &gt;&gt;&gt;= 1,
<a id="L1258" name="L1258"></a>1258                                           expectedModCount);
<a id="L1259" name="L1259"></a>1259         <em class="brace">}</em>
<a id="L1260" name="L1260"></a>1260 
<a id="L1261" name="L1261"></a>1261 
<a id="L1262" name="L1262"></a>1262         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K, V&gt;&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1263" name="L1263"></a>1263             <strong class="reserved">int</strong> i, hi, mc;
<a id="L1264" name="L1264"></a>1264             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L1265" name="L1265"></a>1265                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1266" name="L1266"></a>1266             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;K,V&gt; m = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1267" name="L1267"></a>1267             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = m.table;
<a id="L1268" name="L1268"></a>1268             <strong class="reserved">if</strong> ((hi = fence) &lt; 0) <em class="brace">{</em>
<a id="L1269" name="L1269"></a>1269                 mc = expectedModCount = m.modCount;
<a id="L1270" name="L1270"></a>1270                 hi = fence = tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1271" name="L1271"></a>1271             <em class="brace">}</em>
<a id="L1272" name="L1272"></a>1272             <strong class="reserved">else</strong>
<a id="L1273" name="L1273"></a>1273                 mc = expectedModCount;
<a id="L1274" name="L1274"></a>1274             <strong class="reserved">if</strong> (tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= hi &amp;&amp; (i = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) &gt;= 0 &amp;&amp;
<a id="L1275" name="L1275"></a>1275                 (i &lt; (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = hi) || <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1276" name="L1276"></a>1276                 <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt; p = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>;
<a id="L1277" name="L1277"></a>1277                 <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <strong class="reserved">null</strong>; <em class="comment">// exhaust</em>
<a id="L1278" name="L1278"></a>1278                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1279" name="L1279"></a>1279                     <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>)
<a id="L1280" name="L1280"></a>1280                         p = tab[i++];
<a id="L1281" name="L1281"></a>1281                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1282" name="L1282"></a>1282                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = p.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1283" name="L1283"></a>1283                         V v = p.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1284" name="L1284"></a>1284                         p = p.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1285" name="L1285"></a>1285                         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1286" name="L1286"></a>1286                             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") K k =
<a id="L1287" name="L1287"></a>1287                                 (K) <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1288" name="L1288"></a>1288                             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>
<a id="L1289" name="L1289"></a>1289                                 (<strong class="reserved">new</strong> <a href="../S/1135.html#L68" title="Defined at 68 in src/java/util/AbstractMap.java.">AbstractMap</a>.<a href="../S/1135.html#L714" title="Defined at 714 in src/java/util/AbstractMap.java.">SimpleImmutableEntry</a>&lt;K,V&gt;(k, v));
<a id="L1290" name="L1290"></a>1290                         <em class="brace">}</em>
<a id="L1291" name="L1291"></a>1291                     <em class="brace">}</em>
<a id="L1292" name="L1292"></a>1292                 <em class="brace">}</em> <strong class="reserved">while</strong> (p != <strong class="reserved">null</strong> || i &lt; hi);
<a id="L1293" name="L1293"></a>1293             <em class="brace">}</em>
<a id="L1294" name="L1294"></a>1294             <strong class="reserved">if</strong> (m.modCount != mc)
<a id="L1295" name="L1295"></a>1295                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1296" name="L1296"></a>1296         <em class="brace">}</em>
<a id="L1297" name="L1297"></a>1297 
<a id="L1298" name="L1298"></a>1298         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L1299" name="L1299"></a>1299             <strong class="reserved">int</strong> hi;
<a id="L1300" name="L1300"></a>1300             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L1301" name="L1301"></a>1301                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1302" name="L1302"></a>1302             <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;K,V&gt;[] tab = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.table;
<a id="L1303" name="L1303"></a>1303             <strong class="reserved">if</strong> (tab.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= (hi = <a href="../D/19014.html" title="Multiple defined in 8 places.">getFence</a>()) &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304                 <strong class="reserved">while</strong> (<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> != <strong class="reserved">null</strong> || <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; hi) <em class="brace">{</em>
<a id="L1305" name="L1305"></a>1305                     <strong class="reserved">if</strong> (<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> == <strong class="reserved">null</strong>)
<a id="L1306" name="L1306"></a>1306                         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = tab[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++];
<a id="L1307" name="L1307"></a>1307                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1308" name="L1308"></a>1308                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1309" name="L1309"></a>1309                         V v = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L1310" name="L1310"></a>1310                         <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a> = <a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1311" name="L1311"></a>1311                         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1312" name="L1312"></a>1312                             @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked") K k =
<a id="L1313" name="L1313"></a>1313                                 (K) <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>.<a href="../D/35935.html" title="Multiple defined in 3 places.">unmaskNull</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L1314" name="L1314"></a>1314                             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>
<a id="L1315" name="L1315"></a>1315                                 (<strong class="reserved">new</strong> <a href="../S/1135.html#L68" title="Defined at 68 in src/java/util/AbstractMap.java.">AbstractMap</a>.<a href="../S/1135.html#L714" title="Defined at 714 in src/java/util/AbstractMap.java.">SimpleImmutableEntry</a>&lt;K,V&gt;(k, v));
<a id="L1316" name="L1316"></a>1316                             <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.modCount != expectedModCount)
<a id="L1317" name="L1317"></a>1317                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/857.html#L70" title="Defined at 70 in src/java/util/ConcurrentModificationException.java.">ConcurrentModificationException</a>();
<a id="L1318" name="L1318"></a>1318                             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1319" name="L1319"></a>1319                         <em class="brace">}</em>
<a id="L1320" name="L1320"></a>1320                     <em class="brace">}</em>
<a id="L1321" name="L1321"></a>1321                 <em class="brace">}</em>
<a id="L1322" name="L1322"></a>1322             <em class="brace">}</em>
<a id="L1323" name="L1323"></a>1323             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1324" name="L1324"></a>1324         <em class="brace">}</em>
<a id="L1325" name="L1325"></a>1325 
<a id="L1326" name="L1326"></a>1326         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L1327" name="L1327"></a>1327             <strong class="reserved">return</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/2027.html" title="Multiple defined in 2 places.">DISTINCT</a>;
<a id="L1328" name="L1328"></a>1328         <em class="brace">}</em>
<a id="L1329" name="L1329"></a>1329     <em class="brace">}</em>
<a id="L1330" name="L1330"></a>1330 
<a id="L1331" name="L1331"></a>1331 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L193">[^]</a><a href="#L1326">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>