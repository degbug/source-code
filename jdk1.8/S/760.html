<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/URLPermission.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L169">[^]</a><a href="#L530">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L169" title="Defined at 169.">init</a></li>
<li><a href="#L221" title="Defined at 221.">getActions</a></li>
<li><a href="#L260" title="Defined at 260.">implies</a></li>
<li><a href="#L330" title="Defined at 330.">equals</a></li>
<li><a href="#L355" title="Defined at 355.">hashCode</a></li>
<li><a href="#L363" title="Defined at 363.">normalizeMethods</a></li>
<li><a href="#L388" title="Defined at 388.">normalizeHeaders</a></li>
<li><a href="#L422" title="Defined at 422.">parseURI</a></li>
<li><a href="#L452" title="Defined at 452.">actions</a></li>
<li><a href="#L467" title="Defined at 467.">readObject</a></li>
<li><a href="#L487" title="Defined at 487.">implies</a></li>
<li><a href="#L491" title="Defined at 491.">impliesHostrange</a></li>
<li><a href="#L515" title="Defined at 515.">impliesPortrange</a></li>
<li><a href="#L526" title="Defined at 526.">equals</a></li>
<li><a href="#L530" title="Defined at 530.">hashCode</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.IOException;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.List;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Collections;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.Permission;
<a id="L34" name="L34"></a>  34 
<div class="comment">
  Represents permission to access a resource or set of resources defined by a
  given url, and for a given set of user-settable request methods
  and request headers. The <i>name</i> of the permission is the url string.
  The <i>actions</i> string is a concatenation of the request methods and headers.
  The range of method and header names is not restricted by this class.
  <p><b>The url</b></p><p>
  The url string has the following expected structure.
  </p><pre>      scheme : // authority [ / path ]
  </pre>
  <i>scheme</i> will typically be http or https, but is not restricted by this
  class.
  <i>authority</i> is specified as:
  <pre>      authority = [ userinfo @ ] hostrange [ : portrange ]
      portrange = portnumber | -portnumber | portnumber-[portnumber] | *
      hostrange = ([*.] dnsname) | IPv4address | IPv6address
  </pre>
  <i>dnsname</i> is a standard DNS host or domain name, ie. one or more labels
  separated by ".". <i>IPv4address</i> is a standard literal IPv4 address and
  <i>IPv6address</i> is as defined in <a href="http://www.ietf.org/rfc/rfc2732.txt">
  RFC 2732</a>. Literal IPv6 addresses must however, be enclosed in '[]' characters.
  The <i>dnsname</i> specification can be preceded by "*." which means
  the name will match any hostname whose right-most domain labels are the same as
  this name. For example, "*.oracle.com" matches "foo.bar.oracle.com"
  <p>
  <i>portrange</i> is used to specify a port number, or a bounded or unbounded range of ports
  that this permission applies to. If portrange is absent or invalid, then a default
  port number is assumed if the scheme is <code>http</code> (default 80) or <code>https</code>
  (default 443). No default is assumed for other schemes. A wildcard may be specified
  which means all ports.
  </p><p>
  <i>userinfo</i> is optional. A userinfo component if present, is ignored when
  creating a URLPermission, and has no effect on any other methods defined by this class.
  </p><p>
  The <i>path</i> component comprises a sequence of path segments,
  separated by '/' characters. <i>path</i> may also be empty. The path is specified
  in a similar way to the path in {@link java.io.FilePermission}. There are
  three different ways as the following examples show:
  </p><table border>
  <caption>URL Examples</caption>
  <tbody><tr><th>Example url</th><th>Description</th></tr>
  <tr><td style="white-space:nowrap;">http://www.oracle.com/a/b/c.html</td>
    <td>A url which identifies a specific (single) resource</td>
  </tr>
 * <tr><td>http://www.oracle.com/a/b</td>
    <td>The '*' character refers to all resources in the same "directory" - in
        other words all resources with the same number of path components, and
        which only differ in the final path component, represented by the '*'.
    </td>
  </tr>
  <tr><td>http://www.oracle.com/a/b/-</td>
    <td>The '-' character refers to all resources recursively below the
        preceding path (eg. http://www.oracle.com/a/b/c/d/e.html matches this
        example).
    </td>
  </tr>
  </tbody></table>
  <p>
  The '*' and '-' may only be specified in the final segment of a path and must be
  the only character in that segment. Any query or fragment components of the
  url are ignored when constructing URLPermissions.
  </p><p>
  As a special case, urls of the form, "scheme:*" are accepted to
  mean any url of the given scheme.
  </p><p>
  The <i>scheme</i> and <i>authority</i> components of the url string are handled
  without regard to case. This means {@link #equals(Object)},
  {@link #hashCode()} and {@link #implies(Permission)} are case insensitive with respect
  to these components. If the <i>authority</i> contains a literal IP address,
  then the address is normalized for comparison. The path component is case sensitive.
  </p><p><b>The actions string</b></p><p>
  The actions string of a URLPermission is a concatenation of the <i>method list</i>
  and the <i>request headers list</i>. These are lists of the permitted request
  methods and permitted request headers of the permission (respectively). The two lists
  are separated by a colon ':' character and elements of each list are comma separated.
  Some examples are:
  </p><pre>          "POST,GET,DELETE"
          "GET:X-Foo-Request,X-Bar-Request"
          "POST,GET:Header1,Header2"
  </pre>
  The first example specifies the methods: POST, GET and DELETE, but no request headers.
  The second example specifies one request method and two headers. The third
  example specifies two request methods, and two headers.
  <p>
  The colon separator need not be present if the request headers list is empty.
  No white-space is permitted in the actions string. The action strings supplied to
  the URLPermission constructors are case-insensitive and are normalized by converting
  method names to upper-case and header names to the form defines in RFC2616 (lower case
  with initial letter of each word capitalized). Either list can contain a wild-card '*'
  character which signifies all request methods or headers respectively.
  </p><p>
  Note. Depending on the context of use, some request methods and headers may be permitted
  at all times, and others may not be permitted at any time. For example, the
  HTTP protocol handler might disallow certain headers such as Content-Length
  from being set by application code, regardless of whether the security policy
  in force, permits it.
  @since 1.8</p></div>
<a id="L137" name="L137"></a> 137 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8413.html" title="Multiple referred from 4 places.">URLPermission</a> <strong class="reserved">extends</strong> <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> <em class="brace">{</em>
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -2702463814894478682L;
<a id="L140" name="L140"></a> 140 
<a id="L141" name="L141"></a> 141     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scheme;
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ssp;                 <em class="comment">// scheme specific part</em>
<a id="L143" name="L143"></a> 143     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path;
<a id="L144" name="L144"></a> 144     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>;
<a id="L145" name="L145"></a> 145     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; requestHeaders;
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a> authority;
<a id="L147" name="L147"></a> 147 
<a id="L148" name="L148"></a> 148     <em class="comment">// serialized field</em>
<a id="L149" name="L149"></a> 149     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>;
<a id="L150" name="L150"></a> 150 
<div class="comment">
      Creates a new URLPermission from a url string and which permits the given
      request methods and user-settable request headers.
      The name of the permission is the url string it was created with. Only the scheme,
      authority and path components of the url are used internally. Any fragment or query
      components are ignored. The permissions action string is as specified above.
      @param url the url string
      @param actions the actions string
      @exception IllegalArgumentException if url is invalid or if actions contains white-space.</div>
<a id="L164" name="L164"></a> 164     <strong class="reserved">public</strong> URLPermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L165" name="L165"></a> 165         <strong class="reserved">super</strong>(url);
<a id="L166" name="L166"></a> 166         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>);
<a id="L167" name="L167"></a> 167     <em class="brace">}</em>
<a id="L168" name="L168"></a> 168 
<a id="L169" name="L169"></a> 169     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170         <a href="../D/29224.html" title="Multiple defined in 3 places.">parseURI</a>(<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L171" name="L171"></a> 171         <strong class="reserved">int</strong> colon = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L172" name="L172"></a> 172         <strong class="reserved">if</strong> (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(':') != colon) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid actions string");
<a id="L174" name="L174"></a> 174         <em class="brace">}</em>
<a id="L175" name="L175"></a> 175 
<a id="L176" name="L176"></a> 176         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>, headers;
<a id="L177" name="L177"></a> 177         <strong class="reserved">if</strong> (colon == -1) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178             <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a> = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>;
<a id="L179" name="L179"></a> 179             headers = "";
<a id="L180" name="L180"></a> 180         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L181" name="L181"></a> 181             <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a> = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, colon);
<a id="L182" name="L182"></a> 182             headers = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(colon+1);
<a id="L183" name="L183"></a> 183         <em class="brace">}</em>
<a id="L184" name="L184"></a> 184 
<a id="L185" name="L185"></a> 185         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; l = <a href="../S/760.html#L363" title="Defined at 363 in src/java/net/URLPermission.java.">normalizeMethods</a>(<a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>);
<a id="L186" name="L186"></a> 186         <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/34687.html" title="Multiple defined in 56 places.">sort</a>(l);
<a id="L187" name="L187"></a> 187         <strong class="reserved">this</strong>.<a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a> = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(l);
<a id="L188" name="L188"></a> 188 
<a id="L189" name="L189"></a> 189         l = <a href="../S/760.html#L388" title="Defined at 388 in src/java/net/URLPermission.java.">normalizeHeaders</a>(headers);
<a id="L190" name="L190"></a> 190         <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/34687.html" title="Multiple defined in 56 places.">sort</a>(l);
<a id="L191" name="L191"></a> 191         <strong class="reserved">this</strong>.requestHeaders = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(l);
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193         <strong class="reserved">this</strong>.<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>();
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<div class="comment">
      Creates a URLPermission with the given url string and unrestricted
      methods and request headers by invoking the two argument
      constructor as follows: URLPermission(url, "*:*")
      @param url the url string
      @throws    IllegalArgumentException if url does not result in a valid {@link URI}</div>
<a id="L205" name="L205"></a> 205     <strong class="reserved">public</strong> URLPermission(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url) <em class="brace">{</em>
<a id="L206" name="L206"></a> 206         <strong class="reserved">this</strong>(url, "*:*");
<a id="L207" name="L207"></a> 207     <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<div class="comment">
      Returns the normalized method list and request
      header list, in the form:
      <pre>           "method-names : header-names"
      </pre>
      <p>
      where method-names is the list of methods separated by commas
      and header-names is the list of permitted headers separated by commas.
      There is no white space in the returned String. If header-names is empty
      then the colon separator will not be present.</p></div>
<a id="L221" name="L221"></a> 221     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14955.html" title="Multiple referred from 33 places.">getActions</a>() <em class="brace">{</em>
<a id="L222" name="L222"></a> 222         <strong class="reserved">return</strong> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>;
<a id="L223" name="L223"></a> 223     <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
      Checks if this URLPermission implies the given permission.
      Specifically, the following checks are done as if in the
      following sequence:
      <ul><li>if 'p' is not an instance of URLPermission return false</li><li>if any of p's methods are not in this's method list, and if
          this's method list is not equal to "*", then return false.</li><li>if any of p's headers are not in this's request header list, and if
          this's request header list is not equal to "*", then return false.</li><li>if this's url scheme is not equal to p's url scheme return false</li><li>if the scheme specific part of this's url is '*' return true</li><li>if the set of hosts defined by p's url hostrange is not a subset of
          this's url hostrange then return false. For example, "*.foo.oracle.com"
          is a subset of "*.oracle.com". "foo.bar.oracle.com" is not
          a subset of "*.foo.oracle.com"</li><li>if the portrange defined by p's url is not a subset of the
          portrange defined by this's url then return false.
      </li><li>if the path or paths specified by p's url are contained in the
          set of paths specified by this's url, then return true
      </li><li>otherwise, return false</li>
      </ul>
      <p>Some examples of how paths are matched are shown below:
      </p><table border>
      <caption>Examples of Path Matching</caption>
      <tbody><tr><th>this's path</th><th>p's path</th><th>match</th></tr>
      <tr><td>/a/b</td><td>/a/b</td><td>yes</td></tr>
     * <tr><td>/a/b</td><td>/a/b/c</td><td>yes</td></tr>
     * <tr><td>/a/b</td><td>/a/b/c/d</td><td>no</td></tr>
      <tr><td>/a/b/-</td><td>/a/b/c/d</td><td>yes</td></tr>
      <tr><td>/a/b/-</td><td>/a/b/c/d/e</td><td>yes</td></tr>
     * <tr><td>/a/b/-</td><td>/a/b/c</td><td>yes</td></tr>
     * <tr><td>/a/b</td><td>/a/b/c/-</td><td>no</td></tr>
      </tbody></table></div>
<a id="L260" name="L260"></a> 260     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> p) <em class="brace">{</em>
<a id="L261" name="L261"></a> 261         <strong class="reserved">if</strong> (! (p <strong class="reserved">instanceof</strong> <a href="../S/760.html#L137" title="Defined at 137 in src/java/net/URLPermission.java.">URLPermission</a>)) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L263" name="L263"></a> 263         <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265         <a href="../S/760.html#L137" title="Defined at 137 in src/java/net/URLPermission.java.">URLPermission</a> that = (<a href="../S/760.html#L137" title="Defined at 137 in src/java/net/URLPermission.java.">URLPermission</a>)p;
<a id="L266" name="L266"></a> 266 
<a id="L267" name="L267"></a> 267         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.<a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*") &amp;&amp;
<a id="L268" name="L268"></a> 268                 <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L897" title="Defined at 897 in src/java/util/Collections.java.">indexOfSubList</a>(<strong class="reserved">this</strong>.<a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>, that.<a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>) == -1) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L270" name="L270"></a> 270         <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.requestHeaders.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>() &amp;&amp; !that.requestHeaders.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L273" name="L273"></a> 273             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L274" name="L274"></a> 274         <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.requestHeaders.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>() &amp;&amp;
<a id="L277" name="L277"></a> 277             !<strong class="reserved">this</strong>.requestHeaders.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*") &amp;&amp;
<a id="L278" name="L278"></a> 278              <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L897" title="Defined at 897 in src/java/util/Collections.java.">indexOfSubList</a>(<strong class="reserved">this</strong>.requestHeaders,
<a id="L279" name="L279"></a> 279                                         that.requestHeaders) == -1) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L281" name="L281"></a> 281         <em class="brace">}</em>
<a id="L282" name="L282"></a> 282 
<a id="L283" name="L283"></a> 283         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.scheme.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.scheme)) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L285" name="L285"></a> 285         <em class="brace">}</em>
<a id="L286" name="L286"></a> 286 
<a id="L287" name="L287"></a> 287         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.ssp.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*")) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L289" name="L289"></a> 289         <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<a id="L291" name="L291"></a> 291         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.authority.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(that.authority)) <em class="brace">{</em>
<a id="L292" name="L292"></a> 292             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L293" name="L293"></a> 293         <em class="brace">}</em>
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.path == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">return</strong> that.path == <strong class="reserved">null</strong>;
<a id="L297" name="L297"></a> 297         <em class="brace">}</em>
<a id="L298" name="L298"></a> 298         <strong class="reserved">if</strong> (that.path == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L300" name="L300"></a> 300         <em class="brace">}</em>
<a id="L301" name="L301"></a> 301 
<a id="L302" name="L302"></a> 302         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.path.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("/-")) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> thisprefix = <strong class="reserved">this</strong>.path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <strong class="reserved">this</strong>.path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L304" name="L304"></a> 304             <strong class="reserved">return</strong> that.path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(thisprefix);
<a id="L305" name="L305"></a> 305             <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.path.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("/*")) <em class="brace">{</em>
<a id="L308" name="L308"></a> 308             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> thisprefix = <strong class="reserved">this</strong>.path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <strong class="reserved">this</strong>.path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L309" name="L309"></a> 309             <strong class="reserved">if</strong> (!that.path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(thisprefix)) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L311" name="L311"></a> 311             <em class="brace">}</em>
<a id="L312" name="L312"></a> 312             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> thatsuffix = that.path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(thisprefix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L313" name="L313"></a> 313             <em class="comment">// suffix must not contain '/' chars</em>
<a id="L314" name="L314"></a> 314             <strong class="reserved">if</strong> (thatsuffix.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('/') != -1) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L316" name="L316"></a> 316             <em class="brace">}</em>
<a id="L317" name="L317"></a> 317             <strong class="reserved">if</strong> (thatsuffix.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("-")) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L319" name="L319"></a> 319             <em class="brace">}</em>
<a id="L320" name="L320"></a> 320             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L321" name="L321"></a> 321         <em class="brace">}</em>
<a id="L322" name="L322"></a> 322         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.path.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.path);
<a id="L323" name="L323"></a> 323     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<a id="L325" name="L325"></a> 325 
<div class="comment">
      Returns true if, this.getActions().equals(p.getActions())
      and p's url equals this's url.  Returns false otherwise.</div>
<a id="L330" name="L330"></a> 330     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> p) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331         <strong class="reserved">if</strong> (!(p <strong class="reserved">instanceof</strong> <a href="../S/760.html#L137" title="Defined at 137 in src/java/net/URLPermission.java.">URLPermission</a>)) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L333" name="L333"></a> 333         <em class="brace">}</em>
<a id="L334" name="L334"></a> 334         <a href="../S/760.html#L137" title="Defined at 137 in src/java/net/URLPermission.java.">URLPermission</a> that = (<a href="../S/760.html#L137" title="Defined at 137 in src/java/net/URLPermission.java.">URLPermission</a>)p;
<a id="L335" name="L335"></a> 335         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.scheme.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.scheme)) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L337" name="L337"></a> 337         <em class="brace">}</em>
<a id="L338" name="L338"></a> 338         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>())) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L340" name="L340"></a> 340         <em class="brace">}</em>
<a id="L341" name="L341"></a> 341         <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.authority.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.authority)) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.path != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345             <strong class="reserved">return</strong> <strong class="reserved">this</strong>.path.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.path);
<a id="L346" name="L346"></a> 346         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L347" name="L347"></a> 347             <strong class="reserved">return</strong> that.path == <strong class="reserved">null</strong>;
<a id="L348" name="L348"></a> 348         <em class="brace">}</em>
<a id="L349" name="L349"></a> 349     <em class="brace">}</em>
<a id="L350" name="L350"></a> 350 
<div class="comment">
      Returns a hashcode calculated from the hashcode of the
      actions String and the url string.</div>
<a id="L355" name="L355"></a> 355     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L356" name="L356"></a> 356         <strong class="reserved">return</strong> <a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>()
<a id="L357" name="L357"></a> 357             + scheme.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>()
<a id="L358" name="L358"></a> 358             + authority.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>()
<a id="L359" name="L359"></a> 359             + (path == <strong class="reserved">null</strong> ? 0 : path.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>());
<a id="L360" name="L360"></a> 360     <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362 
<a id="L363" name="L363"></a> 363     <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/760.html#L185" title="Referred from 185 in src/java/net/URLPermission.java.">normalizeMethods</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; l = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L365" name="L365"></a> 365         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> b = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L366" name="L366"></a> 366         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;<a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); i++) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L368" name="L368"></a> 368             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ',') <em class="brace">{</em>
<a id="L369" name="L369"></a> 369                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = b.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L370" name="L370"></a> 370                 <strong class="reserved">if</strong> (s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L371" name="L371"></a> 371                     l.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(s);
<a id="L372" name="L372"></a> 372                 b = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L373" name="L373"></a> 373             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ' ' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\t') <em class="brace">{</em>
<a id="L374" name="L374"></a> 374                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("white space not allowed");
<a id="L375" name="L375"></a> 375             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L376" name="L376"></a> 376                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 'a' &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'z') <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> += 'A' - 'a';
<a id="L378" name="L378"></a> 378                 <em class="brace">}</em>
<a id="L379" name="L379"></a> 379                 b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L380" name="L380"></a> 380             <em class="brace">}</em>
<a id="L381" name="L381"></a> 381         <em class="brace">}</em>
<a id="L382" name="L382"></a> 382         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = b.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L383" name="L383"></a> 383         <strong class="reserved">if</strong> (s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L384" name="L384"></a> 384             l.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(s);
<a id="L385" name="L385"></a> 385         <strong class="reserved">return</strong> l;
<a id="L386" name="L386"></a> 386     <em class="brace">}</em>
<a id="L387" name="L387"></a> 387 
<a id="L388" name="L388"></a> 388     <strong class="reserved">private</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/760.html#L189" title="Referred from 189 in src/java/net/URLPermission.java.">normalizeHeaders</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> headers) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; l = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L390" name="L390"></a> 390         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> b = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L391" name="L391"></a> 391         <strong class="reserved">boolean</strong> capitalizeNext = <strong class="reserved">true</strong>;
<a id="L392" name="L392"></a> 392         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;headers.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); i++) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = headers.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L394" name="L394"></a> 394             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 'a' &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt;= 'z') <em class="brace">{</em>
<a id="L395" name="L395"></a> 395                 <strong class="reserved">if</strong> (capitalizeNext) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> += 'A' - 'a';
<a id="L397" name="L397"></a> 397                     capitalizeNext = <strong class="reserved">false</strong>;
<a id="L398" name="L398"></a> 398                 <em class="brace">}</em>
<a id="L399" name="L399"></a> 399                 b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L400" name="L400"></a> 400             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ' ' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\t') <em class="brace">{</em>
<a id="L401" name="L401"></a> 401                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("white space not allowed");
<a id="L402" name="L402"></a> 402             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '-') <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                     capitalizeNext = <strong class="reserved">true</strong>;
<a id="L404" name="L404"></a> 404                 b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L405" name="L405"></a> 405             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ',') <em class="brace">{</em>
<a id="L406" name="L406"></a> 406                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = b.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L407" name="L407"></a> 407                 <strong class="reserved">if</strong> (s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L408" name="L408"></a> 408                     l.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(s);
<a id="L409" name="L409"></a> 409                 b = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L410" name="L410"></a> 410                 capitalizeNext = <strong class="reserved">true</strong>;
<a id="L411" name="L411"></a> 411             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L412" name="L412"></a> 412                 capitalizeNext = <strong class="reserved">false</strong>;
<a id="L413" name="L413"></a> 413                 b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L414" name="L414"></a> 414             <em class="brace">}</em>
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = b.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L417" name="L417"></a> 417         <strong class="reserved">if</strong> (s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L418" name="L418"></a> 418             l.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(s);
<a id="L419" name="L419"></a> 419         <strong class="reserved">return</strong> l;
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<a id="L422" name="L422"></a> 422     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/760.html#L170" title="Referred from 170 in src/java/net/URLPermission.java.">parseURI</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423         <strong class="reserved">int</strong> len = url.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L424" name="L424"></a> 424         <strong class="reserved">int</strong> delim = url.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L425" name="L425"></a> 425         <strong class="reserved">if</strong> (delim == -1 || delim + 1 == len) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid URL string");
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428         scheme = url.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, delim).<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L429" name="L429"></a> 429         <strong class="reserved">this</strong>.ssp = url.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(delim + 1);
<a id="L430" name="L430"></a> 430 
<a id="L431" name="L431"></a> 431         <strong class="reserved">if</strong> (!ssp.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("//")) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">if</strong> (!ssp.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("*")) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid URL string");
<a id="L434" name="L434"></a> 434             <em class="brace">}</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">this</strong>.authority = <strong class="reserved">new</strong> <a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a>(scheme, "*");
<a id="L436" name="L436"></a> 436             <strong class="reserved">return</strong>;
<a id="L437" name="L437"></a> 437         <em class="brace">}</em>
<a id="L438" name="L438"></a> 438         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authpath = ssp.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(2);
<a id="L439" name="L439"></a> 439 
<a id="L440" name="L440"></a> 440         delim = authpath.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('/');
<a id="L441" name="L441"></a> 441         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> auth;
<a id="L442" name="L442"></a> 442         <strong class="reserved">if</strong> (delim == -1) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443             <strong class="reserved">this</strong>.path = "";
<a id="L444" name="L444"></a> 444             auth = authpath;
<a id="L445" name="L445"></a> 445         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L446" name="L446"></a> 446             auth = authpath.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, delim);
<a id="L447" name="L447"></a> 447             <strong class="reserved">this</strong>.path = authpath.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(delim);
<a id="L448" name="L448"></a> 448         <em class="brace">}</em>
<a id="L449" name="L449"></a> 449         <strong class="reserved">this</strong>.authority = <strong class="reserved">new</strong> <a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a>(scheme, auth.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>());
<a id="L450" name="L450"></a> 450     <em class="brace">}</em>
<a id="L451" name="L451"></a> 451 
<a id="L452" name="L452"></a> 452     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/9562.html" title="Multiple referred from 240 places.">actions</a>() <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> b = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L454" name="L454"></a> 454         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s : <a href="../D/27692.html" title="Multiple defined in 2 places.">methods</a>) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(s);
<a id="L456" name="L456"></a> 456         <em class="brace">}</em>
<a id="L457" name="L457"></a> 457         b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(":");
<a id="L458" name="L458"></a> 458         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s : requestHeaders) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459             b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(s);
<a id="L460" name="L460"></a> 460         <em class="brace">}</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">return</strong> b.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      restore the state of this object from stream</div>
<a id="L467" name="L467"></a> 467     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L468" name="L468"></a> 468         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L470" name="L470"></a> 470         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("actions", <strong class="reserved">null</strong>);
<a id="L471" name="L471"></a> 471 
<a id="L472" name="L472"></a> 472         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>(<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>);
<a id="L473" name="L473"></a> 473     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/572.html" title="Multiple referred from 7 places.">Authority</a> <em class="brace">{</em>
<a id="L476" name="L476"></a> 476         <a href="../S/766.html#L36" title="Defined at 36 in src/java/net/HostPortrange.java.">HostPortrange</a> p;
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478         Authority(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> scheme, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authority) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479             <strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> = authority.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('@');
<a id="L480" name="L480"></a> 480             <strong class="reserved">if</strong> (<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> == -1) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481                     p = <strong class="reserved">new</strong> <a href="../S/766.html#L36" title="Defined at 36 in src/java/net/HostPortrange.java.">HostPortrange</a>(scheme, authority);
<a id="L482" name="L482"></a> 482             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L483" name="L483"></a> 483                     p = <strong class="reserved">new</strong> <a href="../S/766.html#L36" title="Defined at 36 in src/java/net/HostPortrange.java.">HostPortrange</a>(scheme, authority.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>+1));
<a id="L484" name="L484"></a> 484             <em class="brace">}</em>
<a id="L485" name="L485"></a> 485         <em class="brace">}</em>
<a id="L486" name="L486"></a> 486 
<a id="L487" name="L487"></a> 487         <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a> other) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <strong class="reserved">return</strong> <a href="../S/760.html#L491" title="Defined at 491 in src/java/net/URLPermission.java.">impliesHostrange</a>(other) &amp;&amp; <a href="../S/760.html#L515" title="Defined at 515 in src/java/net/URLPermission.java.">impliesPortrange</a>(other);
<a id="L489" name="L489"></a> 489         <em class="brace">}</em>
<a id="L490" name="L490"></a> 490 
<a id="L491" name="L491"></a> 491         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/760.html#L488" title="Referred from 488 in src/java/net/URLPermission.java.">impliesHostrange</a>(<a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a> that) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> thishost = <strong class="reserved">this</strong>.p.<a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>();
<a id="L493" name="L493"></a> 493             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> thathost = that.p.<a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>();
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495             <strong class="reserved">if</strong> (p.<a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>() &amp;&amp; thishost.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L496" name="L496"></a> 496                 <em class="comment">// this "*" implies all others</em>
<a id="L497" name="L497"></a> 497                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L498" name="L498"></a> 498             <em class="brace">}</em>
<a id="L499" name="L499"></a> 499             <strong class="reserved">if</strong> (that.p.<a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>() &amp;&amp; thathost.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500                 <em class="comment">// that "*" can only be implied by this "*"</em>
<a id="L501" name="L501"></a> 501                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L502" name="L502"></a> 502             <em class="brace">}</em>
<a id="L503" name="L503"></a> 503             <strong class="reserved">if</strong> (thishost.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(thathost)) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504                 <em class="comment">// covers all cases of literal IP addresses and fixed</em>
<a id="L505" name="L505"></a> 505                 <em class="comment">// domain names.</em>
<a id="L506" name="L506"></a> 506                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L507" name="L507"></a> 507             <em class="brace">}</em>
<a id="L508" name="L508"></a> 508             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.p.<a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>()) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509                 <em class="comment">// this "*.foo.com" implies "bub.bar.foo.com"</em>
<a id="L510" name="L510"></a> 510                 <strong class="reserved">return</strong> thathost.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>(thishost);
<a id="L511" name="L511"></a> 511             <em class="brace">}</em>
<a id="L512" name="L512"></a> 512             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L513" name="L513"></a> 513         <em class="brace">}</em>
<a id="L514" name="L514"></a> 514 
<a id="L515" name="L515"></a> 515         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/760.html#L488" title="Referred from 488 in src/java/net/URLPermission.java.">impliesPortrange</a>(<a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a> that) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516             <strong class="reserved">int</strong>[] thisrange = <strong class="reserved">this</strong>.p.<a href="../S/766.html#L212" title="Defined at 212 in src/java/net/HostPortrange.java.">portrange</a>();
<a id="L517" name="L517"></a> 517             <strong class="reserved">int</strong>[] thatrange = that.p.<a href="../S/766.html#L212" title="Defined at 212 in src/java/net/HostPortrange.java.">portrange</a>();
<a id="L518" name="L518"></a> 518             <strong class="reserved">if</strong> (thisrange[0] == -1) <em class="brace">{</em>
<div class="comment">
                 /* port not specified non http/s URL */</div>
<a id="L520" name="L520"></a> 520                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L521" name="L521"></a> 521             <em class="brace">}</em>
<a id="L522" name="L522"></a> 522             <strong class="reserved">return</strong> thisrange[0] &lt;= thatrange[0] &amp;&amp;
<a id="L523" name="L523"></a> 523                         thisrange[1] &gt;= thatrange[1];
<a id="L524" name="L524"></a> 524         <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526         <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../S/760.html#L475" title="Defined at 475 in src/java/net/URLPermission.java.">Authority</a> that) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527             <strong class="reserved">return</strong> <strong class="reserved">this</strong>.p.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(that.p);
<a id="L528" name="L528"></a> 528         <em class="brace">}</em>
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L531" name="L531"></a> 531             <strong class="reserved">return</strong> p.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L532" name="L532"></a> 532         <em class="brace">}</em>
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L169">[^]</a><a href="#L530">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>