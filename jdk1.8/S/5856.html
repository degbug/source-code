<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/utils/SuballocatedIntVector.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L125">[^]</a><a href="#L554">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L125" title="Defined at 125.">size</a></li>
<li><a href="#L136" title="Defined at 136.">setSize</a></li>
<li><a href="#L147" title="Defined at 147.">addElement</a></li>
<li><a href="#L192" title="Defined at 192.">addElements</a></li>
<li><a href="#L233" title="Defined at 233.">addElements</a></li>
<li><a href="#L257" title="Defined at 257.">insertElementAt</a></li>
<li><a href="#L312" title="Defined at 312.">removeAllElements</a></li>
<li><a href="#L330" title="Defined at 330.">removeElement</a></li>
<li><a href="#L347" title="Defined at 347.">removeElementAt</a></li>
<li><a href="#L389" title="Defined at 389.">setElementAt</a></li>
<li><a href="#L438" title="Defined at 438.">elementAt</a></li>
<li><a href="#L454" title="Defined at 454.">contains</a></li>
<li><a href="#L470" title="Defined at 470.">indexOf</a></li>
<li><a href="#L509" title="Defined at 509.">indexOf</a></li>
<li><a href="#L524" title="Defined at 524.">lastIndexOf</a></li>
<li><a href="#L545" title="Defined at 545.">getMap0</a></li>
<li><a href="#L554" title="Defined at 554.">getMap</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<div class="comment">
  $Id: SuballocatedIntVector.java,v 1.3 2005/09/28 13:49:22 pvedula Exp $</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.utils;
<a id="L24" name="L24"></a>  24 
<div class="comment">
  A very simple table that stores a list of int. Very similar API to our
  IntVector class (same API); different internal storage.
  This version uses an array-of-arrays solution. Read/write access is thus
  a bit slower than the simple IntVector, and basic storage is a trifle
  higher due to the top-level array -- but appending is O(1) fast rather
  than O(N**2) slow, which will swamp those costs in situations where
  long vectors are being built up.
  Known issues:
  Some methods are private because they haven't yet been tested properly.
  Retrieval performance is critical, since this is used at the core
  of the DTM model. (Append performance is almost as important.)
  That's pushing me toward just letting reads from unset indices
  throw exceptions or return stale data; safer behavior would have
  performance costs.
 * </div>
<a id="L45" name="L45"></a>  45 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7748.html" title="Multiple referred from 43 places.">SuballocatedIntVector</a>
<a id="L46" name="L46"></a>  46 <em class="brace">{</em>
<div class="comment">
   /** Size of blocks to allocate          */</div>
<a id="L48" name="L48"></a>  48   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_blocksize;
<a id="L49" name="L49"></a>  49 
<div class="comment">
   /** Bitwise addressing (much faster than div/remainder */</div>
<a id="L51" name="L51"></a>  51   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_SHIFT, m_MASK;
<a id="L52" name="L52"></a>  52 
<div class="comment">
   /** The default number of blocks to (over)allocate by */</div>
<a id="L54" name="L54"></a>  54   <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> NUMBLOCKS_DEFAULT = 32;
<a id="L55" name="L55"></a>  55 
<div class="comment">
   /** The number of blocks to (over)allocate by */</div>
<a id="L57" name="L57"></a>  57   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_numblocks = NUMBLOCKS_DEFAULT;
<a id="L58" name="L58"></a>  58 
<div class="comment">
   /** Array of arrays of ints          */</div>
<a id="L60" name="L60"></a>  60   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_map[][];
<a id="L61" name="L61"></a>  61 
<div class="comment">
   /** Number of ints in array          */</div>
<a id="L63" name="L63"></a>  63   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_firstFree = 0;
<a id="L64" name="L64"></a>  64 
<div class="comment">
   /** "Shortcut" handle to m_map[0]. Surprisingly helpful for short vectors. */</div>
<a id="L66" name="L66"></a>  66   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_map0[];
<a id="L67" name="L67"></a>  67 
<div class="comment">
 "Shortcut" handle to most recently added row of m_map.
    Very helpful during construction.
    @xsl.usage internal</div>
<a id="L72" name="L72"></a>  72   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_buildCache[];
<a id="L73" name="L73"></a>  73   <strong class="reserved">protected</strong> <strong class="reserved">int</strong> m_buildCacheStartIndex;
<a id="L74" name="L74"></a>  74 
<a id="L75" name="L75"></a>  75 
<div class="comment">
    Default constructor.  Note that the default
    block size is currently 2K, which may be overkill for
    small lists and undershootng for large ones.</div>
<a id="L81" name="L81"></a>  81   <strong class="reserved">public</strong> SuballocatedIntVector()
<a id="L82" name="L82"></a>  82   <em class="brace">{</em>
<a id="L83" name="L83"></a>  83     <strong class="reserved">this</strong>(2048);
<a id="L84" name="L84"></a>  84   <em class="brace">}</em>
<a id="L85" name="L85"></a>  85 
<div class="comment">
    Construct a IntVector, using the given block size and number
    of blocks. For efficiency, we will round the requested size
    off to a power of two.
    @param blocksize Size of block to allocate
    @param numblocks Number of blocks to allocate
   * </div>
<a id="L94" name="L94"></a>  94   <strong class="reserved">public</strong> SuballocatedIntVector(<strong class="reserved">int</strong> blocksize, <strong class="reserved">int</strong> numblocks)
<a id="L95" name="L95"></a>  95   <em class="brace">{</em>
<a id="L96" name="L96"></a>  96     <em class="comment">//m_blocksize = blocksize;</em>
<a id="L97" name="L97"></a>  97     <strong class="reserved">for</strong>(m_SHIFT=0;0!=(blocksize&gt;&gt;&gt;=1);++m_SHIFT)
<a id="L98" name="L98"></a>  98       ;
<a id="L99" name="L99"></a>  99     m_blocksize=1&lt;&lt;m_SHIFT;
<a id="L100" name="L100"></a> 100     m_MASK=m_blocksize-1;
<a id="L101" name="L101"></a> 101     m_numblocks = numblocks;
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     m_map0=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L104" name="L104"></a> 104     m_map = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numblocks][];
<a id="L105" name="L105"></a> 105     m_map[0]=m_map0;
<a id="L106" name="L106"></a> 106     m_buildCache = m_map0;
<a id="L107" name="L107"></a> 107     m_buildCacheStartIndex = 0;
<a id="L108" name="L108"></a> 108   <em class="brace">}</em>
<a id="L109" name="L109"></a> 109 
<div class="comment">
 Construct a IntVector, using the given block size and
    the default number of blocks (32).
    @param blocksize Size of block to allocate
   * </div>
<a id="L115" name="L115"></a> 115   <strong class="reserved">public</strong> SuballocatedIntVector(<strong class="reserved">int</strong> blocksize)
<a id="L116" name="L116"></a> 116   <em class="brace">{</em>
<a id="L117" name="L117"></a> 117     <strong class="reserved">this</strong>(blocksize, NUMBLOCKS_DEFAULT);
<a id="L118" name="L118"></a> 118   <em class="brace">}</em>
<a id="L119" name="L119"></a> 119 
<div class="comment">
    Get the length of the list.
    @return length of the list</div>
<a id="L125" name="L125"></a> 125   <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>()
<a id="L126" name="L126"></a> 126   <em class="brace">{</em>
<a id="L127" name="L127"></a> 127     <strong class="reserved">return</strong> m_firstFree;
<a id="L128" name="L128"></a> 128   <em class="brace">}</em>
<a id="L129" name="L129"></a> 129 
<div class="comment">
    Set the length of the list. This will only work to truncate the list, and
    even then it has not been heavily tested and may not be trustworthy.
    @return length of the list</div>
<a id="L136" name="L136"></a> 136   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28186.html" title="Multiple referred from 157 places.">setSize</a>(<strong class="reserved">int</strong> sz)
<a id="L137" name="L137"></a> 137   <em class="brace">{</em>
<a id="L138" name="L138"></a> 138     <strong class="reserved">if</strong>(m_firstFree&gt;sz) <em class="comment">// Whups; had that backward!</em>
<a id="L139" name="L139"></a> 139       m_firstFree = sz;
<a id="L140" name="L140"></a> 140   <em class="brace">}</em>
<a id="L141" name="L141"></a> 141 
<div class="comment">
    Append a int onto the vector.
    @param value Int to add to the list</div>
<a id="L147" name="L147"></a> 147   <strong class="reserved">public</strong>  <strong class="reserved">void</strong> <a href="../R/9708.html" title="Multiple referred from 886 places.">addElement</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)
<a id="L148" name="L148"></a> 148   <em class="brace">{</em>
<a id="L149" name="L149"></a> 149     <strong class="reserved">int</strong> indexRelativeToCache = m_firstFree - m_buildCacheStartIndex;
<a id="L150" name="L150"></a> 150 
<a id="L151" name="L151"></a> 151     <em class="comment">// Is the new index an index into the cache row of m_map?</em>
<a id="L152" name="L152"></a> 152     <strong class="reserved">if</strong>(indexRelativeToCache &gt;= 0 &amp;&amp; indexRelativeToCache &lt; m_blocksize) <em class="brace">{</em>
<a id="L153" name="L153"></a> 153       m_buildCache[indexRelativeToCache]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L154" name="L154"></a> 154       ++m_firstFree;
<a id="L155" name="L155"></a> 155     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L156" name="L156"></a> 156       <em class="comment">// Growing the outer array should be rare. We initialize to a</em>
<a id="L157" name="L157"></a> 157       <em class="comment">// total of m_blocksize squared elements, which at the default</em>
<a id="L158" name="L158"></a> 158       <em class="comment">// size is 4M integers... and we grow by at least that much each</em>
<a id="L159" name="L159"></a> 159       <em class="comment">// time.  However, attempts to microoptimize for this (assume</em>
<a id="L160" name="L160"></a> 160       <em class="comment">// long enough and catch exceptions) yield no noticable</em>
<a id="L161" name="L161"></a> 161       <em class="comment">// improvement.</em>
<a id="L162" name="L162"></a> 162 
<a id="L163" name="L163"></a> 163       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=m_firstFree&gt;&gt;&gt;m_SHIFT;
<a id="L164" name="L164"></a> 164       <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=m_firstFree&amp;m_MASK;
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166       <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;=m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L167" name="L167"></a> 167       <em class="brace">{</em>
<a id="L168" name="L168"></a> 168         <strong class="reserved">int</strong> newsize=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+m_numblocks;
<a id="L169" name="L169"></a> 169         <strong class="reserved">int</strong>[][] <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[newsize][];
<a id="L170" name="L170"></a> 170         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(m_map, 0, <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>, 0, m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L171" name="L171"></a> 171         m_map=<a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>;
<a id="L172" name="L172"></a> 172       <em class="brace">}</em>
<a id="L173" name="L173"></a> 173       <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L174" name="L174"></a> 174       <strong class="reserved">if</strong>(<strong class="reserved">null</strong>==<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>)
<a id="L175" name="L175"></a> 175         <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L176" name="L176"></a> 176       <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178       <em class="comment">// Cache the current row of m_map.  Next m_blocksize-1</em>
<a id="L179" name="L179"></a> 179       <em class="comment">// values added will go to this row.</em>
<a id="L180" name="L180"></a> 180       m_buildCache = <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>;
<a id="L181" name="L181"></a> 181       m_buildCacheStartIndex = m_firstFree-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183       ++m_firstFree;
<a id="L184" name="L184"></a> 184     <em class="brace">}</em>
<a id="L185" name="L185"></a> 185   <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
    Append several int values onto the vector.
    @param value Int to add to the list</div>
<a id="L192" name="L192"></a> 192   <strong class="reserved">private</strong>  <strong class="reserved">void</strong> addElements(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> numberOfElements)
<a id="L193" name="L193"></a> 193   <em class="brace">{</em>
<a id="L194" name="L194"></a> 194     <strong class="reserved">if</strong>(m_firstFree+numberOfElements&lt;m_blocksize)
<a id="L195" name="L195"></a> 195       <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; numberOfElements; i++)
<a id="L196" name="L196"></a> 196       <em class="brace">{</em>
<a id="L197" name="L197"></a> 197         m_map0[m_firstFree++]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L198" name="L198"></a> 198       <em class="brace">}</em>
<a id="L199" name="L199"></a> 199     <strong class="reserved">else</strong>
<a id="L200" name="L200"></a> 200     <em class="brace">{</em>
<a id="L201" name="L201"></a> 201       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=m_firstFree&gt;&gt;&gt;m_SHIFT;
<a id="L202" name="L202"></a> 202       <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=m_firstFree&amp;m_MASK;
<a id="L203" name="L203"></a> 203       m_firstFree+=numberOfElements;
<a id="L204" name="L204"></a> 204       <strong class="reserved">while</strong>( numberOfElements&gt;0)
<a id="L205" name="L205"></a> 205       <em class="brace">{</em>
<a id="L206" name="L206"></a> 206         <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;=m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L207" name="L207"></a> 207         <em class="brace">{</em>
<a id="L208" name="L208"></a> 208           <strong class="reserved">int</strong> newsize=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+m_numblocks;
<a id="L209" name="L209"></a> 209           <strong class="reserved">int</strong>[][] <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[newsize][];
<a id="L210" name="L210"></a> 210           <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(m_map, 0, <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>, 0, m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L211" name="L211"></a> 211           m_map=<a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>;
<a id="L212" name="L212"></a> 212         <em class="brace">}</em>
<a id="L213" name="L213"></a> 213         <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L214" name="L214"></a> 214         <strong class="reserved">if</strong>(<strong class="reserved">null</strong>==<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>)
<a id="L215" name="L215"></a> 215           <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L216" name="L216"></a> 216         <strong class="reserved">int</strong> copied=(m_blocksize-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; numberOfElements)
<a id="L217" name="L217"></a> 217           ? m_blocksize-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> : numberOfElements;
<a id="L218" name="L218"></a> 218         numberOfElements-=copied;
<a id="L219" name="L219"></a> 219         <strong class="reserved">while</strong>(copied-- &gt; 0)
<a id="L220" name="L220"></a> 220           <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>++]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222         ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=0;
<a id="L223" name="L223"></a> 223       <em class="brace">}</em>
<a id="L224" name="L224"></a> 224     <em class="brace">}</em>
<a id="L225" name="L225"></a> 225   <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<div class="comment">
    Append several slots onto the vector, but do not set the values.
    Note: "Not Set" means the value is unspecified.
    @param numberOfElements Int to add to the list</div>
<a id="L233" name="L233"></a> 233   <strong class="reserved">private</strong>  <strong class="reserved">void</strong> addElements(<strong class="reserved">int</strong> numberOfElements)
<a id="L234" name="L234"></a> 234   <em class="brace">{</em>
<a id="L235" name="L235"></a> 235     <strong class="reserved">int</strong> newlen=m_firstFree+numberOfElements;
<a id="L236" name="L236"></a> 236     <strong class="reserved">if</strong>(newlen&gt;m_blocksize)
<a id="L237" name="L237"></a> 237     <em class="brace">{</em>
<a id="L238" name="L238"></a> 238       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=m_firstFree&gt;&gt;&gt;m_SHIFT;
<a id="L239" name="L239"></a> 239       <strong class="reserved">int</strong> newindex=(m_firstFree+numberOfElements)&gt;&gt;&gt;m_SHIFT;
<a id="L240" name="L240"></a> 240       <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+1;i&lt;=newindex;++i)
<a id="L241" name="L241"></a> 241         m_map[i]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L242" name="L242"></a> 242     <em class="brace">}</em>
<a id="L243" name="L243"></a> 243     m_firstFree=newlen;
<a id="L244" name="L244"></a> 244   <em class="brace">}</em>
<a id="L245" name="L245"></a> 245 
<div class="comment">
    Inserts the specified node in this vector at the specified index.
    Each component in this vector with an index greater or equal to
    the specified index is shifted upward to have an index one greater
    than the value it had previously.
    Insertion may be an EXPENSIVE operation!
    @param value Int to insert
    @param at Index of where to insert</div>
<a id="L257" name="L257"></a> 257   <strong class="reserved">private</strong>  <strong class="reserved">void</strong> <a href="../R/20769.html" title="Multiple referred from 72 places.">insertElementAt</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>)
<a id="L258" name="L258"></a> 258   <em class="brace">{</em>
<a id="L259" name="L259"></a> 259     <strong class="reserved">if</strong>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>==m_firstFree)
<a id="L260" name="L260"></a> 260       <a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L261" name="L261"></a> 261     <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&gt;m_firstFree)
<a id="L262" name="L262"></a> 262     <em class="brace">{</em>
<a id="L263" name="L263"></a> 263       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&gt;&gt;&gt;m_SHIFT;
<a id="L264" name="L264"></a> 264       <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;=m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L265" name="L265"></a> 265       <em class="brace">{</em>
<a id="L266" name="L266"></a> 266         <strong class="reserved">int</strong> newsize=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+m_numblocks;
<a id="L267" name="L267"></a> 267         <strong class="reserved">int</strong>[][] <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[newsize][];
<a id="L268" name="L268"></a> 268         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(m_map, 0, <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>, 0, m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L269" name="L269"></a> 269         m_map=<a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>;
<a id="L270" name="L270"></a> 270       <em class="brace">}</em>
<a id="L271" name="L271"></a> 271       <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L272" name="L272"></a> 272       <strong class="reserved">if</strong>(<strong class="reserved">null</strong>==<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>)
<a id="L273" name="L273"></a> 273         <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L274" name="L274"></a> 274       <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&amp;m_MASK;
<a id="L275" name="L275"></a> 275           <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L276" name="L276"></a> 276           m_firstFree=<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+1;
<a id="L277" name="L277"></a> 277         <em class="brace">}</em>
<a id="L278" name="L278"></a> 278     <strong class="reserved">else</strong>
<a id="L279" name="L279"></a> 279     <em class="brace">{</em>
<a id="L280" name="L280"></a> 280       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&gt;&gt;&gt;m_SHIFT;
<a id="L281" name="L281"></a> 281       <strong class="reserved">int</strong> maxindex=m_firstFree&gt;&gt;&gt;m_SHIFT; <em class="comment">// %REVIEW% (m_firstFree+1?)</em>
<a id="L282" name="L282"></a> 282       ++m_firstFree;
<a id="L283" name="L283"></a> 283       <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&amp;m_MASK;
<a id="L284" name="L284"></a> 284       <strong class="reserved">int</strong> <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>;
<a id="L285" name="L285"></a> 285 
<a id="L286" name="L286"></a> 286       <em class="comment">// ***** Easier to work down from top?</em>
<a id="L287" name="L287"></a> 287       <strong class="reserved">while</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&lt;=maxindex)
<a id="L288" name="L288"></a> 288       <em class="brace">{</em>
<a id="L289" name="L289"></a> 289         <strong class="reserved">int</strong> copylen=m_blocksize-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>-1;
<a id="L290" name="L290"></a> 290         <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L291" name="L291"></a> 291         <strong class="reserved">if</strong>(<strong class="reserved">null</strong>==<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>)
<a id="L292" name="L292"></a> 292         <em class="brace">{</em>
<a id="L293" name="L293"></a> 293           <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>=0;
<a id="L294" name="L294"></a> 294           <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">else</strong>
<a id="L297" name="L297"></a> 297         <em class="brace">{</em>
<a id="L298" name="L298"></a> 298           <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>=<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[m_blocksize-1];
<a id="L299" name="L299"></a> 299           <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> , <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+1, copylen);
<a id="L300" name="L300"></a> 300         <em class="brace">}</em>
<a id="L301" name="L301"></a> 301         <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L302" name="L302"></a> 302         <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>=<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>;
<a id="L303" name="L303"></a> 303         <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=0;
<a id="L304" name="L304"></a> 304         ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L305" name="L305"></a> 305       <em class="brace">}</em>
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307   <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
    Wipe it out. Currently defined as equivalent to setSize(0).</div>
<a id="L312" name="L312"></a> 312   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25892.html" title="Multiple referred from 90 places.">removeAllElements</a>()
<a id="L313" name="L313"></a> 313   <em class="brace">{</em>
<a id="L314" name="L314"></a> 314     m_firstFree = 0;
<a id="L315" name="L315"></a> 315     m_buildCache = m_map0;
<a id="L316" name="L316"></a> 316     m_buildCacheStartIndex = 0;
<a id="L317" name="L317"></a> 317   <em class="brace">}</em>
<a id="L318" name="L318"></a> 318 
<div class="comment">
    Removes the first occurrence of the argument from this vector.
    If the object is found in this vector, each component in the vector
    with an index greater or equal to the object's index is shifted
    downward to have an index one smaller than the value it had
    previously.
    @param s Int to remove from array
    @return True if the int was removed, false if it was not found</div>
<a id="L330" name="L330"></a> 330   <strong class="reserved">private</strong>  <strong class="reserved">boolean</strong> <a href="../R/25951.html" title="Multiple referred from 45 places.">removeElement</a>(<strong class="reserved">int</strong> s)
<a id="L331" name="L331"></a> 331   <em class="brace">{</em>
<a id="L332" name="L332"></a> 332     <strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>=<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(s,0);
<a id="L333" name="L333"></a> 333     <strong class="reserved">if</strong>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&lt;0)
<a id="L334" name="L334"></a> 334       <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L335" name="L335"></a> 335     <a href="../D/30775.html" title="Multiple defined in 12 places.">removeElementAt</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L336" name="L336"></a> 336     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L337" name="L337"></a> 337   <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<div class="comment">
    Deletes the component at the specified index. Each component in
    this vector with an index greater or equal to the specified
    index is shifted downward to have an index one smaller than
    the value it had previously.
    @param at index of where to remove and int</div>
<a id="L347" name="L347"></a> 347   <strong class="reserved">private</strong>  <strong class="reserved">void</strong> <a href="../R/25952.html" title="Multiple referred from 79 places.">removeElementAt</a>(<strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>)
<a id="L348" name="L348"></a> 348   <em class="brace">{</em>
<a id="L349" name="L349"></a> 349         <em class="comment">// No point in removing elements that "don't exist"...</em>
<a id="L350" name="L350"></a> 350     <strong class="reserved">if</strong>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&lt;m_firstFree)
<a id="L351" name="L351"></a> 351     <em class="brace">{</em>
<a id="L352" name="L352"></a> 352       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&gt;&gt;&gt;m_SHIFT;
<a id="L353" name="L353"></a> 353       <strong class="reserved">int</strong> maxindex=m_firstFree&gt;&gt;&gt;m_SHIFT;
<a id="L354" name="L354"></a> 354       <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&amp;m_MASK;
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356       <strong class="reserved">while</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&lt;=maxindex)
<a id="L357" name="L357"></a> 357       <em class="brace">{</em>
<a id="L358" name="L358"></a> 358         <strong class="reserved">int</strong> copylen=m_blocksize-<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>-1;
<a id="L359" name="L359"></a> 359         <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L360" name="L360"></a> 360         <strong class="reserved">if</strong>(<strong class="reserved">null</strong>==<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>)
<a id="L361" name="L361"></a> 361           <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L362" name="L362"></a> 362         <strong class="reserved">else</strong>
<a id="L363" name="L363"></a> 363           <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+1, <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, copylen);
<a id="L364" name="L364"></a> 364         <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&lt;maxindex)
<a id="L365" name="L365"></a> 365         <em class="brace">{</em>
<a id="L366" name="L366"></a> 366           <strong class="reserved">int</strong>[] <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+1];
<a id="L367" name="L367"></a> 367           <strong class="reserved">if</strong>(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>!=<strong class="reserved">null</strong>)
<a id="L368" name="L368"></a> 368             <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[m_blocksize-1]=(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>!=<strong class="reserved">null</strong>) ? <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>[0] : 0;
<a id="L369" name="L369"></a> 369         <em class="brace">}</em>
<a id="L370" name="L370"></a> 370         <strong class="reserved">else</strong>
<a id="L371" name="L371"></a> 371           <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[m_blocksize-1]=0;
<a id="L372" name="L372"></a> 372         <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=0;
<a id="L373" name="L373"></a> 373         ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L374" name="L374"></a> 374       <em class="brace">}</em>
<a id="L375" name="L375"></a> 375     <em class="brace">}</em>
<a id="L376" name="L376"></a> 376     --m_firstFree;
<a id="L377" name="L377"></a> 377   <em class="brace">}</em>
<a id="L378" name="L378"></a> 378 
<div class="comment">
    Sets the component at the specified index of this vector to be the
    specified object. The previous component at that position is discarded.
    The index must be a value greater than or equal to 0 and less
    than the current size of the vector.
    @param value object to set
    @param at    Index of where to set the object</div>
<a id="L389" name="L389"></a> 389   <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27311.html" title="Multiple referred from 85 places.">setElementAt</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>)
<a id="L390" name="L390"></a> 390   <em class="brace">{</em>
<a id="L391" name="L391"></a> 391     <strong class="reserved">if</strong>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&lt;m_blocksize)
<a id="L392" name="L392"></a> 392       m_map0[<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L393" name="L393"></a> 393     <strong class="reserved">else</strong>
<a id="L394" name="L394"></a> 394     <em class="brace">{</em>
<a id="L395" name="L395"></a> 395       <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&gt;&gt;&gt;m_SHIFT;
<a id="L396" name="L396"></a> 396       <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&amp;m_MASK;
<a id="L397" name="L397"></a> 397 
<a id="L398" name="L398"></a> 398       <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;=m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L399" name="L399"></a> 399       <em class="brace">{</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">int</strong> newsize=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+m_numblocks;
<a id="L401" name="L401"></a> 401         <strong class="reserved">int</strong>[][] <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[newsize][];
<a id="L402" name="L402"></a> 402         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(m_map, 0, <a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>, 0, m_map.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L403" name="L403"></a> 403         m_map=<a href="../S/6273.html#L54" title="Defined at 54 in src/com/sun/jmx/mbeanserver/Util.java.">newMap</a>;
<a id="L404" name="L404"></a> 404       <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406       <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L407" name="L407"></a> 407       <strong class="reserved">if</strong>(<strong class="reserved">null</strong>==<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>)
<a id="L408" name="L408"></a> 408         <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]=<strong class="reserved">new</strong> <strong class="reserved">int</strong>[m_blocksize];
<a id="L409" name="L409"></a> 409       <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]=<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L410" name="L410"></a> 410     <em class="brace">}</em>
<a id="L411" name="L411"></a> 411 
<a id="L412" name="L412"></a> 412     <strong class="reserved">if</strong>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>&gt;=m_firstFree)
<a id="L413" name="L413"></a> 413       m_firstFree=<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>+1;
<a id="L414" name="L414"></a> 414   <em class="brace">}</em>
<a id="L415" name="L415"></a> 415 
<a id="L416" name="L416"></a> 416 
<div class="comment">
    Get the nth element. This is often at the innermost loop of an
    application, so performance is critical.
    @param i index of value to get
    @return value at given index. If that value wasn't previously set,
    the result is undefined for performance reasons. It may throw an
    exception (see below), may return zero, or (if setSize has previously
    been used) may return stale data.
    @throws ArrayIndexOutOfBoundsException if the index was _clearly_
    unreasonable (negative, or past the highest block).
    @throws NullPointerException if the index points to a block that could
    have existed (based on the highest index used) but has never had anything
    set into it.
    %REVIEW% Could add a catch to create the block in that case, or return 0.
    Try/Catch is _supposed_ to be nearly free when not thrown to. Do we
    believe that? Should we have a separate safeElementAt?</div>
<a id="L438" name="L438"></a> 438   <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/13630.html" title="Multiple referred from 1941 places.">elementAt</a>(<strong class="reserved">int</strong> i)
<a id="L439" name="L439"></a> 439   <em class="brace">{</em>
<a id="L440" name="L440"></a> 440     <em class="comment">// This is actually a significant optimization!</em>
<a id="L441" name="L441"></a> 441     <strong class="reserved">if</strong>(i&lt;m_blocksize)
<a id="L442" name="L442"></a> 442       <strong class="reserved">return</strong> m_map0[i];
<a id="L443" name="L443"></a> 443 
<a id="L444" name="L444"></a> 444     <strong class="reserved">return</strong> m_map[i&gt;&gt;&gt;m_SHIFT][i&amp;m_MASK];
<a id="L445" name="L445"></a> 445   <em class="brace">}</em>
<a id="L446" name="L446"></a> 446 
<div class="comment">
    Tell if the table contains the given node.
    @param s object to look for
    @return true if the object is in the list</div>
<a id="L454" name="L454"></a> 454   <strong class="reserved">private</strong>  <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<strong class="reserved">int</strong> s)
<a id="L455" name="L455"></a> 455   <em class="brace">{</em>
<a id="L456" name="L456"></a> 456     <strong class="reserved">return</strong> (<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(s,0) &gt;= 0);
<a id="L457" name="L457"></a> 457   <em class="brace">}</em>
<a id="L458" name="L458"></a> 458 
<div class="comment">
    Searches for the first occurence of the given argument,
    beginning the search at index, and testing for equality
    using the equals method.
    @param elem object to look for
    @param index Index of where to begin search
    @return the index of the first occurrence of the object
    argument in this vector at position index or later in the
    vector; returns -1 if the object is not found.</div>
<a id="L470" name="L470"></a> 470   <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20511.html" title="Multiple referred from 769 places.">indexOf</a>(<strong class="reserved">int</strong> elem, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)
<a id="L471" name="L471"></a> 471   <em class="brace">{</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">if</strong>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;=m_firstFree)
<a id="L473" name="L473"></a> 473                 <strong class="reserved">return</strong> -1;
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475     <strong class="reserved">int</strong> bindex=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;&gt;&gt;m_SHIFT;
<a id="L476" name="L476"></a> 476     <strong class="reserved">int</strong> boffset=<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&amp;m_MASK;
<a id="L477" name="L477"></a> 477     <strong class="reserved">int</strong> maxindex=m_firstFree&gt;&gt;&gt;m_SHIFT;
<a id="L478" name="L478"></a> 478     <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>;
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480     <strong class="reserved">for</strong>(;bindex&lt;maxindex;++bindex)
<a id="L481" name="L481"></a> 481     <em class="brace">{</em>
<a id="L482" name="L482"></a> 482       <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[bindex];
<a id="L483" name="L483"></a> 483       <strong class="reserved">if</strong>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>!=<strong class="reserved">null</strong>)
<a id="L484" name="L484"></a> 484         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=boffset;<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>&lt;m_blocksize;++<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>)
<a id="L485" name="L485"></a> 485           <strong class="reserved">if</strong>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]==elem)
<a id="L486" name="L486"></a> 486             <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+bindex*m_blocksize;
<a id="L487" name="L487"></a> 487       boffset=0; <em class="comment">// after first</em>
<a id="L488" name="L488"></a> 488     <em class="brace">}</em>
<a id="L489" name="L489"></a> 489     <em class="comment">// Last block may need to stop before end</em>
<a id="L490" name="L490"></a> 490     <strong class="reserved">int</strong> maxoffset=m_firstFree&amp;m_MASK;
<a id="L491" name="L491"></a> 491     <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[maxindex];
<a id="L492" name="L492"></a> 492     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=boffset;<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>&lt;maxoffset;++<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>)
<a id="L493" name="L493"></a> 493       <strong class="reserved">if</strong>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]==elem)
<a id="L494" name="L494"></a> 494         <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+maxindex*m_blocksize;
<a id="L495" name="L495"></a> 495 
<a id="L496" name="L496"></a> 496     <strong class="reserved">return</strong> -1;
<a id="L497" name="L497"></a> 497   <em class="brace">}</em>
<a id="L498" name="L498"></a> 498 
<div class="comment">
    Searches for the first occurence of the given argument,
    beginning the search at index, and testing for equality
    using the equals method.
    @param elem object to look for
    @return the index of the first occurrence of the object
    argument in this vector at position index or later in the
    vector; returns -1 if the object is not found.</div>
<a id="L509" name="L509"></a> 509   <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20511.html" title="Multiple referred from 769 places.">indexOf</a>(<strong class="reserved">int</strong> elem)
<a id="L510" name="L510"></a> 510   <em class="brace">{</em>
<a id="L511" name="L511"></a> 511     <strong class="reserved">return</strong> <a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(elem,0);
<a id="L512" name="L512"></a> 512   <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<div class="comment">
    Searches for the first occurence of the given argument,
    beginning the search at index, and testing for equality
    using the equals method.
    @param elem Object to look for
    @return the index of the first occurrence of the object
    argument in this vector at position index or later in the
    vector; returns -1 if the object is not found.</div>
<a id="L524" name="L524"></a> 524   <strong class="reserved">private</strong>  <strong class="reserved">int</strong> <a href="../R/22418.html" title="Multiple referred from 221 places.">lastIndexOf</a>(<strong class="reserved">int</strong> elem)
<a id="L525" name="L525"></a> 525   <em class="brace">{</em>
<a id="L526" name="L526"></a> 526     <strong class="reserved">int</strong> boffset=m_firstFree&amp;m_MASK;
<a id="L527" name="L527"></a> 527     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>=m_firstFree&gt;&gt;&gt;m_SHIFT;
<a id="L528" name="L528"></a> 528         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>&gt;=0;
<a id="L529" name="L529"></a> 529         --<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)
<a id="L530" name="L530"></a> 530     <em class="brace">{</em>
<a id="L531" name="L531"></a> 531       <strong class="reserved">int</strong>[] <a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>=m_map[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L532" name="L532"></a> 532       <strong class="reserved">if</strong>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>!=<strong class="reserved">null</strong>)
<a id="L533" name="L533"></a> 533         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>=boffset; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>&gt;=0; --<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>)
<a id="L534" name="L534"></a> 534           <strong class="reserved">if</strong>(<a href="../D/11878.html" title="Multiple defined in 4 places.">block</a>[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>]==elem)
<a id="L535" name="L535"></a> 535             <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>*m_blocksize;
<a id="L536" name="L536"></a> 536       boffset=0; <em class="comment">// after first</em>
<a id="L537" name="L537"></a> 537     <em class="brace">}</em>
<a id="L538" name="L538"></a> 538     <strong class="reserved">return</strong> -1;
<a id="L539" name="L539"></a> 539   <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<div class="comment">
    Return the internal m_map0 array
    @return the m_map0 array</div>
<a id="L545" name="L545"></a> 545   <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong>[] <a href="../R/17545.html" title="Multiple referred from 4 places.">getMap0</a>()
<a id="L546" name="L546"></a> 546   <em class="brace">{</em>
<a id="L547" name="L547"></a> 547     <strong class="reserved">return</strong> m_map0;
<a id="L548" name="L548"></a> 548   <em class="brace">}</em>
<a id="L549" name="L549"></a> 549 
<div class="comment">
    Return the m_map double array
    @return the internal map of array of arrays</div>
<a id="L554" name="L554"></a> 554   <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong>[][] <a href="../R/17544.html" title="Multiple referred from 12 places.">getMap</a>()
<a id="L555" name="L555"></a> 555   <em class="brace">{</em>
<a id="L556" name="L556"></a> 556     <strong class="reserved">return</strong> m_map;
<a id="L557" name="L557"></a> 557   <em class="brace">}</em>
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L125">[^]</a><a href="#L554">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>