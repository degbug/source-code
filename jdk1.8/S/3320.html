<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/html/HTMLDocument.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L321">[^]</a><a href="#L4194">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L321" title="Defined at 321.">getReader</a></li>
<li><a href="#L350" title="Defined at 350.">getReader</a></li>
<li><a href="#L375" title="Defined at 375.">getReader</a></li>
<li><a href="#L397" title="Defined at 397.">getBase</a></li>
<li><a href="#L411" title="Defined at 411.">setBase</a></li>
<li><a href="#L430" title="Defined at 430.">insert</a></li>
<li><a href="#L443" title="Defined at 443.">insertUpdate</a></li>
<li><a href="#L468" title="Defined at 468.">create</a></li>
<li><a href="#L485" title="Defined at 485.">setParagraphAttributes</a></li>
<li><a href="#L530" title="Defined at 530.">getStyleSheet</a></li>
<li><a href="#L544" title="Defined at 544.">getIterator</a></li>
<li><a href="#L564" title="Defined at 564.">createLeafElement</a></li>
<li><a href="#L577" title="Defined at 577.">createBranchElement</a></li>
<li><a href="#L587" title="Defined at 587.">createDefaultRoot</a></li>
<li><a href="#L623" title="Defined at 623.">setTokenThreshold</a></li>
<li><a href="#L634" title="Defined at 634.">getTokenThreshold</a></li>
<li><a href="#L651" title="Defined at 651.">setPreservesUnknownTags</a></li>
<li><a href="#L662" title="Defined at 662.">getPreservesUnknownTags</a></li>
<li><a href="#L706" title="Defined at 706.">processHTMLFrameHyperlinkEvent</a></li>
<li><a href="#L743" title="Defined at 743.">findFrame</a></li>
<li><a href="#L768" title="Defined at 768.">matchNameAttribute</a></li>
<li><a href="#L786" title="Defined at 786.">updateFrameSet</a></li>
<li><a href="#L812" title="Defined at 812.">updateFrame</a></li>
<li><a href="#L837" title="Defined at 837.">isFrameDocument</a></li>
<li><a href="#L847" title="Defined at 847.">setFrameDocumentState</a></li>
<li><a href="#L857" title="Defined at 857.">addMap</a></li>
<li><a href="#L877" title="Defined at 877.">removeMap</a></li>
<li><a href="#L895" title="Defined at 895.">getMap</a></li>
<li><a href="#L911" title="Defined at 911.">getMaps</a></li>
<li><a href="#L926" title="Defined at 926.">setDefaultStyleSheetType</a></li>
<li><a href="#L936" title="Defined at 936.">getDefaultStyleSheetType</a></li>
<li><a href="#L956" title="Defined at 956.">setParser</a></li>
<li><a href="#L968" title="Defined at 968.">getParser</a></li>
<li><a href="#L1026" title="Defined at 1026.">setInnerHTML</a></li>
<li><a href="#L1103" title="Defined at 1103.">setOuterHTML</a></li>
<li><a href="#L1181" title="Defined at 1181.">insertAfterStart</a></li>
<li><a href="#L1251" title="Defined at 1251.">insertBeforeEnd</a></li>
<li><a href="#L1314" title="Defined at 1314.">insertBeforeStart</a></li>
<li><a href="#L1372" title="Defined at 1372.">insertAfterEnd</a></li>
<li><a href="#L1419" title="Defined at 1419.">getElement</a></li>
<li><a href="#L1441" title="Defined at 1441.">getElement</a></li>
<li><a href="#L1462" title="Defined at 1462.">getElement</a></li>
<li><a href="#L1512" title="Defined at 1512.">verifyParser</a></li>
<li><a href="#L1521" title="Defined at 1521.">installParserIfNecessary</a></li>
<li><a href="#L1533" title="Defined at 1533.">insertHTML</a></li>
<li><a href="#L1582" title="Defined at 1582.">removeElements</a></li>
<li><a href="#L1608" title="Defined at 1608.">removeElementsAtEnd</a></li>
<li><a href="#L1658" title="Defined at 1658.">replace</a></li>
<li><a href="#L1689" title="Defined at 1689.">removeElements</a></li>
<li><a href="#L1716" title="Defined at 1716.">obtainLock</a></li>
<li><a href="#L1720" title="Defined at 1720.">releaseLock</a></li>
<li><a href="#L1737" title="Defined at 1737.">fireChangedUpdate</a></li>
<li><a href="#L1750" title="Defined at 1750.">fireUndoableEditUpdate</a></li>
<li><a href="#L1754" title="Defined at 1754.">hasBaseTag</a></li>
<li><a href="#L1758" title="Defined at 1758.">getBaseTarget</a></li>
<li><a href="#L1871" title="Defined at 1871.">getAttributes</a></li>
<li><a href="#L1879" title="Defined at 1879.">getStartOffset</a></li>
<li><a href="#L1887" title="Defined at 1887.">getEndOffset</a></li>
<li><a href="#L1893" title="Defined at 1893.">next</a></li>
<li><a href="#L1902" title="Defined at 1902.">isValid</a></li>
<li><a href="#L1907" title="Defined at 1907.">getTag</a></li>
<li><a href="#L1927" title="Defined at 1927.">getAttributes</a></li>
<li><a href="#L1946" title="Defined at 1946.">getStartOffset</a></li>
<li><a href="#L1960" title="Defined at 1960.">getEndOffset</a></li>
<li><a href="#L1968" title="Defined at 1968.">next</a></li>
<li><a href="#L1991" title="Defined at 1991.">getTag</a></li>
<li><a href="#L2000" title="Defined at 2000.">isValid</a></li>
<li><a href="#L2008" title="Defined at 2008.">nextLeaf</a></li>
<li><a href="#L2021" title="Defined at 2021.">setEndOffset</a></li>
<li><a href="#L2357" title="Defined at 2357.">generateEndsSpecsForMidInsert</a></li>
<li><a href="#L2407" title="Defined at 2407.">depthTo</a></li>
<li><a href="#L2424" title="Defined at 2424.">heightToElementWithName</a></li>
<li><a href="#L2440" title="Defined at 2440.">adjustEndElement</a></li>
<li><a href="#L2513" title="Defined at 2513.">getPathTo</a></li>
<li><a href="#L2534" title="Defined at 2534.">flush</a></li>
<li><a href="#L2552" title="Defined at 2552.">handleText</a></li>
<li><a href="#L2602" title="Defined at 2602.">handleStartTag</a></li>
<li><a href="#L2637" title="Defined at 2637.">handleComment</a></li>
<li><a href="#L2671" title="Defined at 2671.">addExternalComment</a></li>
<li><a href="#L2688" title="Defined at 2688.">handleEndTag</a></li>
<li><a href="#L2711" title="Defined at 2711.">handleSimpleTag</a></li>
<li><a href="#L2746" title="Defined at 2746.">handleEndOfLineString</a></li>
<li><a href="#L2761" title="Defined at 2761.">registerTag</a></li>
<li><a href="#L2781" title="Defined at 2781.">start</a></li>
<li><a href="#L2792" title="Defined at 2792.">end</a></li>
<li><a href="#L2799" title="Defined at 2799.">start</a></li>
<li><a href="#L2803" title="Defined at 2803.">end</a></li>
<li><a href="#L2814" title="Defined at 2814.">start</a></li>
<li><a href="#L2825" title="Defined at 2825.">end</a></li>
<li><a href="#L2836" title="Defined at 2836.">start</a></li>
<li><a href="#L2841" title="Defined at 2841.">end</a></li>
<li><a href="#L2849" title="Defined at 2849.">start</a></li>
<li><a href="#L2857" title="Defined at 2857.">start</a></li>
<li><a href="#L2868" title="Defined at 2868.">start</a></li>
<li><a href="#L2872" title="Defined at 2872.">end</a></li>
<li><a href="#L2880" title="Defined at 2880.">isEmpty</a></li>
<li><a href="#L2896" title="Defined at 2896.">start</a></li>
<li><a href="#L2915" title="Defined at 2915.">isEmpty</a></li>
<li><a href="#L2929" title="Defined at 2929.">start</a></li>
<li><a href="#L2942" title="Defined at 2942.">end</a></li>
<li><a href="#L2979" title="Defined at 2979.">isEmpty</a></li>
<li><a href="#L2983" title="Defined at 2983.">handleLink</a></li>
<li><a href="#L3028" title="Defined at 3028.">start</a></li>
<li><a href="#L3047" title="Defined at 3047.">start</a></li>
<li><a href="#L3052" title="Defined at 3052.">end</a></li>
<li><a href="#L3059" title="Defined at 3059.">start</a></li>
<li><a href="#L3065" title="Defined at 3065.">end</a></li>
<li><a href="#L3072" title="Defined at 3072.">start</a></li>
<li><a href="#L3083" title="Defined at 3083.">end</a></li>
<li><a href="#L3087" title="Defined at 3087.">isEmpty</a></li>
<li><a href="#L3095" title="Defined at 3095.">start</a></li>
<li><a href="#L3102" title="Defined at 3102.">end</a></li>
<li><a href="#L3113" title="Defined at 3113.">start</a></li>
<li><a href="#L3139" title="Defined at 3139.">end</a></li>
<li><a href="#L3151" title="Defined at 3151.">start</a></li>
<li><a href="#L3219" title="Defined at 3219.">end</a></li>
<li><a href="#L3227" title="Defined at 3227.">start</a></li>
<li><a href="#L3233" title="Defined at 3233.">end</a></li>
<li><a href="#L3248" title="Defined at 3248.">start</a></li>
<li><a href="#L3253" title="Defined at 3253.">end</a></li>
<li><a href="#L3258" title="Defined at 3258.">isEmpty</a></li>
<li><a href="#L3266" title="Defined at 3266.">start</a></li>
<li><a href="#L3282" title="Defined at 3282.">start</a></li>
<li><a href="#L3290" title="Defined at 3290.">end</a></li>
<li><a href="#L3296" title="Defined at 3296.">addParameter</a></li>
<li><a href="#L3358" title="Defined at 3358.">start</a></li>
<li><a href="#L3420" title="Defined at 3420.">end</a></li>
<li><a href="#L3442" title="Defined at 3442.">setModel</a></li>
<li><a href="#L3512" title="Defined at 3512.">pushCharacterStyle</a></li>
<li><a href="#L3520" title="Defined at 3520.">popCharacterStyle</a></li>
<li><a href="#L3534" title="Defined at 3534.">textAreaContent</a></li>
<li><a href="#L3548" title="Defined at 3548.">preContent</a></li>
<li><a href="#L3569" title="Defined at 3569.">blockOpen</a></li>
<li><a href="#L3593" title="Defined at 3593.">blockClose</a></li>
<li><a href="#L3642" title="Defined at 3642.">addContent</a></li>
<li><a href="#L3655" title="Defined at 3655.">addContent</a></li>
<li><a href="#L3691" title="Defined at 3691.">addSpecialElement</a></li>
<li><a href="#L3724" title="Defined at 3724.">flushBuffer</a></li>
<li><a href="#L3749" title="Defined at 3749.">adjustEndSpecsForPartialInsert</a></li>
<li><a href="#L3826" title="Defined at 3826.">addCSSRules</a></li>
<li><a href="#L3835" title="Defined at 3835.">linkCSSStyleSheet</a></li>
<li><a href="#L3856" title="Defined at 3856.">canInsertTag</a></li>
<li><a href="#L3899" title="Defined at 3899.">isInsertTag</a></li>
<li><a href="#L3903" title="Defined at 3903.">foundInsertTag</a></li>
<li><a href="#L4119" title="Defined at 4119.">getName</a></li>
<li><a href="#L4134" title="Defined at 4134.">getResolveParent</a></li>
<li><a href="#L4162" title="Defined at 4162.">getName</a></li>
<li><a href="#L4177" title="Defined at 4177.">getResolveParent</a></li>
<li><a href="#L4194" title="Defined at 4194.">insertString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.html;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.awt.font.TextAttribute;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.net.URL;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.*;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.swing.*;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.swing.text.*;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.swing.undo.*;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> sun.swing.SwingUtilities2;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> static sun.swing.SwingUtilities2.IMPLIED_CR;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  A document that models HTML.  The purpose of this model is to
  support both browsing and editing.  As a result, the structure
  described by an HTML document is not exactly replicated by default.
  The element structure that is modeled by default, is built by the
  class <code>HTMLDocument.HTMLReader</code>, which implements the
  <code>HTMLEditorKit.ParserCallback</code> protocol that the parser
  expects.  To change the structure one can subclass
  <code>HTMLReader</code>, and reimplement the method {@link
  #getReader(int)} to return the new reader implementation.  The
  documentation for <code>HTMLReader</code> should be consulted for
  the details of the default structure created.  The intent is that
  the document be non-lossy (although reproducing the HTML format may
  result in a different format).
  <p>The document models only HTML, and makes no attempt to store
  view attributes in it.  The elements are identified by the
  <code>StyleContext.NameAttribute</code> attribute, which should
  always have a value of type <code>HTML.Tag</code> that identifies
  the kind of element.  Some of the elements (such as comments) are
  synthesized.  The <code>HTMLFactory</code> uses this attribute to
  determine what kind of view to build.</p>
  <p>This document supports incremental loading.  The
  <code>TokenThreshold</code> property controls how much of the parse
  is buffered before trying to update the element structure of the
  document.  This property is set by the <code>EditorKit</code> so
  that subclasses can disable it.</p>
  <p>The <code>Base</code> property determines the URL against which
  relative URLs are resolved.  By default, this will be the
  <code>Document.StreamDescriptionProperty</code> if the value of the
  property is a URL.  If a &lt;BASE&gt; tag is encountered, the base
  will become the URL specified by that tag.  Because the base URL is
  a property, it can of course be set directly.</p>
  <p>The default content storage mechanism for this document is a gap
  buffer (<code>GapContent</code>).  Alternatives can be supplied by
  using the constructor that takes a <code>Content</code>
  implementation.</p>
  <h2>Modifying HTMLDocument</h2>
  <p>In addition to the methods provided by Document and
  StyledDocument for mutating an HTMLDocument, HTMLDocument provides
  a number of convenience methods.  The following methods can be used
  to insert HTML content into an existing document.</p>
  <ul><li>{@link #setInnerHTML(Element, String)}</li><li>{@link #setOuterHTML(Element, String)}</li><li>{@link #insertBeforeStart(Element, String)}</li><li>{@link #insertAfterStart(Element, String)}</li><li>{@link #insertBeforeEnd(Element, String)}</li><li>{@link #insertAfterEnd(Element, String)}</li>
  </ul>
  <p>The following examples illustrate using these methods.  Each
  example assumes the HTML document is initialized in the following
  way:</p>
  <pre>  JEditorPane p = new JEditorPane();
  p.setContentType("text/html");
  p.setText("..."); // Document text is provided below.
  HTMLDocument d = (HTMLDocument) p.getDocument();
  </pre>
  <p>With the following HTML content:</p>
  <pre>  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;An example HTMLDocument&lt;/title&gt;
      &lt;style type="text/css"&gt;
        div { background-color: silver; }
        ul { color: red; }
      &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;div id="BOX"&gt;
        &lt;p&gt;Paragraph 1&lt;/p&gt;
        &lt;p&gt;Paragraph 2&lt;/p&gt;
      &lt;/div&gt;
    &lt;/body&gt;
  &lt;/html&gt;
  </pre>
  <p>All the methods for modifying an HTML document require an {@link
  Element}.  Elements can be obtained from an HTML document by using
  the method {@link #getElement(Element e, Object attribute, Object
  value)}.  It returns the first descendant element that contains the
  specified attribute with the given value, in depth-first order.
  For example, <code>d.getElement(d.getDefaultRootElement(),
  StyleConstants.NameAttribute, HTML.Tag.P)</code> returns the first
  paragraph element.</p>
  <p>A convenient shortcut for locating elements is the method {@link
  #getElement(String)}; returns an element whose <code>ID</code>
  attribute matches the specified value.  For example,
  <code>d.getElement("BOX")</code> returns the <code>DIV</code>
  element.</p>
  <p>The {@link #getIterator(HTML.Tag t)} method can also be used for
  finding all occurrences of the specified HTML tag in the
  document.</p>
  <h3>Inserting elements</h3>
  <p>Elements can be inserted before or after the existing children
  of any non-leaf element by using the methods
  <code>insertAfterStart</code> and <code>insertBeforeEnd</code>.
  For example, if <code>e</code> is the <code>DIV</code> element,
  <code>d.insertAfterStart(e, "&lt;ul&gt;&lt;li&gt;List
  Item&lt;/li&gt;&lt;/ul&gt;")</code> inserts the list before the first
  paragraph, and <code>d.insertBeforeEnd(e, "&lt;ul&gt;&lt;li&gt;List
  Item&lt;/li&gt;&lt;/ul&gt;")</code> inserts the list after the last
  paragraph.  The <code>DIV</code> block becomes the parent of the
  newly inserted elements.</p>
  <p>Sibling elements can be inserted before or after any element by
  using the methods <code>insertBeforeStart</code> and
  <code>insertAfterEnd</code>.  For example, if <code>e</code> is the
  <code>DIV</code> element, <code>d.insertBeforeStart(e,
  "&lt;ul&gt;&lt;li&gt;List Item&lt;/li&gt;&lt;/ul&gt;")</code> inserts the list
  before the <code>DIV</code> element, and <code>d.insertAfterEnd(e,
  "&lt;ul&gt;&lt;li&gt;List Item&lt;/li&gt;&lt;/ul&gt;")</code> inserts the list
  after the <code>DIV</code> element.  The newly inserted elements
  become siblings of the <code>DIV</code> element.</p>
  <h3>Replacing elements</h3>
  <p>Elements and all their descendants can be replaced by using the
  methods <code>setInnerHTML</code> and <code>setOuterHTML</code>.
  For example, if <code>e</code> is the <code>DIV</code> element,
  <code>d.setInnerHTML(e, "&lt;ul&gt;&lt;li&gt;List
  Item&lt;/li&gt;&lt;/ul&gt;")</code> replaces all children paragraphs with
  the list, and <code>d.setOuterHTML(e, "&lt;ul&gt;&lt;li&gt;List
  Item&lt;/li&gt;&lt;/ul&gt;")</code> replaces the <code>DIV</code> element
  itself.  In latter case the parent of the list is the
  <code>BODY</code> element.
  </p><h3>Summary</h3>
  <p>The following table shows the example document and the results
  of various methods described above.</p>
  <table border="1" cellspacing="0">
    <tbody><tr>
      <th>Example</th>
      <th><code>insertAfterStart</code></th>
      <th><code>insertBeforeEnd</code></th>
      <th><code>insertBeforeStart</code></th>
      <th><code>insertAfterEnd</code></th>
      <th><code>setInnerHTML</code></th>
      <th><code>setOuterHTML</code></th>
    </tr>
    <tr valign="top">
      <td style="white-space:nowrap">
        <div style="background-color: silver;">
          <p>Paragraph 1</p>
          <p>Paragraph 2</p>
        </div>
      </td>
  <!--insertAfterStart-->
      <td style="white-space:nowrap">
        <div style="background-color: silver;">
          <ul style="color: red;">
            <li>List Item</li>
          </ul>
          <p>Paragraph 1</p>
          <p>Paragraph 2</p>
        </div>
      </td>
  <!--insertBeforeEnd-->
      <td style="white-space:nowrap">
        <div style="background-color: silver;">
          <p>Paragraph 1</p>
          <p>Paragraph 2</p>
          <ul style="color: red;">
            <li>List Item</li>
          </ul>
        </div>
      </td>
  <!--insertBeforeStart-->
      <td style="white-space:nowrap">
        <ul style="color: red;">
          <li>List Item</li>
        </ul>
        <div style="background-color: silver;">
          <p>Paragraph 1</p>
          <p>Paragraph 2</p>
        </div>
      </td>
  <!--insertAfterEnd-->
      <td style="white-space:nowrap">
        <div style="background-color: silver;">
          <p>Paragraph 1</p>
          <p>Paragraph 2</p>
        </div>
        <ul style="color: red;">
          <li>List Item</li>
        </ul>
      </td>
  <!--setInnerHTML-->
      <td style="white-space:nowrap">
        <div style="background-color: silver;">
          <ul style="color: red;">
            <li>List Item</li>
          </ul>
        </div>
      </td>
  <!--setOuterHTML-->
      <td style="white-space:nowrap">
        <ul style="color: red;">
          <li>List Item</li>
        </ul>
      </td>
    </tr>
  </tbody></table>
  <p><strong>Warning:</strong> Serialized objects of this class will
  not be compatible with future Swing releases. The current
  serialization support is appropriate for short term storage or RMI
  between applications running the same version of Swing.  As of 1.4,
  support for long term storage of all JavaBeans™
  has been added to the
  <code>java.beans</code> package.  Please see {@link
  java.beans.XMLEncoder}.</p>
  @author  Timothy Prinzing
  @author  Scott Violet
  @author  Sunita Mani</div>
<a id="L273" name="L273"></a> 273 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/3359.html" title="Multiple referred from 93 places.">HTMLDocument</a> <strong class="reserved">extends</strong> <a href="../S/3328.html#L72" title="Defined at 72 in src/javax/swing/text/DefaultStyledDocument.java.">DefaultStyledDocument</a> <em class="brace">{</em>
<div class="comment">
      Constructs an HTML document using the default buffer size
      and a default <code>StyleSheet</code>.  This is a convenience
      method for the constructor
      <code>HTMLDocument(Content, StyleSheet)</code>.</div>
<a id="L280" name="L280"></a> 280     <strong class="reserved">public</strong> HTMLDocument() <em class="brace">{</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">this</strong>(<strong class="reserved">new</strong> <a href="../S/3248.html#L61" title="Defined at 61 in src/javax/swing/text/GapContent.java.">GapContent</a>(BUFFER_SIZE_DEFAULT), <strong class="reserved">new</strong> <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a>());
<a id="L282" name="L282"></a> 282     <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<div class="comment">
      Constructs an HTML document with the default content
      storage implementation and the specified style/attribute
      storage mechanism.  This is a convenience method for the
      constructor
      <code>HTMLDocument(Content, StyleSheet)</code>.
      @param styles  the styles</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">public</strong> HTMLDocument(<a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> styles) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">this</strong>(<strong class="reserved">new</strong> <a href="../S/3248.html#L61" title="Defined at 61 in src/javax/swing/text/GapContent.java.">GapContent</a>(BUFFER_SIZE_DEFAULT), styles);
<a id="L295" name="L295"></a> 295     <em class="brace">}</em>
<a id="L296" name="L296"></a> 296 
<div class="comment">
      Constructs an HTML document with the given content
      storage implementation and the given style/attribute
      storage mechanism.
      @param c  the container for the content
      @param styles the styles</div>
<a id="L305" name="L305"></a> 305     <strong class="reserved">public</strong> HTMLDocument(<a href="../S/3268.html#L1586" title="Defined at 1586 in src/javax/swing/text/AbstractDocument.java.">Content</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> styles) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306         <strong class="reserved">super</strong>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, styles);
<a id="L307" name="L307"></a> 307     <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
      Fetches the reader for the parser to use when loading the document
      with HTML.  This is implemented to return an instance of
      <code>HTMLDocument.HTMLReader</code>.
      Subclasses can reimplement this
      method to change how the document gets structured if desired.
      (For example, to handle custom tags, or structurally represent character
      style elements.)
      @param pos the starting position
      @return the reader used by the parser to load the document</div>
<a id="L321" name="L321"></a> 321     <strong class="reserved">public</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../S/3322.html#L989" title="Defined at 989 in src/javax/swing/text/html/HTMLEditorKit.java.">ParserCallback</a> <a href="../R/18611.html" title="Multiple referred from 15 places.">getReader</a>(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> desc = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>.StreamDescriptionProperty);
<a id="L323" name="L323"></a> 323         <strong class="reserved">if</strong> (desc <strong class="reserved">instanceof</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324             <a href="../D/31983.html" title="Multiple defined in 2 places.">setBase</a>((<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>)desc);
<a id="L325" name="L325"></a> 325         <em class="brace">}</em>
<a id="L326" name="L326"></a> 326         <a href="../S/3320.html#L2185" title="Defined at 2185 in src/javax/swing/text/html/HTMLDocument.java.">HTMLReader</a> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a> = <strong class="reserved">new</strong> <a href="../S/3320.html#L2185" title="Defined at 2185 in src/javax/swing/text/html/HTMLDocument.java.">HTMLReader</a>(pos);
<a id="L327" name="L327"></a> 327         <strong class="reserved">return</strong> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>;
<a id="L328" name="L328"></a> 328     <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<div class="comment">
      Returns the reader for the parser to use to load the document
      with HTML.  This is implemented to return an instance of
      <code>HTMLDocument.HTMLReader</code>.
      Subclasses can reimplement this
      method to change how the document gets structured if desired.
      (For example, to handle custom tags, or structurally represent character
      style elements.)
      <p>This is a convenience method for
      <code>getReader(int, int, int, HTML.Tag, TRUE)</code>.
      @param popDepth   the number of <code>ElementSpec.EndTagTypes</code>
               to generate before inserting
      @param pushDepth  the number of <code>ElementSpec.StartTagTypes</code>
               with a direction of <code>ElementSpec.JoinNextDirection</code>
               that should be generated before inserting,
               but after the end tags have been generated
      @param insertTag  the first tag to start inserting into document
      @return the reader used by the parser to load the document</p></div>
<a id="L350" name="L350"></a> 350     <strong class="reserved">public</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../S/3322.html#L989" title="Defined at 989 in src/javax/swing/text/html/HTMLEditorKit.java.">ParserCallback</a> <a href="../R/18611.html" title="Multiple referred from 15 places.">getReader</a>(<strong class="reserved">int</strong> pos, <strong class="reserved">int</strong> popDepth,
<a id="L351" name="L351"></a> 351                                                   <strong class="reserved">int</strong> pushDepth,
<a id="L352" name="L352"></a> 352                                                   <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> insertTag) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353         <strong class="reserved">return</strong> <a href="../D/21876.html" title="Multiple defined in 7 places.">getReader</a>(pos, popDepth, pushDepth, insertTag, <strong class="reserved">true</strong>);
<a id="L354" name="L354"></a> 354     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<div class="comment">
      Fetches the reader for the parser to use to load the document
      with HTML.  This is implemented to return an instance of
      HTMLDocument.HTMLReader.  Subclasses can reimplement this
      method to change how the document get structured if desired
      (e.g. to handle custom tags, structurally represent character
      style elements, etc.).
      @param popDepth   the number of <code>ElementSpec.EndTagTypes</code>
               to generate before inserting
      @param pushDepth  the number of <code>ElementSpec.StartTagTypes</code>
               with a direction of <code>ElementSpec.JoinNextDirection</code>
               that should be generated before inserting,
               but after the end tags have been generated
      @param insertTag  the first tag to start inserting into document
      @param insertInsertTag  false if all the Elements after insertTag should
             be inserted; otherwise insertTag will be inserted
      @return the reader used by the parser to load the document</div>
<a id="L375" name="L375"></a> 375     <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../S/3322.html#L989" title="Defined at 989 in src/javax/swing/text/html/HTMLEditorKit.java.">ParserCallback</a> <a href="../R/18611.html" title="Multiple referred from 15 places.">getReader</a>(<strong class="reserved">int</strong> pos, <strong class="reserved">int</strong> popDepth,
<a id="L376" name="L376"></a> 376                                            <strong class="reserved">int</strong> pushDepth,
<a id="L377" name="L377"></a> 377                                            <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> insertTag,
<a id="L378" name="L378"></a> 378                                            <strong class="reserved">boolean</strong> insertInsertTag) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> desc = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>.StreamDescriptionProperty);
<a id="L380" name="L380"></a> 380         <strong class="reserved">if</strong> (desc <strong class="reserved">instanceof</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>) <em class="brace">{</em>
<a id="L381" name="L381"></a> 381             <a href="../D/31983.html" title="Multiple defined in 2 places.">setBase</a>((<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>)desc);
<a id="L382" name="L382"></a> 382         <em class="brace">}</em>
<a id="L383" name="L383"></a> 383         <a href="../S/3320.html#L2185" title="Defined at 2185 in src/javax/swing/text/html/HTMLDocument.java.">HTMLReader</a> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a> = <strong class="reserved">new</strong> <a href="../S/3320.html#L2185" title="Defined at 2185 in src/javax/swing/text/html/HTMLDocument.java.">HTMLReader</a>(pos, popDepth, pushDepth,
<a id="L384" name="L384"></a> 384                                            insertTag, insertInsertTag, <strong class="reserved">false</strong>,
<a id="L385" name="L385"></a> 385                                            <strong class="reserved">true</strong>);
<a id="L386" name="L386"></a> 386         <strong class="reserved">return</strong> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>;
<a id="L387" name="L387"></a> 387     <em class="brace">}</em>
<a id="L388" name="L388"></a> 388 
<div class="comment">
      Returns the location to resolve relative URLs against.  By
      default this will be the document's URL if the document
      was loaded from a URL.  If a base tag is found and
      can be parsed, it will be used as the base location.
      @return the base location</div>
<a id="L397" name="L397"></a> 397     <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/15221.html" title="Multiple referred from 16 places.">getBase</a>() <em class="brace">{</em>
<a id="L398" name="L398"></a> 398         <strong class="reserved">return</strong> base;
<a id="L399" name="L399"></a> 399     <em class="brace">}</em>
<a id="L400" name="L400"></a> 400 
<div class="comment">
      Sets the location to resolve relative URLs against.  By
      default this will be the document's URL if the document
      was loaded from a URL.  If a base tag is found and
      can be parsed, it will be used as the base location.
      <p>This also sets the base of the <code>StyleSheet</code>
      to be <code>u</code> as well as the base of the document.
      @param u  the desired base URL</p></div>
<a id="L411" name="L411"></a> 411     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26937.html" title="Multiple referred from 5 places.">setBase</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412         base = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>;
<a id="L413" name="L413"></a> 413         <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>().<a href="../D/31983.html" title="Multiple defined in 2 places.">setBase</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L414" name="L414"></a> 414     <em class="brace">}</em>
<a id="L415" name="L415"></a> 415 
<div class="comment">
      Inserts new elements in bulk.  This is how elements get created
      in the document.  The parsing determines what structure is needed
      and creates the specification as a set of tokens that describe the
      edit while leaving the document free of a write-lock.  This method
      can then be called in bursts by the reader to acquire a write-lock
      for a shorter duration (i.e. while the document is actually being
      altered).
      @param offset the starting offset
      @param data the element data
      @exception BadLocationException  if the given position does not
        represent a valid location in the associated document.</div>
<a id="L430" name="L430"></a> 430     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20751.html" title="Multiple referred from 148 places.">insert</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">super</strong>.<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L432" name="L432"></a> 432     <em class="brace">}</em>
<a id="L433" name="L433"></a> 433 
<div class="comment">
      Updates document structure as a result of text insertion.  This
      will happen within a write lock.  This implementation simply
      parses the inserted content for line breaks and builds up a set
      of instructions for the element buffer.
      @param chng a description of the document change
      @param attr the attributes</div>
<a id="L443" name="L443"></a> 443     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> chng, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = contentAttributeSet;
<a id="L446" name="L446"></a> 446         <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<a id="L448" name="L448"></a> 448         <em class="comment">// If this is the composed text element, merge the content attribute to it</em>
<a id="L449" name="L449"></a> 449         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ComposedTextAttribute)) <em class="brace">{</em>
<a id="L450" name="L450"></a> 450             ((<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>).<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(contentAttributeSet);
<a id="L451" name="L451"></a> 451         <em class="brace">}</em>
<a id="L452" name="L452"></a> 452 
<a id="L453" name="L453"></a> 453         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED_CR)) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454             ((<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>).<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(IMPLIED_CR);
<a id="L455" name="L455"></a> 455         <em class="brace">}</em>
<a id="L456" name="L456"></a> 456 
<a id="L457" name="L457"></a> 457         <strong class="reserved">super</strong>.<a href="../D/24781.html" title="Multiple defined in 28 places.">insertUpdate</a>(chng, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L458" name="L458"></a> 458     <em class="brace">}</em>
<a id="L459" name="L459"></a> 459 
<div class="comment">
      Replaces the contents of the document with the given
      element specifications.  This is called before insert if
      the loading is done in bursts.  This is the only method called
      if loading the document entirely in one burst.
      @param data  the new contents of the document</div>
<a id="L468" name="L468"></a> 468     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/12190.html" title="Multiple referred from 234 places.">create</a>(<a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">super</strong>.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Sets attributes for a paragraph.
      <p>
      This method is thread safe, although most Swing methods
      are not. Please see
      <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">Concurrency
      in Swing</a> for more information.
      @param offset the offset into the paragraph (must be at least 0)
      @param length the number of characters affected (must be at least 0)
      @param s the attributes
      @param replace whether to replace existing attributes, or merge them</p></div>
<a id="L485" name="L485"></a> 485     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27905.html" title="Multiple referred from 4 places.">setParagraphAttributes</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> s,
<a id="L486" name="L486"></a> 486                                        <strong class="reserved">boolean</strong> <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L487" name="L487"></a> 487         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L489" name="L489"></a> 489             <em class="comment">// Make sure we send out a change for the length of the paragraph.</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L491" name="L491"></a> 491             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L492" name="L492"></a> 492             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = e.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L493" name="L493"></a> 493             e = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L494" name="L494"></a> 494             <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, e.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L495" name="L495"></a> 495             <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a> =
<a id="L496" name="L496"></a> 496                 <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L497" name="L497"></a> 497                                          <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.CHANGE);
<a id="L498" name="L498"></a> 498             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> sCopy = s.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>();
<a id="L499" name="L499"></a> 499             <strong class="reserved">int</strong> lastEnd = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L500" name="L500"></a> 500             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> pos = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>; pos &lt;= <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; pos = lastEnd) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> paragraph = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(pos);
<a id="L502" name="L502"></a> 502                 <strong class="reserved">if</strong> (lastEnd == paragraph.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503                     lastEnd++;
<a id="L504" name="L504"></a> 504                 <em class="brace">}</em>
<a id="L505" name="L505"></a> 505                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L506" name="L506"></a> 506                     lastEnd = paragraph.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L507" name="L507"></a> 507                 <em class="brace">}</em>
<a id="L508" name="L508"></a> 508                 <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> =
<a id="L509" name="L509"></a> 509                     (<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>) paragraph.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L510" name="L510"></a> 510                 <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<strong class="reserved">new</strong> <a href="../S/3328.html#L2520" title="Defined at 2520 in src/javax/swing/text/DefaultStyledDocument.java.">AttributeUndoableEdit</a>(paragraph, sCopy, <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>));
<a id="L511" name="L511"></a> 511                 <strong class="reserved">if</strong> (<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/30716.html" title="Multiple defined in 21 places.">removeAttributes</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L513" name="L513"></a> 513                 <em class="brace">}</em>
<a id="L514" name="L514"></a> 514                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(s);
<a id="L515" name="L515"></a> 515             <em class="brace">}</em>
<a id="L516" name="L516"></a> 516             <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L517" name="L517"></a> 517             <a href="../D/16316.html" title="Multiple defined in 2 places.">fireChangedUpdate</a>(<a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>);
<a id="L518" name="L518"></a> 518             <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>));
<a id="L519" name="L519"></a> 519         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L520" name="L520"></a> 520             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L521" name="L521"></a> 521         <em class="brace">}</em>
<a id="L522" name="L522"></a> 522     <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<div class="comment">
      Fetches the <code>StyleSheet</code> with the document-specific display
      rules (CSS) that were specified in the HTML document itself.
      @return the <code>StyleSheet</code></div>
<a id="L530" name="L530"></a> 530     <strong class="reserved">public</strong> <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> <a href="../R/19240.html" title="Multiple referred from 42 places.">getStyleSheet</a>() <em class="brace">{</em>
<a id="L531" name="L531"></a> 531         <strong class="reserved">return</strong> (<a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a>) <a href="../S/3268.html#L950" title="Defined at 950 in src/javax/swing/text/AbstractDocument.java.">getAttributeContext</a>();
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<div class="comment">
      Fetches an iterator for the specified HTML tag.
      This can be used for things like iterating over the
      set of anchors contained, or iterating over the input
      elements.
      @param t the requested <code>HTML.Tag</code>
      @return the <code>Iterator</code> for the given HTML tag
      @see javax.swing.text.html.HTML.Tag</div>
<a id="L544" name="L544"></a> 544     <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a> <a href="../R/17187.html" title="Multiple referred from 39 places.">getIterator</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L545" name="L545"></a> 545         <strong class="reserved">if</strong> (t.<a href="../S/3287.html#L91" title="Defined at 91 in src/javax/swing/text/html/HTML.java.">isBlock</a>()) <em class="brace">{</em>
<a id="L546" name="L546"></a> 546             <em class="comment">// TBD</em>
<a id="L547" name="L547"></a> 547             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L548" name="L548"></a> 548         <em class="brace">}</em>
<a id="L549" name="L549"></a> 549         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3320.html#L1913" title="Defined at 1913 in src/javax/swing/text/html/HTMLDocument.java.">LeafIterator</a>(t, <strong class="reserved">this</strong>);
<a id="L550" name="L550"></a> 550     <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<div class="comment">
      Creates a document leaf element that directly represents
      text (doesn't have any children).  This is implemented
      to return an element of type
      <code>HTMLDocument.RunElement</code>.
      @param parent the parent element
      @param a the attributes for the element
      @param p0 the beginning of the range (must be at least 0)
      @param p1 the end of the range (must be at least p0)
      @return the new element</div>
<a id="L564" name="L564"></a> 564     <strong class="reserved">protected</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12529.html" title="Multiple referred from 35 places.">createLeafElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> p0, <strong class="reserved">int</strong> p1) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3320.html#L4098" title="Defined at 4098 in src/javax/swing/text/html/HTMLDocument.java.">RunElement</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, p0, p1);
<a id="L566" name="L566"></a> 566     <em class="brace">}</em>
<a id="L567" name="L567"></a> 567 
<div class="comment">
      Creates a document branch element, that can contain other elements.
      This is implemented to return an element of type
      <code>HTMLDocument.BlockElement</code>.
      @param parent the parent element
      @param a the attributes
      @return the element</div>
<a id="L577" name="L577"></a> 577     <strong class="reserved">protected</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12235.html" title="Multiple referred from 9 places.">createBranchElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L579" name="L579"></a> 579     <em class="brace">}</em>
<a id="L580" name="L580"></a> 580 
<div class="comment">
      Creates the root element to be used to represent the
      default document structure.
      @return the element base</div>
<a id="L587" name="L587"></a> 587     <strong class="reserved">protected</strong> <a href="../S/3268.html#L1764" title="Defined at 1764 in src/javax/swing/text/AbstractDocument.java.">AbstractElement</a> <a href="../R/12348.html" title="Multiple referred from 2 places.">createDefaultRoot</a>() <em class="brace">{</em>
<a id="L588" name="L588"></a> 588         <em class="comment">// grabs a write-lock for this initialization and</em>
<a id="L589" name="L589"></a> 589         <em class="comment">// abandon it during initialization so in normal</em>
<a id="L590" name="L590"></a> 590         <em class="comment">// operation we can detect an illegitimate attempt</em>
<a id="L591" name="L591"></a> 591         <em class="comment">// to mutate attributes.</em>
<a id="L592" name="L592"></a> 592         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L593" name="L593"></a> 593         <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L594" name="L594"></a> 594         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>);
<a id="L595" name="L595"></a> 595         <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a> html = <strong class="reserved">new</strong> <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a>(<strong class="reserved">null</strong>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L596" name="L596"></a> 596         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/30716.html" title="Multiple defined in 21 places.">removeAttributes</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L597" name="L597"></a> 597         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY);
<a id="L598" name="L598"></a> 598         <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a> body = <strong class="reserved">new</strong> <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a>(html, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L599" name="L599"></a> 599         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/30716.html" title="Multiple defined in 21 places.">removeAttributes</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L600" name="L600"></a> 600         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.P);
<a id="L601" name="L601"></a> 601         <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>().<a href="../S/3315.html#L512" title="Defined at 512 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttributeFromHTML</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.MARGIN_TOP, "0");
<a id="L602" name="L602"></a> 602         <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a> paragraph = <strong class="reserved">new</strong> <a href="../S/3320.html#L4143" title="Defined at 4143 in src/javax/swing/text/html/HTMLDocument.java.">BlockElement</a>(body, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L603" name="L603"></a> 603         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/30716.html" title="Multiple defined in 21 places.">removeAttributes</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L604" name="L604"></a> 604         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L605" name="L605"></a> 605         <a href="../S/3320.html#L4098" title="Defined at 4098 in src/javax/swing/text/html/HTMLDocument.java.">RunElement</a> brk = <strong class="reserved">new</strong> <a href="../S/3320.html#L4098" title="Defined at 4098 in src/javax/swing/text/html/HTMLDocument.java.">RunElement</a>(paragraph, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, 0, 1);
<a id="L606" name="L606"></a> 606         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] buff = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[1];
<a id="L607" name="L607"></a> 607         buff[0] = brk;
<a id="L608" name="L608"></a> 608         paragraph.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0, 0, buff);
<a id="L609" name="L609"></a> 609         buff[0] = paragraph;
<a id="L610" name="L610"></a> 610         body.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0, 0, buff);
<a id="L611" name="L611"></a> 611         buff[0] = body;
<a id="L612" name="L612"></a> 612         html.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0, 0, buff);
<a id="L613" name="L613"></a> 613         <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L614" name="L614"></a> 614         <strong class="reserved">return</strong> html;
<a id="L615" name="L615"></a> 615     <em class="brace">}</em>
<a id="L616" name="L616"></a> 616 
<div class="comment">
      Sets the number of tokens to buffer before trying to update
      the documents element structure.
      @param n  the number of tokens to buffer</div>
<a id="L623" name="L623"></a> 623     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3322.html#L212" title="Referred from 212 in src/javax/swing/text/html/HTMLEditorKit.java.">setTokenThreshold</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L624" name="L624"></a> 624         <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(TokenThreshold, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(n));
<a id="L625" name="L625"></a> 625     <em class="brace">}</em>
<a id="L626" name="L626"></a> 626 
<div class="comment">
      Gets the number of tokens to buffer before trying to update
      the documents element structure.  The default value is
      <code>Integer.MAX_VALUE</code>.
      @return the number of tokens to buffer</div>
<a id="L634" name="L634"></a> 634     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/3320.html#L2210" title="Referred from 2210 in src/javax/swing/text/html/HTMLDocument.java.">getTokenThreshold</a>() <em class="brace">{</em>
<a id="L635" name="L635"></a> 635         <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> i = (<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(TokenThreshold);
<a id="L636" name="L636"></a> 636         <strong class="reserved">if</strong> (i != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L637" name="L637"></a> 637             <strong class="reserved">return</strong> i.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L638" name="L638"></a> 638         <em class="brace">}</em>
<a id="L639" name="L639"></a> 639         <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L640" name="L640"></a> 640     <em class="brace">}</em>
<a id="L641" name="L641"></a> 641 
<div class="comment">
      Determines how unknown tags are handled by the parser.
      If set to true, unknown
      tags are put in the model, otherwise they are dropped.
      @param preservesTags  true if unknown tags should be
               saved in the model, otherwise tags are dropped
      @see javax.swing.text.html.HTML.Tag</div>
<a id="L651" name="L651"></a> 651     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27954.html" title="Multiple referred from 2 places.">setPreservesUnknownTags</a>(<strong class="reserved">boolean</strong> preservesTags) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652         preservesUnknownTags = preservesTags;
<a id="L653" name="L653"></a> 653     <em class="brace">}</em>
<a id="L654" name="L654"></a> 654 
<div class="comment">
      Returns the behavior the parser observes when encountering
      unknown tags.
      @see javax.swing.text.html.HTML.Tag
      @return true if unknown tags are to be preserved when parsing</div>
<a id="L662" name="L662"></a> 662     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/18430.html" title="Multiple referred from 2 places.">getPreservesUnknownTags</a>() <em class="brace">{</em>
<a id="L663" name="L663"></a> 663         <strong class="reserved">return</strong> preservesUnknownTags;
<a id="L664" name="L664"></a> 664     <em class="brace">}</em>
<a id="L665" name="L665"></a> 665 
<div class="comment">
      Processes <code>HyperlinkEvents</code> that
      are generated by documents in an HTML frame.
      The <code>HyperlinkEvent</code> type, as the parameter suggests,
      is <code>HTMLFrameHyperlinkEvent</code>.
      In addition to the typical information contained in a
      <code>HyperlinkEvent</code>,
      this event contains the element that corresponds to the frame in
      which the click happened (the source element) and the
      target name.  The target name has 4 possible values:
      <ul><li>  _self
      </li><li>  _parent
      </li><li>  _top
      </li><li>  a named frame
      </li></ul>
      If target is _self, the action is to change the value of the
      <code>HTML.Attribute.SRC</code> attribute and fires a
      <code>ChangedUpdate</code> event.
     <p>
      If the target is _parent, then it deletes the parent element,
      which is a &lt;FRAMESET&gt; element, and inserts a new &lt;FRAME&gt;
      element, and sets its <code>HTML.Attribute.SRC</code> attribute
      to have a value equal to the destination URL and fire a
      <code>RemovedUpdate</code> and <code>InsertUpdate</code>.
     </p><p>
      If the target is _top, this method does nothing. In the implementation
      of the view for a frame, namely the <code>FrameView</code>,
      the processing of _top is handled.  Given that _top implies
      replacing the entire document, it made sense to handle this outside
      of the document that it will replace.
     </p><p>
      If the target is a named frame, then the element hierarchy is searched
      for an element with a name equal to the target, its
      <code>HTML.Attribute.SRC</code> attribute is updated and a
      <code>ChangedUpdate</code> event is fired.
      @param e the event</p></div>
<a id="L706" name="L706"></a> 706     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3316.html#L328" title="Referred from 328 in src/javax/swing/text/html/FrameView.java.">processHTMLFrameHyperlinkEvent</a>(<a href="../S/3321.html#L39" title="Defined at 39 in src/javax/swing/text/html/HTMLFrameHyperlinkEvent.java.">HTMLFrameHyperlinkEvent</a> e) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> frameName = e.<a href="../D/22997.html" title="Multiple defined in 36 places.">getTarget</a>();
<a id="L708" name="L708"></a> 708         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = e.<a href="../S/3384.html#L168" title="Defined at 168 in src/javax/swing/event/HyperlinkEvent.java.">getSourceElement</a>();
<a id="L709" name="L709"></a> 709         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> urlStr = e.<a href="../D/23378.html" title="Multiple defined in 11 places.">getURL</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L710" name="L710"></a> 710 
<a id="L711" name="L711"></a> 711         <strong class="reserved">if</strong> (frameName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("_self")) <em class="brace">{</em>
<div class="comment">
              The source and destination elements
              are the same.</div>
<a id="L716" name="L716"></a> 716             <a href="../S/3320.html#L812" title="Defined at 812 in src/javax/swing/text/html/HTMLDocument.java.">updateFrame</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, urlStr);
<a id="L717" name="L717"></a> 717         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (frameName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("_parent")) <em class="brace">{</em>
<div class="comment">
              The destination is the parent of the frame.</div>
<a id="L721" name="L721"></a> 721             <a href="../S/3320.html#L786" title="Defined at 786 in src/javax/swing/text/html/HTMLDocument.java.">updateFrameSet</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>(), urlStr);
<a id="L722" name="L722"></a> 722         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
              locate a named frame</div>
<a id="L726" name="L726"></a> 726             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> targetElement = <a href="../S/3320.html#L743" title="Defined at 743 in src/javax/swing/text/html/HTMLDocument.java.">findFrame</a>(frameName);
<a id="L727" name="L727"></a> 727             <strong class="reserved">if</strong> (targetElement != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728                 <a href="../S/3320.html#L812" title="Defined at 812 in src/javax/swing/text/html/HTMLDocument.java.">updateFrame</a>(targetElement, urlStr);
<a id="L729" name="L729"></a> 729             <em class="brace">}</em>
<a id="L730" name="L730"></a> 730         <em class="brace">}</em>
<a id="L731" name="L731"></a> 731     <em class="brace">}</em>
<a id="L732" name="L732"></a> 732 
<a id="L733" name="L733"></a> 733 
<div class="comment">
      Searches the element hierarchy for an FRAME element
      that has its name attribute equal to the <code>frameName</code>.
      @param frameName
      @return the element whose NAME attribute has a value of
               <code>frameName</code>; returns <code>null</code>
               if not found</div>
<a id="L743" name="L743"></a> 743     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/3320.html#L726" title="Referred from 726 in src/javax/swing/text/html/HTMLDocument.java.">findFrame</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> frameName) <em class="brace">{</em>
<a id="L744" name="L744"></a> 744         <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> it = <strong class="reserved">new</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a>(<strong class="reserved">this</strong>);
<a id="L745" name="L745"></a> 745         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L746" name="L746"></a> 746 
<a id="L747" name="L747"></a> 747         <strong class="reserved">while</strong> ((<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = it.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L748" name="L748"></a> 748             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L749" name="L749"></a> 749             <strong class="reserved">if</strong> (<a href="../D/27544.html" title="Multiple defined in 2 places.">matchNameAttribute</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FRAME)) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> frameTarget = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.NAME);
<a id="L751" name="L751"></a> 751                 <strong class="reserved">if</strong> (frameTarget != <strong class="reserved">null</strong> &amp;&amp; frameTarget.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(frameName)) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752                     <strong class="reserved">break</strong>;
<a id="L753" name="L753"></a> 753                 <em class="brace">}</em>
<a id="L754" name="L754"></a> 754             <em class="brace">}</em>
<a id="L755" name="L755"></a> 755         <em class="brace">}</em>
<a id="L756" name="L756"></a> 756         <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L757" name="L757"></a> 757     <em class="brace">}</em>
<a id="L758" name="L758"></a> 758 
<div class="comment">
      Returns true if <code>StyleConstants.NameAttribute</code> is
      equal to the tag that is passed in as a parameter.
      @param attr the attributes to be matched
      @param tag the value to be matched
      @return true if there is a match, false otherwise
      @see javax.swing.text.html.HTML.Attribute</div>
<a id="L768" name="L768"></a> 768     <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/23141.html" title="Multiple referred from 15 places.">matchNameAttribute</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> tag) <em class="brace">{</em>
<a id="L769" name="L769"></a> 769         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L770" name="L770"></a> 770         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <em class="brace">{</em>
<a id="L771" name="L771"></a> 771             <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L772" name="L772"></a> 772             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == tag) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L774" name="L774"></a> 774             <em class="brace">}</em>
<a id="L775" name="L775"></a> 775         <em class="brace">}</em>
<a id="L776" name="L776"></a> 776         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L777" name="L777"></a> 777     <em class="brace">}</em>
<a id="L778" name="L778"></a> 778 
<div class="comment">
      Replaces a frameset branch Element with a frame leaf element.
      @param element the frameset element to remove
      @param url     the value for the SRC attribute for the
                     new frame that will replace the frameset</div>
<a id="L786" name="L786"></a> 786     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L721" title="Referred from 721 in src/javax/swing/text/html/HTMLDocument.java.">updateFrameSet</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url) <em class="brace">{</em>
<a id="L787" name="L787"></a> 787         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L788" name="L788"></a> 788             <strong class="reserved">int</strong> startOffset = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L789" name="L789"></a> 789             <strong class="reserved">int</strong> endOffset = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(), <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>());
<a id="L790" name="L790"></a> 790             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> html = "&lt;frame";
<a id="L791" name="L791"></a> 791             <strong class="reserved">if</strong> (url != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                 html += " src=\"" + url + "\"";
<a id="L793" name="L793"></a> 793             <em class="brace">}</em>
<a id="L794" name="L794"></a> 794             html += "&gt;";
<a id="L795" name="L795"></a> 795             <a href="../S/3320.html#L1521" title="Defined at 1521 in src/javax/swing/text/html/HTMLDocument.java.">installParserIfNecessary</a>();
<a id="L796" name="L796"></a> 796             <a href="../S/3320.html#L1103" title="Defined at 1103 in src/javax/swing/text/html/HTMLDocument.java.">setOuterHTML</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, html);
<a id="L797" name="L797"></a> 797         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e1) <em class="brace">{</em>
<a id="L798" name="L798"></a> 798             <em class="comment">// Should handle this better</em>
<a id="L799" name="L799"></a> 799         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800             <em class="comment">// Should handle this better</em>
<a id="L801" name="L801"></a> 801         <em class="brace">}</em>
<a id="L802" name="L802"></a> 802     <em class="brace">}</em>
<a id="L803" name="L803"></a> 803 
<a id="L804" name="L804"></a> 804 
<div class="comment">
      Updates the Frame elements <code>HTML.Attribute.SRC attribute</code>
      and fires a <code>ChangedUpdate</code> event.
      @param element a FRAME element whose SRC attribute will be updated
      @param url     a string specifying the new value for the SRC attribute</div>
<a id="L812" name="L812"></a> 812     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29868.html" title="Multiple referred from 2 places.">updateFrame</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url) <em class="brace">{</em>
<a id="L813" name="L813"></a> 813 
<a id="L814" name="L814"></a> 814         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L815" name="L815"></a> 815             <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L816" name="L816"></a> 816             <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a> = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L817" name="L817"></a> 817                                                                     1,
<a id="L818" name="L818"></a> 818                                                                     <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.CHANGE);
<a id="L819" name="L819"></a> 819             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> sCopy = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>();
<a id="L820" name="L820"></a> 820             <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>) <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L821" name="L821"></a> 821             <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<strong class="reserved">new</strong> <a href="../S/3328.html#L2520" title="Defined at 2520 in src/javax/swing/text/DefaultStyledDocument.java.">AttributeUndoableEdit</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, sCopy, <strong class="reserved">false</strong>));
<a id="L822" name="L822"></a> 822             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.SRC);
<a id="L823" name="L823"></a> 823             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.SRC, url);
<a id="L824" name="L824"></a> 824             <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L825" name="L825"></a> 825             <a href="../D/16316.html" title="Multiple defined in 2 places.">fireChangedUpdate</a>(<a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>);
<a id="L826" name="L826"></a> 826             <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, <a href="../D/12317.html" title="Multiple defined in 2 places.">changes</a>));
<a id="L827" name="L827"></a> 827         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L828" name="L828"></a> 828             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L829" name="L829"></a> 829         <em class="brace">}</em>
<a id="L830" name="L830"></a> 830     <em class="brace">}</em>
<a id="L831" name="L831"></a> 831 
<a id="L832" name="L832"></a> 832 
<div class="comment">
      Returns true if the document will be viewed in a frame.
      @return true if document will be viewed in a frame, otherwise false</div>
<a id="L837" name="L837"></a> 837     <strong class="reserved">boolean</strong> <a href="../R/21496.html" title="Multiple referred from 3 places.">isFrameDocument</a>() <em class="brace">{</em>
<a id="L838" name="L838"></a> 838         <strong class="reserved">return</strong> frameDocument;
<a id="L839" name="L839"></a> 839     <em class="brace">}</em>
<a id="L840" name="L840"></a> 840 
<div class="comment">
      Sets a boolean state about whether the document will be
      viewed in a frame.
      @param frameDoc  true if the document will be viewed in a frame,
               otherwise false</div>
<a id="L847" name="L847"></a> 847     <strong class="reserved">void</strong> <a href="../R/27452.html" title="Multiple referred from 2 places.">setFrameDocumentState</a>(<strong class="reserved">boolean</strong> frameDoc) <em class="brace">{</em>
<a id="L848" name="L848"></a> 848         <strong class="reserved">this</strong>.frameDocument = frameDoc;
<a id="L849" name="L849"></a> 849     <em class="brace">}</em>
<a id="L850" name="L850"></a> 850 
<div class="comment">
      Adds the specified map, this will remove a Map that has been
      previously registered with the same name.
      @param map  the <code>Map</code> to be registered</div>
<a id="L857" name="L857"></a> 857     <strong class="reserved">void</strong> <a href="../S/3320.html#L3049" title="Referred from 3049 in src/javax/swing/text/html/HTMLDocument.java.">addMap</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>) <em class="brace">{</em>
<a id="L858" name="L858"></a> 858         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L859" name="L859"></a> 859 
<a id="L860" name="L860"></a> 860         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L861" name="L861"></a> 861             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>     <a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(MAP_PROPERTY);
<a id="L862" name="L862"></a> 862 
<a id="L863" name="L863"></a> 863             <strong class="reserved">if</strong> (<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L864" name="L864"></a> 864                 <a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>(11);
<a id="L865" name="L865"></a> 865                 <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(MAP_PROPERTY, <a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a>);
<a id="L866" name="L866"></a> 866             <em class="brace">}</em>
<a id="L867" name="L867"></a> 867             <strong class="reserved">if</strong> (<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> <strong class="reserved">instanceof</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) <em class="brace">{</em>
<a id="L868" name="L868"></a> 868                 ((<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>)<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a>).<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("#" + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L869" name="L869"></a> 869             <em class="brace">}</em>
<a id="L870" name="L870"></a> 870         <em class="brace">}</em>
<a id="L871" name="L871"></a> 871     <em class="brace">}</em>
<a id="L872" name="L872"></a> 872 
<div class="comment">
      Removes a previously registered map.
      @param map the <code>Map</code> to be removed</div>
<a id="L877" name="L877"></a> 877     <strong class="reserved">void</strong> removeMap(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>) <em class="brace">{</em>
<a id="L878" name="L878"></a> 878         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>     <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L879" name="L879"></a> 879 
<a id="L880" name="L880"></a> 880         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>     <a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(MAP_PROPERTY);
<a id="L882" name="L882"></a> 882 
<a id="L883" name="L883"></a> 883             <strong class="reserved">if</strong> (<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> <strong class="reserved">instanceof</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) <em class="brace">{</em>
<a id="L884" name="L884"></a> 884                 ((<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>)<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a>).<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>("#" + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L885" name="L885"></a> 885             <em class="brace">}</em>
<a id="L886" name="L886"></a> 886         <em class="brace">}</em>
<a id="L887" name="L887"></a> 887     <em class="brace">}</em>
<a id="L888" name="L888"></a> 888 
<div class="comment">
      Returns the Map associated with the given name.
      @param name the name of the desired <code>Map</code>
      @return the <code>Map</code> or <code>null</code> if it can't
               be found, or if <code>name</code> is <code>null</code></div>
<a id="L895" name="L895"></a> 895     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> <a href="../R/17544.html" title="Multiple referred from 12 places.">getMap</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L896" name="L896"></a> 896         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L897" name="L897"></a> 897             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>     <a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(MAP_PROPERTY);
<a id="L898" name="L898"></a> 898 
<a id="L899" name="L899"></a> 899             <strong class="reserved">if</strong> (<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> != <strong class="reserved">null</strong> &amp;&amp; (<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> <strong class="reserved">instanceof</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>)) <em class="brace">{</em>
<a id="L900" name="L900"></a> 900                 <strong class="reserved">return</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>)((<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>)<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a>).<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L901" name="L901"></a> 901             <em class="brace">}</em>
<a id="L902" name="L902"></a> 902         <em class="brace">}</em>
<a id="L903" name="L903"></a> 903         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L904" name="L904"></a> 904     <em class="brace">}</em>
<a id="L905" name="L905"></a> 905 
<div class="comment">
      Returns an <code>Enumeration</code> of the possible Maps.
      @return the enumerated list of maps, or <code>null</code>
               if the maps are not an instance of <code>Hashtable</code></div>
<a id="L911" name="L911"></a> 911     <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> <a href="../S/3323.html#L429" title="Referred from 429 in src/javax/swing/text/html/HTMLWriter.java.">getMaps</a>() <em class="brace">{</em>
<a id="L912" name="L912"></a> 912         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>     <a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(MAP_PROPERTY);
<a id="L913" name="L913"></a> 913 
<a id="L914" name="L914"></a> 914         <strong class="reserved">if</strong> (<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a> <strong class="reserved">instanceof</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>) <em class="brace">{</em>
<a id="L915" name="L915"></a> 915             <strong class="reserved">return</strong> ((<a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>)<a href="../S/6138.html#L43" title="Defined at 43 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/util/MultiHashtable.java.">maps</a>).<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L916" name="L916"></a> 916         <em class="brace">}</em>
<a id="L917" name="L917"></a> 917         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L918" name="L918"></a> 918     <em class="brace">}</em>
<a id="L919" name="L919"></a> 919 
<div class="comment">
      Sets the content type language used for style sheets that do not
      explicitly specify the type. The default is text/css.
      @param contentType  the content type language for the style sheets</div>
<div class="comment">
     /* public */</div>
<a id="L926" name="L926"></a> 926     <strong class="reserved">void</strong> <a href="../S/3320.html#L2903" title="Referred from 2903 in src/javax/swing/text/html/HTMLDocument.java.">setDefaultStyleSheetType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> contentType) <em class="brace">{</em>
<a id="L927" name="L927"></a> 927         <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(StyleType, contentType);
<a id="L928" name="L928"></a> 928     <em class="brace">}</em>
<a id="L929" name="L929"></a> 929 
<div class="comment">
      Returns the content type language used for style sheets. The default
      is text/css.
      @return the content type language used for the style sheets</div>
<div class="comment">
     /* public */</div>
<a id="L936" name="L936"></a> 936     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16084.html" title="Multiple referred from 3 places.">getDefaultStyleSheetType</a>() <em class="brace">{</em>
<a id="L937" name="L937"></a> 937         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> retValue = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(StyleType);
<a id="L938" name="L938"></a> 938         <strong class="reserved">if</strong> (retValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L939" name="L939"></a> 939             <strong class="reserved">return</strong> "text/css";
<a id="L940" name="L940"></a> 940         <em class="brace">}</em>
<a id="L941" name="L941"></a> 941         <strong class="reserved">return</strong> retValue;
<a id="L942" name="L942"></a> 942     <em class="brace">}</em>
<a id="L943" name="L943"></a> 943 
<div class="comment">
      Sets the parser that is used by the methods that insert html
      into the existing document, such as <code>setInnerHTML</code>,
      and <code>setOuterHTML</code>.
      <p>
      <code>HTMLEditorKit.createDefaultDocument</code> will set the parser
      for you. If you create an <code>HTMLDocument</code> by hand,
      be sure and set the parser accordingly.
      @param parser the parser to be used for text insertion
      @since 1.3</p></div>
<a id="L956" name="L956"></a> 956     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27918.html" title="Multiple referred from 62 places.">setParser</a>(<a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> parser) <em class="brace">{</em>
<a id="L957" name="L957"></a> 957         <strong class="reserved">this</strong>.parser = parser;
<a id="L958" name="L958"></a> 958         <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>("__PARSER__", <strong class="reserved">null</strong>);
<a id="L959" name="L959"></a> 959     <em class="brace">}</em>
<a id="L960" name="L960"></a> 960 
<div class="comment">
      Returns the parser that is used when inserting HTML into the existing
      document.
      @return the parser used for text insertion
      @since 1.3</div>
<a id="L968" name="L968"></a> 968     <strong class="reserved">public</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> <a href="../R/18285.html" title="Multiple referred from 96 places.">getParser</a>() <em class="brace">{</em>
<a id="L969" name="L969"></a> 969         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> p = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("__PARSER__");
<a id="L970" name="L970"></a> 970 
<a id="L971" name="L971"></a> 971         <strong class="reserved">if</strong> (p <strong class="reserved">instanceof</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a>) <em class="brace">{</em>
<a id="L972" name="L972"></a> 972             <strong class="reserved">return</strong> (<a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a>)p;
<a id="L973" name="L973"></a> 973         <em class="brace">}</em>
<a id="L974" name="L974"></a> 974         <strong class="reserved">return</strong> parser;
<a id="L975" name="L975"></a> 975     <em class="brace">}</em>
<a id="L976" name="L976"></a> 976 
<div class="comment">
      Replaces the children of the given element with the contents
      specified as an HTML string.
      <p>This will be seen as at least two events, n inserts followed by
      a remove.</p>
      <p>Consider the following structure (the <code>elem</code>
      parameter is <b>in bold</b>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
           /  \
         &lt;p&gt;   &lt;p&gt;
      </pre>
      <p>Invoking <code>setInnerHTML(elem, "&lt;ul&gt;&lt;li&gt;")</code>
      results in the following structure (new elements are <font color="red">in red</font>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
              \
              <font color="red">&lt;ul&gt;</font>
                \
                <font color="red">&lt;li&gt;</font>
      </pre>
      <p>Parameter <code>elem</code> must not be a leaf element,
      otherwise an <code>IllegalArgumentException</code> is thrown.
      If either <code>elem</code> or <code>htmlText</code> parameter
      is <code>null</code>, no changes are made to the document.</p>
      <p>For this to work correctly, the document must have an
      <code>HTMLEditorKit.Parser</code> set. This will be the case
      if the document was created from an HTMLEditorKit via the
      <code>createDefaultDocument</code> method.</p>
      @param elem the branch element whose children will be replaced
      @param htmlText the string to be parsed and assigned to <code>elem</code>
      @throws IllegalArgumentException if <code>elem</code> is a leaf
      @throws IllegalStateException if an <code>HTMLEditorKit.Parser</code>
              has not been defined
      @since 1.3</div>
<a id="L1026" name="L1026"></a>1026     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setInnerHTML(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> htmlText) <strong class="reserved">throws</strong>
<a id="L1027" name="L1027"></a>1027                              <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028         <a href="../S/3320.html#L1512" title="Defined at 1512 in src/javax/swing/text/html/HTMLDocument.java.">verifyParser</a>();
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong> &amp;&amp; elem.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L1031" name="L1031"></a>1031                 ("Can not set inner HTML of a leaf");
<a id="L1032" name="L1032"></a>1032         <em class="brace">}</em>
<a id="L1033" name="L1033"></a>1033         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong> &amp;&amp; htmlText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">int</strong> oldCount = elem.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L1035" name="L1035"></a>1035             <strong class="reserved">int</strong> insertPosition = elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1036" name="L1036"></a>1036             <a href="../D/24750.html" title="Multiple defined in 3 places.">insertHTML</a>(elem, elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(), htmlText, <strong class="reserved">true</strong>);
<a id="L1037" name="L1037"></a>1037             <strong class="reserved">if</strong> (elem.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() &gt; oldCount) <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038                 <em class="comment">// Elements were inserted, do the cleanup.</em>
<a id="L1039" name="L1039"></a>1039                 <a href="../D/30778.html" title="Multiple defined in 3 places.">removeElements</a>(elem, elem.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() - oldCount,
<a id="L1040" name="L1040"></a>1040                                oldCount);
<a id="L1041" name="L1041"></a>1041             <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042         <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043     <em class="brace">}</em>
<a id="L1044" name="L1044"></a>1044 
<div class="comment">
      Replaces the given element in the parent with the contents
      specified as an HTML string.
      <p>This will be seen as at least two events, n inserts followed by
      a remove.</p>
      <p>When replacing a leaf this will attempt to make sure there is
      a newline present if one is needed. This may result in an additional
      element being inserted. Consider, if you were to replace a character
      element that contained a newline with &lt;img&gt; this would create
      two elements, one for the image, and one for the newline.</p>
      <p>If you try to replace the element at length you will most
      likely end up with two elements, eg
      <code>setOuterHTML(getCharacterElement (getLength()),
      "blah")</code> will result in two leaf elements at the end, one
      representing 'blah', and the other representing the end
      element.</p>
      <p>Consider the following structure (the <code>elem</code>
      parameter is <b>in bold</b>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
           /  \
         &lt;p&gt;   &lt;p&gt;
      </pre>
      <p>Invoking <code>setOuterHTML(elem, "&lt;ul&gt;&lt;li&gt;")</code>
      results in the following structure (new elements are <font color="red">in red</font>).</p>
      <pre>         &lt;body&gt;
           |
          <font color="red">&lt;ul&gt;</font>
            \
            <font color="red">&lt;li&gt;</font>
      </pre>
      <p>If either <code>elem</code> or <code>htmlText</code>
      parameter is <code>null</code>, no changes are made to the
      document.</p>
      <p>For this to work correctly, the document must have an
      HTMLEditorKit.Parser set. This will be the case if the document
      was created from an HTMLEditorKit via the
      <code>createDefaultDocument</code> method.</p>
      @param elem the element to replace
      @param htmlText the string to be parsed and inserted in place of <code>elem</code>
      @throws IllegalStateException if an HTMLEditorKit.Parser has not
              been set
      @since 1.3</div>
<a id="L1103" name="L1103"></a>1103     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L796" title="Referred from 796 in src/javax/swing/text/html/HTMLDocument.java.">setOuterHTML</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> htmlText) <strong class="reserved">throws</strong>
<a id="L1104" name="L1104"></a>1104                             <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1105" name="L1105"></a>1105         <a href="../S/3320.html#L1512" title="Defined at 1512 in src/javax/swing/text/html/HTMLDocument.java.">verifyParser</a>();
<a id="L1106" name="L1106"></a>1106         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong> &amp;&amp; elem.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>() != <strong class="reserved">null</strong> &amp;&amp;
<a id="L1107" name="L1107"></a>1107             htmlText != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1108" name="L1108"></a>1108             <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1109" name="L1109"></a>1109             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1110" name="L1110"></a>1110             <strong class="reserved">int</strong> startLength = <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1111" name="L1111"></a>1111             <em class="comment">// We don't want a newline if elem is a leaf, and doesn't contain</em>
<a id="L1112" name="L1112"></a>1112             <em class="comment">// a newline.</em>
<a id="L1113" name="L1113"></a>1113             <strong class="reserved">boolean</strong> wantsNewline = !elem.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>();
<a id="L1114" name="L1114"></a>1114             <strong class="reserved">if</strong> (!wantsNewline &amp;&amp; (<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &gt; startLength ||
<a id="L1115" name="L1115"></a>1115                                  <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - 1, 1).<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == NEWLINE[0]))<em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116                 wantsNewline = <strong class="reserved">true</strong>;
<a id="L1117" name="L1117"></a>1117             <em class="brace">}</em>
<a id="L1118" name="L1118"></a>1118             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = elem.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L1119" name="L1119"></a>1119             <strong class="reserved">int</strong> oldCount = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L1120" name="L1120"></a>1120             <a href="../D/24750.html" title="Multiple defined in 3 places.">insertHTML</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, htmlText, wantsNewline);
<a id="L1121" name="L1121"></a>1121             <em class="comment">// Remove old.</em>
<a id="L1122" name="L1122"></a>1122             <strong class="reserved">int</strong> newLength = <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1123" name="L1123"></a>1123             <strong class="reserved">if</strong> (oldCount != <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>()) <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124                 <strong class="reserved">int</strong> removeIndex = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + newLength -
<a id="L1125" name="L1125"></a>1125                                                          startLength);
<a id="L1126" name="L1126"></a>1126                 <a href="../D/30778.html" title="Multiple defined in 3 places.">removeElements</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, removeIndex, 1);
<a id="L1127" name="L1127"></a>1127             <em class="brace">}</em>
<a id="L1128" name="L1128"></a>1128         <em class="brace">}</em>
<a id="L1129" name="L1129"></a>1129     <em class="brace">}</em>
<a id="L1130" name="L1130"></a>1130 
<div class="comment">
      Inserts the HTML specified as a string at the start
      of the element.
      <p>Consider the following structure (the <code>elem</code>
      parameter is <b>in bold</b>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
           /  \
         &lt;p&gt;   &lt;p&gt;
      </pre>
      <p>Invoking <code>insertAfterStart(elem,
      "&lt;ul&gt;&lt;li&gt;")</code> results in the following structure
      (new elements are <font color="red">in red</font>).</p>
      <pre>             &lt;body&gt;
               |
             <b>&lt;div&gt;</b>
            /  |  \
         <font color="red">&lt;ul&gt;</font> &lt;p&gt; &lt;p&gt;
          /
       <font color="red">&lt;li&gt;</font>
      </pre>
      <p>Unlike the <code>insertBeforeStart</code> method, new
       elements become <em>children</em> of the specified element,
       not siblings.</p>
      <p>Parameter <code>elem</code> must not be a leaf element,
      otherwise an <code>IllegalArgumentException</code> is thrown.
      If either <code>elem</code> or <code>htmlText</code> parameter
      is <code>null</code>, no changes are made to the document.</p>
      <p>For this to work correctly, the document must have an
      <code>HTMLEditorKit.Parser</code> set. This will be the case
      if the document was created from an HTMLEditorKit via the
      <code>createDefaultDocument</code> method.</p>
      @param elem the branch element to be the root for the new text
      @param htmlText the string to be parsed and assigned to <code>elem</code>
      @throws IllegalArgumentException if <code>elem</code> is a leaf
      @throws IllegalStateException if an HTMLEditorKit.Parser has not
              been set on the document
      @since 1.3</div>
<a id="L1181" name="L1181"></a>1181     <strong class="reserved">public</strong> <strong class="reserved">void</strong> insertAfterStart(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> htmlText) <strong class="reserved">throws</strong>
<a id="L1182" name="L1182"></a>1182                                  <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1183" name="L1183"></a>1183         <a href="../S/3320.html#L1512" title="Defined at 1512 in src/javax/swing/text/html/HTMLDocument.java.">verifyParser</a>();
<a id="L1184" name="L1184"></a>1184 
<a id="L1185" name="L1185"></a>1185         <strong class="reserved">if</strong> (elem == <strong class="reserved">null</strong> || htmlText == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1186" name="L1186"></a>1186             <strong class="reserved">return</strong>;
<a id="L1187" name="L1187"></a>1187         <em class="brace">}</em>
<a id="L1188" name="L1188"></a>1188 
<a id="L1189" name="L1189"></a>1189         <strong class="reserved">if</strong> (elem.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L1190" name="L1190"></a>1190             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L1191" name="L1191"></a>1191                 ("Can not insert HTML after start of a leaf");
<a id="L1192" name="L1192"></a>1192         <em class="brace">}</em>
<a id="L1193" name="L1193"></a>1193         <a href="../D/24750.html" title="Multiple defined in 3 places.">insertHTML</a>(elem, elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(), htmlText, <strong class="reserved">false</strong>);
<a id="L1194" name="L1194"></a>1194     <em class="brace">}</em>
<a id="L1195" name="L1195"></a>1195 
<div class="comment">
      Inserts the HTML specified as a string at the end of
      the element.
      <p> If <code>elem</code>'s children are leaves, and the
      character at a <code>elem.getEndOffset() - 1</code> is a newline,
      this will insert before the newline so that there isn't text after
      the newline.</p>
      <p>Consider the following structure (the <code>elem</code>
      parameter is <b>in bold</b>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
           /  \
         &lt;p&gt;   &lt;p&gt;
      </pre>
      <p>Invoking <code>insertBeforeEnd(elem, "&lt;ul&gt;&lt;li&gt;")</code>
      results in the following structure (new elements are <font color="red">in red</font>).</p>
      <pre>             &lt;body&gt;
               |
             <b>&lt;div&gt;</b>
            /  |  \
          &lt;p&gt; &lt;p&gt; <font color="red">&lt;ul&gt;</font>
                    \
                    <font color="red">&lt;li&gt;</font>
      </pre>
      <p>Unlike the <code>insertAfterEnd</code> method, new elements
      become <em>children</em> of the specified element, not
      siblings.</p>
      <p>Parameter <code>elem</code> must not be a leaf element,
      otherwise an <code>IllegalArgumentException</code> is thrown.
      If either <code>elem</code> or <code>htmlText</code> parameter
      is <code>null</code>, no changes are made to the document.</p>
      <p>For this to work correctly, the document must have an
      <code>HTMLEditorKit.Parser</code> set. This will be the case
      if the document was created from an HTMLEditorKit via the
      <code>createDefaultDocument</code> method.</p>
      @param elem the element to be the root for the new text
      @param htmlText the string to be parsed and assigned to <code>elem</code>
      @throws IllegalArgumentException if <code>elem</code> is a leaf
      @throws IllegalStateException if an HTMLEditorKit.Parser has not
              been set on the document
      @since 1.3</div>
<a id="L1251" name="L1251"></a>1251     <strong class="reserved">public</strong> <strong class="reserved">void</strong> insertBeforeEnd(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> htmlText) <strong class="reserved">throws</strong>
<a id="L1252" name="L1252"></a>1252                                 <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1253" name="L1253"></a>1253         <a href="../S/3320.html#L1512" title="Defined at 1512 in src/javax/swing/text/html/HTMLDocument.java.">verifyParser</a>();
<a id="L1254" name="L1254"></a>1254         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong> &amp;&amp; elem.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L1255" name="L1255"></a>1255             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L1256" name="L1256"></a>1256                 ("Can not set inner HTML before end of leaf");
<a id="L1257" name="L1257"></a>1257         <em class="brace">}</em>
<a id="L1258" name="L1258"></a>1258         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1259" name="L1259"></a>1259             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1260" name="L1260"></a>1260             <strong class="reserved">if</strong> (elem.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(elem.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1)).<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>() &amp;&amp;
<a id="L1261" name="L1261"></a>1261                 <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1, 1).<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == NEWLINE[0]) <em class="brace">{</em>
<a id="L1262" name="L1262"></a>1262                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>--;
<a id="L1263" name="L1263"></a>1263             <em class="brace">}</em>
<a id="L1264" name="L1264"></a>1264             <a href="../D/24750.html" title="Multiple defined in 3 places.">insertHTML</a>(elem, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, htmlText, <strong class="reserved">false</strong>);
<a id="L1265" name="L1265"></a>1265         <em class="brace">}</em>
<a id="L1266" name="L1266"></a>1266     <em class="brace">}</em>
<a id="L1267" name="L1267"></a>1267 
<div class="comment">
      Inserts the HTML specified as a string before the start of
      the given element.
      <p>Consider the following structure (the <code>elem</code>
      parameter is <b>in bold</b>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
           /  \
         &lt;p&gt;   &lt;p&gt;
      </pre>
      <p>Invoking <code>insertBeforeStart(elem,
      "&lt;ul&gt;&lt;li&gt;")</code> results in the following structure
      (new elements are <font color="red">in red</font>).</p>
      <pre>             &lt;body&gt;
              /  \
           <font color="red">&lt;ul&gt;</font> <b>&lt;div&gt;</b>
            /    /  \
          <font color="red">&lt;li&gt;</font> &lt;p&gt;  &lt;p&gt;
      </pre>
      <p>Unlike the <code>insertAfterStart</code> method, new
      elements become <em>siblings</em> of the specified element, not
      children.</p>
      <p>If either <code>elem</code> or <code>htmlText</code>
      parameter is <code>null</code>, no changes are made to the
      document.</p>
      <p>For this to work correctly, the document must have an
      <code>HTMLEditorKit.Parser</code> set. This will be the case
      if the document was created from an HTMLEditorKit via the
      <code>createDefaultDocument</code> method.</p>
      @param elem the element the content is inserted before
      @param htmlText the string to be parsed and inserted before <code>elem</code>
      @throws IllegalStateException if an HTMLEditorKit.Parser has not
              been set on the document
      @since 1.3</div>
<a id="L1314" name="L1314"></a>1314     <strong class="reserved">public</strong> <strong class="reserved">void</strong> insertBeforeStart(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> htmlText) <strong class="reserved">throws</strong>
<a id="L1315" name="L1315"></a>1315                                   <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316         <a href="../S/3320.html#L1512" title="Defined at 1512 in src/javax/swing/text/html/HTMLDocument.java.">verifyParser</a>();
<a id="L1317" name="L1317"></a>1317         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1318" name="L1318"></a>1318             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = elem.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L1319" name="L1319"></a>1319 
<a id="L1320" name="L1320"></a>1320             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1321" name="L1321"></a>1321                 <a href="../D/24750.html" title="Multiple defined in 3 places.">insertHTML</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(), htmlText, <strong class="reserved">false</strong>);
<a id="L1322" name="L1322"></a>1322             <em class="brace">}</em>
<a id="L1323" name="L1323"></a>1323         <em class="brace">}</em>
<a id="L1324" name="L1324"></a>1324     <em class="brace">}</em>
<a id="L1325" name="L1325"></a>1325 
<div class="comment">
      Inserts the HTML specified as a string after the the end of the
      given element.
      <p>Consider the following structure (the <code>elem</code>
      parameter is <b>in bold</b>).</p>
      <pre>          &lt;body&gt;
            |
          <b>&lt;div&gt;</b>
           /  \
         &lt;p&gt;   &lt;p&gt;
      </pre>
      <p>Invoking <code>insertAfterEnd(elem, "&lt;ul&gt;&lt;li&gt;")</code>
      results in the following structure (new elements are <font color="red">in red</font>).</p>
      <pre>             &lt;body&gt;
              /  \
           <b>&lt;div&gt;</b> <font color="red">&lt;ul&gt;</font>
            / \    \
          &lt;p&gt; &lt;p&gt;  <font color="red">&lt;li&gt;</font>
      </pre>
      <p>Unlike the <code>insertBeforeEnd</code> method, new elements
      become <em>siblings</em> of the specified element, not
      children.</p>
      <p>If either <code>elem</code> or <code>htmlText</code>
      parameter is <code>null</code>, no changes are made to the
      document.</p>
      <p>For this to work correctly, the document must have an
      <code>HTMLEditorKit.Parser</code> set. This will be the case
      if the document was created from an HTMLEditorKit via the
      <code>createDefaultDocument</code> method.</p>
      @param elem the element the content is inserted after
      @param htmlText the string to be parsed and inserted after <code>elem</code>
      @throws IllegalStateException if an HTMLEditorKit.Parser has not
              been set on the document
      @since 1.3</div>
<a id="L1372" name="L1372"></a>1372     <strong class="reserved">public</strong> <strong class="reserved">void</strong> insertAfterEnd(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> htmlText) <strong class="reserved">throws</strong>
<a id="L1373" name="L1373"></a>1373                                <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1374" name="L1374"></a>1374         <a href="../S/3320.html#L1512" title="Defined at 1512 in src/javax/swing/text/html/HTMLDocument.java.">verifyParser</a>();
<a id="L1375" name="L1375"></a>1375         <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1376" name="L1376"></a>1376             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = elem.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L1377" name="L1377"></a>1377 
<a id="L1378" name="L1378"></a>1378             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379                 <em class="comment">// If we are going to insert the string into the body</em>
<a id="L1380" name="L1380"></a>1380                 <em class="comment">// section, it is necessary to set the corrsponding flag.</em>
<a id="L1381" name="L1381"></a>1381                 <strong class="reserved">if</strong> (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>())) <em class="brace">{</em>
<a id="L1382" name="L1382"></a>1382                     insertInBody = <strong class="reserved">true</strong>;
<a id="L1383" name="L1383"></a>1383                 <em class="brace">}</em>
<a id="L1384" name="L1384"></a>1384                 <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = elem.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1385" name="L1385"></a>1385                 <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; (<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() + 1)) <em class="brace">{</em>
<a id="L1386" name="L1386"></a>1386                     <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>--;
<a id="L1387" name="L1387"></a>1387                 <em class="brace">}</em>
<a id="L1388" name="L1388"></a>1388                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (elem.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>() &amp;&amp; <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1, 1).
<a id="L1389" name="L1389"></a>1389                     <a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == NEWLINE[0]) <em class="brace">{</em>
<a id="L1390" name="L1390"></a>1390                     <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>--;
<a id="L1391" name="L1391"></a>1391                 <em class="brace">}</em>
<a id="L1392" name="L1392"></a>1392                 <a href="../D/24750.html" title="Multiple defined in 3 places.">insertHTML</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, htmlText, <strong class="reserved">false</strong>);
<a id="L1393" name="L1393"></a>1393                 <em class="comment">// Cleanup the flag, if any.</em>
<a id="L1394" name="L1394"></a>1394                 <strong class="reserved">if</strong> (insertInBody) <em class="brace">{</em>
<a id="L1395" name="L1395"></a>1395                     insertInBody = <strong class="reserved">false</strong>;
<a id="L1396" name="L1396"></a>1396                 <em class="brace">}</em>
<a id="L1397" name="L1397"></a>1397             <em class="brace">}</em>
<a id="L1398" name="L1398"></a>1398         <em class="brace">}</em>
<a id="L1399" name="L1399"></a>1399     <em class="brace">}</em>
<a id="L1400" name="L1400"></a>1400 
<div class="comment">
      Returns the element that has the given id <code>Attribute</code>.
      If the element can't be found, <code>null</code> is returned.
      Note that this method works on an <code>Attribute</code>,
      <i>not</i> a character tag.  In the following HTML snippet:
      <code>&lt;a id="HelloThere"&gt;</code> the attribute is
      'id' and the character tag is 'a'.
      This is a convenience method for
      <code>getElement(RootElement, HTML.Attribute.id, id)</code>.
      This is not thread-safe.
      @param id  the string representing the desired <code>Attribute</code>
      @return the element with the specified <code>Attribute</code>
               or <code>null</code> if it can't be found,
               or <code>null</code> if <code>id</code> is <code>null</code>
      @see javax.swing.text.html.HTML.Attribute
      @since 1.3</div>
<a id="L1419" name="L1419"></a>1419     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <em class="brace">{</em>
<a id="L1420" name="L1420"></a>1420         <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1421" name="L1421"></a>1421             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1422" name="L1422"></a>1422         <em class="brace">}</em>
<a id="L1423" name="L1423"></a>1423         <strong class="reserved">return</strong> <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>(), <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.ID, <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>,
<a id="L1424" name="L1424"></a>1424                           <strong class="reserved">true</strong>);
<a id="L1425" name="L1425"></a>1425     <em class="brace">}</em>
<a id="L1426" name="L1426"></a>1426 
<div class="comment">
      Returns the child element of <code>e</code> that contains the
      attribute, <code>attribute</code> with value <code>value</code>, or
      <code>null</code> if one isn't found. This is not thread-safe.
      @param e the root element where the search begins
      @param attribute the desired <code>Attribute</code>
      @param value the values for the specified <code>Attribute</code>
      @return the element with the specified <code>Attribute</code>
               and the specified <code>value</code>, or <code>null</code>
               if it can't be found
      @see javax.swing.text.html.HTML.Attribute
      @since 1.3</div>
<a id="L1441" name="L1441"></a>1441     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L1442" name="L1442"></a>1442         <strong class="reserved">return</strong> <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(e, <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">true</strong>);
<a id="L1443" name="L1443"></a>1443     <em class="brace">}</em>
<a id="L1444" name="L1444"></a>1444 
<div class="comment">
      Returns the child element of <code>e</code> that contains the
      attribute, <code>attribute</code> with value <code>value</code>, or
      <code>null</code> if one isn't found. This is not thread-safe.
      <p>
      If <code>searchLeafAttributes</code> is true, and <code>e</code> is
      a leaf, any attributes that are instances of <code>HTML.Tag</code>
      with a value that is an <code>AttributeSet</code> will also be checked.
      @param e the root element where the search begins
      @param attribute the desired <code>Attribute</code>
      @param value the values for the specified <code>Attribute</code>
      @return the element with the specified <code>Attribute</code>
               and the specified <code>value</code>, or <code>null</code>
               if it can't be found
      @see javax.swing.text.html.HTML.Attribute</p></div>
<a id="L1462" name="L1462"></a>1462     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L1463" name="L1463"></a>1463                                <strong class="reserved">boolean</strong> searchLeafAttributes) <em class="brace">{</em>
<a id="L1464" name="L1464"></a>1464         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = e.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1465" name="L1465"></a>1465 
<a id="L1466" name="L1466"></a>1466         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>)) <em class="brace">{</em>
<a id="L1467" name="L1467"></a>1467             <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>))) <em class="brace">{</em>
<a id="L1468" name="L1468"></a>1468                 <strong class="reserved">return</strong> e;
<a id="L1469" name="L1469"></a>1469             <em class="brace">}</em>
<a id="L1470" name="L1470"></a>1470         <em class="brace">}</em>
<a id="L1471" name="L1471"></a>1471         <strong class="reserved">if</strong> (!e.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L1472" name="L1472"></a>1472             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0, maxCounter = e.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L1473" name="L1473"></a>1473                  counter &lt; maxCounter; counter++) <em class="brace">{</em>
<a id="L1474" name="L1474"></a>1474                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> retValue = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(counter), <a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>,
<a id="L1475" name="L1475"></a>1475                                               <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, searchLeafAttributes);
<a id="L1476" name="L1476"></a>1476 
<a id="L1477" name="L1477"></a>1477                 <strong class="reserved">if</strong> (retValue != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1478" name="L1478"></a>1478                     <strong class="reserved">return</strong> retValue;
<a id="L1479" name="L1479"></a>1479                 <em class="brace">}</em>
<a id="L1480" name="L1480"></a>1480             <em class="brace">}</em>
<a id="L1481" name="L1481"></a>1481         <em class="brace">}</em>
<a id="L1482" name="L1482"></a>1482         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (searchLeafAttributes &amp;&amp; <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1483" name="L1483"></a>1483             <em class="comment">// For some leaf elements we store the actual attributes inside</em>
<a id="L1484" name="L1484"></a>1484             <em class="comment">// the AttributeSet of the Element (such as anchors).</em>
<a id="L1485" name="L1485"></a>1485             <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> names = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17092.html" title="Multiple defined in 12 places.">getAttributeNames</a>();
<a id="L1486" name="L1486"></a>1486             <strong class="reserved">if</strong> (names != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1487" name="L1487"></a>1487                 <strong class="reserved">while</strong> (names.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L1488" name="L1488"></a>1488                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = names.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L1489" name="L1489"></a>1489                     <strong class="reserved">if</strong> ((<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> <strong class="reserved">instanceof</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) &amp;&amp;
<a id="L1490" name="L1490"></a>1490                         (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">instanceof</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>)) <em class="brace">{</em>
<a id="L1491" name="L1491"></a>1491 
<a id="L1492" name="L1492"></a>1492                         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a> = (<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.
<a id="L1493" name="L1493"></a>1493                                              <a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1494" name="L1494"></a>1494                         <strong class="reserved">if</strong> (<a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>) &amp;&amp;
<a id="L1495" name="L1495"></a>1495                             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>))) <em class="brace">{</em>
<a id="L1496" name="L1496"></a>1496                             <strong class="reserved">return</strong> e;
<a id="L1497" name="L1497"></a>1497                         <em class="brace">}</em>
<a id="L1498" name="L1498"></a>1498                     <em class="brace">}</em>
<a id="L1499" name="L1499"></a>1499                 <em class="brace">}</em>
<a id="L1500" name="L1500"></a>1500             <em class="brace">}</em>
<a id="L1501" name="L1501"></a>1501         <em class="brace">}</em>
<a id="L1502" name="L1502"></a>1502         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1503" name="L1503"></a>1503     <em class="brace">}</em>
<a id="L1504" name="L1504"></a>1504 
<div class="comment">
      Verifies the document has an <code>HTMLEditorKit.Parser</code> set.
      If <code>getParser</code> returns <code>null</code>, this will throw an
      IllegalStateException.
      @throws IllegalStateException if the document does not have a Parser</div>
<a id="L1512" name="L1512"></a>1512     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30123.html" title="Multiple referred from 6 places.">verifyParser</a>() <em class="brace">{</em>
<a id="L1513" name="L1513"></a>1513         <strong class="reserved">if</strong> (<a href="../D/21413.html" title="Multiple defined in 8 places.">getParser</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1514" name="L1514"></a>1514             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("No HTMLEditorKit.Parser");
<a id="L1515" name="L1515"></a>1515         <em class="brace">}</em>
<a id="L1516" name="L1516"></a>1516     <em class="brace">}</em>
<a id="L1517" name="L1517"></a>1517 
<div class="comment">
      Installs a default Parser if one has not been installed yet.</div>
<a id="L1521" name="L1521"></a>1521     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L795" title="Referred from 795 in src/javax/swing/text/html/HTMLDocument.java.">installParserIfNecessary</a>() <em class="brace">{</em>
<a id="L1522" name="L1522"></a>1522         <strong class="reserved">if</strong> (<a href="../D/21413.html" title="Multiple defined in 8 places.">getParser</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1523" name="L1523"></a>1523             <a href="../D/33518.html" title="Multiple defined in 24 places.">setParser</a>(<strong class="reserved">new</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>().<a href="../D/21413.html" title="Multiple defined in 8 places.">getParser</a>());
<a id="L1524" name="L1524"></a>1524         <em class="brace">}</em>
<a id="L1525" name="L1525"></a>1525     <em class="brace">}</em>
<a id="L1526" name="L1526"></a>1526 
<div class="comment">
      Inserts a string of HTML into the document at the given position.
      <code>parent</code> is used to identify the location to insert the
      <code>html</code>. If <code>parent</code> is a leaf this can have
      unexpected results.</div>
<a id="L1533" name="L1533"></a>1533     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20774.html" title="Multiple referred from 9 places.">insertHTML</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> html,
<a id="L1534" name="L1534"></a>1534                             <strong class="reserved">boolean</strong> wantsTrailingNewline)
<a id="L1535" name="L1535"></a>1535                  <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong> &amp;&amp; html != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1537" name="L1537"></a>1537             <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> parser = <a href="../D/21413.html" title="Multiple defined in 8 places.">getParser</a>();
<a id="L1538" name="L1538"></a>1538             <strong class="reserved">if</strong> (parser != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1539" name="L1539"></a>1539                 <strong class="reserved">int</strong> lastOffset = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1);
<a id="L1540" name="L1540"></a>1540                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> charElement = <a href="../D/17608.html" title="Multiple defined in 2 places.">getCharacterElement</a>(lastOffset);
<a id="L1541" name="L1541"></a>1541                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> commonParent = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1542" name="L1542"></a>1542                 <strong class="reserved">int</strong> <a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a> = 0;
<a id="L1543" name="L1543"></a>1543                 <strong class="reserved">int</strong> <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a> = 0;
<a id="L1544" name="L1544"></a>1544 
<a id="L1545" name="L1545"></a>1545                 <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &gt; lastOffset) <em class="brace">{</em>
<a id="L1546" name="L1546"></a>1546                     <strong class="reserved">while</strong> (commonParent != <strong class="reserved">null</strong> &amp;&amp;
<a id="L1547" name="L1547"></a>1547                            commonParent.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &gt; lastOffset) <em class="brace">{</em>
<a id="L1548" name="L1548"></a>1548                         commonParent = commonParent.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L1549" name="L1549"></a>1549                         <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>++;
<a id="L1550" name="L1550"></a>1550                     <em class="brace">}</em>
<a id="L1551" name="L1551"></a>1551                     <strong class="reserved">if</strong> (commonParent == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1552" name="L1552"></a>1552                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("No common parent",
<a id="L1553" name="L1553"></a>1553                                                        <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L1554" name="L1554"></a>1554                     <em class="brace">}</em>
<a id="L1555" name="L1555"></a>1555                 <em class="brace">}</em>
<a id="L1556" name="L1556"></a>1556                 <strong class="reserved">while</strong> (charElement != <strong class="reserved">null</strong> &amp;&amp; charElement != commonParent) <em class="brace">{</em>
<a id="L1557" name="L1557"></a>1557                     <a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>++;
<a id="L1558" name="L1558"></a>1558                     charElement = charElement.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L1559" name="L1559"></a>1559                 <em class="brace">}</em>
<a id="L1560" name="L1560"></a>1560                 <strong class="reserved">if</strong> (charElement != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1561" name="L1561"></a>1561                     <em class="comment">// Found it, do the insert.</em>
<a id="L1562" name="L1562"></a>1562                     <a href="../S/3320.html#L2185" title="Defined at 2185 in src/javax/swing/text/html/HTMLDocument.java.">HTMLReader</a> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a> = <strong class="reserved">new</strong> <a href="../S/3320.html#L2185" title="Defined at 2185 in src/javax/swing/text/html/HTMLDocument.java.">HTMLReader</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a> - 1, <a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>,
<a id="L1563" name="L1563"></a>1563                                                        <strong class="reserved">null</strong>, <strong class="reserved">false</strong>, <strong class="reserved">true</strong>,
<a id="L1564" name="L1564"></a>1564                                                        wantsTrailingNewline);
<a id="L1565" name="L1565"></a>1565 
<a id="L1566" name="L1566"></a>1566                     parser.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<strong class="reserved">new</strong> <a href="../S/1417.html#L36" title="Defined at 36 in src/java/io/StringReader.java.">StringReader</a>(html), <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>, <strong class="reserved">true</strong>);
<a id="L1567" name="L1567"></a>1567                     <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L1568" name="L1568"></a>1568                 <em class="brace">}</em>
<a id="L1569" name="L1569"></a>1569             <em class="brace">}</em>
<a id="L1570" name="L1570"></a>1570         <em class="brace">}</em>
<a id="L1571" name="L1571"></a>1571     <em class="brace">}</em>
<a id="L1572" name="L1572"></a>1572 
<div class="comment">
      Removes child Elements of the passed in Element <code>e</code>. This
      will do the necessary cleanup to ensure the element representing the
      end character is correctly created.
      <p>This is not a general purpose method, it assumes that <code>e</code>
      will still have at least one child after the remove, and it assumes
      the character at <code>e.getStartOffset() - 1</code> is a newline and
      is of length 1.</p></div>
<a id="L1582" name="L1582"></a>1582     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25954.html" title="Multiple referred from 7 places.">removeElements</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L1584" name="L1584"></a>1584         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585             <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>).<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1586" name="L1586"></a>1586             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> - 1).<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L1587" name="L1587"></a>1587             <strong class="reserved">if</strong> (<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &gt; <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588                 <a href="../S/3320.html#L1608" title="Defined at 1608 in src/javax/swing/text/html/HTMLDocument.java.">removeElementsAtEnd</a>(e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L1589" name="L1589"></a>1589             <em class="brace">}</em>
<a id="L1590" name="L1590"></a>1590             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1591" name="L1591"></a>1591                 <a href="../D/30778.html" title="Multiple defined in 3 places.">removeElements</a>(e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L1592" name="L1592"></a>1592             <em class="brace">}</em>
<a id="L1593" name="L1593"></a>1593         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1594" name="L1594"></a>1594             <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L1595" name="L1595"></a>1595         <em class="brace">}</em>
<a id="L1596" name="L1596"></a>1596     <em class="brace">}</em>
<a id="L1597" name="L1597"></a>1597 
<div class="comment">
      Called to remove child elements of <code>e</code> when one of the
      elements to remove is representing the end character.
      <p>Since the Content will not allow a removal to the end character
      this will do a remove from <code>start - 1</code> to <code>end</code>.
      The end Element(s) will be removed, and the element representing
      <code>start - 1</code> to <code>start</code> will be recreated. This
      Element has to be recreated as after the content removal its offsets
      become <code>start - 1</code> to <code>start - 1</code>.</p></div>
<a id="L1608" name="L1608"></a>1608     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L1588" title="Referred from 1588 in src/javax/swing/text/html/HTMLDocument.java.">removeElementsAtEnd</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>,
<a id="L1609" name="L1609"></a>1609                          <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1610" name="L1610"></a>1610         <em class="comment">// index must be &gt; 0 otherwise no insert would have happened.</em>
<a id="L1611" name="L1611"></a>1611         <strong class="reserved">boolean</strong> <a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a> = (e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 1).<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>());
<a id="L1612" name="L1612"></a>1612         <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> dde = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(
<a id="L1613" name="L1613"></a>1613                        <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> - 1, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 1, <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.
<a id="L1614" name="L1614"></a>1614                        <a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE);
<a id="L1615" name="L1615"></a>1615 
<a id="L1616" name="L1616"></a>1616         <strong class="reserved">if</strong> (<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>) <em class="brace">{</em>
<a id="L1617" name="L1617"></a>1617             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> endE = <a href="../D/17608.html" title="Multiple defined in 2 places.">getCharacterElement</a>(<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L1618" name="L1618"></a>1618             <em class="comment">// e.getElement(index - 1) should represent the newline.</em>
<a id="L1619" name="L1619"></a>1619             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>--;
<a id="L1620" name="L1620"></a>1620             <strong class="reserved">if</strong> (endE.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>() != e) <em class="brace">{</em>
<a id="L1621" name="L1621"></a>1621                 <em class="comment">// The hiearchies don't match, we'll have to manually</em>
<a id="L1622" name="L1622"></a>1622                 <em class="comment">// recreate the leaf at e.getElement(index - 1)</em>
<a id="L1623" name="L1623"></a>1623                 <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(dde, e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, ++<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, <strong class="reserved">true</strong>, <strong class="reserved">true</strong>);
<a id="L1624" name="L1624"></a>1624             <em class="brace">}</em>
<a id="L1625" name="L1625"></a>1625             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1626" name="L1626"></a>1626                 <em class="comment">// The hierarchies for the end Element and</em>
<a id="L1627" name="L1627"></a>1627                 <em class="comment">// e.getElement(index - 1), match, we can safely remove</em>
<a id="L1628" name="L1628"></a>1628                 <em class="comment">// the Elements and the end content will be aligned</em>
<a id="L1629" name="L1629"></a>1629                 <em class="comment">// appropriately.</em>
<a id="L1630" name="L1630"></a>1630                 <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(dde, e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, <strong class="reserved">true</strong>, <strong class="reserved">false</strong>);
<a id="L1631" name="L1631"></a>1631             <em class="brace">}</em>
<a id="L1632" name="L1632"></a>1632         <em class="brace">}</em>
<a id="L1633" name="L1633"></a>1633         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1634" name="L1634"></a>1634             <em class="comment">// Not a leaf, descend until we find the leaf representing</em>
<a id="L1635" name="L1635"></a>1635             <em class="comment">// start - 1 and remove it.</em>
<a id="L1636" name="L1636"></a>1636             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> newLineE = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - 1);
<a id="L1637" name="L1637"></a>1637             <strong class="reserved">while</strong> (!newLineE.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L1638" name="L1638"></a>1638                 newLineE = newLineE.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(newLineE.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() - 1);
<a id="L1639" name="L1639"></a>1639             <em class="brace">}</em>
<a id="L1640" name="L1640"></a>1640             newLineE = newLineE.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L1641" name="L1641"></a>1641             <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(dde, e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, <strong class="reserved">false</strong>, <strong class="reserved">false</strong>);
<a id="L1642" name="L1642"></a>1642             <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(dde, newLineE, newLineE.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() - 1, 1, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>,
<a id="L1643" name="L1643"></a>1643                     <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, <strong class="reserved">true</strong>, <strong class="reserved">true</strong>);
<a id="L1644" name="L1644"></a>1644         <em class="brace">}</em>
<a id="L1645" name="L1645"></a>1645         <a href="../S/3268.html#L1009" title="Defined at 1009 in src/javax/swing/text/AbstractDocument.java.">postRemoveUpdate</a>(dde);
<a id="L1646" name="L1646"></a>1646         dde.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L1647" name="L1647"></a>1647         <a href="../S/3268.html#L247" title="Defined at 247 in src/javax/swing/text/AbstractDocument.java.">fireRemoveUpdate</a>(dde);
<a id="L1648" name="L1648"></a>1648         <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, dde));
<a id="L1649" name="L1649"></a>1649     <em class="brace">}</em>
<a id="L1650" name="L1650"></a>1650 
<div class="comment">
      This is used by <code>removeElementsAtEnd</code>, it removes
      <code>count</code> elements starting at <code>start</code> from
      <code>e</code>.  If <code>remove</code> is true text of length
      <code>start - 1</code> to <code>end - 1</code> is removed.  If
      <code>create</code> is true a new leaf is created of length 1.</div>
<a id="L1658" name="L1658"></a>1658     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> dde, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>,
<a id="L1659" name="L1659"></a>1659                          <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>, <strong class="reserved">boolean</strong> <a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>,
<a id="L1660" name="L1660"></a>1660                          <strong class="reserved">boolean</strong> <a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1661" name="L1661"></a>1661         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] added;
<a id="L1662" name="L1662"></a>1662         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>).<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1663" name="L1663"></a>1663         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removed = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>];
<a id="L1664" name="L1664"></a>1664 
<a id="L1665" name="L1665"></a>1665         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; counter++) <em class="brace">{</em>
<a id="L1666" name="L1666"></a>1666             removed[counter] = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(counter + <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L1667" name="L1667"></a>1667         <em class="brace">}</em>
<a id="L1668" name="L1668"></a>1668         <strong class="reserved">if</strong> (<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>) <em class="brace">{</em>
<a id="L1669" name="L1669"></a>1669             <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> - 1, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L1670" name="L1670"></a>1670             <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1671" name="L1671"></a>1671                 dde.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L1672" name="L1672"></a>1672             <em class="brace">}</em>
<a id="L1673" name="L1673"></a>1673         <em class="brace">}</em>
<a id="L1674" name="L1674"></a>1674         <strong class="reserved">if</strong> (<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>) <em class="brace">{</em>
<a id="L1675" name="L1675"></a>1675             added = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[1];
<a id="L1676" name="L1676"></a>1676             added[0] = <a href="../D/14006.html" title="Multiple defined in 2 places.">createLeafElement</a>(e, attrs, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> - 1, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L1677" name="L1677"></a>1677         <em class="brace">}</em>
<a id="L1678" name="L1678"></a>1678         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1679" name="L1679"></a>1679             added = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[0];
<a id="L1680" name="L1680"></a>1680         <em class="brace">}</em>
<a id="L1681" name="L1681"></a>1681         dde.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a>(e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, removed, added));
<a id="L1682" name="L1682"></a>1682         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>)e).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(
<a id="L1683" name="L1683"></a>1683                                              <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, removed.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, added);
<a id="L1684" name="L1684"></a>1684     <em class="brace">}</em>
<a id="L1685" name="L1685"></a>1685 
<div class="comment">
      Called to remove child Elements when the end is not touched.</div>
<a id="L1689" name="L1689"></a>1689     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25954.html" title="Multiple referred from 7 places.">removeElements</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>,
<a id="L1690" name="L1690"></a>1690                              <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removed = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>];
<a id="L1692" name="L1692"></a>1692         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] added = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[0];
<a id="L1693" name="L1693"></a>1693         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>; counter++) <em class="brace">{</em>
<a id="L1694" name="L1694"></a>1694             removed[counter] = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(counter + <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L1695" name="L1695"></a>1695         <em class="brace">}</em>
<a id="L1696" name="L1696"></a>1696         <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> dde = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>
<a id="L1697" name="L1697"></a>1697                 (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE);
<a id="L1698" name="L1698"></a>1698         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>.<a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>)e).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, removed.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L1699" name="L1699"></a>1699                                                     added);
<a id="L1700" name="L1700"></a>1700         dde.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a>(e, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, removed, added));
<a id="L1701" name="L1701"></a>1701         <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L1702" name="L1702"></a>1702         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1703" name="L1703"></a>1703             dde.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L1704" name="L1704"></a>1704         <em class="brace">}</em>
<a id="L1705" name="L1705"></a>1705         <a href="../S/3268.html#L1009" title="Defined at 1009 in src/javax/swing/text/AbstractDocument.java.">postRemoveUpdate</a>(dde);
<a id="L1706" name="L1706"></a>1706         dde.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L1707" name="L1707"></a>1707         <a href="../S/3268.html#L247" title="Defined at 247 in src/javax/swing/text/AbstractDocument.java.">fireRemoveUpdate</a>(dde);
<a id="L1708" name="L1708"></a>1708         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1709" name="L1709"></a>1709             <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, dde));
<a id="L1710" name="L1710"></a>1710         <em class="brace">}</em>
<a id="L1711" name="L1711"></a>1711     <em class="brace">}</em>
<a id="L1712" name="L1712"></a>1712 
<a id="L1713" name="L1713"></a>1713 
<a id="L1714" name="L1714"></a>1714     <em class="comment">// These two are provided for inner class access. The are named different</em>
<a id="L1715" name="L1715"></a>1715     <em class="comment">// than the super class as the super class implementations are final.</em>
<a id="L1716" name="L1716"></a>1716     <strong class="reserved">void</strong> <a href="../S/3320.html#L2445" title="Referred from 2445 in src/javax/swing/text/html/HTMLDocument.java.">obtainLock</a>() <em class="brace">{</em>
<a id="L1717" name="L1717"></a>1717         <a href="../D/37100.html" title="Multiple defined in 7 places.">writeLock</a>();
<a id="L1718" name="L1718"></a>1718     <em class="brace">}</em>
<a id="L1719" name="L1719"></a>1719 
<a id="L1720" name="L1720"></a>1720     <strong class="reserved">void</strong> <a href="../S/3320.html#L2509" title="Referred from 2509 in src/javax/swing/text/html/HTMLDocument.java.">releaseLock</a>() <em class="brace">{</em>
<a id="L1721" name="L1721"></a>1721         <a href="../D/37203.html" title="Multiple defined in 3 places.">writeUnlock</a>();
<a id="L1722" name="L1722"></a>1722     <em class="brace">}</em>
<a id="L1723" name="L1723"></a>1723 
<a id="L1724" name="L1724"></a>1724     <em class="comment">//</em>
<a id="L1725" name="L1725"></a>1725     <em class="comment">// Provided for inner class access.</em>
<a id="L1726" name="L1726"></a>1726     <em class="comment">//</em>
<a id="L1727" name="L1727"></a>1727 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.
      @param e the event
      @see EventListenerList</div>
<a id="L1737" name="L1737"></a>1737     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14554.html" title="Multiple referred from 10 places.">fireChangedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L1738" name="L1738"></a>1738         <strong class="reserved">super</strong>.<a href="../D/16316.html" title="Multiple defined in 2 places.">fireChangedUpdate</a>(e);
<a id="L1739" name="L1739"></a>1739     <em class="brace">}</em>
<a id="L1740" name="L1740"></a>1740 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.
      @param e the event
      @see EventListenerList</div>
<a id="L1750" name="L1750"></a>1750     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14624.html" title="Multiple referred from 15 places.">fireUndoableEditUpdate</a>(<a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a> e) <em class="brace">{</em>
<a id="L1751" name="L1751"></a>1751         <strong class="reserved">super</strong>.<a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(e);
<a id="L1752" name="L1752"></a>1752     <em class="brace">}</em>
<a id="L1753" name="L1753"></a>1753 
<a id="L1754" name="L1754"></a>1754     <strong class="reserved">boolean</strong> <a href="../R/20174.html" title="Multiple referred from 4 places.">hasBaseTag</a>() <em class="brace">{</em>
<a id="L1755" name="L1755"></a>1755         <strong class="reserved">return</strong> <a href="../S/3320.html#L1754" title="Defined at 1754 in src/javax/swing/text/html/HTMLDocument.java.">hasBaseTag</a>;
<a id="L1756" name="L1756"></a>1756     <em class="brace">}</em>
<a id="L1757" name="L1757"></a>1757 
<a id="L1758" name="L1758"></a>1758     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3322.html#L919" title="Referred from 919 in src/javax/swing/text/html/HTMLEditorKit.java.">getBaseTarget</a>() <em class="brace">{</em>
<a id="L1759" name="L1759"></a>1759         <strong class="reserved">return</strong> baseTarget;
<a id="L1760" name="L1760"></a>1760     <em class="brace">}</em>
<a id="L1761" name="L1761"></a>1761 
<div class="comment">
      state defines whether the document is a frame document
      or not.</div>
<a id="L1766" name="L1766"></a>1766     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> frameDocument = <strong class="reserved">false</strong>;
<a id="L1767" name="L1767"></a>1767     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> preservesUnknownTags = <strong class="reserved">true</strong>;
<a id="L1768" name="L1768"></a>1768 
<div class="comment">
      Used to store button groups for radio buttons in
      a form.</div>
<a id="L1773" name="L1773"></a>1773     <strong class="reserved">private</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/3364.html#L69" title="Defined at 69 in src/javax/swing/ButtonGroup.java.">ButtonGroup</a>&gt; radioButtonGroupsMap;
<a id="L1774" name="L1774"></a>1774 
<div class="comment">
      Document property for the number of tokens to buffer
      before building an element subtree to represent them.</div>
<a id="L1779" name="L1779"></a>1779     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> TokenThreshold = "token threshold";
<a id="L1780" name="L1780"></a>1780 
<a id="L1781" name="L1781"></a>1781     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MaxThreshold = 10000;
<a id="L1782" name="L1782"></a>1782 
<a id="L1783" name="L1783"></a>1783     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> StepThreshold = 5;
<a id="L1784" name="L1784"></a>1784 
<a id="L1785" name="L1785"></a>1785 
<div class="comment">
      Document property key value. The value for the key will be a Vector
      of Strings that are comments not found in the body.</div>
<a id="L1790" name="L1790"></a>1790     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> AdditionalComments = "AdditionalComments";
<a id="L1791" name="L1791"></a>1791 
<div class="comment">
      Document property key value. The value for the key will be a
      String indicating the default type of stylesheet links.</div>
<div class="comment">
     /* public */</div> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> StyleType = "StyleType";
<a id="L1797" name="L1797"></a>1797 
<div class="comment">
      The location to resolve relative URLs against.  By
      default this will be the document's URL if the document
      was loaded from a URL.  If a base tag is found and
      can be parsed, it will be used as the base location.</div>
<a id="L1804" name="L1804"></a>1804     <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> base;
<a id="L1805" name="L1805"></a>1805 
<div class="comment">
      does the document have base tag</div>
<a id="L1809" name="L1809"></a>1809     <strong class="reserved">boolean</strong> <a href="../S/3320.html#L1754" title="Defined at 1754 in src/javax/swing/text/html/HTMLDocument.java.">hasBaseTag</a> = <strong class="reserved">false</strong>;
<a id="L1810" name="L1810"></a>1810 
<div class="comment">
      BASE tag's TARGET attribute value</div>
<a id="L1814" name="L1814"></a>1814     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> baseTarget = <strong class="reserved">null</strong>;
<a id="L1815" name="L1815"></a>1815 
<div class="comment">
      The parser that is used when inserting html into the existing
      document.</div>
<a id="L1820" name="L1820"></a>1820     <strong class="reserved">private</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> parser;
<a id="L1821" name="L1821"></a>1821 
<div class="comment">
      Used for inserts when a null AttributeSet is supplied.</div>
<a id="L1825" name="L1825"></a>1825     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> contentAttributeSet;
<a id="L1826" name="L1826"></a>1826 
<div class="comment">
      Property Maps are registered under, will be a Hashtable.</div>
<a id="L1830" name="L1830"></a>1830     <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> MAP_PROPERTY = "__MAP__";
<a id="L1831" name="L1831"></a>1831 
<a id="L1832" name="L1832"></a>1832     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">char</strong>[] NEWLINE;
<a id="L1833" name="L1833"></a>1833 
<div class="comment">
      Indicates that direct insertion to body section takes place.</div>
<a id="L1837" name="L1837"></a>1837     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> insertInBody = <strong class="reserved">false</strong>;
<a id="L1838" name="L1838"></a>1838 
<div class="comment">
      I18N property key.
      @see AbstractDocument#I18NProperty</div>
<a id="L1844" name="L1844"></a>1844     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> I18NProperty = "i18n";
<a id="L1845" name="L1845"></a>1845 
<a id="L1846" name="L1846"></a>1846     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L1847" name="L1847"></a>1847         contentAttributeSet = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L1848" name="L1848"></a>1848         ((<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>)contentAttributeSet).
<a id="L1849" name="L1849"></a>1849                         <a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute,
<a id="L1850" name="L1850"></a>1850                                      <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L1851" name="L1851"></a>1851         NEWLINE = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[1];
<a id="L1852" name="L1852"></a>1852         NEWLINE[0] = '\n';
<a id="L1853" name="L1853"></a>1853     <em class="brace">}</em>
<a id="L1854" name="L1854"></a>1854 
<a id="L1855" name="L1855"></a>1855 
<div class="comment">
      An iterator to iterate over a particular type of
      tag.  The iterator is not thread safe.  If reliable
      access to the document is not already ensured by
      the context under which the iterator is being used,
      its use should be performed under the protection of
      Document.render.</div>
<a id="L1864" name="L1864"></a>1864     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/4051.html" title="Multiple referred from 1197 places.">Iterator</a> <em class="brace">{</em>
<a id="L1865" name="L1865"></a>1865 
<div class="comment">
          Return the attributes for this tag.
          @return the <code>AttributeSet</code> for this tag, or
               <code>null</code> if none can be found</div>
<a id="L1871" name="L1871"></a>1871         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>();
<a id="L1872" name="L1872"></a>1872 
<div class="comment">
          Returns the start of the range for which the current occurrence of
          the tag is defined and has the same attributes.
          @return the start of the range, or -1 if it can't be found</div>
<a id="L1879" name="L1879"></a>1879         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>();
<a id="L1880" name="L1880"></a>1880 
<div class="comment">
          Returns the end of the range for which the current occurrence of
          the tag is defined and has the same attributes.
          @return the end of the range</div>
<a id="L1887" name="L1887"></a>1887         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>();
<a id="L1888" name="L1888"></a>1888 
<div class="comment">
          Move the iterator forward to the next occurrence
          of the tag it represents.</div>
<a id="L1893" name="L1893"></a>1893         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>();
<a id="L1894" name="L1894"></a>1894 
<div class="comment">
          Indicates if the iterator is currently
          representing an occurrence of a tag.  If
          false there are no more tags for this iterator.
          @return true if the iterator is currently representing an
                       occurrence of a tag, otherwise returns false</div>
<a id="L1902" name="L1902"></a>1902         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>();
<a id="L1903" name="L1903"></a>1903 
<div class="comment">
          Type of tag this iterator represents.</div>
<a id="L1907" name="L1907"></a>1907         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> <a href="../R/19378.html" title="Multiple referred from 42 places.">getTag</a>();
<a id="L1908" name="L1908"></a>1908     <em class="brace">}</em>
<a id="L1909" name="L1909"></a>1909 
<div class="comment">
      An iterator to iterate over a particular type of tag.</div>
<a id="L1913" name="L1913"></a>1913     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L549" title="Referred from 549 in src/javax/swing/text/html/HTMLDocument.java.">LeafIterator</a> <strong class="reserved">extends</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a> <em class="brace">{</em>
<a id="L1914" name="L1914"></a>1914 
<a id="L1915" name="L1915"></a>1915         LeafIterator(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L1916" name="L1916"></a>1916             tag = t;
<a id="L1917" name="L1917"></a>1917             pos = <strong class="reserved">new</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a>(doc);
<a id="L1918" name="L1918"></a>1918             endOffset = 0;
<a id="L1919" name="L1919"></a>1919             <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1920" name="L1920"></a>1920         <em class="brace">}</em>
<a id="L1921" name="L1921"></a>1921 
<div class="comment">
          Returns the attributes for this tag.
          @return the <code>AttributeSet</code> for this tag,
                       or <code>null</code> if none can be found</div>
<a id="L1927" name="L1927"></a>1927         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15169.html" title="Multiple referred from 431 places.">getAttributes</a>() <em class="brace">{</em>
<a id="L1928" name="L1928"></a>1928             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = pos.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>();
<a id="L1929" name="L1929"></a>1929             <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1930" name="L1930"></a>1930                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = (<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>)
<a id="L1931" name="L1931"></a>1931                     elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(tag);
<a id="L1932" name="L1932"></a>1932                 <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1933" name="L1933"></a>1933                     <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1934" name="L1934"></a>1934                 <em class="brace">}</em>
<a id="L1935" name="L1935"></a>1935                 <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L1936" name="L1936"></a>1936             <em class="brace">}</em>
<a id="L1937" name="L1937"></a>1937             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1938" name="L1938"></a>1938         <em class="brace">}</em>
<a id="L1939" name="L1939"></a>1939 
<div class="comment">
          Returns the start of the range for which the current occurrence of
          the tag is defined and has the same attributes.
          @return the start of the range, or -1 if it can't be found</div>
<a id="L1946" name="L1946"></a>1946         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19172.html" title="Multiple referred from 263 places.">getStartOffset</a>() <em class="brace">{</em>
<a id="L1947" name="L1947"></a>1947             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = pos.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>();
<a id="L1948" name="L1948"></a>1948             <strong class="reserved">if</strong> (elem != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1949" name="L1949"></a>1949                 <strong class="reserved">return</strong> elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L1950" name="L1950"></a>1950             <em class="brace">}</em>
<a id="L1951" name="L1951"></a>1951             <strong class="reserved">return</strong> -1;
<a id="L1952" name="L1952"></a>1952         <em class="brace">}</em>
<a id="L1953" name="L1953"></a>1953 
<div class="comment">
          Returns the end of the range for which the current occurrence of
          the tag is defined and has the same attributes.
          @return the end of the range</div>
<a id="L1960" name="L1960"></a>1960         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16369.html" title="Multiple referred from 229 places.">getEndOffset</a>() <em class="brace">{</em>
<a id="L1961" name="L1961"></a>1961             <strong class="reserved">return</strong> endOffset;
<a id="L1962" name="L1962"></a>1962         <em class="brace">}</em>
<a id="L1963" name="L1963"></a>1963 
<div class="comment">
          Moves the iterator forward to the next occurrence
          of the tag it represents.</div>
<a id="L1968" name="L1968"></a>1968         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L1969" name="L1969"></a>1969             <strong class="reserved">for</strong> (<a href="../S/3320.html#L2008" title="Defined at 2008 in src/javax/swing/text/html/HTMLDocument.java.">nextLeaf</a>(pos); <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>(); <a href="../S/3320.html#L2008" title="Defined at 2008 in src/javax/swing/text/html/HTMLDocument.java.">nextLeaf</a>(pos)) <em class="brace">{</em>
<a id="L1970" name="L1970"></a>1970                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = pos.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>();
<a id="L1971" name="L1971"></a>1971                 <strong class="reserved">if</strong> (elem.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &gt;= endOffset) <em class="brace">{</em>
<a id="L1972" name="L1972"></a>1972                     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = pos.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>().<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1973" name="L1973"></a>1973 
<a id="L1974" name="L1974"></a>1974                     <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(tag) ||
<a id="L1975" name="L1975"></a>1975                         <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute) == tag) <em class="brace">{</em>
<a id="L1976" name="L1976"></a>1976 
<a id="L1977" name="L1977"></a>1977                         <em class="comment">// we found the next one</em>
<a id="L1978" name="L1978"></a>1978                         <a href="../S/3320.html#L2021" title="Defined at 2021 in src/javax/swing/text/html/HTMLDocument.java.">setEndOffset</a>();
<a id="L1979" name="L1979"></a>1979                         <strong class="reserved">break</strong>;
<a id="L1980" name="L1980"></a>1980                     <em class="brace">}</em>
<a id="L1981" name="L1981"></a>1981                 <em class="brace">}</em>
<a id="L1982" name="L1982"></a>1982             <em class="brace">}</em>
<a id="L1983" name="L1983"></a>1983         <em class="brace">}</em>
<a id="L1984" name="L1984"></a>1984 
<div class="comment">
          Returns the type of tag this iterator represents.
          @return the <code>HTML.Tag</code> that this iterator represents.
          @see javax.swing.text.html.HTML.Tag</div>
<a id="L1991" name="L1991"></a>1991         <strong class="reserved">public</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> <a href="../R/19378.html" title="Multiple referred from 42 places.">getTag</a>() <em class="brace">{</em>
<a id="L1992" name="L1992"></a>1992             <strong class="reserved">return</strong> tag;
<a id="L1993" name="L1993"></a>1993         <em class="brace">}</em>
<a id="L1994" name="L1994"></a>1994 
<div class="comment">
          Returns true if the current position is not <code>null</code>.
          @return true if current position is not <code>null</code>,
                       otherwise returns false</div>
<a id="L2000" name="L2000"></a>2000         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>() <em class="brace">{</em>
<a id="L2001" name="L2001"></a>2001             <strong class="reserved">return</strong> (pos.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <strong class="reserved">null</strong>);
<a id="L2002" name="L2002"></a>2002         <em class="brace">}</em>
<a id="L2003" name="L2003"></a>2003 
<div class="comment">
          Moves the given iterator to the next leaf element.
          @param iter  the iterator to be scanned</div>
<a id="L2008" name="L2008"></a>2008         <strong class="reserved">void</strong> <a href="../R/23674.html" title="Multiple referred from 2 places.">nextLeaf</a>(<a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>) <em class="brace">{</em>
<a id="L2009" name="L2009"></a>2009             <strong class="reserved">for</strong> (<a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(); <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <strong class="reserved">null</strong>; <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>()) <em class="brace">{</em>
<a id="L2010" name="L2010"></a>2010                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>();
<a id="L2011" name="L2011"></a>2011                 <strong class="reserved">if</strong> (e.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L2012" name="L2012"></a>2012                     <strong class="reserved">break</strong>;
<a id="L2013" name="L2013"></a>2013                 <em class="brace">}</em>
<a id="L2014" name="L2014"></a>2014             <em class="brace">}</em>
<a id="L2015" name="L2015"></a>2015         <em class="brace">}</em>
<a id="L2016" name="L2016"></a>2016 
<div class="comment">
          Marches a cloned iterator forward to locate the end
          of the run.  This sets the value of <code>endOffset</code>.</div>
<a id="L2021" name="L2021"></a>2021         <strong class="reserved">void</strong> <a href="../S/3320.html#L1978" title="Referred from 1978 in src/javax/swing/text/html/HTMLDocument.java.">setEndOffset</a>() <em class="brace">{</em>
<a id="L2022" name="L2022"></a>2022             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> a0 = <a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L2023" name="L2023"></a>2023             endOffset = pos.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>().<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L2024" name="L2024"></a>2024             <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> fwd = (<a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a>) pos.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L2025" name="L2025"></a>2025             <strong class="reserved">for</strong> (<a href="../S/3320.html#L2008" title="Defined at 2008 in src/javax/swing/text/html/HTMLDocument.java.">nextLeaf</a>(fwd); fwd.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>() != <strong class="reserved">null</strong>; <a href="../S/3320.html#L2008" title="Defined at 2008 in src/javax/swing/text/html/HTMLDocument.java.">nextLeaf</a>(fwd)) <em class="brace">{</em>
<a id="L2026" name="L2026"></a>2026                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = fwd.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>();
<a id="L2027" name="L2027"></a>2027                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> a1 = (<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>) e.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(tag);
<a id="L2028" name="L2028"></a>2028                 <strong class="reserved">if</strong> ((a1 == <strong class="reserved">null</strong>) || (! a1.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(a0))) <em class="brace">{</em>
<a id="L2029" name="L2029"></a>2029                     <strong class="reserved">break</strong>;
<a id="L2030" name="L2030"></a>2030                 <em class="brace">}</em>
<a id="L2031" name="L2031"></a>2031                 endOffset = e.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L2032" name="L2032"></a>2032             <em class="brace">}</em>
<a id="L2033" name="L2033"></a>2033         <em class="brace">}</em>
<a id="L2034" name="L2034"></a>2034 
<a id="L2035" name="L2035"></a>2035         <strong class="reserved">private</strong> <strong class="reserved">int</strong> endOffset;
<a id="L2036" name="L2036"></a>2036         <strong class="reserved">private</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> tag;
<a id="L2037" name="L2037"></a>2037         <strong class="reserved">private</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> pos;
<a id="L2038" name="L2038"></a>2038 
<a id="L2039" name="L2039"></a>2039     <em class="brace">}</em>
<a id="L2040" name="L2040"></a>2040 
<div class="comment">
      An HTML reader to load an HTML document with an HTML
      element structure.  This is a set of callbacks from
      the parser, implemented to create a set of elements
      tagged with attributes.  The parse builds up tokens
      (ElementSpec) that describe the element subtree desired,
      and burst it into the document under the protection of
      a write lock using the insert method on the document
      outer class.
      <p>
      The reader can be configured by registering actions
      (of type <code>HTMLDocument.HTMLReader.TagAction</code>)
      that describe how to handle the action.  The idea behind
      the actions provided is that the most natural text editing
      operations can be provided if the element structure boils
      down to paragraphs with runs of some kind of style
      in them.  Some things are more naturally specified
      structurally, so arbitrary structure should be allowed
      above the paragraphs, but will need to be edited with structural
      actions.  The implication of this is that some of the
      HTML elements specified in the stream being parsed will
      be collapsed into attributes, and in some cases paragraphs
      will be synthesized.  When HTML elements have been
      converted to attributes, the attribute key will be of
      type HTML.Tag, and the value will be of type AttributeSet
      so that no information is lost.  This enables many of the
      existing actions to work so that the user can type input,
      hit the return key, backspace, delete, etc and have a
      reasonable result.  Selections can be created, and attributes
      applied or removed, etc.  With this in mind, the work done
      by the reader can be categorized into the following kinds
      of tasks:
      </p><dl>
      <dt>Block
      </dt><dd>Build the structure like it's specified in the stream.
      This produces elements that contain other elements.
      </dd><dt>Paragraph
      </dt><dd>Like block except that it's expected that the element
      will be used with a paragraph view so a paragraph element
      won't need to be synthesized.
      </dd><dt>Character
      </dt><dd>Contribute the element as an attribute that will start
      and stop at arbitrary text locations.  This will ultimately
      be mixed into a run of text, with all of the currently
      flattened HTML character elements.
      </dd><dt>Special
      </dt><dd>Produce an embedded graphical element.
      </dd><dt>Form
      </dt><dd>Produce an element that is like the embedded graphical
      element, except that it also has a component model associated
      with it.
      </dd><dt>Hidden
      </dt><dd>Create an element that is hidden from view when the
      document is being viewed read-only, and visible when the
      document is being edited.  This is useful to keep the
      model from losing information, and used to store things
      like comments and unrecognized tags.
      </dd></dl>
      <p>
      Currently, &lt;APPLET&gt;, &lt;PARAM&gt;, &lt;MAP&gt;, &lt;AREA&gt;, &lt;LINK&gt;,
      &lt;SCRIPT&gt; and &lt;STYLE&gt; are unsupported.
      </p><p>
      The assignment of the actions described is shown in the
      following table for the tags defined in <code>HTML.Tag</code>.
      </p><table border="1" summary="HTML tags and assigned actions">
      <tbody><tr><th>Tag</th><th>Action</th></tr>
      <tr><td><code>HTML.Tag.A</code>         </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.ADDRESS</code>   </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.APPLET</code>    </td><td>HiddenAction
      </td></tr><tr><td><code>HTML.Tag.AREA</code>      </td><td>AreaAction
      </td></tr><tr><td><code>HTML.Tag.B</code>         </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.BASE</code>      </td><td>BaseAction
      </td></tr><tr><td><code>HTML.Tag.BASEFONT</code>  </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.BIG</code>       </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.BLOCKQUOTE</code></td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.BODY</code>      </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.BR</code>        </td><td>SpecialAction
      </td></tr><tr><td><code>HTML.Tag.CAPTION</code>   </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.CENTER</code>    </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.CITE</code>      </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.CODE</code>      </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.DD</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.DFN</code>       </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.DIR</code>       </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.DIV</code>       </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.DL</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.DT</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.EM</code>        </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.FONT</code>      </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.FORM</code>      </td><td>As of 1.4 a BlockAction
      </td></tr><tr><td><code>HTML.Tag.FRAME</code>     </td><td>SpecialAction
      </td></tr><tr><td><code>HTML.Tag.FRAMESET</code>  </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.H1</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.H2</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.H3</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.H4</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.H5</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.H6</code>        </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.HEAD</code>      </td><td>HeadAction
      </td></tr><tr><td><code>HTML.Tag.HR</code>        </td><td>SpecialAction
      </td></tr><tr><td><code>HTML.Tag.HTML</code>      </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.I</code>         </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.IMG</code>       </td><td>SpecialAction
      </td></tr><tr><td><code>HTML.Tag.INPUT</code>     </td><td>FormAction
      </td></tr><tr><td><code>HTML.Tag.ISINDEX</code>   </td><td>IsndexAction
      </td></tr><tr><td><code>HTML.Tag.KBD</code>       </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.LI</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.LINK</code>      </td><td>LinkAction
      </td></tr><tr><td><code>HTML.Tag.MAP</code>       </td><td>MapAction
      </td></tr><tr><td><code>HTML.Tag.MENU</code>      </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.META</code>      </td><td>MetaAction
      </td></tr><tr><td><code>HTML.Tag.NOFRAMES</code>  </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.OBJECT</code>    </td><td>SpecialAction
      </td></tr><tr><td><code>HTML.Tag.OL</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.OPTION</code>    </td><td>FormAction
      </td></tr><tr><td><code>HTML.Tag.P</code>         </td><td>ParagraphAction
      </td></tr><tr><td><code>HTML.Tag.PARAM</code>     </td><td>HiddenAction
      </td></tr><tr><td><code>HTML.Tag.PRE</code>       </td><td>PreAction
      </td></tr><tr><td><code>HTML.Tag.SAMP</code>      </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.SCRIPT</code>    </td><td>HiddenAction
      </td></tr><tr><td><code>HTML.Tag.SELECT</code>    </td><td>FormAction
      </td></tr><tr><td><code>HTML.Tag.SMALL</code>     </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.STRIKE</code>    </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.S</code>         </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.STRONG</code>    </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.STYLE</code>     </td><td>StyleAction
      </td></tr><tr><td><code>HTML.Tag.SUB</code>       </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.SUP</code>       </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.TABLE</code>     </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.TD</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.TEXTAREA</code>  </td><td>FormAction
      </td></tr><tr><td><code>HTML.Tag.TH</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.TITLE</code>     </td><td>TitleAction
      </td></tr><tr><td><code>HTML.Tag.TR</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.TT</code>        </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.U</code>         </td><td>CharacterAction
      </td></tr><tr><td><code>HTML.Tag.UL</code>        </td><td>BlockAction
      </td></tr><tr><td><code>HTML.Tag.VAR</code>       </td><td>CharacterAction
      </td></tr></tbody></table>
      <p>
      Once &lt;/html&gt; is encountered, the Actions are no longer notified.</p></div>
<a id="L2185" name="L2185"></a>2185     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/3366.html" title="Multiple referred from 3 places.">HTMLReader</a> <strong class="reserved">extends</strong> <a href="../S/3322.html#L163" title="Defined at 163 in src/javax/swing/text/html/HTMLEditorKit.java.">HTMLEditorKit</a>.<a href="../S/3322.html#L989" title="Defined at 989 in src/javax/swing/text/html/HTMLEditorKit.java.">ParserCallback</a> <em class="brace">{</em>
<a id="L2186" name="L2186"></a>2186 
<a id="L2187" name="L2187"></a>2187         <strong class="reserved">public</strong> HTMLReader(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L2188" name="L2188"></a>2188             <strong class="reserved">this</strong>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, 0, 0, <strong class="reserved">null</strong>);
<a id="L2189" name="L2189"></a>2189         <em class="brace">}</em>
<a id="L2190" name="L2190"></a>2190 
<a id="L2191" name="L2191"></a>2191         <strong class="reserved">public</strong> HTMLReader(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> popDepth, <strong class="reserved">int</strong> pushDepth,
<a id="L2192" name="L2192"></a>2192                           <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> insertTag) <em class="brace">{</em>
<a id="L2193" name="L2193"></a>2193             <strong class="reserved">this</strong>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, popDepth, pushDepth, insertTag, <strong class="reserved">true</strong>, <strong class="reserved">false</strong>, <strong class="reserved">true</strong>);
<a id="L2194" name="L2194"></a>2194         <em class="brace">}</em>
<a id="L2195" name="L2195"></a>2195 
<div class="comment">
          Generates a RuntimeException (will eventually generate
          a BadLocationException when API changes are alloced) if inserting
          into non empty document, <code>insertTag</code> is
          non-<code>null</code>, and <code>offset</code> is not in the body.</div>
<a id="L2202" name="L2202"></a>2202         <em class="comment">// PENDING(sky): Add throws BadLocationException and remove</em>
<a id="L2203" name="L2203"></a>2203         <em class="comment">// RuntimeException</em>
<a id="L2204" name="L2204"></a>2204         HTMLReader(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> popDepth, <strong class="reserved">int</strong> pushDepth,
<a id="L2205" name="L2205"></a>2205                    <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> insertTag, <strong class="reserved">boolean</strong> insertInsertTag,
<a id="L2206" name="L2206"></a>2206                    <strong class="reserved">boolean</strong> insertAfterImplied, <strong class="reserved">boolean</strong> wantsTrailingNewline) <em class="brace">{</em>
<a id="L2207" name="L2207"></a>2207             emptyDocument = (<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() == 0);
<a id="L2208" name="L2208"></a>2208             isStyleCSS = "text/css".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3320.html#L936" title="Defined at 936 in src/javax/swing/text/html/HTMLDocument.java.">getDefaultStyleSheetType</a>());
<a id="L2209" name="L2209"></a>2209             <strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L2210" name="L2210"></a>2210             <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> = <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../S/3320.html#L634" title="Defined at 634 in src/javax/swing/text/html/HTMLDocument.java.">getTokenThreshold</a>();
<a id="L2211" name="L2211"></a>2211             tagMap = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>, <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a>&gt;(57);
<a id="L2212" name="L2212"></a>2212             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> na = <strong class="reserved">new</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a>();
<a id="L2213" name="L2213"></a>2213             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> ba = <strong class="reserved">new</strong> <a href="../S/3320.html#L2797" title="Defined at 2797 in src/javax/swing/text/html/HTMLDocument.java.">BlockAction</a>();
<a id="L2214" name="L2214"></a>2214             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> pa = <strong class="reserved">new</strong> <a href="../S/3320.html#L2834" title="Defined at 2834 in src/javax/swing/text/html/HTMLDocument.java.">ParagraphAction</a>();
<a id="L2215" name="L2215"></a>2215             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> ca = <strong class="reserved">new</strong> <a href="../S/3320.html#L3111" title="Defined at 3111 in src/javax/swing/text/html/HTMLDocument.java.">CharacterAction</a>();
<a id="L2216" name="L2216"></a>2216             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> sa = <strong class="reserved">new</strong> <a href="../S/3320.html#L2847" title="Defined at 2847 in src/javax/swing/text/html/HTMLDocument.java.">SpecialAction</a>();
<a id="L2217" name="L2217"></a>2217             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> fa = <strong class="reserved">new</strong> <a href="../S/3320.html#L3356" title="Defined at 3356 in src/javax/swing/text/html/HTMLDocument.java.">FormAction</a>();
<a id="L2218" name="L2218"></a>2218             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> ha = <strong class="reserved">new</strong> <a href="../S/3320.html#L2866" title="Defined at 2866 in src/javax/swing/text/html/HTMLDocument.java.">HiddenAction</a>();
<a id="L2219" name="L2219"></a>2219             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> conv = <strong class="reserved">new</strong> <a href="../S/3320.html#L3149" title="Defined at 3149 in src/javax/swing/text/html/HTMLDocument.java.">ConvertAction</a>();
<a id="L2220" name="L2220"></a>2220 
<a id="L2221" name="L2221"></a>2221             <em class="comment">// register handlers for the well known tags</em>
<a id="L2222" name="L2222"></a>2222             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.A, <strong class="reserved">new</strong> <a href="../S/3320.html#L3225" title="Defined at 3225 in src/javax/swing/text/html/HTMLDocument.java.">AnchorAction</a>());
<a id="L2223" name="L2223"></a>2223             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.ADDRESS, ca);
<a id="L2224" name="L2224"></a>2224             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.APPLET, ha);
<a id="L2225" name="L2225"></a>2225             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.AREA, <strong class="reserved">new</strong> <a href="../S/3320.html#L3057" title="Defined at 3057 in src/javax/swing/text/html/HTMLDocument.java.">AreaAction</a>());
<a id="L2226" name="L2226"></a>2226             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.B, conv);
<a id="L2227" name="L2227"></a>2227             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BASE, <strong class="reserved">new</strong> <a href="../S/3320.html#L3264" title="Defined at 3264 in src/javax/swing/text/html/HTMLDocument.java.">BaseAction</a>());
<a id="L2228" name="L2228"></a>2228             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BASEFONT, ca);
<a id="L2229" name="L2229"></a>2229             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BIG, ca);
<a id="L2230" name="L2230"></a>2230             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BLOCKQUOTE, ba);
<a id="L2231" name="L2231"></a>2231             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY, ba);
<a id="L2232" name="L2232"></a>2232             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BR, sa);
<a id="L2233" name="L2233"></a>2233             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CAPTION, ba);
<a id="L2234" name="L2234"></a>2234             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CENTER, ba);
<a id="L2235" name="L2235"></a>2235             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CITE, ca);
<a id="L2236" name="L2236"></a>2236             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6604.html#L53" title="Defined at 53 in src/com/sun/source/doctree/DocTree.java.">CODE</a>, ca);
<a id="L2237" name="L2237"></a>2237             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.DD, ba);
<a id="L2238" name="L2238"></a>2238             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.DFN, ca);
<a id="L2239" name="L2239"></a>2239             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.DIR, ba);
<a id="L2240" name="L2240"></a>2240             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../D/2028.html" title="Multiple defined in 3 places.">DIV</a>, ba);
<a id="L2241" name="L2241"></a>2241             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.DL, ba);
<a id="L2242" name="L2242"></a>2242             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.DT, pa);
<a id="L2243" name="L2243"></a>2243             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.EM, ca);
<a id="L2244" name="L2244"></a>2244             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FONT, conv);
<a id="L2245" name="L2245"></a>2245             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FORM, <strong class="reserved">new</strong> <a href="../S/3320.html#L2813" title="Defined at 2813 in src/javax/swing/text/html/HTMLDocument.java.">FormTagAction</a>());
<a id="L2246" name="L2246"></a>2246             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FRAME, sa);
<a id="L2247" name="L2247"></a>2247             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FRAMESET, ba);
<a id="L2248" name="L2248"></a>2248             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.H1, pa);
<a id="L2249" name="L2249"></a>2249             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.H2, pa);
<a id="L2250" name="L2250"></a>2250             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.H3, pa);
<a id="L2251" name="L2251"></a>2251             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.H4, pa);
<a id="L2252" name="L2252"></a>2252             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.H5, pa);
<a id="L2253" name="L2253"></a>2253             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.H6, pa);
<a id="L2254" name="L2254"></a>2254             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.HEAD, <strong class="reserved">new</strong> <a href="../S/3320.html#L2927" title="Defined at 2927 in src/javax/swing/text/html/HTMLDocument.java.">HeadAction</a>());
<a id="L2255" name="L2255"></a>2255             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.HR, sa);
<a id="L2256" name="L2256"></a>2256             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>, ba);
<a id="L2257" name="L2257"></a>2257             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.I, conv);
<a id="L2258" name="L2258"></a>2258             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMG, sa);
<a id="L2259" name="L2259"></a>2259             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.INPUT, fa);
<a id="L2260" name="L2260"></a>2260             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.ISINDEX, <strong class="reserved">new</strong> <a href="../S/3320.html#L2855" title="Defined at 2855 in src/javax/swing/text/html/HTMLDocument.java.">IsindexAction</a>());
<a id="L2261" name="L2261"></a>2261             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.KBD, ca);
<a id="L2262" name="L2262"></a>2262             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.LI, ba);
<a id="L2263" name="L2263"></a>2263             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6604.html#L119" title="Defined at 119 in src/com/sun/source/doctree/DocTree.java.">LINK</a>, <strong class="reserved">new</strong> <a href="../S/3320.html#L3026" title="Defined at 3026 in src/javax/swing/text/html/HTMLDocument.java.">LinkAction</a>());
<a id="L2264" name="L2264"></a>2264             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.MAP, <strong class="reserved">new</strong> <a href="../D/5399.html" title="Multiple defined in 2 places.">MapAction</a>());
<a id="L2265" name="L2265"></a>2265             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6754.html#L88" title="Defined at 88 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">MENU</a>, ba);
<a id="L2266" name="L2266"></a>2266             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.META, <strong class="reserved">new</strong> <a href="../S/3320.html#L2894" title="Defined at 2894 in src/javax/swing/text/html/HTMLDocument.java.">MetaAction</a>());
<a id="L2267" name="L2267"></a>2267             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.NOBR, ca);
<a id="L2268" name="L2268"></a>2268             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.NOFRAMES, ba);
<a id="L2269" name="L2269"></a>2269             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.OBJECT, sa);
<a id="L2270" name="L2270"></a>2270             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.OL, ba);
<a id="L2271" name="L2271"></a>2271             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.OPTION, fa);
<a id="L2272" name="L2272"></a>2272             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.P, pa);
<a id="L2273" name="L2273"></a>2273             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6604.html#L137" title="Defined at 137 in src/com/sun/source/doctree/DocTree.java.">PARAM</a>, <strong class="reserved">new</strong> <a href="../S/3320.html#L3280" title="Defined at 3280 in src/javax/swing/text/html/HTMLDocument.java.">ObjectAction</a>());
<a id="L2274" name="L2274"></a>2274             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.PRE, <strong class="reserved">new</strong> <a href="../S/3320.html#L3093" title="Defined at 3093 in src/javax/swing/text/html/HTMLDocument.java.">PreAction</a>());
<a id="L2275" name="L2275"></a>2275             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SAMP, ca);
<a id="L2276" name="L2276"></a>2276             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SCRIPT, ha);
<a id="L2277" name="L2277"></a>2277             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SELECT, fa);
<a id="L2278" name="L2278"></a>2278             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SMALL, ca);
<a id="L2279" name="L2279"></a>2279             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SPAN, ca);
<a id="L2280" name="L2280"></a>2280             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.STRIKE, conv);
<a id="L2281" name="L2281"></a>2281             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.S, ca);
<a id="L2282" name="L2282"></a>2282             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.STRONG, ca);
<a id="L2283" name="L2283"></a>2283             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.STYLE, <strong class="reserved">new</strong> <a href="../S/3320.html#L3070" title="Defined at 3070 in src/javax/swing/text/html/HTMLDocument.java.">StyleAction</a>());
<a id="L2284" name="L2284"></a>2284             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../D/7568.html" title="Multiple defined in 3 places.">SUB</a>, conv);
<a id="L2285" name="L2285"></a>2285             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SUP, conv);
<a id="L2286" name="L2286"></a>2286             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TABLE, ba);
<a id="L2287" name="L2287"></a>2287             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TD, ba);
<a id="L2288" name="L2288"></a>2288             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TEXTAREA, fa);
<a id="L2289" name="L2289"></a>2289             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TH, ba);
<a id="L2290" name="L2290"></a>2290             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TITLE, <strong class="reserved">new</strong> <a href="../S/3320.html#L3246" title="Defined at 3246 in src/javax/swing/text/html/HTMLDocument.java.">TitleAction</a>());
<a id="L2291" name="L2291"></a>2291             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TR, ba);
<a id="L2292" name="L2292"></a>2292             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TT, ca);
<a id="L2293" name="L2293"></a>2293             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.U, conv);
<a id="L2294" name="L2294"></a>2294             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.UL, ba);
<a id="L2295" name="L2295"></a>2295             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.VAR, ca);
<a id="L2296" name="L2296"></a>2296 
<a id="L2297" name="L2297"></a>2297             <strong class="reserved">if</strong> (insertTag != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2298" name="L2298"></a>2298                 <strong class="reserved">this</strong>.insertTag = insertTag;
<a id="L2299" name="L2299"></a>2299                 <strong class="reserved">this</strong>.popDepth = popDepth;
<a id="L2300" name="L2300"></a>2300                 <strong class="reserved">this</strong>.pushDepth = pushDepth;
<a id="L2301" name="L2301"></a>2301                 <strong class="reserved">this</strong>.insertInsertTag = insertInsertTag;
<a id="L2302" name="L2302"></a>2302                 <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> = <strong class="reserved">false</strong>;
<a id="L2303" name="L2303"></a>2303             <em class="brace">}</em>
<a id="L2304" name="L2304"></a>2304             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2305" name="L2305"></a>2305                 <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> = <strong class="reserved">true</strong>;
<a id="L2306" name="L2306"></a>2306             <em class="brace">}</em>
<a id="L2307" name="L2307"></a>2307             <strong class="reserved">if</strong> (insertAfterImplied) <em class="brace">{</em>
<a id="L2308" name="L2308"></a>2308                 <strong class="reserved">this</strong>.popDepth = popDepth;
<a id="L2309" name="L2309"></a>2309                 <strong class="reserved">this</strong>.pushDepth = pushDepth;
<a id="L2310" name="L2310"></a>2310                 <strong class="reserved">this</strong>.insertAfterImplied = <strong class="reserved">true</strong>;
<a id="L2311" name="L2311"></a>2311                 <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> = <strong class="reserved">false</strong>;
<a id="L2312" name="L2312"></a>2312                 midInsert = <strong class="reserved">false</strong>;
<a id="L2313" name="L2313"></a>2313                 <strong class="reserved">this</strong>.insertInsertTag = <strong class="reserved">true</strong>;
<a id="L2314" name="L2314"></a>2314                 <strong class="reserved">this</strong>.wantsTrailingNewline = wantsTrailingNewline;
<a id="L2315" name="L2315"></a>2315             <em class="brace">}</em>
<a id="L2316" name="L2316"></a>2316             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2317" name="L2317"></a>2317                 midInsert = (!emptyDocument &amp;&amp; insertTag == <strong class="reserved">null</strong>);
<a id="L2318" name="L2318"></a>2318                 <strong class="reserved">if</strong> (midInsert) <em class="brace">{</em>
<a id="L2319" name="L2319"></a>2319                     <a href="../S/3320.html#L2357" title="Defined at 2357 in src/javax/swing/text/html/HTMLDocument.java.">generateEndsSpecsForMidInsert</a>();
<a id="L2320" name="L2320"></a>2320                 <em class="brace">}</em>
<a id="L2321" name="L2321"></a>2321             <em class="brace">}</em>
<a id="L2322" name="L2322"></a>2322 
<div class="comment">
              This block initializes the <code>inParagraph</code> flag.
              It is left in <code>false</code> value automatically
              if the target document is empty or future inserts
              were positioned into the 'body' tag.</div>
<a id="L2329" name="L2329"></a>2329             <strong class="reserved">if</strong> (!emptyDocument &amp;&amp; !midInsert) <em class="brace">{</em>
<a id="L2330" name="L2330"></a>2330                 <strong class="reserved">int</strong> targetOffset = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(<strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1, 0);
<a id="L2331" name="L2331"></a>2331                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem =
<a id="L2332" name="L2332"></a>2332                         <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/17608.html" title="Multiple defined in 2 places.">getCharacterElement</a>(targetOffset);
<div class="comment">
                 /* Going up by the left document structure path */</div>
<a id="L2334" name="L2334"></a>2334                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt;= <strong class="reserved">this</strong>.popDepth; i++) <em class="brace">{</em>
<a id="L2335" name="L2335"></a>2335                     elem = elem.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L2336" name="L2336"></a>2336                 <em class="brace">}</em>
<div class="comment">
                 /* Going down by the right document structure path */</div>
<a id="L2338" name="L2338"></a>2338                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <strong class="reserved">this</strong>.pushDepth; i++) <em class="brace">{</em>
<a id="L2339" name="L2339"></a>2339                     <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = elem.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L2340" name="L2340"></a>2340                     elem = elem.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2341" name="L2341"></a>2341                 <em class="brace">}</em>
<a id="L2342" name="L2342"></a>2342                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs = elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L2343" name="L2343"></a>2343                 <strong class="reserved">if</strong> (attrs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2344" name="L2344"></a>2344                     <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> tagToInsertInto =
<a id="L2345" name="L2345"></a>2345                             (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) attrs.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L2346" name="L2346"></a>2346                     <strong class="reserved">if</strong> (tagToInsertInto != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2347" name="L2347"></a>2347                         <strong class="reserved">this</strong>.inParagraph = tagToInsertInto.<a href="../S/3287.html#L138" title="Defined at 138 in src/javax/swing/text/html/HTML.java.">isParagraph</a>();
<a id="L2348" name="L2348"></a>2348                     <em class="brace">}</em>
<a id="L2349" name="L2349"></a>2349                 <em class="brace">}</em>
<a id="L2350" name="L2350"></a>2350             <em class="brace">}</em>
<a id="L2351" name="L2351"></a>2351         <em class="brace">}</em>
<a id="L2352" name="L2352"></a>2352 
<div class="comment">
          Generates an initial batch of end <code>ElementSpecs</code>
          in parseBuffer to position future inserts into the body.</div>
<a id="L2357" name="L2357"></a>2357         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L2319" title="Referred from 2319 in src/javax/swing/text/html/HTMLDocument.java.">generateEndsSpecsForMidInsert</a>() <em class="brace">{</em>
<a id="L2358" name="L2358"></a>2358             <strong class="reserved">int</strong>           <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <a href="../S/3320.html#L2424" title="Defined at 2424 in src/javax/swing/text/html/HTMLDocument.java.">heightToElementWithName</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY,
<a id="L2359" name="L2359"></a>2359                                                    <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1));
<a id="L2360" name="L2360"></a>2360             <strong class="reserved">boolean</strong>       joinNext = <strong class="reserved">false</strong>;
<a id="L2361" name="L2361"></a>2361 
<a id="L2362" name="L2362"></a>2362             <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == -1 &amp;&amp; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; 0) <em class="brace">{</em>
<a id="L2363" name="L2363"></a>2363                 <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <a href="../S/3320.html#L2424" title="Defined at 2424 in src/javax/swing/text/html/HTMLDocument.java.">heightToElementWithName</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L2364" name="L2364"></a>2364                 <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> != -1) <em class="brace">{</em>
<a id="L2365" name="L2365"></a>2365                     <em class="comment">// Previous isn't in body, but current is. Have to</em>
<a id="L2366" name="L2366"></a>2366                     <em class="comment">// do some end specs, followed by join next.</em>
<a id="L2367" name="L2367"></a>2367                     <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <a href="../S/3320.html#L2407" title="Defined at 2407 in src/javax/swing/text/html/HTMLDocument.java.">depthTo</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1) - 1;
<a id="L2368" name="L2368"></a>2368                     joinNext = <strong class="reserved">true</strong>;
<a id="L2369" name="L2369"></a>2369                 <em class="brace">}</em>
<a id="L2370" name="L2370"></a>2370             <em class="brace">}</em>
<a id="L2371" name="L2371"></a>2371             <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> == -1) <em class="brace">{</em>
<a id="L2372" name="L2372"></a>2372                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Must insert new content into body element-");
<a id="L2373" name="L2373"></a>2373             <em class="brace">}</em>
<a id="L2374" name="L2374"></a>2374             <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> != -1) <em class="brace">{</em>
<a id="L2375" name="L2375"></a>2375                 <em class="comment">// Insert a newline, if necessary.</em>
<a id="L2376" name="L2376"></a>2376                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2377" name="L2377"></a>2377                     <strong class="reserved">if</strong> (!joinNext &amp;&amp; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; 0 &amp;&amp;
<a id="L2378" name="L2378"></a>2378                         !<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1, 1).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("\n")) <em class="brace">{</em>
<a id="L2379" name="L2379"></a>2379                         <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a> newAttrs = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L2380" name="L2380"></a>2380                         newAttrs.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute,
<a id="L2381" name="L2381"></a>2381                                               <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L2382" name="L2382"></a>2382                         <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> spec = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(newAttrs,
<a id="L2383" name="L2383"></a>2383                                     <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType, NEWLINE, 0, 1);
<a id="L2384" name="L2384"></a>2384                         parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(spec);
<a id="L2385" name="L2385"></a>2385                     <em class="brace">}</em>
<a id="L2386" name="L2386"></a>2386                     <em class="comment">// Should never throw, but will catch anyway.</em>
<a id="L2387" name="L2387"></a>2387                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L2388" name="L2388"></a>2388                 <strong class="reserved">while</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>-- &gt; 0) <em class="brace">{</em>
<a id="L2389" name="L2389"></a>2389                     parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>
<a id="L2390" name="L2390"></a>2390                                            (<strong class="reserved">null</strong>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.EndTagType));
<a id="L2391" name="L2391"></a>2391                 <em class="brace">}</em>
<a id="L2392" name="L2392"></a>2392                 <strong class="reserved">if</strong> (joinNext) <em class="brace">{</em>
<a id="L2393" name="L2393"></a>2393                     <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> spec = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(<strong class="reserved">null</strong>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.
<a id="L2394" name="L2394"></a>2394                                                        StartTagType);
<a id="L2395" name="L2395"></a>2395 
<a id="L2396" name="L2396"></a>2396                     spec.<a href="../D/32461.html" title="Multiple defined in 6 places.">setDirection</a>(<a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.JoinNextDirection);
<a id="L2397" name="L2397"></a>2397                     parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(spec);
<a id="L2398" name="L2398"></a>2398                 <em class="brace">}</em>
<a id="L2399" name="L2399"></a>2399             <em class="brace">}</em>
<a id="L2400" name="L2400"></a>2400             <em class="comment">// We should probably throw an exception if (count == -1)</em>
<a id="L2401" name="L2401"></a>2401             <em class="comment">// Or look for the body and reset the offset.</em>
<a id="L2402" name="L2402"></a>2402         <em class="brace">}</em>
<a id="L2403" name="L2403"></a>2403 
<div class="comment">
          @return number of parents to reach the child at offset.</div>
<a id="L2407" name="L2407"></a>2407         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/13227.html" title="Multiple referred from 2 places.">depthTo</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L2408" name="L2408"></a>2408             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>       e = <a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L2409" name="L2409"></a>2409             <strong class="reserved">int</strong>           <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = 0;
<a id="L2410" name="L2410"></a>2410 
<a id="L2411" name="L2411"></a>2411             <strong class="reserved">while</strong> (!e.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L2412" name="L2412"></a>2412                 <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++;
<a id="L2413" name="L2413"></a>2413                 e = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(e.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>));
<a id="L2414" name="L2414"></a>2414             <em class="brace">}</em>
<a id="L2415" name="L2415"></a>2415             <strong class="reserved">return</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L2416" name="L2416"></a>2416         <em class="brace">}</em>
<a id="L2417" name="L2417"></a>2417 
<div class="comment">
          @return number of parents of the leaf at <code>offset</code>
                  until a parent with name, <code>name</code> has been
                  found. -1 indicates no matching parent with
                  <code>name</code>.</div>
<a id="L2424" name="L2424"></a>2424         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/20308.html" title="Multiple referred from 2 places.">heightToElementWithName</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L2425" name="L2425"></a>2425             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>       e = <a href="../D/17608.html" title="Multiple defined in 2 places.">getCharacterElement</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>).<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L2426" name="L2426"></a>2426             <strong class="reserved">int</strong>           <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = 0;
<a id="L2427" name="L2427"></a>2427 
<a id="L2428" name="L2428"></a>2428             <strong class="reserved">while</strong> (e != <strong class="reserved">null</strong> &amp;&amp; e.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L2429" name="L2429"></a>2429                    (<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute) != <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L2430" name="L2430"></a>2430                 <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>++;
<a id="L2431" name="L2431"></a>2431                 e = e.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L2432" name="L2432"></a>2432             <em class="brace">}</em>
<a id="L2433" name="L2433"></a>2433             <strong class="reserved">return</strong> (e == <strong class="reserved">null</strong>) ? -1 : <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L2434" name="L2434"></a>2434         <em class="brace">}</em>
<a id="L2435" name="L2435"></a>2435 
<div class="comment">
          This will make sure there aren't two BODYs (the second is
          typically created when you do a remove all, and then an insert).</div>
<a id="L2440" name="L2440"></a>2440         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L2539" title="Referred from 2539 in src/javax/swing/text/html/HTMLDocument.java.">adjustEndElement</a>() <em class="brace">{</em>
<a id="L2441" name="L2441"></a>2441             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L2442" name="L2442"></a>2442             <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L2443" name="L2443"></a>2443                 <strong class="reserved">return</strong>;
<a id="L2444" name="L2444"></a>2444             <em class="brace">}</em>
<a id="L2445" name="L2445"></a>2445             <a href="../S/3320.html#L1716" title="Defined at 1716 in src/javax/swing/text/html/HTMLDocument.java.">obtainLock</a>();
<a id="L2446" name="L2446"></a>2446             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2447" name="L2447"></a>2447                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] pPath = <a href="../S/3320.html#L2513" title="Defined at 2513 in src/javax/swing/text/html/HTMLDocument.java.">getPathTo</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1);
<a id="L2448" name="L2448"></a>2448                 <strong class="reserved">int</strong> pLength = pPath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L2449" name="L2449"></a>2449                 <strong class="reserved">if</strong> (pLength &gt; 1 &amp;&amp; pPath[1].<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L2450" name="L2450"></a>2450                          (<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute) == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY &amp;&amp;
<a id="L2451" name="L2451"></a>2451                          pPath[1].<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() == <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L2452" name="L2452"></a>2452                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lastText = <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1, 1);
<a id="L2453" name="L2453"></a>2453                     <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a> event;
<a id="L2454" name="L2454"></a>2454                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] added;
<a id="L2455" name="L2455"></a>2455                     <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] removed;
<a id="L2456" name="L2456"></a>2456                     <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2457" name="L2457"></a>2457                     <em class="comment">// Remove the fake second body.</em>
<a id="L2458" name="L2458"></a>2458                     added = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[0];
<a id="L2459" name="L2459"></a>2459                     removed = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[1];
<a id="L2460" name="L2460"></a>2460                     <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = pPath[0].<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2461" name="L2461"></a>2461                     removed[0] = pPath[0].<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2462" name="L2462"></a>2462                     ((<a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>)pPath[0]).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, 1, added);
<a id="L2463" name="L2463"></a>2463                     <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a> firstEdit = <strong class="reserved">new</strong> <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a>(pPath[0], <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>,
<a id="L2464" name="L2464"></a>2464                                                             removed, added);
<a id="L2465" name="L2465"></a>2465 
<a id="L2466" name="L2466"></a>2466                     <em class="comment">// Insert a new element to represent the end that the</em>
<a id="L2467" name="L2467"></a>2467                     <em class="comment">// second body was representing.</em>
<a id="L2468" name="L2468"></a>2468                     <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a> sas = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L2469" name="L2469"></a>2469                     sas.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute,
<a id="L2470" name="L2470"></a>2470                                          <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L2471" name="L2471"></a>2471                     sas.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(IMPLIED_CR, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L2472" name="L2472"></a>2472                     added = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[1];
<a id="L2473" name="L2473"></a>2473                     added[0] = <a href="../D/14006.html" title="Multiple defined in 2 places.">createLeafElement</a>(pPath[pLength - 1],
<a id="L2474" name="L2474"></a>2474                                                      sas, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + 1);
<a id="L2475" name="L2475"></a>2475                     <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = pPath[pLength - 1].<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L2476" name="L2476"></a>2476                     ((<a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a>)pPath[pLength - 1]).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, 0,
<a id="L2477" name="L2477"></a>2477                                                                 added);
<a id="L2478" name="L2478"></a>2478                     event = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, 1,
<a id="L2479" name="L2479"></a>2479                                             <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.CHANGE);
<a id="L2480" name="L2480"></a>2480                     event.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<strong class="reserved">new</strong> <a href="../S/3268.html#L2998" title="Defined at 2998 in src/javax/swing/text/AbstractDocument.java.">ElementEdit</a>(pPath[pLength - 1],
<a id="L2481" name="L2481"></a>2481                                          <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[0], added));
<a id="L2482" name="L2482"></a>2482                     event.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(firstEdit);
<a id="L2483" name="L2483"></a>2483                     event.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L2484" name="L2484"></a>2484                     <a href="../D/16316.html" title="Multiple defined in 2 places.">fireChangedUpdate</a>(event);
<a id="L2485" name="L2485"></a>2485                     <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(<strong class="reserved">this</strong>, event));
<a id="L2486" name="L2486"></a>2486 
<a id="L2487" name="L2487"></a>2487                     <strong class="reserved">if</strong> (lastText.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("\n")) <em class="brace">{</em>
<a id="L2488" name="L2488"></a>2488                         <em class="comment">// We now have two \n's, one part of the Document.</em>
<a id="L2489" name="L2489"></a>2489                         <em class="comment">// We need to remove one</em>
<a id="L2490" name="L2490"></a>2490                         event = <strong class="reserved">new</strong> <a href="../S/3268.html#L2708" title="Defined at 2708 in src/javax/swing/text/AbstractDocument.java.">DefaultDocumentEvent</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1, 1,
<a id="L2491" name="L2491"></a>2491                                            <a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a>.<a href="../D/3004.html" title="Multiple defined in 3 places.">EventType</a>.REMOVE);
<a id="L2492" name="L2492"></a>2492                         <a href="../D/30986.html" title="Multiple defined in 27 places.">removeUpdate</a>(event);
<a id="L2493" name="L2493"></a>2493                         <a href="../S/3139.html#L68" title="Defined at 68 in src/javax/swing/undo/UndoableEdit.java.">UndoableEdit</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = <a href="../D/17951.html" title="Multiple defined in 22 places.">getContent</a>().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1, 1);
<a id="L2494" name="L2494"></a>2494                         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2495" name="L2495"></a>2495                             event.<a href="../D/10772.html" title="Multiple defined in 5 places.">addEdit</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L2496" name="L2496"></a>2496                         <em class="brace">}</em>
<a id="L2497" name="L2497"></a>2497                         <a href="../S/3268.html#L1009" title="Defined at 1009 in src/javax/swing/text/AbstractDocument.java.">postRemoveUpdate</a>(event);
<a id="L2498" name="L2498"></a>2498                         <em class="comment">// Mark the edit as done.</em>
<a id="L2499" name="L2499"></a>2499                         event.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L2500" name="L2500"></a>2500                         <a href="../S/3268.html#L247" title="Defined at 247 in src/javax/swing/text/AbstractDocument.java.">fireRemoveUpdate</a>(event);
<a id="L2501" name="L2501"></a>2501                         <a href="../D/16389.html" title="Multiple defined in 2 places.">fireUndoableEditUpdate</a>(<strong class="reserved">new</strong> <a href="../S/3423.html#L44" title="Defined at 44 in src/javax/swing/event/UndoableEditEvent.java.">UndoableEditEvent</a>(
<a id="L2502" name="L2502"></a>2502                                                <strong class="reserved">this</strong>, event));
<a id="L2503" name="L2503"></a>2503                     <em class="brace">}</em>
<a id="L2504" name="L2504"></a>2504                 <em class="brace">}</em>
<a id="L2505" name="L2505"></a>2505             <em class="brace">}</em>
<a id="L2506" name="L2506"></a>2506             <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L2507" name="L2507"></a>2507             <em class="brace">}</em>
<a id="L2508" name="L2508"></a>2508             <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2509" name="L2509"></a>2509                 <a href="../S/3320.html#L1720" title="Defined at 1720 in src/javax/swing/text/html/HTMLDocument.java.">releaseLock</a>();
<a id="L2510" name="L2510"></a>2510             <em class="brace">}</em>
<a id="L2511" name="L2511"></a>2511         <em class="brace">}</em>
<a id="L2512" name="L2512"></a>2512 
<a id="L2513" name="L2513"></a>2513         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../S/3320.html#L2447" title="Referred from 2447 in src/javax/swing/text/html/HTMLDocument.java.">getPathTo</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L2514" name="L2514"></a>2514             <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L2515" name="L2515"></a>2515             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = <a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L2516" name="L2516"></a>2516             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L2517" name="L2517"></a>2517             <strong class="reserved">while</strong> (!e.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L2518" name="L2518"></a>2518                 <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(e);
<a id="L2519" name="L2519"></a>2519                 e = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(e.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>));
<a id="L2520" name="L2520"></a>2520             <em class="brace">}</em>
<a id="L2521" name="L2521"></a>2521             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] retValue = <strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L2522" name="L2522"></a>2522             <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(retValue);
<a id="L2523" name="L2523"></a>2523             <strong class="reserved">return</strong> retValue;
<a id="L2524" name="L2524"></a>2524         <em class="brace">}</em>
<a id="L2525" name="L2525"></a>2525 
<a id="L2526" name="L2526"></a>2526         <em class="comment">// -- HTMLEditorKit.ParserCallback methods --------------------</em>
<a id="L2527" name="L2527"></a>2527 
<div class="comment">
          The last method called on the reader.  It allows
          any pending changes to be flushed into the document.
          Since this is currently loading synchronously, the entire
          set of changes are pushed in at this point.</div>
<a id="L2534" name="L2534"></a>2534         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14697.html" title="Multiple referred from 199 places.">flush</a>() <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L2535" name="L2535"></a>2535             <strong class="reserved">if</strong> (emptyDocument &amp;&amp; !insertAfterImplied) <em class="brace">{</em>
<a id="L2536" name="L2536"></a>2536                 <strong class="reserved">if</strong> (<a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &gt; 0 ||
<a id="L2537" name="L2537"></a>2537                                       parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L2538" name="L2538"></a>2538                     <a href="../D/16481.html" title="Multiple defined in 7 places.">flushBuffer</a>(<strong class="reserved">true</strong>);
<a id="L2539" name="L2539"></a>2539                     <a href="../S/3320.html#L2440" title="Defined at 2440 in src/javax/swing/text/html/HTMLDocument.java.">adjustEndElement</a>();
<a id="L2540" name="L2540"></a>2540                 <em class="brace">}</em>
<a id="L2541" name="L2541"></a>2541                 <em class="comment">// We won't insert when</em>
<a id="L2542" name="L2542"></a>2542             <em class="brace">}</em>
<a id="L2543" name="L2543"></a>2543             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2544" name="L2544"></a>2544                 <a href="../D/16481.html" title="Multiple defined in 7 places.">flushBuffer</a>(<strong class="reserved">true</strong>);
<a id="L2545" name="L2545"></a>2545             <em class="brace">}</em>
<a id="L2546" name="L2546"></a>2546         <em class="brace">}</em>
<a id="L2547" name="L2547"></a>2547 
<div class="comment">
          Called by the parser to indicate a block of text was
          encountered.</div>
<a id="L2552" name="L2552"></a>2552         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20153.html" title="Multiple referred from 17 places.">handleText</a>(<strong class="reserved">char</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2553" name="L2553"></a>2553             <strong class="reserved">if</strong> (receivedEndHTML || (midInsert &amp;&amp; !inBody)) <em class="brace">{</em>
<a id="L2554" name="L2554"></a>2554                 <strong class="reserved">return</strong>;
<a id="L2555" name="L2555"></a>2555             <em class="brace">}</em>
<a id="L2556" name="L2556"></a>2556 
<a id="L2557" name="L2557"></a>2557             <em class="comment">// see if complex glyph layout support is needed</em>
<a id="L2558" name="L2558"></a>2558             <strong class="reserved">if</strong>(<a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(I18NProperty).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE ) ) <em class="brace">{</em>
<a id="L2559" name="L2559"></a>2559                 <em class="comment">// if a default direction of right-to-left has been specified,</em>
<a id="L2560" name="L2560"></a>2560                 <em class="comment">// we want complex layout even if the text is all left to right.</em>
<a id="L2561" name="L2561"></a>2561                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> d = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION);
<a id="L2562" name="L2562"></a>2562                 <strong class="reserved">if</strong> ((d != <strong class="reserved">null</strong>) &amp;&amp; (d.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_RTL))) <em class="brace">{</em>
<a id="L2563" name="L2563"></a>2563                     <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>( I18NProperty, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L2564" name="L2564"></a>2564                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2565" name="L2565"></a>2565                     <strong class="reserved">if</strong> (SwingUtilities2.isComplexLayout(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, 0, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)) <em class="brace">{</em>
<a id="L2566" name="L2566"></a>2566                         <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>( I18NProperty, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L2567" name="L2567"></a>2567                     <em class="brace">}</em>
<a id="L2568" name="L2568"></a>2568                 <em class="brace">}</em>
<a id="L2569" name="L2569"></a>2569             <em class="brace">}</em>
<a id="L2570" name="L2570"></a>2570 
<a id="L2571" name="L2571"></a>2571             <strong class="reserved">if</strong> (inTextArea) <em class="brace">{</em>
<a id="L2572" name="L2572"></a>2572                 <a href="../D/35256.html" title="Multiple defined in 2 places.">textAreaContent</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2573" name="L2573"></a>2573             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (inPre) <em class="brace">{</em>
<a id="L2574" name="L2574"></a>2574                 <a href="../S/3320.html#L3548" title="Defined at 3548 in src/javax/swing/text/html/HTMLDocument.java.">preContent</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L2575" name="L2575"></a>2575             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (inTitle) <em class="brace">{</em>
<a id="L2576" name="L2576"></a>2576                 <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>.TitleProperty, <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2577" name="L2577"></a>2577             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (option != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2578" name="L2578"></a>2578                 option.<a href="../D/33039.html" title="Multiple defined in 11 places.">setLabel</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2579" name="L2579"></a>2579             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (inStyle) <em class="brace">{</em>
<a id="L2580" name="L2580"></a>2580                 <strong class="reserved">if</strong> (styles != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2581" name="L2581"></a>2581                     styles.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2582" name="L2582"></a>2582                 <em class="brace">}</em>
<a id="L2583" name="L2583"></a>2583             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a> &gt; 0) <em class="brace">{</em>
<a id="L2584" name="L2584"></a>2584                 <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> &amp;&amp; insertAfterImplied) <em class="brace">{</em>
<a id="L2585" name="L2585"></a>2585                     <em class="comment">// Assume content should be added.</em>
<a id="L2586" name="L2586"></a>2586                     <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>(<strong class="reserved">false</strong>);
<a id="L2587" name="L2587"></a>2587                     <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> = <strong class="reserved">true</strong>;
<a id="L2588" name="L2588"></a>2588                     <em class="comment">// If content is added directly to the body, it should</em>
<a id="L2589" name="L2589"></a>2589                     <em class="comment">// be wrapped by p-implied.</em>
<a id="L2590" name="L2590"></a>2590                     inParagraph = impliedP = !insertInBody;
<a id="L2591" name="L2591"></a>2591                 <em class="brace">}</em>
<a id="L2592" name="L2592"></a>2592                 <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt;= 1) <em class="brace">{</em>
<a id="L2593" name="L2593"></a>2593                     <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, 0, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L2594" name="L2594"></a>2594                 <em class="brace">}</em>
<a id="L2595" name="L2595"></a>2595             <em class="brace">}</em>
<a id="L2596" name="L2596"></a>2596         <em class="brace">}</em>
<a id="L2597" name="L2597"></a>2597 
<div class="comment">
          Callback from the parser.  Route to the appropriate
          handler for the tag.</div>
<a id="L2602" name="L2602"></a>2602         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20151.html" title="Multiple referred from 3 places.">handleStartTag</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2603" name="L2603"></a>2603             <strong class="reserved">if</strong> (receivedEndHTML) <em class="brace">{</em>
<a id="L2604" name="L2604"></a>2604                 <strong class="reserved">return</strong>;
<a id="L2605" name="L2605"></a>2605             <em class="brace">}</em>
<a id="L2606" name="L2606"></a>2606             <strong class="reserved">if</strong> (midInsert &amp;&amp; !inBody) <em class="brace">{</em>
<a id="L2607" name="L2607"></a>2607                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY) <em class="brace">{</em>
<a id="L2608" name="L2608"></a>2608                     inBody = <strong class="reserved">true</strong>;
<a id="L2609" name="L2609"></a>2609                     <em class="comment">// Increment inBlock since we know we are in the body,</em>
<a id="L2610" name="L2610"></a>2610                     <em class="comment">// this is needed incase an implied-p is needed. If</em>
<a id="L2611" name="L2611"></a>2611                     <em class="comment">// inBlock isn't incremented, and an implied-p is</em>
<a id="L2612" name="L2612"></a>2612                     <em class="comment">// encountered, addContent won't be called!</em>
<a id="L2613" name="L2613"></a>2613                     <a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a>++;
<a id="L2614" name="L2614"></a>2614                 <em class="brace">}</em>
<a id="L2615" name="L2615"></a>2615                 <strong class="reserved">return</strong>;
<a id="L2616" name="L2616"></a>2616             <em class="brace">}</em>
<a id="L2617" name="L2617"></a>2617             <strong class="reserved">if</strong> (!inBody &amp;&amp; t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY) <em class="brace">{</em>
<a id="L2618" name="L2618"></a>2618                 inBody = <strong class="reserved">true</strong>;
<a id="L2619" name="L2619"></a>2619             <em class="brace">}</em>
<a id="L2620" name="L2620"></a>2620             <strong class="reserved">if</strong> (isStyleCSS &amp;&amp; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.STYLE)) <em class="brace">{</em>
<a id="L2621" name="L2621"></a>2621                 <em class="comment">// Map the style attributes.</em>
<a id="L2622" name="L2622"></a>2622                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> decl = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.STYLE);
<a id="L2623" name="L2623"></a>2623                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.STYLE);
<a id="L2624" name="L2624"></a>2624                 styleAttributes = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>().<a href="../D/18241.html" title="Multiple defined in 2 places.">getDeclaration</a>(decl);
<a id="L2625" name="L2625"></a>2625                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(styleAttributes);
<a id="L2626" name="L2626"></a>2626             <em class="brace">}</em>
<a id="L2627" name="L2627"></a>2627             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2628" name="L2628"></a>2628                 styleAttributes = <strong class="reserved">null</strong>;
<a id="L2629" name="L2629"></a>2629             <em class="brace">}</em>
<a id="L2630" name="L2630"></a>2630             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = tagMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(t);
<a id="L2631" name="L2631"></a>2631 
<a id="L2632" name="L2632"></a>2632             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2633" name="L2633"></a>2633                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2634" name="L2634"></a>2634             <em class="brace">}</em>
<a id="L2635" name="L2635"></a>2635         <em class="brace">}</em>
<a id="L2636" name="L2636"></a>2636 
<a id="L2637" name="L2637"></a>2637         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20073.html" title="Multiple referred from 9 places.">handleComment</a>(<strong class="reserved">char</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2638" name="L2638"></a>2638             <strong class="reserved">if</strong> (receivedEndHTML) <em class="brace">{</em>
<a id="L2639" name="L2639"></a>2639                 <a href="../S/3320.html#L2671" title="Defined at 2671 in src/javax/swing/text/html/HTMLDocument.java.">addExternalComment</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2640" name="L2640"></a>2640                 <strong class="reserved">return</strong>;
<a id="L2641" name="L2641"></a>2641             <em class="brace">}</em>
<a id="L2642" name="L2642"></a>2642             <strong class="reserved">if</strong> (inStyle) <em class="brace">{</em>
<a id="L2643" name="L2643"></a>2643                 <strong class="reserved">if</strong> (styles != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2644" name="L2644"></a>2644                     styles.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2645" name="L2645"></a>2645                 <em class="brace">}</em>
<a id="L2646" name="L2646"></a>2646             <em class="brace">}</em>
<a id="L2647" name="L2647"></a>2647             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/3320.html#L662" title="Defined at 662 in src/javax/swing/text/html/HTMLDocument.java.">getPreservesUnknownTags</a>()) <em class="brace">{</em>
<a id="L2648" name="L2648"></a>2648                 <strong class="reserved">if</strong> (<a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a> == 0 &amp;&amp; (<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> ||
<a id="L2649" name="L2649"></a>2649                                      insertTag != <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.COMMENT)) <em class="brace">{</em>
<a id="L2650" name="L2650"></a>2650                     <em class="comment">// Comment outside of body, will not be able to show it,</em>
<a id="L2651" name="L2651"></a>2651                     <em class="comment">// but can add it as a property on the Document.</em>
<a id="L2652" name="L2652"></a>2652                     <a href="../S/3320.html#L2671" title="Defined at 2671 in src/javax/swing/text/html/HTMLDocument.java.">addExternalComment</a>(<strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2653" name="L2653"></a>2653                     <strong class="reserved">return</strong>;
<a id="L2654" name="L2654"></a>2654                 <em class="brace">}</em>
<a id="L2655" name="L2655"></a>2655                 <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a> sas = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L2656" name="L2656"></a>2656                 sas.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.COMMENT, <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>));
<a id="L2657" name="L2657"></a>2657                 <a href="../S/3320.html#L3691" title="Defined at 3691 in src/javax/swing/text/html/HTMLDocument.java.">addSpecialElement</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.COMMENT, sas);
<a id="L2658" name="L2658"></a>2658             <em class="brace">}</em>
<a id="L2659" name="L2659"></a>2659 
<a id="L2660" name="L2660"></a>2660             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = tagMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.COMMENT);
<a id="L2661" name="L2661"></a>2661             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2662" name="L2662"></a>2662                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.COMMENT, <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>());
<a id="L2663" name="L2663"></a>2663                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.COMMENT);
<a id="L2664" name="L2664"></a>2664             <em class="brace">}</em>
<a id="L2665" name="L2665"></a>2665         <em class="brace">}</em>
<a id="L2666" name="L2666"></a>2666 
<div class="comment">
          Adds the comment <code>comment</code> to the set of comments
          maintained outside of the scope of elements.</div>
<a id="L2671" name="L2671"></a>2671         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/9728.html" title="Multiple referred from 2 places.">addExternalComment</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>) <em class="brace">{</em>
<a id="L2672" name="L2672"></a>2672             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a> = <a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(AdditionalComments);
<a id="L2673" name="L2673"></a>2673             <strong class="reserved">if</strong> (<a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a> != <strong class="reserved">null</strong> &amp;&amp; !(<a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a> <strong class="reserved">instanceof</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>)) <em class="brace">{</em>
<a id="L2674" name="L2674"></a>2674                 <em class="comment">// No place to put comment.</em>
<a id="L2675" name="L2675"></a>2675                 <strong class="reserved">return</strong>;
<a id="L2676" name="L2676"></a>2676             <em class="brace">}</em>
<a id="L2677" name="L2677"></a>2677             <strong class="reserved">if</strong> (<a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2678" name="L2678"></a>2678                 <a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L2679" name="L2679"></a>2679                 <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(AdditionalComments, <a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a>);
<a id="L2680" name="L2680"></a>2680             <em class="brace">}</em>
<a id="L2681" name="L2681"></a>2681             ((<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>)<a href="../S/3654.html#L70" title="Defined at 70 in src/javax/annotation/Generated.java.">comments</a>).<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>);
<a id="L2682" name="L2682"></a>2682         <em class="brace">}</em>
<a id="L2683" name="L2683"></a>2683 
<div class="comment">
          Callback from the parser.  Route to the appropriate
          handler for the tag.</div>
<a id="L2688" name="L2688"></a>2688         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20089.html" title="Multiple referred from 4 places.">handleEndTag</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2689" name="L2689"></a>2689             <strong class="reserved">if</strong> (receivedEndHTML || (midInsert &amp;&amp; !inBody)) <em class="brace">{</em>
<a id="L2690" name="L2690"></a>2690                 <strong class="reserved">return</strong>;
<a id="L2691" name="L2691"></a>2691             <em class="brace">}</em>
<a id="L2692" name="L2692"></a>2692             <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>) <em class="brace">{</em>
<a id="L2693" name="L2693"></a>2693                 receivedEndHTML = <strong class="reserved">true</strong>;
<a id="L2694" name="L2694"></a>2694             <em class="brace">}</em>
<a id="L2695" name="L2695"></a>2695             <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.BODY) <em class="brace">{</em>
<a id="L2696" name="L2696"></a>2696                 inBody = <strong class="reserved">false</strong>;
<a id="L2697" name="L2697"></a>2697                 <strong class="reserved">if</strong> (midInsert) <em class="brace">{</em>
<a id="L2698" name="L2698"></a>2698                     <a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a>--;
<a id="L2699" name="L2699"></a>2699                 <em class="brace">}</em>
<a id="L2700" name="L2700"></a>2700             <em class="brace">}</em>
<a id="L2701" name="L2701"></a>2701             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = tagMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(t);
<a id="L2702" name="L2702"></a>2702             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2703" name="L2703"></a>2703                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L2704" name="L2704"></a>2704             <em class="brace">}</em>
<a id="L2705" name="L2705"></a>2705         <em class="brace">}</em>
<a id="L2706" name="L2706"></a>2706 
<div class="comment">
          Callback from the parser.  Route to the appropriate
          handler for the tag.</div>
<a id="L2711" name="L2711"></a>2711         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20145.html" title="Multiple referred from 2 places.">handleSimpleTag</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L2712" name="L2712"></a>2712             <strong class="reserved">if</strong> (receivedEndHTML || (midInsert &amp;&amp; !inBody)) <em class="brace">{</em>
<a id="L2713" name="L2713"></a>2713                 <strong class="reserved">return</strong>;
<a id="L2714" name="L2714"></a>2714             <em class="brace">}</em>
<a id="L2715" name="L2715"></a>2715 
<a id="L2716" name="L2716"></a>2716             <strong class="reserved">if</strong> (isStyleCSS &amp;&amp; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.STYLE)) <em class="brace">{</em>
<a id="L2717" name="L2717"></a>2717                 <em class="comment">// Map the style attributes.</em>
<a id="L2718" name="L2718"></a>2718                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> decl = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.STYLE);
<a id="L2719" name="L2719"></a>2719                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.STYLE);
<a id="L2720" name="L2720"></a>2720                 styleAttributes = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>().<a href="../D/18241.html" title="Multiple defined in 2 places.">getDeclaration</a>(decl);
<a id="L2721" name="L2721"></a>2721                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(styleAttributes);
<a id="L2722" name="L2722"></a>2722             <em class="brace">}</em>
<a id="L2723" name="L2723"></a>2723             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2724" name="L2724"></a>2724                 styleAttributes = <strong class="reserved">null</strong>;
<a id="L2725" name="L2725"></a>2725             <em class="brace">}</em>
<a id="L2726" name="L2726"></a>2726 
<a id="L2727" name="L2727"></a>2727             <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = tagMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(t);
<a id="L2728" name="L2728"></a>2728             <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2729" name="L2729"></a>2729                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2730" name="L2730"></a>2730                 <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L2731" name="L2731"></a>2731             <em class="brace">}</em>
<a id="L2732" name="L2732"></a>2732             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/3320.html#L662" title="Defined at 662 in src/javax/swing/text/html/HTMLDocument.java.">getPreservesUnknownTags</a>()) <em class="brace">{</em>
<a id="L2733" name="L2733"></a>2733                 <em class="comment">// unknown tag, only add if should preserve it.</em>
<a id="L2734" name="L2734"></a>2734                 <a href="../S/3320.html#L3691" title="Defined at 3691 in src/javax/swing/text/html/HTMLDocument.java.">addSpecialElement</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2735" name="L2735"></a>2735             <em class="brace">}</em>
<a id="L2736" name="L2736"></a>2736         <em class="brace">}</em>
<a id="L2737" name="L2737"></a>2737 
<div class="comment">
          This is invoked after the stream has been parsed, but before
          <code>flush</code>. <code>eol</code> will be one of \n, \r
          or \r\n, which ever is encountered the most in parsing the
          stream.
          @since 1.3</div>
<a id="L2746" name="L2746"></a>2746         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3302.html#L124" title="Referred from 124 in src/javax/swing/text/html/parser/DocumentParser.java.">handleEndOfLineString</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> eol) <em class="brace">{</em>
<a id="L2747" name="L2747"></a>2747             <strong class="reserved">if</strong> (emptyDocument &amp;&amp; eol != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2748" name="L2748"></a>2748                 <a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(<a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>.EndOfLineStringProperty,
<a id="L2749" name="L2749"></a>2749                             eol);
<a id="L2750" name="L2750"></a>2750             <em class="brace">}</em>
<a id="L2751" name="L2751"></a>2751         <em class="brace">}</em>
<a id="L2752" name="L2752"></a>2752 
<a id="L2753" name="L2753"></a>2753         <em class="comment">// ---- tag handling support ------------------------------</em>
<a id="L2754" name="L2754"></a>2754 
<div class="comment">
          Registers a handler for the given tag.  By default
          all of the well-known tags will have been registered.
          This can be used to change the handling of a particular
          tag or to add support for custom tags.</div>
<a id="L2761" name="L2761"></a>2761         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> registerTag(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2762" name="L2762"></a>2762             tagMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2763" name="L2763"></a>2763         <em class="brace">}</em>
<a id="L2764" name="L2764"></a>2764 
<div class="comment">
          An action to be performed in response
          to parsing a tag.  This allows customization
          of how each tag is handled and avoids a large
          switch statement.</div>
<a id="L2771" name="L2771"></a>2771         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8012.html" title="Multiple referred from 25 places.">TagAction</a> <em class="brace">{</em>
<a id="L2772" name="L2772"></a>2772 
<div class="comment">
              Called when a start tag is seen for the
              type of tag this action was registered
              to.  The tag argument indicates the actual
              tag for those actions that are shared across
              many tags.  By default this does nothing and
              completely ignores the tag.</div>
<a id="L2781" name="L2781"></a>2781             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2782" name="L2782"></a>2782             <em class="brace">}</em>
<a id="L2783" name="L2783"></a>2783 
<div class="comment">
              Called when an end tag is seen for the
              type of tag this action was registered
              to.  The tag argument indicates the actual
              tag for those actions that are shared across
              many tags.  By default this does nothing and
              completely ignores the tag.</div>
<a id="L2792" name="L2792"></a>2792             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2793" name="L2793"></a>2793             <em class="brace">}</em>
<a id="L2794" name="L2794"></a>2794 
<a id="L2795" name="L2795"></a>2795         <em class="brace">}</em>
<a id="L2796" name="L2796"></a>2796 
<a id="L2797" name="L2797"></a>2797         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/831.html" title="Multiple referred from 5 places.">BlockAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L2798" name="L2798"></a>2798 
<a id="L2799" name="L2799"></a>2799             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L2800" name="L2800"></a>2800                 <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2801" name="L2801"></a>2801             <em class="brace">}</em>
<a id="L2802" name="L2802"></a>2802 
<a id="L2803" name="L2803"></a>2803             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2804" name="L2804"></a>2804                 <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(t);
<a id="L2805" name="L2805"></a>2805             <em class="brace">}</em>
<a id="L2806" name="L2806"></a>2806         <em class="brace">}</em>
<a id="L2807" name="L2807"></a>2807 
<a id="L2808" name="L2808"></a>2808 
<div class="comment">
          Action used for the actual element form tag. This is named such
          as there was already a public class named FormAction.</div>
<a id="L2813" name="L2813"></a>2813         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L2245" title="Referred from 2245 in src/javax/swing/text/html/HTMLDocument.java.">FormTagAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2797" title="Defined at 2797 in src/javax/swing/text/html/HTMLDocument.java.">BlockAction</a> <em class="brace">{</em>
<a id="L2814" name="L2814"></a>2814             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L2815" name="L2815"></a>2815                 <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2816" name="L2816"></a>2816                 <em class="comment">// initialize a ButtonGroupsMap when</em>
<a id="L2817" name="L2817"></a>2817                 <em class="comment">// FORM tag is encountered.  This will</em>
<a id="L2818" name="L2818"></a>2818                 <em class="comment">// be used for any radio buttons that</em>
<a id="L2819" name="L2819"></a>2819                 <em class="comment">// might be defined in the FORM.</em>
<a id="L2820" name="L2820"></a>2820                 <em class="comment">// for new group new ButtonGroup will be created (fix for 4529702)</em>
<a id="L2821" name="L2821"></a>2821                 <em class="comment">// group name is a key in radioButtonGroupsMap</em>
<a id="L2822" name="L2822"></a>2822                 radioButtonGroupsMap = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/3364.html#L69" title="Defined at 69 in src/javax/swing/ButtonGroup.java.">ButtonGroup</a>&gt;();
<a id="L2823" name="L2823"></a>2823             <em class="brace">}</em>
<a id="L2824" name="L2824"></a>2824 
<a id="L2825" name="L2825"></a>2825             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2826" name="L2826"></a>2826                 <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L2827" name="L2827"></a>2827                 <em class="comment">// reset the button group to null since</em>
<a id="L2828" name="L2828"></a>2828                 <em class="comment">// the form has ended.</em>
<a id="L2829" name="L2829"></a>2829                 radioButtonGroupsMap = <strong class="reserved">null</strong>;
<a id="L2830" name="L2830"></a>2830             <em class="brace">}</em>
<a id="L2831" name="L2831"></a>2831         <em class="brace">}</em>
<a id="L2832" name="L2832"></a>2832 
<a id="L2833" name="L2833"></a>2833 
<a id="L2834" name="L2834"></a>2834         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L2214" title="Referred from 2214 in src/javax/swing/text/html/HTMLDocument.java.">ParagraphAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2797" title="Defined at 2797 in src/javax/swing/text/html/HTMLDocument.java.">BlockAction</a> <em class="brace">{</em>
<a id="L2835" name="L2835"></a>2835 
<a id="L2836" name="L2836"></a>2836             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2837" name="L2837"></a>2837                 <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2838" name="L2838"></a>2838                 inParagraph = <strong class="reserved">true</strong>;
<a id="L2839" name="L2839"></a>2839             <em class="brace">}</em>
<a id="L2840" name="L2840"></a>2840 
<a id="L2841" name="L2841"></a>2841             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2842" name="L2842"></a>2842                 <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L2843" name="L2843"></a>2843                 inParagraph = <strong class="reserved">false</strong>;
<a id="L2844" name="L2844"></a>2844             <em class="brace">}</em>
<a id="L2845" name="L2845"></a>2845         <em class="brace">}</em>
<a id="L2846" name="L2846"></a>2846 
<a id="L2847" name="L2847"></a>2847         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7503.html" title="Multiple referred from 3 places.">SpecialAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L2848" name="L2848"></a>2848 
<a id="L2849" name="L2849"></a>2849             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2850" name="L2850"></a>2850                 <a href="../S/3320.html#L3691" title="Defined at 3691 in src/javax/swing/text/html/HTMLDocument.java.">addSpecialElement</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2851" name="L2851"></a>2851             <em class="brace">}</em>
<a id="L2852" name="L2852"></a>2852 
<a id="L2853" name="L2853"></a>2853         <em class="brace">}</em>
<a id="L2854" name="L2854"></a>2854 
<a id="L2855" name="L2855"></a>2855         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L2260" title="Referred from 2260 in src/javax/swing/text/html/HTMLDocument.java.">IsindexAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L2856" name="L2856"></a>2856 
<a id="L2857" name="L2857"></a>2857             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2858" name="L2858"></a>2858                 <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED, <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>());
<a id="L2859" name="L2859"></a>2859                 <a href="../S/3320.html#L3691" title="Defined at 3691 in src/javax/swing/text/html/HTMLDocument.java.">addSpecialElement</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2860" name="L2860"></a>2860                 <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED);
<a id="L2861" name="L2861"></a>2861             <em class="brace">}</em>
<a id="L2862" name="L2862"></a>2862 
<a id="L2863" name="L2863"></a>2863         <em class="brace">}</em>
<a id="L2864" name="L2864"></a>2864 
<a id="L2865" name="L2865"></a>2865 
<a id="L2866" name="L2866"></a>2866         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/3426.html" title="Multiple referred from 4 places.">HiddenAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L2867" name="L2867"></a>2867 
<a id="L2868" name="L2868"></a>2868             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2869" name="L2869"></a>2869                 <a href="../S/3320.html#L3691" title="Defined at 3691 in src/javax/swing/text/html/HTMLDocument.java.">addSpecialElement</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2870" name="L2870"></a>2870             <em class="brace">}</em>
<a id="L2871" name="L2871"></a>2871 
<a id="L2872" name="L2872"></a>2872             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2873" name="L2873"></a>2873                 <strong class="reserved">if</strong> (!<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>(t)) <em class="brace">{</em>
<a id="L2874" name="L2874"></a>2874                     <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L2875" name="L2875"></a>2875                     <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.ENDTAG, "true");
<a id="L2876" name="L2876"></a>2876                     <a href="../S/3320.html#L3691" title="Defined at 3691 in src/javax/swing/text/html/HTMLDocument.java.">addSpecialElement</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2877" name="L2877"></a>2877                 <em class="brace">}</em>
<a id="L2878" name="L2878"></a>2878             <em class="brace">}</em>
<a id="L2879" name="L2879"></a>2879 
<a id="L2880" name="L2880"></a>2880             <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2881" name="L2881"></a>2881                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.APPLET ||
<a id="L2882" name="L2882"></a>2882                     t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SCRIPT) <em class="brace">{</em>
<a id="L2883" name="L2883"></a>2883                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2884" name="L2884"></a>2884                 <em class="brace">}</em>
<a id="L2885" name="L2885"></a>2885                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2886" name="L2886"></a>2886             <em class="brace">}</em>
<a id="L2887" name="L2887"></a>2887         <em class="brace">}</em>
<a id="L2888" name="L2888"></a>2888 
<a id="L2889" name="L2889"></a>2889 
<div class="comment">
          Subclass of HiddenAction to set the content type for style sheets,
          and to set the name of the default style sheet.</div>
<a id="L2894" name="L2894"></a>2894         <strong class="reserved">class</strong> <a href="../S/3320.html#L2266" title="Referred from 2266 in src/javax/swing/text/html/HTMLDocument.java.">MetaAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2866" title="Defined at 2866 in src/javax/swing/text/html/HTMLDocument.java.">HiddenAction</a> <em class="brace">{</em>
<a id="L2895" name="L2895"></a>2895 
<a id="L2896" name="L2896"></a>2896             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2897" name="L2897"></a>2897                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> equiv = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.HTTPEQUIV);
<a id="L2898" name="L2898"></a>2898                 <strong class="reserved">if</strong> (equiv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2899" name="L2899"></a>2899                     equiv = ((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)equiv).<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L2900" name="L2900"></a>2900                     <strong class="reserved">if</strong> (equiv.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("content-style-type")) <em class="brace">{</em>
<a id="L2901" name="L2901"></a>2901                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L2902" name="L2902"></a>2902                                        (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.CONTENT);
<a id="L2903" name="L2903"></a>2903                         <a href="../S/3320.html#L926" title="Defined at 926 in src/javax/swing/text/html/HTMLDocument.java.">setDefaultStyleSheetType</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2904" name="L2904"></a>2904                         isStyleCSS = "text/css".<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>
<a id="L2905" name="L2905"></a>2905                                       (<a href="../S/3320.html#L936" title="Defined at 936 in src/javax/swing/text/html/HTMLDocument.java.">getDefaultStyleSheetType</a>());
<a id="L2906" name="L2906"></a>2906                     <em class="brace">}</em>
<a id="L2907" name="L2907"></a>2907                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> (equiv.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("default-style")) <em class="brace">{</em>
<a id="L2908" name="L2908"></a>2908                         defaultStyle = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L2909" name="L2909"></a>2909                                        (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.CONTENT);
<a id="L2910" name="L2910"></a>2910                     <em class="brace">}</em>
<a id="L2911" name="L2911"></a>2911                 <em class="brace">}</em>
<a id="L2912" name="L2912"></a>2912                 <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2913" name="L2913"></a>2913             <em class="brace">}</em>
<a id="L2914" name="L2914"></a>2914 
<a id="L2915" name="L2915"></a>2915             <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2916" name="L2916"></a>2916                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2917" name="L2917"></a>2917             <em class="brace">}</em>
<a id="L2918" name="L2918"></a>2918         <em class="brace">}</em>
<a id="L2919" name="L2919"></a>2919 
<a id="L2920" name="L2920"></a>2920 
<div class="comment">
          End if overridden to create the necessary stylesheets that
          are referenced via the link tag. It is done in this manner
          as the meta tag can be used to specify an alternate style sheet,
          and is not guaranteed to come before the link tags.</div>
<a id="L2927" name="L2927"></a>2927         <strong class="reserved">class</strong> <a href="../S/3320.html#L2254" title="Referred from 2254 in src/javax/swing/text/html/HTMLDocument.java.">HeadAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2797" title="Defined at 2797 in src/javax/swing/text/html/HTMLDocument.java.">BlockAction</a> <em class="brace">{</em>
<a id="L2928" name="L2928"></a>2928 
<a id="L2929" name="L2929"></a>2929             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L2930" name="L2930"></a>2930                 inHead = <strong class="reserved">true</strong>;
<a id="L2931" name="L2931"></a>2931                 <em class="comment">// This check of the insertTag is put in to avoid considering</em>
<a id="L2932" name="L2932"></a>2932                 <em class="comment">// the implied-p that is generated for the head. This allows</em>
<a id="L2933" name="L2933"></a>2933                 <em class="comment">// inserts for HR to work correctly.</em>
<a id="L2934" name="L2934"></a>2934                 <strong class="reserved">if</strong> ((insertTag == <strong class="reserved">null</strong> &amp;&amp; !insertAfterImplied) ||
<a id="L2935" name="L2935"></a>2935                     (insertTag == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.HEAD) ||
<a id="L2936" name="L2936"></a>2936                     (insertAfterImplied &amp;&amp;
<a id="L2937" name="L2937"></a>2937                      (<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> || !<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED)))) <em class="brace">{</em>
<a id="L2938" name="L2938"></a>2938                     <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L2939" name="L2939"></a>2939                 <em class="brace">}</em>
<a id="L2940" name="L2940"></a>2940             <em class="brace">}</em>
<a id="L2941" name="L2941"></a>2941 
<a id="L2942" name="L2942"></a>2942             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2943" name="L2943"></a>2943                 inHead = inStyle = <strong class="reserved">false</strong>;
<a id="L2944" name="L2944"></a>2944                 <em class="comment">// See if there is a StyleSheet to link to.</em>
<a id="L2945" name="L2945"></a>2945                 <strong class="reserved">if</strong> (styles != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2946" name="L2946"></a>2946                     <strong class="reserved">boolean</strong> isDefaultCSS = isStyleCSS;
<a id="L2947" name="L2947"></a>2947                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0, maxCounter = styles.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L2948" name="L2948"></a>2948                          counter &lt; maxCounter;) <em class="brace">{</em>
<a id="L2949" name="L2949"></a>2949                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = styles.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(counter);
<a id="L2950" name="L2950"></a>2950                         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6604.html#L119" title="Defined at 119 in src/com/sun/source/doctree/DocTree.java.">LINK</a>) <em class="brace">{</em>
<a id="L2951" name="L2951"></a>2951                             <a href="../S/3320.html#L2983" title="Defined at 2983 in src/javax/swing/text/html/HTMLDocument.java.">handleLink</a>((<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>)styles.
<a id="L2952" name="L2952"></a>2952                                        <a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(++counter));
<a id="L2953" name="L2953"></a>2953                             counter++;
<a id="L2954" name="L2954"></a>2954                         <em class="brace">}</em>
<a id="L2955" name="L2955"></a>2955                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2956" name="L2956"></a>2956                             <em class="comment">// Rule.</em>
<a id="L2957" name="L2957"></a>2957                             <em class="comment">// First element gives type.</em>
<a id="L2958" name="L2958"></a>2958                             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)styles.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(++counter);
<a id="L2959" name="L2959"></a>2959                             <strong class="reserved">boolean</strong> isCSS = (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) ? isDefaultCSS :
<a id="L2960" name="L2960"></a>2960                                             <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("text/css");
<a id="L2961" name="L2961"></a>2961                             <strong class="reserved">while</strong> (++counter &lt; maxCounter &amp;&amp;
<a id="L2962" name="L2962"></a>2962                                    (styles.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(counter)
<a id="L2963" name="L2963"></a>2963                                     <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)) <em class="brace">{</em>
<a id="L2964" name="L2964"></a>2964                                 <strong class="reserved">if</strong> (isCSS) <em class="brace">{</em>
<a id="L2965" name="L2965"></a>2965                                     <a href="../S/3320.html#L3826" title="Defined at 3826 in src/javax/swing/text/html/HTMLDocument.java.">addCSSRules</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)styles.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>
<a id="L2966" name="L2966"></a>2966                                                 (counter));
<a id="L2967" name="L2967"></a>2967                                 <em class="brace">}</em>
<a id="L2968" name="L2968"></a>2968                             <em class="brace">}</em>
<a id="L2969" name="L2969"></a>2969                         <em class="brace">}</em>
<a id="L2970" name="L2970"></a>2970                     <em class="brace">}</em>
<a id="L2971" name="L2971"></a>2971                 <em class="brace">}</em>
<a id="L2972" name="L2972"></a>2972                 <strong class="reserved">if</strong> ((insertTag == <strong class="reserved">null</strong> &amp;&amp; !insertAfterImplied) ||
<a id="L2973" name="L2973"></a>2973                     insertTag == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.HEAD ||
<a id="L2974" name="L2974"></a>2974                     (insertAfterImplied &amp;&amp; <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>)) <em class="brace">{</em>
<a id="L2975" name="L2975"></a>2975                     <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L2976" name="L2976"></a>2976                 <em class="brace">}</em>
<a id="L2977" name="L2977"></a>2977             <em class="brace">}</em>
<a id="L2978" name="L2978"></a>2978 
<a id="L2979" name="L2979"></a>2979             <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L2980" name="L2980"></a>2980                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2981" name="L2981"></a>2981             <em class="brace">}</em>
<a id="L2982" name="L2982"></a>2982 
<a id="L2983" name="L2983"></a>2983             <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L2951" title="Referred from 2951 in src/javax/swing/text/html/HTMLDocument.java.">handleLink</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L2984" name="L2984"></a>2984                 <em class="comment">// Link.</em>
<a id="L2985" name="L2985"></a>2985                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TYPE);
<a id="L2986" name="L2986"></a>2986                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2987" name="L2987"></a>2987                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/3320.html#L936" title="Defined at 936 in src/javax/swing/text/html/HTMLDocument.java.">getDefaultStyleSheetType</a>();
<a id="L2988" name="L2988"></a>2988                 <em class="brace">}</em>
<a id="L2989" name="L2989"></a>2989                 <em class="comment">// Only choose if type==text/css</em>
<a id="L2990" name="L2990"></a>2990                 <em class="comment">// Select link if rel==stylesheet.</em>
<a id="L2991" name="L2991"></a>2991                 <em class="comment">// Otherwise if rel==alternate stylesheet and</em>
<a id="L2992" name="L2992"></a>2992                 <em class="comment">//   title matches default style.</em>
<a id="L2993" name="L2993"></a>2993                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("text/css")) <em class="brace">{</em>
<a id="L2994" name="L2994"></a>2994                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rel = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.REL);
<a id="L2995" name="L2995"></a>2995                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> title = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L2996" name="L2996"></a>2996                                                (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TITLE);
<a id="L2997" name="L2997"></a>2997                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> media = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L2998" name="L2998"></a>2998                                                    (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.MEDIA);
<a id="L2999" name="L2999"></a>2999                     <strong class="reserved">if</strong> (media == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3000" name="L3000"></a>3000                         media = "all";
<a id="L3001" name="L3001"></a>3001                     <em class="brace">}</em>
<a id="L3002" name="L3002"></a>3002                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3003" name="L3003"></a>3003                         media = media.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L3004" name="L3004"></a>3004                     <em class="brace">}</em>
<a id="L3005" name="L3005"></a>3005                     <strong class="reserved">if</strong> (rel != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3006" name="L3006"></a>3006                         rel = rel.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L3007" name="L3007"></a>3007                         <strong class="reserved">if</strong> ((media.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("all") != -1 ||
<a id="L3008" name="L3008"></a>3008                              media.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("screen") != -1) &amp;&amp;
<a id="L3009" name="L3009"></a>3009                             (rel.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("stylesheet") ||
<a id="L3010" name="L3010"></a>3010                              (rel.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("alternate stylesheet") &amp;&amp;
<a id="L3011" name="L3011"></a>3011                               title.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(defaultStyle)))) <em class="brace">{</em>
<a id="L3012" name="L3012"></a>3012                             <a href="../S/3320.html#L3835" title="Defined at 3835 in src/javax/swing/text/html/HTMLDocument.java.">linkCSSStyleSheet</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L3013" name="L3013"></a>3013                                               (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.HREF));
<a id="L3014" name="L3014"></a>3014                         <em class="brace">}</em>
<a id="L3015" name="L3015"></a>3015                     <em class="brace">}</em>
<a id="L3016" name="L3016"></a>3016                 <em class="brace">}</em>
<a id="L3017" name="L3017"></a>3017             <em class="brace">}</em>
<a id="L3018" name="L3018"></a>3018         <em class="brace">}</em>
<a id="L3019" name="L3019"></a>3019 
<a id="L3020" name="L3020"></a>3020 
<div class="comment">
          A subclass to add the AttributeSet to styles if the
          attributes contains an attribute for 'rel' with value
          'stylesheet' or 'alternate stylesheet'.</div>
<a id="L3026" name="L3026"></a>3026         <strong class="reserved">class</strong> <a href="../S/3320.html#L2263" title="Referred from 2263 in src/javax/swing/text/html/HTMLDocument.java.">LinkAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2866" title="Defined at 2866 in src/javax/swing/text/html/HTMLDocument.java.">HiddenAction</a> <em class="brace">{</em>
<a id="L3027" name="L3027"></a>3027 
<a id="L3028" name="L3028"></a>3028             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3029" name="L3029"></a>3029                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rel = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.REL);
<a id="L3030" name="L3030"></a>3030                 <strong class="reserved">if</strong> (rel != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3031" name="L3031"></a>3031                     rel = rel.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L3032" name="L3032"></a>3032                     <strong class="reserved">if</strong> (rel.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("stylesheet") ||
<a id="L3033" name="L3033"></a>3033                         rel.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("alternate stylesheet")) <em class="brace">{</em>
<a id="L3034" name="L3034"></a>3034                         <strong class="reserved">if</strong> (styles == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3035" name="L3035"></a>3035                             styles = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(3);
<a id="L3036" name="L3036"></a>3036                         <em class="brace">}</em>
<a id="L3037" name="L3037"></a>3037                         styles.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(t);
<a id="L3038" name="L3038"></a>3038                         styles.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L3039" name="L3039"></a>3039                     <em class="brace">}</em>
<a id="L3040" name="L3040"></a>3040                 <em class="brace">}</em>
<a id="L3041" name="L3041"></a>3041                 <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L3042" name="L3042"></a>3042             <em class="brace">}</em>
<a id="L3043" name="L3043"></a>3043         <em class="brace">}</em>
<a id="L3044" name="L3044"></a>3044 
<a id="L3045" name="L3045"></a>3045         <strong class="reserved">class</strong> <a href="../R/4911.html" title="Multiple referred from 2 places.">MapAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L3046" name="L3046"></a>3046 
<a id="L3047" name="L3047"></a>3047             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3048" name="L3048"></a>3048                 lastMap = <strong class="reserved">new</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.NAME));
<a id="L3049" name="L3049"></a>3049                 <a href="../S/3320.html#L857" title="Defined at 857 in src/javax/swing/text/html/HTMLDocument.java.">addMap</a>(lastMap);
<a id="L3050" name="L3050"></a>3050             <em class="brace">}</em>
<a id="L3051" name="L3051"></a>3051 
<a id="L3052" name="L3052"></a>3052             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3053" name="L3053"></a>3053             <em class="brace">}</em>
<a id="L3054" name="L3054"></a>3054         <em class="brace">}</em>
<a id="L3055" name="L3055"></a>3055 
<a id="L3056" name="L3056"></a>3056 
<a id="L3057" name="L3057"></a>3057         <strong class="reserved">class</strong> <a href="../S/3320.html#L2225" title="Referred from 2225 in src/javax/swing/text/html/HTMLDocument.java.">AreaAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L3058" name="L3058"></a>3058 
<a id="L3059" name="L3059"></a>3059             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3060" name="L3060"></a>3060                 <strong class="reserved">if</strong> (lastMap != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3061" name="L3061"></a>3061                     lastMap.<a href="../S/3281.html#L66" title="Defined at 66 in src/javax/swing/text/html/Map.java.">addArea</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L3062" name="L3062"></a>3062                 <em class="brace">}</em>
<a id="L3063" name="L3063"></a>3063             <em class="brace">}</em>
<a id="L3064" name="L3064"></a>3064 
<a id="L3065" name="L3065"></a>3065             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3066" name="L3066"></a>3066             <em class="brace">}</em>
<a id="L3067" name="L3067"></a>3067         <em class="brace">}</em>
<a id="L3068" name="L3068"></a>3068 
<a id="L3069" name="L3069"></a>3069 
<a id="L3070" name="L3070"></a>3070         <strong class="reserved">class</strong> <a href="../S/3320.html#L2283" title="Referred from 2283 in src/javax/swing/text/html/HTMLDocument.java.">StyleAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L3071" name="L3071"></a>3071 
<a id="L3072" name="L3072"></a>3072             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3073" name="L3073"></a>3073                 <strong class="reserved">if</strong> (inHead) <em class="brace">{</em>
<a id="L3074" name="L3074"></a>3074                     <strong class="reserved">if</strong> (styles == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3075" name="L3075"></a>3075                         styles = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(3);
<a id="L3076" name="L3076"></a>3076                     <em class="brace">}</em>
<a id="L3077" name="L3077"></a>3077                     styles.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(t);
<a id="L3078" name="L3078"></a>3078                     styles.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TYPE));
<a id="L3079" name="L3079"></a>3079                     inStyle = <strong class="reserved">true</strong>;
<a id="L3080" name="L3080"></a>3080                 <em class="brace">}</em>
<a id="L3081" name="L3081"></a>3081             <em class="brace">}</em>
<a id="L3082" name="L3082"></a>3082 
<a id="L3083" name="L3083"></a>3083             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3084" name="L3084"></a>3084                 inStyle = <strong class="reserved">false</strong>;
<a id="L3085" name="L3085"></a>3085             <em class="brace">}</em>
<a id="L3086" name="L3086"></a>3086 
<a id="L3087" name="L3087"></a>3087             <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3088" name="L3088"></a>3088                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3089" name="L3089"></a>3089             <em class="brace">}</em>
<a id="L3090" name="L3090"></a>3090         <em class="brace">}</em>
<a id="L3091" name="L3091"></a>3091 
<a id="L3092" name="L3092"></a>3092 
<a id="L3093" name="L3093"></a>3093         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L2274" title="Referred from 2274 in src/javax/swing/text/html/HTMLDocument.java.">PreAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2797" title="Defined at 2797 in src/javax/swing/text/html/HTMLDocument.java.">BlockAction</a> <em class="brace">{</em>
<a id="L3094" name="L3094"></a>3094 
<a id="L3095" name="L3095"></a>3095             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3096" name="L3096"></a>3096                 inPre = <strong class="reserved">true</strong>;
<a id="L3097" name="L3097"></a>3097                 <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3098" name="L3098"></a>3098                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.WHITE_SPACE, "pre");
<a id="L3099" name="L3099"></a>3099                 <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3100" name="L3100"></a>3100             <em class="brace">}</em>
<a id="L3101" name="L3101"></a>3101 
<a id="L3102" name="L3102"></a>3102             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3103" name="L3103"></a>3103                 <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED);
<a id="L3104" name="L3104"></a>3104                 <em class="comment">// set inPre to false after closing, so that if a newline</em>
<a id="L3105" name="L3105"></a>3105                 <em class="comment">// is added it won't generate a blockOpen.</em>
<a id="L3106" name="L3106"></a>3106                 inPre = <strong class="reserved">false</strong>;
<a id="L3107" name="L3107"></a>3107                 <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(t);
<a id="L3108" name="L3108"></a>3108             <em class="brace">}</em>
<a id="L3109" name="L3109"></a>3109         <em class="brace">}</em>
<a id="L3110" name="L3110"></a>3110 
<a id="L3111" name="L3111"></a>3111         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/1274.html" title="Multiple referred from 2 places.">CharacterAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L3112" name="L3112"></a>3112 
<a id="L3113" name="L3113"></a>3113             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3114" name="L3114"></a>3114                 <a href="../S/3320.html#L3512" title="Defined at 3512 in src/javax/swing/text/html/HTMLDocument.java.">pushCharacterStyle</a>();
<a id="L3115" name="L3115"></a>3115                 <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3116" name="L3116"></a>3116                     <em class="comment">// Note that the third argument should really be based off</em>
<a id="L3117" name="L3117"></a>3117                     <em class="comment">// inParagraph and impliedP. If we're wrong (that is</em>
<a id="L3118" name="L3118"></a>3118                     <em class="comment">// insertTagDepthDelta shouldn't be changed), we'll end up</em>
<a id="L3119" name="L3119"></a>3119                     <em class="comment">// removing an extra EndSpec, which won't matter anyway.</em>
<a id="L3120" name="L3120"></a>3120                     <strong class="reserved">boolean</strong> <a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a> = <a href="../S/3320.html#L3856" title="Defined at 3856 in src/javax/swing/text/html/HTMLDocument.java.">canInsertTag</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <strong class="reserved">false</strong>);
<a id="L3121" name="L3121"></a>3121                     <strong class="reserved">if</strong> (<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3122" name="L3122"></a>3122                         <strong class="reserved">if</strong> (!inParagraph) <em class="brace">{</em>
<a id="L3123" name="L3123"></a>3123                             inParagraph = impliedP = <strong class="reserved">true</strong>;
<a id="L3124" name="L3124"></a>3124                         <em class="brace">}</em>
<a id="L3125" name="L3125"></a>3125                     <em class="brace">}</em>
<a id="L3126" name="L3126"></a>3126                     <strong class="reserved">if</strong> (!<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>) <em class="brace">{</em>
<a id="L3127" name="L3127"></a>3127                         <strong class="reserved">return</strong>;
<a id="L3128" name="L3128"></a>3128                     <em class="brace">}</em>
<a id="L3129" name="L3129"></a>3129                 <em class="brace">}</em>
<a id="L3130" name="L3130"></a>3130                 <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED)) <em class="brace">{</em>
<a id="L3131" name="L3131"></a>3131                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(IMPLIED);
<a id="L3132" name="L3132"></a>3132                 <em class="brace">}</em>
<a id="L3133" name="L3133"></a>3133                 charAttr.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L3134" name="L3134"></a>3134                 <strong class="reserved">if</strong> (styleAttributes != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3135" name="L3135"></a>3135                     charAttr.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(styleAttributes);
<a id="L3136" name="L3136"></a>3136                 <em class="brace">}</em>
<a id="L3137" name="L3137"></a>3137             <em class="brace">}</em>
<a id="L3138" name="L3138"></a>3138 
<a id="L3139" name="L3139"></a>3139             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3140" name="L3140"></a>3140                 <a href="../S/3320.html#L3520" title="Defined at 3520 in src/javax/swing/text/html/HTMLDocument.java.">popCharacterStyle</a>();
<a id="L3141" name="L3141"></a>3141             <em class="brace">}</em>
<a id="L3142" name="L3142"></a>3142         <em class="brace">}</em>
<a id="L3143" name="L3143"></a>3143 
<div class="comment">
          Provides conversion of HTML tag/attribute
          mappings that have a corresponding StyleConstants
          and CSS mapping.  The conversion is to CSS attributes.</div>
<a id="L3149" name="L3149"></a>3149         <strong class="reserved">class</strong> <a href="../S/3320.html#L2219" title="Referred from 2219 in src/javax/swing/text/html/HTMLDocument.java.">ConvertAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L3150" name="L3150"></a>3150 
<a id="L3151" name="L3151"></a>3151             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3152" name="L3152"></a>3152                 <a href="../S/3320.html#L3512" title="Defined at 3512 in src/javax/swing/text/html/HTMLDocument.java.">pushCharacterStyle</a>();
<a id="L3153" name="L3153"></a>3153                 <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3154" name="L3154"></a>3154                     <em class="comment">// Note that the third argument should really be based off</em>
<a id="L3155" name="L3155"></a>3155                     <em class="comment">// inParagraph and impliedP. If we're wrong (that is</em>
<a id="L3156" name="L3156"></a>3156                     <em class="comment">// insertTagDepthDelta shouldn't be changed), we'll end up</em>
<a id="L3157" name="L3157"></a>3157                     <em class="comment">// removing an extra EndSpec, which won't matter anyway.</em>
<a id="L3158" name="L3158"></a>3158                     <strong class="reserved">boolean</strong> <a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a> = <a href="../S/3320.html#L3856" title="Defined at 3856 in src/javax/swing/text/html/HTMLDocument.java.">canInsertTag</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <strong class="reserved">false</strong>);
<a id="L3159" name="L3159"></a>3159                     <strong class="reserved">if</strong> (<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3160" name="L3160"></a>3160                         <strong class="reserved">if</strong> (!inParagraph) <em class="brace">{</em>
<a id="L3161" name="L3161"></a>3161                             inParagraph = impliedP = <strong class="reserved">true</strong>;
<a id="L3162" name="L3162"></a>3162                         <em class="brace">}</em>
<a id="L3163" name="L3163"></a>3163                     <em class="brace">}</em>
<a id="L3164" name="L3164"></a>3164                     <strong class="reserved">if</strong> (!<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>) <em class="brace">{</em>
<a id="L3165" name="L3165"></a>3165                         <strong class="reserved">return</strong>;
<a id="L3166" name="L3166"></a>3166                     <em class="brace">}</em>
<a id="L3167" name="L3167"></a>3167                 <em class="brace">}</em>
<a id="L3168" name="L3168"></a>3168                 <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED)) <em class="brace">{</em>
<a id="L3169" name="L3169"></a>3169                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(IMPLIED);
<a id="L3170" name="L3170"></a>3170                 <em class="brace">}</em>
<a id="L3171" name="L3171"></a>3171                 <strong class="reserved">if</strong> (styleAttributes != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3172" name="L3172"></a>3172                     charAttr.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(styleAttributes);
<a id="L3173" name="L3173"></a>3173                 <em class="brace">}</em>
<a id="L3174" name="L3174"></a>3174                 <em class="comment">// We also need to add attr, otherwise we lose custom</em>
<a id="L3175" name="L3175"></a>3175                 <em class="comment">// attributes, including class/id for style lookups, and</em>
<a id="L3176" name="L3176"></a>3176                 <em class="comment">// further confuse style lookup (doesn't have tag).</em>
<a id="L3177" name="L3177"></a>3177                 charAttr.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L3178" name="L3178"></a>3178                 <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> sheet = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L3179" name="L3179"></a>3179                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.B) <em class="brace">{</em>
<a id="L3180" name="L3180"></a>3180                     sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.FONT_WEIGHT, "bold");
<a id="L3181" name="L3181"></a>3181                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.I) <em class="brace">{</em>
<a id="L3182" name="L3182"></a>3182                     sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.FONT_STYLE, "italic");
<a id="L3183" name="L3183"></a>3183                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.U) <em class="brace">{</em>
<a id="L3184" name="L3184"></a>3184                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> v = charAttr.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TEXT_DECORATION);
<a id="L3185" name="L3185"></a>3185                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = "underline";
<a id="L3186" name="L3186"></a>3186                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (v != <strong class="reserved">null</strong>) ? <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> + "," + v.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3187" name="L3187"></a>3187                     sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TEXT_DECORATION, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L3188" name="L3188"></a>3188                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.STRIKE) <em class="brace">{</em>
<a id="L3189" name="L3189"></a>3189                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> v = charAttr.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TEXT_DECORATION);
<a id="L3190" name="L3190"></a>3190                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = "line-through";
<a id="L3191" name="L3191"></a>3191                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (v != <strong class="reserved">null</strong>) ? <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> + "," + v.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3192" name="L3192"></a>3192                     sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TEXT_DECORATION, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L3193" name="L3193"></a>3193                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SUP) <em class="brace">{</em>
<a id="L3194" name="L3194"></a>3194                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> v = charAttr.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.VERTICAL_ALIGN);
<a id="L3195" name="L3195"></a>3195                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = "sup";
<a id="L3196" name="L3196"></a>3196                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (v != <strong class="reserved">null</strong>) ? <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> + "," + v.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3197" name="L3197"></a>3197                     sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.VERTICAL_ALIGN, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L3198" name="L3198"></a>3198                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../D/7568.html" title="Multiple defined in 3 places.">SUB</a>) <em class="brace">{</em>
<a id="L3199" name="L3199"></a>3199                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> v = charAttr.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.VERTICAL_ALIGN);
<a id="L3200" name="L3200"></a>3200                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = "sub";
<a id="L3201" name="L3201"></a>3201                     <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (v != <strong class="reserved">null</strong>) ? <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> + "," + v.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3202" name="L3202"></a>3202                     sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.VERTICAL_ALIGN, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L3203" name="L3203"></a>3203                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FONT) <em class="brace">{</em>
<a id="L3204" name="L3204"></a>3204                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> color = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.<a href="../S/6754.html#L473" title="Defined at 473 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">COLOR</a>);
<a id="L3205" name="L3205"></a>3205                     <strong class="reserved">if</strong> (color != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3206" name="L3206"></a>3206                         sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.<a href="../S/6754.html#L473" title="Defined at 473 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">COLOR</a>, color);
<a id="L3207" name="L3207"></a>3207                     <em class="brace">}</em>
<a id="L3208" name="L3208"></a>3208                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> face = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.FACE);
<a id="L3209" name="L3209"></a>3209                     <strong class="reserved">if</strong> (face != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3210" name="L3210"></a>3210                         sheet.<a href="../S/3315.html#L502" title="Defined at 502 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttribute</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.FONT_FAMILY, face);
<a id="L3211" name="L3211"></a>3211                     <em class="brace">}</em>
<a id="L3212" name="L3212"></a>3212                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.<a href="../S/6754.html#L474" title="Defined at 474 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">SIZE</a>);
<a id="L3213" name="L3213"></a>3213                     <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3214" name="L3214"></a>3214                         sheet.<a href="../S/3315.html#L512" title="Defined at 512 in src/javax/swing/text/html/StyleSheet.java.">addCSSAttributeFromHTML</a>(charAttr, <a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.FONT_SIZE, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L3215" name="L3215"></a>3215                     <em class="brace">}</em>
<a id="L3216" name="L3216"></a>3216                 <em class="brace">}</em>
<a id="L3217" name="L3217"></a>3217             <em class="brace">}</em>
<a id="L3218" name="L3218"></a>3218 
<a id="L3219" name="L3219"></a>3219             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3220" name="L3220"></a>3220                 <a href="../S/3320.html#L3520" title="Defined at 3520 in src/javax/swing/text/html/HTMLDocument.java.">popCharacterStyle</a>();
<a id="L3221" name="L3221"></a>3221             <em class="brace">}</em>
<a id="L3222" name="L3222"></a>3222 
<a id="L3223" name="L3223"></a>3223         <em class="brace">}</em>
<a id="L3224" name="L3224"></a>3224 
<a id="L3225" name="L3225"></a>3225         <strong class="reserved">class</strong> <a href="../S/3320.html#L2222" title="Referred from 2222 in src/javax/swing/text/html/HTMLDocument.java.">AnchorAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L3111" title="Defined at 3111 in src/javax/swing/text/html/HTMLDocument.java.">CharacterAction</a> <em class="brace">{</em>
<a id="L3226" name="L3226"></a>3226 
<a id="L3227" name="L3227"></a>3227             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3228" name="L3228"></a>3228                 <em class="comment">// set flag to catch empty anchors</em>
<a id="L3229" name="L3229"></a>3229                 emptyAnchor = <strong class="reserved">true</strong>;
<a id="L3230" name="L3230"></a>3230                 <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3231" name="L3231"></a>3231             <em class="brace">}</em>
<a id="L3232" name="L3232"></a>3232 
<a id="L3233" name="L3233"></a>3233             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3234" name="L3234"></a>3234                 <strong class="reserved">if</strong> (emptyAnchor) <em class="brace">{</em>
<a id="L3235" name="L3235"></a>3235                     <em class="comment">// if the anchor was empty it was probably a</em>
<a id="L3236" name="L3236"></a>3236                     <em class="comment">// named anchor point and we don't want to throw</em>
<a id="L3237" name="L3237"></a>3237                     <em class="comment">// it away.</em>
<a id="L3238" name="L3238"></a>3238                     <strong class="reserved">char</strong>[] one = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[1];
<a id="L3239" name="L3239"></a>3239                     one[0] = '\n';
<a id="L3240" name="L3240"></a>3240                     <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(one, 0, 1);
<a id="L3241" name="L3241"></a>3241                 <em class="brace">}</em>
<a id="L3242" name="L3242"></a>3242                 <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L3243" name="L3243"></a>3243             <em class="brace">}</em>
<a id="L3244" name="L3244"></a>3244         <em class="brace">}</em>
<a id="L3245" name="L3245"></a>3245 
<a id="L3246" name="L3246"></a>3246         <strong class="reserved">class</strong> <a href="../S/3320.html#L2290" title="Referred from 2290 in src/javax/swing/text/html/HTMLDocument.java.">TitleAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2866" title="Defined at 2866 in src/javax/swing/text/html/HTMLDocument.java.">HiddenAction</a> <em class="brace">{</em>
<a id="L3247" name="L3247"></a>3247 
<a id="L3248" name="L3248"></a>3248             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3249" name="L3249"></a>3249                 inTitle = <strong class="reserved">true</strong>;
<a id="L3250" name="L3250"></a>3250                 <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3251" name="L3251"></a>3251             <em class="brace">}</em>
<a id="L3252" name="L3252"></a>3252 
<a id="L3253" name="L3253"></a>3253             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3254" name="L3254"></a>3254                 inTitle = <strong class="reserved">false</strong>;
<a id="L3255" name="L3255"></a>3255                 <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L3256" name="L3256"></a>3256             <em class="brace">}</em>
<a id="L3257" name="L3257"></a>3257 
<a id="L3258" name="L3258"></a>3258             <strong class="reserved">boolean</strong> <a href="../R/21404.html" title="Multiple referred from 435 places.">isEmpty</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3259" name="L3259"></a>3259                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3260" name="L3260"></a>3260             <em class="brace">}</em>
<a id="L3261" name="L3261"></a>3261         <em class="brace">}</em>
<a id="L3262" name="L3262"></a>3262 
<a id="L3263" name="L3263"></a>3263 
<a id="L3264" name="L3264"></a>3264         <strong class="reserved">class</strong> <a href="../S/3320.html#L2227" title="Referred from 2227 in src/javax/swing/text/html/HTMLDocument.java.">BaseAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a> <em class="brace">{</em>
<a id="L3265" name="L3265"></a>3265 
<a id="L3266" name="L3266"></a>3266             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3267" name="L3267"></a>3267                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> href = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.HREF);
<a id="L3268" name="L3268"></a>3268                 <strong class="reserved">if</strong> (href != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3269" name="L3269"></a>3269                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3270" name="L3270"></a>3270                         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> newBase = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(base, href);
<a id="L3271" name="L3271"></a>3271                         <a href="../D/31983.html" title="Multiple defined in 2 places.">setBase</a>(newBase);
<a id="L3272" name="L3272"></a>3272                         <a href="../S/3320.html#L1754" title="Defined at 1754 in src/javax/swing/text/html/HTMLDocument.java.">hasBaseTag</a> = <strong class="reserved">true</strong>;
<a id="L3273" name="L3273"></a>3273                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L3274" name="L3274"></a>3274                     <em class="brace">}</em>
<a id="L3275" name="L3275"></a>3275                 <em class="brace">}</em>
<a id="L3276" name="L3276"></a>3276                 baseTarget = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TARGET);
<a id="L3277" name="L3277"></a>3277             <em class="brace">}</em>
<a id="L3278" name="L3278"></a>3278         <em class="brace">}</em>
<a id="L3279" name="L3279"></a>3279 
<a id="L3280" name="L3280"></a>3280         <strong class="reserved">class</strong> <a href="../S/3320.html#L2273" title="Referred from 2273 in src/javax/swing/text/html/HTMLDocument.java.">ObjectAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2847" title="Defined at 2847 in src/javax/swing/text/html/HTMLDocument.java.">SpecialAction</a> <em class="brace">{</em>
<a id="L3281" name="L3281"></a>3281 
<a id="L3282" name="L3282"></a>3282             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3283" name="L3283"></a>3283                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6604.html#L137" title="Defined at 137 in src/com/sun/source/doctree/DocTree.java.">PARAM</a>) <em class="brace">{</em>
<a id="L3284" name="L3284"></a>3284                     <a href="../D/10990.html" title="Multiple defined in 6 places.">addParameter</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L3285" name="L3285"></a>3285                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3286" name="L3286"></a>3286                     <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L3287" name="L3287"></a>3287                 <em class="brace">}</em>
<a id="L3288" name="L3288"></a>3288             <em class="brace">}</em>
<a id="L3289" name="L3289"></a>3289 
<a id="L3290" name="L3290"></a>3290             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3291" name="L3291"></a>3291                 <strong class="reserved">if</strong> (t != <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.<a href="../S/6604.html#L137" title="Defined at 137 in src/com/sun/source/doctree/DocTree.java.">PARAM</a>) <em class="brace">{</em>
<a id="L3292" name="L3292"></a>3292                     <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L3293" name="L3293"></a>3293                 <em class="brace">}</em>
<a id="L3294" name="L3294"></a>3294             <em class="brace">}</em>
<a id="L3295" name="L3295"></a>3295 
<a id="L3296" name="L3296"></a>3296             <strong class="reserved">void</strong> <a href="../R/9894.html" title="Multiple referred from 6 places.">addParameter</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3297" name="L3297"></a>3297                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.NAME);
<a id="L3298" name="L3298"></a>3298                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.<a href="../S/6604.html#L216" title="Defined at 216 in src/com/sun/source/doctree/DocTree.java.">VALUE</a>);
<a id="L3299" name="L3299"></a>3299                 <strong class="reserved">if</strong> ((<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L3300" name="L3300"></a>3300                     <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> objSpec = parseBuffer.<a href="../D/26745.html" title="Multiple defined in 2 places.">lastElement</a>();
<a id="L3301" name="L3301"></a>3301                     <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> objAttr = (<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>) objSpec.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L3302" name="L3302"></a>3302                     objAttr.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L3303" name="L3303"></a>3303                 <em class="brace">}</em>
<a id="L3304" name="L3304"></a>3304             <em class="brace">}</em>
<a id="L3305" name="L3305"></a>3305         <em class="brace">}</em>
<a id="L3306" name="L3306"></a>3306 
<div class="comment">
          Action to support forms by building all of the elements
          used to represent form controls.  This will process
          the &lt;INPUT&gt;, &lt;TEXTAREA&gt;, &lt;SELECT&gt;,
          and &lt;OPTION&gt; tags.  The element created by
          this action is expected to have the attribute
          <code>StyleConstants.ModelAttribute</code> set to
          the model that holds the state for the form control.
          This enables multiple views, and allows document to
          be iterated over picking up the data of the form.
          The following are the model assignments for the
          various type of form elements.
          <table summary="model assignments for the various types of form elements">
          <tbody><tr>
            <th>Element Type
            </th><th>Model Type
          </th></tr><tr>
            <td>input, type button
            </td><td>{@link DefaultButtonModel}
          </td></tr><tr>
            <td>input, type checkbox
            </td><td>{@link javax.swing.JToggleButton.ToggleButtonModel}
          </td></tr><tr>
            <td>input, type image
            </td><td>{@link DefaultButtonModel}
          </td></tr><tr>
            <td>input, type password
            </td><td>{@link PlainDocument}
          </td></tr><tr>
            <td>input, type radio
            </td><td>{@link javax.swing.JToggleButton.ToggleButtonModel}
          </td></tr><tr>
            <td>input, type reset
            </td><td>{@link DefaultButtonModel}
          </td></tr><tr>
            <td>input, type submit
            </td><td>{@link DefaultButtonModel}
          </td></tr><tr>
            <td>input, type text or type is null.
            </td><td>{@link PlainDocument}
          </td></tr><tr>
            <td>select
            </td><td>{@link DefaultComboBoxModel} or an {@link DefaultListModel}, with an item type of Option
          </td></tr><tr>
            <td>textarea
            </td><td>{@link PlainDocument}
          </td></tr></tbody></table></div>
<a id="L3356" name="L3356"></a>3356         <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L2217" title="Referred from 2217 in src/javax/swing/text/html/HTMLDocument.java.">FormAction</a> <strong class="reserved">extends</strong> <a href="../S/3320.html#L2847" title="Defined at 2847 in src/javax/swing/text/html/HTMLDocument.java.">SpecialAction</a> <em class="brace">{</em>
<a id="L3357" name="L3357"></a>3357 
<a id="L3358" name="L3358"></a>3358             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28780.html" title="Multiple referred from 2027 places.">start</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3359" name="L3359"></a>3359                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.INPUT) <em class="brace">{</em>
<a id="L3360" name="L3360"></a>3360                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)
<a id="L3361" name="L3361"></a>3361                         <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TYPE);
<div class="comment">
                      if type is not defined the default is
                      assumed to be text.</div>
<a id="L3366" name="L3366"></a>3366                     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3367" name="L3367"></a>3367                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = "text";
<a id="L3368" name="L3368"></a>3368                         <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.TYPE, "text");
<a id="L3369" name="L3369"></a>3369                     <em class="brace">}</em>
<a id="L3370" name="L3370"></a>3370                     <a href="../D/33277.html" title="Multiple defined in 18 places.">setModel</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3371" name="L3371"></a>3371                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TEXTAREA) <em class="brace">{</em>
<a id="L3372" name="L3372"></a>3372                     inTextArea = <strong class="reserved">true</strong>;
<a id="L3373" name="L3373"></a>3373                     textAreaDocument = <strong class="reserved">new</strong> <a href="../S/3289.html#L39" title="Defined at 39 in src/javax/swing/text/html/TextAreaDocument.java.">TextAreaDocument</a>();
<a id="L3374" name="L3374"></a>3374                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ModelAttribute,
<a id="L3375" name="L3375"></a>3375                                       textAreaDocument);
<a id="L3376" name="L3376"></a>3376                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SELECT) <em class="brace">{</em>
<a id="L3377" name="L3377"></a>3377                     <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../S/3287.html#L629" title="Defined at 629 in src/javax/swing/text/html/HTML.java.">getIntegerAttributeValue</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>,
<a id="L3378" name="L3378"></a>3378                                                              <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.<a href="../S/6754.html#L474" title="Defined at 474 in src/com/sun/java/swing/plaf/windows/TMSchema.java.">SIZE</a>,
<a id="L3379" name="L3379"></a>3379                                                              1);
<a id="L3380" name="L3380"></a>3380                     <strong class="reserved">boolean</strong> multiple = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.MULTIPLE) != <strong class="reserved">null</strong>;
<a id="L3381" name="L3381"></a>3381                     <strong class="reserved">if</strong> ((<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt; 1) || multiple) <em class="brace">{</em>
<a id="L3382" name="L3382"></a>3382                         <a href="../S/3324.html#L46" title="Defined at 46 in src/javax/swing/text/html/OptionListModel.java.">OptionListModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt; m = <strong class="reserved">new</strong> <a href="../S/3324.html#L46" title="Defined at 46 in src/javax/swing/text/html/OptionListModel.java.">OptionListModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt;();
<a id="L3383" name="L3383"></a>3383                         <strong class="reserved">if</strong> (multiple) <em class="brace">{</em>
<a id="L3384" name="L3384"></a>3384                             m.<a href="../D/33867.html" title="Multiple defined in 8 places.">setSelectionMode</a>(<a href="../S/3151.html#L46" title="Defined at 46 in src/javax/swing/ListSelectionModel.java.">ListSelectionModel</a>.MULTIPLE_INTERVAL_SELECTION);
<a id="L3385" name="L3385"></a>3385                         <em class="brace">}</em>
<a id="L3386" name="L3386"></a>3386                         selectModel = m;
<a id="L3387" name="L3387"></a>3387                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3388" name="L3388"></a>3388                         selectModel = <strong class="reserved">new</strong> <a href="../S/3297.html#L43" title="Defined at 43 in src/javax/swing/text/html/OptionComboBoxModel.java.">OptionComboBoxModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt;();
<a id="L3389" name="L3389"></a>3389                     <em class="brace">}</em>
<a id="L3390" name="L3390"></a>3390                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ModelAttribute,
<a id="L3391" name="L3391"></a>3391                                       selectModel);
<a id="L3392" name="L3392"></a>3392 
<a id="L3393" name="L3393"></a>3393                 <em class="brace">}</em>
<a id="L3394" name="L3394"></a>3394 
<a id="L3395" name="L3395"></a>3395                 <em class="comment">// build the element, unless this is an option.</em>
<a id="L3396" name="L3396"></a>3396                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.OPTION) <em class="brace">{</em>
<a id="L3397" name="L3397"></a>3397                     option = <strong class="reserved">new</strong> <a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3398" name="L3398"></a>3398 
<a id="L3399" name="L3399"></a>3399                     <strong class="reserved">if</strong> (selectModel <strong class="reserved">instanceof</strong> <a href="../S/3324.html#L46" title="Defined at 46 in src/javax/swing/text/html/OptionListModel.java.">OptionListModel</a>) <em class="brace">{</em>
<a id="L3400" name="L3400"></a>3400                         <a href="../S/3324.html#L46" title="Defined at 46 in src/javax/swing/text/html/OptionListModel.java.">OptionListModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt; m = (<a href="../S/3324.html#L46" title="Defined at 46 in src/javax/swing/text/html/OptionListModel.java.">OptionListModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt;) selectModel;
<a id="L3401" name="L3401"></a>3401                         m.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(option);
<a id="L3402" name="L3402"></a>3402                         <strong class="reserved">if</strong> (option.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L3403" name="L3403"></a>3403                             m.<a href="../D/11062.html" title="Multiple defined in 5 places.">addSelectionInterval</a>(optionCount, optionCount);
<a id="L3404" name="L3404"></a>3404                             m.<a href="../D/32944.html" title="Multiple defined in 2 places.">setInitialSelection</a>(optionCount);
<a id="L3405" name="L3405"></a>3405                         <em class="brace">}</em>
<a id="L3406" name="L3406"></a>3406                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (selectModel <strong class="reserved">instanceof</strong> <a href="../S/3297.html#L43" title="Defined at 43 in src/javax/swing/text/html/OptionComboBoxModel.java.">OptionComboBoxModel</a>) <em class="brace">{</em>
<a id="L3407" name="L3407"></a>3407                         <a href="../S/3297.html#L43" title="Defined at 43 in src/javax/swing/text/html/OptionComboBoxModel.java.">OptionComboBoxModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt; m = (<a href="../S/3297.html#L43" title="Defined at 43 in src/javax/swing/text/html/OptionComboBoxModel.java.">OptionComboBoxModel</a>&lt;<a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a>&gt;) selectModel;
<a id="L3408" name="L3408"></a>3408                         m.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(option);
<a id="L3409" name="L3409"></a>3409                         <strong class="reserved">if</strong> (option.<a href="../D/26217.html" title="Multiple defined in 14 places.">isSelected</a>()) <em class="brace">{</em>
<a id="L3410" name="L3410"></a>3410                             m.<a href="../D/33855.html" title="Multiple defined in 10 places.">setSelectedItem</a>(option);
<a id="L3411" name="L3411"></a>3411                             m.<a href="../D/32944.html" title="Multiple defined in 2 places.">setInitialSelection</a>(option);
<a id="L3412" name="L3412"></a>3412                         <em class="brace">}</em>
<a id="L3413" name="L3413"></a>3413                     <em class="brace">}</em>
<a id="L3414" name="L3414"></a>3414                     optionCount++;
<a id="L3415" name="L3415"></a>3415                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3416" name="L3416"></a>3416                     <strong class="reserved">super</strong>.<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L3417" name="L3417"></a>3417                 <em class="brace">}</em>
<a id="L3418" name="L3418"></a>3418             <em class="brace">}</em>
<a id="L3419" name="L3419"></a>3419 
<a id="L3420" name="L3420"></a>3420             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13749.html" title="Multiple referred from 1526 places.">end</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3421" name="L3421"></a>3421                 <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.OPTION) <em class="brace">{</em>
<a id="L3422" name="L3422"></a>3422                     option = <strong class="reserved">null</strong>;
<a id="L3423" name="L3423"></a>3423                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3424" name="L3424"></a>3424                     <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.SELECT) <em class="brace">{</em>
<a id="L3425" name="L3425"></a>3425                         selectModel = <strong class="reserved">null</strong>;
<a id="L3426" name="L3426"></a>3426                         optionCount = 0;
<a id="L3427" name="L3427"></a>3427                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.TEXTAREA) <em class="brace">{</em>
<a id="L3428" name="L3428"></a>3428                         inTextArea = <strong class="reserved">false</strong>;
<a id="L3429" name="L3429"></a>3429 
<div class="comment">
 Now that the textarea has ended,
                          store the entire initial text
                          of the text area.  This will
                          enable us to restore the initial
                          state if a reset is requested.</div>
<a id="L3436" name="L3436"></a>3436                         textAreaDocument.<a href="../S/3289.html#L62" title="Defined at 62 in src/javax/swing/text/html/TextAreaDocument.java.">storeInitialText</a>();
<a id="L3437" name="L3437"></a>3437                     <em class="brace">}</em>
<a id="L3438" name="L3438"></a>3438                     <strong class="reserved">super</strong>.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>(t);
<a id="L3439" name="L3439"></a>3439                 <em class="brace">}</em>
<a id="L3440" name="L3440"></a>3440             <em class="brace">}</em>
<a id="L3441" name="L3441"></a>3441 
<a id="L3442" name="L3442"></a>3442             <strong class="reserved">void</strong> <a href="../R/27773.html" title="Multiple referred from 45 places.">setModel</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3443" name="L3443"></a>3443                 <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("submit") ||
<a id="L3444" name="L3444"></a>3444                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("reset") ||
<a id="L3445" name="L3445"></a>3445                     <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("image")) <em class="brace">{</em>
<a id="L3446" name="L3446"></a>3446 
<a id="L3447" name="L3447"></a>3447                     <em class="comment">// button model</em>
<a id="L3448" name="L3448"></a>3448                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ModelAttribute,
<a id="L3449" name="L3449"></a>3449                                       <strong class="reserved">new</strong> <a href="../S/3193.html#L48" title="Defined at 48 in src/javax/swing/DefaultButtonModel.java.">DefaultButtonModel</a>());
<a id="L3450" name="L3450"></a>3450                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("text") ||
<a id="L3451" name="L3451"></a>3451                            <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("password")) <em class="brace">{</em>
<a id="L3452" name="L3452"></a>3452                     <em class="comment">// plain text model</em>
<a id="L3453" name="L3453"></a>3453                     <strong class="reserved">int</strong> <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a> = <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../S/3287.html#L629" title="Defined at 629 in src/javax/swing/text/html/HTML.java.">getIntegerAttributeValue</a>(
<a id="L3454" name="L3454"></a>3454                                        <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.MAXLENGTH, -1);
<a id="L3455" name="L3455"></a>3455                     <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc;
<a id="L3456" name="L3456"></a>3456 
<a id="L3457" name="L3457"></a>3457                     <strong class="reserved">if</strong> (<a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a> &gt; 0) <em class="brace">{</em>
<a id="L3458" name="L3458"></a>3458                         doc = <strong class="reserved">new</strong> <a href="../S/3320.html#L4187" title="Defined at 4187 in src/javax/swing/text/html/HTMLDocument.java.">FixedLengthDocument</a>(<a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>);
<a id="L3459" name="L3459"></a>3459                     <em class="brace">}</em>
<a id="L3460" name="L3460"></a>3460                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3461" name="L3461"></a>3461                         doc = <strong class="reserved">new</strong> <a href="../S/3340.html#L59" title="Defined at 59 in src/javax/swing/text/PlainDocument.java.">PlainDocument</a>();
<a id="L3462" name="L3462"></a>3462                     <em class="brace">}</em>
<a id="L3463" name="L3463"></a>3463                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)
<a id="L3464" name="L3464"></a>3464                         <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.<a href="../S/6604.html#L216" title="Defined at 216 in src/com/sun/source/doctree/DocTree.java.">VALUE</a>);
<a id="L3465" name="L3465"></a>3465                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3466" name="L3466"></a>3466                         doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(0, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">null</strong>);
<a id="L3467" name="L3467"></a>3467                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3468" name="L3468"></a>3468                     <em class="brace">}</em>
<a id="L3469" name="L3469"></a>3469                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ModelAttribute, doc);
<a id="L3470" name="L3470"></a>3470                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("file")) <em class="brace">{</em>
<a id="L3471" name="L3471"></a>3471                     <em class="comment">// plain text model</em>
<a id="L3472" name="L3472"></a>3472                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ModelAttribute,
<a id="L3473" name="L3473"></a>3473                                       <strong class="reserved">new</strong> <a href="../S/3340.html#L59" title="Defined at 59 in src/javax/swing/text/PlainDocument.java.">PlainDocument</a>());
<a id="L3474" name="L3474"></a>3474                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("checkbox") ||
<a id="L3475" name="L3475"></a>3475                            <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("radio")) <em class="brace">{</em>
<a id="L3476" name="L3476"></a>3476                     <a href="../S/3373.html#L79" title="Defined at 79 in src/javax/swing/JToggleButton.java.">JToggleButton</a>.<a href="../S/3373.html#L225" title="Defined at 225 in src/javax/swing/JToggleButton.java.">ToggleButtonModel</a> model = <strong class="reserved">new</strong> <a href="../S/3373.html#L79" title="Defined at 79 in src/javax/swing/JToggleButton.java.">JToggleButton</a>.<a href="../S/3373.html#L225" title="Defined at 225 in src/javax/swing/JToggleButton.java.">ToggleButtonModel</a>();
<a id="L3477" name="L3477"></a>3477                     <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("radio")) <em class="brace">{</em>
<a id="L3478" name="L3478"></a>3478                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.NAME);
<a id="L3479" name="L3479"></a>3479                         <strong class="reserved">if</strong> ( radioButtonGroupsMap == <strong class="reserved">null</strong> ) <em class="brace">{</em> <em class="comment">//fix for 4772743</em>
<a id="L3480" name="L3480"></a>3480                            radioButtonGroupsMap = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/3364.html#L69" title="Defined at 69 in src/javax/swing/ButtonGroup.java.">ButtonGroup</a>&gt;();
<a id="L3481" name="L3481"></a>3481                         <em class="brace">}</em>
<a id="L3482" name="L3482"></a>3482                         <a href="../S/3364.html#L69" title="Defined at 69 in src/javax/swing/ButtonGroup.java.">ButtonGroup</a> radioButtonGroup = radioButtonGroupsMap.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L3483" name="L3483"></a>3483                         <strong class="reserved">if</strong> (radioButtonGroup == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3484" name="L3484"></a>3484                             radioButtonGroup = <strong class="reserved">new</strong> <a href="../S/3364.html#L69" title="Defined at 69 in src/javax/swing/ButtonGroup.java.">ButtonGroup</a>();
<a id="L3485" name="L3485"></a>3485                             radioButtonGroupsMap.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,radioButtonGroup);
<a id="L3486" name="L3486"></a>3486                         <em class="brace">}</em>
<a id="L3487" name="L3487"></a>3487                         model.<a href="../D/32821.html" title="Multiple defined in 3 places.">setGroup</a>(radioButtonGroup);
<a id="L3488" name="L3488"></a>3488                     <em class="brace">}</em>
<a id="L3489" name="L3489"></a>3489                     <strong class="reserved">boolean</strong> checked = (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.CHECKED) != <strong class="reserved">null</strong>);
<a id="L3490" name="L3490"></a>3490                     model.<a href="../D/33841.html" title="Multiple defined in 10 places.">setSelected</a>(checked);
<a id="L3491" name="L3491"></a>3491                     <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ModelAttribute, model);
<a id="L3492" name="L3492"></a>3492                 <em class="brace">}</em>
<a id="L3493" name="L3493"></a>3493             <em class="brace">}</em>
<a id="L3494" name="L3494"></a>3494 
<div class="comment">
              If a &lt;SELECT&gt; tag is being processed, this
              model will be a reference to the model being filled
              with the &lt;OPTION&gt; elements (which produce
              objects of type <code>Option</code>.</div>
<a id="L3501" name="L3501"></a>3501             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> selectModel;
<a id="L3502" name="L3502"></a>3502             <strong class="reserved">int</strong> optionCount;
<a id="L3503" name="L3503"></a>3503         <em class="brace">}</em>
<a id="L3504" name="L3504"></a>3504 
<a id="L3505" name="L3505"></a>3505 
<a id="L3506" name="L3506"></a>3506         <em class="comment">// --- utility methods used by the reader ------------------</em>
<a id="L3507" name="L3507"></a>3507 
<div class="comment">
          Pushes the current character style on a stack in preparation
          for forming a new nested character style.</div>
<a id="L3512" name="L3512"></a>3512         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25259.html" title="Multiple referred from 3 places.">pushCharacterStyle</a>() <em class="brace">{</em>
<a id="L3513" name="L3513"></a>3513             charAttrStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(charAttr.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>());
<a id="L3514" name="L3514"></a>3514         <em class="brace">}</em>
<a id="L3515" name="L3515"></a>3515 
<div class="comment">
          Pops a previously pushed character style off the stack
          to return to a previous style.</div>
<a id="L3520" name="L3520"></a>3520         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24807.html" title="Multiple referred from 3 places.">popCharacterStyle</a>() <em class="brace">{</em>
<a id="L3521" name="L3521"></a>3521             <strong class="reserved">if</strong> (!charAttrStack.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a>()) <em class="brace">{</em>
<a id="L3522" name="L3522"></a>3522                 charAttr = (<a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a>) charAttrStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L3523" name="L3523"></a>3523                 charAttrStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L3524" name="L3524"></a>3524             <em class="brace">}</em>
<a id="L3525" name="L3525"></a>3525         <em class="brace">}</em>
<a id="L3526" name="L3526"></a>3526 
<div class="comment">
          Adds the given content to the textarea document.
          This method gets called when we are in a textarea
          context.  Therefore all text that is seen belongs
          to the text area and is hence added to the
          TextAreaDocument associated with the text area.</div>
<a id="L3534" name="L3534"></a>3534         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29151.html" title="Multiple referred from 2 places.">textAreaContent</a>(<strong class="reserved">char</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L3535" name="L3535"></a>3535             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3536" name="L3536"></a>3536                 textAreaDocument.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(textAreaDocument.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(), <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>), <strong class="reserved">null</strong>);
<a id="L3537" name="L3537"></a>3537             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3538" name="L3538"></a>3538                 <em class="comment">// Should do something reasonable</em>
<a id="L3539" name="L3539"></a>3539             <em class="brace">}</em>
<a id="L3540" name="L3540"></a>3540         <em class="brace">}</em>
<a id="L3541" name="L3541"></a>3541 
<div class="comment">
          Adds the given content that was encountered in a
          PRE element.  This synthesizes lines to hold the
          runs of text, and makes calls to addContent to
          actually add the text.</div>
<a id="L3548" name="L3548"></a>3548         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L2574" title="Referred from 2574 in src/javax/swing/text/html/HTMLDocument.java.">preContent</a>(<strong class="reserved">char</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L3549" name="L3549"></a>3549             <strong class="reserved">int</strong> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = 0;
<a id="L3550" name="L3550"></a>3550             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L3551" name="L3551"></a>3551                 <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[i] == '\n') <em class="brace">{</em>
<a id="L3552" name="L3552"></a>3552                     <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, i - <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> + 1);
<a id="L3553" name="L3553"></a>3553                     <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED);
<a id="L3554" name="L3554"></a>3554                     <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L3555" name="L3555"></a>3555                     <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3294.html#L126" title="Defined at 126 in src/javax/swing/text/html/CSS.java.">CSS</a>.<a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>.WHITE_SPACE, "pre");
<a id="L3556" name="L3556"></a>3556                     <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L3557" name="L3557"></a>3557                     <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = i + 1;
<a id="L3558" name="L3558"></a>3558                 <em class="brace">}</em>
<a id="L3559" name="L3559"></a>3559             <em class="brace">}</em>
<a id="L3560" name="L3560"></a>3560             <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> &lt; <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3561" name="L3561"></a>3561                 <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>);
<a id="L3562" name="L3562"></a>3562             <em class="brace">}</em>
<a id="L3563" name="L3563"></a>3563         <em class="brace">}</em>
<a id="L3564" name="L3564"></a>3564 
<div class="comment">
          Adds an instruction to the parse buffer to create a
          block element with the given attributes.</div>
<a id="L3569" name="L3569"></a>3569         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/10634.html" title="Multiple referred from 7 places.">blockOpen</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L3570" name="L3570"></a>3570             <strong class="reserved">if</strong> (impliedP) <em class="brace">{</em>
<a id="L3571" name="L3571"></a>3571                 <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED);
<a id="L3572" name="L3572"></a>3572             <em class="brace">}</em>
<a id="L3573" name="L3573"></a>3573 
<a id="L3574" name="L3574"></a>3574             <a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a>++;
<a id="L3575" name="L3575"></a>3575 
<a id="L3576" name="L3576"></a>3576             <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3856" title="Defined at 3856 in src/javax/swing/text/html/HTMLDocument.java.">canInsertTag</a>(t, <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>, <strong class="reserved">true</strong>)) <em class="brace">{</em>
<a id="L3577" name="L3577"></a>3577                 <strong class="reserved">return</strong>;
<a id="L3578" name="L3578"></a>3578             <em class="brace">}</em>
<a id="L3579" name="L3579"></a>3579             <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED)) <em class="brace">{</em>
<a id="L3580" name="L3580"></a>3580                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(IMPLIED);
<a id="L3581" name="L3581"></a>3581             <em class="brace">}</em>
<a id="L3582" name="L3582"></a>3582             lastWasNewline = <strong class="reserved">false</strong>;
<a id="L3583" name="L3583"></a>3583             <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, t);
<a id="L3584" name="L3584"></a>3584             <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> es = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(
<a id="L3585" name="L3585"></a>3585                 <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>(), <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.StartTagType);
<a id="L3586" name="L3586"></a>3586             parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(es);
<a id="L3587" name="L3587"></a>3587         <em class="brace">}</em>
<a id="L3588" name="L3588"></a>3588 
<div class="comment">
          Adds an instruction to the parse buffer to close out
          a block element of the given type.</div>
<a id="L3593" name="L3593"></a>3593         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/10633.html" title="Multiple referred from 7 places.">blockClose</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t) <em class="brace">{</em>
<a id="L3594" name="L3594"></a>3594             <a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a>--;
<a id="L3595" name="L3595"></a>3595 
<a id="L3596" name="L3596"></a>3596             <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3597" name="L3597"></a>3597                 <strong class="reserved">return</strong>;
<a id="L3598" name="L3598"></a>3598             <em class="brace">}</em>
<a id="L3599" name="L3599"></a>3599 
<a id="L3600" name="L3600"></a>3600             <em class="comment">// Add a new line, if the last character wasn't one. This is</em>
<a id="L3601" name="L3601"></a>3601             <em class="comment">// needed for proper positioning of the cursor. addContent</em>
<a id="L3602" name="L3602"></a>3602             <em class="comment">// with true will force an implied paragraph to be generated if</em>
<a id="L3603" name="L3603"></a>3603             <em class="comment">// there isn't one. This may result in a rather bogus structure</em>
<a id="L3604" name="L3604"></a>3604             <em class="comment">// (perhaps a table with a child pargraph), but the paragraph</em>
<a id="L3605" name="L3605"></a>3605             <em class="comment">// is needed for proper positioning and display.</em>
<a id="L3606" name="L3606"></a>3606             <strong class="reserved">if</strong>(!lastWasNewline) <em class="brace">{</em>
<a id="L3607" name="L3607"></a>3607                 <a href="../S/3320.html#L3512" title="Defined at 3512 in src/javax/swing/text/html/HTMLDocument.java.">pushCharacterStyle</a>();
<a id="L3608" name="L3608"></a>3608                 charAttr.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(IMPLIED_CR, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE);
<a id="L3609" name="L3609"></a>3609                 <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(NEWLINE, 0, 1, <strong class="reserved">true</strong>);
<a id="L3610" name="L3610"></a>3610                 <a href="../S/3320.html#L3520" title="Defined at 3520 in src/javax/swing/text/html/HTMLDocument.java.">popCharacterStyle</a>();
<a id="L3611" name="L3611"></a>3611                 lastWasNewline = <strong class="reserved">true</strong>;
<a id="L3612" name="L3612"></a>3612             <em class="brace">}</em>
<a id="L3613" name="L3613"></a>3613 
<a id="L3614" name="L3614"></a>3614             <strong class="reserved">if</strong> (impliedP) <em class="brace">{</em>
<a id="L3615" name="L3615"></a>3615                 impliedP = <strong class="reserved">false</strong>;
<a id="L3616" name="L3616"></a>3616                 inParagraph = <strong class="reserved">false</strong>;
<a id="L3617" name="L3617"></a>3617                 <strong class="reserved">if</strong> (t != <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED) <em class="brace">{</em>
<a id="L3618" name="L3618"></a>3618                     <a href="../S/3320.html#L3593" title="Defined at 3593 in src/javax/swing/text/html/HTMLDocument.java.">blockClose</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED);
<a id="L3619" name="L3619"></a>3619                 <em class="brace">}</em>
<a id="L3620" name="L3620"></a>3620             <em class="brace">}</em>
<a id="L3621" name="L3621"></a>3621             <em class="comment">// an open/close with no content will be removed, so we</em>
<a id="L3622" name="L3622"></a>3622             <em class="comment">// add a space of content to keep the element being formed.</em>
<a id="L3623" name="L3623"></a>3623             <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> prev = (parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) ?
<a id="L3624" name="L3624"></a>3624                 parseBuffer.<a href="../D/26745.html" title="Multiple defined in 2 places.">lastElement</a>() : <strong class="reserved">null</strong>;
<a id="L3625" name="L3625"></a>3625             <strong class="reserved">if</strong> (prev != <strong class="reserved">null</strong> &amp;&amp; prev.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() == <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.StartTagType) <em class="brace">{</em>
<a id="L3626" name="L3626"></a>3626                 <strong class="reserved">char</strong>[] one = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[1];
<a id="L3627" name="L3627"></a>3627                 one[0] = ' ';
<a id="L3628" name="L3628"></a>3628                 <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(one, 0, 1);
<a id="L3629" name="L3629"></a>3629             <em class="brace">}</em>
<a id="L3630" name="L3630"></a>3630             <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> es = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(
<a id="L3631" name="L3631"></a>3631                 <strong class="reserved">null</strong>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.EndTagType);
<a id="L3632" name="L3632"></a>3632             parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(es);
<a id="L3633" name="L3633"></a>3633         <em class="brace">}</em>
<a id="L3634" name="L3634"></a>3634 
<div class="comment">
          Adds some text with the current character attributes.
          @param data the content to add
          @param offs the initial offset
          @param length the length</div>
<a id="L3642" name="L3642"></a>3642         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/9668.html" title="Multiple referred from 7 places.">addContent</a>(<strong class="reserved">char</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">int</strong> offs, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3643" name="L3643"></a>3643             <a href="../D/10728.html" title="Multiple defined in 2 places.">addContent</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, offs, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <strong class="reserved">true</strong>);
<a id="L3644" name="L3644"></a>3644         <em class="brace">}</em>
<a id="L3645" name="L3645"></a>3645 
<div class="comment">
          Adds some text with the current character attributes.
          @param data the content to add
          @param offs the initial offset
          @param length the length
          @param generateImpliedPIfNecessary whether to generate implied
          paragraphs</div>
<a id="L3655" name="L3655"></a>3655         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/9668.html" title="Multiple referred from 7 places.">addContent</a>(<strong class="reserved">char</strong>[] <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, <strong class="reserved">int</strong> offs, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L3656" name="L3656"></a>3656                                   <strong class="reserved">boolean</strong> generateImpliedPIfNecessary) <em class="brace">{</em>
<a id="L3657" name="L3657"></a>3657             <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3658" name="L3658"></a>3658                 <strong class="reserved">return</strong>;
<a id="L3659" name="L3659"></a>3659             <em class="brace">}</em>
<a id="L3660" name="L3660"></a>3660 
<a id="L3661" name="L3661"></a>3661             <strong class="reserved">if</strong> (generateImpliedPIfNecessary &amp;&amp; (! inParagraph) &amp;&amp; (! inPre)) <em class="brace">{</em>
<a id="L3662" name="L3662"></a>3662                 <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED, <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>());
<a id="L3663" name="L3663"></a>3663                 inParagraph = <strong class="reserved">true</strong>;
<a id="L3664" name="L3664"></a>3664                 impliedP = <strong class="reserved">true</strong>;
<a id="L3665" name="L3665"></a>3665             <em class="brace">}</em>
<a id="L3666" name="L3666"></a>3666             emptyAnchor = <strong class="reserved">false</strong>;
<a id="L3667" name="L3667"></a>3667             charAttr.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L3668" name="L3668"></a>3668             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = charAttr.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>();
<a id="L3669" name="L3669"></a>3669             <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> es = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(
<a id="L3670" name="L3670"></a>3670                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>, offs, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L3671" name="L3671"></a>3671             parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(es);
<a id="L3672" name="L3672"></a>3672 
<a id="L3673" name="L3673"></a>3673             <strong class="reserved">if</strong> (parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a>) <em class="brace">{</em>
<a id="L3674" name="L3674"></a>3674                 <strong class="reserved">if</strong> ( <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> &lt;= MaxThreshold ) <em class="brace">{</em>
<a id="L3675" name="L3675"></a>3675                     <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a> *= StepThreshold;
<a id="L3676" name="L3676"></a>3676                 <em class="brace">}</em>
<a id="L3677" name="L3677"></a>3677                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3678" name="L3678"></a>3678                     <a href="../D/16481.html" title="Multiple defined in 7 places.">flushBuffer</a>(<strong class="reserved">false</strong>);
<a id="L3679" name="L3679"></a>3679                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L3680" name="L3680"></a>3680                 <em class="brace">}</em>
<a id="L3681" name="L3681"></a>3681             <em class="brace">}</em>
<a id="L3682" name="L3682"></a>3682             <strong class="reserved">if</strong>(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0) <em class="brace">{</em>
<a id="L3683" name="L3683"></a>3683                 lastWasNewline = (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>[offs + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1] == '\n');
<a id="L3684" name="L3684"></a>3684             <em class="brace">}</em>
<a id="L3685" name="L3685"></a>3685         <em class="brace">}</em>
<a id="L3686" name="L3686"></a>3686 
<div class="comment">
          Adds content that is basically specified entirely
          in the attribute set.</div>
<a id="L3691" name="L3691"></a>3691         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/9964.html" title="Multiple referred from 6 places.">addSpecialElement</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L3692" name="L3692"></a>3692             <strong class="reserved">if</strong> ((t != <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FRAME) &amp;&amp; (! inParagraph) &amp;&amp; (! inPre)) <em class="brace">{</em>
<a id="L3693" name="L3693"></a>3693                 nextTagAfterPImplied = t;
<a id="L3694" name="L3694"></a>3694                 <a href="../S/3320.html#L3569" title="Defined at 3569 in src/javax/swing/text/html/HTMLDocument.java.">blockOpen</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED, <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>());
<a id="L3695" name="L3695"></a>3695                 nextTagAfterPImplied = <strong class="reserved">null</strong>;
<a id="L3696" name="L3696"></a>3696                 inParagraph = <strong class="reserved">true</strong>;
<a id="L3697" name="L3697"></a>3697                 impliedP = <strong class="reserved">true</strong>;
<a id="L3698" name="L3698"></a>3698             <em class="brace">}</em>
<a id="L3699" name="L3699"></a>3699             <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3856" title="Defined at 3856 in src/javax/swing/text/html/HTMLDocument.java.">canInsertTag</a>(t, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, t.<a href="../S/3287.html#L91" title="Defined at 91 in src/javax/swing/text/html/HTML.java.">isBlock</a>())) <em class="brace">{</em>
<a id="L3700" name="L3700"></a>3700                 <strong class="reserved">return</strong>;
<a id="L3701" name="L3701"></a>3701             <em class="brace">}</em>
<a id="L3702" name="L3702"></a>3702             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED)) <em class="brace">{</em>
<a id="L3703" name="L3703"></a>3703                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/30709.html" title="Multiple defined in 30 places.">removeAttribute</a>(IMPLIED);
<a id="L3704" name="L3704"></a>3704             <em class="brace">}</em>
<a id="L3705" name="L3705"></a>3705             emptyAnchor = <strong class="reserved">false</strong>;
<a id="L3706" name="L3706"></a>3706             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10670.html" title="Multiple defined in 16 places.">addAttributes</a>(charAttr);
<a id="L3707" name="L3707"></a>3707             <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute, t);
<a id="L3708" name="L3708"></a>3708             <strong class="reserved">char</strong>[] one = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[1];
<a id="L3709" name="L3709"></a>3709             one[0] = ' ';
<a id="L3710" name="L3710"></a>3710             <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> es = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(
<a id="L3711" name="L3711"></a>3711                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/13483.html" title="Multiple defined in 9 places.">copyAttributes</a>(), <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType, one, 0, 1);
<a id="L3712" name="L3712"></a>3712             parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(es);
<a id="L3713" name="L3713"></a>3713             <em class="comment">// Set this to avoid generating a newline for frames, frames</em>
<a id="L3714" name="L3714"></a>3714             <em class="comment">// shouldn't have any content, and shouldn't need a newline.</em>
<a id="L3715" name="L3715"></a>3715             <strong class="reserved">if</strong> (t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.FRAME) <em class="brace">{</em>
<a id="L3716" name="L3716"></a>3716                 lastWasNewline = <strong class="reserved">true</strong>;
<a id="L3717" name="L3717"></a>3717             <em class="brace">}</em>
<a id="L3718" name="L3718"></a>3718         <em class="brace">}</em>
<a id="L3719" name="L3719"></a>3719 
<div class="comment">
          Flushes the current parse buffer into the document.
          @param endOfStream true if there is no more content to parser</div>
<a id="L3724" name="L3724"></a>3724         <strong class="reserved">void</strong> <a href="../R/14704.html" title="Multiple referred from 36 places.">flushBuffer</a>(<strong class="reserved">boolean</strong> <a href="../D/15465.html" title="Multiple defined in 4 places.">endOfStream</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3725" name="L3725"></a>3725             <strong class="reserved">int</strong> oldLength = <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L3726" name="L3726"></a>3726             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L3727" name="L3727"></a>3727             <strong class="reserved">if</strong> (<a href="../D/15465.html" title="Multiple defined in 4 places.">endOfStream</a> &amp;&amp; (insertTag != <strong class="reserved">null</strong> || insertAfterImplied) &amp;&amp;
<a id="L3728" name="L3728"></a>3728                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt; 0) <em class="brace">{</em>
<a id="L3729" name="L3729"></a>3729                 <a href="../S/3320.html#L3749" title="Defined at 3749 in src/javax/swing/text/html/HTMLDocument.java.">adjustEndSpecsForPartialInsert</a>();
<a id="L3730" name="L3730"></a>3730                 <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L3731" name="L3731"></a>3731             <em class="brace">}</em>
<a id="L3732" name="L3732"></a>3732             <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>[] spec = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>];
<a id="L3733" name="L3733"></a>3733             parseBuffer.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(spec);
<a id="L3734" name="L3734"></a>3734 
<a id="L3735" name="L3735"></a>3735             <strong class="reserved">if</strong> (oldLength == 0 &amp;&amp; (insertTag == <strong class="reserved">null</strong> &amp;&amp; !insertAfterImplied)) <em class="brace">{</em>
<a id="L3736" name="L3736"></a>3736                 <a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(spec);
<a id="L3737" name="L3737"></a>3737             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3738" name="L3738"></a>3738                 <a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, spec);
<a id="L3739" name="L3739"></a>3739             <em class="brace">}</em>
<a id="L3740" name="L3740"></a>3740             parseBuffer.<a href="../D/30689.html" title="Multiple defined in 14 places.">removeAllElements</a>();
<a id="L3741" name="L3741"></a>3741             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> += <a href="../D/3670.html" title="Multiple defined in 2 places.">HTMLDocument</a>.<strong class="reserved">this</strong>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() - oldLength;
<a id="L3742" name="L3742"></a>3742             flushCount++;
<a id="L3743" name="L3743"></a>3743         <em class="brace">}</em>
<a id="L3744" name="L3744"></a>3744 
<div class="comment">
          This will be invoked for the last flush, if <code>insertTag</code>
          is non null.</div>
<a id="L3749" name="L3749"></a>3749         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3320.html#L3729" title="Referred from 3729 in src/javax/swing/text/html/HTMLDocument.java.">adjustEndSpecsForPartialInsert</a>() <em class="brace">{</em>
<a id="L3750" name="L3750"></a>3750             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L3751" name="L3751"></a>3751             <strong class="reserved">if</strong> (insertTagDepthDelta &lt; 0) <em class="brace">{</em>
<a id="L3752" name="L3752"></a>3752                 <em class="comment">// When inserting via an insertTag, the depths (of the tree</em>
<a id="L3753" name="L3753"></a>3753                 <em class="comment">// being read in, and existing hierarchy) may not match up.</em>
<a id="L3754" name="L3754"></a>3754                 <em class="comment">// This attemps to clean it up.</em>
<a id="L3755" name="L3755"></a>3755                 <strong class="reserved">int</strong> removeCounter = insertTagDepthDelta;
<a id="L3756" name="L3756"></a>3756                 <strong class="reserved">while</strong> (removeCounter &lt; 0 &amp;&amp; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt;= 0 &amp;&amp;
<a id="L3757" name="L3757"></a>3757                         parseBuffer.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> - 1).
<a id="L3758" name="L3758"></a>3758                        <a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() == <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.EndTagType) <em class="brace">{</em>
<a id="L3759" name="L3759"></a>3759                     parseBuffer.<a href="../D/30775.html" title="Multiple defined in 12 places.">removeElementAt</a>(--<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L3760" name="L3760"></a>3760                     removeCounter++;
<a id="L3761" name="L3761"></a>3761                 <em class="brace">}</em>
<a id="L3762" name="L3762"></a>3762             <em class="brace">}</em>
<a id="L3763" name="L3763"></a>3763             <strong class="reserved">if</strong> (flushCount == 0 &amp;&amp; (!insertAfterImplied ||
<a id="L3764" name="L3764"></a>3764                                     !wantsTrailingNewline)) <em class="brace">{</em>
<a id="L3765" name="L3765"></a>3765                 <em class="comment">// If this starts with content (or popDepth &gt; 0 &amp;&amp;</em>
<a id="L3766" name="L3766"></a>3766                 <em class="comment">// pushDepth &gt; 0) and ends with EndTagTypes, make sure</em>
<a id="L3767" name="L3767"></a>3767                 <em class="comment">// the last content isn't a \n, otherwise will end up with</em>
<a id="L3768" name="L3768"></a>3768                 <em class="comment">// an extra \n in the middle of content.</em>
<a id="L3769" name="L3769"></a>3769                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0;
<a id="L3770" name="L3770"></a>3770                 <strong class="reserved">if</strong> (pushDepth &gt; 0) <em class="brace">{</em>
<a id="L3771" name="L3771"></a>3771                     <strong class="reserved">if</strong> (parseBuffer.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(0).<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() ==
<a id="L3772" name="L3772"></a>3772                         <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType) <em class="brace">{</em>
<a id="L3773" name="L3773"></a>3773                         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++;
<a id="L3774" name="L3774"></a>3774                     <em class="brace">}</em>
<a id="L3775" name="L3775"></a>3775                 <em class="brace">}</em>
<a id="L3776" name="L3776"></a>3776                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += (popDepth + pushDepth);
<a id="L3777" name="L3777"></a>3777                 <strong class="reserved">int</strong> cCount = 0;
<a id="L3778" name="L3778"></a>3778                 <strong class="reserved">int</strong> cStart = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3779" name="L3779"></a>3779                 <strong class="reserved">while</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &amp;&amp; parseBuffer.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>
<a id="L3780" name="L3780"></a>3780                         (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>).<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() == <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType) <em class="brace">{</em>
<a id="L3781" name="L3781"></a>3781                     <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++;
<a id="L3782" name="L3782"></a>3782                     cCount++;
<a id="L3783" name="L3783"></a>3783                 <em class="brace">}</em>
<a id="L3784" name="L3784"></a>3784                 <strong class="reserved">if</strong> (cCount &gt; 1) <em class="brace">{</em>
<a id="L3785" name="L3785"></a>3785                     <strong class="reserved">while</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &amp;&amp; parseBuffer.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>
<a id="L3786" name="L3786"></a>3786                             (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>).<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() == <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.EndTagType) <em class="brace">{</em>
<a id="L3787" name="L3787"></a>3787                         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>++;
<a id="L3788" name="L3788"></a>3788                     <em class="brace">}</em>
<a id="L3789" name="L3789"></a>3789                     <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L3790" name="L3790"></a>3790                         <strong class="reserved">char</strong>[] lastText = parseBuffer.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>
<a id="L3791" name="L3791"></a>3791                                 (cStart + cCount - 1).<a href="../D/17028.html" title="Multiple defined in 16 places.">getArray</a>();
<a id="L3792" name="L3792"></a>3792                         <strong class="reserved">if</strong> (lastText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 1 &amp;&amp; lastText[0] == NEWLINE[0])<em class="brace">{</em>
<a id="L3793" name="L3793"></a>3793                             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = cStart + cCount - 1;
<a id="L3794" name="L3794"></a>3794                             <strong class="reserved">while</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L3795" name="L3795"></a>3795                                 parseBuffer.<a href="../D/30775.html" title="Multiple defined in 12 places.">removeElementAt</a>(--<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L3796" name="L3796"></a>3796                             <em class="brace">}</em>
<a id="L3797" name="L3797"></a>3797                         <em class="brace">}</em>
<a id="L3798" name="L3798"></a>3798                     <em class="brace">}</em>
<a id="L3799" name="L3799"></a>3799                 <em class="brace">}</em>
<a id="L3800" name="L3800"></a>3800             <em class="brace">}</em>
<a id="L3801" name="L3801"></a>3801             <strong class="reserved">if</strong> (wantsTrailingNewline) <em class="brace">{</em>
<a id="L3802" name="L3802"></a>3802                 <em class="comment">// Make sure there is in fact a newline</em>
<a id="L3803" name="L3803"></a>3803                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = parseBuffer.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1; counter &gt;= 0;
<a id="L3804" name="L3804"></a>3804                                    counter--) <em class="brace">{</em>
<a id="L3805" name="L3805"></a>3805                     <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> spec = parseBuffer.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(counter);
<a id="L3806" name="L3806"></a>3806                     <strong class="reserved">if</strong> (spec.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>() == <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType) <em class="brace">{</em>
<a id="L3807" name="L3807"></a>3807                         <strong class="reserved">if</strong> (spec.<a href="../D/17028.html" title="Multiple defined in 16 places.">getArray</a>()[spec.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() - 1] != '\n') <em class="brace">{</em>
<a id="L3808" name="L3808"></a>3808                             <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a> attrs =<strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L3809" name="L3809"></a>3809 
<a id="L3810" name="L3810"></a>3810                             attrs.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute,
<a id="L3811" name="L3811"></a>3811                                                <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L3812" name="L3812"></a>3812                             parseBuffer.<a href="../D/24745.html" title="Multiple defined in 12 places.">insertElementAt</a>(<strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(
<a id="L3813" name="L3813"></a>3813                                     attrs,
<a id="L3814" name="L3814"></a>3814                                     <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType, NEWLINE, 0, 1),
<a id="L3815" name="L3815"></a>3815                                     counter + 1);
<a id="L3816" name="L3816"></a>3816                         <em class="brace">}</em>
<a id="L3817" name="L3817"></a>3817                         <strong class="reserved">break</strong>;
<a id="L3818" name="L3818"></a>3818                     <em class="brace">}</em>
<a id="L3819" name="L3819"></a>3819                 <em class="brace">}</em>
<a id="L3820" name="L3820"></a>3820             <em class="brace">}</em>
<a id="L3821" name="L3821"></a>3821         <em class="brace">}</em>
<a id="L3822" name="L3822"></a>3822 
<div class="comment">
          Adds the CSS rules in <code>rules</code>.</div>
<a id="L3826" name="L3826"></a>3826         <strong class="reserved">void</strong> <a href="../S/3320.html#L2965" title="Referred from 2965 in src/javax/swing/text/html/HTMLDocument.java.">addCSSRules</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rules) <em class="brace">{</em>
<a id="L3827" name="L3827"></a>3827             <a href="../D/8511.html" title="Multiple defined in 2 places.">StyleSheet</a> ss = <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>();
<a id="L3828" name="L3828"></a>3828             ss.<a href="../D/11060.html" title="Multiple defined in 2 places.">addRule</a>(rules);
<a id="L3829" name="L3829"></a>3829         <em class="brace">}</em>
<a id="L3830" name="L3830"></a>3830 
<div class="comment">
          Adds the CSS stylesheet at <code>href</code> to the known list
          of stylesheets.</div>
<a id="L3835" name="L3835"></a>3835         <strong class="reserved">void</strong> <a href="../S/3320.html#L3012" title="Referred from 3012 in src/javax/swing/text/html/HTMLDocument.java.">linkCSSStyleSheet</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> href) <em class="brace">{</em>
<a id="L3836" name="L3836"></a>3836             <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url;
<a id="L3837" name="L3837"></a>3837             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3838" name="L3838"></a>3838                 url = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(base, href);
<a id="L3839" name="L3839"></a>3839             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mfe) <em class="brace">{</em>
<a id="L3840" name="L3840"></a>3840                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3841" name="L3841"></a>3841                     url = <strong class="reserved">new</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>(href);
<a id="L3842" name="L3842"></a>3842                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/814.html#L38" title="Defined at 38 in src/java/net/MalformedURLException.java.">MalformedURLException</a> mfe2) <em class="brace">{</em>
<a id="L3843" name="L3843"></a>3843                     url = <strong class="reserved">null</strong>;
<a id="L3844" name="L3844"></a>3844                 <em class="brace">}</em>
<a id="L3845" name="L3845"></a>3845             <em class="brace">}</em>
<a id="L3846" name="L3846"></a>3846             <strong class="reserved">if</strong> (url != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3847" name="L3847"></a>3847                 <a href="../D/22805.html" title="Multiple defined in 11 places.">getStyleSheet</a>().<a href="../S/3315.html#L462" title="Defined at 462 in src/javax/swing/text/html/StyleSheet.java.">importStyleSheet</a>(url);
<a id="L3848" name="L3848"></a>3848             <em class="brace">}</em>
<a id="L3849" name="L3849"></a>3849         <em class="brace">}</em>
<a id="L3850" name="L3850"></a>3850 
<div class="comment">
          Returns true if can insert starting at <code>t</code>. This
          will return false if the insert tag is set, and hasn't been found
          yet.</div>
<a id="L3856" name="L3856"></a>3856         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/10887.html" title="Multiple referred from 4 places.">canInsertTag</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> t, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>,
<a id="L3857" name="L3857"></a>3857                                      <strong class="reserved">boolean</strong> <a href="../S/3323.html#L350" title="Defined at 350 in src/javax/swing/text/html/HTMLWriter.java.">isBlockTag</a>) <em class="brace">{</em>
<a id="L3858" name="L3858"></a>3858             <strong class="reserved">if</strong> (!<a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>) <em class="brace">{</em>
<a id="L3859" name="L3859"></a>3859                 <strong class="reserved">boolean</strong> needPImplied = ((t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED)
<a id="L3860" name="L3860"></a>3860                                                           &amp;&amp; (!inParagraph)
<a id="L3861" name="L3861"></a>3861                                                           &amp;&amp; (!inPre));
<a id="L3862" name="L3862"></a>3862                 <strong class="reserved">if</strong> (needPImplied &amp;&amp; (nextTagAfterPImplied != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L3863" name="L3863"></a>3863 
<div class="comment">
                      If insertTag == null then just proceed to
                      foundInsertTag() call below and return true.</div>
<a id="L3868" name="L3868"></a>3868                     <strong class="reserved">if</strong> (insertTag != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3869" name="L3869"></a>3869                         <strong class="reserved">boolean</strong> nextTagIsInsertTag =
<a id="L3870" name="L3870"></a>3870                                 <a href="../S/3320.html#L3899" title="Defined at 3899 in src/javax/swing/text/html/HTMLDocument.java.">isInsertTag</a>(nextTagAfterPImplied);
<a id="L3871" name="L3871"></a>3871                         <strong class="reserved">if</strong> ( (! nextTagIsInsertTag) || (! insertInsertTag) ) <em class="brace">{</em>
<a id="L3872" name="L3872"></a>3872                             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3873" name="L3873"></a>3873                         <em class="brace">}</em>
<a id="L3874" name="L3874"></a>3874                     <em class="brace">}</em>
<div class="comment">
                       Proceed to foundInsertTag() call...</div>
<a id="L3878" name="L3878"></a>3878                  <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((insertTag != <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/3320.html#L3899" title="Defined at 3899 in src/javax/swing/text/html/HTMLDocument.java.">isInsertTag</a>(t))
<a id="L3879" name="L3879"></a>3879                                || (insertAfterImplied
<a id="L3880" name="L3880"></a>3880                                     &amp;&amp; (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> == <strong class="reserved">null</strong>
<a id="L3881" name="L3881"></a>3881                                         || <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(IMPLIED)
<a id="L3882" name="L3882"></a>3882                                         || t == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMPLIED
<a id="L3883" name="L3883"></a>3883                                        )
<a id="L3884" name="L3884"></a>3884                                    )
<a id="L3885" name="L3885"></a>3885                            ) <em class="brace">{</em>
<a id="L3886" name="L3886"></a>3886                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3887" name="L3887"></a>3887                 <em class="brace">}</em>
<a id="L3888" name="L3888"></a>3888 
<a id="L3889" name="L3889"></a>3889                 <em class="comment">// Allow the insert if t matches the insert tag, or</em>
<a id="L3890" name="L3890"></a>3890                 <em class="comment">// insertAfterImplied is true and the element is implied.</em>
<a id="L3891" name="L3891"></a>3891                 <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>(<a href="../S/3323.html#L350" title="Defined at 350 in src/javax/swing/text/html/HTMLWriter.java.">isBlockTag</a>);
<a id="L3892" name="L3892"></a>3892                 <strong class="reserved">if</strong> (!insertInsertTag) <em class="brace">{</em>
<a id="L3893" name="L3893"></a>3893                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3894" name="L3894"></a>3894                 <em class="brace">}</em>
<a id="L3895" name="L3895"></a>3895             <em class="brace">}</em>
<a id="L3896" name="L3896"></a>3896             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3897" name="L3897"></a>3897         <em class="brace">}</em>
<a id="L3898" name="L3898"></a>3898 
<a id="L3899" name="L3899"></a>3899         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21594.html" title="Multiple referred from 2 places.">isInsertTag</a>(<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> tag) <em class="brace">{</em>
<a id="L3900" name="L3900"></a>3900             <strong class="reserved">return</strong> (insertTag == tag);
<a id="L3901" name="L3901"></a>3901         <em class="brace">}</em>
<a id="L3902" name="L3902"></a>3902 
<a id="L3903" name="L3903"></a>3903         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14778.html" title="Multiple referred from 19 places.">foundInsertTag</a>(<strong class="reserved">boolean</strong> <a href="../S/3323.html#L350" title="Defined at 350 in src/javax/swing/text/html/HTMLWriter.java.">isBlockTag</a>) <em class="brace">{</em>
<a id="L3904" name="L3904"></a>3904             <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a> = <strong class="reserved">true</strong>;
<a id="L3905" name="L3905"></a>3905             <strong class="reserved">if</strong> (!insertAfterImplied &amp;&amp; (popDepth &gt; 0 || pushDepth &gt; 0)) <em class="brace">{</em>
<a id="L3906" name="L3906"></a>3906                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3907" name="L3907"></a>3907                     <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> == 0 || !<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1, 1).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("\n")) <em class="brace">{</em>
<a id="L3908" name="L3908"></a>3908                         <em class="comment">// Need to insert a newline.</em>
<a id="L3909" name="L3909"></a>3909                         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> newAttrs = <strong class="reserved">null</strong>;
<a id="L3910" name="L3910"></a>3910                         <strong class="reserved">boolean</strong> joinP = <strong class="reserved">true</strong>;
<a id="L3911" name="L3911"></a>3911 
<a id="L3912" name="L3912"></a>3912                         <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> != 0) <em class="brace">{</em>
<a id="L3913" name="L3913"></a>3913                             <em class="comment">// Determine if we can use JoinPrevious, we can't</em>
<a id="L3914" name="L3914"></a>3914                             <em class="comment">// if the Element has some attributes that are</em>
<a id="L3915" name="L3915"></a>3915                             <em class="comment">// not meant to be duplicated.</em>
<a id="L3916" name="L3916"></a>3916                             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> charElement = <a href="../D/17608.html" title="Multiple defined in 2 places.">getCharacterElement</a>
<a id="L3917" name="L3917"></a>3917                                                     (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1);
<a id="L3918" name="L3918"></a>3918                             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> attrs = charElement.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L3919" name="L3919"></a>3919 
<a id="L3920" name="L3920"></a>3920                             <strong class="reserved">if</strong> (attrs.<a href="../D/25416.html" title="Multiple defined in 13 places.">isDefined</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.
<a id="L3921" name="L3921"></a>3921                                                 ComposedTextAttribute)) <em class="brace">{</em>
<a id="L3922" name="L3922"></a>3922                                 joinP = <strong class="reserved">false</strong>;
<a id="L3923" name="L3923"></a>3923                             <em class="brace">}</em>
<a id="L3924" name="L3924"></a>3924                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3925" name="L3925"></a>3925                                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = attrs.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>
<a id="L3926" name="L3926"></a>3926                                               (<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L3927" name="L3927"></a>3927                                 <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> <strong class="reserved">instanceof</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>) <em class="brace">{</em>
<a id="L3928" name="L3928"></a>3928                                     <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> tag = (<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>)<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L3929" name="L3929"></a>3929                                     <strong class="reserved">if</strong> (tag == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.IMG ||
<a id="L3930" name="L3930"></a>3930                                         tag == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.HR ||
<a id="L3931" name="L3931"></a>3931                                         tag == <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.COMMENT ||
<a id="L3932" name="L3932"></a>3932                                         (tag <strong class="reserved">instanceof</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../S/3287.html#L286" title="Defined at 286 in src/javax/swing/text/html/HTML.java.">UnknownTag</a>)) <em class="brace">{</em>
<a id="L3933" name="L3933"></a>3933                                         joinP = <strong class="reserved">false</strong>;
<a id="L3934" name="L3934"></a>3934                                     <em class="brace">}</em>
<a id="L3935" name="L3935"></a>3935                                 <em class="brace">}</em>
<a id="L3936" name="L3936"></a>3936                             <em class="brace">}</em>
<a id="L3937" name="L3937"></a>3937                         <em class="brace">}</em>
<a id="L3938" name="L3938"></a>3938                         <strong class="reserved">if</strong> (!joinP) <em class="brace">{</em>
<a id="L3939" name="L3939"></a>3939                             <em class="comment">// If not joining with the previous element, be</em>
<a id="L3940" name="L3940"></a>3940                             <em class="comment">// sure and set the name (otherwise it will be</em>
<a id="L3941" name="L3941"></a>3941                             <em class="comment">// inherited).</em>
<a id="L3942" name="L3942"></a>3942                             newAttrs = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L3943" name="L3943"></a>3943                             ((<a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>)newAttrs).<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>
<a id="L3944" name="L3944"></a>3944                                               (<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute,
<a id="L3945" name="L3945"></a>3945                                                <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>.CONTENT);
<a id="L3946" name="L3946"></a>3946                         <em class="brace">}</em>
<a id="L3947" name="L3947"></a>3947                         <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> es = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(newAttrs,
<a id="L3948" name="L3948"></a>3948                                      <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.ContentType, NEWLINE, 0,
<a id="L3949" name="L3949"></a>3949                                      NEWLINE.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L3950" name="L3950"></a>3950                         <strong class="reserved">if</strong> (joinP) <em class="brace">{</em>
<a id="L3951" name="L3951"></a>3951                             es.<a href="../D/32461.html" title="Multiple defined in 6 places.">setDirection</a>(<a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.
<a id="L3952" name="L3952"></a>3952                                             JoinPreviousDirection);
<a id="L3953" name="L3953"></a>3953                         <em class="brace">}</em>
<a id="L3954" name="L3954"></a>3954                         parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(es);
<a id="L3955" name="L3955"></a>3955                     <em class="brace">}</em>
<a id="L3956" name="L3956"></a>3956                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L3957" name="L3957"></a>3957             <em class="brace">}</em>
<a id="L3958" name="L3958"></a>3958             <em class="comment">// pops</em>
<a id="L3959" name="L3959"></a>3959             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; popDepth; counter++) <em class="brace">{</em>
<a id="L3960" name="L3960"></a>3960                 parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(<strong class="reserved">null</strong>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.
<a id="L3961" name="L3961"></a>3961                                                        EndTagType));
<a id="L3962" name="L3962"></a>3962             <em class="brace">}</em>
<a id="L3963" name="L3963"></a>3963             <em class="comment">// pushes</em>
<a id="L3964" name="L3964"></a>3964             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = 0; counter &lt; pushDepth; counter++) <em class="brace">{</em>
<a id="L3965" name="L3965"></a>3965                 <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a> es = <strong class="reserved">new</strong> <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>(<strong class="reserved">null</strong>, <a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.
<a id="L3966" name="L3966"></a>3966                                                  StartTagType);
<a id="L3967" name="L3967"></a>3967                 es.<a href="../D/32461.html" title="Multiple defined in 6 places.">setDirection</a>(<a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>.JoinNextDirection);
<a id="L3968" name="L3968"></a>3968                 parseBuffer.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(es);
<a id="L3969" name="L3969"></a>3969             <em class="brace">}</em>
<a id="L3970" name="L3970"></a>3970             insertTagDepthDelta = <a href="../S/3320.html#L2407" title="Defined at 2407 in src/javax/swing/text/html/HTMLDocument.java.">depthTo</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> - 1)) -
<a id="L3971" name="L3971"></a>3971                                   popDepth + pushDepth - <a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a>;
<a id="L3972" name="L3972"></a>3972             <strong class="reserved">if</strong> (<a href="../S/3323.html#L350" title="Defined at 350 in src/javax/swing/text/html/HTMLWriter.java.">isBlockTag</a>) <em class="brace">{</em>
<a id="L3973" name="L3973"></a>3973                 <em class="comment">// A start spec will be added (for this tag), so we account</em>
<a id="L3974" name="L3974"></a>3974                 <em class="comment">// for it here.</em>
<a id="L3975" name="L3975"></a>3975                 insertTagDepthDelta++;
<a id="L3976" name="L3976"></a>3976             <em class="brace">}</em>
<a id="L3977" name="L3977"></a>3977             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3978" name="L3978"></a>3978                 <em class="comment">// An implied paragraph close (end spec) is going to be added,</em>
<a id="L3979" name="L3979"></a>3979                 <em class="comment">// so we account for it here.</em>
<a id="L3980" name="L3980"></a>3980                 insertTagDepthDelta--;
<a id="L3981" name="L3981"></a>3981                 inParagraph = <strong class="reserved">true</strong>;
<a id="L3982" name="L3982"></a>3982                 lastWasNewline = <strong class="reserved">false</strong>;
<a id="L3983" name="L3983"></a>3983             <em class="brace">}</em>
<a id="L3984" name="L3984"></a>3984         <em class="brace">}</em>
<a id="L3985" name="L3985"></a>3985 
<div class="comment">
          This is set to true when and end is invoked for {@literal }.</div>
<a id="L3989" name="L3989"></a>3989         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> receivedEndHTML;
<div class="comment">
         /** Number of times <code>flushBuffer</code> has been invoked. */</div>
<a id="L3991" name="L3991"></a>3991         <strong class="reserved">private</strong> <strong class="reserved">int</strong> flushCount;
<div class="comment">
 If true, behavior is similar to insertTag, but instead of
          waiting for insertTag will wait for first Element without
         * an 'implied' attribute and begin inserting then. </div>
<a id="L3995" name="L3995"></a>3995         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> insertAfterImplied;
<div class="comment">
 This is only used if insertAfterImplied is true. If false, only
         * inserting content, and there is a trailing newline it is removed. </div>
<a id="L3998" name="L3998"></a>3998         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> wantsTrailingNewline;
<a id="L3999" name="L3999"></a>3999         <strong class="reserved">int</strong> <a href="../S/4096.html#L74" title="Defined at 74 in src/javax/xml/ws/soap/MTOM.java.">threshold</a>;
<a id="L4000" name="L4000"></a>4000         <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L4001" name="L4001"></a>4001         <strong class="reserved">boolean</strong> inParagraph = <strong class="reserved">false</strong>;
<a id="L4002" name="L4002"></a>4002         <strong class="reserved">boolean</strong> impliedP = <strong class="reserved">false</strong>;
<a id="L4003" name="L4003"></a>4003         <strong class="reserved">boolean</strong> inPre = <strong class="reserved">false</strong>;
<a id="L4004" name="L4004"></a>4004         <strong class="reserved">boolean</strong> inTextArea = <strong class="reserved">false</strong>;
<a id="L4005" name="L4005"></a>4005         <a href="../S/3289.html#L39" title="Defined at 39 in src/javax/swing/text/html/TextAreaDocument.java.">TextAreaDocument</a> textAreaDocument = <strong class="reserved">null</strong>;
<a id="L4006" name="L4006"></a>4006         <strong class="reserved">boolean</strong> inTitle = <strong class="reserved">false</strong>;
<a id="L4007" name="L4007"></a>4007         <strong class="reserved">boolean</strong> lastWasNewline = <strong class="reserved">true</strong>;
<a id="L4008" name="L4008"></a>4008         <strong class="reserved">boolean</strong> emptyAnchor;
<div class="comment">
 True if (!emptyDocument &amp;&amp; insertTag == null), this is used so
         * much it is cached. </div>
<a id="L4011" name="L4011"></a>4011         <strong class="reserved">boolean</strong> midInsert;
<div class="comment">
         /** True when the body has been encountered. */</div>
<a id="L4013" name="L4013"></a>4013         <strong class="reserved">boolean</strong> inBody;
<div class="comment">
         /** If non null, gives parent Tag that insert is to happen at. */</div>
<a id="L4015" name="L4015"></a>4015         <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> insertTag;
<div class="comment">
 If true, the insertTag is inserted, otherwise elements after
         * the insertTag is found are inserted. </div>
<a id="L4018" name="L4018"></a>4018         <strong class="reserved">boolean</strong> insertInsertTag;
<div class="comment">
         /** Set to true when insertTag has been found. */</div>
<a id="L4020" name="L4020"></a>4020         <strong class="reserved">boolean</strong> <a href="../S/3320.html#L3903" title="Defined at 3903 in src/javax/swing/text/html/HTMLDocument.java.">foundInsertTag</a>;
<div class="comment">
 When foundInsertTag is set to true, this will be updated to
          reflect the delta between the two structures. That is, it
          will be the depth the inserts are happening at minus the
          depth of the tags being passed in. A value of 0 (the common
          case) indicates the structures match, a value greater than 0 indicates
          the insert is happening at a deeper depth than the stream is
          parsing, and a value less than 0 indicates the insert is happening earlier
          in the tree that the parser thinks and that we will need to remove
          EndTagType specs in the flushBuffer method.</div>
<a id="L4031" name="L4031"></a>4031         <strong class="reserved">int</strong> insertTagDepthDelta;
<div class="comment">
         /** How many parents to ascend before insert new elements. */</div>
<a id="L4033" name="L4033"></a>4033         <strong class="reserved">int</strong> popDepth;
<div class="comment">
 How many parents to descend (relative to popDepth) before
         * inserting. </div>
<a id="L4036" name="L4036"></a>4036         <strong class="reserved">int</strong> pushDepth;
<div class="comment">
         /** Last Map that was encountered. */</div>
<a id="L4038" name="L4038"></a>4038         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> lastMap;
<div class="comment">
         /** Set to true when a style element is encountered. */</div>
<a id="L4040" name="L4040"></a>4040         <strong class="reserved">boolean</strong> inStyle = <strong class="reserved">false</strong>;
<div class="comment">
         /** Name of style to use. Obtained from Meta tag. */</div>
<a id="L4042" name="L4042"></a>4042         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> defaultStyle;
<div class="comment">
 Vector describing styles that should be include. Will consist
          of a bunch of HTML.Tags, which will either be:
          <p>LINK: in which case it is followed by an AttributeSet
          </p><p>STYLE: in which case the following element is a String
          indicating the type (may be null), and the elements following
          it until the next HTML.Tag are the rules as Strings.</p></div>
<a id="L4050" name="L4050"></a>4050         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; styles;
<div class="comment">
         /** True if inside the head tag. */</div>
<a id="L4052" name="L4052"></a>4052         <strong class="reserved">boolean</strong> inHead = <strong class="reserved">false</strong>;
<div class="comment">
 Set to true if the style language is text/css. Since this is
         * used alot, it is cached. </div>
<a id="L4055" name="L4055"></a>4055         <strong class="reserved">boolean</strong> isStyleCSS;
<div class="comment">
         /** True if inserting into an empty document. */</div>
<a id="L4057" name="L4057"></a>4057         <strong class="reserved">boolean</strong> emptyDocument;
<div class="comment">
         /** Attributes from a style Attribute. */</div>
<a id="L4059" name="L4059"></a>4059         <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> styleAttributes;
<a id="L4060" name="L4060"></a>4060 
<div class="comment">
          Current option, if in an option element (needed to
          load the label.</div>
<a id="L4065" name="L4065"></a>4065         <a href="../D/6398.html" title="Multiple defined in 3 places.">Option</a> option;
<a id="L4066" name="L4066"></a>4066 
<a id="L4067" name="L4067"></a>4067         <strong class="reserved">protected</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>&gt; parseBuffer = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3328.html#L1162" title="Defined at 1162 in src/javax/swing/text/DefaultStyledDocument.java.">ElementSpec</a>&gt;();
<a id="L4068" name="L4068"></a>4068         <strong class="reserved">protected</strong> <a href="../S/3240.html#L37" title="Defined at 37 in src/javax/swing/text/MutableAttributeSet.java.">MutableAttributeSet</a> charAttr = <strong class="reserved">new</strong> <a href="../S/3320.html#L4086" title="Defined at 4086 in src/javax/swing/text/html/HTMLDocument.java.">TaggedAttributeSet</a>();
<a id="L4069" name="L4069"></a>4069         <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>&gt; charAttrStack = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>&gt;();
<a id="L4070" name="L4070"></a>4070         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a>, <a href="../S/3320.html#L2771" title="Defined at 2771 in src/javax/swing/text/html/HTMLDocument.java.">TagAction</a>&gt; tagMap;
<a id="L4071" name="L4071"></a>4071         <strong class="reserved">int</strong> <a href="../S/3292.html#L808" title="Defined at 808 in src/javax/swing/text/html/CSSParser.java.">inBlock</a> = 0;
<a id="L4072" name="L4072"></a>4072 
<div class="comment">
          This attribute is sometimes used to refer to next tag
          to be handled after p-implied when the latter is
          the current tag which is being handled.</div>
<a id="L4078" name="L4078"></a>4078         <strong class="reserved">private</strong> <a href="../D/3655.html" title="Multiple defined in 2 places.">HTML</a>.<a href="../D/8823.html" title="Multiple defined in 2 places.">Tag</a> nextTagAfterPImplied = <strong class="reserved">null</strong>;
<a id="L4079" name="L4079"></a>4079     <em class="brace">}</em>
<a id="L4080" name="L4080"></a>4080 
<a id="L4081" name="L4081"></a>4081 
<div class="comment">
      Used by StyleSheet to determine when to avoid removing HTML.Tags
      matching StyleConstants.</div>
<a id="L4086" name="L4086"></a>4086     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/8015.html" title="Multiple referred from 2 places.">TaggedAttributeSet</a> <strong class="reserved">extends</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a> <em class="brace">{</em>
<a id="L4087" name="L4087"></a>4087         TaggedAttributeSet() <em class="brace">{</em>
<a id="L4088" name="L4088"></a>4088             <strong class="reserved">super</strong>();
<a id="L4089" name="L4089"></a>4089         <em class="brace">}</em>
<a id="L4090" name="L4090"></a>4090     <em class="brace">}</em>
<a id="L4091" name="L4091"></a>4091 
<a id="L4092" name="L4092"></a>4092 
<div class="comment">
      An element that represents a chunk of text that has
      a set of HTML character level attributes assigned to
      it.</div>
<a id="L4098" name="L4098"></a>4098     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/6771.html" title="Multiple referred from 2 places.">RunElement</a> <strong class="reserved">extends</strong> <a href="../S/3268.html#L2489" title="Defined at 2489 in src/javax/swing/text/AbstractDocument.java.">LeafElement</a> <em class="brace">{</em>
<a id="L4099" name="L4099"></a>4099 
<div class="comment">
          Constructs an element that represents content within the
          document (has no children).
          @param parent  the parent element
          @param a       the element attributes
          @param offs0   the start offset (must be at least 0)
          @param offs1   the end offset (must be at least offs0)
          @since 1.4</div>
<a id="L4110" name="L4110"></a>4110         <strong class="reserved">public</strong> RunElement(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> offs0, <strong class="reserved">int</strong> offs1) <em class="brace">{</em>
<a id="L4111" name="L4111"></a>4111             <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, offs0, offs1);
<a id="L4112" name="L4112"></a>4112         <em class="brace">}</em>
<a id="L4113" name="L4113"></a>4113 
<div class="comment">
          Gets the name of the element.
          @return the name, null if none</div>
<a id="L4119" name="L4119"></a>4119         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L4120" name="L4120"></a>4120             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L4121" name="L4121"></a>4121             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4122" name="L4122"></a>4122                 <strong class="reserved">return</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L4123" name="L4123"></a>4123             <em class="brace">}</em>
<a id="L4124" name="L4124"></a>4124             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L4125" name="L4125"></a>4125         <em class="brace">}</em>
<a id="L4126" name="L4126"></a>4126 
<div class="comment">
          Gets the resolving parent.  HTML attributes are not inherited
          at the model level so we override this to return null.
          @return null, there are none
          @see AttributeSet#getResolveParent</div>
<a id="L4134" name="L4134"></a>4134         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/18705.html" title="Multiple referred from 15 places.">getResolveParent</a>() <em class="brace">{</em>
<a id="L4135" name="L4135"></a>4135             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4136" name="L4136"></a>4136         <em class="brace">}</em>
<a id="L4137" name="L4137"></a>4137     <em class="brace">}</em>
<a id="L4138" name="L4138"></a>4138 
<div class="comment">
      An element that represents a structural <em>block</em> of
      HTML.</div>
<a id="L4143" name="L4143"></a>4143     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/834.html" title="Multiple referred from 4 places.">BlockElement</a> <strong class="reserved">extends</strong> <a href="../S/3268.html#L2233" title="Defined at 2233 in src/javax/swing/text/AbstractDocument.java.">BranchElement</a> <em class="brace">{</em>
<a id="L4144" name="L4144"></a>4144 
<div class="comment">
          Constructs a composite element that initially contains
          no children.
          @param parent  the parent element
          @param a       the attributes for the element
          @since 1.4</div>
<a id="L4153" name="L4153"></a>4153         <strong class="reserved">public</strong> BlockElement(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L4154" name="L4154"></a>4154             <strong class="reserved">super</strong>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L4155" name="L4155"></a>4155         <em class="brace">}</em>
<a id="L4156" name="L4156"></a>4156 
<div class="comment">
          Gets the name of the element.
          @return the name, null if none</div>
<a id="L4162" name="L4162"></a>4162         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L4163" name="L4163"></a>4163             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.NameAttribute);
<a id="L4164" name="L4164"></a>4164             <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4165" name="L4165"></a>4165                 <strong class="reserved">return</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L4166" name="L4166"></a>4166             <em class="brace">}</em>
<a id="L4167" name="L4167"></a>4167             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L4168" name="L4168"></a>4168         <em class="brace">}</em>
<a id="L4169" name="L4169"></a>4169 
<div class="comment">
          Gets the resolving parent.  HTML attributes are not inherited
          at the model level so we override this to return null.
          @return null, there are none
          @see AttributeSet#getResolveParent</div>
<a id="L4177" name="L4177"></a>4177         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/18705.html" title="Multiple referred from 15 places.">getResolveParent</a>() <em class="brace">{</em>
<a id="L4178" name="L4178"></a>4178             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4179" name="L4179"></a>4179         <em class="brace">}</em>
<a id="L4180" name="L4180"></a>4180 
<a id="L4181" name="L4181"></a>4181     <em class="brace">}</em>
<a id="L4182" name="L4182"></a>4182 
<a id="L4183" name="L4183"></a>4183 
<div class="comment">
      Document that allows you to set the maximum length of the text.</div>
<a id="L4187" name="L4187"></a>4187     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/3320.html#L3458" title="Referred from 3458 in src/javax/swing/text/html/HTMLDocument.java.">FixedLengthDocument</a> <strong class="reserved">extends</strong> <a href="../S/3340.html#L59" title="Defined at 59 in src/javax/swing/text/PlainDocument.java.">PlainDocument</a> <em class="brace">{</em>
<a id="L4188" name="L4188"></a>4188         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>;
<a id="L4189" name="L4189"></a>4189 
<a id="L4190" name="L4190"></a>4190         <strong class="reserved">public</strong> FixedLengthDocument(<strong class="reserved">int</strong> <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>) <em class="brace">{</em>
<a id="L4191" name="L4191"></a>4191             <strong class="reserved">this</strong>.<a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a> = <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>;
<a id="L4192" name="L4192"></a>4192         <em class="brace">}</em>
<a id="L4193" name="L4193"></a>4193 
<a id="L4194" name="L4194"></a>4194         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20792.html" title="Multiple referred from 41 places.">insertString</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>)
<a id="L4195" name="L4195"></a>4195             <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L4196" name="L4196"></a>4196             <strong class="reserved">if</strong> (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() + <a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &lt;= <a href="../S/1550.html#L471" title="Defined at 471 in src/java/time/Month.java.">maxLength</a>) <em class="brace">{</em>
<a id="L4197" name="L4197"></a>4197                 <strong class="reserved">super</strong>.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L4198" name="L4198"></a>4198             <em class="brace">}</em>
<a id="L4199" name="L4199"></a>4199         <em class="brace">}</em>
<a id="L4200" name="L4200"></a>4200     <em class="brace">}</em>
<a id="L4201" name="L4201"></a>4201 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L321">[^]</a><a href="#L4194">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>