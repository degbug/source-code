<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/color/ICC_ColorSpace.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L134">[^]</a><a href="#L602">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L134" title="Defined at 134.">getProfile</a></li>
<li><a href="#L159" title="Defined at 159.">toRGB</a></li>
<li><a href="#L211" title="Defined at 211.">fromRGB</a></li>
<li><a href="#L346" title="Defined at 346.">toCIEXYZ</a></li>
<li><a href="#L490" title="Defined at 490.">fromCIEXYZ</a></li>
<li><a href="#L546" title="Defined at 546.">getMinValue</a></li>
<li><a href="#L571" title="Defined at 571.">getMaxValue</a></li>
<li><a href="#L579" title="Defined at 579.">setMinMax</a></li>
<li><a href="#L602" title="Defined at 602.">setComponentScaling</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
 *********************************************************************
 *********************************************************************
 *********************************************************************
 ** COPYRIGHT (c) Eastman Kodak Company, 1997                      ***
 ** As  an unpublished  work pursuant to Title 17 of the United    ***
 ** States Code.  All rights reserved.                             ***
 *********************************************************************
 *********************************************************************
 *********************************************************************</div>
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.color;
<a id="L38" name="L38"></a>  38 
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> sun.java2d.cmm.ColorTransform;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> sun.java2d.cmm.CMSManager;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> sun.java2d.cmm.PCMM;
<a id="L42" name="L42"></a>  42 
<a id="L43" name="L43"></a>  43 
<div class="comment">
  The ICC_ColorSpace class is an implementation of the abstract
  ColorSpace class.  This representation of
  device independent and device dependent color spaces is based on the
  International Color Consortium Specification ICC.1:2001-12, File Format for
  Color Profiles (see <a href="http://www.color.org">http://www.color.org</a>).
  <p>
  Typically, a Color or ColorModel would be associated with an ICC
  Profile which is either an input, display, or output profile (see
  the ICC specification).  There are other types of ICC Profiles, e.g.
  abstract profiles, device link profiles, and named color profiles,
  which do not contain information appropriate for representing the color
  space of a color, image, or device (see ICC_Profile).
  Attempting to create an ICC_ColorSpace object from an inappropriate ICC
  Profile is an error.
  </p><p>
  ICC Profiles represent transformations from the color space of
  the profile (e.g. a monitor) to a Profile Connection Space (PCS).
  Profiles of interest for tagging images or colors have a
  PCS which is one of the device independent
  spaces (one CIEXYZ space and two CIELab spaces) defined in the
  ICC Profile Format Specification.  Most profiles of interest
  either have invertible transformations or explicitly specify
  transformations going both directions.  Should an ICC_ColorSpace
  object be used in a way requiring a conversion from PCS to
  the profile's native space and there is inadequate data to
  correctly perform the conversion, the ICC_ColorSpace object will
  produce output in the specified type of color space (e.g. TYPE_RGB,
  TYPE_CMYK, etc.), but the specific color values of the output data
  will be undefined.
  </p><p>
  The details of this class are not important for simple applets,
  which draw in a default color space or manipulate and display
  imported images with a known color space.  At most, such applets
  would need to get one of the default color spaces via
  ColorSpace.getInstance().
  @see ColorSpace
  @see ICC_Profile</p></div>
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86 
<a id="L87" name="L87"></a>  87 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/3480.html" title="Multiple referred from 74 places.">ICC_ColorSpace</a> <strong class="reserved">extends</strong> <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a> <em class="brace">{</em>
<a id="L88" name="L88"></a>  88 
<a id="L89" name="L89"></a>  89     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3455889114070431483L;
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91     <strong class="reserved">private</strong> <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>    thisProfile;
<a id="L92" name="L92"></a>  92     <strong class="reserved">private</strong> <strong class="reserved">float</strong>[] minVal;
<a id="L93" name="L93"></a>  93     <strong class="reserved">private</strong> <strong class="reserved">float</strong>[] maxVal;
<a id="L94" name="L94"></a>  94     <strong class="reserved">private</strong> <strong class="reserved">float</strong>[] diffMinMax;
<a id="L95" name="L95"></a>  95     <strong class="reserved">private</strong> <strong class="reserved">float</strong>[] invDiffMinMax;
<a id="L96" name="L96"></a>  96     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> needScaleInit = <strong class="reserved">true</strong>;
<a id="L97" name="L97"></a>  97 
<a id="L98" name="L98"></a>  98     <em class="comment">// {to,from}{RGB,CIEXYZ} methods create and cache these when needed</em>
<a id="L99" name="L99"></a>  99     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> ColorTransform this2srgb;
<a id="L100" name="L100"></a> 100     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> ColorTransform srgb2this;
<a id="L101" name="L101"></a> 101     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> ColorTransform this2xyz;
<a id="L102" name="L102"></a> 102     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> ColorTransform xyz2this;
<a id="L103" name="L103"></a> 103 
<a id="L104" name="L104"></a> 104 
<div class="comment">
     Constructs a new ICC_ColorSpace from an ICC_Profile object.
     @param profile the specified ICC_Profile object
     @exception IllegalArgumentException if profile is inappropriate for
                representing a ColorSpace.</div>
<a id="L111" name="L111"></a> 111     <strong class="reserved">public</strong> ICC_ColorSpace (<a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a> <a href="../D/29884.html" title="Multiple defined in 3 places.">profile</a>) <em class="brace">{</em>
<a id="L112" name="L112"></a> 112         <strong class="reserved">super</strong> (<a href="../D/29884.html" title="Multiple defined in 3 places.">profile</a>.<a href="../D/17793.html" title="Multiple defined in 2 places.">getColorSpaceType</a>(), <a href="../D/29884.html" title="Multiple defined in 3 places.">profile</a>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>());
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114         <strong class="reserved">int</strong> profileClass = <a href="../D/29884.html" title="Multiple defined in 3 places.">profile</a>.<a href="../S/2160.html#L1163" title="Defined at 1163 in src/java/awt/color/ICC_Profile.java.">getProfileClass</a>();
<a id="L115" name="L115"></a> 115 
<div class="comment">
         /* REMIND - is NAMEDCOLOR OK? */</div>
<a id="L117" name="L117"></a> 117         <strong class="reserved">if</strong> ((profileClass != <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.CLASS_INPUT) &amp;&amp;
<a id="L118" name="L118"></a> 118             (profileClass != <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.CLASS_DISPLAY) &amp;&amp;
<a id="L119" name="L119"></a> 119             (profileClass != <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.CLASS_OUTPUT) &amp;&amp;
<a id="L120" name="L120"></a> 120             (profileClass != <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.CLASS_COLORSPACECONVERSION) &amp;&amp;
<a id="L121" name="L121"></a> 121             (profileClass != <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.CLASS_NAMEDCOLOR) &amp;&amp;
<a id="L122" name="L122"></a> 122             (profileClass != <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.CLASS_ABSTRACT)) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid profile type");
<a id="L124" name="L124"></a> 124         <em class="brace">}</em>
<a id="L125" name="L125"></a> 125 
<a id="L126" name="L126"></a> 126         thisProfile = <a href="../D/29884.html" title="Multiple defined in 3 places.">profile</a>;
<a id="L127" name="L127"></a> 127         <a href="../D/33255.html" title="Multiple defined in 2 places.">setMinMax</a>();
<a id="L128" name="L128"></a> 128     <em class="brace">}</em>
<a id="L129" name="L129"></a> 129 
<div class="comment">
     Returns the ICC_Profile for this ICC_ColorSpace.
     @return the ICC_Profile for this ICC_ColorSpace.</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">public</strong> <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a> <a href="../R/18497.html" title="Multiple referred from 48 places.">getProfile</a>() <em class="brace">{</em>
<a id="L135" name="L135"></a> 135         <strong class="reserved">return</strong> thisProfile;
<a id="L136" name="L136"></a> 136     <em class="brace">}</em>
<a id="L137" name="L137"></a> 137 
<div class="comment">
      Transforms a color value assumed to be in this ColorSpace
      into a value in the default CS_sRGB color space.
      <p>
      This method transforms color values using algorithms designed
      to produce the best perceptual match between input and output
      colors.  In order to do colorimetric conversion of color values,
      you should use the <code>toCIEXYZ</code>
      method of this color space to first convert from the input
      color space to the CS_CIEXYZ color space, and then use the
      <code>fromCIEXYZ</code> method of the CS_sRGB color space to
      convert from CS_CIEXYZ to the output color space.
      See {@link #toCIEXYZ(float[]) toCIEXYZ} and
      {@link #fromCIEXYZ(float[]) fromCIEXYZ} for further information.
      </p><p>
      @param colorvalue a float array with length of at least the number
           of components in this ColorSpace.
      @return a float array of length 3.
      @throws ArrayIndexOutOfBoundsException if array length is not
      at least the number of components in this ColorSpace.</p></div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">public</strong> <strong class="reserved">float</strong>[]    <a href="../R/29317.html" title="Multiple referred from 5 places.">toRGB</a> (<strong class="reserved">float</strong>[] colorvalue) <em class="brace">{</em>
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161         <strong class="reserved">if</strong> (this2srgb == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162             ColorTransform[] transformList = <strong class="reserved">new</strong> ColorTransform [2];
<a id="L163" name="L163"></a> 163             <a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a> srgbCS =
<a id="L164" name="L164"></a> 164                 (<a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a>) <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a> (CS_sRGB);
<a id="L165" name="L165"></a> 165             PCMM mdl = CMSManager.getModule();
<a id="L166" name="L166"></a> 166             transformList[0] = mdl.createTransform(
<a id="L167" name="L167"></a> 167                 thisProfile, ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.In);
<a id="L168" name="L168"></a> 168             transformList[1] = mdl.createTransform(
<a id="L169" name="L169"></a> 169                 srgbCS.<a href="../D/21701.html" title="Multiple defined in 4 places.">getProfile</a>(), ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.Out);
<a id="L170" name="L170"></a> 170             this2srgb = mdl.createTransform(transformList);
<a id="L171" name="L171"></a> 171             <strong class="reserved">if</strong> (needScaleInit) <em class="brace">{</em>
<a id="L172" name="L172"></a> 172                 <a href="../S/2161.html#L602" title="Defined at 602 in src/java/awt/color/ICC_ColorSpace.java.">setComponentScaling</a>();
<a id="L173" name="L173"></a> 173             <em class="brace">}</em>
<a id="L174" name="L174"></a> 174         <em class="brace">}</em>
<a id="L175" name="L175"></a> 175 
<a id="L176" name="L176"></a> 176         <strong class="reserved">int</strong> nc = <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>();
<a id="L177" name="L177"></a> 177         <strong class="reserved">short</strong> tmp[] = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[nc];
<a id="L178" name="L178"></a> 178         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nc; i++) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179             tmp[i] = (<strong class="reserved">short</strong>)
<a id="L180" name="L180"></a> 180                 ((colorvalue[i] - minVal[i]) * invDiffMinMax[i] + 0.5f);
<a id="L181" name="L181"></a> 181         <em class="brace">}</em>
<a id="L182" name="L182"></a> 182         tmp = this2srgb.colorConvert(tmp, <strong class="reserved">null</strong>);
<a id="L183" name="L183"></a> 183         <strong class="reserved">float</strong>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <strong class="reserved">float</strong> [3];
<a id="L184" name="L184"></a> 184         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 3; i++) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = ((<strong class="reserved">float</strong>) (tmp[i] &amp; 0xffff)) / 65535.0f;
<a id="L186" name="L186"></a> 186         <em class="brace">}</em>
<a id="L187" name="L187"></a> 187         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L188" name="L188"></a> 188     <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Transforms a color value assumed to be in the default CS_sRGB
      color space into this ColorSpace.
      <p>
      This method transforms color values using algorithms designed
      to produce the best perceptual match between input and output
      colors.  In order to do colorimetric conversion of color values,
      you should use the <code>toCIEXYZ</code>
      method of the CS_sRGB color space to first convert from the input
      color space to the CS_CIEXYZ color space, and then use the
      <code>fromCIEXYZ</code> method of this color space to
      convert from CS_CIEXYZ to the output color space.
      See {@link #toCIEXYZ(float[]) toCIEXYZ} and
      {@link #fromCIEXYZ(float[]) fromCIEXYZ} for further information.
      </p><p>
      @param rgbvalue a float array with length of at least 3.
      @return a float array with length equal to the number of
            components in this ColorSpace.
      @throws ArrayIndexOutOfBoundsException if array length is not
      at least 3.</p></div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">public</strong> <strong class="reserved">float</strong>[]    <a href="../R/14812.html" title="Multiple referred from 6 places.">fromRGB</a>(<strong class="reserved">float</strong>[] rgbvalue) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <strong class="reserved">if</strong> (srgb2this == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214             ColorTransform[] transformList = <strong class="reserved">new</strong> ColorTransform [2];
<a id="L215" name="L215"></a> 215             <a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a> srgbCS =
<a id="L216" name="L216"></a> 216                 (<a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a>) <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a> (CS_sRGB);
<a id="L217" name="L217"></a> 217             PCMM mdl = CMSManager.getModule();
<a id="L218" name="L218"></a> 218             transformList[0] = mdl.createTransform(
<a id="L219" name="L219"></a> 219                 srgbCS.<a href="../D/21701.html" title="Multiple defined in 4 places.">getProfile</a>(), ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.In);
<a id="L220" name="L220"></a> 220             transformList[1] = mdl.createTransform(
<a id="L221" name="L221"></a> 221                 thisProfile, ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.Out);
<a id="L222" name="L222"></a> 222             srgb2this = mdl.createTransform(transformList);
<a id="L223" name="L223"></a> 223             <strong class="reserved">if</strong> (needScaleInit) <em class="brace">{</em>
<a id="L224" name="L224"></a> 224                 <a href="../S/2161.html#L602" title="Defined at 602 in src/java/awt/color/ICC_ColorSpace.java.">setComponentScaling</a>();
<a id="L225" name="L225"></a> 225             <em class="brace">}</em>
<a id="L226" name="L226"></a> 226         <em class="brace">}</em>
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228         <strong class="reserved">short</strong> tmp[] = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[3];
<a id="L229" name="L229"></a> 229         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 3; i++) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230             tmp[i] = (<strong class="reserved">short</strong>) ((rgbvalue[i] * 65535.0f) + 0.5f);
<a id="L231" name="L231"></a> 231         <em class="brace">}</em>
<a id="L232" name="L232"></a> 232         tmp = srgb2this.colorConvert(tmp, <strong class="reserved">null</strong>);
<a id="L233" name="L233"></a> 233         <strong class="reserved">int</strong> nc = <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>();
<a id="L234" name="L234"></a> 234         <strong class="reserved">float</strong>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <strong class="reserved">float</strong> [nc];
<a id="L235" name="L235"></a> 235         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nc; i++) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = (((<strong class="reserved">float</strong>) (tmp[i] &amp; 0xffff)) / 65535.0f) *
<a id="L237" name="L237"></a> 237                         diffMinMax[i] + minVal[i];
<a id="L238" name="L238"></a> 238         <em class="brace">}</em>
<a id="L239" name="L239"></a> 239         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L240" name="L240"></a> 240     <em class="brace">}</em>
<a id="L241" name="L241"></a> 241 
<a id="L242" name="L242"></a> 242 
<div class="comment">
      Transforms a color value assumed to be in this ColorSpace
      into the CS_CIEXYZ conversion color space.
      <p>
      This method transforms color values using relative colorimetry,
      as defined by the ICC Specification.  This
      means that the XYZ values returned by this method are represented
      relative to the D50 white point of the CS_CIEXYZ color space.
      This representation is useful in a two-step color conversion
      process in which colors are transformed from an input color
      space to CS_CIEXYZ and then to an output color space.  This
      representation is not the same as the XYZ values that would
      be measured from the given color value by a colorimeter.
      A further transformation is necessary to compute the XYZ values
      that would be measured using current CIE recommended practices.
      The paragraphs below explain this in more detail.
      </p><p>
      The ICC standard uses a device independent color space (DICS) as the
      mechanism for converting color from one device to another device.  In
      this architecture, colors are converted from the source device's color
      space to the ICC DICS and then from the ICC DICS to the destination
      device's color space.  The ICC standard defines device profiles which
      contain transforms which will convert between a device's color space
      and the ICC DICS.  The overall conversion of colors from a source
      device to colors of a destination device is done by connecting the
      device-to-DICS transform of the profile for the source device to the
      DICS-to-device transform of the profile for the destination device.
      For this reason, the ICC DICS is commonly referred to as the profile
      connection space (PCS).  The color space used in the methods
      toCIEXYZ and fromCIEXYZ is the CIEXYZ PCS defined by the ICC
      Specification.  This is also the color space represented by
      ColorSpace.CS_CIEXYZ.
      </p><p>
      The XYZ values of a color are often represented as relative to some
      white point, so the actual meaning of the XYZ values cannot be known
      without knowing the white point of those values.  This is known as
      relative colorimetry.  The PCS uses a white point of D50, so the XYZ
      values of the PCS are relative to D50.  For example, white in the PCS
      will have the XYZ values of D50, which is defined to be X=.9642,
      Y=1.000, and Z=0.8249.  This white point is commonly used for graphic
      arts applications, but others are often used in other applications.
      </p><p>
      To quantify the color characteristics of a device such as a printer
      or monitor, measurements of XYZ values for particular device colors
      are typically made.  For purposes of this discussion, the term
      device XYZ values is used to mean the XYZ values that would be
      measured from device colors using current CIE recommended practices.
      </p><p>
      Converting between device XYZ values and the PCS XYZ values returned
      by this method corresponds to converting between the device's color
      space, as represented by CIE colorimetric values, and the PCS.  There
      are many factors involved in this process, some of which are quite
      subtle.  The most important, however, is the adjustment made to account
      for differences between the device's white point and the white point of
      the PCS.  There are many techniques for doing this and it is the
      subject of much current research and controversy.  Some commonly used
      methods are XYZ scaling, the von Kries transform, and the Bradford
      transform.  The proper method to use depends upon each particular
      application.
      </p><p>
      The simplest method is XYZ scaling.  In this method each device XYZ
      value is  converted to a PCS XYZ value by multiplying it by the ratio
      of the PCS white point (D50) to the device white point.
      </p><pre>      Xd, Yd, Zd are the device XYZ values
      Xdw, Ydw, Zdw are the device XYZ white point values
      Xp, Yp, Zp are the PCS XYZ values
      Xd50, Yd50, Zd50 are the PCS XYZ white point values
      Xp = Xd * (Xd50 / Xdw)
      Yp = Yd * (Yd50 / Ydw)
      Zp = Zd * (Zd50 / Zdw)
      </pre>
      <p>
      Conversion from the PCS to the device would be done by inverting these
      equations:
      </p><pre>      Xd = Xp * (Xdw / Xd50)
      Yd = Yp * (Ydw / Yd50)
      Zd = Zp * (Zdw / Zd50)
      </pre>
      <p>
      Note that the media white point tag in an ICC profile is not the same
      as the device white point.  The media white point tag is expressed in
      PCS values and is used to represent the difference between the XYZ of
      device illuminant and the XYZ of the device media when measured under
      that illuminant.  The device white point is expressed as the device
      XYZ values corresponding to white displayed on the device.  For
      example, displaying the RGB color (1.0, 1.0, 1.0) on an sRGB device
      will result in a measured device XYZ value of D65.  This will not
      be the same as the media white point tag XYZ value in the ICC
      profile for an sRGB device.
      </p><p>
      @param colorvalue a float array with length of at least the number
             of components in this ColorSpace.
      @return a float array of length 3.
      @throws ArrayIndexOutOfBoundsException if array length is not
      at least the number of components in this ColorSpace.</p></div>
<a id="L346" name="L346"></a> 346     <strong class="reserved">public</strong> <strong class="reserved">float</strong>[]    <a href="../R/29226.html" title="Multiple referred from 6 places.">toCIEXYZ</a>(<strong class="reserved">float</strong>[] colorvalue) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347 
<a id="L348" name="L348"></a> 348         <strong class="reserved">if</strong> (this2xyz == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L349" name="L349"></a> 349             ColorTransform[] transformList = <strong class="reserved">new</strong> ColorTransform [2];
<a id="L350" name="L350"></a> 350             <a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a> xyzCS =
<a id="L351" name="L351"></a> 351                 (<a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a>) <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a> (CS_CIEXYZ);
<a id="L352" name="L352"></a> 352             PCMM mdl = CMSManager.getModule();
<a id="L353" name="L353"></a> 353             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L354" name="L354"></a> 354                 transformList[0] = mdl.createTransform(
<a id="L355" name="L355"></a> 355                     thisProfile, <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.icRelativeColorimetric,
<a id="L356" name="L356"></a> 356                     ColorTransform.In);
<a id="L357" name="L357"></a> 357             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2155.html#L49" title="Defined at 49 in src/java/awt/color/CMMException.java.">CMMException</a> e) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358                 transformList[0] = mdl.createTransform(
<a id="L359" name="L359"></a> 359                     thisProfile, ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.In);
<a id="L360" name="L360"></a> 360             <em class="brace">}</em>
<a id="L361" name="L361"></a> 361             transformList[1] = mdl.createTransform(
<a id="L362" name="L362"></a> 362                 xyzCS.<a href="../D/21701.html" title="Multiple defined in 4 places.">getProfile</a>(), ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.Out);
<a id="L363" name="L363"></a> 363             this2xyz = mdl.createTransform (transformList);
<a id="L364" name="L364"></a> 364             <strong class="reserved">if</strong> (needScaleInit) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365                 <a href="../S/2161.html#L602" title="Defined at 602 in src/java/awt/color/ICC_ColorSpace.java.">setComponentScaling</a>();
<a id="L366" name="L366"></a> 366             <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368 
<a id="L369" name="L369"></a> 369         <strong class="reserved">int</strong> nc = <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>();
<a id="L370" name="L370"></a> 370         <strong class="reserved">short</strong> tmp[] = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[nc];
<a id="L371" name="L371"></a> 371         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nc; i++) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372             tmp[i] = (<strong class="reserved">short</strong>)
<a id="L373" name="L373"></a> 373                 ((colorvalue[i] - minVal[i]) * invDiffMinMax[i] + 0.5f);
<a id="L374" name="L374"></a> 374         <em class="brace">}</em>
<a id="L375" name="L375"></a> 375         tmp = this2xyz.colorConvert(tmp, <strong class="reserved">null</strong>);
<a id="L376" name="L376"></a> 376         <strong class="reserved">float</strong> ALMOST_TWO = 1.0f + (32767.0f / 32768.0f);
<a id="L377" name="L377"></a> 377         <em class="comment">// For CIEXYZ, min = 0.0, max = ALMOST_TWO for all components</em>
<a id="L378" name="L378"></a> 378         <strong class="reserved">float</strong>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <strong class="reserved">float</strong> [3];
<a id="L379" name="L379"></a> 379         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 3; i++) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = (((<strong class="reserved">float</strong>) (tmp[i] &amp; 0xffff)) / 65535.0f) * ALMOST_TWO;
<a id="L381" name="L381"></a> 381         <em class="brace">}</em>
<a id="L382" name="L382"></a> 382         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L383" name="L383"></a> 383     <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Transforms a color value assumed to be in the CS_CIEXYZ conversion
      color space into this ColorSpace.
      <p>
      This method transforms color values using relative colorimetry,
      as defined by the ICC Specification.  This
      means that the XYZ argument values taken by this method are represented
      relative to the D50 white point of the CS_CIEXYZ color space.
      This representation is useful in a two-step color conversion
      process in which colors are transformed from an input color
      space to CS_CIEXYZ and then to an output color space.  The color
      values returned by this method are not those that would produce
      the XYZ value passed to the method when measured by a colorimeter.
      If you have XYZ values corresponding to measurements made using
      current CIE recommended practices, they must be converted to D50
      relative values before being passed to this method.
      The paragraphs below explain this in more detail.
      </p><p>
      The ICC standard uses a device independent color space (DICS) as the
      mechanism for converting color from one device to another device.  In
      this architecture, colors are converted from the source device's color
      space to the ICC DICS and then from the ICC DICS to the destination
      device's color space.  The ICC standard defines device profiles which
      contain transforms which will convert between a device's color space
      and the ICC DICS.  The overall conversion of colors from a source
      device to colors of a destination device is done by connecting the
      device-to-DICS transform of the profile for the source device to the
      DICS-to-device transform of the profile for the destination device.
      For this reason, the ICC DICS is commonly referred to as the profile
      connection space (PCS).  The color space used in the methods
      toCIEXYZ and fromCIEXYZ is the CIEXYZ PCS defined by the ICC
      Specification.  This is also the color space represented by
      ColorSpace.CS_CIEXYZ.
      </p><p>
      The XYZ values of a color are often represented as relative to some
      white point, so the actual meaning of the XYZ values cannot be known
      without knowing the white point of those values.  This is known as
      relative colorimetry.  The PCS uses a white point of D50, so the XYZ
      values of the PCS are relative to D50.  For example, white in the PCS
      will have the XYZ values of D50, which is defined to be X=.9642,
      Y=1.000, and Z=0.8249.  This white point is commonly used for graphic
      arts applications, but others are often used in other applications.
      </p><p>
      To quantify the color characteristics of a device such as a printer
      or monitor, measurements of XYZ values for particular device colors
      are typically made.  For purposes of this discussion, the term
      device XYZ values is used to mean the XYZ values that would be
      measured from device colors using current CIE recommended practices.
      </p><p>
      Converting between device XYZ values and the PCS XYZ values taken as
      arguments by this method corresponds to converting between the device's
      color space, as represented by CIE colorimetric values, and the PCS.
      There are many factors involved in this process, some of which are quite
      subtle.  The most important, however, is the adjustment made to account
      for differences between the device's white point and the white point of
      the PCS.  There are many techniques for doing this and it is the
      subject of much current research and controversy.  Some commonly used
      methods are XYZ scaling, the von Kries transform, and the Bradford
      transform.  The proper method to use depends upon each particular
      application.
      </p><p>
      The simplest method is XYZ scaling.  In this method each device XYZ
      value is  converted to a PCS XYZ value by multiplying it by the ratio
      of the PCS white point (D50) to the device white point.
      </p><pre>      Xd, Yd, Zd are the device XYZ values
      Xdw, Ydw, Zdw are the device XYZ white point values
      Xp, Yp, Zp are the PCS XYZ values
      Xd50, Yd50, Zd50 are the PCS XYZ white point values
      Xp = Xd * (Xd50 / Xdw)
      Yp = Yd * (Yd50 / Ydw)
      Zp = Zd * (Zd50 / Zdw)
      </pre>
      <p>
      Conversion from the PCS to the device would be done by inverting these
      equations:
      </p><pre>      Xd = Xp * (Xdw / Xd50)
      Yd = Yp * (Ydw / Yd50)
      Zd = Zp * (Zdw / Zd50)
      </pre>
      <p>
      Note that the media white point tag in an ICC profile is not the same
      as the device white point.  The media white point tag is expressed in
      PCS values and is used to represent the difference between the XYZ of
      device illuminant and the XYZ of the device media when measured under
      that illuminant.  The device white point is expressed as the device
      XYZ values corresponding to white displayed on the device.  For
      example, displaying the RGB color (1.0, 1.0, 1.0) on an sRGB device
      will result in a measured device XYZ value of D65.  This will not
      be the same as the media white point tag XYZ value in the ICC
      profile for an sRGB device.
      </p><p>
      @param colorvalue a float array with length of at least 3.
      @return a float array with length equal to the number of
              components in this ColorSpace.
      @throws ArrayIndexOutOfBoundsException if array length is not
      at least 3.</p></div>
<a id="L490" name="L490"></a> 490     <strong class="reserved">public</strong> <strong class="reserved">float</strong>[]    <a href="../R/14800.html" title="Multiple referred from 6 places.">fromCIEXYZ</a>(<strong class="reserved">float</strong>[] colorvalue) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491 
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (xyz2this == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             ColorTransform[] transformList = <strong class="reserved">new</strong> ColorTransform [2];
<a id="L494" name="L494"></a> 494             <a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a> xyzCS =
<a id="L495" name="L495"></a> 495                 (<a href="../S/2161.html#L87" title="Defined at 87 in src/java/awt/color/ICC_ColorSpace.java.">ICC_ColorSpace</a>) <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a> (CS_CIEXYZ);
<a id="L496" name="L496"></a> 496             PCMM mdl = CMSManager.getModule();
<a id="L497" name="L497"></a> 497             transformList[0] = mdl.createTransform (
<a id="L498" name="L498"></a> 498                 xyzCS.<a href="../D/21701.html" title="Multiple defined in 4 places.">getProfile</a>(), ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.In);
<a id="L499" name="L499"></a> 499             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L500" name="L500"></a> 500                 transformList[1] = mdl.createTransform(
<a id="L501" name="L501"></a> 501                     thisProfile, <a href="../S/2160.html#L94" title="Defined at 94 in src/java/awt/color/ICC_Profile.java.">ICC_Profile</a>.icRelativeColorimetric,
<a id="L502" name="L502"></a> 502                     ColorTransform.Out);
<a id="L503" name="L503"></a> 503             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2155.html#L49" title="Defined at 49 in src/java/awt/color/CMMException.java.">CMMException</a> e) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504                 transformList[1] = CMSManager.getModule().createTransform(
<a id="L505" name="L505"></a> 505                 thisProfile, ColorTransform.<a href="../D/440.html" title="Multiple defined in 2 places.">Any</a>, ColorTransform.Out);
<a id="L506" name="L506"></a> 506             <em class="brace">}</em>
<a id="L507" name="L507"></a> 507             xyz2this = mdl.createTransform(transformList);
<a id="L508" name="L508"></a> 508             <strong class="reserved">if</strong> (needScaleInit) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509                 <a href="../S/2161.html#L602" title="Defined at 602 in src/java/awt/color/ICC_ColorSpace.java.">setComponentScaling</a>();
<a id="L510" name="L510"></a> 510             <em class="brace">}</em>
<a id="L511" name="L511"></a> 511         <em class="brace">}</em>
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513         <strong class="reserved">short</strong> tmp[] = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[3];
<a id="L514" name="L514"></a> 514         <strong class="reserved">float</strong> ALMOST_TWO = 1.0f + (32767.0f / 32768.0f);
<a id="L515" name="L515"></a> 515         <strong class="reserved">float</strong> factor = 65535.0f / ALMOST_TWO;
<a id="L516" name="L516"></a> 516         <em class="comment">// For CIEXYZ, min = 0.0, max = ALMOST_TWO for all components</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 3; i++) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518             tmp[i] = (<strong class="reserved">short</strong>) ((colorvalue[i] * factor) + 0.5f);
<a id="L519" name="L519"></a> 519         <em class="brace">}</em>
<a id="L520" name="L520"></a> 520         tmp = xyz2this.colorConvert(tmp, <strong class="reserved">null</strong>);
<a id="L521" name="L521"></a> 521         <strong class="reserved">int</strong> nc = <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>();
<a id="L522" name="L522"></a> 522         <strong class="reserved">float</strong>[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <strong class="reserved">float</strong> [nc];
<a id="L523" name="L523"></a> 523         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nc; i++) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>[i] = (((<strong class="reserved">float</strong>) (tmp[i] &amp; 0xffff)) / 65535.0f) *
<a id="L525" name="L525"></a> 525                         diffMinMax[i] + minVal[i];
<a id="L526" name="L526"></a> 526         <em class="brace">}</em>
<a id="L527" name="L527"></a> 527         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L528" name="L528"></a> 528     <em class="brace">}</em>
<a id="L529" name="L529"></a> 529 
<div class="comment">
      Returns the minimum normalized color component value for the
      specified component.  For TYPE_XYZ spaces, this method returns
      minimum values of 0.0 for all components.  For TYPE_Lab spaces,
      this method returns 0.0 for L and -128.0 for a and b components.
      This is consistent with the encoding of the XYZ and Lab Profile
      Connection Spaces in the ICC specification.  For all other types, this
      method returns 0.0 for all components.  When using an ICC_ColorSpace
      with a profile that requires different minimum component values,
      it is necessary to subclass this class and override this method.
      @param component The component index.
      @return The minimum normalized component value.
      @throws IllegalArgumentException if component is less than 0 or
              greater than numComponents - 1.
      @since 1.4</div>
<a id="L546" name="L546"></a> 546     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17724.html" title="Multiple referred from 17 places.">getMinValue</a>(<strong class="reserved">int</strong> <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547         <strong class="reserved">if</strong> ((<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> &lt; 0) || (<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> &gt; <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>() - 1)) <em class="brace">{</em>
<a id="L548" name="L548"></a> 548             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L549" name="L549"></a> 549                 "Component index out of range: + component");
<a id="L550" name="L550"></a> 550         <em class="brace">}</em>
<a id="L551" name="L551"></a> 551         <strong class="reserved">return</strong> minVal[<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>];
<a id="L552" name="L552"></a> 552     <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<div class="comment">
      Returns the maximum normalized color component value for the
      specified component.  For TYPE_XYZ spaces, this method returns
      maximum values of 1.0 + (32767.0 / 32768.0) for all components.
      For TYPE_Lab spaces,
      this method returns 100.0 for L and 127.0 for a and b components.
      This is consistent with the encoding of the XYZ and Lab Profile
      Connection Spaces in the ICC specification.  For all other types, this
      method returns 1.0 for all components.  When using an ICC_ColorSpace
      with a profile that requires different maximum component values,
      it is necessary to subclass this class and override this method.
      @param component The component index.
      @return The maximum normalized component value.
      @throws IllegalArgumentException if component is less than 0 or
              greater than numComponents - 1.
      @since 1.4</div>
<a id="L571" name="L571"></a> 571     <strong class="reserved">public</strong> <strong class="reserved">float</strong> <a href="../R/17605.html" title="Multiple referred from 17 places.">getMaxValue</a>(<strong class="reserved">int</strong> <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>) <em class="brace">{</em>
<a id="L572" name="L572"></a> 572         <strong class="reserved">if</strong> ((<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> &lt; 0) || (<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a> &gt; <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>() - 1)) <em class="brace">{</em>
<a id="L573" name="L573"></a> 573             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L574" name="L574"></a> 574                 "Component index out of range: + component");
<a id="L575" name="L575"></a> 575         <em class="brace">}</em>
<a id="L576" name="L576"></a> 576         <strong class="reserved">return</strong> maxVal[<a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>];
<a id="L577" name="L577"></a> 577     <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27754.html" title="Multiple referred from 3 places.">setMinMax</a>() <em class="brace">{</em>
<a id="L580" name="L580"></a> 580         <strong class="reserved">int</strong> nc = <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>();
<a id="L581" name="L581"></a> 581         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">this</strong>.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>();
<a id="L582" name="L582"></a> 582         minVal = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[nc];
<a id="L583" name="L583"></a> 583         maxVal = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[nc];
<a id="L584" name="L584"></a> 584         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.TYPE_Lab) <em class="brace">{</em>
<a id="L585" name="L585"></a> 585             minVal[0] = 0.0f;    <em class="comment">// L</em>
<a id="L586" name="L586"></a> 586             maxVal[0] = 100.0f;
<a id="L587" name="L587"></a> 587             minVal[1] = -128.0f; <em class="comment">// a</em>
<a id="L588" name="L588"></a> 588             maxVal[1] = 127.0f;
<a id="L589" name="L589"></a> 589             minVal[2] = -128.0f; <em class="comment">// b</em>
<a id="L590" name="L590"></a> 590             maxVal[2] = 127.0f;
<a id="L591" name="L591"></a> 591         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../S/2159.html#L98" title="Defined at 98 in src/java/awt/color/ColorSpace.java.">ColorSpace</a>.TYPE_XYZ) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592             minVal[0] = minVal[1] = minVal[2] = 0.0f; <em class="comment">// X, Y, Z</em>
<a id="L593" name="L593"></a> 593             maxVal[0] = maxVal[1] = maxVal[2] = 1.0f + (32767.0f/ 32768.0f);
<a id="L594" name="L594"></a> 594         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L595" name="L595"></a> 595             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nc; i++) <em class="brace">{</em>
<a id="L596" name="L596"></a> 596                 minVal[i] = 0.0f;
<a id="L597" name="L597"></a> 597                 maxVal[i] = 1.0f;
<a id="L598" name="L598"></a> 598             <em class="brace">}</em>
<a id="L599" name="L599"></a> 599         <em class="brace">}</em>
<a id="L600" name="L600"></a> 600     <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<a id="L602" name="L602"></a> 602     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27082.html" title="Multiple referred from 4 places.">setComponentScaling</a>() <em class="brace">{</em>
<a id="L603" name="L603"></a> 603         <strong class="reserved">int</strong> nc = <strong class="reserved">this</strong>.<a href="../D/21061.html" title="Multiple defined in 6 places.">getNumComponents</a>();
<a id="L604" name="L604"></a> 604         diffMinMax = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[nc];
<a id="L605" name="L605"></a> 605         invDiffMinMax = <strong class="reserved">new</strong> <strong class="reserved">float</strong>[nc];
<a id="L606" name="L606"></a> 606         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; nc; i++) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607             minVal[i] = <strong class="reserved">this</strong>.<a href="../D/20649.html" title="Multiple defined in 5 places.">getMinValue</a>(i); <em class="comment">// in case getMinVal is overridden</em>
<a id="L608" name="L608"></a> 608             maxVal[i] = <strong class="reserved">this</strong>.<a href="../D/20486.html" title="Multiple defined in 5 places.">getMaxValue</a>(i); <em class="comment">// in case getMaxVal is overridden</em>
<a id="L609" name="L609"></a> 609             diffMinMax[i] = maxVal[i] - minVal[i];
<a id="L610" name="L610"></a> 610             invDiffMinMax[i] = 65535.0f / diffMinMax[i];
<a id="L611" name="L611"></a> 611         <em class="brace">}</em>
<a id="L612" name="L612"></a> 612         needScaleInit = <strong class="reserved">false</strong>;
<a id="L613" name="L613"></a> 613     <em class="brace">}</em>
<a id="L614" name="L614"></a> 614 
<a id="L615" name="L615"></a> 615 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L134">[^]</a><a href="#L602">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>