<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/security/sasl/Sasl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L353">[^]</a><a href="#L577">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L353" title="Defined at 353.">createSaslClient</a></li>
<li><a href="#L397" title="Defined at 397.">loadFactory</a></li>
<li><a href="#L497" title="Defined at 497.">createSaslServer</a></li>
<li><a href="#L543" title="Defined at 543.">getSaslClientFactories</a></li>
<li><a href="#L564" title="Defined at 564.">getSaslServerFactories</a></li>
<li><a href="#L577" title="Defined at 577.">getFactories</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1999, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.security.sasl;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.security.auth.callback.CallbackHandler;
<a id="L29" name="L29"></a>  29 
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Map;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Set;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.Collections;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.Provider;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.security.Security;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  A static class for creating SASL clients and servers.
 <p>
  This class defines the policy of how to locate, load, and instantiate
  SASL clients and servers.
 </p><p>
  For example, an application or library gets a SASL client by doing
  something like:
 </p><blockquote><pre>  SaslClient sc = Sasl.createSaslClient(mechanisms,
      authorizationId, protocol, serverName, props, callbackHandler);
 </pre></blockquote>
  It can then proceed to use the instance to create an authentication connection.
 <p>
  Similarly, a server gets a SASL server by using code that looks as follows:
 </p><blockquote><pre>  SaslServer ss = Sasl.createSaslServer(mechanism,
      protocol, serverName, props, callbackHandler);
 </pre></blockquote>
  @since 1.5
  @author Rosanna Lee
  @author Rob Weltman</div>
<a id="L64" name="L64"></a>  64 <strong class="reserved">public</strong> <strong class="reserved">class</strong> Sasl <em class="brace">{</em>
<a id="L65" name="L65"></a>  65     <em class="comment">// Cannot create one of these</em>
<a id="L66" name="L66"></a>  66     <strong class="reserved">private</strong> Sasl() <em class="brace">{</em>
<a id="L67" name="L67"></a>  67     <em class="brace">}</em>
<a id="L68" name="L68"></a>  68 
<div class="comment">
      The name of a property that specifies the quality-of-protection to use.
      The property contains a comma-separated, ordered list
      of quality-of-protection values that the
      client or server is willing to support.  A qop value is one of
      <ul><li><code>"auth"</code> - authentication only</li><li><code>"auth-int"</code> - authentication plus integrity protection</li><li><code>"auth-conf"</code> - authentication plus integrity and confidentiality
      protection</li>
      </ul>
      The order of the list specifies the preference order of the client or
      server. If this property is absent, the default qop is <code>"auth"</code>.
      The value of this constant is <code>"javax.security.sasl.qop"</code>.</div>
<a id="L85" name="L85"></a>  85     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> QOP = "javax.security.sasl.qop";
<a id="L86" name="L86"></a>  86 
<div class="comment">
      The name of a property that specifies the cipher strength to use.
      The property contains a comma-separated, ordered list
      of cipher strength values that
      the client or server is willing to support. A strength value is one of
      <ul><li><code>"low"</code></li><li><code>"medium"</code></li><li><code>"high"</code></li>
      </ul>
      The order of the list specifies the preference order of the client or
      server.  An implementation should allow configuration of the meaning
      of these values.  An application may use the Java Cryptography
      Extension (JCE) with JCE-aware mechanisms to control the selection of
      cipher suites that match the strength values.
      <br>
      If this property is absent, the default strength is
      <code>"high,medium,low"</code>.
      The value of this constant is <code>"javax.security.sasl.strength"</code>.</div>
<a id="L107" name="L107"></a> 107     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> STRENGTH = "javax.security.sasl.strength";
<a id="L108" name="L108"></a> 108 
<div class="comment">
      The name of a property that specifies whether the
      server must authenticate to the client. The property contains
      <code>"true"</code> if the server must
      authenticate the to client; <code>"false"</code> otherwise.
      The default is <code>"false"</code>.
      <br>The value of this constant is
      <code>"javax.security.sasl.server.authentication"</code>.</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SERVER_AUTH =
<a id="L119" name="L119"></a> 119     "javax.security.sasl.server.authentication";
<a id="L120" name="L120"></a> 120 
<div class="comment">
      The name of a property that specifies the bound server name for
      an unbound server. A server is created as an unbound server by setting
      the <code>serverName</code> argument in <a href="#L497" title="Defined at 497.">createSaslServer</a> as null.
      The property contains the bound host name after the authentication
      exchange has completed. It is only available on the server side.
      <br>The value of this constant is
      <code>"javax.security.sasl.bound.server.name"</code>.</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> BOUND_SERVER_NAME =
<a id="L131" name="L131"></a> 131     "javax.security.sasl.bound.server.name";
<a id="L132" name="L132"></a> 132 
<div class="comment">
      The name of a property that specifies the maximum size of the receive
      buffer in bytes of <code>SaslClient</code>/<code>SaslServer</code>.
      The property contains the string representation of an integer.
      <br>If this property is absent, the default size
      is defined by the mechanism.
      <br>The value of this constant is <code>"javax.security.sasl.maxbuffer"</code>.</div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> MAX_BUFFER = "javax.security.sasl.maxbuffer";
<a id="L142" name="L142"></a> 142 
<div class="comment">
      The name of a property that specifies the maximum size of the raw send
      buffer in bytes of <code>SaslClient</code>/<code>SaslServer</code>.
      The property contains the string representation of an integer.
      The value of this property is negotiated between the client and server
      during the authentication exchange.
      <br>The value of this constant is <code>"javax.security.sasl.rawsendsize"</code>.</div>
<a id="L151" name="L151"></a> 151     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> RAW_SEND_SIZE = "javax.security.sasl.rawsendsize";
<a id="L152" name="L152"></a> 152 
<div class="comment">
      The name of a property that specifies whether to reuse previously
      authenticated session information. The property contains "true" if the
      mechanism implementation may attempt to reuse previously authenticated
      session information; it contains "false" if the implementation must
      not reuse previously authenticated session information.  A setting of
      "true" serves only as a hint: it does not necessarily entail actual
      reuse because reuse might not be possible due to a number of reasons,
      including, but not limited to, lack of mechanism support for reuse,
      expiration of reusable information, and the peer's refusal to support
      reuse.
      The property's default value is "false".  The value of this constant
      is "javax.security.sasl.reuse".
      Note that all other parameters and properties required to create a
      SASL client/server instance must be provided regardless of whether
      this property has been supplied. That is, you cannot supply any less
      information in anticipation of reuse.
      Mechanism implementations that support reuse might allow customization
      of its implementation, for factors such as cache size, timeouts, and
      criteria for reusability. Such customizations are
      implementation-dependent.</div>
<a id="L178" name="L178"></a> 178      <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> REUSE = "javax.security.sasl.reuse";
<a id="L179" name="L179"></a> 179 
<div class="comment">
      The name of a property that specifies
      whether mechanisms susceptible to simple plain passive attacks (e.g.,
      "PLAIN") are not permitted. The property
      contains <code>"true"</code> if such mechanisms are not permitted;
      <code>"false"</code> if such mechanisms are permitted.
      The default is <code>"false"</code>.
      <br>The value of this constant is
      <code>"javax.security.sasl.policy.noplaintext"</code>.</div>
<a id="L190" name="L190"></a> 190     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> POLICY_NOPLAINTEXT =
<a id="L191" name="L191"></a> 191     "javax.security.sasl.policy.noplaintext";
<a id="L192" name="L192"></a> 192 
<div class="comment">
      The name of a property that specifies whether
      mechanisms susceptible to active (non-dictionary) attacks
      are not permitted.
      The property contains <code>"true"</code>
      if mechanisms susceptible to active attacks
      are not permitted; <code>"false"</code> if such mechanisms are permitted.
      The default is <code>"false"</code>.
      <br>The value of this constant is
      <code>"javax.security.sasl.policy.noactive"</code>.</div>
<a id="L204" name="L204"></a> 204     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> POLICY_NOACTIVE =
<a id="L205" name="L205"></a> 205     "javax.security.sasl.policy.noactive";
<a id="L206" name="L206"></a> 206 
<div class="comment">
      The name of a property that specifies whether
      mechanisms susceptible to passive dictionary attacks are not permitted.
      The property contains <code>"true"</code>
      if mechanisms susceptible to dictionary attacks are not permitted;
      <code>"false"</code> if such mechanisms are permitted.
      The default is <code>"false"</code>.
     <br>
      The value of this constant is
      <code>"javax.security.sasl.policy.nodictionary"</code>.</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> POLICY_NODICTIONARY =
<a id="L219" name="L219"></a> 219     "javax.security.sasl.policy.nodictionary";
<a id="L220" name="L220"></a> 220 
<div class="comment">
      The name of a property that specifies whether mechanisms that accept
      anonymous login are not permitted. The property contains <code>"true"</code>
      if mechanisms that accept anonymous login are not permitted;
      <code>"false"</code>
      if such mechanisms are permitted. The default is <code>"false"</code>.
     <br>
      The value of this constant is
      <code>"javax.security.sasl.policy.noanonymous"</code>.</div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> POLICY_NOANONYMOUS =
<a id="L232" name="L232"></a> 232     "javax.security.sasl.policy.noanonymous";
<a id="L233" name="L233"></a> 233 
<div class="comment">
       The name of a property that specifies whether mechanisms that implement
       forward secrecy between sessions are required. Forward secrecy
       means that breaking into one session will not automatically
       provide information for breaking into future sessions.
       The property
       contains <code>"true"</code> if mechanisms that implement forward secrecy
       between sessions are required; <code>"false"</code> if such mechanisms
       are not required. The default is <code>"false"</code>.
      <br>
       The value of this constant is
       <code>"javax.security.sasl.policy.forward"</code>.</div>
<a id="L247" name="L247"></a> 247     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> POLICY_FORWARD_SECRECY =
<a id="L248" name="L248"></a> 248     "javax.security.sasl.policy.forward";
<a id="L249" name="L249"></a> 249 
<div class="comment">
      The name of a property that specifies whether
      mechanisms that pass client credentials are required. The property
      contains <code>"true"</code> if mechanisms that pass
      client credentials are required; <code>"false"</code>
      if such mechanisms are not required. The default is <code>"false"</code>.
     <br>
      The value of this constant is
      <code>"javax.security.sasl.policy.credentials"</code>.</div>
<a id="L260" name="L260"></a> 260     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> POLICY_PASS_CREDENTIALS =
<a id="L261" name="L261"></a> 261     "javax.security.sasl.policy.credentials";
<a id="L262" name="L262"></a> 262 
<div class="comment">
      The name of a property that specifies the credentials to use.
      The property contains a mechanism-specific Java credential object.
      Mechanism implementations may examine the value of this property
      to determine whether it is a class that they support.
      The property may be used to supply credentials to a mechanism that
      supports delegated authentication.
     <br>
      The value of this constant is
      <code>"javax.security.sasl.credentials"</code>.</div>
<a id="L274" name="L274"></a> 274     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> CREDENTIALS = "javax.security.sasl.credentials";
<a id="L275" name="L275"></a> 275 
<div class="comment">
      Creates a <code>SaslClient</code> using the parameters supplied.
      This method uses the
<a href="{@docRoot}/../technotes/guides/security/crypto/CryptoSpec.html#Provider">JCA Security Provider Framework</a>, described in the
      "Java Cryptography Architecture API Specification &amp; Reference", for
      locating and selecting a <code>SaslClient</code> implementation.
      First, it
      obtains an ordered list of <code>SaslClientFactory</code> instances from
      the registered security providers for the "SaslClientFactory" service
      and the specified SASL mechanism(s). It then invokes
      <code>createSaslClient()</code> on each factory instance on the list
      until one produces a non-null <code>SaslClient</code> instance. It returns
      the non-null <code>SaslClient</code> instance, or null if the search fails
      to produce a non-null <code>SaslClient</code> instance.
     <p>
      A security provider for SaslClientFactory registers with the
      JCA Security Provider Framework keys of the form <br>
      <code>SaslClientFactory.</code><em><code>mechanism_name</code></em>
      <br>
      and values that are class names of implementations of
      <code>javax.security.sasl.SaslClientFactory</code>.
      For example, a provider that contains a factory class,
      <code>com.wiz.sasl.digest.ClientFactory</code>, that supports the
      "DIGEST-MD5" mechanism would register the following entry with the JCA:
      <code>SaslClientFactory.DIGEST-MD5 com.wiz.sasl.digest.ClientFactory</code>
     </p><p>
      See the
      "Java Cryptography Architecture API Specification &amp; Reference"
      for information about how to install and configure security service
       providers.
      @param mechanisms The non-null list of mechanism names to try. Each is the
      IANA-registered name of a SASL mechanism. (e.g. "GSSAPI", "CRAM-MD5").
      @param authorizationId The possibly null protocol-dependent
      identification to be used for authorization.
      If null or empty, the server derives an authorization
      ID from the client's authentication credentials.
      When the SASL authentication completes successfully,
      the specified entity is granted access.
      @param protocol The non-null string name of the protocol for which
      the authentication is being performed (e.g., "ldap").
      @param serverName The non-null fully-qualified host name of the server
      to authenticate to.
      @param props The possibly null set of properties used to
      select the SASL mechanism and to configure the authentication
      exchange of the selected mechanism.
      For example, if <code>props</code> contains the
      <code>Sasl.POLICY_NOPLAINTEXT</code> property with the value
      <code>"true"</code>, then the selected
      SASL mechanism must not be susceptible to simple plain passive attacks.
      In addition to the standard properties declared in this class,
      other, possibly mechanism-specific, properties can be included.
      Properties not relevant to the selected mechanism are ignored,
      including any map entries with non-String keys.
      @param cbh The possibly null callback handler to used by the SASL
      mechanisms to get further information from the application/library
      to complete the authentication. For example, a SASL mechanism might
      require the authentication ID, password and realm from the caller.
      The authentication ID is requested by using a <code>NameCallback</code>.
      The password is requested by using a <code>PasswordCallback</code>.
      The realm is requested by using a <code>RealmChoiceCallback</code> if there is a list
      of realms to choose from, and by using a <code>RealmCallback</code> if
      the realm must be entered.
     @return A possibly null <code>SaslClient</code> created using the parameters
      supplied. If null, cannot find a <code>SaslClientFactory</code>
      that will produce one.
     @exception SaslException If cannot create a <code>SaslClient</code> because
      of an error.</p></div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/2679.html#L99" title="Defined at 99 in src/javax/security/sasl/SaslClient.java.">SaslClient</a> <a href="../S/2681.html#L384" title="Referred from 384 in src/javax/security/sasl/Sasl.java.">createSaslClient</a>(
<a id="L354" name="L354"></a> 354         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] mechanisms,
<a id="L355" name="L355"></a> 355         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authorizationId,
<a id="L356" name="L356"></a> 356         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol,
<a id="L357" name="L357"></a> 357         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> serverName,
<a id="L358" name="L358"></a> 358         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,?&gt; props,
<a id="L359" name="L359"></a> 359         <a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> cbh) <strong class="reserved">throws</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360 
<a id="L361" name="L361"></a> 361         <a href="../S/2679.html#L99" title="Defined at 99 in src/javax/security/sasl/SaslClient.java.">SaslClient</a> mech = <strong class="reserved">null</strong>;
<a id="L362" name="L362"></a> 362         <a href="../S/2687.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslClientFactory.java.">SaslClientFactory</a> fac;
<a id="L363" name="L363"></a> 363         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L364" name="L364"></a> 364         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mechName;
<a id="L365" name="L365"></a> 365 
<a id="L366" name="L366"></a> 366         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; mechanisms.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367             <strong class="reserved">if</strong> ((mechName=mechanisms[i]) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(
<a id="L369" name="L369"></a> 369                     "Mechanism name cannot be null");
<a id="L370" name="L370"></a> 370             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (mechName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371                 <strong class="reserved">continue</strong>;
<a id="L372" name="L372"></a> 372             <em class="brace">}</em>
<a id="L373" name="L373"></a> 373             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mechFilter = "SaslClientFactory." + mechName;
<a id="L374" name="L374"></a> 374             <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] provs = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21766.html" title="Multiple defined in 5 places.">getProviders</a>(mechFilter);
<a id="L375" name="L375"></a> 375             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; provs != <strong class="reserved">null</strong> &amp;&amp; j &lt; provs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; j++) <em class="brace">{</em>
<a id="L376" name="L376"></a> 376                 <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = provs[j].<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(mechFilter);
<a id="L377" name="L377"></a> 377                 <strong class="reserved">if</strong> (<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378                     <em class="comment">// Case is ignored</em>
<a id="L379" name="L379"></a> 379                     <strong class="reserved">continue</strong>;
<a id="L380" name="L380"></a> 380                 <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<a id="L382" name="L382"></a> 382                 fac = (<a href="../S/2687.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslClientFactory.java.">SaslClientFactory</a>) <a href="../S/2681.html#L397" title="Defined at 397 in src/javax/security/sasl/Sasl.java.">loadFactory</a>(provs[j], <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L383" name="L383"></a> 383                 <strong class="reserved">if</strong> (fac != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L384" name="L384"></a> 384                     mech = fac.<a href="../D/14174.html" title="Multiple defined in 2 places.">createSaslClient</a>(
<a id="L385" name="L385"></a> 385                         <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]<em class="brace">{</em>mechanisms[i]<em class="brace">}</em>, authorizationId,
<a id="L386" name="L386"></a> 386                         protocol, serverName, props, cbh);
<a id="L387" name="L387"></a> 387                     <strong class="reserved">if</strong> (mech != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L388" name="L388"></a> 388                         <strong class="reserved">return</strong> mech;
<a id="L389" name="L389"></a> 389                     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390                 <em class="brace">}</em>
<a id="L391" name="L391"></a> 391             <em class="brace">}</em>
<a id="L392" name="L392"></a> 392         <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<a id="L394" name="L394"></a> 394         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L395" name="L395"></a> 395     <em class="brace">}</em>
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/22577.html" title="Multiple referred from 3 places.">loadFactory</a>(<a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> p, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>)
<a id="L398" name="L398"></a> 398         <strong class="reserved">throws</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a> <em class="brace">{</em>
<a id="L399" name="L399"></a> 399         <strong class="reserved">try</strong> <em class="brace">{</em>
<div class="comment">
              Load the implementation class with the same class loader
              that was used to load the provider.
              In order to get the class loader of a class, the
              caller's class loader must be the same as or an ancestor of
              the class loader being returned. Otherwise, the caller must
              have "getClassLoader" permission, or a SecurityException
              will be thrown.</div>
<a id="L409" name="L409"></a> 409             <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl = p.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L410" name="L410"></a> 410             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; implClass;
<a id="L411" name="L411"></a> 411             implClass = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, <strong class="reserved">true</strong>, cl);
<a id="L412" name="L412"></a> 412             <strong class="reserved">return</strong> implClass.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L413" name="L413"></a> 413         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a>("Cannot load class " + <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, e);
<a id="L415" name="L415"></a> 415         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1743.html#L46" title="Defined at 46 in src/java/lang/InstantiationException.java.">InstantiationException</a> e) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a>("Cannot instantiate class " + <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, e);
<a id="L417" name="L417"></a> 417         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a> e) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a>("Cannot access class " + <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, e);
<a id="L419" name="L419"></a> 419         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> e) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a>("Cannot access class " + <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, e);
<a id="L421" name="L421"></a> 421         <em class="brace">}</em>
<a id="L422" name="L422"></a> 422     <em class="brace">}</em>
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424 
<div class="comment">
      Creates a <code>SaslServer</code> for the specified mechanism.
      This method uses the
<a href="{@docRoot}/../technotes/guides/security/crypto/CryptoSpec.html#Provider">JCA Security Provider Framework</a>,
      described in the
      "Java Cryptography Architecture API Specification &amp; Reference", for
      locating and selecting a <code>SaslServer</code> implementation.
      First, it
      obtains an ordered list of <code>SaslServerFactory</code> instances from
      the registered security providers for the "SaslServerFactory" service
      and the specified mechanism. It then invokes
      <code>createSaslServer()</code> on each factory instance on the list
      until one produces a non-null <code>SaslServer</code> instance. It returns
      the non-null <code>SaslServer</code> instance, or null if the search fails
      to produce a non-null <code>SaslServer</code> instance.
     <p>
      A security provider for SaslServerFactory registers with the
      JCA Security Provider Framework keys of the form <br>
      <code>SaslServerFactory.</code><em><code>mechanism_name</code></em>
      <br>
      and values that are class names of implementations of
      <code>javax.security.sasl.SaslServerFactory</code>.
      For example, a provider that contains a factory class,
      <code>com.wiz.sasl.digest.ServerFactory</code>, that supports the
      "DIGEST-MD5" mechanism would register the following entry with the JCA:
      <code>SaslServerFactory.DIGEST-MD5  com.wiz.sasl.digest.ServerFactory</code>
     </p><p>
      See the
      "Java Cryptography Architecture API Specification &amp; Reference"
      for information about how to install and configure security
      service providers.
      @param mechanism The non-null mechanism name. It must be an
      IANA-registered name of a SASL mechanism. (e.g. "GSSAPI", "CRAM-MD5").
      @param protocol The non-null string name of the protocol for which
      the authentication is being performed (e.g., "ldap").
      @param serverName The fully qualified host name of the server, or null
      if the server is not bound to any specific host name. If the mechanism
      does not allow an unbound server, a <code>SaslException</code> will
      be thrown.
      @param props The possibly null set of properties used to
      select the SASL mechanism and to configure the authentication
      exchange of the selected mechanism.
      For example, if <code>props</code> contains the
      <code>Sasl.POLICY_NOPLAINTEXT</code> property with the value
      <code>"true"</code>, then the selected
      SASL mechanism must not be susceptible to simple plain passive attacks.
      In addition to the standard properties declared in this class,
      other, possibly mechanism-specific, properties can be included.
      Properties not relevant to the selected mechanism are ignored,
      including any map entries with non-String keys.
      @param cbh The possibly null callback handler to used by the SASL
      mechanisms to get further information from the application/library
      to complete the authentication. For example, a SASL mechanism might
      require the authentication ID, password and realm from the caller.
      The authentication ID is requested by using a <code>NameCallback</code>.
      The password is requested by using a <code>PasswordCallback</code>.
      The realm is requested by using a <code>RealmChoiceCallback</code> if there is a list
      of realms to choose from, and by using a <code>RealmCallback</code> if
      the realm must be entered.
     @return A possibly null <code>SaslServer</code> created using the parameters
      supplied. If null, cannot find a <code>SaslServerFactory</code>
      that will produce one.
     @exception SaslException If cannot create a <code>SaslServer</code> because
      of an error.
     *</p></div>
<a id="L496" name="L496"></a> 496     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/2688.html#L88" title="Defined at 88 in src/javax/security/sasl/SaslServer.java.">SaslServer</a>
<a id="L497" name="L497"></a> 497         <a href="../S/2681.html#L524" title="Referred from 524 in src/javax/security/sasl/Sasl.java.">createSaslServer</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mechanism,
<a id="L498" name="L498"></a> 498                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol,
<a id="L499" name="L499"></a> 499                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> serverName,
<a id="L500" name="L500"></a> 500                     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,?&gt; props,
<a id="L501" name="L501"></a> 501                     <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.security.auth.<a href="../D/12118.html" title="Multiple defined in 19 places.">callback</a>.<a href="../S/2659.html#L68" title="Defined at 68 in src/javax/security/auth/callback/CallbackHandler.java.">CallbackHandler</a> cbh)
<a id="L502" name="L502"></a> 502         <strong class="reserved">throws</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a> <em class="brace">{</em>
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504         <a href="../S/2688.html#L88" title="Defined at 88 in src/javax/security/sasl/SaslServer.java.">SaslServer</a> mech = <strong class="reserved">null</strong>;
<a id="L505" name="L505"></a> 505         <a href="../S/2683.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslServerFactory.java.">SaslServerFactory</a> fac;
<a id="L506" name="L506"></a> 506         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>;
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508         <strong class="reserved">if</strong> (mechanism == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Mechanism name cannot be null");
<a id="L510" name="L510"></a> 510         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (mechanism.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<a id="L514" name="L514"></a> 514         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> mechFilter = "SaslServerFactory." + mechanism;
<a id="L515" name="L515"></a> 515         <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] provs = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21766.html" title="Multiple defined in 5 places.">getProviders</a>(mechFilter);
<a id="L516" name="L516"></a> 516         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; provs != <strong class="reserved">null</strong> &amp;&amp; j &lt; provs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; j++) <em class="brace">{</em>
<a id="L517" name="L517"></a> 517             <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = provs[j].<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(mechFilter);
<a id="L518" name="L518"></a> 518             <strong class="reserved">if</strong> (<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2685.html#L39" title="Defined at 39 in src/javax/security/sasl/SaslException.java.">SaslException</a>("Provider does not support " +
<a id="L520" name="L520"></a> 520                     mechFilter);
<a id="L521" name="L521"></a> 521             <em class="brace">}</em>
<a id="L522" name="L522"></a> 522             fac = (<a href="../S/2683.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslServerFactory.java.">SaslServerFactory</a>) <a href="../S/2681.html#L397" title="Defined at 397 in src/javax/security/sasl/Sasl.java.">loadFactory</a>(provs[j], <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L523" name="L523"></a> 523             <strong class="reserved">if</strong> (fac != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524                 mech = fac.<a href="../D/14175.html" title="Multiple defined in 2 places.">createSaslServer</a>(
<a id="L525" name="L525"></a> 525                     mechanism, protocol, serverName, props, cbh);
<a id="L526" name="L526"></a> 526                 <strong class="reserved">if</strong> (mech != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                     <strong class="reserved">return</strong> mech;
<a id="L528" name="L528"></a> 528                 <em class="brace">}</em>
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530         <em class="brace">}</em>
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<div class="comment">
      Gets an enumeration of known factories for producing <code>SaslClient</code>.
      This method uses the same algorithm for locating factories as
      <code>createSaslClient()</code>.
      @return A non-null enumeration of known factories for producing
      <code>SaslClient</code>.
      @see #createSaslClient</div>
<a id="L543" name="L543"></a> 543     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/2687.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslClientFactory.java.">SaslClientFactory</a>&gt; getSaslClientFactories() <em class="brace">{</em>
<a id="L544" name="L544"></a> 544         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; facs = <a href="../D/18980.html" title="Multiple defined in 3 places.">getFactories</a>("SaslClientFactory");
<a id="L545" name="L545"></a> 545         <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a> = facs.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L546" name="L546"></a> 546         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/2687.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslClientFactory.java.">SaslClientFactory</a>&gt;() <em class="brace">{</em>
<a id="L547" name="L547"></a> 547             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() <em class="brace">{</em>
<a id="L548" name="L548"></a> 548                 <strong class="reserved">return</strong> <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>();
<a id="L549" name="L549"></a> 549             <em class="brace">}</em>
<a id="L550" name="L550"></a> 550             <strong class="reserved">public</strong> <a href="../S/2687.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslClientFactory.java.">SaslClientFactory</a> <a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() <em class="brace">{</em>
<a id="L551" name="L551"></a> 551                 <strong class="reserved">return</strong> (<a href="../S/2687.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslClientFactory.java.">SaslClientFactory</a>)<a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L552" name="L552"></a> 552             <em class="brace">}</em>
<a id="L553" name="L553"></a> 553         <em class="brace">}</em>;
<a id="L554" name="L554"></a> 554     <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<div class="comment">
      Gets an enumeration of known factories for producing <code>SaslServer</code>.
      This method uses the same algorithm for locating factories as
      <code>createSaslServer()</code>.
      @return A non-null enumeration of known factories for producing
      <code>SaslServer</code>.
      @see #createSaslServer</div>
<a id="L564" name="L564"></a> 564     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/2683.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslServerFactory.java.">SaslServerFactory</a>&gt; getSaslServerFactories() <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; facs = <a href="../D/18980.html" title="Multiple defined in 3 places.">getFactories</a>("SaslServerFactory");
<a id="L566" name="L566"></a> 566         <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a> = facs.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L567" name="L567"></a> 567         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/2683.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslServerFactory.java.">SaslServerFactory</a>&gt;() <em class="brace">{</em>
<a id="L568" name="L568"></a> 568             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() <em class="brace">{</em>
<a id="L569" name="L569"></a> 569                 <strong class="reserved">return</strong> <a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>();
<a id="L570" name="L570"></a> 570             <em class="brace">}</em>
<a id="L571" name="L571"></a> 571             <strong class="reserved">public</strong> <a href="../S/2683.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslServerFactory.java.">SaslServerFactory</a> <a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() <em class="brace">{</em>
<a id="L572" name="L572"></a> 572                 <strong class="reserved">return</strong> (<a href="../S/2683.html#L51" title="Defined at 51 in src/javax/security/sasl/SaslServerFactory.java.">SaslServerFactory</a>)<a href="../D/26587.html" title="Multiple defined in 2 places.">iter</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L573" name="L573"></a> 573             <em class="brace">}</em>
<a id="L574" name="L574"></a> 574         <em class="brace">}</em>;
<a id="L575" name="L575"></a> 575     <em class="brace">}</em>
<a id="L576" name="L576"></a> 576 
<a id="L577" name="L577"></a> 577     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../R/16526.html" title="Multiple referred from 8 places.">getFactories</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>) <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L579" name="L579"></a> 579 
<a id="L580" name="L580"></a> 580         <strong class="reserved">if</strong> ((<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a> == <strong class="reserved">null</strong>) || (<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) ||
<a id="L581" name="L581"></a> 581             (<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("."))) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L583" name="L583"></a> 583         <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<a id="L585" name="L585"></a> 585 
<a id="L586" name="L586"></a> 586         <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a>[] <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a> = <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21766.html" title="Multiple defined in 5 places.">getProviders</a>();
<a id="L587" name="L587"></a> 587         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;();
<a id="L588" name="L588"></a> 588         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> fac;
<a id="L589" name="L589"></a> 589 
<a id="L590" name="L590"></a> 590         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591             <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L592" name="L592"></a> 592 
<a id="L593" name="L593"></a> 593             <em class="comment">// Check the keys for each provider.</em>
<a id="L594" name="L594"></a> 594             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; e = <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>[i].<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>(); e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>(); ) <em class="brace">{</em>
<a id="L595" name="L595"></a> 595                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> currentKey = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L596" name="L596"></a> 596                 <strong class="reserved">if</strong> (currentKey.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(<a href="../D/31830.html" title="Multiple defined in 2 places.">serviceName</a>)) <em class="brace">{</em>
<a id="L597" name="L597"></a> 597                     <em class="comment">// We should skip the currentKey if it contains a</em>
<a id="L598" name="L598"></a> 598                     <em class="comment">// whitespace. The reason is: such an entry in the</em>
<a id="L599" name="L599"></a> 599                     <em class="comment">// provider property contains attributes for the</em>
<a id="L600" name="L600"></a> 600                     <em class="comment">// implementation of an algorithm. We are only interested</em>
<a id="L601" name="L601"></a> 601                     <em class="comment">// in entries which lead to the implementation</em>
<a id="L602" name="L602"></a> 602                     <em class="comment">// classes.</em>
<a id="L603" name="L603"></a> 603                     <strong class="reserved">if</strong> (currentKey.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(" ") &lt; 0) <em class="brace">{</em>
<a id="L604" name="L604"></a> 604                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>[i].<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(currentKey);
<a id="L605" name="L605"></a> 605                         <strong class="reserved">if</strong> (!<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>)) <em class="brace">{</em>
<a id="L606" name="L606"></a> 606                             <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L607" name="L607"></a> 607                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L608" name="L608"></a> 608                                 fac = <a href="../S/2681.html#L397" title="Defined at 397 in src/javax/security/sasl/Sasl.java.">loadFactory</a>(<a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>[i], <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L609" name="L609"></a> 609                                 <strong class="reserved">if</strong> (fac != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L610" name="L610"></a> 610                                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(fac);
<a id="L611" name="L611"></a> 611                                 <em class="brace">}</em>
<a id="L612" name="L612"></a> 612                             <em class="brace">}</em><strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../D/24317.html" title="Multiple defined in 3 places.">ignore</a>) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613                             <em class="brace">}</em>
<a id="L614" name="L614"></a> 614                         <em class="brace">}</em>
<a id="L615" name="L615"></a> 615                     <em class="brace">}</em>
<a id="L616" name="L616"></a> 616                 <em class="brace">}</em>
<a id="L617" name="L617"></a> 617             <em class="brace">}</em>
<a id="L618" name="L618"></a> 618         <em class="brace">}</em>
<a id="L619" name="L619"></a> 619         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1117" title="Defined at 1117 in src/java/util/Collections.java.">unmodifiableSet</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>);
<a id="L620" name="L620"></a> 620     <em class="brace">}</em>
<a id="L621" name="L621"></a> 621 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L353">[^]</a><a href="#L577">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>