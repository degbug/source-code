<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/lang/ClassLoader.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L180">[^]</a><a href="#L2200">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L180" title="Defined at 180.">registerNatives</a></li>
<li><a href="#L209" title="Defined at 209.">register</a></li>
<li><a href="#L229" title="Defined at 229.">isRegistered</a></li>
<li><a href="#L262" title="Defined at 262.">addClass</a></li>
<li><a href="#L271" title="Defined at 271.">checkCreateClassLoader</a></li>
<li><a href="#L356" title="Defined at 356.">loadClass</a></li>
<li><a href="#L401" title="Defined at 401.">loadClass</a></li>
<li><a href="#L459" title="Defined at 459.">getClassLoadingLock</a></li>
<li><a href="#L472" title="Defined at 472.">loadClassInternal</a></li>
<li><a href="#L487" title="Defined at 487.">checkPackageAccess</a></li>
<li><a href="#L529" title="Defined at 529.">findClass</a></li>
<li><a href="#L575" title="Defined at 575.">defineClass</a></li>
<li><a href="#L639" title="Defined at 639.">defineClass</a></li>
<li><a href="#L650" title="Defined at 650.">preDefineClass</a></li>
<li><a href="#L670" title="Defined at 670.">defineClassSourceLocation</a></li>
<li><a href="#L680" title="Defined at 680.">postDefineClass</a></li>
<li><a href="#L754" title="Defined at 754.">defineClass</a></li>
<li><a href="#L827" title="Defined at 827.">defineClass</a></li>
<li><a href="#L854" title="Defined at 854.">defineClass0</a></li>
<li><a href="#L857" title="Defined at 857.">defineClass1</a></li>
<li><a href="#L860" title="Defined at 860.">defineClass2</a></li>
<li><a href="#L865" title="Defined at 865.">checkName</a></li>
<li><a href="#L874" title="Defined at 874.">checkCerts</a></li>
<li><a href="#L904" title="Defined at 904.">compareCerts</a></li>
<li><a href="#L960" title="Defined at 960.">resolveClass</a></li>
<li><a href="#L964" title="Defined at 964.">resolveClass0</a></li>
<li><a href="#L988" title="Defined at 988.">findSystemClass</a></li>
<li><a href="#L1008" title="Defined at 1008.">findBootstrapClassOrNull</a></li>
<li><a href="#L1016" title="Defined at 1016.">findBootstrapClass</a></li>
<li><a href="#L1032" title="Defined at 1032.">findLoadedClass</a></li>
<li><a href="#L1038" title="Defined at 1038.">findLoadedClass0</a></li>
<li><a href="#L1052" title="Defined at 1052.">setSigners</a></li>
<li><a href="#L1085" title="Defined at 1085.">getResource</a></li>
<li><a href="#L1131" title="Defined at 1131.">getResources</a></li>
<li><a href="#L1156" title="Defined at 1156.">findResource</a></li>
<li><a href="#L1177" title="Defined at 1177.">findResources</a></li>
<li><a href="#L1199" title="Defined at 1199.">registerAsParallelCapable</a></li>
<li><a href="#L1218" title="Defined at 1218.">getSystemResource</a></li>
<li><a href="#L1246" title="Defined at 1246.">getSystemResources</a></li>
<li><a href="#L1259" title="Defined at 1259.">getBootstrapResource</a></li>
<li><a href="#L1268" title="Defined at 1268.">getBootstrapResources</a></li>
<li><a href="#L1284" title="Defined at 1284.">getBootstrapClassPath</a></li>
<li><a href="#L1303" title="Defined at 1303.">getResourceAsStream</a></li>
<li><a href="#L1325" title="Defined at 1325.">getSystemResourceAsStream</a></li>
<li><a href="#L1363" title="Defined at 1363.">getParent</a></li>
<li><a href="#L1432" title="Defined at 1432.">getSystemClassLoader</a></li>
<li><a href="#L1444" title="Defined at 1444.">initSystemClassLoader</a></li>
<li><a href="#L1476" title="Defined at 1476.">isAncestor</a></li>
<li><a href="#L1492" title="Defined at 1492.">needsClassLoaderPermissionCheck</a></li>
<li><a href="#L1505" title="Defined at 1505.">getClassLoader</a></li>
<li><a href="#L1519" title="Defined at 1519.">checkClassLoaderPermission</a></li>
<li><a href="#L1582" title="Defined at 1582.">definePackage</a></li>
<li><a href="#L1613" title="Defined at 1613.">getPackage</a></li>
<li><a href="#L1647" title="Defined at 1647.">getPackages</a></li>
<li><a href="#L1689" title="Defined at 1689.">findLibrary</a></li>
<li><a href="#L1723" title="Defined at 1723.">load</a></li>
<li><a href="#L1725" title="Defined at 1725.">find</a></li>
<li><a href="#L1726" title="Defined at 1726.">unload</a></li>
<li><a href="#L1734" title="Defined at 1734.">finalize</a></li>
<li><a href="#L1757" title="Defined at 1757.">getFromClass</a></li>
<li><a href="#L1779" title="Defined at 1779.">initializePath</a></li>
<li><a href="#L1812" title="Defined at 1812.">loadLibrary</a></li>
<li><a href="#L1867" title="Defined at 1867.">findBuiltinLib</a></li>
<li><a href="#L1869" title="Defined at 1869.">loadLibrary0</a></li>
<li><a href="#L1953" title="Defined at 1953.">findNative</a></li>
<li><a href="#L2007" title="Defined at 2007.">setDefaultAssertionStatus</a></li>
<li><a href="#L2053" title="Defined at 2053.">setPackageAssertionStatus</a></li>
<li><a href="#L2085" title="Defined at 2085.">setClassAssertionStatus</a></li>
<li><a href="#L2103" title="Defined at 2103.">clearAssertionStatus</a></li>
<li><a href="#L2137" title="Defined at 2137.">desiredAssertionStatus</a></li>
<li><a href="#L2169" title="Defined at 2169.">initializeJavaAssertionMaps</a></li>
<li><a href="#L2188" title="Defined at 2188.">retrieveDirectives</a></li>
<li><a href="#L2200" title="Defined at 2200.">run</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2013, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.IOException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.File;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.lang.reflect.Constructor;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.lang.reflect.InvocationTargetException;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.net.MalformedURLException;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.net.URL;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.security.AccessControlContext;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.CodeSource;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.security.Policy;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.security.PrivilegedActionException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.security.PrivilegedExceptionAction;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.security.ProtectionDomain;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.security.cert.Certificate;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.Collections;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.util.Set;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.util.Stack;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.util.Map;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.util.Vector;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.util.WeakHashMap;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> sun.misc.CompoundEnumeration;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> sun.misc.Resource;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> sun.misc.URLClassPath;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> sun.misc.VM;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> sun.reflect.CallerSensitive;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> sun.reflect.Reflection;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> sun.reflect.misc.ReflectUtil;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> sun.security.util.SecurityConstants;
<a id="L62" name="L62"></a>  62 
<div class="comment">
  A class loader is an object that is responsible for loading classes. The
  class <tt>ClassLoader</tt> is an abstract class.  Given the <a href="#name">binary name</a> of a class, a class loader should attempt to
  locate or generate data that constitutes a definition for the class.  A
  typical strategy is to transform the name into a file name and then read a
  "class file" of that name from a file system.
  <p> Every {@link Class <tt>Class</tt>} object contains a {@link
  Class#getClassLoader() reference} to the <tt>ClassLoader</tt> that defined
  it.
  </p><p> <tt>Class</tt> objects for array classes are not created by class
  loaders, but are created automatically as required by the Java runtime.
  The class loader for an array class, as returned by {@link
  Class#getClassLoader()} is the same as the class loader for its element
  type; if the element type is a primitive type, then the array class has no
  class loader.
  </p><p> Applications implement subclasses of <tt>ClassLoader</tt> in order to
  extend the manner in which the Java virtual machine dynamically loads
  classes.
  </p><p> Class loaders may typically be used by security managers to indicate
  security domains.
  </p><p> The <tt>ClassLoader</tt> class uses a delegation model to search for
  classes and resources.  Each instance of <tt>ClassLoader</tt> has an
  associated parent class loader.  When requested to find a class or
  resource, a <tt>ClassLoader</tt> instance will delegate the search for the
  class or resource to its parent class loader before attempting to find the
  class or resource itself.  The virtual machine's built-in class loader,
  called the "bootstrap class loader", does not itself have a parent but may
  serve as the parent of a <tt>ClassLoader</tt> instance.
  </p><p> Class loaders that support concurrent loading of classes are known as
  <em>parallel capable</em> class loaders and are required to register
  themselves at their class initialization time by invoking the
  {@link
  #registerAsParallelCapable <tt>ClassLoader.registerAsParallelCapable</tt>}
  method. Note that the <tt>ClassLoader</tt> class is registered as parallel
  capable by default. However, its subclasses still need to register themselves
  if they are parallel capable. <br>
  In environments in which the delegation model is not strictly
  hierarchical, class loaders need to be parallel capable, otherwise class
  loading can lead to deadlocks because the loader lock is held for the
  duration of the class loading process (see {@link #loadClass
  <tt>loadClass</tt>} methods).
  </p><p> Normally, the Java virtual machine loads classes from the local file
  system in a platform-dependent manner.  For example, on UNIX systems, the
  virtual machine loads classes from the directory defined by the
  <tt>CLASSPATH</tt> environment variable.
  </p><p> However, some classes may not originate from a file; they may originate
  from other sources, such as the network, or they could be constructed by an
  application.  The method {@link #defineClass(String, byte[], int, int)
  <tt>defineClass</tt>} converts an array of bytes into an instance of class
  <tt>Class</tt>. Instances of this newly defined class can be created using
  {@link Class#newInstance <tt>Class.newInstance</tt>}.
  </p><p> The methods and constructors of objects created by a class loader may
  reference other classes.  To determine the class(es) referred to, the Java
  virtual machine invokes the {@link #loadClass <tt>loadClass</tt>} method of
  the class loader that originally created the class.
  </p><p> For example, an application could create a network class loader to
  download class files from a server.  Sample code might look like:
  </p><blockquote><pre>    ClassLoader loader&nbsp;= new NetworkClassLoader(host,&nbsp;port);
    Object main&nbsp;= loader.loadClass("Main", true).newInstance();
        &nbsp;.&nbsp;.&nbsp;.
  </pre></blockquote>
  <p> The network class loader subclass must define the methods {@link
  #findClass <tt>findClass</tt>} and <tt>loadClassData</tt> to load a class
  from the network.  Once it has downloaded the bytes that make up the class,
  it should use the method {@link #defineClass <tt>defineClass</tt>} to
  create a class instance.  A sample implementation is:
  </p><blockquote><pre>      class NetworkClassLoader extends ClassLoader {
          String host;
          int port;
          public Class findClass(String name) {
              byte[] b = loadClassData(name);
              return defineClass(name, b, 0, b.length);
          }
          private byte[] loadClassData(String name) {
              // load the class data from the connection
              &nbsp;.&nbsp;.&nbsp;.
          }
      }
  </pre></blockquote>
  <h3> <a name="name">Binary names</a> </h3>
  <p> Any class name provided as a {@link String} parameter to methods in
  <tt>ClassLoader</tt> must be a binary name as defined by
  <cite>The Javaâ„¢ Language Specification</cite>.
  </p><p> Examples of valid class names include:
  </p><blockquote><pre>    "java.lang.String"
    "javax.swing.JSpinner$DefaultEditor"
    "java.security.KeyStore$Builder$FileBuilder$1"
    "java.net.URLClassLoader$3$1"
  </pre></blockquote>
  @see      #resolveClass(Class)
  @since 1.0</div>
<a id="L178" name="L178"></a> 178 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/1389.html" title="Multiple referred from 826 places.">ClassLoader</a> <em class="brace">{</em>
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/25793.html" title="Multiple referred from 7 places.">registerNatives</a>();
<a id="L181" name="L181"></a> 181     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L182" name="L182"></a> 182         <a href="../D/30570.html" title="Multiple defined in 7 places.">registerNatives</a>();
<a id="L183" name="L183"></a> 183     <em class="brace">}</em>
<a id="L184" name="L184"></a> 184 
<a id="L185" name="L185"></a> 185     <em class="comment">// The parent class loader for delegation</em>
<a id="L186" name="L186"></a> 186     <em class="comment">// Note: VM hardcoded the offset of this field, thus all new fields</em>
<a id="L187" name="L187"></a> 187     <em class="comment">// must be added *after* it.</em>
<a id="L188" name="L188"></a> 188     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Encapsulates the set of parallel capable loader types.</div>
<a id="L193" name="L193"></a> 193     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6003.html" title="Multiple referred from 2 places.">ParallelLoaders</a> <em class="brace">{</em>
<a id="L194" name="L194"></a> 194         <strong class="reserved">private</strong> ParallelLoaders() <em class="brace">{</em><em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196         <em class="comment">// the set of parallel capable loader types</em>
<a id="L197" name="L197"></a> 197         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt;&gt; loaderTypes =
<a id="L198" name="L198"></a> 198             <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L5436" title="Defined at 5436 in src/java/util/Collections.java.">newSetFromMap</a>(
<a id="L199" name="L199"></a> 199                 <strong class="reserved">new</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt;, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;());
<a id="L200" name="L200"></a> 200         <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L201" name="L201"></a> 201             <strong class="reserved">synchronized</strong> (loaderTypes) <em class="brace">{</em> loaderTypes.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<strong class="reserved">class</strong>); <em class="brace">}</em>
<a id="L202" name="L202"></a> 202         <em class="brace">}</em>
<a id="L203" name="L203"></a> 203 
<div class="comment">
          Registers the given class loader type as parallel capabale.
          Returns <code>true</code> is successfully registered; <code>false</code> if
          loader's super class is not registered.</div>
<a id="L209" name="L209"></a> 209         <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/25749.html" title="Multiple referred from 136 places.">register</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210             <strong class="reserved">synchronized</strong> (loaderTypes) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211                 <strong class="reserved">if</strong> (loaderTypes.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/22863.html" title="Multiple defined in 4 places.">getSuperclass</a>())) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212                     <em class="comment">// register the class loader as parallel capable</em>
<a id="L213" name="L213"></a> 213                     <em class="comment">// if and only if all of its super classes are.</em>
<a id="L214" name="L214"></a> 214                     <em class="comment">// Note: given current classloading sequence, if</em>
<a id="L215" name="L215"></a> 215                     <em class="comment">// the immediate super class is parallel capable,</em>
<a id="L216" name="L216"></a> 216                     <em class="comment">// all the super classes higher up must be too.</em>
<a id="L217" name="L217"></a> 217                     loaderTypes.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L218" name="L218"></a> 218                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L219" name="L219"></a> 219                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L220" name="L220"></a> 220                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L221" name="L221"></a> 221                 <em class="brace">}</em>
<a id="L222" name="L222"></a> 222             <em class="brace">}</em>
<a id="L223" name="L223"></a> 223         <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<div class="comment">
          Returns <code>true</code> if the given class loader type is
          registered as parallel capable.</div>
<a id="L229" name="L229"></a> 229         <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21937.html" title="Multiple referred from 11 places.">isRegistered</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L230" name="L230"></a> 230             <strong class="reserved">synchronized</strong> (loaderTypes) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231                 <strong class="reserved">return</strong> loaderTypes.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L232" name="L232"></a> 232             <em class="brace">}</em>
<a id="L233" name="L233"></a> 233         <em class="brace">}</em>
<a id="L234" name="L234"></a> 234     <em class="brace">}</em>
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236     <em class="comment">// Maps class name to the corresponding lock object when the current</em>
<a id="L237" name="L237"></a> 237     <em class="comment">// class loader is parallel capable.</em>
<a id="L238" name="L238"></a> 238     <em class="comment">// Note: VM also uses this field to decide if the current class loader</em>
<a id="L239" name="L239"></a> 239     <em class="comment">// is parallel capable and the appropriate lock object for class loading.</em>
<a id="L240" name="L240"></a> 240     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; parallelLockMap;
<a id="L241" name="L241"></a> 241 
<a id="L242" name="L242"></a> 242     <em class="comment">// Hashtable that maps packages to certs</em>
<a id="L243" name="L243"></a> 243     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a> &lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[]&gt; package2certs;
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245     <em class="comment">// Shared among all packages with unsigned classes</em>
<a id="L246" name="L246"></a> 246     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] nocerts = <strong class="reserved">new</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[0];
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248     <em class="comment">// The classes loaded by this class loader. The only purpose of this table</em>
<a id="L249" name="L249"></a> 249     <em class="comment">// is to keep the classes from being GC'ed until the loader is GC'ed.</em>
<a id="L250" name="L250"></a> 250     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;&gt; <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252     <em class="comment">// The "default" domain. Set as the default ProtectionDomain on newly</em>
<a id="L253" name="L253"></a> 253     <em class="comment">// created classes.</em>
<a id="L254" name="L254"></a> 254     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> defaultDomain =
<a id="L255" name="L255"></a> 255         <strong class="reserved">new</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>(<strong class="reserved">new</strong> <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a>(<strong class="reserved">null</strong>, (<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[]) <strong class="reserved">null</strong>),
<a id="L256" name="L256"></a> 256                              <strong class="reserved">null</strong>, <strong class="reserved">this</strong>, <strong class="reserved">null</strong>);
<a id="L257" name="L257"></a> 257 
<a id="L258" name="L258"></a> 258     <em class="comment">// The initiating protection domains for all classes loaded by this loader</em>
<a id="L259" name="L259"></a> 259     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>&gt; domains;
<a id="L260" name="L260"></a> 260 
<a id="L261" name="L261"></a> 261     <em class="comment">// Invoked by the VM to record every loaded class with this loader.</em>
<a id="L262" name="L262"></a> 262     <strong class="reserved">void</strong> <a href="../R/9648.html" title="Multiple referred from 76 places.">addClass</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L263" name="L263"></a> 263         <a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L264" name="L264"></a> 264     <em class="brace">}</em>
<a id="L265" name="L265"></a> 265 
<a id="L266" name="L266"></a> 266     <em class="comment">// The packages defined in this class loader.  Each package name is mapped</em>
<a id="L267" name="L267"></a> 267     <em class="comment">// to its corresponding Package object.</em>
<a id="L268" name="L268"></a> 268     <em class="comment">// @GuardedBy("itself")</em>
<a id="L269" name="L269"></a> 269     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>&gt; packages = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L270" name="L270"></a> 270 
<a id="L271" name="L271"></a> 271     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../R/11132.html" title="Multiple referred from 10 places.">checkCreateClassLoader</a>() <em class="brace">{</em>
<a id="L272" name="L272"></a> 272         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L273" name="L273"></a> 273         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274             security.<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>();
<a id="L275" name="L275"></a> 275         <em class="brace">}</em>
<a id="L276" name="L276"></a> 276         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L277" name="L277"></a> 277     <em class="brace">}</em>
<a id="L278" name="L278"></a> 278 
<a id="L279" name="L279"></a> 279     <strong class="reserved">private</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>(<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> unused, ClassLoader <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280         <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L281" name="L281"></a> 281         <strong class="reserved">if</strong> (<a href="../S/1745.html#L193" title="Defined at 193 in src/java/lang/ClassLoader.java.">ParallelLoaders</a>.<a href="../D/26142.html" title="Multiple defined in 12 places.">isRegistered</a>(<strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>())) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             parallelLockMap = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<a id="L283" name="L283"></a> 283             package2certs = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;();
<a id="L284" name="L284"></a> 284             domains =
<a id="L285" name="L285"></a> 285                 <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>(<strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>&gt;());
<a id="L286" name="L286"></a> 286             assertionLock = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L287" name="L287"></a> 287         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L288" name="L288"></a> 288             <em class="comment">// no finer-grained lock; lock on the classloader instance</em>
<a id="L289" name="L289"></a> 289             parallelLockMap = <strong class="reserved">null</strong>;
<a id="L290" name="L290"></a> 290             package2certs = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;&gt;();
<a id="L291" name="L291"></a> 291             domains = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;();
<a id="L292" name="L292"></a> 292             assertionLock = <strong class="reserved">this</strong>;
<a id="L293" name="L293"></a> 293         <em class="brace">}</em>
<a id="L294" name="L294"></a> 294     <em class="brace">}</em>
<a id="L295" name="L295"></a> 295 
<div class="comment">
      Creates a new class loader using the specified parent class loader for
      delegation.
      <p> If there is a security manager, its {@link
      SecurityManager#checkCreateClassLoader()
      <tt>checkCreateClassLoader</tt>} method is invoked.  This may result in
      a security exception.  </p>
      @param  parent
              The parent class loader
      @throws  SecurityException
               If a security manager exists and its
               <tt>checkCreateClassLoader</tt> method doesn't allow creation
               of a new class loader.
      @since  1.2</div>
<a id="L315" name="L315"></a> 315     <strong class="reserved">protected</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>(ClassLoader <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316         <strong class="reserved">this</strong>(<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>(), <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L317" name="L317"></a> 317     <em class="brace">}</em>
<a id="L318" name="L318"></a> 318 
<div class="comment">
      Creates a new class loader using the <tt>ClassLoader</tt> returned by
      the method {@link #getSystemClassLoader()
      <tt>getSystemClassLoader()</tt>} as the parent class loader.
      <p> If there is a security manager, its {@link
      SecurityManager#checkCreateClassLoader()
      <tt>checkCreateClassLoader</tt>} method is invoked.  This may result in
      a security exception.  </p>
      @throws  SecurityException
               If a security manager exists and its
               <tt>checkCreateClassLoader</tt> method doesn't allow creation
               of a new class loader.</div>
<a id="L334" name="L334"></a> 334     <strong class="reserved">protected</strong> ClassLoader() <em class="brace">{</em>
<a id="L335" name="L335"></a> 335         <strong class="reserved">this</strong>(<a href="../D/12420.html" title="Multiple defined in 2 places.">checkCreateClassLoader</a>(), <a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>());
<a id="L336" name="L336"></a> 336     <em class="brace">}</em>
<a id="L337" name="L337"></a> 337 
<a id="L338" name="L338"></a> 338     <em class="comment">// -- Class --</em>
<a id="L339" name="L339"></a> 339 
<div class="comment">
      Loads the class with the specified <a href="#name">binary name</a>.
      This method searches for classes in the same manner as the {@link
      #loadClass(String, boolean)} method.  It is invoked by the Java virtual
      machine to resolve class references.  Invoking this method is equivalent
      to invoking {@link #loadClass(String, boolean) <tt>loadClass(name,
      false)</tt>}.
      @param  name
              The <a href="#name">binary name</a> of the class
      @return  The resulting <tt>Class</tt> object
      @throws  ClassNotFoundException
               If the class was not found</div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">public</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L357" name="L357"></a> 357         <strong class="reserved">return</strong> <a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">false</strong>);
<a id="L358" name="L358"></a> 358     <em class="brace">}</em>
<a id="L359" name="L359"></a> 359 
<div class="comment">
      Loads the class with the specified <a href="#name">binary name</a>.  The
      default implementation of this method searches for classes in the
      following order:
      <ol>
        <li><p> Invoke {@link #findLoadedClass(String)} to check if the class
        has already been loaded.  </p></li><li><p> Invoke the {@link #loadClass(String) <tt>loadClass</tt>} method
        on the parent class loader.  If the parent is <tt>null</tt> the class
        loader built-in to the virtual machine is used, instead.  </p></li><li><p> Invoke the {@link #findClass(String)} method to find the
        class.  </p></li>
      </ol>
      <p> If the class was found using the above steps, and the
      <tt>resolve</tt> flag is true, this method will then invoke the {@link
      #resolveClass(Class)} method on the resulting <tt>Class</tt> object.
      </p><p> Subclasses of <tt>ClassLoader</tt> are encouraged to override {@link
      #findClass(String)}, rather than this method.  </p>
      <p> Unless overridden, this method synchronizes on the result of
      {@link #getClassLoadingLock <tt>getClassLoadingLock</tt>} method
      during the entire class loading process.
      @param  name
              The <a href="#name">binary name</a> of the class
      @param  resolve
              If <tt>true</tt> then resolve the class
      @return  The resulting <tt>Class</tt> object
      @throws  ClassNotFoundException
               If the class could not be found</p></div>
<a id="L401" name="L401"></a> 401     <strong class="reserved">protected</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">boolean</strong> <a href="../D/31237.html" title="Multiple defined in 38 places.">resolve</a>)
<a id="L402" name="L402"></a> 402         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L403" name="L403"></a> 403     <em class="brace">{</em>
<a id="L404" name="L404"></a> 404         <strong class="reserved">synchronized</strong> (<a href="../S/1745.html#L459" title="Defined at 459 in src/java/lang/ClassLoader.java.">getClassLoadingLock</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L405" name="L405"></a> 405             <em class="comment">// First, check if the class has already been loaded</em>
<a id="L406" name="L406"></a> 406             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/1745.html#L1032" title="Defined at 1032 in src/java/lang/ClassLoader.java.">findLoadedClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L407" name="L407"></a> 407             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L408" name="L408"></a> 408                 <strong class="reserved">long</strong> t0 = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>();
<a id="L409" name="L409"></a> 409                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L410" name="L410"></a> 410                     <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">false</strong>);
<a id="L412" name="L412"></a> 412                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/1745.html#L1008" title="Defined at 1008 in src/java/lang/ClassLoader.java.">findBootstrapClassOrNull</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L414" name="L414"></a> 414                     <em class="brace">}</em>
<a id="L415" name="L415"></a> 415                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                     <em class="comment">// ClassNotFoundException thrown if class not found</em>
<a id="L417" name="L417"></a> 417                     <em class="comment">// from the non-null parent class loader</em>
<a id="L418" name="L418"></a> 418                 <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<a id="L420" name="L420"></a> 420                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L421" name="L421"></a> 421                     <em class="comment">// If still not found, then invoke findClass in order</em>
<a id="L422" name="L422"></a> 422                     <em class="comment">// to find the class.</em>
<a id="L423" name="L423"></a> 423                     <strong class="reserved">long</strong> t1 = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>();
<a id="L424" name="L424"></a> 424                     <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/16100.html" title="Multiple defined in 13 places.">findClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L425" name="L425"></a> 425 
<a id="L426" name="L426"></a> 426                     <em class="comment">// this is the defining class loader; record the stats</em>
<a id="L427" name="L427"></a> 427                     sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0);
<a id="L428" name="L428"></a> 428                     sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1);
<a id="L429" name="L429"></a> 429                     sun.misc.PerfCounter.getFindClasses().<a href="../D/24445.html" title="Multiple defined in 3 places.">increment</a>();
<a id="L430" name="L430"></a> 430                 <em class="brace">}</em>
<a id="L431" name="L431"></a> 431             <em class="brace">}</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">if</strong> (<a href="../D/31237.html" title="Multiple defined in 38 places.">resolve</a>) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433                 <a href="../D/31245.html" title="Multiple defined in 7 places.">resolveClass</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L434" name="L434"></a> 434             <em class="brace">}</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437     <em class="brace">}</em>
<a id="L438" name="L438"></a> 438 
<div class="comment">
      Returns the lock object for class loading operations.
      For backward compatibility, the default implementation of this method
      behaves as follows. If this ClassLoader object is registered as
      parallel capable, the method returns a dedicated object associated
      with the specified class name. Otherwise, the method returns this
      ClassLoader object.
      @param  className
              The name of the to-be-loaded class
      @return the lock for class loading operations
      @throws NullPointerException
              If registered as parallel capable and <tt>className</tt> is null
      @see #loadClass(String, boolean)
      @since  1.7</div>
<a id="L459" name="L459"></a> 459     <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/1745.html#L404" title="Referred from 404 in src/java/lang/ClassLoader.java.">getClassLoadingLock</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = <strong class="reserved">this</strong>;
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> (parallelLockMap != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> newLock = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L463" name="L463"></a> 463             <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = parallelLockMap.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, newLock);
<a id="L464" name="L464"></a> 464             <strong class="reserved">if</strong> (<a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465                 <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a> = newLock;
<a id="L466" name="L466"></a> 466             <em class="brace">}</em>
<a id="L467" name="L467"></a> 467         <em class="brace">}</em>
<a id="L468" name="L468"></a> 468         <strong class="reserved">return</strong> <a href="../D/27034.html" title="Multiple defined in 25 places.">lock</a>;
<a id="L469" name="L469"></a> 469     <em class="brace">}</em>
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471     <em class="comment">// This method is invoked by the virtual machine to load a class.</em>
<a id="L472" name="L472"></a> 472     <strong class="reserved">private</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; loadClassInternal(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L473" name="L473"></a> 473         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L474" name="L474"></a> 474     <em class="brace">{</em>
<a id="L475" name="L475"></a> 475         <em class="comment">// For backward compatibility, explicitly lock on 'this' when</em>
<a id="L476" name="L476"></a> 476         <em class="comment">// the current class loader is not parallel capable.</em>
<a id="L477" name="L477"></a> 477         <strong class="reserved">if</strong> (parallelLockMap == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L478" name="L478"></a> 478             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                  <strong class="reserved">return</strong> <a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L480" name="L480"></a> 480             <em class="brace">}</em>
<a id="L481" name="L481"></a> 481         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L482" name="L482"></a> 482             <strong class="reserved">return</strong> <a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484     <em class="brace">}</em>
<a id="L485" name="L485"></a> 485 
<a id="L486" name="L486"></a> 486     <em class="comment">// Invoked by the VM after loading class with this loader.</em>
<a id="L487" name="L487"></a> 487     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11281.html" title="Multiple referred from 70 places.">checkPackageAccess</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cls, <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd) <em class="brace">{</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">final</strong> <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L489" name="L489"></a> 489         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">if</strong> (ReflectUtil.isNonPublicProxyClass(cls)) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                 <strong class="reserved">for</strong> (<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; intf: cls.<a href="../D/19802.html" title="Multiple defined in 13 places.">getInterfaces</a>()) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492                     <a href="../D/12578.html" title="Multiple defined in 3 places.">checkPackageAccess</a>(intf, pd);
<a id="L493" name="L493"></a> 493                 <em class="brace">}</em>
<a id="L494" name="L494"></a> 494                 <strong class="reserved">return</strong>;
<a id="L495" name="L495"></a> 495             <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 
<a id="L497" name="L497"></a> 497             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = cls.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L498" name="L498"></a> 498             <strong class="reserved">final</strong> <strong class="reserved">int</strong> i = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.');
<a id="L499" name="L499"></a> 499             <strong class="reserved">if</strong> (i != -1) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500                 <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L501" name="L501"></a> 501                     <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L502" name="L502"></a> 502                         sm.<a href="../D/12578.html" title="Multiple defined in 3 places.">checkPackageAccess</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, i));
<a id="L503" name="L503"></a> 503                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L504" name="L504"></a> 504                     <em class="brace">}</em>
<a id="L505" name="L505"></a> 505                 <em class="brace">}</em>, <strong class="reserved">new</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a>(<strong class="reserved">new</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>[] <em class="brace">{</em>pd<em class="brace">}</em>));
<a id="L506" name="L506"></a> 506             <em class="brace">}</em>
<a id="L507" name="L507"></a> 507         <em class="brace">}</em>
<a id="L508" name="L508"></a> 508         domains.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(pd);
<a id="L509" name="L509"></a> 509     <em class="brace">}</em>
<a id="L510" name="L510"></a> 510 
<div class="comment">
      Finds the class with the specified <a href="#name">binary name</a>.
      This method should be overridden by class loader implementations that
      follow the delegation model for loading classes, and will be invoked by
      the {@link #loadClass <tt>loadClass</tt>} method after checking the
      parent class loader for the requested class.  The default implementation
      throws a <tt>ClassNotFoundException</tt>.
      @param  name
              The <a href="#name">binary name</a> of the class
      @return  The resulting <tt>Class</tt> object
      @throws  ClassNotFoundException
               If the class could not be found
      @since  1.2</div>
<a id="L529" name="L529"></a> 529     <strong class="reserved">protected</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/14355.html" title="Multiple referred from 18 places.">findClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L530" name="L530"></a> 530         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L531" name="L531"></a> 531     <em class="brace">}</em>
<a id="L532" name="L532"></a> 532 
<div class="comment">
      Converts an array of bytes into an instance of class <tt>Class</tt>.
      Before the <tt>Class</tt> can be used it must be resolved.  This method
      is deprecated in favor of the version that takes a <a href="#name">binary name</a> as its first argument, and is more secure.
      @param  b
              The bytes that make up the class data.  The bytes in positions
              <tt>off</tt> through <tt>off+len-1</tt> should have the format
              of a valid class file as defined by
              <cite>The Javaâ„¢ Virtual Machine Specification</cite>.
      @param  off
              The start offset in <tt>b</tt> of the class data
      @param  len
              The length of the class data
      @return  The <tt>Class</tt> object that was created from the specified
               class data
      @throws  ClassFormatError
               If the data did not contain a valid class
      @throws  IndexOutOfBoundsException
               If either <tt>off</tt> or <tt>len</tt> is negative, or if
               <tt>off+len</tt> is greater than <tt>b.length</tt>.
      @throws  SecurityException
               If an attempt is made to add this class to a package that
               contains classes that were signed by a different set of
               certificates than this class, or if an attempt is made
               to define a class in a package with a fully-qualified name
               that starts with "<code>java.</code>".
      @see  #loadClass(String, boolean)
      @see  #resolveClass(Class)
      @deprecated  Replaced by {@link #defineClass(String, byte[], int, int)
      defineClass(String, byte[], int, int)}</div>
<a id="L574" name="L574"></a> 574     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L575" name="L575"></a> 575     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/13174.html" title="Multiple referred from 14 places.">defineClass</a>(<strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len)
<a id="L576" name="L576"></a> 576         <strong class="reserved">throws</strong> <a href="../S/1742.html#L37" title="Defined at 37 in src/java/lang/ClassFormatError.java.">ClassFormatError</a>
<a id="L577" name="L577"></a> 577     <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<strong class="reserved">null</strong>, b, off, len, <strong class="reserved">null</strong>);
<a id="L579" name="L579"></a> 579     <em class="brace">}</em>
<a id="L580" name="L580"></a> 580 
<div class="comment">
      Converts an array of bytes into an instance of class <tt>Class</tt>.
      Before the <tt>Class</tt> can be used it must be resolved.
      <p> This method assigns a default {@link java.security.ProtectionDomain
      <tt>ProtectionDomain</tt>} to the newly defined class.  The
      <tt>ProtectionDomain</tt> is effectively granted the same set of
      permissions returned when {@link
      java.security.Policy#getPermissions(java.security.CodeSource)
      <tt>Policy.getPolicy().getPermissions(new CodeSource(null, null))</tt>}
      is invoked.  The default domain is created on the first invocation of
      {@link #defineClass(String, byte[], int, int) <tt>defineClass</tt>},
      and re-used on subsequent invocations.
      </p><p> To assign a specific <tt>ProtectionDomain</tt> to the class, use
      the {@link #defineClass(String, byte[], int, int,
      java.security.ProtectionDomain) <tt>defineClass</tt>} method that takes a
      <tt>ProtectionDomain</tt> as one of its arguments.  </p>
      @param  name
              The expected <a href="#name">binary name</a> of the class, or
              <tt>null</tt> if not known
      @param  b
              The bytes that make up the class data.  The bytes in positions
              <tt>off</tt> through <tt>off+len-1</tt> should have the format
              of a valid class file as defined by
              <cite>The Javaâ„¢ Virtual Machine Specification</cite>.
      @param  off
              The start offset in <tt>b</tt> of the class data
      @param  len
              The length of the class data
      @return  The <tt>Class</tt> object that was created from the specified
               class data.
      @throws  ClassFormatError
               If the data did not contain a valid class
      @throws  IndexOutOfBoundsException
               If either <tt>off</tt> or <tt>len</tt> is negative, or if
               <tt>off+len</tt> is greater than <tt>b.length</tt>.
      @throws  SecurityException
               If an attempt is made to add this class to a package that
               contains classes that were signed by a different set of
               certificates than this class (which is unsigned), or if
               <tt>name</tt> begins with "<tt>java.</tt>".
      @see  #loadClass(String, boolean)
      @see  #resolveClass(Class)
      @see  java.security.CodeSource
      @see  java.security.SecureClassLoader
      @since  1.1</div>
<a id="L639" name="L639"></a> 639     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/13174.html" title="Multiple referred from 14 places.">defineClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len)
<a id="L640" name="L640"></a> 640         <strong class="reserved">throws</strong> <a href="../S/1742.html#L37" title="Defined at 37 in src/java/lang/ClassFormatError.java.">ClassFormatError</a>
<a id="L641" name="L641"></a> 641     <em class="brace">{</em>
<a id="L642" name="L642"></a> 642         <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, b, off, len, <strong class="reserved">null</strong>);
<a id="L643" name="L643"></a> 643     <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<div class="comment">
 Determine protection domain, and check that:
        - not define java.* class,
        - signer of this class matches signers for the rest of the classes in
          package.</div>
<a id="L650" name="L650"></a> 650     <strong class="reserved">private</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> <a href="../R/24886.html" title="Multiple referred from 2 places.">preDefineClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L651" name="L651"></a> 651                                             <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd)
<a id="L652" name="L652"></a> 652     <em class="brace">{</em>
<a id="L653" name="L653"></a> 653         <strong class="reserved">if</strong> (!<a href="../D/12549.html" title="Multiple defined in 5 places.">checkName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))
<a id="L654" name="L654"></a> 654             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1679.html#L42" title="Defined at 42 in src/java/lang/NoClassDefFoundError.java.">NoClassDefFoundError</a>("IllegalName: " + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L655" name="L655"></a> 655 
<a id="L656" name="L656"></a> 656         <strong class="reserved">if</strong> ((<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) &amp;&amp; <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("java.")) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>
<a id="L658" name="L658"></a> 658                 ("Prohibited package name: " +
<a id="L659" name="L659"></a> 659                  <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.')));
<a id="L660" name="L660"></a> 660         <em class="brace">}</em>
<a id="L661" name="L661"></a> 661         <strong class="reserved">if</strong> (pd == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L662" name="L662"></a> 662             pd = defaultDomain;
<a id="L663" name="L663"></a> 663         <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<a id="L665" name="L665"></a> 665         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <a href="../S/1745.html#L874" title="Defined at 874 in src/java/lang/ClassLoader.java.">checkCerts</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, pd.<a href="../D/17761.html" title="Multiple defined in 5 places.">getCodeSource</a>());
<a id="L666" name="L666"></a> 666 
<a id="L667" name="L667"></a> 667         <strong class="reserved">return</strong> pd;
<a id="L668" name="L668"></a> 668     <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<a id="L670" name="L670"></a> 670     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/13178.html" title="Multiple referred from 2 places.">defineClassSourceLocation</a>(<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd)
<a id="L671" name="L671"></a> 671     <em class="brace">{</em>
<a id="L672" name="L672"></a> 672         <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> cs = pd.<a href="../D/17761.html" title="Multiple defined in 5 places.">getCodeSource</a>();
<a id="L673" name="L673"></a> 673         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = <strong class="reserved">null</strong>;
<a id="L674" name="L674"></a> 674         <strong class="reserved">if</strong> (cs != <strong class="reserved">null</strong> &amp;&amp; cs.<a href="../D/20238.html" title="Multiple defined in 36 places.">getLocation</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675             <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = cs.<a href="../D/20238.html" title="Multiple defined in 36 places.">getLocation</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L676" name="L676"></a> 676         <em class="brace">}</em>
<a id="L677" name="L677"></a> 677         <strong class="reserved">return</strong> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>;
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/24853.html" title="Multiple referred from 2 places.">postDefineClass</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd)
<a id="L681" name="L681"></a> 681     <em class="brace">{</em>
<a id="L682" name="L682"></a> 682         <strong class="reserved">if</strong> (pd.<a href="../D/17761.html" title="Multiple defined in 5 places.">getCodeSource</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L683" name="L683"></a> 683             <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> certs[] = pd.<a href="../D/17761.html" title="Multiple defined in 5 places.">getCodeSource</a>().<a href="../D/17559.html" title="Multiple defined in 6 places.">getCertificates</a>();
<a id="L684" name="L684"></a> 684             <strong class="reserved">if</strong> (certs != <strong class="reserved">null</strong>)
<a id="L685" name="L685"></a> 685                 <a href="../D/33922.html" title="Multiple defined in 2 places.">setSigners</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, certs);
<a id="L686" name="L686"></a> 686         <em class="brace">}</em>
<a id="L687" name="L687"></a> 687     <em class="brace">}</em>
<a id="L688" name="L688"></a> 688 
<div class="comment">
      Converts an array of bytes into an instance of class <tt>Class</tt>,
      with an optional <tt>ProtectionDomain</tt>.  If the domain is
      <tt>null</tt>, then a default domain will be assigned to the class as
      specified in the documentation for {@link #defineClass(String, byte[],
      int, int)}.  Before the class can be used it must be resolved.
      <p> The first class defined in a package determines the exact set of
      certificates that all subsequent classes defined in that package must
      contain.  The set of certificates for a class is obtained from the
      {@link java.security.CodeSource <tt>CodeSource</tt>} within the
      <tt>ProtectionDomain</tt> of the class.  Any classes added to that
      package must contain the same set of certificates or a
      <tt>SecurityException</tt> will be thrown.  Note that if
      <tt>name</tt> is <tt>null</tt>, this check is not performed.
      You should always pass in the <a href="#name">binary name</a> of the
      class you are defining as well as the bytes.  This ensures that the
      class you are defining is indeed the class you think it is.
      </p><p> The specified <tt>name</tt> cannot begin with "<tt>java.</tt>", since
      all classes in the "<tt>java.*</tt> packages can only be defined by the
      bootstrap class loader.  If <tt>name</tt> is not <tt>null</tt>, it
      must be equal to the <a href="#name">binary name</a> of the class
      specified by the byte array "<tt>b</tt>", otherwise a {@link
      NoClassDefFoundError <tt>NoClassDefFoundError</tt>} will be thrown. </p>
      @param  name
              The expected <a href="#name">binary name</a> of the class, or
              <tt>null</tt> if not known
      @param  b
              The bytes that make up the class data. The bytes in positions
              <tt>off</tt> through <tt>off+len-1</tt> should have the format
              of a valid class file as defined by
              <cite>The Javaâ„¢ Virtual Machine Specification</cite>.
      @param  off
              The start offset in <tt>b</tt> of the class data
      @param  len
              The length of the class data
      @param  protectionDomain
              The ProtectionDomain of the class
      @return  The <tt>Class</tt> object created from the data,
               and optional <tt>ProtectionDomain</tt>.
      @throws  ClassFormatError
               If the data did not contain a valid class
      @throws  NoClassDefFoundError
               If <tt>name</tt> is not equal to the <a href="#name">binary
               name</a> of the class specified by <tt>b</tt>
      @throws  IndexOutOfBoundsException
               If either <tt>off</tt> or <tt>len</tt> is negative, or if
               <tt>off+len</tt> is greater than <tt>b.length</tt>.
      @throws  SecurityException
               If an attempt is made to add this class to a package that
               contains classes that were signed by a different set of
               certificates than this class, or if <tt>name</tt> begins with
               "<tt>java.</tt>".</div>
<a id="L754" name="L754"></a> 754     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/13174.html" title="Multiple referred from 14 places.">defineClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len,
<a id="L755" name="L755"></a> 755                                          <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> protectionDomain)
<a id="L756" name="L756"></a> 756         <strong class="reserved">throws</strong> <a href="../S/1742.html#L37" title="Defined at 37 in src/java/lang/ClassFormatError.java.">ClassFormatError</a>
<a id="L757" name="L757"></a> 757     <em class="brace">{</em>
<a id="L758" name="L758"></a> 758         protectionDomain = <a href="../S/1745.html#L650" title="Defined at 650 in src/java/lang/ClassLoader.java.">preDefineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, protectionDomain);
<a id="L759" name="L759"></a> 759         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = <a href="../S/1745.html#L670" title="Defined at 670 in src/java/lang/ClassLoader.java.">defineClassSourceLocation</a>(protectionDomain);
<a id="L760" name="L760"></a> 760         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/1745.html#L857" title="Defined at 857 in src/java/lang/ClassLoader.java.">defineClass1</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, b, off, len, protectionDomain, <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L761" name="L761"></a> 761         <a href="../S/1745.html#L680" title="Defined at 680 in src/java/lang/ClassLoader.java.">postDefineClass</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, protectionDomain);
<a id="L762" name="L762"></a> 762         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L763" name="L763"></a> 763     <em class="brace">}</em>
<a id="L764" name="L764"></a> 764 
<div class="comment">
      Converts a {@link java.nio.ByteBuffer <tt>ByteBuffer</tt>}
      into an instance of class <tt>Class</tt>,
      with an optional <tt>ProtectionDomain</tt>.  If the domain is
      <tt>null</tt>, then a default domain will be assigned to the class as
      specified in the documentation for {@link #defineClass(String, byte[],
      int, int)}.  Before the class can be used it must be resolved.
      <p>The rules about the first class defined in a package determining the
      set of certificates for the package, and the restrictions on class names
      are identical to those specified in the documentation for {@link
      #defineClass(String, byte[], int, int, ProtectionDomain)}.
      </p><p> An invocation of this method of the form
      <i>cl</i><tt>.defineClass(</tt><i>name</i><tt>,</tt>
      <i>bBuffer</i><tt>,</tt> <i>pd</i><tt>)</tt> yields exactly the same
      result as the statements
     </p><p> <tt>
      ...<br>
      byte[] temp = new byte[bBuffer.{@link
      java.nio.ByteBuffer#remaining remaining}()];<br>
          bBuffer.{@link java.nio.ByteBuffer#get(byte[])
      get}(temp);<br>
          return {@link #defineClass(String, byte[], int, int, ProtectionDomain)
      cl.defineClass}(name, temp, 0,
      temp.length, pd);<br>
      </tt></p>
      @param  name
              The expected <a href="#name">binary name</a>. of the class, or
              <tt>null</tt> if not known
      @param  b
              The bytes that make up the class data. The bytes from positions
              <tt>b.position()</tt> through <tt>b.position() + b.limit() -1
              </tt> should have the format of a valid class file as defined by
              <cite>The Javaâ„¢ Virtual Machine Specification</cite>.
      @param  protectionDomain
              The ProtectionDomain of the class, or <tt>null</tt>.
      @return  The <tt>Class</tt> object created from the data,
               and optional <tt>ProtectionDomain</tt>.
      @throws  ClassFormatError
               If the data did not contain a valid class.
      @throws  NoClassDefFoundError
               If <tt>name</tt> is not equal to the <a href="#name">binary
               name</a> of the class specified by <tt>b</tt>
      @throws  SecurityException
               If an attempt is made to add this class to a package that
               contains classes that were signed by a different set of
               certificates than this class, or if <tt>name</tt> begins with
               "<tt>java.</tt>".
      @see      #defineClass(String, byte[], int, int, ProtectionDomain)
      @since  1.5</div>
<a id="L827" name="L827"></a> 827     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/13174.html" title="Multiple referred from 14 places.">defineClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.nio.<a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a> b,
<a id="L828" name="L828"></a> 828                                          <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> protectionDomain)
<a id="L829" name="L829"></a> 829         <strong class="reserved">throws</strong> <a href="../S/1742.html#L37" title="Defined at 37 in src/java/lang/ClassFormatError.java.">ClassFormatError</a>
<a id="L830" name="L830"></a> 830     <em class="brace">{</em>
<a id="L831" name="L831"></a> 831         <strong class="reserved">int</strong> len = b.<a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a>();
<a id="L832" name="L832"></a> 832 
<a id="L833" name="L833"></a> 833         <em class="comment">// Use byte[] if not a direct ByteBufer:</em>
<a id="L834" name="L834"></a> 834         <strong class="reserved">if</strong> (!b.<a href="../D/25442.html" title="Multiple defined in 66 places.">isDirect</a>()) <em class="brace">{</em>
<a id="L835" name="L835"></a> 835             <strong class="reserved">if</strong> (b.<a href="../D/24058.html" title="Multiple defined in 8 places.">hasArray</a>()) <em class="brace">{</em>
<a id="L836" name="L836"></a> 836                 <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, b.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>(),
<a id="L837" name="L837"></a> 837                                    b.<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>() + b.<a href="../D/11508.html" title="Multiple defined in 8 places.">arrayOffset</a>(), len,
<a id="L838" name="L838"></a> 838                                    protectionDomain);
<a id="L839" name="L839"></a> 839             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L840" name="L840"></a> 840                 <em class="comment">// no array, or read-only array</em>
<a id="L841" name="L841"></a> 841                 <strong class="reserved">byte</strong>[] tb = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[len];
<a id="L842" name="L842"></a> 842                 b.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(tb);  <em class="comment">// get bytes out of byte buffer.</em>
<a id="L843" name="L843"></a> 843                 <strong class="reserved">return</strong> <a href="../D/14762.html" title="Multiple defined in 8 places.">defineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, tb, 0, len, protectionDomain);
<a id="L844" name="L844"></a> 844             <em class="brace">}</em>
<a id="L845" name="L845"></a> 845         <em class="brace">}</em>
<a id="L846" name="L846"></a> 846 
<a id="L847" name="L847"></a> 847         protectionDomain = <a href="../S/1745.html#L650" title="Defined at 650 in src/java/lang/ClassLoader.java.">preDefineClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, protectionDomain);
<a id="L848" name="L848"></a> 848         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = <a href="../S/1745.html#L670" title="Defined at 670 in src/java/lang/ClassLoader.java.">defineClassSourceLocation</a>(protectionDomain);
<a id="L849" name="L849"></a> 849         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/1745.html#L860" title="Defined at 860 in src/java/lang/ClassLoader.java.">defineClass2</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, b, b.<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>(), len, protectionDomain, <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L850" name="L850"></a> 850         <a href="../S/1745.html#L680" title="Defined at 680 in src/java/lang/ClassLoader.java.">postDefineClass</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, protectionDomain);
<a id="L851" name="L851"></a> 851         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L852" name="L852"></a> 852     <em class="brace">}</em>
<a id="L853" name="L853"></a> 853 
<a id="L854" name="L854"></a> 854     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/1663.html#L642" title="Referred from 642 in src/java/lang/reflect/Proxy.java.">defineClass0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len,
<a id="L855" name="L855"></a> 855                                          <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd);
<a id="L856" name="L856"></a> 856 
<a id="L857" name="L857"></a> 857     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/1745.html#L760" title="Referred from 760 in src/java/lang/ClassLoader.java.">defineClass1</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len,
<a id="L858" name="L858"></a> 858                                          <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L859" name="L859"></a> 859 
<a id="L860" name="L860"></a> 860     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/1745.html#L849" title="Referred from 849 in src/java/lang/ClassLoader.java.">defineClass2</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.nio.<a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a> b,
<a id="L861" name="L861"></a> 861                                          <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len, <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> pd,
<a id="L862" name="L862"></a> 862                                          <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>);
<a id="L863" name="L863"></a> 863 
<a id="L864" name="L864"></a> 864     <em class="comment">// true if the name is null or has the potential to be a valid binary name</em>
<a id="L865" name="L865"></a> 865     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/11253.html" title="Multiple referred from 15 places.">checkName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L866" name="L866"></a> 866         <strong class="reserved">if</strong> ((<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>) || (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0))
<a id="L867" name="L867"></a> 867             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L868" name="L868"></a> 868         <strong class="reserved">if</strong> ((<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('/') != -1)
<a id="L869" name="L869"></a> 869             || (!VM.allowArraySyntax() &amp;&amp; (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '[')))
<a id="L870" name="L870"></a> 870             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L871" name="L871"></a> 871         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L872" name="L872"></a> 872     <em class="brace">}</em>
<a id="L873" name="L873"></a> 873 
<a id="L874" name="L874"></a> 874     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1745.html#L665" title="Referred from 665 in src/java/lang/ClassLoader.java.">checkCerts</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> cs) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875         <strong class="reserved">int</strong> i = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('.');
<a id="L876" name="L876"></a> 876         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pname = (i == -1) ? "" : <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, i);
<a id="L877" name="L877"></a> 877 
<a id="L878" name="L878"></a> 878         <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] certs = <strong class="reserved">null</strong>;
<a id="L879" name="L879"></a> 879         <strong class="reserved">if</strong> (cs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L880" name="L880"></a> 880             certs = cs.<a href="../D/17559.html" title="Multiple defined in 6 places.">getCertificates</a>();
<a id="L881" name="L881"></a> 881         <em class="brace">}</em>
<a id="L882" name="L882"></a> 882         <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] pcerts = <strong class="reserved">null</strong>;
<a id="L883" name="L883"></a> 883         <strong class="reserved">if</strong> (parallelLockMap == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L884" name="L884"></a> 884             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L885" name="L885"></a> 885                 pcerts = package2certs.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(pname);
<a id="L886" name="L886"></a> 886                 <strong class="reserved">if</strong> (pcerts == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L887" name="L887"></a> 887                     package2certs.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(pname, (certs == <strong class="reserved">null</strong>? nocerts:certs));
<a id="L888" name="L888"></a> 888                 <em class="brace">}</em>
<a id="L889" name="L889"></a> 889             <em class="brace">}</em>
<a id="L890" name="L890"></a> 890         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L891" name="L891"></a> 891             pcerts = ((<a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[]&gt;)package2certs).
<a id="L892" name="L892"></a> 892                 <a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(pname, (certs == <strong class="reserved">null</strong>? nocerts:certs));
<a id="L893" name="L893"></a> 893         <em class="brace">}</em>
<a id="L894" name="L894"></a> 894         <strong class="reserved">if</strong> (pcerts != <strong class="reserved">null</strong> &amp;&amp; !<a href="../S/1745.html#L904" title="Defined at 904 in src/java/lang/ClassLoader.java.">compareCerts</a>(pcerts, certs)) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>("class \""+ <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> +
<a id="L896" name="L896"></a> 896                  "\"'s signer information does not match signer information of other classes in the same package");
<a id="L897" name="L897"></a> 897         <em class="brace">}</em>
<a id="L898" name="L898"></a> 898     <em class="brace">}</em>
<a id="L899" name="L899"></a> 899 
<div class="comment">
      check to make sure the certs for the new class (certs) are the same as
      the certs for the first class inserted in the package (pcerts)</div>
<a id="L904" name="L904"></a> 904     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/1745.html#L894" title="Referred from 894 in src/java/lang/ClassLoader.java.">compareCerts</a>(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] pcerts,
<a id="L905" name="L905"></a> 905                                  <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] certs)
<a id="L906" name="L906"></a> 906     <em class="brace">{</em>
<a id="L907" name="L907"></a> 907         <em class="comment">// certs can be null, indicating no certs.</em>
<a id="L908" name="L908"></a> 908         <strong class="reserved">if</strong> ((certs == <strong class="reserved">null</strong>) || (certs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0)) <em class="brace">{</em>
<a id="L909" name="L909"></a> 909             <strong class="reserved">return</strong> pcerts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0;
<a id="L910" name="L910"></a> 910         <em class="brace">}</em>
<a id="L911" name="L911"></a> 911 
<a id="L912" name="L912"></a> 912         <em class="comment">// the length must be the same at this point</em>
<a id="L913" name="L913"></a> 913         <strong class="reserved">if</strong> (certs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != pcerts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L914" name="L914"></a> 914             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L915" name="L915"></a> 915 
<a id="L916" name="L916"></a> 916         <em class="comment">// go through and make sure all the certs in one array</em>
<a id="L917" name="L917"></a> 917         <em class="comment">// are in the other and vice-versa.</em>
<a id="L918" name="L918"></a> 918         <strong class="reserved">boolean</strong> <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>;
<a id="L919" name="L919"></a> 919         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; certs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L920" name="L920"></a> 920             <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a> = <strong class="reserved">false</strong>;
<a id="L921" name="L921"></a> 921             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; pcerts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; j++) <em class="brace">{</em>
<a id="L922" name="L922"></a> 922                 <strong class="reserved">if</strong> (certs[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(pcerts[j])) <em class="brace">{</em>
<a id="L923" name="L923"></a> 923                     <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a> = <strong class="reserved">true</strong>;
<a id="L924" name="L924"></a> 924                     <strong class="reserved">break</strong>;
<a id="L925" name="L925"></a> 925                 <em class="brace">}</em>
<a id="L926" name="L926"></a> 926             <em class="brace">}</em>
<a id="L927" name="L927"></a> 927             <strong class="reserved">if</strong> (!<a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929 
<a id="L930" name="L930"></a> 930         <em class="comment">// now do the same for pcerts</em>
<a id="L931" name="L931"></a> 931         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; pcerts.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L932" name="L932"></a> 932             <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a> = <strong class="reserved">false</strong>;
<a id="L933" name="L933"></a> 933             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; certs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; j++) <em class="brace">{</em>
<a id="L934" name="L934"></a> 934                 <strong class="reserved">if</strong> (pcerts[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(certs[j])) <em class="brace">{</em>
<a id="L935" name="L935"></a> 935                     <a href="../D/27519.html" title="Multiple defined in 69 places.">match</a> = <strong class="reserved">true</strong>;
<a id="L936" name="L936"></a> 936                     <strong class="reserved">break</strong>;
<a id="L937" name="L937"></a> 937                 <em class="brace">}</em>
<a id="L938" name="L938"></a> 938             <em class="brace">}</em>
<a id="L939" name="L939"></a> 939             <strong class="reserved">if</strong> (!<a href="../D/27519.html" title="Multiple defined in 69 places.">match</a>) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L940" name="L940"></a> 940         <em class="brace">}</em>
<a id="L941" name="L941"></a> 941 
<a id="L942" name="L942"></a> 942         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L943" name="L943"></a> 943     <em class="brace">}</em>
<a id="L944" name="L944"></a> 944 
<div class="comment">
      Links the specified class.  This (misleadingly named) method may be
      used by a class loader to link a class.  If the class <tt>c</tt> has
      already been linked, then this method simply returns. Otherwise, the
      class is linked as described in the "Execution" chapter of
      <cite>The Javaâ„¢ Language Specification</cite>.
      @param  c
              The class to link
      @throws  NullPointerException
               If <tt>c</tt> is <tt>null</tt>.
      @see  #defineClass(String, byte[], int, int)</div>
<a id="L960" name="L960"></a> 960     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/26324.html" title="Multiple referred from 6 places.">resolveClass</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961         <a href="../S/1745.html#L964" title="Defined at 964 in src/java/lang/ClassLoader.java.">resolveClass0</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L962" name="L962"></a> 962     <em class="brace">}</em>
<a id="L963" name="L963"></a> 963 
<a id="L964" name="L964"></a> 964     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../S/1745.html#L961" title="Referred from 961 in src/java/lang/ClassLoader.java.">resolveClass0</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L965" name="L965"></a> 965 
<div class="comment">
      Finds a class with the specified <a href="#name">binary name</a>,
      loading it if necessary.
      <p> This method loads the class through the system class loader (see
      {@link #getSystemClassLoader()}).  The <tt>Class</tt> object returned
      might have more than one <tt>ClassLoader</tt> associated with it.
      Subclasses of <tt>ClassLoader</tt> need not usually invoke this method,
      because most class loaders need to override just {@link
      #findClass(String)}.  </p>
      @param  name
              The <a href="#name">binary name</a> of the class
      @return  The <tt>Class</tt> object for the specified <tt>name</tt>
      @throws  ClassNotFoundException
               If the class could not be found
      @see  #ClassLoader(ClassLoader)
      @see  #getParent()</div>
<a id="L988" name="L988"></a> 988     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; findSystemClass(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L989" name="L989"></a> 989         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L990" name="L990"></a> 990     <em class="brace">{</em>
<a id="L991" name="L991"></a> 991         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a> = <a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>();
<a id="L992" name="L992"></a> 992         <strong class="reserved">if</strong> (<a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L993" name="L993"></a> 993             <strong class="reserved">if</strong> (!<a href="../D/12549.html" title="Multiple defined in 5 places.">checkName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))
<a id="L994" name="L994"></a> 994                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L995" name="L995"></a> 995             <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; cls = <a href="../S/1745.html#L1016" title="Defined at 1016 in src/java/lang/ClassLoader.java.">findBootstrapClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L996" name="L996"></a> 996             <strong class="reserved">if</strong> (cls == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L997" name="L997"></a> 997                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L998" name="L998"></a> 998             <em class="brace">}</em>
<a id="L999" name="L999"></a> 999             <strong class="reserved">return</strong> cls;
<a id="L1000" name="L1000"></a>1000         <em class="brace">}</em>
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">return</strong> <a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a>.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1002" name="L1002"></a>1002     <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003 
<div class="comment">
      Returns a class loaded by the bootstrap class loader;
      or return null if not found.</div>
<a id="L1008" name="L1008"></a>1008     <strong class="reserved">private</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/1745.html#L413" title="Referred from 413 in src/java/lang/ClassLoader.java.">findBootstrapClassOrNull</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1009" name="L1009"></a>1009     <em class="brace">{</em>
<a id="L1010" name="L1010"></a>1010         <strong class="reserved">if</strong> (!<a href="../D/12549.html" title="Multiple defined in 5 places.">checkName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1011" name="L1011"></a>1011 
<a id="L1012" name="L1012"></a>1012         <strong class="reserved">return</strong> <a href="../S/1745.html#L1016" title="Defined at 1016 in src/java/lang/ClassLoader.java.">findBootstrapClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1013" name="L1013"></a>1013     <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014 
<a id="L1015" name="L1015"></a>1015     <em class="comment">// return null if not found</em>
<a id="L1016" name="L1016"></a>1016     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/14342.html" title="Multiple referred from 2 places.">findBootstrapClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1017" name="L1017"></a>1017 
<div class="comment">
      Returns the class with the given <a href="#name">binary name</a> if this
      loader has been recorded by the Java virtual machine as an initiating
      loader of a class with that <a href="#name">binary name</a>.  Otherwise
      <tt>null</tt> is returned.
      @param  name
              The <a href="#name">binary name</a> of the class
      @return  The <tt>Class</tt> object, or <tt>null</tt> if the class has
               not been loaded
      @since  1.1</div>
<a id="L1032" name="L1032"></a>1032     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/1745.html#L406" title="Referred from 406 in src/java/lang/ClassLoader.java.">findLoadedClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033         <strong class="reserved">if</strong> (!<a href="../D/12549.html" title="Multiple defined in 5 places.">checkName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1035" name="L1035"></a>1035         <strong class="reserved">return</strong> <a href="../S/1745.html#L1038" title="Defined at 1038 in src/java/lang/ClassLoader.java.">findLoadedClass0</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1036" name="L1036"></a>1036     <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037 
<a id="L1038" name="L1038"></a>1038     <strong class="reserved">private</strong> <strong class="reserved">native</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/1745.html#L1035" title="Referred from 1035 in src/java/lang/ClassLoader.java.">findLoadedClass0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1039" name="L1039"></a>1039 
<div class="comment">
      Sets the signers of a class.  This should be invoked after defining a
      class.
      @param  c
              The <tt>Class</tt> object
      @param  signers
              The signers for the class
      @since  1.1</div>
<a id="L1052" name="L1052"></a>1052     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/28184.html" title="Multiple referred from 2 places.">setSigners</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] signers) <em class="brace">{</em>
<a id="L1053" name="L1053"></a>1053         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/33922.html" title="Multiple defined in 2 places.">setSigners</a>(signers);
<a id="L1054" name="L1054"></a>1054     <em class="brace">}</em>
<a id="L1055" name="L1055"></a>1055 
<a id="L1056" name="L1056"></a>1056 
<a id="L1057" name="L1057"></a>1057     <em class="comment">// -- Resource --</em>
<a id="L1058" name="L1058"></a>1058 
<div class="comment">
      Finds the resource with the given name.  A resource is some data
      (images, audio, text, etc) that can be accessed by class code in a way
      that is independent of the location of the code.
      <p> The name of a resource is a '<tt>/</tt>'-separated path name that
      identifies the resource.
      </p><p> This method will first search the parent class loader for the
      resource; if the parent is <tt>null</tt> the path of the class loader
      built-in to the virtual machine is searched.  That failing, this method
      will invoke {@link #findResource(String)} to find the resource.  </p>
      @apiNote When overriding this method it is recommended that an
      implementation ensures that any delegation is consistent with the {@link
      #getResources(java.lang.String) getResources(String)} method.
      @param  name
              The resource name
      @return  A <tt>URL</tt> object for reading the resource, or
               <tt>null</tt> if the resource could not be found or the invoker
               doesn't have adequate  privileges to get the resource.
      @since  1.1</div>
<a id="L1085" name="L1085"></a>1085     <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/18711.html" title="Multiple referred from 79 places.">getResource</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1086" name="L1086"></a>1086         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url;
<a id="L1087" name="L1087"></a>1087         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1088" name="L1088"></a>1088             url = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1089" name="L1089"></a>1089         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090             url = <a href="../S/1745.html#L1259" title="Defined at 1259 in src/java/lang/ClassLoader.java.">getBootstrapResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1091" name="L1091"></a>1091         <em class="brace">}</em>
<a id="L1092" name="L1092"></a>1092         <strong class="reserved">if</strong> (url == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1093" name="L1093"></a>1093             url = <a href="../D/16229.html" title="Multiple defined in 2 places.">findResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1094" name="L1094"></a>1094         <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095         <strong class="reserved">return</strong> url;
<a id="L1096" name="L1096"></a>1096     <em class="brace">}</em>
<a id="L1097" name="L1097"></a>1097 
<div class="comment">
      Finds all the resources with the given name. A resource is some data
      (images, audio, text, etc) that can be accessed by class code in a way
      that is independent of the location of the code.
      <p>The name of a resource is a <tt>/</tt>-separated path name that
      identifies the resource.
      </p><p> The search order is described in the documentation for {@link
      #getResource(String)}.  </p>
      @apiNote When overriding this method it is recommended that an
      implementation ensures that any delegation is consistent with the {@link
      #getResource(java.lang.String) getResource(String)} method. This should
      ensure that the first element returned by the Enumeration's
      <code>nextElement</code> method is the same resource that the
      <code>getResource(String)</code> method would return.
      @param  name
              The resource name
      @return  An enumeration of {@link java.net.URL <tt>URL</tt>} objects for
               the resource.  If no resources could  be found, the enumeration
               will be empty.  Resources that the class loader doesn't have
               access to will not be in the enumeration.
      @throws  IOException
               If I/O errors occur
      @see  #findResources(String)
      @since  1.2</div>
<a id="L1131" name="L1131"></a>1131     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; <a href="../R/18718.html" title="Multiple referred from 27 places.">getResources</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L1133" name="L1133"></a>1133         <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt;[] tmp = (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt;[]) <strong class="reserved">new</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;?&gt;[2];
<a id="L1134" name="L1134"></a>1134         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1135" name="L1135"></a>1135             tmp[0] = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/22052.html" title="Multiple defined in 11 places.">getResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1136" name="L1136"></a>1136         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1137" name="L1137"></a>1137             tmp[0] = <a href="../S/1745.html#L1268" title="Defined at 1268 in src/java/lang/ClassLoader.java.">getBootstrapResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1138" name="L1138"></a>1138         <em class="brace">}</em>
<a id="L1139" name="L1139"></a>1139         tmp[1] = <a href="../D/16231.html" title="Multiple defined in 2 places.">findResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1140" name="L1140"></a>1140 
<a id="L1141" name="L1141"></a>1141         <strong class="reserved">return</strong> <strong class="reserved">new</strong> CompoundEnumeration&lt;&gt;(tmp);
<a id="L1142" name="L1142"></a>1142     <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143 
<div class="comment">
      Finds the resource with the given name. Class loader implementations
      should override this method to specify where to find resources.
      @param  name
              The resource name
      @return  A <tt>URL</tt> object for reading the resource, or
               <tt>null</tt> if the resource could not be found
      @since  1.2</div>
<a id="L1156" name="L1156"></a>1156     <strong class="reserved">protected</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/14475.html" title="Multiple referred from 2 places.">findResource</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1157" name="L1157"></a>1157         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1158" name="L1158"></a>1158     <em class="brace">}</em>
<a id="L1159" name="L1159"></a>1159 
<div class="comment">
      Returns an enumeration of {@link java.net.URL <tt>URL</tt>} objects
      representing all the resources with the given name. Class loader
      implementations should override this method to specify where to load
      resources from.
      @param  name
              The resource name
      @return  An enumeration of {@link java.net.URL <tt>URL</tt>} objects for
               the resources
      @throws  IOException
               If I/O errors occur
      @since  1.2</div>
<a id="L1177" name="L1177"></a>1177     <strong class="reserved">protected</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; <a href="../R/14477.html" title="Multiple referred from 2 places.">findResources</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L4261" title="Defined at 4261 in src/java/util/Collections.java.">emptyEnumeration</a>();
<a id="L1179" name="L1179"></a>1179     <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180 
<div class="comment">
      Registers the caller as parallel capable.
      The registration succeeds if and only if all of the following
      conditions are met:
      <ol>
      <li> no instance of the caller has been created</li><li> all of the super classes (except class Object) of the caller are
      registered as parallel capable</li>
      </ol>
      <p>Note that once a class loader is registered as parallel capable, there
      is no way to change it back.</p>
      @return  true if the caller is successfully registered as
               parallel capable and false if otherwise.
      @since   1.7</div>
<a id="L1198" name="L1198"></a>1198     @CallerSensitive
<a id="L1199" name="L1199"></a>1199     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/25752.html" title="Multiple referred from 3 places.">registerAsParallelCapable</a>() <em class="brace">{</em>
<a id="L1200" name="L1200"></a>1200         <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt; callerClass =
<a id="L1201" name="L1201"></a>1201             Reflection.getCallerClass().<a href="../S/1722.html#L3400" title="Defined at 3400 in src/java/lang/Class.java.">asSubclass</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<strong class="reserved">class</strong>);
<a id="L1202" name="L1202"></a>1202         <strong class="reserved">return</strong> <a href="../S/1745.html#L193" title="Defined at 193 in src/java/lang/ClassLoader.java.">ParallelLoaders</a>.<a href="../D/30517.html" title="Multiple defined in 40 places.">register</a>(callerClass);
<a id="L1203" name="L1203"></a>1203     <em class="brace">}</em>
<a id="L1204" name="L1204"></a>1204 
<div class="comment">
      Find a resource of the specified name from the search path used to load
      classes.  This method locates the resource through the system class
      loader (see {@link #getSystemClassLoader()}).
      @param  name
              The resource name
      @return  A {@link java.net.URL <tt>URL</tt>} object for reading the
               resource, or <tt>null</tt> if the resource could not be found
      @since  1.1</div>
<a id="L1218" name="L1218"></a>1218     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/19329.html" title="Multiple referred from 7 places.">getSystemResource</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1219" name="L1219"></a>1219         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a> = <a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>();
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">if</strong> (<a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1221" name="L1221"></a>1221             <strong class="reserved">return</strong> <a href="../S/1745.html#L1259" title="Defined at 1259 in src/java/lang/ClassLoader.java.">getBootstrapResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1222" name="L1222"></a>1222         <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223         <strong class="reserved">return</strong> <a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a>.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1224" name="L1224"></a>1224     <em class="brace">}</em>
<a id="L1225" name="L1225"></a>1225 
<div class="comment">
      Finds all resources of the specified name from the search path used to
      load classes.  The resources thus found are returned as an
      {@link java.util.Enumeration <tt>Enumeration</tt>} of {@link
      java.net.URL <tt>URL</tt>} objects.
      <p> The search order is described in the documentation for {@link
      #getSystemResource(String)}.  </p>
      @param  name
              The resource name
      @return  An enumeration of resource {@link java.net.URL <tt>URL</tt>}
               objects
      @throws  IOException
               If I/O errors occur
      @since  1.2</div>
<a id="L1246" name="L1246"></a>1246     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; <a href="../R/19331.html" title="Multiple referred from 4 places.">getSystemResources</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1247" name="L1247"></a>1247         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1248" name="L1248"></a>1248     <em class="brace">{</em>
<a id="L1249" name="L1249"></a>1249         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a> = <a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>();
<a id="L1250" name="L1250"></a>1250         <strong class="reserved">if</strong> (<a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1251" name="L1251"></a>1251             <strong class="reserved">return</strong> <a href="../S/1745.html#L1268" title="Defined at 1268 in src/java/lang/ClassLoader.java.">getBootstrapResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1252" name="L1252"></a>1252         <em class="brace">}</em>
<a id="L1253" name="L1253"></a>1253         <strong class="reserved">return</strong> <a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a>.<a href="../D/22052.html" title="Multiple defined in 11 places.">getResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1254" name="L1254"></a>1254     <em class="brace">}</em>
<a id="L1255" name="L1255"></a>1255 
<div class="comment">
      Find resources from the VM's built-in classloader.</div>
<a id="L1259" name="L1259"></a>1259     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/15302.html" title="Multiple referred from 2 places.">getBootstrapResource</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1260" name="L1260"></a>1260         URLClassPath ucp = <a href="../S/1745.html#L1284" title="Defined at 1284 in src/java/lang/ClassLoader.java.">getBootstrapClassPath</a>();
<a id="L1261" name="L1261"></a>1261         <a href="../S/3651.html#L55" title="Defined at 55 in src/javax/annotation/Resource.java.">Resource</a> res = ucp.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1262" name="L1262"></a>1262         <strong class="reserved">return</strong> res != <strong class="reserved">null</strong> ? res.<a href="../D/23378.html" title="Multiple defined in 11 places.">getURL</a>() : <strong class="reserved">null</strong>;
<a id="L1263" name="L1263"></a>1263     <em class="brace">}</em>
<a id="L1264" name="L1264"></a>1264 
<div class="comment">
      Find resources from the VM's built-in classloader.</div>
<a id="L1268" name="L1268"></a>1268     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; <a href="../R/15303.html" title="Multiple referred from 2 places.">getBootstrapResources</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)
<a id="L1269" name="L1269"></a>1269         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1270" name="L1270"></a>1270     <em class="brace">{</em>
<a id="L1271" name="L1271"></a>1271         <strong class="reserved">final</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/3651.html#L55" title="Defined at 55 in src/javax/annotation/Resource.java.">Resource</a>&gt; e =
<a id="L1272" name="L1272"></a>1272             <a href="../S/1745.html#L1284" title="Defined at 1284 in src/java/lang/ClassLoader.java.">getBootstrapClassPath</a>().<a href="../D/22052.html" title="Multiple defined in 11 places.">getResources</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1273" name="L1273"></a>1273         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a>&gt; () <em class="brace">{</em>
<a id="L1274" name="L1274"></a>1274             <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>() <em class="brace">{</em>
<a id="L1275" name="L1275"></a>1275                 <strong class="reserved">return</strong> e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>().<a href="../D/23378.html" title="Multiple defined in 11 places.">getURL</a>();
<a id="L1276" name="L1276"></a>1276             <em class="brace">}</em>
<a id="L1277" name="L1277"></a>1277             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() <em class="brace">{</em>
<a id="L1278" name="L1278"></a>1278                 <strong class="reserved">return</strong> e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>();
<a id="L1279" name="L1279"></a>1279             <em class="brace">}</em>
<a id="L1280" name="L1280"></a>1280         <em class="brace">}</em>;
<a id="L1281" name="L1281"></a>1281     <em class="brace">}</em>
<a id="L1282" name="L1282"></a>1282 
<a id="L1283" name="L1283"></a>1283     <em class="comment">// Returns the URLClassPath that is used for finding system resources.</em>
<a id="L1284" name="L1284"></a>1284     <strong class="reserved">static</strong> URLClassPath <a href="../R/15300.html" title="Multiple referred from 3 places.">getBootstrapClassPath</a>() <em class="brace">{</em>
<a id="L1285" name="L1285"></a>1285         <strong class="reserved">return</strong> sun.misc.Launcher.<a href="../S/1745.html#L1284" title="Defined at 1284 in src/java/lang/ClassLoader.java.">getBootstrapClassPath</a>();
<a id="L1286" name="L1286"></a>1286     <em class="brace">}</em>
<a id="L1287" name="L1287"></a>1287 
<a id="L1288" name="L1288"></a>1288 
<div class="comment">
      Returns an input stream for reading the specified resource.
      <p> The search order is described in the documentation for {@link
      #getResource(String)}.  </p>
      @param  name
              The resource name
      @return  An input stream for reading the resource, or <tt>null</tt>
               if the resource could not be found
      @since  1.1</div>
<a id="L1303" name="L1303"></a>1303     <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/18712.html" title="Multiple referred from 70 places.">getResourceAsStream</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1305" name="L1305"></a>1305         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1306" name="L1306"></a>1306             <strong class="reserved">return</strong> url != <strong class="reserved">null</strong> ? url.<a href="../S/768.html#L1037" title="Defined at 1037 in src/java/net/URL.java.">openStream</a>() : <strong class="reserved">null</strong>;
<a id="L1307" name="L1307"></a>1307         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L1308" name="L1308"></a>1308             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1309" name="L1309"></a>1309         <em class="brace">}</em>
<a id="L1310" name="L1310"></a>1310     <em class="brace">}</em>
<a id="L1311" name="L1311"></a>1311 
<div class="comment">
      Open for reading, a resource of the specified name from the search path
      used to load classes.  This method locates the resource through the
      system class loader (see {@link #getSystemClassLoader()}).
      @param  name
              The resource name
      @return  An input stream for reading the resource, or <tt>null</tt>
               if the resource could not be found
      @since  1.1</div>
<a id="L1325" name="L1325"></a>1325     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/19330.html" title="Multiple referred from 11 places.">getSystemResourceAsStream</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1326" name="L1326"></a>1326         <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = <a href="../S/1745.html#L1218" title="Defined at 1218 in src/java/lang/ClassLoader.java.">getSystemResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1327" name="L1327"></a>1327         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1328" name="L1328"></a>1328             <strong class="reserved">return</strong> url != <strong class="reserved">null</strong> ? url.<a href="../S/768.html#L1037" title="Defined at 1037 in src/java/net/URL.java.">openStream</a>() : <strong class="reserved">null</strong>;
<a id="L1329" name="L1329"></a>1329         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L1330" name="L1330"></a>1330             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1331" name="L1331"></a>1331         <em class="brace">}</em>
<a id="L1332" name="L1332"></a>1332     <em class="brace">}</em>
<a id="L1333" name="L1333"></a>1333 
<a id="L1334" name="L1334"></a>1334 
<a id="L1335" name="L1335"></a>1335     <em class="comment">// -- Hierarchy --</em>
<a id="L1336" name="L1336"></a>1336 
<div class="comment">
      Returns the parent class loader for delegation. Some implementations may
      use <tt>null</tt> to represent the bootstrap class loader. This method
      will return <tt>null</tt> in such implementations if this class loader's
      parent is the bootstrap class loader.
      <p> If a security manager is present, and the invoker's class loader is
      not <tt>null</tt> and is not an ancestor of this class loader, then this
      method invokes the security manager's {@link
      SecurityManager#checkPermission(java.security.Permission)
      <tt>checkPermission</tt>} method with a {@link
      RuntimePermission#RuntimePermission(String)
      <tt>RuntimePermission("getClassLoader")</tt>} permission to verify
      access to the parent class loader is permitted.  If not, a
      <tt>SecurityException</tt> will be thrown.  </p>
      @return  The parent <tt>ClassLoader</tt>
      @throws  SecurityException
               If a security manager exists and its <tt>checkPermission</tt>
               method doesn't allow access to this class loader's parent class
               loader.
      @since  1.2</div>
<a id="L1362" name="L1362"></a>1362     @CallerSensitive
<a id="L1363" name="L1363"></a>1363     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/18269.html" title="Multiple referred from 606 places.">getParent</a>() <em class="brace">{</em>
<a id="L1364" name="L1364"></a>1364         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>)
<a id="L1365" name="L1365"></a>1365             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1366" name="L1366"></a>1366         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1367" name="L1367"></a>1367         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1368" name="L1368"></a>1368             <em class="comment">// Check access to the parent class loader</em>
<a id="L1369" name="L1369"></a>1369             <em class="comment">// If the caller's class loader is same as this class loader,</em>
<a id="L1370" name="L1370"></a>1370             <em class="comment">// permission check is performed.</em>
<a id="L1371" name="L1371"></a>1371             <a href="../S/1745.html#L1519" title="Defined at 1519 in src/java/lang/ClassLoader.java.">checkClassLoaderPermission</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, Reflection.getCallerClass());
<a id="L1372" name="L1372"></a>1372         <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373         <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1374" name="L1374"></a>1374     <em class="brace">}</em>
<a id="L1375" name="L1375"></a>1375 
<div class="comment">
      Returns the system class loader for delegation.  This is the default
      delegation parent for new <tt>ClassLoader</tt> instances, and is
      typically the class loader used to start the application.
      <p> This method is first invoked early in the runtime's startup
      sequence, at which point it creates the system class loader and sets it
      as the context class loader of the invoking <tt>Thread</tt>.
      </p><p> The default system class loader is an implementation-dependent
      instance of this class.
      </p><p> If the system property "<tt>java.system.class.loader</tt>" is defined
      when this method is first invoked then the value of that property is
      taken to be the name of a class that will be returned as the system
      class loader.  The class is loaded using the default system class loader
      and must define a public constructor that takes a single parameter of
      type <tt>ClassLoader</tt> which is used as the delegation parent.  An
      instance is then created using this constructor with the default system
      class loader as the parameter.  The resulting class loader is defined
      to be the system class loader.
      </p><p> If a security manager is present, and the invoker's class loader is
      not <tt>null</tt> and the invoker's class loader is not the same as or
      an ancestor of the system class loader, then this method invokes the
      security manager's {@link
      SecurityManager#checkPermission(java.security.Permission)
      <tt>checkPermission</tt>} method with a {@link
      RuntimePermission#RuntimePermission(String)
      <tt>RuntimePermission("getClassLoader")</tt>} permission to verify
      access to the system class loader.  If not, a
      <tt>SecurityException</tt> will be thrown.  </p>
      @return  The system <tt>ClassLoader</tt> for delegation, or
               <tt>null</tt> if none
      @throws  SecurityException
               If a security manager exists and its <tt>checkPermission</tt>
               method doesn't allow access to the system class loader.
      @throws  IllegalStateException
               If invoked recursively during the construction of the class
               loader specified by the "<tt>java.system.class.loader</tt>"
               property.
      @throws  Error
               If the system property "<tt>java.system.class.loader</tt>"
               is defined but the named class could not be loaded, the
               provider class does not define the required constructor, or an
               exception is thrown by that constructor when it is invoked. The
               underlying cause of the error can be retrieved via the
               {@link Throwable#getCause()} method.
      @revised  1.4</div>
<a id="L1431" name="L1431"></a>1431     @CallerSensitive
<a id="L1432" name="L1432"></a>1432     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/19307.html" title="Multiple referred from 92 places.">getSystemClassLoader</a>() <em class="brace">{</em>
<a id="L1433" name="L1433"></a>1433         <a href="../S/1745.html#L1444" title="Defined at 1444 in src/java/lang/ClassLoader.java.">initSystemClassLoader</a>();
<a id="L1434" name="L1434"></a>1434         <strong class="reserved">if</strong> (scl == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1435" name="L1435"></a>1435             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1436" name="L1436"></a>1436         <em class="brace">}</em>
<a id="L1437" name="L1437"></a>1437         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1438" name="L1438"></a>1438         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1439" name="L1439"></a>1439             <a href="../S/1745.html#L1519" title="Defined at 1519 in src/java/lang/ClassLoader.java.">checkClassLoaderPermission</a>(scl, Reflection.getCallerClass());
<a id="L1440" name="L1440"></a>1440         <em class="brace">}</em>
<a id="L1441" name="L1441"></a>1441         <strong class="reserved">return</strong> scl;
<a id="L1442" name="L1442"></a>1442     <em class="brace">}</em>
<a id="L1443" name="L1443"></a>1443 
<a id="L1444" name="L1444"></a>1444     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../S/1745.html#L1433" title="Referred from 1433 in src/java/lang/ClassLoader.java.">initSystemClassLoader</a>() <em class="brace">{</em>
<a id="L1445" name="L1445"></a>1445         <strong class="reserved">if</strong> (!sclSet) <em class="brace">{</em>
<a id="L1446" name="L1446"></a>1446             <strong class="reserved">if</strong> (scl != <strong class="reserved">null</strong>)
<a id="L1447" name="L1447"></a>1447                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("recursive invocation");
<a id="L1448" name="L1448"></a>1448             sun.misc.Launcher l = sun.misc.Launcher.getLauncher();
<a id="L1449" name="L1449"></a>1449             <strong class="reserved">if</strong> (l != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1450" name="L1450"></a>1450                 <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> oops = <strong class="reserved">null</strong>;
<a id="L1451" name="L1451"></a>1451                 scl = l.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L1452" name="L1452"></a>1452                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1453" name="L1453"></a>1453                     scl = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L1454" name="L1454"></a>1454                         <strong class="reserved">new</strong> <a href="../S/1745.html#L2192" title="Defined at 2192 in src/java/lang/ClassLoader.java.">SystemClassLoaderAction</a>(scl));
<a id="L1455" name="L1455"></a>1455                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> pae) <em class="brace">{</em>
<a id="L1456" name="L1456"></a>1456                     oops = pae.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L1457" name="L1457"></a>1457                     <strong class="reserved">if</strong> (oops <strong class="reserved">instanceof</strong> <a href="../S/1671.html#L42" title="Defined at 42 in src/java/lang/reflect/InvocationTargetException.java.">InvocationTargetException</a>) <em class="brace">{</em>
<a id="L1458" name="L1458"></a>1458                         oops = oops.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L1459" name="L1459"></a>1459                     <em class="brace">}</em>
<a id="L1460" name="L1460"></a>1460                 <em class="brace">}</em>
<a id="L1461" name="L1461"></a>1461                 <strong class="reserved">if</strong> (oops != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1462" name="L1462"></a>1462                     <strong class="reserved">if</strong> (oops <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) <em class="brace">{</em>
<a id="L1463" name="L1463"></a>1463                         <strong class="reserved">throw</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) oops;
<a id="L1464" name="L1464"></a>1464                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1465" name="L1465"></a>1465                         <em class="comment">// wrap the exception</em>
<a id="L1466" name="L1466"></a>1466                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>(oops);
<a id="L1467" name="L1467"></a>1467                     <em class="brace">}</em>
<a id="L1468" name="L1468"></a>1468                 <em class="brace">}</em>
<a id="L1469" name="L1469"></a>1469             <em class="brace">}</em>
<a id="L1470" name="L1470"></a>1470             sclSet = <strong class="reserved">true</strong>;
<a id="L1471" name="L1471"></a>1471         <em class="brace">}</em>
<a id="L1472" name="L1472"></a>1472     <em class="brace">}</em>
<a id="L1473" name="L1473"></a>1473 
<a id="L1474" name="L1474"></a>1474     <em class="comment">// Returns true if the specified class loader can be found in this class</em>
<a id="L1475" name="L1475"></a>1475     <em class="comment">// loader's delegation chain.</em>
<a id="L1476" name="L1476"></a>1476     <strong class="reserved">boolean</strong> <a href="../R/21161.html" title="Multiple referred from 7 places.">isAncestor</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl) <em class="brace">{</em>
<a id="L1477" name="L1477"></a>1477         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> acl = <strong class="reserved">this</strong>;
<a id="L1478" name="L1478"></a>1478         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L1479" name="L1479"></a>1479             acl = acl.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1480" name="L1480"></a>1480             <strong class="reserved">if</strong> (cl == acl) <em class="brace">{</em>
<a id="L1481" name="L1481"></a>1481                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1482" name="L1482"></a>1482             <em class="brace">}</em>
<a id="L1483" name="L1483"></a>1483         <em class="brace">}</em> <strong class="reserved">while</strong> (acl != <strong class="reserved">null</strong>);
<a id="L1484" name="L1484"></a>1484         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1485" name="L1485"></a>1485     <em class="brace">}</em>
<a id="L1486" name="L1486"></a>1486 
<a id="L1487" name="L1487"></a>1487     <em class="comment">// Tests if class loader access requires "getClassLoader" permission</em>
<a id="L1488" name="L1488"></a>1488     <em class="comment">// check.  A class loader 'from' can access class loader 'to' if</em>
<a id="L1489" name="L1489"></a>1489     <em class="comment">// class loader 'from' is same as class loader 'to' or an ancestor</em>
<a id="L1490" name="L1490"></a>1490     <em class="comment">// of 'to'.  The class loader in a system domain can access</em>
<a id="L1491" name="L1491"></a>1491     <em class="comment">// any class loader.</em>
<a id="L1492" name="L1492"></a>1492     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/1745.html#L1524" title="Referred from 1524 in src/java/lang/ClassLoader.java.">needsClassLoaderPermissionCheck</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>,
<a id="L1493" name="L1493"></a>1493                                                            <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>)
<a id="L1494" name="L1494"></a>1494     <em class="brace">{</em>
<a id="L1495" name="L1495"></a>1495         <strong class="reserved">if</strong> (<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a> == <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>)
<a id="L1496" name="L1496"></a>1496             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1497" name="L1497"></a>1497 
<a id="L1498" name="L1498"></a>1498         <strong class="reserved">if</strong> (<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a> == <strong class="reserved">null</strong>)
<a id="L1499" name="L1499"></a>1499             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1500" name="L1500"></a>1500 
<a id="L1501" name="L1501"></a>1501         <strong class="reserved">return</strong> !<a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>.<a href="../D/25187.html" title="Multiple defined in 5 places.">isAncestor</a>(<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>);
<a id="L1502" name="L1502"></a>1502     <em class="brace">}</em>
<a id="L1503" name="L1503"></a>1503 
<a id="L1504" name="L1504"></a>1504     <em class="comment">// Returns the class's class loader, or null if none.</em>
<a id="L1505" name="L1505"></a>1505     <strong class="reserved">static</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/15589.html" title="Multiple referred from 228 places.">getClassLoader</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; caller) <em class="brace">{</em>
<a id="L1506" name="L1506"></a>1506         <em class="comment">// This can be null if the VM is requesting it</em>
<a id="L1507" name="L1507"></a>1507         <strong class="reserved">if</strong> (caller == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1508" name="L1508"></a>1508             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1509" name="L1509"></a>1509         <em class="brace">}</em>
<a id="L1510" name="L1510"></a>1510         <em class="comment">// Circumvent security check since this is package-private</em>
<a id="L1511" name="L1511"></a>1511         <strong class="reserved">return</strong> caller.<a href="../S/1722.html#L689" title="Defined at 689 in src/java/lang/Class.java.">getClassLoader0</a>();
<a id="L1512" name="L1512"></a>1512     <em class="brace">}</em>
<a id="L1513" name="L1513"></a>1513 
<div class="comment">
      Checks RuntimePermission("getClassLoader") permission
      if caller's class loader is not null and caller's class loader
      is not the same as or an ancestor of the given cl argument.</div>
<a id="L1519" name="L1519"></a>1519     <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/11111.html" title="Multiple referred from 4 places.">checkClassLoaderPermission</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; caller) <em class="brace">{</em>
<a id="L1520" name="L1520"></a>1520         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1521" name="L1521"></a>1521         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1522" name="L1522"></a>1522             <em class="comment">// caller can be null if the VM is requesting it</em>
<a id="L1523" name="L1523"></a>1523             <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> ccl = <a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>(caller);
<a id="L1524" name="L1524"></a>1524             <strong class="reserved">if</strong> (<a href="../S/1745.html#L1492" title="Defined at 1492 in src/java/lang/ClassLoader.java.">needsClassLoaderPermissionCheck</a>(ccl, cl)) <em class="brace">{</em>
<a id="L1525" name="L1525"></a>1525                 sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(SecurityConstants.GET_CLASSLOADER_PERMISSION);
<a id="L1526" name="L1526"></a>1526             <em class="brace">}</em>
<a id="L1527" name="L1527"></a>1527         <em class="brace">}</em>
<a id="L1528" name="L1528"></a>1528     <em class="brace">}</em>
<a id="L1529" name="L1529"></a>1529 
<a id="L1530" name="L1530"></a>1530     <em class="comment">// The class loader for the system</em>
<a id="L1531" name="L1531"></a>1531     <em class="comment">// @GuardedBy("ClassLoader.class")</em>
<a id="L1532" name="L1532"></a>1532     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> scl;
<a id="L1533" name="L1533"></a>1533 
<a id="L1534" name="L1534"></a>1534     <em class="comment">// Set to true once the system class loader has been set</em>
<a id="L1535" name="L1535"></a>1535     <em class="comment">// @GuardedBy("ClassLoader.class")</em>
<a id="L1536" name="L1536"></a>1536     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> sclSet;
<a id="L1537" name="L1537"></a>1537 
<a id="L1538" name="L1538"></a>1538 
<a id="L1539" name="L1539"></a>1539     <em class="comment">// -- Package --</em>
<a id="L1540" name="L1540"></a>1540 
<div class="comment">
      Defines a package by name in this <tt>ClassLoader</tt>.  This allows
      class loaders to define the packages for their classes. Packages must
      be created before the class is defined, and package names must be
      unique within a class loader and cannot be redefined or changed once
      created.
      @param  name
              The package name
      @param  specTitle
              The specification title
      @param  specVersion
              The specification version
      @param  specVendor
              The specification vendor
      @param  implTitle
              The implementation title
      @param  implVersion
              The implementation version
      @param  implVendor
              The implementation vendor
      @param  sealBase
              If not <tt>null</tt>, then this package is sealed with
              respect to the given code source {@link java.net.URL
              <tt>URL</tt>}  object.  Otherwise, the package is not sealed.
      @return  The newly defined <tt>Package</tt> object
      @throws  IllegalArgumentException
               If package name duplicates an existing package either in this
               class loader or one of its ancestors
      @since  1.2</div>
<a id="L1582" name="L1582"></a>1582     <strong class="reserved">protected</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> <a href="../R/13181.html" title="Multiple referred from 3 places.">definePackage</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> specTitle,
<a id="L1583" name="L1583"></a>1583                                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> specVersion, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> specVendor,
<a id="L1584" name="L1584"></a>1584                                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> implTitle, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> implVersion,
<a id="L1585" name="L1585"></a>1585                                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> implVendor, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> sealBase)
<a id="L1586" name="L1586"></a>1586         <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>
<a id="L1587" name="L1587"></a>1587     <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588         <strong class="reserved">synchronized</strong> (packages) <em class="brace">{</em>
<a id="L1589" name="L1589"></a>1589             <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> pkg = <a href="../D/21318.html" title="Multiple defined in 4 places.">getPackage</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1590" name="L1590"></a>1590             <strong class="reserved">if</strong> (pkg != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1591" name="L1591"></a>1591                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1592" name="L1592"></a>1592             <em class="brace">}</em>
<a id="L1593" name="L1593"></a>1593             pkg = <strong class="reserved">new</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, specTitle, specVersion, specVendor,
<a id="L1594" name="L1594"></a>1594                               implTitle, implVersion, implVendor,
<a id="L1595" name="L1595"></a>1595                               sealBase, <strong class="reserved">this</strong>);
<a id="L1596" name="L1596"></a>1596             packages.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, pkg);
<a id="L1597" name="L1597"></a>1597             <strong class="reserved">return</strong> pkg;
<a id="L1598" name="L1598"></a>1598         <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599     <em class="brace">}</em>
<a id="L1600" name="L1600"></a>1600 
<div class="comment">
      Returns a <tt>Package</tt> that has been defined by this class loader
      or any of its ancestors.
      @param  name
              The package name
      @return  The <tt>Package</tt> corresponding to the given name, or
               <tt>null</tt> if not found
      @since  1.2</div>
<a id="L1613" name="L1613"></a>1613     <strong class="reserved">protected</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> <a href="../R/18220.html" title="Multiple referred from 38 places.">getPackage</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1614" name="L1614"></a>1614         <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> pkg;
<a id="L1615" name="L1615"></a>1615         <strong class="reserved">synchronized</strong> (packages) <em class="brace">{</em>
<a id="L1616" name="L1616"></a>1616             pkg = packages.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1617" name="L1617"></a>1617         <em class="brace">}</em>
<a id="L1618" name="L1618"></a>1618         <strong class="reserved">if</strong> (pkg == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1619" name="L1619"></a>1619             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1620" name="L1620"></a>1620                 pkg = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/21318.html" title="Multiple defined in 4 places.">getPackage</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1621" name="L1621"></a>1621             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1622" name="L1622"></a>1622                 pkg = <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>.<a href="../S/1680.html#L539" title="Defined at 539 in src/java/lang/Package.java.">getSystemPackage</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1623" name="L1623"></a>1623             <em class="brace">}</em>
<a id="L1624" name="L1624"></a>1624             <strong class="reserved">if</strong> (pkg != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1625" name="L1625"></a>1625                 <strong class="reserved">synchronized</strong> (packages) <em class="brace">{</em>
<a id="L1626" name="L1626"></a>1626                     <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a> pkg2 = packages.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1627" name="L1627"></a>1627                     <strong class="reserved">if</strong> (pkg2 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1628" name="L1628"></a>1628                         packages.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, pkg);
<a id="L1629" name="L1629"></a>1629                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1630" name="L1630"></a>1630                         pkg = pkg2;
<a id="L1631" name="L1631"></a>1631                     <em class="brace">}</em>
<a id="L1632" name="L1632"></a>1632                 <em class="brace">}</em>
<a id="L1633" name="L1633"></a>1633             <em class="brace">}</em>
<a id="L1634" name="L1634"></a>1634         <em class="brace">}</em>
<a id="L1635" name="L1635"></a>1635         <strong class="reserved">return</strong> pkg;
<a id="L1636" name="L1636"></a>1636     <em class="brace">}</em>
<a id="L1637" name="L1637"></a>1637 
<div class="comment">
      Returns all of the <tt>Packages</tt> defined by this class loader and
      its ancestors.
      @return  The array of <tt>Package</tt> objects defined by this
               <tt>ClassLoader</tt>
      @since  1.2</div>
<a id="L1647" name="L1647"></a>1647     <strong class="reserved">protected</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>[] <a href="../R/18224.html" title="Multiple referred from 6 places.">getPackages</a>() <em class="brace">{</em>
<a id="L1648" name="L1648"></a>1648         <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>&gt; <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1649" name="L1649"></a>1649         <strong class="reserved">synchronized</strong> (packages) <em class="brace">{</em>
<a id="L1650" name="L1650"></a>1650             <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;(packages);
<a id="L1651" name="L1651"></a>1651         <em class="brace">}</em>
<a id="L1652" name="L1652"></a>1652         <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>[] pkgs;
<a id="L1653" name="L1653"></a>1653         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1654" name="L1654"></a>1654             pkgs = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/21324.html" title="Multiple defined in 3 places.">getPackages</a>();
<a id="L1655" name="L1655"></a>1655         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1656" name="L1656"></a>1656             pkgs = <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>.<a href="../S/1680.html#L556" title="Defined at 556 in src/java/lang/Package.java.">getSystemPackages</a>();
<a id="L1657" name="L1657"></a>1657         <em class="brace">}</em>
<a id="L1658" name="L1658"></a>1658         <strong class="reserved">if</strong> (pkgs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1659" name="L1659"></a>1659             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; pkgs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1660" name="L1660"></a>1660                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pkgName = pkgs[i].<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L1661" name="L1661"></a>1661                 <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(pkgName) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1662" name="L1662"></a>1662                     <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(pkgName, pkgs[i]);
<a id="L1663" name="L1663"></a>1663                 <em class="brace">}</em>
<a id="L1664" name="L1664"></a>1664             <em class="brace">}</em>
<a id="L1665" name="L1665"></a>1665         <em class="brace">}</em>
<a id="L1666" name="L1666"></a>1666         <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>().<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/1680.html#L111" title="Defined at 111 in src/java/lang/Package.java.">Package</a>[<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L1667" name="L1667"></a>1667     <em class="brace">}</em>
<a id="L1668" name="L1668"></a>1668 
<a id="L1669" name="L1669"></a>1669 
<a id="L1670" name="L1670"></a>1670     <em class="comment">// -- Native library access --</em>
<a id="L1671" name="L1671"></a>1671 
<div class="comment">
      Returns the absolute path name of a native library.  The VM invokes this
      method to locate the native libraries that belong to classes loaded with
      this class loader. If this method returns <tt>null</tt>, the VM
      searches the library along the path specified as the
      "<tt>java.library.path</tt>" property.
      @param  libname
              The library name
      @return  The absolute path of the native library
      @see  System#loadLibrary(String)
      @see  System#mapLibraryName(String)
      @since  1.2</div>
<a id="L1689" name="L1689"></a>1689     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1745.html#L1827" title="Referred from 1827 in src/java/lang/ClassLoader.java.">findLibrary</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> libname) <em class="brace">{</em>
<a id="L1690" name="L1690"></a>1690         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1691" name="L1691"></a>1691     <em class="brace">}</em>
<a id="L1692" name="L1692"></a>1692 
<div class="comment">
      The inner class NativeLibrary denotes a loaded native library instance.
      Every classloader contains a vector of loaded native libraries in the
      private field <tt>nativeLibraries</tt>.  The native libraries loaded
      into the system are entered into the <tt>systemNativeLibraries</tt>
      vector.
      <p> Every native library requires a particular version of JNI. This is
      denoted by the private <tt>jniVersion</tt> field.  This field is set by
      the VM when it loads the library, and used by the VM to pass the correct
      version of JNI to the native methods.  </p>
      @see      ClassLoader
      @since    1.2</div>
<a id="L1708" name="L1708"></a>1708     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5481.html" title="Multiple referred from 9 places.">NativeLibrary</a> <em class="brace">{</em>
<a id="L1709" name="L1709"></a>1709         <em class="comment">// opaque handle to native library, used in native code.</em>
<a id="L1710" name="L1710"></a>1710         <strong class="reserved">long</strong> <a href="../D/23942.html" title="Multiple defined in 13 places.">handle</a>;
<a id="L1711" name="L1711"></a>1711         <em class="comment">// the version of JNI environment the native library requires.</em>
<a id="L1712" name="L1712"></a>1712         <strong class="reserved">private</strong> <strong class="reserved">int</strong> jniVersion;
<a id="L1713" name="L1713"></a>1713         <em class="comment">// the class from which the library is loaded, also indicates</em>
<a id="L1714" name="L1714"></a>1714         <em class="comment">// the loader this native library belongs.</em>
<a id="L1715" name="L1715"></a>1715         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; fromClass;
<a id="L1716" name="L1716"></a>1716         <em class="comment">// the canonicalized name of the native library.</em>
<a id="L1717" name="L1717"></a>1717         <em class="comment">// or static library name</em>
<a id="L1718" name="L1718"></a>1718         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L1719" name="L1719"></a>1719         <em class="comment">// Indicates if the native library is linked into the VM</em>
<a id="L1720" name="L1720"></a>1720         <strong class="reserved">boolean</strong> isBuiltin;
<a id="L1721" name="L1721"></a>1721         <em class="comment">// Indicates if the native library is loaded</em>
<a id="L1722" name="L1722"></a>1722         <strong class="reserved">boolean</strong> loaded;
<a id="L1723" name="L1723"></a>1723         <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/22543.html" title="Multiple referred from 196 places.">load</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">boolean</strong> isBuiltin);
<a id="L1724" name="L1724"></a>1724 
<a id="L1725" name="L1725"></a>1725         <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/14339.html" title="Multiple referred from 69 places.">find</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1726" name="L1726"></a>1726         <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../S/1745.html#L1748" title="Referred from 1748 in src/java/lang/ClassLoader.java.">unload</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">boolean</strong> isBuiltin);
<a id="L1727" name="L1727"></a>1727 
<a id="L1728" name="L1728"></a>1728         <strong class="reserved">public</strong> NativeLibrary(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; fromClass, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">boolean</strong> isBuiltin) <em class="brace">{</em>
<a id="L1729" name="L1729"></a>1729             <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L1730" name="L1730"></a>1730             <strong class="reserved">this</strong>.fromClass = fromClass;
<a id="L1731" name="L1731"></a>1731             <strong class="reserved">this</strong>.isBuiltin = isBuiltin;
<a id="L1732" name="L1732"></a>1732         <em class="brace">}</em>
<a id="L1733" name="L1733"></a>1733 
<a id="L1734" name="L1734"></a>1734         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <em class="brace">{</em>
<a id="L1735" name="L1735"></a>1735             <strong class="reserved">synchronized</strong> (loadedLibraryNames) <em class="brace">{</em>
<a id="L1736" name="L1736"></a>1736                 <strong class="reserved">if</strong> (fromClass.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>() != <strong class="reserved">null</strong> &amp;&amp; loaded) <em class="brace">{</em>
<div class="comment">
                     /* remove the native library name */</div>
<a id="L1738" name="L1738"></a>1738                     <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = loadedLibraryNames.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1739" name="L1739"></a>1739                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1740" name="L1740"></a>1740                         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(loadedLibraryNames.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i))) <em class="brace">{</em>
<a id="L1741" name="L1741"></a>1741                             loadedLibraryNames.<a href="../D/30775.html" title="Multiple defined in 12 places.">removeElementAt</a>(i);
<a id="L1742" name="L1742"></a>1742                             <strong class="reserved">break</strong>;
<a id="L1743" name="L1743"></a>1743                         <em class="brace">}</em>
<a id="L1744" name="L1744"></a>1744                     <em class="brace">}</em>
<div class="comment">
                     /* unload the library. */</div>
<a id="L1746" name="L1746"></a>1746                     <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.nativeLibraryContext.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">this</strong>);
<a id="L1747" name="L1747"></a>1747                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1748" name="L1748"></a>1748                         <a href="../D/35910.html" title="Multiple defined in 2 places.">unload</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, isBuiltin);
<a id="L1749" name="L1749"></a>1749                     <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1750" name="L1750"></a>1750                         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.nativeLibraryContext.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L1751" name="L1751"></a>1751                     <em class="brace">}</em>
<a id="L1752" name="L1752"></a>1752                 <em class="brace">}</em>
<a id="L1753" name="L1753"></a>1753             <em class="brace">}</em>
<a id="L1754" name="L1754"></a>1754         <em class="brace">}</em>
<a id="L1755" name="L1755"></a>1755         <em class="comment">// Invoked in the VM to determine the context class in</em>
<a id="L1756" name="L1756"></a>1756         <em class="comment">// JNI_Load/JNI_Unload</em>
<a id="L1757" name="L1757"></a>1757         <strong class="reserved">static</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; getFromClass() <em class="brace">{</em>
<a id="L1758" name="L1758"></a>1758             <strong class="reserved">return</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.nativeLibraryContext.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>().fromClass;
<a id="L1759" name="L1759"></a>1759         <em class="brace">}</em>
<a id="L1760" name="L1760"></a>1760     <em class="brace">}</em>
<a id="L1761" name="L1761"></a>1761 
<a id="L1762" name="L1762"></a>1762     <em class="comment">// All native library names we've loaded.</em>
<a id="L1763" name="L1763"></a>1763     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; loadedLibraryNames = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L1764" name="L1764"></a>1764 
<a id="L1765" name="L1765"></a>1765     <em class="comment">// Native libraries belonging to system classes.</em>
<a id="L1766" name="L1766"></a>1766     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a>&gt; systemNativeLibraries
<a id="L1767" name="L1767"></a>1767         = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L1768" name="L1768"></a>1768 
<a id="L1769" name="L1769"></a>1769     <em class="comment">// Native libraries associated with the class loader.</em>
<a id="L1770" name="L1770"></a>1770     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a>&gt; nativeLibraries = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;&gt;();
<a id="L1771" name="L1771"></a>1771 
<a id="L1772" name="L1772"></a>1772     <em class="comment">// native libraries being loaded/unloaded.</em>
<a id="L1773" name="L1773"></a>1773     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a>&gt; nativeLibraryContext = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;&gt;();
<a id="L1774" name="L1774"></a>1774 
<a id="L1775" name="L1775"></a>1775     <em class="comment">// The paths searched for libraries</em>
<a id="L1776" name="L1776"></a>1776     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> usr_paths[];
<a id="L1777" name="L1777"></a>1777     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> sys_paths[];
<a id="L1778" name="L1778"></a>1778 
<a id="L1779" name="L1779"></a>1779     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/20714.html" title="Multiple referred from 9 places.">initializePath</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propname) <em class="brace">{</em>
<a id="L1780" name="L1780"></a>1780         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ldpath = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(propname, "");
<a id="L1781" name="L1781"></a>1781         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ps = <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.pathSeparator;
<a id="L1782" name="L1782"></a>1782         <strong class="reserved">int</strong> ldlen = ldpath.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1783" name="L1783"></a>1783         <strong class="reserved">int</strong> i, j, n;
<a id="L1784" name="L1784"></a>1784         <em class="comment">// Count the separators in the path</em>
<a id="L1785" name="L1785"></a>1785         i = ldpath.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(ps);
<a id="L1786" name="L1786"></a>1786         n = 0;
<a id="L1787" name="L1787"></a>1787         <strong class="reserved">while</strong> (i &gt;= 0) <em class="brace">{</em>
<a id="L1788" name="L1788"></a>1788             n++;
<a id="L1789" name="L1789"></a>1789             i = ldpath.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(ps, i + 1);
<a id="L1790" name="L1790"></a>1790         <em class="brace">}</em>
<a id="L1791" name="L1791"></a>1791 
<a id="L1792" name="L1792"></a>1792         <em class="comment">// allocate the array of paths - n :'s = n + 1 path elements</em>
<a id="L1793" name="L1793"></a>1793         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] paths = <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[n + 1];
<a id="L1794" name="L1794"></a>1794 
<a id="L1795" name="L1795"></a>1795         <em class="comment">// Fill the array with paths from the ldpath</em>
<a id="L1796" name="L1796"></a>1796         n = i = 0;
<a id="L1797" name="L1797"></a>1797         j = ldpath.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(ps);
<a id="L1798" name="L1798"></a>1798         <strong class="reserved">while</strong> (j &gt;= 0) <em class="brace">{</em>
<a id="L1799" name="L1799"></a>1799             <strong class="reserved">if</strong> (j - i &gt; 0) <em class="brace">{</em>
<a id="L1800" name="L1800"></a>1800                 paths[n++] = ldpath.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(i, j);
<a id="L1801" name="L1801"></a>1801             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (j - i == 0) <em class="brace">{</em>
<a id="L1802" name="L1802"></a>1802                 paths[n++] = ".";
<a id="L1803" name="L1803"></a>1803             <em class="brace">}</em>
<a id="L1804" name="L1804"></a>1804             i = j + 1;
<a id="L1805" name="L1805"></a>1805             j = ldpath.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(ps, i);
<a id="L1806" name="L1806"></a>1806         <em class="brace">}</em>
<a id="L1807" name="L1807"></a>1807         paths[n] = ldpath.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(i, ldlen);
<a id="L1808" name="L1808"></a>1808         <strong class="reserved">return</strong> paths;
<a id="L1809" name="L1809"></a>1809     <em class="brace">}</em>
<a id="L1810" name="L1810"></a>1810 
<a id="L1811" name="L1811"></a>1811     <em class="comment">// Invoked in the java.lang.Runtime class to implement load and loadLibrary.</em>
<a id="L1812" name="L1812"></a>1812     <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/22598.html" title="Multiple referred from 18 places.">loadLibrary</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; fromClass, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L1813" name="L1813"></a>1813                             <strong class="reserved">boolean</strong> <a href="../D/25141.html" title="Multiple defined in 6 places.">isAbsolute</a>) <em class="brace">{</em>
<a id="L1814" name="L1814"></a>1814         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader =
<a id="L1815" name="L1815"></a>1815             (fromClass == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : fromClass.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L1816" name="L1816"></a>1816         <strong class="reserved">if</strong> (sys_paths == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1817" name="L1817"></a>1817             usr_paths = <a href="../D/24679.html" title="Multiple defined in 4 places.">initializePath</a>("java.library.path");
<a id="L1818" name="L1818"></a>1818             sys_paths = <a href="../D/24679.html" title="Multiple defined in 4 places.">initializePath</a>("sun.boot.library.path");
<a id="L1819" name="L1819"></a>1819         <em class="brace">}</em>
<a id="L1820" name="L1820"></a>1820         <strong class="reserved">if</strong> (<a href="../D/25141.html" title="Multiple defined in 6 places.">isAbsolute</a>) <em class="brace">{</em>
<a id="L1821" name="L1821"></a>1821             <strong class="reserved">if</strong> (<a href="../D/26952.html" title="Multiple defined in 2 places.">loadLibrary0</a>(fromClass, <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))) <em class="brace">{</em>
<a id="L1822" name="L1822"></a>1822                 <strong class="reserved">return</strong>;
<a id="L1823" name="L1823"></a>1823             <em class="brace">}</em>
<a id="L1824" name="L1824"></a>1824             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1556.html#L37" title="Defined at 37 in src/java/lang/UnsatisfiedLinkError.java.">UnsatisfiedLinkError</a>("Can't load library: " + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1825" name="L1825"></a>1825         <em class="brace">}</em>
<a id="L1826" name="L1826"></a>1826         <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1827" name="L1827"></a>1827             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> libfilename = loader.<a href="../D/16158.html" title="Multiple defined in 2 places.">findLibrary</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1828" name="L1828"></a>1828             <strong class="reserved">if</strong> (libfilename != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1829" name="L1829"></a>1829                 <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> libfile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(libfilename);
<a id="L1830" name="L1830"></a>1830                 <strong class="reserved">if</strong> (!libfile.<a href="../D/25141.html" title="Multiple defined in 6 places.">isAbsolute</a>()) <em class="brace">{</em>
<a id="L1831" name="L1831"></a>1831                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1556.html#L37" title="Defined at 37 in src/java/lang/UnsatisfiedLinkError.java.">UnsatisfiedLinkError</a>(
<a id="L1832" name="L1832"></a>1832     "ClassLoader.findLibrary failed to return an absolute path: " + libfilename);
<a id="L1833" name="L1833"></a>1833                 <em class="brace">}</em>
<a id="L1834" name="L1834"></a>1834                 <strong class="reserved">if</strong> (<a href="../D/26952.html" title="Multiple defined in 2 places.">loadLibrary0</a>(fromClass, libfile)) <em class="brace">{</em>
<a id="L1835" name="L1835"></a>1835                     <strong class="reserved">return</strong>;
<a id="L1836" name="L1836"></a>1836                 <em class="brace">}</em>
<a id="L1837" name="L1837"></a>1837                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1556.html#L37" title="Defined at 37 in src/java/lang/UnsatisfiedLinkError.java.">UnsatisfiedLinkError</a>("Can't load " + libfilename);
<a id="L1838" name="L1838"></a>1838             <em class="brace">}</em>
<a id="L1839" name="L1839"></a>1839         <em class="brace">}</em>
<a id="L1840" name="L1840"></a>1840         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0 ; i &lt; sys_paths.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; i++) <em class="brace">{</em>
<a id="L1841" name="L1841"></a>1841             <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> libfile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(sys_paths[i], <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L1137" title="Defined at 1137 in src/java/lang/System.java.">mapLibraryName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>));
<a id="L1842" name="L1842"></a>1842             <strong class="reserved">if</strong> (<a href="../D/26952.html" title="Multiple defined in 2 places.">loadLibrary0</a>(fromClass, libfile)) <em class="brace">{</em>
<a id="L1843" name="L1843"></a>1843                 <strong class="reserved">return</strong>;
<a id="L1844" name="L1844"></a>1844             <em class="brace">}</em>
<a id="L1845" name="L1845"></a>1845             libfile = <a href="../S/1571.html#L29" title="Defined at 29 in src/java/lang/ClassLoaderHelper.java.">ClassLoaderHelper</a>.<a href="../S/1571.html#L39" title="Defined at 39 in src/java/lang/ClassLoaderHelper.java.">mapAlternativeName</a>(libfile);
<a id="L1846" name="L1846"></a>1846             <strong class="reserved">if</strong> (libfile != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/26952.html" title="Multiple defined in 2 places.">loadLibrary0</a>(fromClass, libfile)) <em class="brace">{</em>
<a id="L1847" name="L1847"></a>1847                 <strong class="reserved">return</strong>;
<a id="L1848" name="L1848"></a>1848             <em class="brace">}</em>
<a id="L1849" name="L1849"></a>1849         <em class="brace">}</em>
<a id="L1850" name="L1850"></a>1850         <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1851" name="L1851"></a>1851             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0 ; i &lt; usr_paths.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; i++) <em class="brace">{</em>
<a id="L1852" name="L1852"></a>1852                 <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> libfile = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(usr_paths[i],
<a id="L1853" name="L1853"></a>1853                                         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L1137" title="Defined at 1137 in src/java/lang/System.java.">mapLibraryName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>));
<a id="L1854" name="L1854"></a>1854                 <strong class="reserved">if</strong> (<a href="../D/26952.html" title="Multiple defined in 2 places.">loadLibrary0</a>(fromClass, libfile)) <em class="brace">{</em>
<a id="L1855" name="L1855"></a>1855                     <strong class="reserved">return</strong>;
<a id="L1856" name="L1856"></a>1856                 <em class="brace">}</em>
<a id="L1857" name="L1857"></a>1857                 libfile = <a href="../S/1571.html#L29" title="Defined at 29 in src/java/lang/ClassLoaderHelper.java.">ClassLoaderHelper</a>.<a href="../S/1571.html#L39" title="Defined at 39 in src/java/lang/ClassLoaderHelper.java.">mapAlternativeName</a>(libfile);
<a id="L1858" name="L1858"></a>1858                 <strong class="reserved">if</strong> (libfile != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/26952.html" title="Multiple defined in 2 places.">loadLibrary0</a>(fromClass, libfile)) <em class="brace">{</em>
<a id="L1859" name="L1859"></a>1859                     <strong class="reserved">return</strong>;
<a id="L1860" name="L1860"></a>1860                 <em class="brace">}</em>
<a id="L1861" name="L1861"></a>1861             <em class="brace">}</em>
<a id="L1862" name="L1862"></a>1862         <em class="brace">}</em>
<a id="L1863" name="L1863"></a>1863         <em class="comment">// Oops, it failed</em>
<a id="L1864" name="L1864"></a>1864         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1556.html#L37" title="Defined at 37 in src/java/lang/UnsatisfiedLinkError.java.">UnsatisfiedLinkError</a>("no " + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + " in java.library.path");
<a id="L1865" name="L1865"></a>1865     <em class="brace">}</em>
<a id="L1866" name="L1866"></a>1866 
<a id="L1867" name="L1867"></a>1867     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1745.html#L1871" title="Referred from 1871 in src/java/lang/ClassLoader.java.">findBuiltinLib</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1868" name="L1868"></a>1868 
<a id="L1869" name="L1869"></a>1869     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/22599.html" title="Multiple referred from 8 places.">loadLibrary0</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; fromClass, <strong class="reserved">final</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>) <em class="brace">{</em>
<a id="L1870" name="L1870"></a>1870         <em class="comment">// Check to see if we're attempting to access a static library</em>
<a id="L1871" name="L1871"></a>1871         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../S/1745.html#L1867" title="Defined at 1867 in src/java/lang/ClassLoader.java.">findBuiltinLib</a>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L1872" name="L1872"></a>1872         <strong class="reserved">boolean</strong> isBuiltin = (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>);
<a id="L1873" name="L1873"></a>1873         <strong class="reserved">if</strong> (!isBuiltin) <em class="brace">{</em>
<a id="L1874" name="L1874"></a>1874             <strong class="reserved">boolean</strong> <a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L1875" name="L1875"></a>1875                 <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L1876" name="L1876"></a>1876                     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1877" name="L1877"></a>1877                         <strong class="reserved">return</strong> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>() ? <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE : <strong class="reserved">null</strong>;
<a id="L1878" name="L1878"></a>1878                     <em class="brace">}</em><em class="brace">}</em>)
<a id="L1879" name="L1879"></a>1879                 != <strong class="reserved">null</strong>;
<a id="L1880" name="L1880"></a>1880             <strong class="reserved">if</strong> (!<a href="../D/15817.html" title="Multiple defined in 5 places.">exists</a>) <em class="brace">{</em>
<a id="L1881" name="L1881"></a>1881                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1882" name="L1882"></a>1882             <em class="brace">}</em>
<a id="L1883" name="L1883"></a>1883             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1884" name="L1884"></a>1884                 <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../S/1433.html#L614" title="Defined at 614 in src/java/io/File.java.">getCanonicalPath</a>();
<a id="L1885" name="L1885"></a>1885             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L1886" name="L1886"></a>1886                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1887" name="L1887"></a>1887             <em class="brace">}</em>
<a id="L1888" name="L1888"></a>1888         <em class="brace">}</em>
<a id="L1889" name="L1889"></a>1889         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader =
<a id="L1890" name="L1890"></a>1890             (fromClass == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : fromClass.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L1891" name="L1891"></a>1891         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a>&gt; libs =
<a id="L1892" name="L1892"></a>1892             loader != <strong class="reserved">null</strong> ? loader.nativeLibraries : systemNativeLibraries;
<a id="L1893" name="L1893"></a>1893         <strong class="reserved">synchronized</strong> (libs) <em class="brace">{</em>
<a id="L1894" name="L1894"></a>1894             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = libs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1895" name="L1895"></a>1895             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1896" name="L1896"></a>1896                 <a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a> lib = libs.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L1897" name="L1897"></a>1897                 <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(lib.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L1898" name="L1898"></a>1898                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1899" name="L1899"></a>1899                 <em class="brace">}</em>
<a id="L1900" name="L1900"></a>1900             <em class="brace">}</em>
<a id="L1901" name="L1901"></a>1901 
<a id="L1902" name="L1902"></a>1902             <strong class="reserved">synchronized</strong> (loadedLibraryNames) <em class="brace">{</em>
<a id="L1903" name="L1903"></a>1903                 <strong class="reserved">if</strong> (loadedLibraryNames.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L1904" name="L1904"></a>1904                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1556.html#L37" title="Defined at 37 in src/java/lang/UnsatisfiedLinkError.java.">UnsatisfiedLinkError</a>
<a id="L1905" name="L1905"></a>1905                         ("Native Library " +
<a id="L1906" name="L1906"></a>1906                          <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> +
<a id="L1907" name="L1907"></a>1907                          " already loaded in another classloader");
<a id="L1908" name="L1908"></a>1908                 <em class="brace">}</em>
<div class="comment">
 If the library is being loaded (must be by the same thread,
                  because Runtime.load and Runtime.loadLibrary are
                  synchronous). The reason is can occur is that the JNI_OnLoad
                  function can cause another loadLibrary invocation.
                  Thus we can use a static stack to hold the list of libraries
                  we are loading.
                  If there is a pending load operation for the library, we
                  immediately return success; otherwise, we raise
                  UnsatisfiedLinkError.</div>
<a id="L1921" name="L1921"></a>1921                 <strong class="reserved">int</strong> n = nativeLibraryContext.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1922" name="L1922"></a>1922                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L1923" name="L1923"></a>1923                     <a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a> lib = nativeLibraryContext.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L1924" name="L1924"></a>1924                     <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(lib.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L1925" name="L1925"></a>1925                         <strong class="reserved">if</strong> (loader == lib.fromClass.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>()) <em class="brace">{</em>
<a id="L1926" name="L1926"></a>1926                             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1927" name="L1927"></a>1927                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1928" name="L1928"></a>1928                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1556.html#L37" title="Defined at 37 in src/java/lang/UnsatisfiedLinkError.java.">UnsatisfiedLinkError</a>
<a id="L1929" name="L1929"></a>1929                                 ("Native Library " +
<a id="L1930" name="L1930"></a>1930                                  <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> +
<a id="L1931" name="L1931"></a>1931                                  " is being loaded in another classloader");
<a id="L1932" name="L1932"></a>1932                         <em class="brace">}</em>
<a id="L1933" name="L1933"></a>1933                     <em class="brace">}</em>
<a id="L1934" name="L1934"></a>1934                 <em class="brace">}</em>
<a id="L1935" name="L1935"></a>1935                 <a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a> lib = <strong class="reserved">new</strong> <a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a>(fromClass, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, isBuiltin);
<a id="L1936" name="L1936"></a>1936                 nativeLibraryContext.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(lib);
<a id="L1937" name="L1937"></a>1937                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1938" name="L1938"></a>1938                     lib.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, isBuiltin);
<a id="L1939" name="L1939"></a>1939                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1940" name="L1940"></a>1940                     nativeLibraryContext.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L1941" name="L1941"></a>1941                 <em class="brace">}</em>
<a id="L1942" name="L1942"></a>1942                 <strong class="reserved">if</strong> (lib.loaded) <em class="brace">{</em>
<a id="L1943" name="L1943"></a>1943                     loadedLibraryNames.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1944" name="L1944"></a>1944                     libs.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(lib);
<a id="L1945" name="L1945"></a>1945                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1946" name="L1946"></a>1946                 <em class="brace">}</em>
<a id="L1947" name="L1947"></a>1947                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1948" name="L1948"></a>1948             <em class="brace">}</em>
<a id="L1949" name="L1949"></a>1949         <em class="brace">}</em>
<a id="L1950" name="L1950"></a>1950     <em class="brace">}</em>
<a id="L1951" name="L1951"></a>1951 
<a id="L1952" name="L1952"></a>1952     <em class="comment">// Invoked in the VM class linking code.</em>
<a id="L1953" name="L1953"></a>1953     <strong class="reserved">static</strong> <strong class="reserved">long</strong> findNative(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L1954" name="L1954"></a>1954         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a>&gt; libs =
<a id="L1955" name="L1955"></a>1955             loader != <strong class="reserved">null</strong> ? loader.nativeLibraries : systemNativeLibraries;
<a id="L1956" name="L1956"></a>1956         <strong class="reserved">synchronized</strong> (libs) <em class="brace">{</em>
<a id="L1957" name="L1957"></a>1957             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = libs.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1958" name="L1958"></a>1958             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1959" name="L1959"></a>1959                 <a href="../S/1745.html#L1708" title="Defined at 1708 in src/java/lang/ClassLoader.java.">NativeLibrary</a> lib = libs.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L1960" name="L1960"></a>1960                 <strong class="reserved">long</strong> entry = lib.<a href="../D/16082.html" title="Multiple defined in 26 places.">find</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1961" name="L1961"></a>1961                 <strong class="reserved">if</strong> (entry != 0)
<a id="L1962" name="L1962"></a>1962                     <strong class="reserved">return</strong> entry;
<a id="L1963" name="L1963"></a>1963             <em class="brace">}</em>
<a id="L1964" name="L1964"></a>1964         <em class="brace">}</em>
<a id="L1965" name="L1965"></a>1965         <strong class="reserved">return</strong> 0;
<a id="L1966" name="L1966"></a>1966     <em class="brace">}</em>
<a id="L1967" name="L1967"></a>1967 
<a id="L1968" name="L1968"></a>1968 
<a id="L1969" name="L1969"></a>1969     <em class="comment">// -- Assertion management --</em>
<a id="L1970" name="L1970"></a>1970 
<a id="L1971" name="L1971"></a>1971     <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> assertionLock;
<a id="L1972" name="L1972"></a>1972 
<a id="L1973" name="L1973"></a>1973     <em class="comment">// The default toggle for assertion checking.</em>
<a id="L1974" name="L1974"></a>1974     <em class="comment">// @GuardedBy("assertionLock")</em>
<a id="L1975" name="L1975"></a>1975     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> defaultAssertionStatus = <strong class="reserved">false</strong>;
<a id="L1976" name="L1976"></a>1976 
<a id="L1977" name="L1977"></a>1977     <em class="comment">// Maps String packageName to Boolean package default assertion status Note</em>
<a id="L1978" name="L1978"></a>1978     <em class="comment">// that the default package is placed under a null map key.  If this field</em>
<a id="L1979" name="L1979"></a>1979     <em class="comment">// is null then we are delegating assertion status queries to the VM, i.e.,</em>
<a id="L1980" name="L1980"></a>1980     <em class="comment">// none of this ClassLoader's assertion status modification methods have</em>
<a id="L1981" name="L1981"></a>1981     <em class="comment">// been invoked.</em>
<a id="L1982" name="L1982"></a>1982     <em class="comment">// @GuardedBy("assertionLock")</em>
<a id="L1983" name="L1983"></a>1983     <strong class="reserved">private</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt; packageAssertionStatus = <strong class="reserved">null</strong>;
<a id="L1984" name="L1984"></a>1984 
<a id="L1985" name="L1985"></a>1985     <em class="comment">// Maps String fullyQualifiedClassName to Boolean assertionStatus If this</em>
<a id="L1986" name="L1986"></a>1986     <em class="comment">// field is null then we are delegating assertion status queries to the VM,</em>
<a id="L1987" name="L1987"></a>1987     <em class="comment">// i.e., none of this ClassLoader's assertion status modification methods</em>
<a id="L1988" name="L1988"></a>1988     <em class="comment">// have been invoked.</em>
<a id="L1989" name="L1989"></a>1989     <em class="comment">// @GuardedBy("assertionLock")</em>
<a id="L1990" name="L1990"></a>1990     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt; classAssertionStatus = <strong class="reserved">null</strong>;
<a id="L1991" name="L1991"></a>1991 
<div class="comment">
      Sets the default assertion status for this class loader.  This setting
      determines whether classes loaded by this class loader and initialized
      in the future will have assertions enabled or disabled by default.
      This setting may be overridden on a per-package or per-class basis by
      invoking {@link #setPackageAssertionStatus(String, boolean)} or {@link
      #setClassAssertionStatus(String, boolean)}.
      @param  enabled
              <tt>true</tt> if classes loaded by this class loader will
              henceforth have assertions enabled by default, <tt>false</tt>
              if they will have assertions disabled by default.
      @since  1.4</div>
<a id="L2007" name="L2007"></a>2007     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setDefaultAssertionStatus(<strong class="reserved">boolean</strong> <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>) <em class="brace">{</em>
<a id="L2008" name="L2008"></a>2008         <strong class="reserved">synchronized</strong> (assertionLock) <em class="brace">{</em>
<a id="L2009" name="L2009"></a>2009             <strong class="reserved">if</strong> (classAssertionStatus == <strong class="reserved">null</strong>)
<a id="L2010" name="L2010"></a>2010                 <a href="../S/1745.html#L2169" title="Defined at 2169 in src/java/lang/ClassLoader.java.">initializeJavaAssertionMaps</a>();
<a id="L2011" name="L2011"></a>2011 
<a id="L2012" name="L2012"></a>2012             defaultAssertionStatus = <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>;
<a id="L2013" name="L2013"></a>2013         <em class="brace">}</em>
<a id="L2014" name="L2014"></a>2014     <em class="brace">}</em>
<a id="L2015" name="L2015"></a>2015 
<div class="comment">
      Sets the package default assertion status for the named package.  The
      package default assertion status determines the assertion status for
      classes initialized in the future that belong to the named package or
      any of its "subpackages".
      <p> A subpackage of a package named p is any package whose name begins
      with "<tt>p.</tt>".  For example, <tt>javax.swing.text</tt> is a
      subpackage of <tt>javax.swing</tt>, and both <tt>java.util</tt> and
      <tt>java.lang.reflect</tt> are subpackages of <tt>java</tt>.
      </p><p> In the event that multiple package defaults apply to a given class,
      the package default pertaining to the most specific package takes
      precedence over the others.  For example, if <tt>javax.lang</tt> and
      <tt>javax.lang.reflect</tt> both have package defaults associated with
      them, the latter package default applies to classes in
      <tt>javax.lang.reflect</tt>.
      </p><p> Package defaults take precedence over the class loader's default
      assertion status, and may be overridden on a per-class basis by invoking
      {@link #setClassAssertionStatus(String, boolean)}.  </p>
      @param  packageName
              The name of the package whose package default assertion status
              is to be set. A <tt>null</tt> value indicates the unnamed
              package that is "current"
              (see section 7.4.2 of
              <cite>The Javaâ„¢ Language Specification</cite>.)
      @param  enabled
              <tt>true</tt> if classes loaded by this classloader and
              belonging to the named package or any of its subpackages will
              have assertions enabled by default, <tt>false</tt> if they will
              have assertions disabled by default.
      @since  1.4</div>
<a id="L2053" name="L2053"></a>2053     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setPackageAssertionStatus(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> packageName,
<a id="L2054" name="L2054"></a>2054                                           <strong class="reserved">boolean</strong> <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>) <em class="brace">{</em>
<a id="L2055" name="L2055"></a>2055         <strong class="reserved">synchronized</strong> (assertionLock) <em class="brace">{</em>
<a id="L2056" name="L2056"></a>2056             <strong class="reserved">if</strong> (packageAssertionStatus == <strong class="reserved">null</strong>)
<a id="L2057" name="L2057"></a>2057                 <a href="../S/1745.html#L2169" title="Defined at 2169 in src/java/lang/ClassLoader.java.">initializeJavaAssertionMaps</a>();
<a id="L2058" name="L2058"></a>2058 
<a id="L2059" name="L2059"></a>2059             packageAssertionStatus.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(packageName, <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>);
<a id="L2060" name="L2060"></a>2060         <em class="brace">}</em>
<a id="L2061" name="L2061"></a>2061     <em class="brace">}</em>
<a id="L2062" name="L2062"></a>2062 
<div class="comment">
      Sets the desired assertion status for the named top-level class in this
      class loader and any nested classes contained therein.  This setting
      takes precedence over the class loader's default assertion status, and
      over any applicable per-package default.  This method has no effect if
      the named class has already been initialized.  (Once a class is
      initialized, its assertion status cannot change.)
      <p> If the named class is not a top-level class, this invocation will
      have no effect on the actual assertion status of any class. </p>
      @param  className
              The fully qualified class name of the top-level class whose
              assertion status is to be set.
      @param  enabled
              <tt>true</tt> if the named class is to have assertions
              enabled when (and if) it is initialized, <tt>false</tt> if the
              class is to have assertions disabled.
      @since  1.4</div>
<a id="L2085" name="L2085"></a>2085     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setClassAssertionStatus(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, <strong class="reserved">boolean</strong> <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>) <em class="brace">{</em>
<a id="L2086" name="L2086"></a>2086         <strong class="reserved">synchronized</strong> (assertionLock) <em class="brace">{</em>
<a id="L2087" name="L2087"></a>2087             <strong class="reserved">if</strong> (classAssertionStatus == <strong class="reserved">null</strong>)
<a id="L2088" name="L2088"></a>2088                 <a href="../S/1745.html#L2169" title="Defined at 2169 in src/java/lang/ClassLoader.java.">initializeJavaAssertionMaps</a>();
<a id="L2089" name="L2089"></a>2089 
<a id="L2090" name="L2090"></a>2090             classAssertionStatus.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>, <a href="../S/6200.html#L92" title="Defined at 92 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/Output.java.">enabled</a>);
<a id="L2091" name="L2091"></a>2091         <em class="brace">}</em>
<a id="L2092" name="L2092"></a>2092     <em class="brace">}</em>
<a id="L2093" name="L2093"></a>2093 
<div class="comment">
      Sets the default assertion status for this class loader to
      <tt>false</tt> and discards any package defaults or class assertion
      status settings associated with the class loader.  This method is
      provided so that class loaders can be made to ignore any command line or
      persistent assertion status settings and "start with a clean slate."
      @since  1.4</div>
<a id="L2103" name="L2103"></a>2103     <strong class="reserved">public</strong> <strong class="reserved">void</strong> clearAssertionStatus() <em class="brace">{</em>
<div class="comment">
          Whether or not "Java assertion maps" are initialized, set
          them to empty maps, effectively ignoring any present settings.</div>
<a id="L2108" name="L2108"></a>2108         <strong class="reserved">synchronized</strong> (assertionLock) <em class="brace">{</em>
<a id="L2109" name="L2109"></a>2109             classAssertionStatus = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L2110" name="L2110"></a>2110             packageAssertionStatus = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L2111" name="L2111"></a>2111             defaultAssertionStatus = <strong class="reserved">false</strong>;
<a id="L2112" name="L2112"></a>2112         <em class="brace">}</em>
<a id="L2113" name="L2113"></a>2113     <em class="brace">}</em>
<a id="L2114" name="L2114"></a>2114 
<div class="comment">
      Returns the assertion status that would be assigned to the specified
      class if it were to be initialized at the time this method is invoked.
      If the named class has had its assertion status set, the most recent
      setting will be returned; otherwise, if any package default assertion
      status pertains to this class, the most recent setting for the most
      specific pertinent package default assertion status is returned;
      otherwise, this class loader's default assertion status is returned.
      <p></p>
      @param  className
              The fully qualified class name of the class whose desired
              assertion status is being queried.
      @return  The desired assertion status of the specified class.
      @see  #setClassAssertionStatus(String, boolean)
      @see  #setPackageAssertionStatus(String, boolean)
      @see  #setDefaultAssertionStatus(boolean)
      @since  1.4</div>
<a id="L2137" name="L2137"></a>2137     <strong class="reserved">boolean</strong> <a href="../S/1722.html#L3217" title="Referred from 3217 in src/java/lang/Class.java.">desiredAssertionStatus</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>) <em class="brace">{</em>
<a id="L2138" name="L2138"></a>2138         <strong class="reserved">synchronized</strong> (assertionLock) <em class="brace">{</em>
<a id="L2139" name="L2139"></a>2139             <em class="comment">// assert classAssertionStatus   != null;</em>
<a id="L2140" name="L2140"></a>2140             <em class="comment">// assert packageAssertionStatus != null;</em>
<a id="L2141" name="L2141"></a>2141 
<a id="L2142" name="L2142"></a>2142             <em class="comment">// Check for a class entry</em>
<a id="L2143" name="L2143"></a>2143             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = classAssertionStatus.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L2144" name="L2144"></a>2144             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <strong class="reserved">null</strong>)
<a id="L2145" name="L2145"></a>2145                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L2146" name="L2146"></a>2146 
<a id="L2147" name="L2147"></a>2147             <em class="comment">// Check for most specific package entry</em>
<a id="L2148" name="L2148"></a>2148             <strong class="reserved">int</strong> dotIndex = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(".");
<a id="L2149" name="L2149"></a>2149             <strong class="reserved">if</strong> (dotIndex &lt; 0) <em class="brace">{</em> <em class="comment">// default package</em>
<a id="L2150" name="L2150"></a>2150                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = packageAssertionStatus.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<strong class="reserved">null</strong>);
<a id="L2151" name="L2151"></a>2151                 <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <strong class="reserved">null</strong>)
<a id="L2152" name="L2152"></a>2152                     <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L2153" name="L2153"></a>2153             <em class="brace">}</em>
<a id="L2154" name="L2154"></a>2154             <strong class="reserved">while</strong>(dotIndex &gt; 0) <em class="brace">{</em>
<a id="L2155" name="L2155"></a>2155                 <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a> = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, dotIndex);
<a id="L2156" name="L2156"></a>2156                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = packageAssertionStatus.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>);
<a id="L2157" name="L2157"></a>2157                 <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <strong class="reserved">null</strong>)
<a id="L2158" name="L2158"></a>2158                     <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L2159" name="L2159"></a>2159                 dotIndex = <a href="../D/12779.html" title="Multiple defined in 4 places.">className</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>(".", dotIndex-1);
<a id="L2160" name="L2160"></a>2160             <em class="brace">}</em>
<a id="L2161" name="L2161"></a>2161 
<a id="L2162" name="L2162"></a>2162             <em class="comment">// Return the classloader default</em>
<a id="L2163" name="L2163"></a>2163             <strong class="reserved">return</strong> defaultAssertionStatus;
<a id="L2164" name="L2164"></a>2164         <em class="brace">}</em>
<a id="L2165" name="L2165"></a>2165     <em class="brace">}</em>
<a id="L2166" name="L2166"></a>2166 
<a id="L2167" name="L2167"></a>2167     <em class="comment">// Set up the assertions with information provided by the VM.</em>
<a id="L2168" name="L2168"></a>2168     <em class="comment">// Note: Should only be called inside a synchronized block</em>
<a id="L2169" name="L2169"></a>2169     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20706.html" title="Multiple referred from 3 places.">initializeJavaAssertionMaps</a>() <em class="brace">{</em>
<a id="L2170" name="L2170"></a>2170         <em class="comment">// assert Thread.holdsLock(assertionLock);</em>
<a id="L2171" name="L2171"></a>2171 
<a id="L2172" name="L2172"></a>2172         classAssertionStatus = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L2173" name="L2173"></a>2173         packageAssertionStatus = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L2174" name="L2174"></a>2174         <a href="../S/1787.html#L38" title="Defined at 38 in src/java/lang/AssertionStatusDirectives.java.">AssertionStatusDirectives</a> directives = <a href="../S/1745.html#L2188" title="Defined at 2188 in src/java/lang/ClassLoader.java.">retrieveDirectives</a>();
<a id="L2175" name="L2175"></a>2175 
<a id="L2176" name="L2176"></a>2176         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; directives.<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L2177" name="L2177"></a>2177             classAssertionStatus.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(directives.<a href="../S/7709.html#L86" title="Defined at 86 in src/com/sun/javadoc/RootDoc.java.">classes</a>[i],
<a id="L2178" name="L2178"></a>2178                                      directives.classEnabled[i]);
<a id="L2179" name="L2179"></a>2179 
<a id="L2180" name="L2180"></a>2180         <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; i &lt; directives.packages.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L2181" name="L2181"></a>2181             packageAssertionStatus.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(directives.packages[i],
<a id="L2182" name="L2182"></a>2182                                        directives.packageEnabled[i]);
<a id="L2183" name="L2183"></a>2183 
<a id="L2184" name="L2184"></a>2184         defaultAssertionStatus = directives.deflt;
<a id="L2185" name="L2185"></a>2185     <em class="brace">}</em>
<a id="L2186" name="L2186"></a>2186 
<a id="L2187" name="L2187"></a>2187     <em class="comment">// Retrieves the assertion directives from the VM.</em>
<a id="L2188" name="L2188"></a>2188     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <a href="../S/1787.html#L38" title="Defined at 38 in src/java/lang/AssertionStatusDirectives.java.">AssertionStatusDirectives</a> <a href="../S/1745.html#L2174" title="Referred from 2174 in src/java/lang/ClassLoader.java.">retrieveDirectives</a>();
<a id="L2189" name="L2189"></a>2189 <em class="brace">}</em>
<a id="L2190" name="L2190"></a>2190 
<a id="L2191" name="L2191"></a>2191 
<a id="L2192" name="L2192"></a>2192 <strong class="reserved">class</strong> <a href="../S/1745.html#L1454" title="Referred from 1454 in src/java/lang/ClassLoader.java.">SystemClassLoaderAction</a>
<a id="L2193" name="L2193"></a>2193     <strong class="reserved">implements</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt; <em class="brace">{</em>
<a id="L2194" name="L2194"></a>2194     <strong class="reserved">private</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L2195" name="L2195"></a>2195 
<a id="L2196" name="L2196"></a>2196     SystemClassLoaderAction(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L2197" name="L2197"></a>2197         <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L2198" name="L2198"></a>2198     <em class="brace">}</em>
<a id="L2199" name="L2199"></a>2199 
<a id="L2200" name="L2200"></a>2200     <strong class="reserved">public</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L2201" name="L2201"></a>2201         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cls = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.system.class.loader");
<a id="L2202" name="L2202"></a>2202         <strong class="reserved">if</strong> (cls == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2203" name="L2203"></a>2203             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L2204" name="L2204"></a>2204         <em class="brace">}</em>
<a id="L2205" name="L2205"></a>2205 
<a id="L2206" name="L2206"></a>2206         <a href="../D/1833.html" title="Multiple defined in 2 places.">Constructor</a>&lt;?&gt; ctor = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(cls, <strong class="reserved">true</strong>, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>)
<a id="L2207" name="L2207"></a>2207             .<a href="../S/1722.html#L2175" title="Defined at 2175 in src/java/lang/Class.java.">getDeclaredConstructor</a>(<strong class="reserved">new</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;[] <em class="brace">{</em> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<strong class="reserved">class</strong> <em class="brace">}</em>);
<a id="L2208" name="L2208"></a>2208         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> sys = (<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>) ctor.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(
<a id="L2209" name="L2209"></a>2209             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> <em class="brace">}</em>);
<a id="L2210" name="L2210"></a>2210         <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/32262.html" title="Multiple defined in 3 places.">setContextClassLoader</a>(sys);
<a id="L2211" name="L2211"></a>2211         <strong class="reserved">return</strong> sys;
<a id="L2212" name="L2212"></a>2212     <em class="brace">}</em>
<a id="L2213" name="L2213"></a>2213 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L180">[^]</a><a href="#L2200">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>