<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDElementTraverser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L100">[^]</a><a href="#L560">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L100" title="Defined at 100.">traverseLocal</a></li>
<li><a href="#L147" title="Defined at 147.">traverseLocal</a></li>
<li><a href="#L235" title="Defined at 235.">traverseGlobal</a></li>
<li><a href="#L258" title="Defined at 258.">traverseNamedElement</a></li>
<li><a href="#L560" title="Defined at 560.">reset</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.xs.traversers;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.util.Locale;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.ValidatedInfo;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.XSSimpleType;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.SchemaGrammar;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.SchemaSymbols;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSAnnotationImpl;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSComplexTypeDecl;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSConstraints;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSElementDecl;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSParticleDecl;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.XInt;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.XSObjectListImpl;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.DOMUtil;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.SymbolTable;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLChar;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.QName;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSConstants;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSObject;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSObjectList;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSTypeDefinition;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L46" name="L46"></a>  46 
<div class="comment">
  The element declaration schema component traverser.
  <element abstract="boolean" : false block="(#all" | list of (extension restriction substitution)) default="string" final="(#all" restriction)) fixed="string" form="(qualified" unqualified) id="ID" maxoccurs="(nonNegativeInteger" unbounded) 1 minoccurs="nonNegativeInteger" name="NCName" nillable="boolean" ref="QName" substitutiongroup="QName" type="QName" {any attributes with non-schema namespace . .}>
    Content: (annotation?, ((simpleType | complexType)?, (unique | key | keyref)*))
  </element>
  @xerces.internal
  @author Sandy Gao, IBM
  @version $Id: XSDElementTraverser.java,v 1.9 2010-11-01 04:40:02 joehw Exp $</div>
<a id="L74" name="L74"></a>  74 <strong class="reserved">class</strong> <a href="../R/9193.html" title="Multiple referred from 2 places.">XSDElementTraverser</a> <strong class="reserved">extends</strong> <a href="../S/5097.html#L63" title="Defined at 63 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">XSDAbstractTraverser</a> <em class="brace">{</em>
<a id="L75" name="L75"></a>  75 
<a id="L76" name="L76"></a>  76     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a>  fTempElementDecl  = <strong class="reserved">new</strong> <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a>();
<a id="L77" name="L77"></a>  77 
<a id="L78" name="L78"></a>  78     <em class="comment">// this controls what happens when a local element is encountered.</em>
<a id="L79" name="L79"></a>  79     <em class="comment">// We may not encounter all local elements when first parsing.</em>
<a id="L80" name="L80"></a>  80     <strong class="reserved">boolean</strong> fDeferTraversingLocalElements;
<a id="L81" name="L81"></a>  81 
<a id="L82" name="L82"></a>  82     XSDElementTraverser (<a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>,
<a id="L83" name="L83"></a>  83             <a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a> gAttrCheck) <em class="brace">{</em>
<a id="L84" name="L84"></a>  84         <strong class="reserved">super</strong>(<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>, gAttrCheck);
<a id="L85" name="L85"></a>  85     <em class="brace">}</em>
<a id="L86" name="L86"></a>  86 
<div class="comment">
      Traverse a locally declared element (or an element reference).
      To handle the recursive cases efficiently, we delay the traversal
      and return an empty particle node. We'll fill in this particle node
      later after we've done with all the global declarations.
      This method causes a number of data structures in the schema handler to be filled in.
      @param  elmDecl
      @param  schemaDoc
      @param  grammar
      @return the particle</div>
<a id="L100" name="L100"></a> 100     <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> <a href="../R/29497.html" title="Multiple referred from 14 places.">traverseLocal</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elmDecl,
<a id="L101" name="L101"></a> 101             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L102" name="L102"></a> 102             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar,
<a id="L103" name="L103"></a> 103             <strong class="reserved">int</strong> allContextFlags,
<a id="L104" name="L104"></a> 104             <a href="../S/5366.html#L27" title="Defined at 27 in src/com/sun/org/apache/xerces/internal/xs/XSObject.java.">XSObject</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106         <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> particle = <strong class="reserved">null</strong>;
<a id="L107" name="L107"></a> 107         <strong class="reserved">if</strong> (fSchemaHandler.fDeclPool !=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L108" name="L108"></a> 108             particle = fSchemaHandler.fDeclPool.<a href="../S/5067.html#L153" title="Defined at 153 in src/com/sun/org/apache/xerces/internal/impl/xs/XSDeclarationPool.java.">getParticleDecl</a>();
<a id="L109" name="L109"></a> 109         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L110" name="L110"></a> 110             particle = <strong class="reserved">new</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>();
<a id="L111" name="L111"></a> 111         <em class="brace">}</em>
<a id="L112" name="L112"></a> 112         <strong class="reserved">if</strong> (fDeferTraversingLocalElements) <em class="brace">{</em>
<a id="L113" name="L113"></a> 113             <em class="comment">// The only thing we care about now is whether this element has</em>
<a id="L114" name="L114"></a> 114             <em class="comment">// minOccurs=0. This affects (if the element appears in a complex</em>
<a id="L115" name="L115"></a> 115             <em class="comment">// type) whether a type has emptiable content.</em>
<a id="L116" name="L116"></a> 116             particle.fType = <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_ELEMENT;
<a id="L117" name="L117"></a> 117             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = elmDecl.<a href="../D/17094.html" title="Multiple defined in 20 places.">getAttributeNode</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_MINOCCURS);
<a id="L118" name="L118"></a> 118             <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L119" name="L119"></a> 119                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27697.html" title="Multiple defined in 28 places.">min</a> = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L120" name="L120"></a> 120                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L121" name="L121"></a> 121                     <strong class="reserved">int</strong> m = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>(<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>));
<a id="L122" name="L122"></a> 122                     <strong class="reserved">if</strong> (m &gt;= 0)
<a id="L123" name="L123"></a> 123                         particle.fMinOccurs = m;
<a id="L124" name="L124"></a> 124                 <em class="brace">}</em>
<a id="L125" name="L125"></a> 125                 <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L126" name="L126"></a> 126                 <em class="brace">}</em>
<a id="L127" name="L127"></a> 127             <em class="brace">}</em>
<a id="L128" name="L128"></a> 128             fSchemaHandler.<a href="../S/5082.html#L3656" title="Defined at 3656 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">fillInLocalElemInfo</a>(elmDecl, schemaDoc, allContextFlags, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, particle);
<a id="L129" name="L129"></a> 129         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L130" name="L130"></a> 130             <a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(particle, elmDecl, schemaDoc, grammar, allContextFlags, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>, <strong class="reserved">null</strong>);
<a id="L131" name="L131"></a> 131             <em class="comment">// If it's an empty particle, return null.</em>
<a id="L132" name="L132"></a> 132             <strong class="reserved">if</strong> (particle.fType == <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_EMPTY)
<a id="L133" name="L133"></a> 133                 particle = <strong class="reserved">null</strong>;
<a id="L134" name="L134"></a> 134         <em class="brace">}</em>
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136         <strong class="reserved">return</strong> particle;
<a id="L137" name="L137"></a> 137     <em class="brace">}</em>
<a id="L138" name="L138"></a> 138 
<div class="comment">
      Traverse a locally declared element (or an element reference).
      This is the real traversal method. It's called after we've done with
      all the global declarations.
      @param  index</div>
<a id="L147" name="L147"></a> 147     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29497.html" title="Multiple referred from 14 places.">traverseLocal</a>(<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> particle,
<a id="L148" name="L148"></a> 148             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elmDecl,
<a id="L149" name="L149"></a> 149             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L150" name="L150"></a> 150             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar,
<a id="L151" name="L151"></a> 151             <strong class="reserved">int</strong> allContextFlags,
<a id="L152" name="L152"></a> 152             <a href="../S/5366.html#L27" title="Defined at 27 in src/com/sun/org/apache/xerces/internal/xs/XSObject.java.">XSObject</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>,
<a id="L153" name="L153"></a> 153             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] localNSDecls) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155         <strong class="reserved">if</strong> (localNSDecls != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L156" name="L156"></a> 156             schemaDoc.fNamespaceSupport.<a href="../S/5054.html#L65" title="Defined at 65 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaNamespaceSupport.java.">setEffectiveContext</a>(localNSDecls);
<a id="L157" name="L157"></a> 157         <em class="brace">}</em>
<a id="L158" name="L158"></a> 158 
<a id="L159" name="L159"></a> 159         <em class="comment">// General Attribute Checking</em>
<a id="L160" name="L160"></a> 160         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(elmDecl, <strong class="reserved">false</strong>, schemaDoc);
<a id="L161" name="L161"></a> 161 
<a id="L162" name="L162"></a> 162         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> refAtt = (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>) attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_REF];
<a id="L163" name="L163"></a> 163         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>  minAtt = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)  attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_MINOCCURS];
<a id="L164" name="L164"></a> 164         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>  maxAtt = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)  attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_MAXOCCURS];
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166         <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <strong class="reserved">null</strong>;
<a id="L167" name="L167"></a> 167         <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation = <strong class="reserved">null</strong>;
<a id="L168" name="L168"></a> 168         <strong class="reserved">if</strong> (elmDecl.<a href="../D/17094.html" title="Multiple defined in 20 places.">getAttributeNode</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_REF) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L169" name="L169"></a> 169             <strong class="reserved">if</strong> (refAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = (<a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a>)fSchemaHandler.<a href="../D/19320.html" title="Multiple defined in 2 places.">getGlobalDecl</a>(schemaDoc, <a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a>.ELEMENT_TYPE, refAtt, elmDecl);
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(elmDecl);
<a id="L173" name="L173"></a> 173                 <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174                     annotation = <a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(child, attrValues, <strong class="reserved">false</strong>, schemaDoc);
<a id="L175" name="L175"></a> 175                     child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L176" name="L176"></a> 176                 <em class="brace">}</em>
<a id="L177" name="L177"></a> 177                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L178" name="L178"></a> 178                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(elmDecl);
<a id="L179" name="L179"></a> 179                     <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180                         annotation = <a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(elmDecl, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrValues, <strong class="reserved">false</strong>, schemaDoc);
<a id="L181" name="L181"></a> 181                     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182                 <em class="brace">}</em>
<a id="L183" name="L183"></a> 183                 <em class="comment">// Element Declaration Representation OK</em>
<a id="L184" name="L184"></a> 184                 <em class="comment">// 2 If the item's parent is not &lt;schema&gt;, then all of the following must be true:</em>
<a id="L185" name="L185"></a> 185                 <em class="comment">// 2.1 One of ref or name must be present, but not both.</em>
<a id="L186" name="L186"></a> 186                 <em class="comment">// 2.2 If ref is present, then all of &lt;complexType&gt;, &lt;simpleType&gt;, &lt;key&gt;, &lt;keyref&gt;, &lt;unique&gt;, nillable, default, fixed, form, block and type must be absent, i.e. only minOccurs, maxOccurs, id are allowed in addition to ref, along with &lt;annotation&gt;.</em>
<a id="L187" name="L187"></a> 187                 <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188                     <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("src-element.2.2", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>refAtt.rawname, <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child)<em class="brace">}</em>, child);
<a id="L189" name="L189"></a> 189                 <em class="brace">}</em>
<a id="L190" name="L190"></a> 190             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L191" name="L191"></a> 191                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <strong class="reserved">null</strong>;
<a id="L192" name="L192"></a> 192             <em class="brace">}</em>
<a id="L193" name="L193"></a> 193         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L194" name="L194"></a> 194             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <a href="../S/5098.html#L258" title="Defined at 258 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDElementTraverser.java.">traverseNamedElement</a>(elmDecl, attrValues, schemaDoc, grammar, <strong class="reserved">false</strong>, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L195" name="L195"></a> 195         <em class="brace">}</em>
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197         particle.fMinOccurs = minAtt.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L198" name="L198"></a> 198         particle.fMaxOccurs = maxAtt.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L199" name="L199"></a> 199         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200             particle.fType = <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_ELEMENT;
<a id="L201" name="L201"></a> 201             particle.fValue = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>;
<a id="L202" name="L202"></a> 202         <em class="brace">}</em>
<a id="L203" name="L203"></a> 203         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L204" name="L204"></a> 204             particle.fType = <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_EMPTY;
<a id="L205" name="L205"></a> 205         <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <strong class="reserved">if</strong> (refAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L207" name="L207"></a> 207             <a href="../S/5373.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xs/XSObjectList.java.">XSObjectList</a> <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>;
<a id="L208" name="L208"></a> 208             <strong class="reserved">if</strong> (annotation != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L209" name="L209"></a> 209                 <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>();
<a id="L210" name="L210"></a> 210                 ((<a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>) <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>).<a href="../D/11178.html" title="Multiple defined in 2 places.">addXSObject</a>(annotation);
<a id="L211" name="L211"></a> 211             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L212" name="L212"></a> 212                 <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>.EMPTY_LIST;
<a id="L213" name="L213"></a> 213             <em class="brace">}</em>
<a id="L214" name="L214"></a> 214             particle.fAnnotations = <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>;
<a id="L215" name="L215"></a> 215         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L216" name="L216"></a> 216             particle.fAnnotations = ((<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> != <strong class="reserved">null</strong>) ? <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fAnnotations
<a id="L217" name="L217"></a> 217                     : <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>.EMPTY_LIST);
<a id="L218" name="L218"></a> 218         <em class="brace">}</em>
<a id="L219" name="L219"></a> 219         <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a> defaultVals = (<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>)attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_FROMDEFAULT];
<a id="L220" name="L220"></a> 220         <a href="../S/5097.html#L739" title="Defined at 739 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">checkOccurrences</a>(particle, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ELEMENT,
<a id="L221" name="L221"></a> 221                 (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)elmDecl.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>(), allContextFlags,
<a id="L222" name="L222"></a> 222                 defaultVals.<a href="../D/27086.html" title="Multiple defined in 24 places.">longValue</a>());
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(attrValues, schemaDoc);
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<div class="comment">
      Traverse a globally declared element.
      @param  elmDecl
      @param  schemaDoc
      @param  grammar
      @return the element declaration</div>
<a id="L235" name="L235"></a> 235     <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a> <a href="../R/29493.html" title="Multiple referred from 16 places.">traverseGlobal</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elmDecl,
<a id="L236" name="L236"></a> 236             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L237" name="L237"></a> 237             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239         <em class="comment">// General Attribute Checking'</em>
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(elmDecl, <strong class="reserved">true</strong>, schemaDoc);
<a id="L242" name="L242"></a> 242         <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <a href="../S/5098.html#L258" title="Defined at 258 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDElementTraverser.java.">traverseNamedElement</a>(elmDecl, attrValues, schemaDoc, grammar, <strong class="reserved">true</strong>, <strong class="reserved">null</strong>);
<a id="L243" name="L243"></a> 243         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(attrValues, schemaDoc);
<a id="L244" name="L244"></a> 244         <strong class="reserved">return</strong> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>;
<a id="L245" name="L245"></a> 245 
<a id="L246" name="L246"></a> 246     <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<div class="comment">
      Traverse a globally declared element.
      @param  elmDecl
      @param  attrValues
      @param  schemaDoc
      @param  grammar
      @param  isGlobal
      @return the element declaration</div>
<a id="L258" name="L258"></a> 258     <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a> <a href="../R/29500.html" title="Multiple referred from 2 places.">traverseNamedElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elmDecl,
<a id="L259" name="L259"></a> 259             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues,
<a id="L260" name="L260"></a> 260             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L261" name="L261"></a> 261             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar,
<a id="L262" name="L262"></a> 262             <strong class="reserved">boolean</strong> isGlobal,
<a id="L263" name="L263"></a> 263             <a href="../S/5366.html#L27" title="Defined at 27 in src/com/sun/org/apache/xerces/internal/xs/XSObject.java.">XSObject</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> abstractAtt  = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_ABSTRACT];
<a id="L266" name="L266"></a> 266         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>    blockAtt     = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)    attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_BLOCK];
<a id="L267" name="L267"></a> 267         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  defaultAtt   = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)  attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_DEFAULT];
<a id="L268" name="L268"></a> 268         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>    finalAtt     = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)    attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_FINAL];
<a id="L269" name="L269"></a> 269         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  fixedAtt     = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)  attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_FIXED];
<a id="L270" name="L270"></a> 270         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>    formAtt      = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)    attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_FORM];
<a id="L271" name="L271"></a> 271         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>  nameAtt      = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)  attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_NAME];
<a id="L272" name="L272"></a> 272         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> nillableAtt  = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_NILLABLE];
<a id="L273" name="L273"></a> 273         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>   subGroupAtt  = (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>)   attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_SUBSGROUP];
<a id="L274" name="L274"></a> 274         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>   typeAtt      = (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>)   attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_TYPE];
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276         <em class="comment">// Step 1: get declaration information</em>
<a id="L277" name="L277"></a> 277 
<a id="L278" name="L278"></a> 278         <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <strong class="reserved">null</strong>;
<a id="L279" name="L279"></a> 279         <strong class="reserved">if</strong> (fSchemaHandler.fDeclPool !=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = fSchemaHandler.fDeclPool.<a href="../D/18676.html" title="Multiple defined in 2 places.">getElementDecl</a>();
<a id="L281" name="L281"></a> 281         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = <strong class="reserved">new</strong> <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a>();
<a id="L283" name="L283"></a> 283         <em class="brace">}</em>
<a id="L284" name="L284"></a> 284         <em class="comment">// get 'name'</em>
<a id="L285" name="L285"></a> 285         <strong class="reserved">if</strong> (nameAtt != <strong class="reserved">null</strong>)
<a id="L286" name="L286"></a> 286             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fName = fSymbolTable.<a href="../D/11099.html" title="Multiple defined in 6 places.">addSymbol</a>(nameAtt);
<a id="L287" name="L287"></a> 287 
<a id="L288" name="L288"></a> 288         <em class="comment">// get 'target namespace'</em>
<a id="L289" name="L289"></a> 289         <strong class="reserved">if</strong> (isGlobal) <em class="brace">{</em>
<a id="L290" name="L290"></a> 290             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fTargetNamespace = schemaDoc.fTargetNamespace;
<a id="L291" name="L291"></a> 291             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/32993.html" title="Multiple defined in 2 places.">setIsGlobal</a>();
<a id="L292" name="L292"></a> 292         <em class="brace">}</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> <strong class="reserved">instanceof</strong> <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)
<a id="L295" name="L295"></a> 295                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setIsLocal</a>((<a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L296" name="L296"></a> 296 
<a id="L297" name="L297"></a> 297             <strong class="reserved">if</strong> (formAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298                 <strong class="reserved">if</strong> (formAtt.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>() == <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.FORM_QUALIFIED)
<a id="L299" name="L299"></a> 299                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fTargetNamespace = schemaDoc.fTargetNamespace;
<a id="L300" name="L300"></a> 300                 <strong class="reserved">else</strong>
<a id="L301" name="L301"></a> 301                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fTargetNamespace = <strong class="reserved">null</strong>;
<a id="L302" name="L302"></a> 302             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (schemaDoc.fAreLocalElementsQualified) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fTargetNamespace = schemaDoc.fTargetNamespace;
<a id="L304" name="L304"></a> 304             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L305" name="L305"></a> 305                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fTargetNamespace = <strong class="reserved">null</strong>;
<a id="L306" name="L306"></a> 306             <em class="brace">}</em>
<a id="L307" name="L307"></a> 307         <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<a id="L309" name="L309"></a> 309         <em class="comment">// get 'block', 'final', 'nillable', 'abstract'</em>
<a id="L310" name="L310"></a> 310          <strong class="reserved">if</strong> (blockAtt == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311              <em class="comment">// use defaults</em>
<a id="L312" name="L312"></a> 312              <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fBlock = schemaDoc.fBlockDefault;
<a id="L313" name="L313"></a> 313              <em class="comment">// discard valid Block 'Default' values that are invalid for Block</em>
<a id="L314" name="L314"></a> 314              <em class="comment">// respect #all</em>
<a id="L315" name="L315"></a> 315              <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fBlock != <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_ALL) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316                  <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fBlock &amp;= (<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION | <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION | <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_SUBSTITUTION);
<a id="L317" name="L317"></a> 317              <em class="brace">}</em>
<a id="L318" name="L318"></a> 318          <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L319" name="L319"></a> 319              <em class="comment">// use specified values</em>
<a id="L320" name="L320"></a> 320              <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fBlock = blockAtt.<a href="../D/34461.html" title="Multiple defined in 8 places.">shortValue</a>();
<a id="L321" name="L321"></a> 321              <em class="comment">// check for valid values</em>
<a id="L322" name="L322"></a> 322              <strong class="reserved">if</strong> ((<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fBlock != <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_ALL)
<a id="L323" name="L323"></a> 323                  &amp;&amp;
<a id="L324" name="L324"></a> 324                  ((<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fBlock | <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION_RESTRICTION_SUBSTITION)
<a id="L325" name="L325"></a> 325                      != <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION_RESTRICTION_SUBSTITION)) <em class="brace">{</em>
<a id="L326" name="L326"></a> 326                  <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>(
<a id="L327" name="L327"></a> 327                          "s4s-att-invalid-value",
<a id="L328" name="L328"></a> 328                          <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fName, "block", "must be (#all | List of (extension | restriction | substitution))"<em class="brace">}</em>,
<a id="L329" name="L329"></a> 329                          elmDecl);
<a id="L330" name="L330"></a> 330              <em class="brace">}</em>
<a id="L331" name="L331"></a> 331         <em class="brace">}</em>
<a id="L332" name="L332"></a> 332 
<a id="L333" name="L333"></a> 333         <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fFinal = finalAtt == <strong class="reserved">null</strong> ? schemaDoc.fFinalDefault : finalAtt.<a href="../D/34461.html" title="Multiple defined in 8 places.">shortValue</a>();
<a id="L334" name="L334"></a> 334         <em class="comment">// discard valid Final 'Default' values that are invalid for Final</em>
<a id="L335" name="L335"></a> 335         <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fFinal &amp;= (<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION | <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION);
<a id="L336" name="L336"></a> 336 
<a id="L337" name="L337"></a> 337         <strong class="reserved">if</strong> (nillableAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>())
<a id="L338" name="L338"></a> 338             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L96" title="Defined at 96 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setIsNillable</a>();
<a id="L339" name="L339"></a> 339         <strong class="reserved">if</strong> (abstractAtt != <strong class="reserved">null</strong> &amp;&amp; abstractAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>())
<a id="L340" name="L340"></a> 340             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L99" title="Defined at 99 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setIsAbstract</a>();
<a id="L341" name="L341"></a> 341 
<a id="L342" name="L342"></a> 342         <em class="comment">// get 'value constraint'</em>
<a id="L343" name="L343"></a> 343         <strong class="reserved">if</strong> (fixedAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L344" name="L344"></a> 344             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault = <strong class="reserved">new</strong> <a href="../S/5167.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/impl/dv/ValidatedInfo.java.">ValidatedInfo</a>();
<a id="L345" name="L345"></a> 345             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault.normalizedValue = fixedAtt;
<a id="L346" name="L346"></a> 346             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L90" title="Defined at 90 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setConstraintType</a>(<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.VC_FIXED);
<a id="L347" name="L347"></a> 347         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (defaultAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L348" name="L348"></a> 348             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault = <strong class="reserved">new</strong> <a href="../S/5167.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/impl/dv/ValidatedInfo.java.">ValidatedInfo</a>();
<a id="L349" name="L349"></a> 349             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault.normalizedValue = defaultAtt;
<a id="L350" name="L350"></a> 350             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L90" title="Defined at 90 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setConstraintType</a>(<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.VC_DEFAULT);
<a id="L351" name="L351"></a> 351         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L352" name="L352"></a> 352             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L90" title="Defined at 90 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setConstraintType</a>(<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.VC_NONE);
<a id="L353" name="L353"></a> 353         <em class="brace">}</em>
<a id="L354" name="L354"></a> 354 
<a id="L355" name="L355"></a> 355         <em class="comment">// get 'substitutionGroup affiliation'</em>
<a id="L356" name="L356"></a> 356         <strong class="reserved">if</strong> (subGroupAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L357" name="L357"></a> 357             <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup = (<a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a>)fSchemaHandler.<a href="../D/19320.html" title="Multiple defined in 2 places.">getGlobalDecl</a>(schemaDoc, <a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a>.ELEMENT_TYPE, subGroupAtt, elmDecl);
<a id="L358" name="L358"></a> 358         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359 
<a id="L360" name="L360"></a> 360         <em class="comment">// get 'annotation'</em>
<a id="L361" name="L361"></a> 361         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(elmDecl);
<a id="L362" name="L362"></a> 362         <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation = <strong class="reserved">null</strong>;
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong>(child != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364             annotation = <a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(child, attrValues, <strong class="reserved">false</strong>, schemaDoc);
<a id="L365" name="L365"></a> 365             child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L368" name="L368"></a> 368             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(elmDecl);
<a id="L369" name="L369"></a> 369             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370                 annotation = <a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(elmDecl, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrValues, <strong class="reserved">false</strong>, schemaDoc);
<a id="L371" name="L371"></a> 371             <em class="brace">}</em>
<a id="L372" name="L372"></a> 372         <em class="brace">}</em>
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374         <a href="../S/5373.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xs/XSObjectList.java.">XSObjectList</a> <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>;
<a id="L375" name="L375"></a> 375         <strong class="reserved">if</strong> (annotation != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L376" name="L376"></a> 376             <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>();
<a id="L377" name="L377"></a> 377             ((<a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>)<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>).<a href="../D/11178.html" title="Multiple defined in 2 places.">addXSObject</a> (annotation);
<a id="L378" name="L378"></a> 378         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L379" name="L379"></a> 379             <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>.EMPTY_LIST;
<a id="L380" name="L380"></a> 380         <em class="brace">}</em>
<a id="L381" name="L381"></a> 381         <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fAnnotations = <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>;
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <em class="comment">// get 'type definition'</em>
<a id="L384" name="L384"></a> 384         <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> elementType = <strong class="reserved">null</strong>;
<a id="L385" name="L385"></a> 385         <strong class="reserved">boolean</strong> haveAnonType = <strong class="reserved">false</strong>;
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387         <em class="comment">// Handle Anonymous type if there is one</em>
<a id="L388" name="L388"></a> 388         <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> childName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child);
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391             <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_COMPLEXTYPE)) <em class="brace">{</em>
<a id="L392" name="L392"></a> 392                 elementType = fSchemaHandler.fComplexTypeTraverser.<a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(child, schemaDoc, grammar);
<a id="L393" name="L393"></a> 393                 haveAnonType = <strong class="reserved">true</strong>;
<a id="L394" name="L394"></a> 394                 child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L395" name="L395"></a> 395             <em class="brace">}</em>
<a id="L396" name="L396"></a> 396             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE)) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                 elementType = fSchemaHandler.fSimpleTypeTraverser.<a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(child, schemaDoc, grammar);
<a id="L398" name="L398"></a> 398                 haveAnonType = <strong class="reserved">true</strong>;
<a id="L399" name="L399"></a> 399                 child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L400" name="L400"></a> 400             <em class="brace">}</em>
<a id="L401" name="L401"></a> 401         <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<a id="L403" name="L403"></a> 403         <em class="comment">// Handler type attribute</em>
<a id="L404" name="L404"></a> 404         <strong class="reserved">if</strong> (elementType == <strong class="reserved">null</strong> &amp;&amp; typeAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L405" name="L405"></a> 405             elementType = (<a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>)fSchemaHandler.<a href="../D/19320.html" title="Multiple defined in 2 places.">getGlobalDecl</a>(schemaDoc, <a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a>.TYPEDECL_TYPE, typeAtt, elmDecl);
<a id="L406" name="L406"></a> 406             <strong class="reserved">if</strong> (elementType == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fUnresolvedTypeName = typeAtt;
<a id="L408" name="L408"></a> 408             <em class="brace">}</em>
<a id="L409" name="L409"></a> 409         <em class="brace">}</em>
<a id="L410" name="L410"></a> 410 
<a id="L411" name="L411"></a> 411         <em class="comment">// Get it from the substitutionGroup declaration</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">if</strong> (elementType == <strong class="reserved">null</strong> &amp;&amp; <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413             elementType = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup.fType;
<a id="L414" name="L414"></a> 414         <em class="brace">}</em>
<a id="L415" name="L415"></a> 415 
<a id="L416" name="L416"></a> 416         <strong class="reserved">if</strong> (elementType == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417             elementType = <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.fAnyType;
<a id="L418" name="L418"></a> 418         <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<a id="L420" name="L420"></a> 420         <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fType = elementType;
<a id="L421" name="L421"></a> 421 
<a id="L422" name="L422"></a> 422         <em class="comment">// get 'identity constraint'</em>
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424         <em class="comment">// see if there's something here; it had better be key, keyref or unique.</em>
<a id="L425" name="L425"></a> 425         <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> childName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child);
<a id="L427" name="L427"></a> 427             <strong class="reserved">while</strong> (child != <strong class="reserved">null</strong> &amp;&amp;
<a id="L428" name="L428"></a> 428                     (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_KEY) ||
<a id="L429" name="L429"></a> 429                             childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_KEYREF) ||
<a id="L430" name="L430"></a> 430                             childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_UNIQUE))) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431 
<a id="L432" name="L432"></a> 432                 <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_KEY) ||
<a id="L433" name="L433"></a> 433                         childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_UNIQUE)) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434                     <em class="comment">// need to set &lt;key&gt;/&lt;unique&gt; to hidden before traversing it,</em>
<a id="L435" name="L435"></a> 435                     <em class="comment">// because it has global scope</em>
<a id="L436" name="L436"></a> 436                     <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/32845.html" title="Multiple defined in 4 places.">setHidden</a>(child, fSchemaHandler.fHiddenNodes);
<a id="L437" name="L437"></a> 437                     fSchemaHandler.fUniqueOrKeyTraverser.<a href="../D/35644.html" title="Multiple defined in 11 places.">traverse</a>(child, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, schemaDoc, grammar);
<a id="L438" name="L438"></a> 438                     <strong class="reserved">if</strong>(<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/17062.html" title="Multiple defined in 2 places.">getAttrValue</a>(child, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME).<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0 ) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                         fSchemaHandler.<a href="../D/12460.html" title="Multiple defined in 2 places.">checkForDuplicateNames</a>(
<a id="L440" name="L440"></a> 440                                 (schemaDoc.fTargetNamespace == <strong class="reserved">null</strong>) ? ","+<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/17062.html" title="Multiple defined in 2 places.">getAttrValue</a>(child, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME)
<a id="L441" name="L441"></a> 441                                         : schemaDoc.fTargetNamespace+","+ <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/17062.html" title="Multiple defined in 2 places.">getAttrValue</a>(child, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME),
<a id="L442" name="L442"></a> 442                                         fSchemaHandler.ATTRIBUTE_TYPE, fSchemaHandler.<a href="../S/5082.html#L1992" title="Defined at 1992 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">getIDRegistry</a>(), fSchemaHandler.<a href="../S/5082.html#L1996" title="Defined at 1996 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">getIDRegistry_sub</a>(),
<a id="L443" name="L443"></a> 443                                         child, schemaDoc);
<a id="L444" name="L444"></a> 444                     <em class="brace">}</em>
<a id="L445" name="L445"></a> 445                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_KEYREF)) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                     fSchemaHandler.<a href="../S/5082.html#L2004" title="Defined at 2004 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">storeKeyRef</a>(child, schemaDoc, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L447" name="L447"></a> 447                 <em class="brace">}</em>
<a id="L448" name="L448"></a> 448                 child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L449" name="L449"></a> 449                 <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L450" name="L450"></a> 450                     childName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child);
<a id="L451" name="L451"></a> 451                 <em class="brace">}</em>
<a id="L452" name="L452"></a> 452             <em class="brace">}</em>
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<a id="L455" name="L455"></a> 455         <em class="comment">// Step 3: check against schema for schemas</em>
<a id="L456" name="L456"></a> 456 
<a id="L457" name="L457"></a> 457         <em class="comment">// required attributes</em>
<a id="L458" name="L458"></a> 458         <strong class="reserved">if</strong> (nameAtt == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459             <strong class="reserved">if</strong> (isGlobal)
<a id="L460" name="L460"></a> 460                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-att-must-appear", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ELEMENT, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME<em class="brace">}</em>, elmDecl);
<a id="L461" name="L461"></a> 461             <strong class="reserved">else</strong>
<a id="L462" name="L462"></a> 462                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("src-element.2.1", <strong class="reserved">null</strong>, elmDecl);
<a id="L463" name="L463"></a> 463             nameAtt = NO_NAME;
<a id="L464" name="L464"></a> 464         <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<a id="L466" name="L466"></a> 466         <em class="comment">// element</em>
<a id="L467" name="L467"></a> 467         <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L468" name="L468"></a> 468             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>nameAtt, "(annotation?, (simpleType | complexType)?, (unique | key | keyref)*))", <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child)<em class="brace">}</em>, child);
<a id="L469" name="L469"></a> 469         <em class="brace">}</em>
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471         <em class="comment">// Step 4: check 3.3.3 constraints</em>
<a id="L472" name="L472"></a> 472 
<a id="L473" name="L473"></a> 473         <em class="comment">// src-element</em>
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475         <em class="comment">// 1 default and fixed must not both be present.</em>
<a id="L476" name="L476"></a> 476         <strong class="reserved">if</strong> (defaultAtt != <strong class="reserved">null</strong> &amp;&amp; fixedAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("src-element.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>nameAtt<em class="brace">}</em>, elmDecl);
<a id="L478" name="L478"></a> 478         <em class="brace">}</em>
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480         <em class="comment">// 2 If the item's parent is not &lt;schema&gt;, then all of the following must be true:</em>
<a id="L481" name="L481"></a> 481         <em class="comment">// 2.1 One of ref or name must be present, but not both.</em>
<a id="L482" name="L482"></a> 482         <em class="comment">// This is checked in XSAttributeChecker</em>
<a id="L483" name="L483"></a> 483 
<a id="L484" name="L484"></a> 484         <em class="comment">// 2.2 If ref is present, then all of &lt;complexType&gt;, &lt;simpleType&gt;, &lt;key&gt;, &lt;keyref&gt;, &lt;unique&gt;, nillable, default, fixed, form, block and type must be absent, i.e. only minOccurs, maxOccurs, id are allowed in addition to ref, along with &lt;annotation&gt;.</em>
<a id="L485" name="L485"></a> 485         <em class="comment">// Attributes are checked in XSAttributeChecker, elements are checked in "traverse" method</em>
<a id="L486" name="L486"></a> 486 
<a id="L487" name="L487"></a> 487         <em class="comment">// 3 type and either &lt;simpleType&gt; or &lt;complexType&gt; are mutually exclusive.</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">if</strong> (haveAnonType &amp;&amp; (typeAtt != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L489" name="L489"></a> 489             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("src-element.3", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>nameAtt<em class="brace">}</em>, elmDecl);
<a id="L490" name="L490"></a> 490         <em class="brace">}</em>
<a id="L491" name="L491"></a> 491 
<a id="L492" name="L492"></a> 492         <em class="comment">// Step 5: check 3.3.6 constraints</em>
<a id="L493" name="L493"></a> 493         <em class="comment">// check for NOTATION type</em>
<a id="L494" name="L494"></a> 494         <a href="../S/5097.html#L728" title="Defined at 728 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">checkNotationType</a>(nameAtt, elementType, elmDecl);
<a id="L495" name="L495"></a> 495 
<a id="L496" name="L496"></a> 496         <em class="comment">// e-props-correct</em>
<a id="L497" name="L497"></a> 497 
<a id="L498" name="L498"></a> 498         <em class="comment">// 2 If there is a {value constraint}, the canonical lexical representation of its value must be valid with respect to the {type definition} as defined in Element Default Valid (Immediate) (3.3.6).</em>
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             fValidationState.<a href="../S/5239.html#L80" title="Defined at 80 in src/com/sun/org/apache/xerces/internal/impl/validation/ValidationState.java.">setNamespaceSupport</a>(schemaDoc.fNamespaceSupport);
<a id="L501" name="L501"></a> 501             <strong class="reserved">if</strong> (<a href="../S/5042.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">XSConstraints</a>.<a href="../S/5042.html#L286" title="Defined at 286 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">ElementDefaultValidImmediate</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fType, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault.normalizedValue, fValidationState, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a> ("e-props-correct.2", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>nameAtt, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault.normalizedValue<em class="brace">}</em>, elmDecl);
<a id="L503" name="L503"></a> 503                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault = <strong class="reserved">null</strong>;
<a id="L504" name="L504"></a> 504                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L90" title="Defined at 90 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setConstraintType</a>(<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.VC_NONE);
<a id="L505" name="L505"></a> 505             <em class="brace">}</em>
<a id="L506" name="L506"></a> 506         <em class="brace">}</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508         <em class="comment">// 4 If there is an {substitution group affiliation}, the {type definition} of the element declaration must be validly derived from the {type definition} of the {substitution group affiliation}, given the value of the {substitution group exclusions} of the {substitution group affiliation}, as defined in Type Derivation OK (Complex) (3.4.6) (if the {type definition} is complex) or as defined in Type Derivation OK (Simple) (3.14.6) (if the {type definition} is simple).</em>
<a id="L509" name="L509"></a> 509         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510             <strong class="reserved">if</strong> (!<a href="../S/5042.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">XSConstraints</a>.<a href="../S/5042.html#L115" title="Defined at 115 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">checkTypeDerivationOk</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fType, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup.fType, <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup.fFinal)) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a> ("e-props-correct.4", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>nameAtt, subGroupAtt.<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>+":"+subGroupAtt.localpart<em class="brace">}</em>, elmDecl);
<a id="L512" name="L512"></a> 512                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fSubGroup = <strong class="reserved">null</strong>;
<a id="L513" name="L513"></a> 513             <em class="brace">}</em>
<a id="L514" name="L514"></a> 514         <em class="brace">}</em>
<a id="L515" name="L515"></a> 515 
<a id="L516" name="L516"></a> 516         <em class="comment">// 5 If the {type definition} or {type definition}'s {content type} is or is derived from ID then there must not be a {value constraint}.</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518             <strong class="reserved">if</strong> ((elementType.<a href="../D/23317.html" title="Multiple defined in 4 places.">getTypeCategory</a>() == <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>.SIMPLE_TYPE &amp;&amp;
<a id="L519" name="L519"></a> 519                     ((<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)elementType).<a href="../D/25667.html" title="Multiple defined in 3 places.">isIDType</a>()) ||
<a id="L520" name="L520"></a> 520                     (elementType.<a href="../D/23317.html" title="Multiple defined in 4 places.">getTypeCategory</a>() == <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>.COMPLEX_TYPE &amp;&amp;
<a id="L521" name="L521"></a> 521                             ((<a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)elementType).<a href="../S/5102.html#L148" title="Defined at 148 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">containsTypeID</a>())) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a> ("e-props-correct.5", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fName<em class="brace">}</em>, elmDecl);
<a id="L523" name="L523"></a> 523                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fDefault = <strong class="reserved">null</strong>;
<a id="L524" name="L524"></a> 524                 <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../S/5105.html#L90" title="Defined at 90 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">setConstraintType</a>(<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.VC_NONE);
<a id="L525" name="L525"></a> 525             <em class="brace">}</em>
<a id="L526" name="L526"></a> 526         <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528         <em class="comment">// Element without a name. Return null.</em>
<a id="L529" name="L529"></a> 529         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fName == <strong class="reserved">null</strong>)
<a id="L530" name="L530"></a> 530             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532         <em class="comment">// Step 5: register the element decl to the grammar</em>
<a id="L533" name="L533"></a> 533         <strong class="reserved">if</strong> (isGlobal) <em class="brace">{</em>
<a id="L534" name="L534"></a> 534             grammar.<a href="../D/10822.html" title="Multiple defined in 3 places.">addGlobalElementDeclAll</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536             <strong class="reserved">if</strong> (grammar.<a href="../D/19322.html" title="Multiple defined in 3 places.">getGlobalElementDecl</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fName) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L537" name="L537"></a> 537                 grammar.<a href="../D/10821.html" title="Multiple defined in 7 places.">addGlobalElementDecl</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L538" name="L538"></a> 538             <em class="brace">}</em>
<a id="L539" name="L539"></a> 539 
<a id="L540" name="L540"></a> 540             <em class="comment">// we also add the element to the tolerate duplicates list as well</em>
<a id="L541" name="L541"></a> 541             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> loc = fSchemaHandler.<a href="../S/5082.html#L1922" title="Defined at 1922 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">schemaDocument2SystemId</a>(schemaDoc);
<a id="L542" name="L542"></a> 542             <strong class="reserved">final</strong> <a href="../S/5105.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/XSElementDecl.java.">XSElementDecl</a> element2 = grammar.<a href="../D/19322.html" title="Multiple defined in 3 places.">getGlobalElementDecl</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.fName, loc);
<a id="L543" name="L543"></a> 543             <strong class="reserved">if</strong> (element2 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L544" name="L544"></a> 544                 grammar.<a href="../D/10821.html" title="Multiple defined in 7 places.">addGlobalElementDecl</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, loc);
<a id="L545" name="L545"></a> 545             <em class="brace">}</em>
<a id="L546" name="L546"></a> 546 
<a id="L547" name="L547"></a> 547             <em class="comment">// if we are tolerating duplicates, and we found a duplicate declaration</em>
<a id="L548" name="L548"></a> 548             <em class="comment">// use the duplicate one instead</em>
<a id="L549" name="L549"></a> 549             <strong class="reserved">if</strong> (fSchemaHandler.fTolerateDuplicates) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550                 <strong class="reserved">if</strong> (element2 != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551                     <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = element2;
<a id="L552" name="L552"></a> 552                 <em class="brace">}</em>
<a id="L553" name="L553"></a> 553                 fSchemaHandler.<a href="../D/10821.html" title="Multiple defined in 7 places.">addGlobalElementDecl</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>);
<a id="L554" name="L554"></a> 554             <em class="brace">}</em>
<a id="L555" name="L555"></a> 555         <em class="brace">}</em>
<a id="L556" name="L556"></a> 556 
<a id="L557" name="L557"></a> 557         <strong class="reserved">return</strong> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>;
<a id="L558" name="L558"></a> 558     <em class="brace">}</em>
<a id="L559" name="L559"></a> 559 
<a id="L560" name="L560"></a> 560     <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>(<a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a> symbolTable, <strong class="reserved">boolean</strong> <a href="../S/5082.html#L677" title="Defined at 677 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">validateAnnotations</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">super</strong>.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>(symbolTable, <a href="../S/5082.html#L677" title="Defined at 677 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">validateAnnotations</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L562" name="L562"></a> 562         fDeferTraversingLocalElements = <strong class="reserved">true</strong>;
<a id="L563" name="L563"></a> 563     <em class="brace">}</em> <em class="comment">// reset()</em>
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L100">[^]</a><a href="#L560">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>