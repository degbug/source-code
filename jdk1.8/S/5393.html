<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L689">[^]</a><a href="#L3087">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L689" title="Defined at 689.">createDateTime</a></li>
<li><a href="#L727" title="Defined at 727.">createDateTime</a></li>
<li><a href="#L767" title="Defined at 767.">createDateTime</a></li>
<li><a href="#L808" title="Defined at 808.">createDate</a></li>
<li><a href="#L840" title="Defined at 840.">createTime</a></li>
<li><a href="#L874" title="Defined at 874.">createTime</a></li>
<li><a href="#L909" title="Defined at 909.">createTime</a></li>
<li><a href="#L942" title="Defined at 942.">getEon</a></li>
<li><a href="#L958" title="Defined at 958.">getYear</a></li>
<li><a href="#L977" title="Defined at 977.">getEonAndYear</a></li>
<li><a href="#L1007" title="Defined at 1007.">getMonth</a></li>
<li><a href="#L1019" title="Defined at 1019.">getDay</a></li>
<li><a href="#L1032" title="Defined at 1032.">getTimezone</a></li>
<li><a href="#L1044" title="Defined at 1044.">getHour</a></li>
<li><a href="#L1056" title="Defined at 1056.">getMinute</a></li>
<li><a href="#L1078" title="Defined at 1078.">getSecond</a></li>
<li><a href="#L1085" title="Defined at 1085.">getSeconds</a></li>
<li><a href="#L1117" title="Defined at 1117.">getMillisecond</a></li>
<li><a href="#L1145" title="Defined at 1145.">getFractionalSecond</a></li>
<li><a href="#L1162" title="Defined at 1162.">setYear</a></li>
<li><a href="#L1186" title="Defined at 1186.">setYear</a></li>
<li><a href="#L1209" title="Defined at 1209.">setEon</a></li>
<li><a href="#L1229" title="Defined at 1229.">setMonth</a></li>
<li><a href="#L1247" title="Defined at 1247.">setDay</a></li>
<li><a href="#L1266" title="Defined at 1266.">setTimezone</a></li>
<li><a href="#L1289" title="Defined at 1289.">setTime</a></li>
<li><a href="#L1293" title="Defined at 1293.">invalidFieldValue</a></li>
<li><a href="#L1300" title="Defined at 1300.">testHour</a></li>
<li><a href="#L1315" title="Defined at 1315.">setHour</a></li>
<li><a href="#L1320" title="Defined at 1320.">setHour</a></li>
<li><a href="#L1335" title="Defined at 1335.">setMinute</a></li>
<li><a href="#L1342" title="Defined at 1342.">setSecond</a></li>
<li><a href="#L1366" title="Defined at 1366.">setTime</a></li>
<li><a href="#L1406" title="Defined at 1406.">setTime</a></li>
<li><a href="#L1446" title="Defined at 1446.">compare</a></li>
<li><a href="#L1522" title="Defined at 1522.">normalize</a></li>
<li><a href="#L1545" title="Defined at 1545.">normalizeToTimezone</a></li>
<li><a href="#L1582" title="Defined at 1582.">internalCompare</a></li>
<li><a href="#L1635" title="Defined at 1635.">compareField</a></li>
<li><a href="#L1652" title="Defined at 1652.">compareField</a></li>
<li><a href="#L1662" title="Defined at 1662.">compareField</a></li>
<li><a href="#L1686" title="Defined at 1686.">equals</a></li>
<li><a href="#L1699" title="Defined at 1699.">hashCode</a></li>
<li><a href="#L1749" title="Defined at 1749.">parse</a></li>
<li><a href="#L1768" title="Defined at 1768.">toXMLFormat</a></li>
<li><a href="#L1906" title="Defined at 1906.">getXMLSchemaType</a></li>
<li><a href="#L1947" title="Defined at 1947.">isValid</a></li>
<li><a href="#L2016" title="Defined at 2016.">add</a></li>
<li><a href="#L2271" title="Defined at 2271.">maximumDayInMonthFor</a></li>
<li><a href="#L2286" title="Defined at 2286.">maximumDayInMonthFor</a></li>
<li><a href="#L2392" title="Defined at 2392.">toGregorianCalendar</a></li>
<li><a href="#L2451" title="Defined at 2451.">getDefaultLocale</a></li>
<li><a href="#L2526" title="Defined at 2526.">toGregorianCalendar</a></li>
<li><a href="#L2646" title="Defined at 2646.">getTimeZone</a></li>
<li><a href="#L2686" title="Defined at 2686.">clone</a></li>
<li><a href="#L2702" title="Defined at 2702.">clear</a></li>
<li><a href="#L2714" title="Defined at 2714.">setMillisecond</a></li>
<li><a href="#L2725" title="Defined at 2725.">setFractionalSecond</a></li>
<li><a href="#L2761" title="Defined at 2761.">parse</a></li>
<li><a href="#L2828" title="Defined at 2828.">peek</a></li>
<li><a href="#L2835" title="Defined at 2835.">read</a></li>
<li><a href="#L2842" title="Defined at 2842.">skip</a></li>
<li><a href="#L2848" title="Defined at 2848.">parseInt</a></li>
<li><a href="#L2866" title="Defined at 2866.">parseAndSetYear</a></li>
<li><a href="#L2901" title="Defined at 2901.">parseBigDecimal</a></li>
<li><a href="#L2917" title="Defined at 2917.">isDigit</a></li>
<li><a href="#L2934" title="Defined at 2934.">format</a></li>
<li><a href="#L3048" title="Defined at 3048.">print2Number</a></li>
<li><a href="#L3060" title="Defined at 3060.">print4Number</a></li>
<li><a href="#L3076" title="Defined at 3076.">sanitize</a></li>
<li><a href="#L3087" title="Defined at 3087.">reset</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2004, 2006, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.jaxp.datatype;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.math.BigDecimal;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.math.BigInteger;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.TimeZone;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Calendar;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.GregorianCalendar;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.Date;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.Locale;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> javax.xml.datatype.DatatypeConstants;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> javax.xml.datatype.Duration;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> javax.xml.datatype.XMLGregorianCalendar;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> javax.xml.namespace.QName;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.DatatypeMessageFormatter;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.utils.SecuritySupport;
<a id="L43" name="L43"></a>  43 
<div class="comment">
  <p>Representation for W3C XML Schema 1.0 date/time datatypes.
  Specifically, these date/time datatypes are
  {@link DatatypeConstants#DATETIME dateTime},
  {@link DatatypeConstants#TIME time},
  {@link DatatypeConstants#DATE date},
  {@link DatatypeConstants#GYEARMONTH gYearMonth},
  {@link DatatypeConstants#GMONTHDAY gMonthDay},
  {@link DatatypeConstants#GYEAR gYear},
  {@link DatatypeConstants#GMONTH gMonth} and
  {@link DatatypeConstants#GDAY gDay}
  defined in the XML Namespace
  <code>"http://www.w3.org/2001/XMLSchema"</code>.
  These datatypes are normatively defined in
  <a href="http://www.w3.org/TR/xmlschema-2/#dateTime">W3C XML Schema 1.0 Part 2, Section 3.2.7-14</a>.</p>
  <p>The table below defines the mapping between XML Schema 1.0
  date/time datatype fields and this class' fields. It also summarizes
  the value constraints for the date and time fields defined in
  <a href="http://www.w3.org/TR/xmlschema-2/#isoformats">W3C XML Schema 1.0 Part 2, Appendix D,
  <i>ISO 8601 Date and Time Formats</i></a>.</p>
  <a name="datetimefieldsmapping"></a>
  <a name="datetimefield-year"></a><a name="datetimefield-month"></a><a name="datetimefield-day"></a><a name="datetimefield-hour"></a><a name="datetimefield-minute"></a><a name="datetimefield-second"></a><table border="2" rules="all" cellpadding="2">
    <thead>
      <tr>
        <th align="center" colspan="3">
          Date/time datatype field mapping between XML Schema 1.0 and Java representation
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>XML Schema 1.0<br>
            datatype<br>
             field</th>
        <th>Related<br>XMLGregorianCalendar<br>Accessor(s)</th>
        <th>Value Range</th>
      </tr>
      <tr>
        <td> year </td>
        <td> {@link #getYear()} + {@link #getEon()} or<br>
             {@link #getEonAndYear}
        </td>
        <td> <code>getYear()</code> is a value between -(10^9-1) to (10^9)-1
             or {@link DatatypeConstants#FIELD_UNDEFINED}.<br>
             {@link #getEon()} is high order year value in billion of years.<br>
             <code>getEon()</code> has values greater than or equal to (10^9) or less than or equal to -(10^9).
             A value of null indicates field is undefined.<br>
             Given that <a href="http://www.w3.org/2001/05/xmlschema-errata#e2-63">XML Schema 1.0 errata</a> states that the year zero
             will be a valid lexical value in a future version of XML Schema,
             this class allows the year field to be set to zero. Otherwise,
             the year field value is handled exactly as described
             in the errata and [ISO-8601-1988]. Note that W3C XML Schema 1.0
             validation does not allow for the year field to have a value of zero.
             </td>
      </tr>
      <tr>
        <td> month </td>
        <td> {@link #getMonth()} </td>
        <td> 1 to 12 or {@link DatatypeConstants#FIELD_UNDEFINED} </td>
      </tr>
      <tr>
        <td> day </td>
        <td> {@link #getDay()} </td>
        <td> Independent of month, max range is 1 to 31 or {@link DatatypeConstants#FIELD_UNDEFINED}.<br>
             The normative value constraint stated relative to month
             field's value is in <a href="http://www.w3.org/TR/xmlschema-2/#isoformats">W3C XML Schema 1.0 Part 2, Appendix D</a>.
        </td>
      </tr>
      <tr>
        <td> hour </td>
        <td> {@link #getHour()} </td>
        <td>
          0 to 23 or {@link DatatypeConstants#FIELD_UNDEFINED}.
          An hour value of 24 is allowed to be set in the lexical space provided the minute and second
          field values are zero. However, an hour value of 24 is not allowed in value space and will be
          transformed to represent the value of the first instance of the following day as per
          <a href="http://www.w3.org/TR/xmlschema-2/#built-in-primitive-datatypes">
          XML Schema Part 2: Datatypes Second Edition, 3.2 Primitive datatypes</a>.
        </td>
      </tr>
      <tr>
        <td> minute </td>
        <td> {@link #getMinute()} </td>
        <td> 0 to 59 or {@link DatatypeConstants#FIELD_UNDEFINED} </td>
      </tr>
      <tr>
        <td>second</td>
        <td>
          {@link #getSecond()} + {@link #getMillisecond()}/1000 or<br>
          {@link #getSecond()} + {@link #getFractionalSecond()}
        </td>
        <td>
          {@link #getSecond()} from 0 to 60 or {@link DatatypeConstants#FIELD_UNDEFINED}.<br>
          <i>(Note: 60 only allowable for leap second.)</i><br>
          {@link #getFractionalSecond()} allows for infinite precision over the range from 0.0 to 1.0 when
          the {@link #getSecond()} is defined.<br>
          <code>FractionalSecond</code> is optional and has a value of <code>null</code> when it is undefined.<br>
             {@link #getMillisecond()} is the convenience
             millisecond precision of value of {@link #getFractionalSecond()}.
        </td>
      </tr>
      <tr id="datetimefield-timezone">
        <td> timezone </td>
        <td> {@link #getTimezone()} </td>
        <td> Number of minutes or {@link DatatypeConstants#FIELD_UNDEFINED}.
          Value range from -14 hours (-14 * 60 minutes) to 14 hours (14 * 60 minutes).
        </td>
      </tr>
    </tbody>
   </table>
  <p>All maximum value space constraints listed for the fields in the table
  above are checked by factory methods, setter methods and parse methods of
  this class. <code>IllegalArgumentException</code> is thrown when
  parameter's value is outside the maximum value constraint for the field.
  Validation checks, for example, whether days in month should be
  limited to 29, 30 or 31 days, that are dependent on the values of other
  fields are not checked by these methods.
  </p>
  <p>The following operations are defined for this class:
  </p><ul><li>factory methods to create instances</li><li>accessors/mutators for independent date/time fields</li><li>conversion between this class and W3C XML Schema 1.0 lexical representation</li><li>conversion between this class and <code>java.util.GregorianCalendar</code></li><li>partial order relation comparator method, {@link #compare(XMLGregorianCalendar)}</li><li>{@link #equals(Object)} defined relative to {@link #compare(XMLGregorianCalendar)}.</li><li> addition operation with {@link javax.xml.datatype.Duration}.
  instance as defined in <a href="http://www.w3.org/TR/xmlschema-2/#adding-durations-to-dateTimes">
  W3C XML Schema 1.0 Part 2, Appendix E, <i>Adding durations to dateTimes</i></a>.</li>
  </ul>
  <p></p>
  @author <a href="mailto:Kohsuke.Kawaguchi@Sun.com">Kohsuke Kawaguchi</a>
  @author <a href="mailto:Joseph.Fialli@Sun.com">Joseph Fialli</a>
  @author <a href="mailto:Sunitha.Reddy@Sun.com">Sunitha Reddy</a>
  @version $Revision: 1.14 $, $Date: 2010-11-10 07:41:41 $
  @see javax.xml.datatype.Duration
  @since 1.5</div>
<a id="L193" name="L193"></a> 193 
<a id="L194" name="L194"></a> 194 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/9024.html" title="Multiple referred from 23 places.">XMLGregorianCalendarImpl</a>
<a id="L195" name="L195"></a> 195         <strong class="reserved">extends</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>
<a id="L196" name="L196"></a> 196         <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>, <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L197" name="L197"></a> 197 
<div class="comment">
      <p>Eon of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L201" name="L201"></a> 201     <strong class="reserved">private</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> eon = <strong class="reserved">null</strong>;
<a id="L202" name="L202"></a> 202 
<div class="comment">
      <p>Year of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L206" name="L206"></a> 206     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L207" name="L207"></a> 207 
<div class="comment">
      <p>Month of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L211" name="L211"></a> 211     <strong class="reserved">private</strong> <strong class="reserved">int</strong> month = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L212" name="L212"></a> 212 
<div class="comment">
      <p>Day of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">private</strong> <strong class="reserved">int</strong> day = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L217" name="L217"></a> 217 
<div class="comment">
      <p>Timezone of this <code>XMLGregorianCalendar</code> in minutes.</p></div>
<a id="L221" name="L221"></a> 221     <strong class="reserved">private</strong> <strong class="reserved">int</strong> timezone = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L222" name="L222"></a> 222 
<div class="comment">
      <p>Hour of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">private</strong> <strong class="reserved">int</strong> hour = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L227" name="L227"></a> 227 
<div class="comment">
      <p>Minute of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">private</strong> <strong class="reserved">int</strong> minute = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L232" name="L232"></a> 232 
<div class="comment">
      <p>Second of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">private</strong> <strong class="reserved">int</strong> second = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ;
<a id="L237" name="L237"></a> 237 
<div class="comment">
      <p>Fractional second of this <code>XMLGregorianCalendar</code>.</p></div>
<a id="L241" name="L241"></a> 241     <strong class="reserved">private</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fractionalSecond = <strong class="reserved">null</strong>;
<a id="L242" name="L242"></a> 242 
<div class="comment">
      <p>Constant to represent a billion.</p></div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> BILLION = <strong class="reserved">new</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>("1000000000");
<a id="L247" name="L247"></a> 247 
<div class="comment">
        <p>Obtain a pure Gregorian Calendar by calling
        GregorianCalendar.setChange(PURE_GREGORIAN_CHANGE). </p></div>
<a id="L252" name="L252"></a> 252     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> PURE_GREGORIAN_CHANGE =
<a id="L253" name="L253"></a> 253         <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE);
<a id="L254" name="L254"></a> 254 
<div class="comment">
      Year index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L258" name="L258"></a> 258     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>   = 0;
<a id="L259" name="L259"></a> 259 
<div class="comment">
      Month index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L263" name="L263"></a> 263     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MONTH  = 1;
<a id="L264" name="L264"></a> 264 
<div class="comment">
      Day index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> DAY    = 2;
<a id="L269" name="L269"></a> 269 
<div class="comment">
      Hour index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L273" name="L273"></a> 273     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> HOUR   = 3;
<a id="L274" name="L274"></a> 274 
<div class="comment">
      Minute index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MINUTE = 4;
<a id="L279" name="L279"></a> 279 
<div class="comment">
      Second index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L283" name="L283"></a> 283     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SECOND = 5;
<a id="L284" name="L284"></a> 284 
<div class="comment">
      Second index for MIN_ and MAX_FIELD_VALUES.</div>
<a id="L288" name="L288"></a> 288     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> MILLISECOND = 6;
<a id="L289" name="L289"></a> 289 
<div class="comment">
      Timezone index for MIN_ and MAX_FIELD_VALUES</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> TIMEZONE = 7;
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295 
<div class="comment">
      field names indexed by YEAR..TIMEZONE.</div>
<a id="L299" name="L299"></a> 299     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> FIELD_NAME[] = <em class="brace">{</em>
<a id="L300" name="L300"></a> 300         "Year",
<a id="L301" name="L301"></a> 301         "Month",
<a id="L302" name="L302"></a> 302         "Day",
<a id="L303" name="L303"></a> 303         "Hour",
<a id="L304" name="L304"></a> 304         "Minute",
<a id="L305" name="L305"></a> 305         "Second",
<a id="L306" name="L306"></a> 306         "Millisecond",
<a id="L307" name="L307"></a> 307         "Timezone"
<a id="L308" name="L308"></a> 308     <em class="brace">}</em>;
<a id="L309" name="L309"></a> 309 
<div class="comment">
      <p>Stream Unique Identifier.</p>
      <p>TODO: Serialization should use the XML string representation as
      the serialization format to ensure future compatibility.</p></div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 1L;
<a id="L317" name="L317"></a> 317 
<div class="comment">
      <p>Use as a template for default field values when
      converting to a {@link GregorianCalendar}, set to a leap
      year date of January 1, 0400 at midnight.</p>
      <p>Fields that are optional for an <code>xsd:dateTime</code> instances are defaulted to not being set to any value.
      <code>XMLGregorianCalendar</code> fields millisecond, fractional second and timezone return the value indicating
      that the field is not set, {@link DatatypeConstants#FIELD_UNDEFINED} for millisecond and timezone
      and <code>null</code> for fractional second.</p>
      @see #toGregorianCalendar(TimeZone, Locale, XMLGregorianCalendar)</div>
<a id="L330" name="L330"></a> 330     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> LEAP_YEAR_DEFAULT =
<a id="L331" name="L331"></a> 331                 <a href="../D/13754.html" title="Multiple defined in 4 places.">createDateTime</a>(
<a id="L332" name="L332"></a> 332                         400,  <em class="comment">//year</em>
<a id="L333" name="L333"></a> 333                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.JANUARY,  <em class="comment">//month</em>
<a id="L334" name="L334"></a> 334                         1,  <em class="comment">// day</em>
<a id="L335" name="L335"></a> 335                     0,  <em class="comment">// hour</em>
<a id="L336" name="L336"></a> 336                     0,  <em class="comment">// minute</em>
<a id="L337" name="L337"></a> 337                     0,  <em class="comment">// second</em>
<a id="L338" name="L338"></a> 338                     <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED,  <em class="comment">// milliseconds</em>
<a id="L339" name="L339"></a> 339                     <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED <em class="comment">// timezone</em>
<a id="L340" name="L340"></a> 340                 );
<a id="L341" name="L341"></a> 341 
<a id="L342" name="L342"></a> 342     <em class="comment">// Constructors</em>
<a id="L343" name="L343"></a> 343 
<div class="comment">
      Constructs a new XMLGregorianCalendar object.
      String parsing documented by {@link #parse(String)}.
      Returns a non-null valid XMLGregorianCalendar object that holds the
      value indicated by the lexicalRepresentation parameter.
      @param lexicalRepresentation
           Lexical representation of one the eight
           XML Schema date/time datatypes.
      @throws IllegalArgumentException
           If the given string does not conform as documented in
           {@link #parse(String)}.
      @throws NullPointerException
           If the given string is null.</div>
<a id="L361" name="L361"></a> 361     <strong class="reserved">protected</strong> XMLGregorianCalendarImpl(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lexicalRepresentation)
<a id="L362" name="L362"></a> 362             <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L363" name="L363"></a> 363 
<a id="L364" name="L364"></a> 364         <em class="comment">// compute format string for this lexical representation.</em>
<a id="L365" name="L365"></a> 365         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <strong class="reserved">null</strong>;
<a id="L366" name="L366"></a> 366         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lexRep = lexicalRepresentation;
<a id="L367" name="L367"></a> 367         <strong class="reserved">final</strong> <strong class="reserved">int</strong> NOT_FOUND = -1;
<a id="L368" name="L368"></a> 368         <strong class="reserved">int</strong> lexRepLength = lexRep.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <em class="comment">// current parser needs a format string,</em>
<a id="L371" name="L371"></a> 371         <em class="comment">// use following heuristics to figure out what xml schema date/time</em>
<a id="L372" name="L372"></a> 372         <em class="comment">// datatype this lexical string could represent.</em>
<a id="L373" name="L373"></a> 373         <em class="comment">// Fix 4971612: invalid SCCS macro substitution in data string,</em>
<a id="L374" name="L374"></a> 374         <em class="comment">//   no %{alpha}% to avoid SCCS maco substitution</em>
<a id="L375" name="L375"></a> 375         <strong class="reserved">if</strong> (lexRep.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('T') != NOT_FOUND) <em class="brace">{</em>
<a id="L376" name="L376"></a> 376             <em class="comment">// found Date Time separater, must be xsd:DateTime</em>
<a id="L377" name="L377"></a> 377             <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "%Y-%M-%DT%h:%m:%s" + "%z";
<a id="L378" name="L378"></a> 378         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (lexRepLength &gt;= 3 &amp;&amp; lexRep.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) == ':') <em class="brace">{</em>
<a id="L379" name="L379"></a> 379             <em class="comment">// found ":", must be xsd:Time</em>
<a id="L380" name="L380"></a> 380             <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "%h:%m:%s" + "%z";
<a id="L381" name="L381"></a> 381         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (lexRep.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("--")) <em class="brace">{</em>
<a id="L382" name="L382"></a> 382             <em class="comment">// check for gDay || gMonth || gMonthDay</em>
<a id="L383" name="L383"></a> 383             <strong class="reserved">if</strong> (lexRepLength &gt;= 3 &amp;&amp; lexRep.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(2) == '-') <em class="brace">{</em>
<a id="L384" name="L384"></a> 384                 <em class="comment">// gDay, ---DD(z?)</em>
<a id="L385" name="L385"></a> 385                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "---%D" + "%z";
<a id="L386" name="L386"></a> 386             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (lexRepLength == 4     <em class="comment">// --MM</em>
<a id="L387" name="L387"></a> 387                     || lexRepLength == 5     <em class="comment">// --MMZ</em>
<a id="L388" name="L388"></a> 388                     || lexRepLength == 10) <em class="brace">{</em> <em class="comment">// --MMSHH:MM</em>
<a id="L389" name="L389"></a> 389                 <em class="comment">// gMonth, --MM(z?),</em>
<a id="L390" name="L390"></a> 390                 <em class="comment">// per XML Schema Errata, used to be --MM--(z?)</em>
<a id="L391" name="L391"></a> 391                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "--%M" + "%z";
<a id="L392" name="L392"></a> 392             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L393" name="L393"></a> 393                 <em class="comment">// gMonthDay, --MM-DD(z?), (or invalid lexicalRepresentation)</em>
<a id="L394" name="L394"></a> 394                 <em class="comment">// length should be:</em>
<a id="L395" name="L395"></a> 395                 <em class="comment">//  7: --MM-DD</em>
<a id="L396" name="L396"></a> 396                 <em class="comment">//  8: --MM-DDZ</em>
<a id="L397" name="L397"></a> 397                 <em class="comment">// 13: --MM-DDSHH:MM</em>
<a id="L398" name="L398"></a> 398                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "--%M-%D" + "%z";
<a id="L399" name="L399"></a> 399             <em class="brace">}</em>
<a id="L400" name="L400"></a> 400         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L401" name="L401"></a> 401             <em class="comment">// check for Date || GYear | GYearMonth</em>
<a id="L402" name="L402"></a> 402             <strong class="reserved">int</strong> countSeparator = 0;
<a id="L403" name="L403"></a> 403 
<a id="L404" name="L404"></a> 404             <em class="comment">// start at index 1 to skip potential negative sign for year.</em>
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406 
<a id="L407" name="L407"></a> 407             <strong class="reserved">int</strong> timezoneOffset = lexRep.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L408" name="L408"></a> 408             <strong class="reserved">if</strong> (timezoneOffset != NOT_FOUND) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409 
<a id="L410" name="L410"></a> 410                 <em class="comment">// found timezone, strip it off for distinguishing</em>
<a id="L411" name="L411"></a> 411                 <em class="comment">// between Date, GYear and GYearMonth so possible</em>
<a id="L412" name="L412"></a> 412                 <em class="comment">// negative sign in timezone is not mistaken as</em>
<a id="L413" name="L413"></a> 413                 <em class="comment">// a separator.</em>
<a id="L414" name="L414"></a> 414                 lexRepLength -= 6;
<a id="L415" name="L415"></a> 415             <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 1; i &lt; lexRepLength; i++) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                 <strong class="reserved">if</strong> (lexRep.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i) == '-') <em class="brace">{</em>
<a id="L419" name="L419"></a> 419                     countSeparator++;
<a id="L420" name="L420"></a> 420                 <em class="brace">}</em>
<a id="L421" name="L421"></a> 421             <em class="brace">}</em>
<a id="L422" name="L422"></a> 422             <strong class="reserved">if</strong> (countSeparator == 0) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423                 <em class="comment">// GYear</em>
<a id="L424" name="L424"></a> 424                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "%Y" + "%z";
<a id="L425" name="L425"></a> 425             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (countSeparator == 1) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426                 <em class="comment">// GYearMonth</em>
<a id="L427" name="L427"></a> 427                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "%Y-%M" + "%z";
<a id="L428" name="L428"></a> 428             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L429" name="L429"></a> 429                 <em class="comment">// Date or invalid lexicalRepresentation</em>
<a id="L430" name="L430"></a> 430                 <em class="comment">// Fix 4971612: invalid SCCS macro substitution in data string</em>
<a id="L431" name="L431"></a> 431                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = "%Y-%M-%D" + "%z";
<a id="L432" name="L432"></a> 432             <em class="brace">}</em>
<a id="L433" name="L433"></a> 433         <em class="brace">}</em>
<a id="L434" name="L434"></a> 434         <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a> p = <strong class="reserved">new</strong> <a href="../D/6629.html" title="Multiple defined in 9 places.">Parser</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>, lexRep);
<a id="L435" name="L435"></a> 435         p.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>();
<a id="L436" name="L436"></a> 436 
<a id="L437" name="L437"></a> 437         <em class="comment">// check for validity</em>
<a id="L438" name="L438"></a> 438         <strong class="reserved">if</strong> (!<a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>()) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L440" name="L440"></a> 440                     <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "InvalidXGCRepresentation", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>lexicalRepresentation<em class="brace">}</em>)
<a id="L441" name="L441"></a> 441                     <em class="comment">//"\"" + lexicalRepresentation + "\" is not a valid representation of an XML Gregorian Calendar value."</em>
<a id="L442" name="L442"></a> 442             );
<a id="L443" name="L443"></a> 443         <em class="brace">}</em>
<a id="L444" name="L444"></a> 444     <em class="brace">}</em>
<a id="L445" name="L445"></a> 445 
<div class="comment">
      <p>Create an instance with all date/time datatype fields set to
      {@link DatatypeConstants#FIELD_UNDEFINED} or null respectively.</p></div>
<a id="L450" name="L450"></a> 450     <strong class="reserved">public</strong> XMLGregorianCalendarImpl() <em class="brace">{</em>
<a id="L451" name="L451"></a> 451 
<a id="L452" name="L452"></a> 452         <em class="comment">// field initializers already do the correct initialization.</em>
<a id="L453" name="L453"></a> 453     <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<div class="comment">
      <p>Private constructor allowing for complete value spaces allowed by
      W3C XML Schema 1.0 recommendation for xsd:dateTime and related
      builtin datatypes. Note that <code>year</code> parameter supports
      arbitrarily large numbers and fractionalSecond has infinite
      precision.</p>
      @param year of <code>XMLGregorianCalendar</code> to be created.
      @param month of <code>XMLGregorianCalendar</code> to be created.
      @param day of <code>XMLGregorianCalendar</code> to be created.
      @param hour of <code>XMLGregorianCalendar</code> to be created.
      @param minute of <code>XMLGregorianCalendar</code> to be created.
      @param second of <code>XMLGregorianCalendar</code> to be created.
      @param fractionalSecond of <code>XMLGregorianCalendar</code> to be created.
      @param timezone of <code>XMLGregorianCalendar</code> to be created.</div>
<a id="L472" name="L472"></a> 472     <strong class="reserved">protected</strong> XMLGregorianCalendarImpl(
<a id="L473" name="L473"></a> 473         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L474" name="L474"></a> 474         <strong class="reserved">int</strong> month,
<a id="L475" name="L475"></a> 475         <strong class="reserved">int</strong> day,
<a id="L476" name="L476"></a> 476         <strong class="reserved">int</strong> hour,
<a id="L477" name="L477"></a> 477         <strong class="reserved">int</strong> minute,
<a id="L478" name="L478"></a> 478         <strong class="reserved">int</strong> second,
<a id="L479" name="L479"></a> 479         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fractionalSecond,
<a id="L480" name="L480"></a> 480         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481 
<a id="L482" name="L482"></a> 482                 <a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L483" name="L483"></a> 483         <a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(month);
<a id="L484" name="L484"></a> 484         <a href="../D/32361.html" title="Multiple defined in 2 places.">setDay</a>(day);
<a id="L485" name="L485"></a> 485         <a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(hour, minute, second, fractionalSecond);
<a id="L486" name="L486"></a> 486                 <a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>(timezone);
<a id="L487" name="L487"></a> 487 
<a id="L488" name="L488"></a> 488                 <em class="comment">// check for validity</em>
<a id="L489" name="L489"></a> 489                 <strong class="reserved">if</strong> (!<a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>()) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490 
<a id="L491" name="L491"></a> 491             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L492" name="L492"></a> 492                 <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>,
<a id="L493" name="L493"></a> 493                     "InvalidXGCValue-fractional",
<a id="L494" name="L494"></a> 494                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(month), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(day),
<a id="L495" name="L495"></a> 495                     <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(hour), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(minute), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(second),
<a id="L496" name="L496"></a> 496                     fractionalSecond, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(timezone)<em class="brace">}</em>)
<a id="L497" name="L497"></a> 497                         );
<a id="L498" name="L498"></a> 498 
<div class="comment">
                String yearString = "null";
                if (year != null) {
                    yearString = year.toString();
                }
                String fractionalSecondString = "null";
                if (fractionalSecond != null) {
                    fractionalSecondString = fractionalSecond.toString();
                }
                throw new IllegalArgumentException(
                    "year = " + yearString
                    + ", month = " + month
                    + ", day = " + day
                    + ", hour = " + hour
                    + ", minute = " + minute
                    + ", second = " + second
                    + ", fractionalSecond = " + fractionalSecondString
                    + ", timezone = " + timezone
                    + ", is not a valid representation of an XML Gregorian Calendar value."
                );</div>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522                 <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<a id="L524" name="L524"></a> 524     <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<div class="comment">
      <p>Private constructor of value spaces that a
      <code>java.util.GregorianCalendar</code> instance would need to convert to an
      <code>XMLGregorianCalendar</code> instance.</p>
      <p><code>XMLGregorianCalendar eon</code> and
      <code>fractionalSecond</code> are set to <code>null</code></p>
      @param year of <code>XMLGregorianCalendar</code> to be created.
      @param month of <code>XMLGregorianCalendar</code> to be created.
      @param day of <code>XMLGregorianCalendar</code> to be created.
      @param hour of <code>XMLGregorianCalendar</code> to be created.
      @param minute of <code>XMLGregorianCalendar</code> to be created.
      @param second of <code>XMLGregorianCalendar</code> to be created.
      @param millisecond of <code>XMLGregorianCalendar</code> to be created.
      @param timezone of <code>XMLGregorianCalendar</code> to be created.</div>
<a id="L543" name="L543"></a> 543     <strong class="reserved">private</strong> XMLGregorianCalendarImpl(
<a id="L544" name="L544"></a> 544         <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L545" name="L545"></a> 545         <strong class="reserved">int</strong> month,
<a id="L546" name="L546"></a> 546         <strong class="reserved">int</strong> day,
<a id="L547" name="L547"></a> 547         <strong class="reserved">int</strong> hour,
<a id="L548" name="L548"></a> 548         <strong class="reserved">int</strong> minute,
<a id="L549" name="L549"></a> 549         <strong class="reserved">int</strong> second,
<a id="L550" name="L550"></a> 550                 <strong class="reserved">int</strong> millisecond,
<a id="L551" name="L551"></a> 551         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L552" name="L552"></a> 552 
<a id="L553" name="L553"></a> 553                 <a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L554" name="L554"></a> 554         <a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(month);
<a id="L555" name="L555"></a> 555         <a href="../D/32361.html" title="Multiple defined in 2 places.">setDay</a>(day);
<a id="L556" name="L556"></a> 556         <a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(hour, minute, second);
<a id="L557" name="L557"></a> 557                 <a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>(timezone);
<a id="L558" name="L558"></a> 558                 <a href="../D/33249.html" title="Multiple defined in 2 places.">setMillisecond</a>(millisecond);
<a id="L559" name="L559"></a> 559 
<a id="L560" name="L560"></a> 560                 <strong class="reserved">if</strong> (!<a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>()) <em class="brace">{</em>
<a id="L561" name="L561"></a> 561 
<a id="L562" name="L562"></a> 562             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L563" name="L563"></a> 563                 <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>,
<a id="L564" name="L564"></a> 564                 "InvalidXGCValue-milli",
<a id="L565" name="L565"></a> 565                 <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(month), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(day),
<a id="L566" name="L566"></a> 566                 <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(hour), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(minute), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(second),
<a id="L567" name="L567"></a> 567                 <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(millisecond), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(timezone)<em class="brace">}</em>)
<a id="L568" name="L568"></a> 568                         );
<div class="comment">
                throw new IllegalArgumentException(
                    "year = " + year
                    + ", month = " + month
                    + ", day = " + day
                    + ", hour = " + hour
                    + ", minute = " + minute
                    + ", second = " + second
                    + ", millisecond = " + millisecond
                    + ", timezone = " + timezone
                    + ", is not a valid representation of an XML Gregorian Calendar value."
                    );</div>
<a id="L582" name="L582"></a> 582 
<a id="L583" name="L583"></a> 583                 <em class="brace">}</em>
<a id="L584" name="L584"></a> 584     <em class="brace">}</em>
<a id="L585" name="L585"></a> 585 
<div class="comment">
          <p>Convert a <code>java.util.GregorianCalendar</code> to XML Schema 1.0
          representation.</p>
          <table border="2" rules="all" cellpadding="2">
            <thead>
              <tr>
                <th align="center" colspan="2">
                   Field by Field Conversion from
                   <code>java.util.GregorianCalendar</code> to this class
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                 <th><code>javax.xml.datatype.XMLGregorianCalendar</code> field</th>
                 <th><code>java.util.GregorianCalendar</code> field</th>
              </tr>
              <tr>
                <th>{@link #setYear(int)}</th>
                <th><code>ERA == GregorianCalendar.BC ? -YEAR : YEAR</code></th>
              </tr>
              <tr>
                <th>{@link #setMonth(int)}</th>
                <th><code>MONTH + 1</code></th>
              </tr>
              <tr>
                <th>{@link #setDay(int)}</th>
                <th><code>DAY_OF_MONTH</code></th>
              </tr>
              <tr>
                <th>{@link #setTime(int,int,int, BigDecimal)}</th>
                <th><code>HOUR_OF_DAY, MINUTE, SECOND, MILLISECOND</code></th>
              </tr>
              <tr>
                <th>{@link #setTimezone(int)}<i>*</i></th>
                <th><code>(ZONE_OFFSET + DST_OFFSET) / (60*1000)</code><br>
                <i>(in minutes)</i>
                </th>
              </tr>
            </tbody>
          </table>
          <p><i>*</i>conversion loss of information. It is not possible to represent
          a <code>java.util.GregorianCalendar</code> daylight savings timezone id in the
          XML Schema 1.0 date/time datatype representation.</p>
          <p>To compute the return value's <code>TimeZone</code> field,
          </p><ul><li>when <code>this.getTimezone() != DatatypeConstants.FIELD_UNDEFINED</code>,
          create a <code>java.util.TimeZone</code> with a custom timezone id
          using the <code>this.getTimezone()</code>.</li><li>else use the <code>GregorianCalendar</code> default timezone value
          for the host is defined as specified by
          <code>java.util.TimeZone.getDefault()</code>.</li><p></p>
          @param cal <code>java.util.GregorianCalendar</code> used to create <code>XMLGregorianCalendar</code></ul></div>
<a id="L643" name="L643"></a> 643     <strong class="reserved">public</strong> XMLGregorianCalendarImpl(<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> cal) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644 
<a id="L645" name="L645"></a> 645         <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L646" name="L646"></a> 646         <strong class="reserved">if</strong> (cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>) == <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.BC) <em class="brace">{</em>
<a id="L647" name="L647"></a> 647             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = -<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>;
<a id="L648" name="L648"></a> 648         <em class="brace">}</em>
<a id="L649" name="L649"></a> 649         <strong class="reserved">this</strong>.<a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L650" name="L650"></a> 650 
<a id="L651" name="L651"></a> 651         <em class="comment">// Calendar.MONTH is zero based, XSD Date datatype's month field starts</em>
<a id="L652" name="L652"></a> 652         <em class="comment">// with JANUARY as 1.</em>
<a id="L653" name="L653"></a> 653         <strong class="reserved">this</strong>.<a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH) + 1);
<a id="L654" name="L654"></a> 654         <strong class="reserved">this</strong>.<a href="../D/32361.html" title="Multiple defined in 2 places.">setDay</a>(cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>));
<a id="L655" name="L655"></a> 655         <strong class="reserved">this</strong>.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(
<a id="L656" name="L656"></a> 656                 cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>),
<a id="L657" name="L657"></a> 657                 cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MINUTE),
<a id="L658" name="L658"></a> 658                 cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.SECOND),
<a id="L659" name="L659"></a> 659                 cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MILLISECOND));
<a id="L660" name="L660"></a> 660 
<a id="L661" name="L661"></a> 661         <em class="comment">// Calendar ZONE_OFFSET and DST_OFFSET fields are in milliseconds.</em>
<a id="L662" name="L662"></a> 662         <strong class="reserved">int</strong> offsetInMinutes = (cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.ZONE_OFFSET) + cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.DST_OFFSET)) / (60 * 1000);
<a id="L663" name="L663"></a> 663         <strong class="reserved">this</strong>.<a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>(offsetInMinutes);
<a id="L664" name="L664"></a> 664     <em class="brace">}</em>
<a id="L665" name="L665"></a> 665 
<a id="L666" name="L666"></a> 666     <em class="comment">// Factories</em>
<a id="L667" name="L667"></a> 667 
<div class="comment">
      <p>Create a Java representation of XML Schema builtin datatype <code>dateTime</code>.
      All possible fields are specified for this factory method.</p>
      @param year represents both high-order eons and low-order year.
      @param month of <code>dateTime</code>
      @param day of <code>dateTime</code>
      @param hours of <code>dateTime</code>
      @param minutes of <code>dateTime</code>
      @param seconds of <code>dateTime</code>
      @param fractionalSecond value of null indicates optional field is absent.
      @param timezone offset in minutes. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @see DatatypeConstants#FIELD_UNDEFINED
      @throws IllegalArgumentException if any parameter is outside value
      constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L689" name="L689"></a> 689     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../R/12326.html" title="Multiple referred from 2 places.">createDateTime</a>(
<a id="L690" name="L690"></a> 690         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L691" name="L691"></a> 691         <strong class="reserved">int</strong> month,
<a id="L692" name="L692"></a> 692         <strong class="reserved">int</strong> day,
<a id="L693" name="L693"></a> 693         <strong class="reserved">int</strong> hours,
<a id="L694" name="L694"></a> 694         <strong class="reserved">int</strong> minutes,
<a id="L695" name="L695"></a> 695         <strong class="reserved">int</strong> seconds,
<a id="L696" name="L696"></a> 696         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fractionalSecond,
<a id="L697" name="L697"></a> 697         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L698" name="L698"></a> 698 
<a id="L699" name="L699"></a> 699         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L700" name="L700"></a> 700             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L701" name="L701"></a> 701             month,
<a id="L702" name="L702"></a> 702             day,
<a id="L703" name="L703"></a> 703             hours,
<a id="L704" name="L704"></a> 704             minutes,
<a id="L705" name="L705"></a> 705             seconds,
<a id="L706" name="L706"></a> 706             fractionalSecond,
<a id="L707" name="L707"></a> 707             timezone);
<a id="L708" name="L708"></a> 708     <em class="brace">}</em>
<a id="L709" name="L709"></a> 709 
<div class="comment">
      <p>Create a Java instance of XML Schema builtin datatype dateTime.</p>
      @param year represents both high-order eons and low-order year.
      @param month of <code>dateTime</code>
      @param day of <code>dateTime</code>
      @param hour of <code>dateTime</code>
      @param minute of <code>dateTime</code>
      @param second of <code>dateTime</code>
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @throws IllegalArgumentException if any parameter is outside value constraints for the field as specified in
        <a href="#datetimefieldmapping">date/time field mapping table</a>.
      @see DatatypeConstants#FIELD_UNDEFINED</div>
<a id="L727" name="L727"></a> 727     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../R/12326.html" title="Multiple referred from 2 places.">createDateTime</a>(
<a id="L728" name="L728"></a> 728         <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L729" name="L729"></a> 729         <strong class="reserved">int</strong> month,
<a id="L730" name="L730"></a> 730         <strong class="reserved">int</strong> day,
<a id="L731" name="L731"></a> 731         <strong class="reserved">int</strong> hour,
<a id="L732" name="L732"></a> 732         <strong class="reserved">int</strong> minute,
<a id="L733" name="L733"></a> 733         <strong class="reserved">int</strong> second) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734 
<a id="L735" name="L735"></a> 735         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L736" name="L736"></a> 736             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L737" name="L737"></a> 737             month,
<a id="L738" name="L738"></a> 738             day,
<a id="L739" name="L739"></a> 739             hour,
<a id="L740" name="L740"></a> 740             minute,
<a id="L741" name="L741"></a> 741             second,
<a id="L742" name="L742"></a> 742             <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED,  <em class="comment">//millisecond</em>
<a id="L743" name="L743"></a> 743                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED <em class="comment">//timezone</em>
<a id="L744" name="L744"></a> 744         );
<a id="L745" name="L745"></a> 745     <em class="brace">}</em>
<a id="L746" name="L746"></a> 746 
<div class="comment">
      <p>Create a Java representation of XML Schema builtin datatype <code>dateTime</code>.
      All possible fields are specified for this factory method.</p>
      @param year represents low-order year.
      @param month of <code>dateTime</code>
      @param day of <code>dateTime</code>
      @param hours of <code>dateTime</code>
      @param minutes of <code>dateTime</code>
      @param seconds of <code>dateTime</code>
      @param milliseconds of <code>dateTime</code>. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @param timezone offset in minutes. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @throws IllegalArgumentException if any parameter is outside value constraints for the field as specified in
        <a href="#datetimefieldmapping">date/time field mapping table</a>.
      @see DatatypeConstants#FIELD_UNDEFINED</div>
<a id="L767" name="L767"></a> 767     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../R/12326.html" title="Multiple referred from 2 places.">createDateTime</a>(
<a id="L768" name="L768"></a> 768         <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L769" name="L769"></a> 769         <strong class="reserved">int</strong> month,
<a id="L770" name="L770"></a> 770         <strong class="reserved">int</strong> day,
<a id="L771" name="L771"></a> 771         <strong class="reserved">int</strong> hours,
<a id="L772" name="L772"></a> 772         <strong class="reserved">int</strong> minutes,
<a id="L773" name="L773"></a> 773         <strong class="reserved">int</strong> seconds,
<a id="L774" name="L774"></a> 774         <strong class="reserved">int</strong> milliseconds,
<a id="L775" name="L775"></a> 775         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776 
<a id="L777" name="L777"></a> 777         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L778" name="L778"></a> 778             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L779" name="L779"></a> 779             month,
<a id="L780" name="L780"></a> 780             day,
<a id="L781" name="L781"></a> 781             hours,
<a id="L782" name="L782"></a> 782             minutes,
<a id="L783" name="L783"></a> 783             seconds,
<a id="L784" name="L784"></a> 784             milliseconds,
<a id="L785" name="L785"></a> 785             timezone);
<a id="L786" name="L786"></a> 786     <em class="brace">}</em>
<a id="L787" name="L787"></a> 787 
<div class="comment">
      <p>Create a Java representation of XML Schema builtin datatype <code>date</code> or <code>g*</code>.</p>
      <p>For example, an instance of <code>gYear</code> can be created invoking this factory
      with <code>month</code> and <code>day</code> parameters set to
      {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      @param year of <code>XMLGregorianCalendar</code> to be created.
      @param month of <code>XMLGregorianCalendar</code> to be created.
      @param day of <code>XMLGregorianCalendar</code> to be created.
      @param timezone offset in minutes. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @see DatatypeConstants#FIELD_UNDEFINED
      @throws IllegalArgumentException if any parameter is outside value
      constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L808" name="L808"></a> 808     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> createDate(
<a id="L809" name="L809"></a> 809         <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L810" name="L810"></a> 810         <strong class="reserved">int</strong> month,
<a id="L811" name="L811"></a> 811         <strong class="reserved">int</strong> day,
<a id="L812" name="L812"></a> 812         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L813" name="L813"></a> 813 
<a id="L814" name="L814"></a> 814         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L815" name="L815"></a> 815             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,
<a id="L816" name="L816"></a> 816             month,
<a id="L817" name="L817"></a> 817             day,
<a id="L818" name="L818"></a> 818             <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// hour</em>
<a id="L819" name="L819"></a> 819             <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// minute</em>
<a id="L820" name="L820"></a> 820             <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// second</em>
<a id="L821" name="L821"></a> 821                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// millisecond</em>
<a id="L822" name="L822"></a> 822             timezone);
<a id="L823" name="L823"></a> 823     <em class="brace">}</em>
<a id="L824" name="L824"></a> 824 
<div class="comment">
      Create a Java instance of XML Schema builtin datatype <code>time</code>.
      @param hours number of hours
      @param minutes number of minutes
      @param seconds number of seconds
      @param timezone offset in minutes. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @see DatatypeConstants#FIELD_UNDEFINED
      @throws IllegalArgumentException if any parameter is outside value
      constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L840" name="L840"></a> 840     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../S/1886.html#L176" title="Referred from 176 in src/java/nio/file/attribute/BasicFileAttributeView.java.">createTime</a>(
<a id="L841" name="L841"></a> 841         <strong class="reserved">int</strong> hours,
<a id="L842" name="L842"></a> 842         <strong class="reserved">int</strong> minutes,
<a id="L843" name="L843"></a> 843         <strong class="reserved">int</strong> seconds,
<a id="L844" name="L844"></a> 844                 <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L845" name="L845"></a> 845 
<a id="L846" name="L846"></a> 846                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L847" name="L847"></a> 847                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// Year</em>
<a id="L848" name="L848"></a> 848                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// Month</em>
<a id="L849" name="L849"></a> 849                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// Day</em>
<a id="L850" name="L850"></a> 850                         hours,
<a id="L851" name="L851"></a> 851                         minutes,
<a id="L852" name="L852"></a> 852                         seconds,
<a id="L853" name="L853"></a> 853                         <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">//Millisecond</em>
<a id="L854" name="L854"></a> 854                         timezone);
<a id="L855" name="L855"></a> 855     <em class="brace">}</em>
<a id="L856" name="L856"></a> 856 
<div class="comment">
      <p>Create a Java instance of XML Schema builtin datatype time.</p>
      @param hours number of hours
      @param minutes number of minutes
      @param seconds number of seconds
      @param fractionalSecond value of <code>null</code> indicates that this optional field is not set.
      @param timezone offset in minutes. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @see DatatypeConstants#FIELD_UNDEFINED
      @throws IllegalArgumentException if any parameter is outside value
      constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L874" name="L874"></a> 874     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../S/1886.html#L176" title="Referred from 176 in src/java/nio/file/attribute/BasicFileAttributeView.java.">createTime</a>(
<a id="L875" name="L875"></a> 875         <strong class="reserved">int</strong> hours,
<a id="L876" name="L876"></a> 876         <strong class="reserved">int</strong> minutes,
<a id="L877" name="L877"></a> 877         <strong class="reserved">int</strong> seconds,
<a id="L878" name="L878"></a> 878         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fractionalSecond,
<a id="L879" name="L879"></a> 879         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L880" name="L880"></a> 880 
<a id="L881" name="L881"></a> 881         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L882" name="L882"></a> 882             <strong class="reserved">null</strong>,            <em class="comment">// Year</em>
<a id="L883" name="L883"></a> 883             <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// month</em>
<a id="L884" name="L884"></a> 884             <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// day</em>
<a id="L885" name="L885"></a> 885             hours,
<a id="L886" name="L886"></a> 886             minutes,
<a id="L887" name="L887"></a> 887             seconds,
<a id="L888" name="L888"></a> 888             fractionalSecond,
<a id="L889" name="L889"></a> 889             timezone);
<a id="L890" name="L890"></a> 890     <em class="brace">}</em>
<a id="L891" name="L891"></a> 891 
<div class="comment">
      <p>Create a Java instance of XML Schema builtin datatype time.</p>
      @param hours number of hours
      @param minutes number of minutes
      @param seconds number of seconds
      @param milliseconds number of milliseconds
      @param timezone offset in minutes. {@link DatatypeConstants#FIELD_UNDEFINED} indicates optional field is not set.
      @return <code>XMLGregorianCalendar</code> created from parameter values.
      @see DatatypeConstants#FIELD_UNDEFINED
      @throws IllegalArgumentException if any parameter is outside value
      constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L909" name="L909"></a> 909     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../S/1886.html#L176" title="Referred from 176 in src/java/nio/file/attribute/BasicFileAttributeView.java.">createTime</a>(
<a id="L910" name="L910"></a> 910         <strong class="reserved">int</strong> hours,
<a id="L911" name="L911"></a> 911         <strong class="reserved">int</strong> minutes,
<a id="L912" name="L912"></a> 912         <strong class="reserved">int</strong> seconds,
<a id="L913" name="L913"></a> 913         <strong class="reserved">int</strong> milliseconds,
<a id="L914" name="L914"></a> 914         <strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L915" name="L915"></a> 915 
<a id="L916" name="L916"></a> 916         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(
<a id="L917" name="L917"></a> 917                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// year</em>
<a id="L918" name="L918"></a> 918                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// month</em>
<a id="L919" name="L919"></a> 919                 <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <em class="comment">// day</em>
<a id="L920" name="L920"></a> 920                 hours,
<a id="L921" name="L921"></a> 921                 minutes,
<a id="L922" name="L922"></a> 922                 seconds,
<a id="L923" name="L923"></a> 923                 milliseconds,
<a id="L924" name="L924"></a> 924                 timezone);
<a id="L925" name="L925"></a> 925     <em class="brace">}</em>
<a id="L926" name="L926"></a> 926 
<a id="L927" name="L927"></a> 927     <em class="comment">// Accessors</em>
<a id="L928" name="L928"></a> 928 
<div class="comment">
      <p>Return high order component for XML Schema 1.0 dateTime datatype field for
      <code>year</code>.
      <code>null</code> if this optional part of the year field is not defined.</p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-year">year field of date/time field mapping table</a>.</p>
      @return eon of this <code>XMLGregorianCalendar</code>. The value
      returned is an integer multiple of 10^9.
      @see #getYear()
      @see #getEonAndYear()</div>
<a id="L942" name="L942"></a> 942     <strong class="reserved">public</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../S/5393.html#L1588" title="Referred from 1588 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">getEon</a>() <em class="brace">{</em>
<a id="L943" name="L943"></a> 943            <strong class="reserved">return</strong> eon;
<a id="L944" name="L944"></a> 944     <em class="brace">}</em>
<a id="L945" name="L945"></a> 945 
<div class="comment">
      <p>Return low order component for XML Schema 1.0 dateTime datatype field for
      <code>year</code> or {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-year">year field of date/time field mapping table</a>.</p>
      @return year  of this <code>XMLGregorianCalendar</code>.
      @see #getEon()
      @see #getEonAndYear()</div>
<a id="L958" name="L958"></a> 958     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19949.html" title="Multiple referred from 85 places.">getYear</a>() <em class="brace">{</em>
<a id="L959" name="L959"></a> 959            <strong class="reserved">return</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>;
<a id="L960" name="L960"></a> 960     <em class="brace">}</em>
<a id="L961" name="L961"></a> 961 
<div class="comment">
      <p>Return XML Schema 1.0 dateTime datatype field for
      <code>year</code>.</p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-year">year field of date/time field mapping table</a>.</p>
      @return sum of <code>eon</code> and <code>BigInteger.valueOf(year)</code>
      when both fields are defined. When only <code>year</code> is defined,
      return it. When both <code>eon</code> and <code>year</code> are not
      defined, return <code>null</code>.
      @see #getEon()
      @see #getYear()</div>
<a id="L977" name="L977"></a> 977     <strong class="reserved">public</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../R/16421.html" title="Multiple referred from 16 places.">getEonAndYear</a>() <em class="brace">{</em>
<a id="L978" name="L978"></a> 978 
<a id="L979" name="L979"></a> 979                 <em class="comment">// both are defined</em>
<a id="L980" name="L980"></a> 980                 <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED
<a id="L981" name="L981"></a> 981                         &amp;&amp; eon != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L982" name="L982"></a> 982 
<a id="L983" name="L983"></a> 983                         <strong class="reserved">return</strong> eon.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>));
<a id="L984" name="L984"></a> 984                 <em class="brace">}</em>
<a id="L985" name="L985"></a> 985 
<a id="L986" name="L986"></a> 986                 <em class="comment">// only year is defined</em>
<a id="L987" name="L987"></a> 987                 <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED
<a id="L988" name="L988"></a> 988                         &amp;&amp; eon == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L989" name="L989"></a> 989 
<a id="L990" name="L990"></a> 990                         <strong class="reserved">return</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L991" name="L991"></a> 991                 <em class="brace">}</em>
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993         <em class="comment">// neither are defined</em>
<a id="L994" name="L994"></a> 994         <em class="comment">// or only eon is defined which is not valid without a year</em>
<a id="L995" name="L995"></a> 995                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L996" name="L996"></a> 996     <em class="brace">}</em>
<a id="L997" name="L997"></a> 997 
<div class="comment">
      <p>Return number of month or {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-month">month field of date/time field mapping table</a>.</p>
      @return year  of this <code>XMLGregorianCalendar</code>.</div>
<a id="L1007" name="L1007"></a>1007     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17791.html" title="Multiple referred from 80 places.">getMonth</a>() <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008         <strong class="reserved">return</strong> month;
<a id="L1009" name="L1009"></a>1009     <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010 
<div class="comment">
      Return day in month or {@link DatatypeConstants#FIELD_UNDEFINED}.<p></p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-day">day field of date/time field mapping table</a>.</p>
      @see #setDay(int)</div>
<a id="L1019" name="L1019"></a>1019     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15961.html" title="Multiple referred from 7 places.">getDay</a>() <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020         <strong class="reserved">return</strong> day;
<a id="L1021" name="L1021"></a>1021     <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022 
<div class="comment">
      Return timezone offset in minutes or
      {@link DatatypeConstants#FIELD_UNDEFINED} if this optional field is not defined.
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-timezone">timezone field of date/time field mapping table</a>.</p>
      @see #setTimezone(int)</div>
<a id="L1032" name="L1032"></a>1032     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19504.html" title="Multiple referred from 14 places.">getTimezone</a>() <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033         <strong class="reserved">return</strong> timezone;
<a id="L1034" name="L1034"></a>1034     <em class="brace">}</em>
<a id="L1035" name="L1035"></a>1035 
<div class="comment">
      Return hours or {@link DatatypeConstants#FIELD_UNDEFINED}.
      Returns {@link DatatypeConstants#FIELD_UNDEFINED} if this field is not defined.
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-hour">hour field of date/time field mapping table</a>.</p>
      @see #setTime(int, int, int)</div>
<a id="L1044" name="L1044"></a>1044     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16917.html" title="Multiple referred from 17 places.">getHour</a>() <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045         <strong class="reserved">return</strong> hour;
<a id="L1046" name="L1046"></a>1046     <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047 
<div class="comment">
      Return minutes or {@link DatatypeConstants#FIELD_UNDEFINED}.&lt;\p&gt;
      Returns {@link DatatypeConstants#FIELD_UNDEFINED} if this field is not defined.
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-minute">minute field of date/time field mapping table</a>.</p>
      @see #setTime(int, int, int)</div>
<a id="L1056" name="L1056"></a>1056     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17753.html" title="Multiple referred from 15 places.">getMinute</a>() <em class="brace">{</em>
<a id="L1057" name="L1057"></a>1057         <strong class="reserved">return</strong> minute;
<a id="L1058" name="L1058"></a>1058     <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059 
<div class="comment">
      <p>Return seconds or {@link DatatypeConstants#FIELD_UNDEFINED}.&lt;\p&gt;
      </p><p>Returns {@link DatatypeConstants#FIELD_UNDEFINED} if this field is not defined.
      When this field is not defined, the optional xs:dateTime
      fractional seconds field, represented by
      {@link #getFractionalSecond()} and {@link #getMillisecond()},
      must not be defined.</p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-second">second field of date/time field mapping table</a>.</p>
      @return Second  of this <code>XMLGregorianCalendar</code>.
      @see #getFractionalSecond()
      @see #getMillisecond()
      @see #setTime(int, int, int)</div>
<a id="L1078" name="L1078"></a>1078     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18888.html" title="Multiple referred from 23 places.">getSecond</a>() <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079            <strong class="reserved">return</strong> second;
<a id="L1080" name="L1080"></a>1080     <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081 
<div class="comment">
      @return result of adding second and fractional second field</div>
<a id="L1085" name="L1085"></a>1085     <strong class="reserved">private</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../R/18892.html" title="Multiple referred from 23 places.">getSeconds</a>() <em class="brace">{</em>
<a id="L1086" name="L1086"></a>1086         <strong class="reserved">if</strong> (second == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087             <strong class="reserved">return</strong> DECIMAL_ZERO;
<a id="L1088" name="L1088"></a>1088         <em class="brace">}</em>
<a id="L1089" name="L1089"></a>1089         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) second);
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">if</strong> (fractionalSecond != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1091" name="L1091"></a>1091             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(fractionalSecond);
<a id="L1092" name="L1092"></a>1092         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1093" name="L1093"></a>1093             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1094" name="L1094"></a>1094         <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095     <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096 
<a id="L1097" name="L1097"></a>1097 
<div class="comment">
      <p>Return millisecond precision of {@link #getFractionalSecond()}.&lt;\p&gt;
      </p><p>This method represents a convenience accessor to infinite
      precision fractional second value returned by
      {@link #getFractionalSecond()}. The returned value is the rounded
      down to milliseconds value of
      {@link #getFractionalSecond()}. When {@link #getFractionalSecond()}
      returns <code>null</code>, this method must return
      {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      <p>Value constraints for this value are summarized in
      <a href="#datetimefield-second">second field of date/time field mapping table</a>.</p>
      @return Millisecond  of this <code>XMLGregorianCalendar</code>.
      @see #getFractionalSecond()
      @see #setTime(int, int, int)</div>
<a id="L1117" name="L1117"></a>1117     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17704.html" title="Multiple referred from 4 places.">getMillisecond</a>() <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118         <strong class="reserved">if</strong> (fractionalSecond == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1119" name="L1119"></a>1119             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L1120" name="L1120"></a>1120         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1121" name="L1121"></a>1121             <em class="comment">// TODO: Non-optimal solution for now.</em>
<a id="L1122" name="L1122"></a>1122             <em class="comment">// Efficient implementation would only store as BigDecimal</em>
<a id="L1123" name="L1123"></a>1123             <em class="comment">// when needed and millisecond otherwise.</em>
<a id="L1124" name="L1124"></a>1124             <strong class="reserved">return</strong> fractionalSecond.<a href="../S/1464.html#L2554" title="Defined at 2554 in src/java/math/BigDecimal.java.">movePointRight</a>(3).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1125" name="L1125"></a>1125         <em class="brace">}</em>
<a id="L1126" name="L1126"></a>1126     <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127 
<div class="comment">
      <p>Return fractional seconds.</p>
      <p><code>null</code> is returned when this optional field is not defined.</p>
      <p>Value constraints are detailed in
      <a href="#datetimefield-second">second field of date/time field mapping table</a>.</p>
      <p>This optional field can only have a defined value when the
      xs:dateTime second field, represented by ({@link #getSecond()},
      does not return {@link DatatypeConstants#FIELD_UNDEFINED}).</p>
      @return fractional seconds  of this <code>XMLGregorianCalendar</code>.
      @see #getSecond()
      @see #setTime(int, int, int, BigDecimal)</div>
<a id="L1145" name="L1145"></a>1145     <strong class="reserved">public</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../R/16708.html" title="Multiple referred from 6 places.">getFractionalSecond</a>() <em class="brace">{</em>
<a id="L1146" name="L1146"></a>1146            <strong class="reserved">return</strong> fractionalSecond;
<a id="L1147" name="L1147"></a>1147     <em class="brace">}</em>
<a id="L1148" name="L1148"></a>1148 
<a id="L1149" name="L1149"></a>1149     <em class="comment">// setters</em>
<a id="L1150" name="L1150"></a>1150 
<div class="comment">
      <p>Set low and high order component of XSD <code>dateTime</code> year field.</p>
      <p>Unset this field by invoking the setter with a parameter value of <code>null</code>.</p>
      @param year value constraints summarized in <a href="#datetimefield-year">year field of date/time field mapping table</a>.
      @throws IllegalArgumentException if <code>year</code> parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1162" name="L1162"></a>1162     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28443.html" title="Multiple referred from 13 places.">setYear</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163         <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1164" name="L1164"></a>1164             <strong class="reserved">this</strong>.eon = <strong class="reserved">null</strong>;
<a id="L1165" name="L1165"></a>1165             <strong class="reserved">this</strong>.<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L1166" name="L1166"></a>1166         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1167" name="L1167"></a>1167             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> temp = <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>(BILLION);
<a id="L1168" name="L1168"></a>1168             <strong class="reserved">this</strong>.<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = temp.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1169" name="L1169"></a>1169             <a href="../S/5393.html#L1209" title="Defined at 1209 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">setEon</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(temp));
<a id="L1170" name="L1170"></a>1170         <em class="brace">}</em>
<a id="L1171" name="L1171"></a>1171     <em class="brace">}</em>
<a id="L1172" name="L1172"></a>1172 
<div class="comment">
      <p>Set year of XSD <code>dateTime</code> year field.</p>
      <p>Unset this field by invoking the setter with a parameter value of
      {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      <p>Note: if the absolute value of the <code>year</code> parameter
      is less than 10^9, the eon component of the XSD year field is set to
      <code>null</code> by this method.</p>
      @param year value constraints are summarized in <a href="#datetimefield-year">year field of date/time field mapping table</a>.
        If year is {@link DatatypeConstants#FIELD_UNDEFINED}, then eon is set to <code>null</code>.</div>
<a id="L1186" name="L1186"></a>1186     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28443.html" title="Multiple referred from 13 places.">setYear</a>(<strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>) <em class="brace">{</em>
<a id="L1187" name="L1187"></a>1187         <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1188" name="L1188"></a>1188             <strong class="reserved">this</strong>.<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L1189" name="L1189"></a>1189             <strong class="reserved">this</strong>.eon = <strong class="reserved">null</strong>;
<a id="L1190" name="L1190"></a>1190         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>) &lt; BILLION.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>()) <em class="brace">{</em>
<a id="L1191" name="L1191"></a>1191             <strong class="reserved">this</strong>.<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>;
<a id="L1192" name="L1192"></a>1192             <strong class="reserved">this</strong>.eon = <strong class="reserved">null</strong>;
<a id="L1193" name="L1193"></a>1193         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1194" name="L1194"></a>1194             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> theYear = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L1195" name="L1195"></a>1195             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a> = theYear.<a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>(BILLION);
<a id="L1196" name="L1196"></a>1196             <strong class="reserved">this</strong>.<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1197" name="L1197"></a>1197             <a href="../S/5393.html#L1209" title="Defined at 1209 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">setEon</a>(theYear.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../D/30665.html" title="Multiple defined in 3 places.">remainder</a>));
<a id="L1198" name="L1198"></a>1198         <em class="brace">}</em>
<a id="L1199" name="L1199"></a>1199     <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200 
<div class="comment">
      <p>Set high order part of XSD <code>dateTime</code> year field.</p>
      <p>Unset this field by invoking the setter with a parameter value of
      <code>null</code>.</p>
      @param eon value constraints summarized in <a href="#datetimefield-year">year field of date/time field mapping table</a>.</div>
<a id="L1209" name="L1209"></a>1209     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27341.html" title="Multiple referred from 2 places.">setEon</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> eon) <em class="brace">{</em>
<a id="L1210" name="L1210"></a>1210         <strong class="reserved">if</strong> (eon != <strong class="reserved">null</strong> &amp;&amp; eon.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO) == 0) <em class="brace">{</em>
<a id="L1211" name="L1211"></a>1211             <em class="comment">// Treat ZERO as field being undefined.</em>
<a id="L1212" name="L1212"></a>1212             <strong class="reserved">this</strong>.eon = <strong class="reserved">null</strong>;
<a id="L1213" name="L1213"></a>1213         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1214" name="L1214"></a>1214             <strong class="reserved">this</strong>.eon = eon;
<a id="L1215" name="L1215"></a>1215         <em class="brace">}</em>
<a id="L1216" name="L1216"></a>1216     <em class="brace">}</em>
<a id="L1217" name="L1217"></a>1217 
<div class="comment">
      <p>Set month.</p>
      <p>Unset this field by invoking the setter with a parameter value of {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      @param month value constraints summarized in <a href="#datetimefield-month">month field of date/time field mapping table</a>.
      @throws IllegalArgumentException if <code>month</code> parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1229" name="L1229"></a>1229     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27781.html" title="Multiple referred from 20 places.">setMonth</a>(<strong class="reserved">int</strong> month) <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230         <strong class="reserved">if</strong>(month&lt;<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.JANUARY || <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.DECEMBER&lt;month)
<a id="L1231" name="L1231"></a>1231             <strong class="reserved">if</strong>(month!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L1232" name="L1232"></a>1232                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(MONTH, month);
<a id="L1233" name="L1233"></a>1233         <strong class="reserved">this</strong>.month = month;
<a id="L1234" name="L1234"></a>1234     <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235 
<div class="comment">
      <p>Set days in month.</p>
      <p>Unset this field by invoking the setter with a parameter value of {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      @param day value constraints summarized in <a href="#datetimefield-day">day field of date/time field mapping table</a>.
      @throws IllegalArgumentException if <code>day</code> parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1247" name="L1247"></a>1247     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27172.html" title="Multiple referred from 6 places.">setDay</a>(<strong class="reserved">int</strong> day) <em class="brace">{</em>
<a id="L1248" name="L1248"></a>1248         <strong class="reserved">if</strong>(day&lt;1 || 31&lt;day)
<a id="L1249" name="L1249"></a>1249             <strong class="reserved">if</strong>(day!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L1250" name="L1250"></a>1250                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(DAY,day);
<a id="L1251" name="L1251"></a>1251         <strong class="reserved">this</strong>.day = day;
<a id="L1252" name="L1252"></a>1252     <em class="brace">}</em>
<a id="L1253" name="L1253"></a>1253 
<div class="comment">
      <p>Set the number of minutes in the timezone offset.</p>
      <p>Unset this field by invoking the setter with a parameter value of {@link DatatypeConstants#FIELD_UNDEFINED}.</p>
      @param offset value constraints summarized in <a href="#datetimefield-timezone">
        timezone field of date/time field mapping table</a>.
      @throws IllegalArgumentException if <code>offset</code> parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1266" name="L1266"></a>1266     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28302.html" title="Multiple referred from 7 places.">setTimezone</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L1267" name="L1267"></a>1267             <strong class="reserved">if</strong>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>&lt;-14*60 || 14*60&lt;<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>)
<a id="L1268" name="L1268"></a>1268             <strong class="reserved">if</strong>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L1269" name="L1269"></a>1269                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(TIMEZONE,<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L1270" name="L1270"></a>1270         <strong class="reserved">this</strong>.timezone = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L1271" name="L1271"></a>1271     <em class="brace">}</em>
<a id="L1272" name="L1272"></a>1272 
<div class="comment">
      <p>Set time as one unit.</p>
      @param hour value constraints are summarized in
      <a href="#datetimefield-hour">hour field of date/time field mapping table</a>.
      @param minute value constraints are summarized in
      <a href="#datetimefield-minute">minute field of date/time field mapping table</a>.
      @param second value constraints are summarized in
      <a href="#datetimefield-second">second field of date/time field mapping table</a>.
      @see #setTime(int, int, int, BigDecimal)
      @throws IllegalArgumentException if any parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1289" name="L1289"></a>1289     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28293.html" title="Multiple referred from 32 places.">setTime</a>(<strong class="reserved">int</strong> hour, <strong class="reserved">int</strong> minute, <strong class="reserved">int</strong> second) <em class="brace">{</em>
<a id="L1290" name="L1290"></a>1290         <a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(hour, minute, second, <strong class="reserved">null</strong>);
<a id="L1291" name="L1291"></a>1291     <em class="brace">}</em>
<a id="L1292" name="L1292"></a>1292 
<a id="L1293" name="L1293"></a>1293     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/21005.html" title="Multiple referred from 10 places.">invalidFieldValue</a>(<strong class="reserved">int</strong> field, <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L1294" name="L1294"></a>1294         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L1295" name="L1295"></a>1295             <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "InvalidFieldValue",
<a id="L1296" name="L1296"></a>1296                 <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em> <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>), FIELD_NAME[field]<em class="brace">}</em>)
<a id="L1297" name="L1297"></a>1297         );
<a id="L1298" name="L1298"></a>1298     <em class="brace">}</em>
<a id="L1299" name="L1299"></a>1299 
<a id="L1300" name="L1300"></a>1300     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/29141.html" title="Multiple referred from 4 places.">testHour</a>() <em class="brace">{</em>
<a id="L1301" name="L1301"></a>1301 
<a id="L1302" name="L1302"></a>1302         <em class="comment">// http://www.w3.org/2001/05/xmlschema-errata#e2-45</em>
<a id="L1303" name="L1303"></a>1303         <strong class="reserved">if</strong> (<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>() == 24) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304             <strong class="reserved">if</strong> (<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>() != 0
<a id="L1305" name="L1305"></a>1305                     || <a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() != 0) <em class="brace">{</em>
<a id="L1306" name="L1306"></a>1306                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(HOUR, <a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>());
<a id="L1307" name="L1307"></a>1307             <em class="brace">}</em>
<a id="L1308" name="L1308"></a>1308             <em class="comment">// while 0-24 is acceptable in the lexical space, 24 is not valid in value space</em>
<a id="L1309" name="L1309"></a>1309             <em class="comment">// W3C XML Schema Part 2, Section 3.2.7.1</em>
<a id="L1310" name="L1310"></a>1310             <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(0, <strong class="reserved">false</strong>);
<a id="L1311" name="L1311"></a>1311             <a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(<strong class="reserved">true</strong>, 0, 0, 1, 0, 0, 0));
<a id="L1312" name="L1312"></a>1312         <em class="brace">}</em>
<a id="L1313" name="L1313"></a>1313     <em class="brace">}</em>
<a id="L1314" name="L1314"></a>1314 
<a id="L1315" name="L1315"></a>1315     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27511.html" title="Multiple referred from 9 places.">setHour</a>(<strong class="reserved">int</strong> hour) <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316 
<a id="L1317" name="L1317"></a>1317         <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(hour, <strong class="reserved">true</strong>);
<a id="L1318" name="L1318"></a>1318     <em class="brace">}</em>
<a id="L1319" name="L1319"></a>1319 
<a id="L1320" name="L1320"></a>1320     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27511.html" title="Multiple referred from 9 places.">setHour</a>(<strong class="reserved">int</strong> hour, <strong class="reserved">boolean</strong> <a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>) <em class="brace">{</em>
<a id="L1321" name="L1321"></a>1321 
<a id="L1322" name="L1322"></a>1322         <strong class="reserved">if</strong> (hour &lt; 0 || hour &gt; 24) <em class="brace">{</em>
<a id="L1323" name="L1323"></a>1323             <strong class="reserved">if</strong> (hour != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1324" name="L1324"></a>1324                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(HOUR, hour);
<a id="L1325" name="L1325"></a>1325             <em class="brace">}</em>
<a id="L1326" name="L1326"></a>1326         <em class="brace">}</em>
<a id="L1327" name="L1327"></a>1327 
<a id="L1328" name="L1328"></a>1328         <strong class="reserved">this</strong>.hour = hour;
<a id="L1329" name="L1329"></a>1329 
<a id="L1330" name="L1330"></a>1330         <strong class="reserved">if</strong> (<a href="../D/36318.html" title="Multiple defined in 59 places.">validate</a>) <em class="brace">{</em>
<a id="L1331" name="L1331"></a>1331             <a href="../S/5393.html#L1300" title="Defined at 1300 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">testHour</a>();
<a id="L1332" name="L1332"></a>1332         <em class="brace">}</em>
<a id="L1333" name="L1333"></a>1333     <em class="brace">}</em>
<a id="L1334" name="L1334"></a>1334 
<a id="L1335" name="L1335"></a>1335     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27762.html" title="Multiple referred from 7 places.">setMinute</a>(<strong class="reserved">int</strong> minute) <em class="brace">{</em>
<a id="L1336" name="L1336"></a>1336         <strong class="reserved">if</strong>(minute&lt;0 || 59&lt;minute)
<a id="L1337" name="L1337"></a>1337             <strong class="reserved">if</strong>(minute!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L1338" name="L1338"></a>1338                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(MINUTE, minute);
<a id="L1339" name="L1339"></a>1339         <strong class="reserved">this</strong>.minute = minute;
<a id="L1340" name="L1340"></a>1340     <em class="brace">}</em>
<a id="L1341" name="L1341"></a>1341 
<a id="L1342" name="L1342"></a>1342     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28117.html" title="Multiple referred from 11 places.">setSecond</a>(<strong class="reserved">int</strong> second) <em class="brace">{</em>
<a id="L1343" name="L1343"></a>1343         <strong class="reserved">if</strong>(second&lt;0 || 60&lt;second)   <em class="comment">// leap second allows for 60</em>
<a id="L1344" name="L1344"></a>1344             <strong class="reserved">if</strong>(second!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L1345" name="L1345"></a>1345                 <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(SECOND, second);
<a id="L1346" name="L1346"></a>1346         <strong class="reserved">this</strong>.second  = second;
<a id="L1347" name="L1347"></a>1347     <em class="brace">}</em>
<a id="L1348" name="L1348"></a>1348 
<div class="comment">
      <p>Set time as one unit, including the optional infinite precison
      fractional seconds.</p>
      @param hour value constraints are summarized in
      <a href="#datetimefield-hour">hour field of date/time field mapping table</a>.
      @param minute value constraints are summarized in
      <a href="#datetimefield-minute">minute field of date/time field mapping table</a>.
      @param second value constraints are summarized in
      <a href="#datetimefield-second">second field of date/time field mapping table</a>.
      @param fractional value of <code>null</code> indicates this optional
                        field is not set.
      @throws IllegalArgumentException if any parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1366" name="L1366"></a>1366     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28293.html" title="Multiple referred from 32 places.">setTime</a>(
<a id="L1367" name="L1367"></a>1367             <strong class="reserved">int</strong> hour,
<a id="L1368" name="L1368"></a>1368             <strong class="reserved">int</strong> minute,
<a id="L1369" name="L1369"></a>1369             <strong class="reserved">int</strong> second,
<a id="L1370" name="L1370"></a>1370             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fractional) <em class="brace">{</em>
<a id="L1371" name="L1371"></a>1371 
<a id="L1372" name="L1372"></a>1372         <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(hour, <strong class="reserved">false</strong>);
<a id="L1373" name="L1373"></a>1373 
<a id="L1374" name="L1374"></a>1374         <a href="../D/33266.html" title="Multiple defined in 2 places.">setMinute</a>(minute);
<a id="L1375" name="L1375"></a>1375         <strong class="reserved">if</strong> (second != 60) <em class="brace">{</em>
<a id="L1376" name="L1376"></a>1376             <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(second);
<a id="L1377" name="L1377"></a>1377         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((hour == 23 &amp;&amp; minute == 59) || (hour == 0 &amp;&amp; minute == 0)) <em class="brace">{</em>
<a id="L1378" name="L1378"></a>1378             <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(second);
<a id="L1379" name="L1379"></a>1379         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1380" name="L1380"></a>1380             <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(SECOND, second);
<a id="L1381" name="L1381"></a>1381         <em class="brace">}</em>
<a id="L1382" name="L1382"></a>1382 
<a id="L1383" name="L1383"></a>1383         <a href="../D/32777.html" title="Multiple defined in 2 places.">setFractionalSecond</a>(fractional);
<a id="L1384" name="L1384"></a>1384 
<a id="L1385" name="L1385"></a>1385         <em class="comment">// must test hour after setting seconds</em>
<a id="L1386" name="L1386"></a>1386         <a href="../S/5393.html#L1300" title="Defined at 1300 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">testHour</a>();
<a id="L1387" name="L1387"></a>1387     <em class="brace">}</em>
<a id="L1388" name="L1388"></a>1388 
<a id="L1389" name="L1389"></a>1389 
<div class="comment">
      <p>Set time as one unit, including optional milliseconds.</p>
      @param hour value constraints are summarized in
      <a href="#datetimefield-hour">hour field of date/time field mapping table</a>.
      @param minute value constraints are summarized in
      <a href="#datetimefield-minute">minute field of date/time field mapping table</a>.
      @param second value constraints are summarized in
      <a href="#datetimefield-second">second field of date/time field mapping table</a>.
      @param millisecond value of {@link DatatypeConstants#FIELD_UNDEFINED} indicates this
                         optional field is not set.
      @throws IllegalArgumentException if any parameter is
      outside value constraints for the field as specified in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</div>
<a id="L1406" name="L1406"></a>1406     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28293.html" title="Multiple referred from 32 places.">setTime</a>(<strong class="reserved">int</strong> hour, <strong class="reserved">int</strong> minute, <strong class="reserved">int</strong> second, <strong class="reserved">int</strong> millisecond) <em class="brace">{</em>
<a id="L1407" name="L1407"></a>1407 
<a id="L1408" name="L1408"></a>1408         <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(hour, <strong class="reserved">false</strong>);
<a id="L1409" name="L1409"></a>1409 
<a id="L1410" name="L1410"></a>1410         <a href="../D/33266.html" title="Multiple defined in 2 places.">setMinute</a>(minute);
<a id="L1411" name="L1411"></a>1411         <strong class="reserved">if</strong> (second != 60) <em class="brace">{</em>
<a id="L1412" name="L1412"></a>1412             <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(second);
<a id="L1413" name="L1413"></a>1413         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((hour == 23 &amp;&amp; minute == 59) || (hour == 0 &amp;&amp; minute == 0)) <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414             <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(second);
<a id="L1415" name="L1415"></a>1415         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1416" name="L1416"></a>1416             <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(SECOND, second);
<a id="L1417" name="L1417"></a>1417         <em class="brace">}</em>
<a id="L1418" name="L1418"></a>1418         <a href="../D/33249.html" title="Multiple defined in 2 places.">setMillisecond</a>(millisecond);
<a id="L1419" name="L1419"></a>1419 
<a id="L1420" name="L1420"></a>1420         <em class="comment">// must test hour after setting seconds</em>
<a id="L1421" name="L1421"></a>1421         <a href="../S/5393.html#L1300" title="Defined at 1300 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">testHour</a>();
<a id="L1422" name="L1422"></a>1422     <em class="brace">}</em>
<a id="L1423" name="L1423"></a>1423 
<a id="L1424" name="L1424"></a>1424     <em class="comment">// comparisons</em>
<div class="comment">
      <p>Compare two instances of W3C XML Schema 1.0 date/time datatypes
      according to partial order relation defined in
      <a href="http://www.w3.org/TR/xmlschema-2/#dateTime-order">W3C XML Schema 1.0 Part 2, Section 3.2.7.3,
      <i>Order relation on dateTime</i></a>.</p>
      <p><code>xsd:dateTime</code> datatype field mapping to accessors of
      this class are defined in
      <a href="#datetimefieldmapping">date/time field mapping table</a>.</p>
      @param rhs instance of <code>XMLGregorianCalendar</code> to compare
      @return the relationship between <code>lhs</code> and <code>rhs</code> as
        {@link DatatypeConstants#LESSER},
        {@link DatatypeConstants#EQUAL},
        {@link DatatypeConstants#GREATER} or
        {@link DatatypeConstants#INDETERMINATE}.
      @throws NullPointerException if <code>lhs</code> or <code>rhs</code>
      parameters are null.</div>
<a id="L1446" name="L1446"></a>1446     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11691.html" title="Multiple referred from 208 places.">compare</a>(<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> rhs) <em class="brace">{</em>
<a id="L1447" name="L1447"></a>1447 
<a id="L1448" name="L1448"></a>1448         <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> lhs = <strong class="reserved">this</strong>;
<a id="L1449" name="L1449"></a>1449 
<a id="L1450" name="L1450"></a>1450         <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L1451" name="L1451"></a>1451         <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a> P = (<a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>) lhs;
<a id="L1452" name="L1452"></a>1452         <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a> Q = (<a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>) rhs;
<a id="L1453" name="L1453"></a>1453 
<a id="L1454" name="L1454"></a>1454         <strong class="reserved">if</strong> (P.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() == Q.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>()) <em class="brace">{</em>
<a id="L1455" name="L1455"></a>1455             <em class="comment">// Optimization:</em>
<a id="L1456" name="L1456"></a>1456             <em class="comment">// both instances are in same timezone or</em>
<a id="L1457" name="L1457"></a>1457             <em class="comment">// both are FIELD_UNDEFINED.</em>
<a id="L1458" name="L1458"></a>1458             <em class="comment">// Avoid costly normalization of timezone to 'Z' time.</em>
<a id="L1459" name="L1459"></a>1459             <strong class="reserved">return</strong> <a href="../S/5393.html#L1582" title="Defined at 1582 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">internalCompare</a>(P, Q);
<a id="L1460" name="L1460"></a>1460 
<a id="L1461" name="L1461"></a>1461         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (P.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED &amp;&amp;
<a id="L1462" name="L1462"></a>1462                 Q.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1463" name="L1463"></a>1463 
<a id="L1464" name="L1464"></a>1464             <em class="comment">// Both instances have different timezones.</em>
<a id="L1465" name="L1465"></a>1465             <em class="comment">// Normalize to UTC time and compare.</em>
<a id="L1466" name="L1466"></a>1466             P = (<a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>) P.<a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>();
<a id="L1467" name="L1467"></a>1467             Q = (<a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>) Q.<a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>();
<a id="L1468" name="L1468"></a>1468             <strong class="reserved">return</strong> <a href="../S/5393.html#L1582" title="Defined at 1582 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">internalCompare</a>(P, Q);
<a id="L1469" name="L1469"></a>1469         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (P.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1470" name="L1470"></a>1470 
<a id="L1471" name="L1471"></a>1471             <strong class="reserved">if</strong> (P.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() != 0) <em class="brace">{</em>
<a id="L1472" name="L1472"></a>1472                 P = (<a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>) P.<a href="../D/28279.html" title="Multiple defined in 40 places.">normalize</a>();
<a id="L1473" name="L1473"></a>1473             <em class="brace">}</em>
<a id="L1474" name="L1474"></a>1474 
<a id="L1475" name="L1475"></a>1475             <em class="comment">// C. step 1</em>
<a id="L1476" name="L1476"></a>1476             <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> MinQ = Q.<a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.MIN_TIMEZONE_OFFSET);
<a id="L1477" name="L1477"></a>1477             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5393.html#L1582" title="Defined at 1582 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">internalCompare</a>(P, MinQ);
<a id="L1478" name="L1478"></a>1478             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.LESSER) <em class="brace">{</em>
<a id="L1479" name="L1479"></a>1479                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1480" name="L1480"></a>1480             <em class="brace">}</em>
<a id="L1481" name="L1481"></a>1481 
<a id="L1482" name="L1482"></a>1482             <em class="comment">// C. step 2</em>
<a id="L1483" name="L1483"></a>1483             <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> MaxQ = Q.<a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.MAX_TIMEZONE_OFFSET);
<a id="L1484" name="L1484"></a>1484             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5393.html#L1582" title="Defined at 1582 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">internalCompare</a>(P, MaxQ);
<a id="L1485" name="L1485"></a>1485             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GREATER) <em class="brace">{</em>
<a id="L1486" name="L1486"></a>1486                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1487" name="L1487"></a>1487             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1488" name="L1488"></a>1488                 <em class="comment">// C. step 3</em>
<a id="L1489" name="L1489"></a>1489                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L1490" name="L1490"></a>1490             <em class="brace">}</em>
<a id="L1491" name="L1491"></a>1491         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// Q.getTimezone() != DatatypeConstants.FIELD_UNDEFINED</em>
<a id="L1492" name="L1492"></a>1492             <em class="comment">// P has no timezone and Q does.</em>
<a id="L1493" name="L1493"></a>1493             <strong class="reserved">if</strong> (Q.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() != 0) <em class="brace">{</em>
<a id="L1494" name="L1494"></a>1494                 Q = (<a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>) Q.<a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(Q.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>());
<a id="L1495" name="L1495"></a>1495             <em class="brace">}</em>
<a id="L1496" name="L1496"></a>1496 
<a id="L1497" name="L1497"></a>1497             <em class="comment">// D. step 1</em>
<a id="L1498" name="L1498"></a>1498             <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> MaxP = P.<a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.MAX_TIMEZONE_OFFSET);
<a id="L1499" name="L1499"></a>1499             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5393.html#L1582" title="Defined at 1582 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">internalCompare</a>(MaxP, Q);
<a id="L1500" name="L1500"></a>1500             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.LESSER) <em class="brace">{</em>
<a id="L1501" name="L1501"></a>1501                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1502" name="L1502"></a>1502             <em class="brace">}</em>
<a id="L1503" name="L1503"></a>1503 
<a id="L1504" name="L1504"></a>1504             <em class="comment">// D. step 2</em>
<a id="L1505" name="L1505"></a>1505             <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> MinP = P.<a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.MIN_TIMEZONE_OFFSET);
<a id="L1506" name="L1506"></a>1506             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/5393.html#L1582" title="Defined at 1582 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">internalCompare</a>(MinP, Q);
<a id="L1507" name="L1507"></a>1507             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GREATER) <em class="brace">{</em>
<a id="L1508" name="L1508"></a>1508                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1509" name="L1509"></a>1509             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1510" name="L1510"></a>1510                 <em class="comment">// D. step 3</em>
<a id="L1511" name="L1511"></a>1511                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L1512" name="L1512"></a>1512             <em class="brace">}</em>
<a id="L1513" name="L1513"></a>1513         <em class="brace">}</em>
<a id="L1514" name="L1514"></a>1514     <em class="brace">}</em>
<a id="L1515" name="L1515"></a>1515 
<div class="comment">
      <p>Normalize this instance to UTC.</p>
      <p>2000-03-04T23:00:00+03:00 normalizes to 2000-03-04T20:00:00Z</p>
      <p>Implements W3C XML Schema Part 2, Section 3.2.7.3 (A).</p></div>
<a id="L1522" name="L1522"></a>1522     <strong class="reserved">public</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../R/23781.html" title="Multiple referred from 143 places.">normalize</a>() <em class="brace">{</em>
<a id="L1523" name="L1523"></a>1523 
<a id="L1524" name="L1524"></a>1524         <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../D/28301.html" title="Multiple defined in 4 places.">normalized</a> = <a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(timezone);
<a id="L1525" name="L1525"></a>1525 
<a id="L1526" name="L1526"></a>1526         <em class="comment">// if timezone was undefined, leave it undefined</em>
<a id="L1527" name="L1527"></a>1527         <strong class="reserved">if</strong> (<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>() == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1528" name="L1528"></a>1528             <a href="../D/28301.html" title="Multiple defined in 4 places.">normalized</a>.<a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L1529" name="L1529"></a>1529         <em class="brace">}</em>
<a id="L1530" name="L1530"></a>1530 
<a id="L1531" name="L1531"></a>1531         <em class="comment">// if milliseconds was undefined, leave it undefined</em>
<a id="L1532" name="L1532"></a>1532         <strong class="reserved">if</strong> (<a href="../D/20620.html" title="Multiple defined in 2 places.">getMillisecond</a>() == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1533" name="L1533"></a>1533             <a href="../D/28301.html" title="Multiple defined in 4 places.">normalized</a>.<a href="../D/33249.html" title="Multiple defined in 2 places.">setMillisecond</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L1534" name="L1534"></a>1534         <em class="brace">}</em>
<a id="L1535" name="L1535"></a>1535 
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">return</strong> <a href="../D/28301.html" title="Multiple defined in 4 places.">normalized</a>;
<a id="L1537" name="L1537"></a>1537     <em class="brace">}</em>
<a id="L1538" name="L1538"></a>1538 
<div class="comment">
          <p>Normalize this instance to UTC.</p>
          <p>2000-03-04T23:00:00+03:00 normalizes to 2000-03-04T20:00:00Z</p>
          <p>Implements W3C XML Schema Part 2, Section 3.2.7.3 (A).</p></div>
<a id="L1545" name="L1545"></a>1545     <strong class="reserved">private</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../R/23794.html" title="Multiple referred from 7 places.">normalizeToTimezone</a>(<strong class="reserved">int</strong> timezone) <em class="brace">{</em>
<a id="L1546" name="L1546"></a>1546 
<a id="L1547" name="L1547"></a>1547         <strong class="reserved">int</strong> minutes = timezone;
<a id="L1548" name="L1548"></a>1548         <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>) <strong class="reserved">this</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1549" name="L1549"></a>1549 
<a id="L1550" name="L1550"></a>1550         <em class="comment">// normalizing to UTC time negates the timezone offset before</em>
<a id="L1551" name="L1551"></a>1551         <em class="comment">// addition.</em>
<a id="L1552" name="L1552"></a>1552         minutes = -minutes;
<a id="L1553" name="L1553"></a>1553         <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> d = <strong class="reserved">new</strong> <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>(minutes &gt;= 0, <em class="comment">// isPositive</em>
<a id="L1554" name="L1554"></a>1554                 0, <em class="comment">//years</em>
<a id="L1555" name="L1555"></a>1555                 0, <em class="comment">//months</em>
<a id="L1556" name="L1556"></a>1556                 0, <em class="comment">//days</em>
<a id="L1557" name="L1557"></a>1557                 0, <em class="comment">//hours</em>
<a id="L1558" name="L1558"></a>1558                 minutes &lt; 0 ? -minutes : minutes, <em class="comment">// absolute</em>
<a id="L1559" name="L1559"></a>1559                 0  <em class="comment">//seconds</em>
<a id="L1560" name="L1560"></a>1560         );
<a id="L1561" name="L1561"></a>1561         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(d);
<a id="L1562" name="L1562"></a>1562 
<a id="L1563" name="L1563"></a>1563         <em class="comment">// set to zulu UTC time.</em>
<a id="L1564" name="L1564"></a>1564         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>(0);
<a id="L1565" name="L1565"></a>1565         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1566" name="L1566"></a>1566     <em class="brace">}</em>
<a id="L1567" name="L1567"></a>1567 
<div class="comment">
       <p>Implements Step B from http://www.w3.org/TR/xmlschema-2/#dateTime-order </p>
      @param P calendar instance with normalized timezone offset or
               having same timezone as Q
      @param Q calendar instance with normalized timezone offset or
               having same timezone as P
      @return result of comparing P and Q, value of
        {@link DatatypeConstants#EQUAL},
        {@link DatatypeConstants#LESSER},
        {@link DatatypeConstants#GREATER} or
        {@link DatatypeConstants#INDETERMINATE}.</div>
<a id="L1582" name="L1582"></a>1582     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/20924.html" title="Multiple referred from 6 places.">internalCompare</a>(<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> P,
<a id="L1583" name="L1583"></a>1583                                        <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> Q) <em class="brace">{</em>
<a id="L1584" name="L1584"></a>1584 
<a id="L1585" name="L1585"></a>1585         <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1586" name="L1586"></a>1586 
<a id="L1587" name="L1587"></a>1587         <em class="comment">// compare Year.</em>
<a id="L1588" name="L1588"></a>1588         <strong class="reserved">if</strong> (P.<a href="../D/18836.html" title="Multiple defined in 2 places.">getEon</a>() == Q.<a href="../D/18836.html" title="Multiple defined in 2 places.">getEon</a>()) <em class="brace">{</em>
<a id="L1589" name="L1589"></a>1589 
<a id="L1590" name="L1590"></a>1590             <em class="comment">// Eon field is only equal when null.</em>
<a id="L1591" name="L1591"></a>1591             <em class="comment">// optimized case for comparing year not requiring eon field.</em>
<a id="L1592" name="L1592"></a>1592             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>(), Q.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>());
<a id="L1593" name="L1593"></a>1593             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1594" name="L1594"></a>1594                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1595" name="L1595"></a>1595             <em class="brace">}</em>
<a id="L1596" name="L1596"></a>1596         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1597" name="L1597"></a>1597             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(), Q.<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>());
<a id="L1598" name="L1598"></a>1598             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1599" name="L1599"></a>1599                 <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1600" name="L1600"></a>1600             <em class="brace">}</em>
<a id="L1601" name="L1601"></a>1601         <em class="brace">}</em>
<a id="L1602" name="L1602"></a>1602 
<a id="L1603" name="L1603"></a>1603         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>(), Q.<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>());
<a id="L1604" name="L1604"></a>1604         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1605" name="L1605"></a>1605             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1606" name="L1606"></a>1606         <em class="brace">}</em>
<a id="L1607" name="L1607"></a>1607 
<a id="L1608" name="L1608"></a>1608         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>(), Q.<a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>());
<a id="L1609" name="L1609"></a>1609         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1610" name="L1610"></a>1610             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1611" name="L1611"></a>1611         <em class="brace">}</em>
<a id="L1612" name="L1612"></a>1612 
<a id="L1613" name="L1613"></a>1613         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>(), Q.<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>());
<a id="L1614" name="L1614"></a>1614         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1615" name="L1615"></a>1615             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1616" name="L1616"></a>1616         <em class="brace">}</em>
<a id="L1617" name="L1617"></a>1617 
<a id="L1618" name="L1618"></a>1618         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>(), Q.<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>());
<a id="L1619" name="L1619"></a>1619         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1620" name="L1620"></a>1620             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1621" name="L1621"></a>1621         <em class="brace">}</em>
<a id="L1622" name="L1622"></a>1622         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>(), Q.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>());
<a id="L1623" name="L1623"></a>1623         <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1624" name="L1624"></a>1624             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1625" name="L1625"></a>1625         <em class="brace">}</em>
<a id="L1626" name="L1626"></a>1626 
<a id="L1627" name="L1627"></a>1627         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(P.<a href="../D/19225.html" title="Multiple defined in 2 places.">getFractionalSecond</a>(), Q.<a href="../D/19225.html" title="Multiple defined in 2 places.">getFractionalSecond</a>());
<a id="L1628" name="L1628"></a>1628         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1629" name="L1629"></a>1629     <em class="brace">}</em>
<a id="L1630" name="L1630"></a>1630 
<div class="comment">
      <p>Implement Step B from
      http://www.w3.org/TR/xmlschema-2/#dateTime-order.</p></div>
<a id="L1635" name="L1635"></a>1635     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/11710.html" title="Multiple referred from 9 places.">compareField</a>(<strong class="reserved">int</strong> Pfield, <strong class="reserved">int</strong> Qfield) <em class="brace">{</em>
<a id="L1636" name="L1636"></a>1636         <strong class="reserved">if</strong> (Pfield == Qfield) <em class="brace">{</em>
<a id="L1637" name="L1637"></a>1637 
<a id="L1638" name="L1638"></a>1638             <em class="comment">//fields are either equal in value or both undefined.</em>
<a id="L1639" name="L1639"></a>1639             <em class="comment">// Step B. 1.1 AND optimized result of performing 1.1-1.4.</em>
<a id="L1640" name="L1640"></a>1640             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL;
<a id="L1641" name="L1641"></a>1641         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1642" name="L1642"></a>1642             <strong class="reserved">if</strong> (Pfield == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED || Qfield == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1643" name="L1643"></a>1643                 <em class="comment">// Step B. 1.2</em>
<a id="L1644" name="L1644"></a>1644                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L1645" name="L1645"></a>1645             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1646" name="L1646"></a>1646                 <em class="comment">// Step B. 1.3-4.</em>
<a id="L1647" name="L1647"></a>1647                 <strong class="reserved">return</strong> (Pfield &lt; Qfield ? <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.LESSER : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GREATER);
<a id="L1648" name="L1648"></a>1648             <em class="brace">}</em>
<a id="L1649" name="L1649"></a>1649         <em class="brace">}</em>
<a id="L1650" name="L1650"></a>1650     <em class="brace">}</em>
<a id="L1651" name="L1651"></a>1651 
<a id="L1652" name="L1652"></a>1652     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/11710.html" title="Multiple referred from 9 places.">compareField</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> Pfield, <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> Qfield) <em class="brace">{</em>
<a id="L1653" name="L1653"></a>1653         <strong class="reserved">if</strong> (Pfield == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1654" name="L1654"></a>1654             <strong class="reserved">return</strong> (Qfield == <strong class="reserved">null</strong> ? <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE);
<a id="L1655" name="L1655"></a>1655         <em class="brace">}</em>
<a id="L1656" name="L1656"></a>1656         <strong class="reserved">if</strong> (Qfield == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1657" name="L1657"></a>1657             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.INDETERMINATE;
<a id="L1658" name="L1658"></a>1658         <em class="brace">}</em>
<a id="L1659" name="L1659"></a>1659         <strong class="reserved">return</strong> Pfield.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(Qfield);
<a id="L1660" name="L1660"></a>1660     <em class="brace">}</em>
<a id="L1661" name="L1661"></a>1661 
<a id="L1662" name="L1662"></a>1662     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/11710.html" title="Multiple referred from 9 places.">compareField</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> Pfield, <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> Qfield) <em class="brace">{</em>
<a id="L1663" name="L1663"></a>1663         <em class="comment">// optimization. especially when both arguments are null.</em>
<a id="L1664" name="L1664"></a>1664         <strong class="reserved">if</strong> (Pfield == Qfield) <em class="brace">{</em>
<a id="L1665" name="L1665"></a>1665             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL;
<a id="L1666" name="L1666"></a>1666         <em class="brace">}</em>
<a id="L1667" name="L1667"></a>1667 
<a id="L1668" name="L1668"></a>1668         <strong class="reserved">if</strong> (Pfield == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1669" name="L1669"></a>1669             Pfield = DECIMAL_ZERO;
<a id="L1670" name="L1670"></a>1670         <em class="brace">}</em>
<a id="L1671" name="L1671"></a>1671 
<a id="L1672" name="L1672"></a>1672         <strong class="reserved">if</strong> (Qfield == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1673" name="L1673"></a>1673             Qfield = DECIMAL_ZERO;
<a id="L1674" name="L1674"></a>1674         <em class="brace">}</em>
<a id="L1675" name="L1675"></a>1675 
<a id="L1676" name="L1676"></a>1676         <strong class="reserved">return</strong> Pfield.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(Qfield);
<a id="L1677" name="L1677"></a>1677     <em class="brace">}</em>
<a id="L1678" name="L1678"></a>1678 
<div class="comment">
      <p>Indicates whether parameter <code>obj</code> is "equal to" this one.</p>
      @param obj to compare.
      @return <code>true</code> when <code>compare(this,(XMLGregorianCalendar)obj) == EQUAL.</code>.</div>
<a id="L1686" name="L1686"></a>1686     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L1687" name="L1687"></a>1687 
<a id="L1688" name="L1688"></a>1688         <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong> || !(obj <strong class="reserved">instanceof</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>)) <em class="brace">{</em>
<a id="L1689" name="L1689"></a>1689             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1690" name="L1690"></a>1690         <em class="brace">}</em>
<a id="L1691" name="L1691"></a>1691         <strong class="reserved">return</strong> <a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>((<a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a>) obj) == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL;
<a id="L1692" name="L1692"></a>1692     <em class="brace">}</em>
<a id="L1693" name="L1693"></a>1693 
<div class="comment">
      <p>Returns a hash code consistent with the definition of the equals method.</p>
      @return hash code of this object.</div>
<a id="L1699" name="L1699"></a>1699     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L1700" name="L1700"></a>1700 
<a id="L1701" name="L1701"></a>1701         <em class="comment">// Following two dates compare to EQUALS since in different timezones.</em>
<a id="L1702" name="L1702"></a>1702         <em class="comment">// 2000-01-15T12:00:00-05:00 == 2000-01-15T13:00:00-04:00</em>
<a id="L1703" name="L1703"></a>1703         <em class="comment">//</em>
<a id="L1704" name="L1704"></a>1704         <em class="comment">// Must ensure both instances generate same hashcode by normalizing</em>
<a id="L1705" name="L1705"></a>1705         <em class="comment">// this to UTC timezone.</em>
<a id="L1706" name="L1706"></a>1706         <strong class="reserved">int</strong> timezone = <a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>();
<a id="L1707" name="L1707"></a>1707         <strong class="reserved">if</strong> (timezone == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L1708" name="L1708"></a>1708             timezone = 0;
<a id="L1709" name="L1709"></a>1709         <em class="brace">}</em>
<a id="L1710" name="L1710"></a>1710         <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> = <strong class="reserved">this</strong>;
<a id="L1711" name="L1711"></a>1711         <strong class="reserved">if</strong> (timezone != 0) <em class="brace">{</em>
<a id="L1712" name="L1712"></a>1712             <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a> = <strong class="reserved">this</strong>.<a href="../S/5393.html#L1545" title="Defined at 1545 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">normalizeToTimezone</a>(<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>());
<a id="L1713" name="L1713"></a>1713         <em class="brace">}</em>
<a id="L1714" name="L1714"></a>1714         <strong class="reserved">return</strong> <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>() + <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>() + <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>() +
<a id="L1715" name="L1715"></a>1715                 <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>() + <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>() + <a href="../D/16627.html" title="Multiple defined in 3 places.">gc</a>.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>();
<a id="L1716" name="L1716"></a>1716     <em class="brace">}</em>
<a id="L1717" name="L1717"></a>1717 
<a id="L1718" name="L1718"></a>1718 
<div class="comment">
      <p>Constructs a new XMLGregorianCalendar object by
      parsing its lexical string representation as defined in
      <a href="http://www.w3.org/TR/xmlschema-2/#dateTime-order">XML Schema 1.0 Part 2, Section 3.2.[7-14].1,
      <i>Lexical Representation</i>.</a></p>
      <p>The string representation may not have any leading and trailing whitespaces.</p>
      <p>The parsing is done field by field so that
      the following holds for any lexically correct string x:</p>
      <pre>      new XMLGregorianCalendar(x).toXMLFormat().equals(x)
      </pre>
      Except for the noted lexical/canonical representation mismatches
      listed in <a href="http://www.w3.org/2001/05/xmlschema-errata#e2-45">
      XML Schema 1.0 errata, Section 3.2.7.2</a>.
      <p>Returns a non-null valid XMLGregorianCalendar object that holds the value
      indicated by the lexicalRepresentation parameter.</p>
      @param lexicalRepresentation Lexical representation of one the 8 XML Schema calendar datatypes.
      @return <code>XMLGregorianCalendar</code> created from parsing <code>lexicalRepresentation</code> parameter.
      @throws IllegalArgumentException
           If the given string does not conform to the aforementioned
           specification.
      @throws NullPointerException
           If the given string is null.</div>
<a id="L1749" name="L1749"></a>1749     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lexicalRepresentation) <em class="brace">{</em>
<a id="L1750" name="L1750"></a>1750 
<a id="L1751" name="L1751"></a>1751                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(lexicalRepresentation);
<a id="L1752" name="L1752"></a>1752     <em class="brace">}</em>
<a id="L1753" name="L1753"></a>1753 
<div class="comment">
      <p>Return the lexical representation of <code>this</code> instance.
      The format is specified in
      <a href="http://www.w3.org/TR/xmlschema-2/#dateTime-order">XML Schema 1.0 Part 2, Section 3.2.[7-14].1,
      <i>Lexical Representation</i>".</a></p>
      <p>Specific target lexical representation format is determined by
      {@link #getXMLSchemaType()}.</p>
      @return XML, as <code>String</code>, representation of this <code>XMLGregorianCalendar</code>
      @throws java.lang.IllegalStateException if the combination of set fields
         does not match one of the eight defined XML Schema builtin date/time datatypes.</div>
<a id="L1768" name="L1768"></a>1768     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3901.html#L866" title="Referred from 866 in src/javax/xml/datatype/XMLGregorianCalendar.java.">toXMLFormat</a>() <em class="brace">{</em>
<a id="L1769" name="L1769"></a>1769 
<a id="L1770" name="L1770"></a>1770         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> typekind = <a href="../D/23758.html" title="Multiple defined in 3 places.">getXMLSchemaType</a>();
<a id="L1771" name="L1771"></a>1771 
<a id="L1772" name="L1772"></a>1772         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> formatString = <strong class="reserved">null</strong>;
<a id="L1773" name="L1773"></a>1773         <em class="comment">// Fix 4971612: invalid SCCS macro substitution in data string</em>
<a id="L1774" name="L1774"></a>1774         <em class="comment">//   no %{alpha}% to avoid SCCS macro substitution</em>
<a id="L1775" name="L1775"></a>1775         <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.DATETIME) <em class="brace">{</em>
<a id="L1776" name="L1776"></a>1776             formatString = "%Y-%M-%DT%h:%m:%s" + "%z";
<a id="L1777" name="L1777"></a>1777         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/2603.html#L91" title="Defined at 91 in src/java/sql/JDBCType.java.">DATE</a>) <em class="brace">{</em>
<a id="L1778" name="L1778"></a>1778             formatString = "%Y-%M-%D" + "%z";
<a id="L1779" name="L1779"></a>1779         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/2603.html#L95" title="Defined at 95 in src/java/sql/JDBCType.java.">TIME</a>) <em class="brace">{</em>
<a id="L1780" name="L1780"></a>1780             formatString = "%h:%m:%s" + "%z";
<a id="L1781" name="L1781"></a>1781         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GMONTH) <em class="brace">{</em>
<a id="L1782" name="L1782"></a>1782             formatString = "--%M" + "%z";
<a id="L1783" name="L1783"></a>1783         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GDAY) <em class="brace">{</em>
<a id="L1784" name="L1784"></a>1784             formatString = "---%D" + "%z";
<a id="L1785" name="L1785"></a>1785         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GYEAR) <em class="brace">{</em>
<a id="L1786" name="L1786"></a>1786             formatString = "%Y" + "%z";
<a id="L1787" name="L1787"></a>1787         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GYEARMONTH) <em class="brace">{</em>
<a id="L1788" name="L1788"></a>1788             formatString = "%Y-%M" + "%z";
<a id="L1789" name="L1789"></a>1789         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (typekind == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GMONTHDAY) <em class="brace">{</em>
<a id="L1790" name="L1790"></a>1790             formatString = "--%M-%D" + "%z";
<a id="L1791" name="L1791"></a>1791         <em class="brace">}</em>
<a id="L1792" name="L1792"></a>1792         <strong class="reserved">return</strong> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(formatString);
<a id="L1793" name="L1793"></a>1793     <em class="brace">}</em>
<a id="L1794" name="L1794"></a>1794 
<div class="comment">
      <p>Return the name of the XML Schema date/time type that this instance
      maps to. Type is computed based on fields that are set.</p>
      <table border="2" rules="all" cellpadding="2">
        <thead>
          <tr>
            <th align="center" colspan="7">
              Required fields for XML Schema 1.0 Date/Time Datatypes.<br>
              <i>(timezone is optional for all date/time datatypes)</i>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Datatype</td>
            <td>year</td>
            <td>month</td>
            <td>day</td>
            <td>hour</td>
            <td>minute</td>
            <td>second</td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#DATETIME}</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#DATE}</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#TIME}</td>
            <td></td>
            <td></td>
            <td></td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#GYEARMONTH}</td>
            <td>X</td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#GMONTHDAY}</td>
            <td></td>
            <td>X</td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#GYEAR}</td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#GMONTH}</td>
            <td></td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#GDAY}</td>
            <td></td>
            <td></td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
      @throws java.lang.IllegalStateException if the combination of set fields
         does not match one of the eight defined XML Schema builtin
         date/time datatypes.
      @return One of the following class constants:
        {@link DatatypeConstants#DATETIME},
        {@link DatatypeConstants#TIME},
        {@link DatatypeConstants#DATE},
        {@link DatatypeConstants#GYEARMONTH},
        {@link DatatypeConstants#GMONTHDAY},
        {@link DatatypeConstants#GYEAR},
        {@link DatatypeConstants#GMONTH} or
        {@link DatatypeConstants#GDAY}.</div>
<a id="L1906" name="L1906"></a>1906     <strong class="reserved">public</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../S/5393.html#L1770" title="Referred from 1770 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">getXMLSchemaType</a>() <em class="brace">{</em>
<a id="L1907" name="L1907"></a>1907 
<a id="L1908" name="L1908"></a>1908         <strong class="reserved">int</strong> <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> =
<a id="L1909" name="L1909"></a>1909             (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ?   0x20 : 0 )|
<a id="L1910" name="L1910"></a>1910             (month != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ?  0x10 : 0 )|
<a id="L1911" name="L1911"></a>1911             (day != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ?    0x08 : 0 )|
<a id="L1912" name="L1912"></a>1912             (hour != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ?   0x04 : 0 )|
<a id="L1913" name="L1913"></a>1913             (minute != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ? 0x02 : 0 )|
<a id="L1914" name="L1914"></a>1914             (second != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED ? 0x01 : 0 );
<a id="L1915" name="L1915"></a>1915 
<a id="L1916" name="L1916"></a>1916         <strong class="reserved">switch</strong>(<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>) <em class="brace">{</em>
<a id="L1917" name="L1917"></a>1917         <strong class="reserved">case</strong> 0x3F:
<a id="L1918" name="L1918"></a>1918                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.DATETIME;
<a id="L1919" name="L1919"></a>1919         <strong class="reserved">case</strong> 0x38:
<a id="L1920" name="L1920"></a>1920                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/2603.html#L91" title="Defined at 91 in src/java/sql/JDBCType.java.">DATE</a>;
<a id="L1921" name="L1921"></a>1921         <strong class="reserved">case</strong> 0x07:
<a id="L1922" name="L1922"></a>1922                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/2603.html#L95" title="Defined at 95 in src/java/sql/JDBCType.java.">TIME</a>;
<a id="L1923" name="L1923"></a>1923         <strong class="reserved">case</strong> 0x30:
<a id="L1924" name="L1924"></a>1924                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GYEARMONTH;
<a id="L1925" name="L1925"></a>1925         <strong class="reserved">case</strong> 0x18:
<a id="L1926" name="L1926"></a>1926                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GMONTHDAY;
<a id="L1927" name="L1927"></a>1927         <strong class="reserved">case</strong> 0x20:
<a id="L1928" name="L1928"></a>1928                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GYEAR;
<a id="L1929" name="L1929"></a>1929         <strong class="reserved">case</strong> 0x10:
<a id="L1930" name="L1930"></a>1930                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GMONTH;
<a id="L1931" name="L1931"></a>1931         <strong class="reserved">case</strong> 0x08:
<a id="L1932" name="L1932"></a>1932                 <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GDAY;
<a id="L1933" name="L1933"></a>1933         <strong class="reserved">default</strong>:
<a id="L1934" name="L1934"></a>1934             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(
<a id="L1935" name="L1935"></a>1935                 <strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()
<a id="L1936" name="L1936"></a>1936                 + "#getXMLSchemaType() :"
<a id="L1937" name="L1937"></a>1937                 + <a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>, "InvalidXGCFields", <strong class="reserved">null</strong>)
<a id="L1938" name="L1938"></a>1938             );
<a id="L1939" name="L1939"></a>1939         <em class="brace">}</em>
<a id="L1940" name="L1940"></a>1940     <em class="brace">}</em>
<a id="L1941" name="L1941"></a>1941 
<a id="L1942" name="L1942"></a>1942 
<div class="comment">
      Validate instance by <code>getXMLSchemaType()</code> constraints.
      @return true if data values are valid.</div>
<a id="L1947" name="L1947"></a>1947     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>() <em class="brace">{</em>
<a id="L1948" name="L1948"></a>1948         <em class="comment">// since setters do not allow for invalid values,</em>
<a id="L1949" name="L1949"></a>1949         <em class="comment">// (except for exceptional case of year field of zero),</em>
<a id="L1950" name="L1950"></a>1950         <em class="comment">// no need to check for anything except for constraints</em>
<a id="L1951" name="L1951"></a>1951         <em class="comment">// between fields.</em>
<a id="L1952" name="L1952"></a>1952 
<a id="L1953" name="L1953"></a>1953         <em class="comment">//check if days in month is valid. Can be dependent on leap year.</em>
<a id="L1954" name="L1954"></a>1954         <strong class="reserved">if</strong> (<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>() == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FEBRUARY) <em class="brace">{</em>
<a id="L1955" name="L1955"></a>1955             <em class="comment">// years could not be set</em>
<a id="L1956" name="L1956"></a>1956             <strong class="reserved">int</strong> maxDays = 29;
<a id="L1957" name="L1957"></a>1957 
<a id="L1958" name="L1958"></a>1958             <strong class="reserved">if</strong> (eon == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1959" name="L1959"></a>1959                 <strong class="reserved">if</strong>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L1960" name="L1960"></a>1960                     maxDays = <a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>,<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>());
<a id="L1961" name="L1961"></a>1961             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1962" name="L1962"></a>1962                 <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> years = <a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>();
<a id="L1963" name="L1963"></a>1963                 <strong class="reserved">if</strong> (years != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1964" name="L1964"></a>1964                     maxDays = <a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(), <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FEBRUARY);
<a id="L1965" name="L1965"></a>1965                 <em class="brace">}</em>
<a id="L1966" name="L1966"></a>1966             <em class="brace">}</em>
<a id="L1967" name="L1967"></a>1967             <strong class="reserved">if</strong> (<a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>() &gt; maxDays) <em class="brace">{</em>
<a id="L1968" name="L1968"></a>1968                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1969" name="L1969"></a>1969             <em class="brace">}</em>
<a id="L1970" name="L1970"></a>1970         <em class="brace">}</em>
<a id="L1971" name="L1971"></a>1971 
<a id="L1972" name="L1972"></a>1972         <em class="comment">// http://www.w3.org/2001/05/xmlschema-errata#e2-45</em>
<a id="L1973" name="L1973"></a>1973         <strong class="reserved">if</strong> (<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>() == 24) <em class="brace">{</em>
<a id="L1974" name="L1974"></a>1974             <strong class="reserved">if</strong>(<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>() != 0) <em class="brace">{</em>
<a id="L1975" name="L1975"></a>1975                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1976" name="L1976"></a>1976             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() != 0) <em class="brace">{</em>
<a id="L1977" name="L1977"></a>1977                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1978" name="L1978"></a>1978             <em class="brace">}</em>
<a id="L1979" name="L1979"></a>1979         <em class="brace">}</em>
<a id="L1980" name="L1980"></a>1980 
<a id="L1981" name="L1981"></a>1981         <em class="comment">// XML Schema 1.0 specification defines year value of zero as</em>
<a id="L1982" name="L1982"></a>1982         <em class="comment">// invalid. Allow this class to set year field to zero</em>
<a id="L1983" name="L1983"></a>1983         <em class="comment">// since XML Schema 1.0 errata states that lexical zero will</em>
<a id="L1984" name="L1984"></a>1984         <em class="comment">// be allowed in next version and treated as 1 B.C.E.</em>
<a id="L1985" name="L1985"></a>1985         <strong class="reserved">if</strong> (eon == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1986" name="L1986"></a>1986             <em class="comment">// optimize check.</em>
<a id="L1987" name="L1987"></a>1987             <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> == 0) <em class="brace">{</em>
<a id="L1988" name="L1988"></a>1988                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1989" name="L1989"></a>1989             <em class="brace">}</em>
<a id="L1990" name="L1990"></a>1990         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1991" name="L1991"></a>1991             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> yearField = <a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>();
<a id="L1992" name="L1992"></a>1992             <strong class="reserved">if</strong> (yearField != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1993" name="L1993"></a>1993                 <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/13053.html" title="Multiple defined in 3 places.">compareField</a>(yearField, <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO);
<a id="L1994" name="L1994"></a>1994                 <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL) <em class="brace">{</em>
<a id="L1995" name="L1995"></a>1995                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1996" name="L1996"></a>1996                 <em class="brace">}</em>
<a id="L1997" name="L1997"></a>1997             <em class="brace">}</em>
<a id="L1998" name="L1998"></a>1998         <em class="brace">}</em>
<a id="L1999" name="L1999"></a>1999         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2000" name="L2000"></a>2000     <em class="brace">}</em>
<a id="L2001" name="L2001"></a>2001 
<div class="comment">
      <p>Add <code>duration</code> to this instance.&lt;\p&gt;
      </p><p>The computation is specified in
      <a href="http://www.w3.org/TR/xmlschema-2/#adding-durations-to-dateTimes">XML Schema 1.0 Part 2, Appendix E,
      <i>Adding durations to dateTimes</i>&gt;</a>.
      <a href="#datetimefieldsmapping">date/time field mapping table</a>
      defines the mapping from XML Schema 1.0 <code>dateTime</code> fields
      to this class' representation of those fields.</p>
      @param duration Duration to add to this <code>XMLGregorianCalendar</code>.
      @throws NullPointerException  when <code>duration</code> parameter is <code>null</code>.</div>
<a id="L2016" name="L2016"></a>2016     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> duration) <em class="brace">{</em>
<a id="L2017" name="L2017"></a>2017 
<div class="comment">
            Extracted from
            http://www.w3.org/TR/xmlschema-2/#adding-durations-to-dateTimes
            to ensure implemented properly. See spec for definitions of methods
            used in algorithm.
            Given a dateTime S and a duration D, specifies how to compute a
            dateTime E where E is the end of the time period with start S and
            duration D i.e. E = S + D.
            The following is the precise specification.
            These steps must be followed in the same order.
            If a field in D is not specified, it is treated as if it were zero.
            If a field in S is not specified, it is treated in the calculation
            as if it were the minimum allowed value in that field, however,
            after the calculation is concluded, the corresponding field in
            E is removed (set to unspecified).
            Months (may be modified additionally below)
                 temp := S[month] + D[month]
                 E[month] := modulo(temp, 1, 13)
                 carry := fQuotient(temp, 1, 13)</div>
<a id="L2041" name="L2041"></a>2041 
<a id="L2042" name="L2042"></a>2042         <strong class="reserved">boolean</strong> fieldUndefined[] = <em class="brace">{</em>
<a id="L2043" name="L2043"></a>2043                 <strong class="reserved">false</strong>,
<a id="L2044" name="L2044"></a>2044                 <strong class="reserved">false</strong>,
<a id="L2045" name="L2045"></a>2045                 <strong class="reserved">false</strong>,
<a id="L2046" name="L2046"></a>2046                 <strong class="reserved">false</strong>,
<a id="L2047" name="L2047"></a>2047                 <strong class="reserved">false</strong>,
<a id="L2048" name="L2048"></a>2048                 <strong class="reserved">false</strong>
<a id="L2049" name="L2049"></a>2049         <em class="brace">}</em>;
<a id="L2050" name="L2050"></a>2050 
<a id="L2051" name="L2051"></a>2051         <strong class="reserved">int</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> = duration.<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>();
<a id="L2052" name="L2052"></a>2052 
<a id="L2053" name="L2053"></a>2053         <strong class="reserved">int</strong> startMonth = <a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>();
<a id="L2054" name="L2054"></a>2054         <strong class="reserved">if</strong> (startMonth == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2055" name="L2055"></a>2055             startMonth = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.JANUARY;
<a id="L2056" name="L2056"></a>2056             fieldUndefined[MONTH] = <strong class="reserved">true</strong>;
<a id="L2057" name="L2057"></a>2057         <em class="brace">}</em>
<a id="L2058" name="L2058"></a>2058 
<a id="L2059" name="L2059"></a>2059         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> dMonths = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(duration.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>), <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L2060" name="L2060"></a>2060         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> temp = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) startMonth).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dMonths);
<a id="L2061" name="L2061"></a>2061         <a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(temp.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ONE).<a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(TWELVE).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>() + 1);
<a id="L2062" name="L2062"></a>2062         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> carry =
<a id="L2063" name="L2063"></a>2063                 <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(temp.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ONE)).<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(<strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(TWELVE), <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_FLOOR).<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>();
<a id="L2064" name="L2064"></a>2064 
<div class="comment">
 Years (may be modified additionally below)
              E[year] := S[year] + D[year] + carry</div>
<a id="L2068" name="L2068"></a>2068         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> startYear = <a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>();
<a id="L2069" name="L2069"></a>2069         <strong class="reserved">if</strong> (startYear == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2070" name="L2070"></a>2070             fieldUndefined[<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>] = <strong class="reserved">true</strong>;
<a id="L2071" name="L2071"></a>2071             startYear = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO;
<a id="L2072" name="L2072"></a>2072         <em class="brace">}</em>
<a id="L2073" name="L2073"></a>2073         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> dYears = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(duration.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>), <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L2074" name="L2074"></a>2074         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> endYear = startYear.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dYears).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(carry);
<a id="L2075" name="L2075"></a>2075         <a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(endYear);
<a id="L2076" name="L2076"></a>2076 
<div class="comment">
 Zone
                 E[zone] := S[zone]
            no-op since adding to this, not to a new end point.</div>
<a id="L2082" name="L2082"></a>2082 
<div class="comment">
 Seconds
              temp := S[second] + D[second]
              E[second] := modulo(temp, 60)
              carry := fQuotient(temp, 60)</div>
<a id="L2088" name="L2088"></a>2088         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> startSeconds;
<a id="L2089" name="L2089"></a>2089         <strong class="reserved">if</strong> (<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2090" name="L2090"></a>2090             fieldUndefined[SECOND] = <strong class="reserved">true</strong>;
<a id="L2091" name="L2091"></a>2091             startSeconds = DECIMAL_ZERO;
<a id="L2092" name="L2092"></a>2092         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2093" name="L2093"></a>2093             <em class="comment">// seconds + fractionalSeconds</em>
<a id="L2094" name="L2094"></a>2094             startSeconds = <a href="../D/22313.html" title="Multiple defined in 8 places.">getSeconds</a>();
<a id="L2095" name="L2095"></a>2095         <em class="brace">}</em>
<a id="L2096" name="L2096"></a>2096 
<a id="L2097" name="L2097"></a>2097         <em class="comment">// Duration seconds is SECONDS + FRACTIONALSECONDS.</em>
<a id="L2098" name="L2098"></a>2098         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> dSeconds = <a href="../S/5394.html#L105" title="Defined at 105 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/DurationImpl.java.">DurationImpl</a>.<a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>((<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>) duration.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>), <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L2099" name="L2099"></a>2099         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> tempBD = startSeconds.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dSeconds);
<a id="L2100" name="L2100"></a>2100         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../D/15961.html" title="Multiple defined in 2 places.">fQuotient</a> =
<a id="L2101" name="L2101"></a>2101                 <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(tempBD.<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>()).<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(DECIMAL_SIXTY, <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_FLOOR).<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>());
<a id="L2102" name="L2102"></a>2102         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> endSeconds = tempBD.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../D/15961.html" title="Multiple defined in 2 places.">fQuotient</a>.<a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(DECIMAL_SIXTY));
<a id="L2103" name="L2103"></a>2103 
<a id="L2104" name="L2104"></a>2104         carry = <a href="../D/15961.html" title="Multiple defined in 2 places.">fQuotient</a>.<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>();
<a id="L2105" name="L2105"></a>2105         <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(endSeconds.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2106" name="L2106"></a>2106         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> tempFracSeconds = endSeconds.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) <a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>())));
<a id="L2107" name="L2107"></a>2107         <strong class="reserved">if</strong> (tempFracSeconds.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(DECIMAL_ZERO) &lt; 0) <em class="brace">{</em>
<a id="L2108" name="L2108"></a>2108             <a href="../D/32777.html" title="Multiple defined in 2 places.">setFractionalSecond</a>(DECIMAL_ONE.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(tempFracSeconds));
<a id="L2109" name="L2109"></a>2109             <strong class="reserved">if</strong> (<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() == 0) <em class="brace">{</em>
<a id="L2110" name="L2110"></a>2110                 <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(59);
<a id="L2111" name="L2111"></a>2111                 carry = carry.<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ONE);
<a id="L2112" name="L2112"></a>2112             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2113" name="L2113"></a>2113                 <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() - 1);
<a id="L2114" name="L2114"></a>2114             <em class="brace">}</em>
<a id="L2115" name="L2115"></a>2115         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2116" name="L2116"></a>2116             <a href="../D/32777.html" title="Multiple defined in 2 places.">setFractionalSecond</a>(tempFracSeconds);
<a id="L2117" name="L2117"></a>2117         <em class="brace">}</em>
<a id="L2118" name="L2118"></a>2118 
<div class="comment">
 Minutes
                 temp := S[minute] + D[minute] + carry
                 E[minute] := modulo(temp, 60)
                 carry := fQuotient(temp, 60)</div>
<a id="L2124" name="L2124"></a>2124         <strong class="reserved">int</strong> startMinutes = <a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>();
<a id="L2125" name="L2125"></a>2125         <strong class="reserved">if</strong> (startMinutes == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2126" name="L2126"></a>2126             fieldUndefined[MINUTE] = <strong class="reserved">true</strong>;
<a id="L2127" name="L2127"></a>2127             startMinutes = 0;
<a id="L2128" name="L2128"></a>2128         <em class="brace">}</em>
<a id="L2129" name="L2129"></a>2129         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> dMinutes = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(duration.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>), <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L2130" name="L2130"></a>2130 
<a id="L2131" name="L2131"></a>2131         temp = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(startMinutes).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dMinutes).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(carry);
<a id="L2132" name="L2132"></a>2132         <a href="../D/33266.html" title="Multiple defined in 2 places.">setMinute</a>(temp.<a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(SIXTY).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2133" name="L2133"></a>2133         carry = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(temp).<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(DECIMAL_SIXTY, <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_FLOOR).<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>();
<a id="L2134" name="L2134"></a>2134 
<div class="comment">
 Hours
                 temp := S[hour] + D[hour] + carry
                 E[hour] := modulo(temp, 24)
                 carry := fQuotient(temp, 24)</div>
<a id="L2140" name="L2140"></a>2140         <strong class="reserved">int</strong> startHours = <a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>();
<a id="L2141" name="L2141"></a>2141         <strong class="reserved">if</strong> (startHours == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2142" name="L2142"></a>2142             fieldUndefined[HOUR] = <strong class="reserved">true</strong>;
<a id="L2143" name="L2143"></a>2143             startHours = 0;
<a id="L2144" name="L2144"></a>2144         <em class="brace">}</em>
<a id="L2145" name="L2145"></a>2145         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> dHours = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(duration.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>), <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L2146" name="L2146"></a>2146 
<a id="L2147" name="L2147"></a>2147         temp = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(startHours).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dHours).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(carry);
<a id="L2148" name="L2148"></a>2148         <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(temp.<a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(TWENTY_FOUR).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>(), <strong class="reserved">false</strong>);
<a id="L2149" name="L2149"></a>2149         carry = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(temp).<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(<strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(TWENTY_FOUR), <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_FLOOR).<a href="../D/35356.html" title="Multiple defined in 4 places.">toBigInteger</a>();
<a id="L2150" name="L2150"></a>2150 
<div class="comment">
 Days
             if S[day] &gt; maximumDayInMonthFor(E[year], E[month])
                  + tempDays := maximumDayInMonthFor(E[year], E[month])
             else if S[day] &lt; 1
                  + tempDays := 1
             else
                  + tempDays := S[day]
             E[day] := tempDays + D[day] + carry
             START LOOP
                  + IF E[day] &lt; 1
                        # E[day] := E[day] +
                             maximumDayInMonthFor(E[year], E[month] - 1)
                        # carry := -1
                  + ELSE IF E[day] &gt; maximumDayInMonthFor(E[year], E[month])
                        # E[day] :=
                                E[day] - maximumDayInMonthFor(E[year], E[month])
                        # carry := 1
                  + ELSE EXIT LOOP
                  + temp := E[month] + carry
                  + E[month] := modulo(temp, 1, 13)
                  + E[year] := E[year] + fQuotient(temp, 1, 13)
                  + GOTO START LOOP</div>
<a id="L2174" name="L2174"></a>2174         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> tempDays;
<a id="L2175" name="L2175"></a>2175         <strong class="reserved">int</strong> startDay = <a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>();
<a id="L2176" name="L2176"></a>2176         <strong class="reserved">if</strong> (startDay == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2177" name="L2177"></a>2177             fieldUndefined[DAY] = <strong class="reserved">true</strong>;
<a id="L2178" name="L2178"></a>2178             startDay = 1;
<a id="L2179" name="L2179"></a>2179         <em class="brace">}</em>
<a id="L2180" name="L2180"></a>2180         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> dDays = <a href="../D/31532.html" title="Multiple defined in 3 places.">sanitize</a>(duration.<a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>), <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>);
<a id="L2181" name="L2181"></a>2181         <strong class="reserved">int</strong> maxDayInMonth = <a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(), <a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>());
<a id="L2182" name="L2182"></a>2182         <strong class="reserved">if</strong> (startDay &gt; maxDayInMonth) <em class="brace">{</em>
<a id="L2183" name="L2183"></a>2183             tempDays = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(maxDayInMonth);
<a id="L2184" name="L2184"></a>2184         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (startDay &lt; 1) <em class="brace">{</em>
<a id="L2185" name="L2185"></a>2185             tempDays = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ONE;
<a id="L2186" name="L2186"></a>2186         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2187" name="L2187"></a>2187             tempDays = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(startDay);
<a id="L2188" name="L2188"></a>2188         <em class="brace">}</em>
<a id="L2189" name="L2189"></a>2189         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> endDays = tempDays.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dDays).<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(carry);
<a id="L2190" name="L2190"></a>2190         <strong class="reserved">int</strong> monthCarry;
<a id="L2191" name="L2191"></a>2191         <strong class="reserved">int</strong> intTemp;
<a id="L2192" name="L2192"></a>2192         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L2193" name="L2193"></a>2193             <strong class="reserved">if</strong> (endDays.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ONE) &lt; 0) <em class="brace">{</em>
<a id="L2194" name="L2194"></a>2194                 <em class="comment">// calculate days in previous month, watch for month roll over</em>
<a id="L2195" name="L2195"></a>2195                 <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> mdimf = <strong class="reserved">null</strong>;
<a id="L2196" name="L2196"></a>2196                 <strong class="reserved">if</strong> (month &gt;= 2) <em class="brace">{</em>
<a id="L2197" name="L2197"></a>2197                     mdimf = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(), <a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>() - 1));
<a id="L2198" name="L2198"></a>2198                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2199" name="L2199"></a>2199                     <em class="comment">// roll over to December of previous year</em>
<a id="L2200" name="L2200"></a>2200                     mdimf = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>().<a href="../D/35018.html" title="Multiple defined in 10 places.">subtract</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>((<strong class="reserved">long</strong>) 1)), 12));
<a id="L2201" name="L2201"></a>2201                 <em class="brace">}</em>
<a id="L2202" name="L2202"></a>2202                 endDays = endDays.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(mdimf);
<a id="L2203" name="L2203"></a>2203                 monthCarry = -1;
<a id="L2204" name="L2204"></a>2204             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (endDays.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(), <a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>()))) &gt; 0) <em class="brace">{</em>
<a id="L2205" name="L2205"></a>2205                 endDays = endDays.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(-<a href="../D/27581.html" title="Multiple defined in 2 places.">maximumDayInMonthFor</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(), <a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>())));
<a id="L2206" name="L2206"></a>2206                 monthCarry = 1;
<a id="L2207" name="L2207"></a>2207             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2208" name="L2208"></a>2208                 <strong class="reserved">break</strong>;
<a id="L2209" name="L2209"></a>2209             <em class="brace">}</em>
<a id="L2210" name="L2210"></a>2210 
<a id="L2211" name="L2211"></a>2211             intTemp = <a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>() + monthCarry;
<a id="L2212" name="L2212"></a>2212             <strong class="reserved">int</strong> endMonth = (intTemp - 1) % (13 - 1);
<a id="L2213" name="L2213"></a>2213             <strong class="reserved">int</strong> quotient;
<a id="L2214" name="L2214"></a>2214             <strong class="reserved">if</strong> (endMonth &lt; 0) <em class="brace">{</em>
<a id="L2215" name="L2215"></a>2215                 endMonth = (13 - 1) + endMonth + 1;
<a id="L2216" name="L2216"></a>2216                 quotient = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(intTemp - 1).<a href="../D/14985.html" title="Multiple defined in 18 places.">divide</a>(<strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(TWELVE), <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>.ROUND_UP).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L2217" name="L2217"></a>2217             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2218" name="L2218"></a>2218                 quotient = (intTemp - 1) / (13 - 1);
<a id="L2219" name="L2219"></a>2219                 endMonth += 1;
<a id="L2220" name="L2220"></a>2220             <em class="brace">}</em>
<a id="L2221" name="L2221"></a>2221             <a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(endMonth);
<a id="L2222" name="L2222"></a>2222             <strong class="reserved">if</strong> (quotient != 0) <em class="brace">{</em>
<a id="L2223" name="L2223"></a>2223                 <a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>().<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(quotient)));
<a id="L2224" name="L2224"></a>2224             <em class="brace">}</em>
<a id="L2225" name="L2225"></a>2225         <em class="brace">}</em>
<a id="L2226" name="L2226"></a>2226         <a href="../D/32361.html" title="Multiple defined in 2 places.">setDay</a>(endDays.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2227" name="L2227"></a>2227 
<a id="L2228" name="L2228"></a>2228         <em class="comment">// set fields that where undefined before this addition, back to undefined.</em>
<a id="L2229" name="L2229"></a>2229         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>; i &lt;= SECOND; i++) <em class="brace">{</em>
<a id="L2230" name="L2230"></a>2230             <strong class="reserved">if</strong> (fieldUndefined[i]) <em class="brace">{</em>
<a id="L2231" name="L2231"></a>2231                 <strong class="reserved">switch</strong> (i) <em class="brace">{</em>
<a id="L2232" name="L2232"></a>2232                 <strong class="reserved">case</strong> <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>:
<a id="L2233" name="L2233"></a>2233                     <a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L2234" name="L2234"></a>2234                     <strong class="reserved">break</strong>;
<a id="L2235" name="L2235"></a>2235                 <strong class="reserved">case</strong> MONTH:
<a id="L2236" name="L2236"></a>2236                     <a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L2237" name="L2237"></a>2237                     <strong class="reserved">break</strong>;
<a id="L2238" name="L2238"></a>2238                 <strong class="reserved">case</strong> DAY:
<a id="L2239" name="L2239"></a>2239                     <a href="../D/32361.html" title="Multiple defined in 2 places.">setDay</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L2240" name="L2240"></a>2240                     <strong class="reserved">break</strong>;
<a id="L2241" name="L2241"></a>2241                 <strong class="reserved">case</strong> HOUR:
<a id="L2242" name="L2242"></a>2242                     <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED, <strong class="reserved">false</strong>);
<a id="L2243" name="L2243"></a>2243                     <strong class="reserved">break</strong>;
<a id="L2244" name="L2244"></a>2244                 <strong class="reserved">case</strong> MINUTE:
<a id="L2245" name="L2245"></a>2245                     <a href="../D/33266.html" title="Multiple defined in 2 places.">setMinute</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L2246" name="L2246"></a>2246                     <strong class="reserved">break</strong>;
<a id="L2247" name="L2247"></a>2247                 <strong class="reserved">case</strong> SECOND:
<a id="L2248" name="L2248"></a>2248                     <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED);
<a id="L2249" name="L2249"></a>2249                     <a href="../D/32777.html" title="Multiple defined in 2 places.">setFractionalSecond</a>(<strong class="reserved">null</strong>);
<a id="L2250" name="L2250"></a>2250                     <strong class="reserved">break</strong>;
<a id="L2251" name="L2251"></a>2251                 <em class="brace">}</em>
<a id="L2252" name="L2252"></a>2252             <em class="brace">}</em>
<a id="L2253" name="L2253"></a>2253         <em class="brace">}</em>
<a id="L2254" name="L2254"></a>2254     <em class="brace">}</em>
<a id="L2255" name="L2255"></a>2255 
<a id="L2256" name="L2256"></a>2256     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> FOUR = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(4);
<a id="L2257" name="L2257"></a>2257     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> HUNDRED = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(100);
<a id="L2258" name="L2258"></a>2258     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> FOUR_HUNDRED = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(400);
<a id="L2259" name="L2259"></a>2259     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> SIXTY = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(60);
<a id="L2260" name="L2260"></a>2260     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> TWENTY_FOUR = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(24);
<a id="L2261" name="L2261"></a>2261     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> TWELVE = <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(12);
<a id="L2262" name="L2262"></a>2262     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> DECIMAL_ZERO = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>("0");
<a id="L2263" name="L2263"></a>2263     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> DECIMAL_ONE = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>("1");
<a id="L2264" name="L2264"></a>2264     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> DECIMAL_SIXTY = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>("60");
<a id="L2265" name="L2265"></a>2265 
<a id="L2266" name="L2266"></a>2266 
<a id="L2267" name="L2267"></a>2267     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> daysInMonth[] = <em class="brace">{</em> 0,  <em class="comment">// XML Schema months start at 1.</em>
<a id="L2268" name="L2268"></a>2268                                        31, 28, 31, 30, 31, 30,
<a id="L2269" name="L2269"></a>2269                                        31, 31, 30, 31, 30, 31<em class="brace">}</em>;
<a id="L2270" name="L2270"></a>2270 
<a id="L2271" name="L2271"></a>2271     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/23178.html" title="Multiple referred from 7 places.">maximumDayInMonthFor</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, <strong class="reserved">int</strong> month) <em class="brace">{</em>
<a id="L2272" name="L2272"></a>2272         <strong class="reserved">if</strong> (month != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FEBRUARY) <em class="brace">{</em>
<a id="L2273" name="L2273"></a>2273             <strong class="reserved">return</strong> daysInMonth[month];
<a id="L2274" name="L2274"></a>2274         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2275" name="L2275"></a>2275             <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(FOUR_HUNDRED).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO) ||
<a id="L2276" name="L2276"></a>2276                     (!<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(HUNDRED).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO) &amp;&amp;
<a id="L2277" name="L2277"></a>2277                             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/27733.html" title="Multiple defined in 4 places.">mod</a>(FOUR).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO))) <em class="brace">{</em>
<a id="L2278" name="L2278"></a>2278                 <em class="comment">// is a leap year.</em>
<a id="L2279" name="L2279"></a>2279                 <strong class="reserved">return</strong> 29;
<a id="L2280" name="L2280"></a>2280             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2281" name="L2281"></a>2281                 <strong class="reserved">return</strong> daysInMonth[month];
<a id="L2282" name="L2282"></a>2282             <em class="brace">}</em>
<a id="L2283" name="L2283"></a>2283         <em class="brace">}</em>
<a id="L2284" name="L2284"></a>2284     <em class="brace">}</em>
<a id="L2285" name="L2285"></a>2285 
<a id="L2286" name="L2286"></a>2286     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../R/23178.html" title="Multiple referred from 7 places.">maximumDayInMonthFor</a>(<strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, <strong class="reserved">int</strong> month) <em class="brace">{</em>
<a id="L2287" name="L2287"></a>2287         <strong class="reserved">if</strong> (month != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FEBRUARY) <em class="brace">{</em>
<a id="L2288" name="L2288"></a>2288             <strong class="reserved">return</strong> daysInMonth[month];
<a id="L2289" name="L2289"></a>2289         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2290" name="L2290"></a>2290             <strong class="reserved">if</strong> (((<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> % 400) == 0) ||
<a id="L2291" name="L2291"></a>2291                     (((<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> % 100) != 0) &amp;&amp; ((<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> % 4) == 0))) <em class="brace">{</em>
<a id="L2292" name="L2292"></a>2292                 <em class="comment">// is a leap year.</em>
<a id="L2293" name="L2293"></a>2293                 <strong class="reserved">return</strong> 29;
<a id="L2294" name="L2294"></a>2294             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2295" name="L2295"></a>2295                 <strong class="reserved">return</strong> daysInMonth[<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FEBRUARY];
<a id="L2296" name="L2296"></a>2296             <em class="brace">}</em>
<a id="L2297" name="L2297"></a>2297         <em class="brace">}</em>
<a id="L2298" name="L2298"></a>2298     <em class="brace">}</em>
<a id="L2299" name="L2299"></a>2299 
<div class="comment">
      <p>Convert <code>this</code> to <code>java.util.GregorianCalendar</code>.</p>
      <p>When <code>this</code> instance has an undefined field, this
      conversion relies on the <code>java.util.GregorianCalendar</code> default
      for its corresponding field. A notable difference between
      XML Schema 1.0 date/time datatypes and <code>java.util.GregorianCalendar</code>
      is that Timezone value is optional for date/time datatypes and it is
      a required field for <code>java.util.GregorianCalendar</code>. See javadoc
      for <code>java.util.TimeZone.getDefault()</code> on how the default
      is determined. To explicitly specify the <code>TimeZone</code>
      instance, see
      {@link #toGregorianCalendar(TimeZone, Locale, XMLGregorianCalendar)}.</p>
      <table border="2" rules="all" cellpadding="2">
        <thead>
          <tr>
            <th align="center" colspan="2">
               Field by Field Conversion from this class to
               <code>java.util.GregorianCalendar</code>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
             <th><code>java.util.GregorianCalendar</code> field</th>
             <th><code>javax.xml.datatype.XMLGregorianCalendar</code> field</th>
          </tr>
          <tr>
            <th><code>ERA</code></th>
            <th>{@link #getEonAndYear()}<code>.signum() &lt; 0 ? GregorianCalendar.BC : GregorianCalendar.AD</code></th>
          </tr>
          <tr>
            <th><code>YEAR</code></th>
            <th>{@link #getEonAndYear()}<code>.abs().intValue()</code><i>*</i></th>
          </tr>
          <tr>
            <th><code>MONTH</code></th>
            <th>{@link #getMonth()}<code> - 1</code></th>
          </tr>
          <tr>
            <th><code>DAY_OF_MONTH</code></th>
            <th>{@link #getDay()}</th>
          </tr>
          <tr>
            <th><code>AM_PM</code></th>
            <th>{@link #getHour()} &lt; 12 : Calendar.AM : Calendar.PM</th>
          </tr>
          <tr>
            <th><code>HOUR_OF_DAY</code></th>
            <th>{@link #getHour()}</th>
          </tr>
          <tr>
            <th><code>MINUTE</code></th>
            <th>{@link #getMinute()}</th>
          </tr>
          <tr>
            <th><code>SECOND</code></th>
            <th>{@link #getSecond()}</th>
          </tr>
          <tr>
            <th><code>MILLISECOND</code></th>
            <th>get millisecond order from {@link #getFractionalSecond()}<i>*</i> </th>
          </tr>
          <tr>
            <th><code>GregorianCalendar.setTimeZone(TimeZone)</code></th>
            <th>{@link #getTimezone()} formatted into Custom timezone id</th>
          </tr>
        </tbody>
      </table>
      <i>*</i> designates possible loss of precision during the conversion due
      to source datatype having higer precison than target datatype.
      <p>To ensure consistency in conversion implementations, the new
      <code>GregorianCalendar</code> should be instantiated in following
      manner.
      </p><ul><li>Using <code>timeZone</code> value as defined above, create a new
      <code>java.util.GregorianCalendar(timeZone,Locale.getDefault())</code>.
        </li><li>Initialize all GregorianCalendar fields by calling {(@link GegorianCalendar#clear()}.</li><li>Obtain a pure Gregorian Calendar by invoking
        <code>GregorianCalendar.setGregorianChange(
        new Date(Long.MIN_VALUE))</code>.</li><li>Its fields ERA, YEAR, MONTH, DAY_OF_MONTH, HOUR_OF_DAY,
            MINUTE, SECOND and MILLISECOND are set using the method
            <code>Calendar.set(int,int)</code></li>
      </ul>
      <p></p>
      @see #toGregorianCalendar(java.util.TimeZone, java.util.Locale, XMLGregorianCalendar)</div>
<a id="L2392" name="L2392"></a>2392     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> <a href="../R/29264.html" title="Multiple referred from 4 places.">toGregorianCalendar</a>() <em class="brace">{</em>
<a id="L2393" name="L2393"></a>2393 
<a id="L2394" name="L2394"></a>2394         <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L2395" name="L2395"></a>2395         <strong class="reserved">final</strong> <strong class="reserved">int</strong> DEFAULT_TIMEZONE_OFFSET = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2396" name="L2396"></a>2396         <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> tz = <a href="../D/23152.html" title="Multiple defined in 10 places.">getTimeZone</a>(DEFAULT_TIMEZONE_OFFSET);
<div class="comment">
 Use the following instead for JDK7 only:
          Locale locale = Locale.getDefault(Locale.Category.FORMAT);</div>
<a id="L2400" name="L2400"></a>2400         <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <a href="../D/18325.html" title="Multiple defined in 3 places.">getDefaultLocale</a>();
<a id="L2401" name="L2401"></a>2401 
<a id="L2402" name="L2402"></a>2402         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>(tz, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L2403" name="L2403"></a>2403         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L2404" name="L2404"></a>2404         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32818.html" title="Multiple defined in 2 places.">setGregorianChange</a>(PURE_GREGORIAN_CHANGE);
<a id="L2405" name="L2405"></a>2405 
<a id="L2406" name="L2406"></a>2406         <em class="comment">// if year( and eon) are undefined, leave default Calendar values</em>
<a id="L2407" name="L2407"></a>2407         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>();
<a id="L2408" name="L2408"></a>2408         <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2409" name="L2409"></a>2409             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == -1 ? <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.BC : <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.AD);
<a id="L2410" name="L2410"></a>2410             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>().<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2411" name="L2411"></a>2411         <em class="brace">}</em>
<a id="L2412" name="L2412"></a>2412 
<a id="L2413" name="L2413"></a>2413         <em class="comment">// only set month if it is set</em>
<a id="L2414" name="L2414"></a>2414         <strong class="reserved">if</strong> (month != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2415" name="L2415"></a>2415             <em class="comment">// Calendar.MONTH is zero based while XMLGregorianCalendar month field is not.</em>
<a id="L2416" name="L2416"></a>2416             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH, month - 1);
<a id="L2417" name="L2417"></a>2417         <em class="brace">}</em>
<a id="L2418" name="L2418"></a>2418 
<a id="L2419" name="L2419"></a>2419         <em class="comment">// only set day if it is set</em>
<a id="L2420" name="L2420"></a>2420         <strong class="reserved">if</strong> (day != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2421" name="L2421"></a>2421             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>, day);
<a id="L2422" name="L2422"></a>2422         <em class="brace">}</em>
<a id="L2423" name="L2423"></a>2423 
<a id="L2424" name="L2424"></a>2424         <em class="comment">// only set hour if it is set</em>
<a id="L2425" name="L2425"></a>2425         <strong class="reserved">if</strong> (hour != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2426" name="L2426"></a>2426             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>, hour);
<a id="L2427" name="L2427"></a>2427         <em class="brace">}</em>
<a id="L2428" name="L2428"></a>2428 
<a id="L2429" name="L2429"></a>2429         <em class="comment">// only set minute if it is set</em>
<a id="L2430" name="L2430"></a>2430         <strong class="reserved">if</strong> (minute != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2431" name="L2431"></a>2431             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MINUTE, minute);
<a id="L2432" name="L2432"></a>2432         <em class="brace">}</em>
<a id="L2433" name="L2433"></a>2433 
<a id="L2434" name="L2434"></a>2434         <em class="comment">// only set second if it is set</em>
<a id="L2435" name="L2435"></a>2435         <strong class="reserved">if</strong> (second != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2436" name="L2436"></a>2436             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.SECOND, second);
<a id="L2437" name="L2437"></a>2437         <em class="brace">}</em>
<a id="L2438" name="L2438"></a>2438 
<a id="L2439" name="L2439"></a>2439         <em class="comment">// only set millisend if it is set</em>
<a id="L2440" name="L2440"></a>2440         <strong class="reserved">if</strong> (fractionalSecond != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2441" name="L2441"></a>2441             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MILLISECOND, <a href="../D/20620.html" title="Multiple defined in 2 places.">getMillisecond</a>());
<a id="L2442" name="L2442"></a>2442         <em class="brace">}</em>
<a id="L2443" name="L2443"></a>2443 
<a id="L2444" name="L2444"></a>2444         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2445" name="L2445"></a>2445     <em class="brace">}</em>
<a id="L2446" name="L2446"></a>2446 
<div class="comment">
      @return default locale</div>
<a id="L2451" name="L2451"></a>2451     <strong class="reserved">private</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/16046.html" title="Multiple referred from 6 places.">getDefaultLocale</a>() <em class="brace">{</em>
<a id="L2452" name="L2452"></a>2452 
<a id="L2453" name="L2453"></a>2453         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> lang = <a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("user.language.format");
<a id="L2454" name="L2454"></a>2454         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country = <a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("user.country.format");
<a id="L2455" name="L2455"></a>2455         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = <a href="../D/7684.html" title="Multiple defined in 12 places.">SecuritySupport</a>.<a href="../D/22922.html" title="Multiple defined in 24 places.">getSystemProperty</a>("user.variant.format");
<a id="L2456" name="L2456"></a>2456         <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <strong class="reserved">null</strong>;
<a id="L2457" name="L2457"></a>2457         <strong class="reserved">if</strong> (lang != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2458" name="L2458"></a>2458             <strong class="reserved">if</strong> (country != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2459" name="L2459"></a>2459                 <strong class="reserved">if</strong> (<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2460" name="L2460"></a>2460                     <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <strong class="reserved">new</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>(lang, country, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2461" name="L2461"></a>2461                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2462" name="L2462"></a>2462                     <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <strong class="reserved">new</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>(lang, country);
<a id="L2463" name="L2463"></a>2463                 <em class="brace">}</em>
<a id="L2464" name="L2464"></a>2464             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2465" name="L2465"></a>2465                 <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <strong class="reserved">new</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>(lang);
<a id="L2466" name="L2466"></a>2466             <em class="brace">}</em>
<a id="L2467" name="L2467"></a>2467         <em class="brace">}</em>
<a id="L2468" name="L2468"></a>2468         <strong class="reserved">if</strong> (<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2469" name="L2469"></a>2469             <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>();
<a id="L2470" name="L2470"></a>2470         <em class="brace">}</em>
<a id="L2471" name="L2471"></a>2471         <strong class="reserved">return</strong> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L2472" name="L2472"></a>2472     <em class="brace">}</em>
<a id="L2473" name="L2473"></a>2473 
<div class="comment">
      <p>Convert <code>this</code> along with provided parameters
      to <code>java.util.GregorianCalendar</code> instance.</p>
      <p> Since XML Schema 1.0 date/time datetypes has no concept of
      timezone ids or daylight savings timezone ids, this conversion operation
      allows the user to explicitly specify one with
      <code>timezone</code> parameter.</p>
      <p>To compute the return value's <code>TimeZone</code> field,
      </p><ul><li>when parameter <code>timeZone</code> is non-null,
      it is the timezone field.</li><li>else when <code>this.getTimezone() != DatatypeConstants.FIELD_UNDEFINED</code>,
      create a <code>java.util.TimeZone</code> with a custom timezone id
      using the <code>this.getTimezone()</code>.</li><li>else when <code>defaults.getTimezone() != DatatypeConstants.FIELD_UNDEFINED</code>,
      create a <code>java.util.TimeZone</code> with a custom timezone id
      using <code>defaults.getTimezone()</code>.</li><li>else use the <code>GregorianCalendar</code> default timezone value
      for the host is definedas specified by
      <code>java.util.TimeZone.getDefault()</code>.</li><li>Create a new <code>java.util.GregorianCalendar(TimeZone,
            Locale)</code> with TimeZone set as specified above and the
            <code>Locale</code> parameter.
        </li><li>Initialize all GregorianCalendar fields by calling {(@link GegorianCalendar#clear()}.</li><li>Obtain a pure Gregorian Calendar by invoking
        <code>GregorianCalendar.setGregorianChange(
        new Date(Long.MIN_VALUE))</code>.</li><li>Its fields ERA, YEAR, MONTH, DAY_OF_MONTH, HOUR_OF_DAY,
            MINUTE, SECOND and MILLISECOND are set using the method
            <code>Calendar.set(int,int)</code></li>
      </ul>
      @param timezone provide Timezone. <code>null</code> is a legal value.
      @param aLocale  provide explicit Locale. Use default GregorianCalendar locale if
                      value is <code>null</code>.
      @param defaults provide default field values to use when corresponding
                      field for this instance is DatatypeConstants.FIELD_UNDEFINED or null.
                      If <code>defaults</code>is <code>null</code> or a field
                      within the specified <code>defaults</code> is undefined,
                      just use <code>java.util.GregorianCalendar</code> defaults.
      @return a java.util.GregorianCalendar conversion of this instance.
      @see #LEAP_YEAR_DEFAULT</div>
<a id="L2526" name="L2526"></a>2526     <strong class="reserved">public</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> <a href="../R/29264.html" title="Multiple referred from 4 places.">toGregorianCalendar</a>(<a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> timezone,
<a id="L2527" name="L2527"></a>2527                                                  <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> aLocale,
<a id="L2528" name="L2528"></a>2528                                                  <a href="../S/3901.html#L183" title="Defined at 183 in src/javax/xml/datatype/XMLGregorianCalendar.java.">XMLGregorianCalendar</a> defaults) <em class="brace">{</em>
<a id="L2529" name="L2529"></a>2529         <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L2530" name="L2530"></a>2530         <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> tz = timezone;
<a id="L2531" name="L2531"></a>2531         <strong class="reserved">if</strong> (tz == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2532" name="L2532"></a>2532             <strong class="reserved">int</strong> defaultZoneoffset = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2533" name="L2533"></a>2533             <strong class="reserved">if</strong> (defaults != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2534" name="L2534"></a>2534                 defaultZoneoffset = defaults.<a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>();
<a id="L2535" name="L2535"></a>2535             <em class="brace">}</em>
<a id="L2536" name="L2536"></a>2536             tz = <a href="../D/23152.html" title="Multiple defined in 10 places.">getTimeZone</a>(defaultZoneoffset);
<a id="L2537" name="L2537"></a>2537         <em class="brace">}</em>
<a id="L2538" name="L2538"></a>2538         <strong class="reserved">if</strong> (aLocale == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2539" name="L2539"></a>2539             aLocale = <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>();
<a id="L2540" name="L2540"></a>2540         <em class="brace">}</em>
<a id="L2541" name="L2541"></a>2541         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>(tz, aLocale);
<a id="L2542" name="L2542"></a>2542         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L2543" name="L2543"></a>2543         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/32818.html" title="Multiple defined in 2 places.">setGregorianChange</a>(PURE_GREGORIAN_CHANGE);
<a id="L2544" name="L2544"></a>2544 
<a id="L2545" name="L2545"></a>2545         <em class="comment">// if year( and eon) are undefined, leave default Calendar values</em>
<a id="L2546" name="L2546"></a>2546         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>();
<a id="L2547" name="L2547"></a>2547         <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2548" name="L2548"></a>2548             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == -1 ? <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.BC : <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.AD);
<a id="L2549" name="L2549"></a>2549             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>().<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2550" name="L2550"></a>2550         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2551" name="L2551"></a>2551             <em class="comment">// use default if set</em>
<a id="L2552" name="L2552"></a>2552             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> defaultYear = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>() : <strong class="reserved">null</strong>;
<a id="L2553" name="L2553"></a>2553             <strong class="reserved">if</strong> (defaultYear != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2554" name="L2554"></a>2554                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>, defaultYear.<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>() == -1 ? <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.BC : <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>.AD);
<a id="L2555" name="L2555"></a>2555                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, defaultYear.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>().<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L2556" name="L2556"></a>2556             <em class="brace">}</em>
<a id="L2557" name="L2557"></a>2557         <em class="brace">}</em>
<a id="L2558" name="L2558"></a>2558 
<a id="L2559" name="L2559"></a>2559         <em class="comment">// only set month if it is set</em>
<a id="L2560" name="L2560"></a>2560         <strong class="reserved">if</strong> (month != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2561" name="L2561"></a>2561             <em class="comment">// Calendar.MONTH is zero based while XMLGregorianCalendar month field is not.</em>
<a id="L2562" name="L2562"></a>2562             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH, month - 1);
<a id="L2563" name="L2563"></a>2563         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2564" name="L2564"></a>2564             <em class="comment">// use default if set</em>
<a id="L2565" name="L2565"></a>2565             <strong class="reserved">int</strong> defaultMonth = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>() : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2566" name="L2566"></a>2566             <strong class="reserved">if</strong> (defaultMonth != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2567" name="L2567"></a>2567                 <em class="comment">// Calendar.MONTH is zero based while XMLGregorianCalendar month field is not.</em>
<a id="L2568" name="L2568"></a>2568                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MONTH, defaultMonth - 1);
<a id="L2569" name="L2569"></a>2569             <em class="brace">}</em>
<a id="L2570" name="L2570"></a>2570         <em class="brace">}</em>
<a id="L2571" name="L2571"></a>2571 
<a id="L2572" name="L2572"></a>2572         <em class="comment">// only set day if it is set</em>
<a id="L2573" name="L2573"></a>2573         <strong class="reserved">if</strong> (day != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2574" name="L2574"></a>2574             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>, day);
<a id="L2575" name="L2575"></a>2575         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2576" name="L2576"></a>2576             <em class="comment">// use default if set</em>
<a id="L2577" name="L2577"></a>2577             <strong class="reserved">int</strong> defaultDay = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>() : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2578" name="L2578"></a>2578             <strong class="reserved">if</strong> (defaultDay != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2579" name="L2579"></a>2579                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>, defaultDay);
<a id="L2580" name="L2580"></a>2580             <em class="brace">}</em>
<a id="L2581" name="L2581"></a>2581         <em class="brace">}</em>
<a id="L2582" name="L2582"></a>2582 
<a id="L2583" name="L2583"></a>2583         <em class="comment">// only set hour if it is set</em>
<a id="L2584" name="L2584"></a>2584         <strong class="reserved">if</strong> (hour != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2585" name="L2585"></a>2585             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>, hour);
<a id="L2586" name="L2586"></a>2586         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2587" name="L2587"></a>2587             <em class="comment">// use default if set</em>
<a id="L2588" name="L2588"></a>2588             <strong class="reserved">int</strong> defaultHour = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>() : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2589" name="L2589"></a>2589             <strong class="reserved">if</strong> (defaultHour != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2590" name="L2590"></a>2590                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L303" title="Defined at 303 in src/java/time/temporal/ChronoField.java.">HOUR_OF_DAY</a>, defaultHour);
<a id="L2591" name="L2591"></a>2591             <em class="brace">}</em>
<a id="L2592" name="L2592"></a>2592         <em class="brace">}</em>
<a id="L2593" name="L2593"></a>2593 
<a id="L2594" name="L2594"></a>2594         <em class="comment">// only set minute if it is set</em>
<a id="L2595" name="L2595"></a>2595         <strong class="reserved">if</strong> (minute != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2596" name="L2596"></a>2596             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MINUTE, minute);
<a id="L2597" name="L2597"></a>2597         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2598" name="L2598"></a>2598             <em class="comment">// use default if set</em>
<a id="L2599" name="L2599"></a>2599             <strong class="reserved">int</strong> defaultMinute = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>() : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2600" name="L2600"></a>2600             <strong class="reserved">if</strong> (defaultMinute != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2601" name="L2601"></a>2601                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MINUTE, defaultMinute);
<a id="L2602" name="L2602"></a>2602             <em class="brace">}</em>
<a id="L2603" name="L2603"></a>2603         <em class="brace">}</em>
<a id="L2604" name="L2604"></a>2604 
<a id="L2605" name="L2605"></a>2605         <em class="comment">// only set second if it is set</em>
<a id="L2606" name="L2606"></a>2606         <strong class="reserved">if</strong> (second != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2607" name="L2607"></a>2607             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.SECOND, second);
<a id="L2608" name="L2608"></a>2608         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2609" name="L2609"></a>2609             <em class="comment">// use default if set</em>
<a id="L2610" name="L2610"></a>2610             <strong class="reserved">int</strong> defaultSecond = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>() : <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2611" name="L2611"></a>2611             <strong class="reserved">if</strong> (defaultSecond != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2612" name="L2612"></a>2612                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.SECOND, defaultSecond);
<a id="L2613" name="L2613"></a>2613             <em class="brace">}</em>
<a id="L2614" name="L2614"></a>2614         <em class="brace">}</em>
<a id="L2615" name="L2615"></a>2615 
<a id="L2616" name="L2616"></a>2616         <em class="comment">// only set millisend if it is set</em>
<a id="L2617" name="L2617"></a>2617         <strong class="reserved">if</strong> (fractionalSecond != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2618" name="L2618"></a>2618             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MILLISECOND, <a href="../D/20620.html" title="Multiple defined in 2 places.">getMillisecond</a>());
<a id="L2619" name="L2619"></a>2619         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2620" name="L2620"></a>2620             <em class="comment">// use default if set</em>
<a id="L2621" name="L2621"></a>2621             <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> defaultFractionalSecond = (defaults != <strong class="reserved">null</strong>) ? defaults.<a href="../D/19225.html" title="Multiple defined in 2 places.">getFractionalSecond</a>() : <strong class="reserved">null</strong>;
<a id="L2622" name="L2622"></a>2622             <strong class="reserved">if</strong> (defaultFractionalSecond != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2623" name="L2623"></a>2623                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.MILLISECOND, defaults.<a href="../D/20620.html" title="Multiple defined in 2 places.">getMillisecond</a>());
<a id="L2624" name="L2624"></a>2624             <em class="brace">}</em>
<a id="L2625" name="L2625"></a>2625         <em class="brace">}</em>
<a id="L2626" name="L2626"></a>2626 
<a id="L2627" name="L2627"></a>2627         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2628" name="L2628"></a>2628     <em class="brace">}</em>
<a id="L2629" name="L2629"></a>2629 
<div class="comment">
      <p>Returns a <code>java.util.TimeZone</code> for this class.</p>
      <p>If timezone field is defined for this instance,
      returns TimeZone initialized with custom timezone id
      of zoneoffset. If timezone field is undefined,
      try the defaultZoneoffset that was passed in.
      If defaultZoneoffset is DatatypeConstants.FIELD_UNDEFINED, return
      default timezone for this host.
      (Same default as java.util.GregorianCalendar).</p>
      @param defaultZoneoffset default zoneoffset if this zoneoffset is
      {@link DatatypeConstants#FIELD_UNDEFINED}.
      @return TimeZone for this.</div>
<a id="L2646" name="L2646"></a>2646     <strong class="reserved">public</strong> <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> <a href="../R/19499.html" title="Multiple referred from 41 places.">getTimeZone</a>(<strong class="reserved">int</strong> defaultZoneoffset) <em class="brace">{</em>
<a id="L2647" name="L2647"></a>2647         <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">null</strong>;
<a id="L2648" name="L2648"></a>2648         <strong class="reserved">int</strong> zoneoffset = <a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>();
<a id="L2649" name="L2649"></a>2649 
<a id="L2650" name="L2650"></a>2650         <strong class="reserved">if</strong> (zoneoffset == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2651" name="L2651"></a>2651             zoneoffset = defaultZoneoffset;
<a id="L2652" name="L2652"></a>2652         <em class="brace">}</em>
<a id="L2653" name="L2653"></a>2653         <strong class="reserved">if</strong> (zoneoffset == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2654" name="L2654"></a>2654             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>();
<a id="L2655" name="L2655"></a>2655         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2656" name="L2656"></a>2656             <em class="comment">// zoneoffset is in minutes. Convert to custom timezone id format.</em>
<a id="L2657" name="L2657"></a>2657             <strong class="reserved">char</strong> <a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> = zoneoffset &lt; 0 ? '-' : '+';
<a id="L2658" name="L2658"></a>2658             <strong class="reserved">if</strong> (<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a> == '-') <em class="brace">{</em>
<a id="L2659" name="L2659"></a>2659                 zoneoffset = -zoneoffset;
<a id="L2660" name="L2660"></a>2660             <em class="brace">}</em>
<a id="L2661" name="L2661"></a>2661             <strong class="reserved">int</strong> hour = zoneoffset / 60;
<a id="L2662" name="L2662"></a>2662             <strong class="reserved">int</strong> minutes = zoneoffset - (hour * 60);
<a id="L2663" name="L2663"></a>2663 
<a id="L2664" name="L2664"></a>2664             <em class="comment">// Javadoc for java.util.TimeZone documents max length</em>
<a id="L2665" name="L2665"></a>2665             <em class="comment">// for customTimezoneId is 8 when optional ':' is not used.</em>
<a id="L2666" name="L2666"></a>2666             <em class="comment">// Format is</em>
<a id="L2667" name="L2667"></a>2667             <em class="comment">// "GMT" ('-'|''+') (digit digit?) (digit digit)?</em>
<a id="L2668" name="L2668"></a>2668             <em class="comment">//                   hour          minutes</em>
<a id="L2669" name="L2669"></a>2669             <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> customTimezoneId = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(8);
<a id="L2670" name="L2670"></a>2670             customTimezoneId.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("GMT");
<a id="L2671" name="L2671"></a>2671             customTimezoneId.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/34554.html" title="Multiple defined in 7 places.">sign</a>);
<a id="L2672" name="L2672"></a>2672             customTimezoneId.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(hour);
<a id="L2673" name="L2673"></a>2673             <strong class="reserved">if</strong> (minutes != 0) <em class="brace">{</em>
<a id="L2674" name="L2674"></a>2674                 customTimezoneId.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(minutes);
<a id="L2675" name="L2675"></a>2675             <em class="brace">}</em>
<a id="L2676" name="L2676"></a>2676             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.<a href="../D/23152.html" title="Multiple defined in 10 places.">getTimeZone</a>(customTimezoneId.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L2677" name="L2677"></a>2677         <em class="brace">}</em>
<a id="L2678" name="L2678"></a>2678         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2679" name="L2679"></a>2679     <em class="brace">}</em>
<a id="L2680" name="L2680"></a>2680 
<div class="comment">
      <p>Creates and returns a copy of this object.</p>
      @return copy of this <code>Object</code></div>
<a id="L2686" name="L2686"></a>2686    <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L2687" name="L2687"></a>2687         <em class="comment">// Both this.eon and this.fractionalSecond are instances</em>
<a id="L2688" name="L2688"></a>2688         <em class="comment">// of immutable classes, so they do not need to be cloned.</em>
<a id="L2689" name="L2689"></a>2689        <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/5393.html#L194" title="Defined at 194 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">XMLGregorianCalendarImpl</a>(<a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>(),
<a id="L2690" name="L2690"></a>2690                         <strong class="reserved">this</strong>.month, <strong class="reserved">this</strong>.day,
<a id="L2691" name="L2691"></a>2691                         <strong class="reserved">this</strong>.hour, <strong class="reserved">this</strong>.minute, <strong class="reserved">this</strong>.second,
<a id="L2692" name="L2692"></a>2692                         <strong class="reserved">this</strong>.fractionalSecond,
<a id="L2693" name="L2693"></a>2693                         <strong class="reserved">this</strong>.timezone);
<a id="L2694" name="L2694"></a>2694     <em class="brace">}</em>
<a id="L2695" name="L2695"></a>2695 
<div class="comment">
      <p>Unset all fields to undefined.</p>
      <p>Set all int fields to {@link DatatypeConstants#FIELD_UNDEFINED} and reference fields
      to null.</p></div>
<a id="L2702" name="L2702"></a>2702     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L2703" name="L2703"></a>2703         eon = <strong class="reserved">null</strong>;
<a id="L2704" name="L2704"></a>2704         <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2705" name="L2705"></a>2705         month = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2706" name="L2706"></a>2706         day = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2707" name="L2707"></a>2707         timezone = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;  <em class="comment">// in minutes</em>
<a id="L2708" name="L2708"></a>2708         hour = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2709" name="L2709"></a>2709         minute = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2710" name="L2710"></a>2710         second = <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED;
<a id="L2711" name="L2711"></a>2711         fractionalSecond = <strong class="reserved">null</strong>;
<a id="L2712" name="L2712"></a>2712     <em class="brace">}</em>
<a id="L2713" name="L2713"></a>2713 
<a id="L2714" name="L2714"></a>2714     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27750.html" title="Multiple referred from 4 places.">setMillisecond</a>(<strong class="reserved">int</strong> millisecond) <em class="brace">{</em>
<a id="L2715" name="L2715"></a>2715         <strong class="reserved">if</strong> (millisecond == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L2716" name="L2716"></a>2716             fractionalSecond = <strong class="reserved">null</strong>;
<a id="L2717" name="L2717"></a>2717         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2718" name="L2718"></a>2718             <strong class="reserved">if</strong>(millisecond&lt;0 || 999&lt;millisecond)
<a id="L2719" name="L2719"></a>2719                 <strong class="reserved">if</strong>(millisecond!=<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED)
<a id="L2720" name="L2720"></a>2720                     <a href="../S/5393.html#L1293" title="Defined at 1293 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">invalidFieldValue</a>(MILLISECOND, millisecond);
<a id="L2721" name="L2721"></a>2721             fractionalSecond = <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>((<strong class="reserved">long</strong>) millisecond).<a href="../S/1464.html#L2532" title="Defined at 2532 in src/java/math/BigDecimal.java.">movePointLeft</a>(3);
<a id="L2722" name="L2722"></a>2722         <em class="brace">}</em>
<a id="L2723" name="L2723"></a>2723     <em class="brace">}</em>
<a id="L2724" name="L2724"></a>2724 
<a id="L2725" name="L2725"></a>2725     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27449.html" title="Multiple referred from 6 places.">setFractionalSecond</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> fractional) <em class="brace">{</em>
<a id="L2726" name="L2726"></a>2726         <strong class="reserved">if</strong> (fractional != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2727" name="L2727"></a>2727             <strong class="reserved">if</strong> ((fractional.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(DECIMAL_ZERO) &lt; 0) ||
<a id="L2728" name="L2728"></a>2728                     (fractional.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(DECIMAL_ONE) &gt; 0)) <em class="brace">{</em>
<a id="L2729" name="L2729"></a>2729                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../S/5296.html#L34" title="Defined at 34 in src/com/sun/org/apache/xerces/internal/util/DatatypeMessageFormatter.java.">DatatypeMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<strong class="reserved">null</strong>,
<a id="L2730" name="L2730"></a>2730                         "InvalidFractional", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fractional<em class="brace">}</em>));
<a id="L2731" name="L2731"></a>2731             <em class="brace">}</em>
<a id="L2732" name="L2732"></a>2732         <em class="brace">}</em>
<a id="L2733" name="L2733"></a>2733         <strong class="reserved">this</strong>.fractionalSecond = fractional;
<a id="L2734" name="L2734"></a>2734     <em class="brace">}</em>
<a id="L2735" name="L2735"></a>2735 
<a id="L2736" name="L2736"></a>2736     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/6036.html" title="Multiple referred from 195 places.">Parser</a> <em class="brace">{</em>
<a id="L2737" name="L2737"></a>2737         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L2738" name="L2738"></a>2738         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2739" name="L2739"></a>2739 
<a id="L2740" name="L2740"></a>2740         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> flen;
<a id="L2741" name="L2741"></a>2741         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> vlen;
<a id="L2742" name="L2742"></a>2742 
<a id="L2743" name="L2743"></a>2743         <strong class="reserved">private</strong> <strong class="reserved">int</strong> fidx;
<a id="L2744" name="L2744"></a>2744         <strong class="reserved">private</strong> <strong class="reserved">int</strong> vidx;
<a id="L2745" name="L2745"></a>2745 
<a id="L2746" name="L2746"></a>2746         <strong class="reserved">private</strong> Parser(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L2747" name="L2747"></a>2747             <strong class="reserved">this</strong>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L2748" name="L2748"></a>2748             <strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L2749" name="L2749"></a>2749             <strong class="reserved">this</strong>.flen = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2750" name="L2750"></a>2750             <strong class="reserved">this</strong>.vlen = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2751" name="L2751"></a>2751         <em class="brace">}</em>
<a id="L2752" name="L2752"></a>2752 
<div class="comment">
          <p>Parse a formated <code>String</code> into an <code>XMLGregorianCalendar</code>.</p>
          <p>If <code>String</code> is not formated as a legal <code>XMLGregorianCalendar</code> value,
          an <code>IllegalArgumentException</code> is thrown.</p>
          @throws IllegalArgumentException If <code>String</code> is not formated as a legal <code>XMLGregorianCalendar</code> value.</div>
<a id="L2761" name="L2761"></a>2761         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>() <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2762" name="L2762"></a>2762             <strong class="reserved">while</strong> (fidx &lt; flen) <em class="brace">{</em>
<a id="L2763" name="L2763"></a>2763                 <strong class="reserved">char</strong> fch = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(fidx++);
<a id="L2764" name="L2764"></a>2764 
<a id="L2765" name="L2765"></a>2765                 <strong class="reserved">if</strong> (fch != '%') <em class="brace">{</em> <em class="comment">// not a meta character</em>
<a id="L2766" name="L2766"></a>2766                     <a href="../D/34598.html" title="Multiple defined in 46 places.">skip</a>(fch);
<a id="L2767" name="L2767"></a>2767                     <strong class="reserved">continue</strong>;
<a id="L2768" name="L2768"></a>2768                 <em class="brace">}</em>
<a id="L2769" name="L2769"></a>2769 
<a id="L2770" name="L2770"></a>2770                 <em class="comment">// seen meta character. we don't do error check against the format</em>
<a id="L2771" name="L2771"></a>2771                 <strong class="reserved">switch</strong> (<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(fidx++)) <em class="brace">{</em>
<a id="L2772" name="L2772"></a>2772                     <strong class="reserved">case</strong> 'Y' : <em class="comment">// year</em>
<a id="L2773" name="L2773"></a>2773                         <a href="../S/5393.html#L2866" title="Defined at 2866 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">parseAndSetYear</a>(4);
<a id="L2774" name="L2774"></a>2774                         <strong class="reserved">break</strong>;
<a id="L2775" name="L2775"></a>2775 
<a id="L2776" name="L2776"></a>2776                     <strong class="reserved">case</strong> 'M' : <em class="comment">// month</em>
<a id="L2777" name="L2777"></a>2777                         <a href="../D/33289.html" title="Multiple defined in 4 places.">setMonth</a>(<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2));
<a id="L2778" name="L2778"></a>2778                         <strong class="reserved">break</strong>;
<a id="L2779" name="L2779"></a>2779 
<a id="L2780" name="L2780"></a>2780                     <strong class="reserved">case</strong> 'D' : <em class="comment">// days</em>
<a id="L2781" name="L2781"></a>2781                         <a href="../D/32361.html" title="Multiple defined in 2 places.">setDay</a>(<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2));
<a id="L2782" name="L2782"></a>2782                         <strong class="reserved">break</strong>;
<a id="L2783" name="L2783"></a>2783 
<a id="L2784" name="L2784"></a>2784                     <strong class="reserved">case</strong> 'h' : <em class="comment">// hours</em>
<a id="L2785" name="L2785"></a>2785                         <a href="../D/32860.html" title="Multiple defined in 3 places.">setHour</a>(<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2), <strong class="reserved">false</strong>);
<a id="L2786" name="L2786"></a>2786                         <strong class="reserved">break</strong>;
<a id="L2787" name="L2787"></a>2787 
<a id="L2788" name="L2788"></a>2788                     <strong class="reserved">case</strong> 'm' : <em class="comment">// minutes</em>
<a id="L2789" name="L2789"></a>2789                         <a href="../D/33266.html" title="Multiple defined in 2 places.">setMinute</a>(<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2));
<a id="L2790" name="L2790"></a>2790                         <strong class="reserved">break</strong>;
<a id="L2791" name="L2791"></a>2791 
<a id="L2792" name="L2792"></a>2792                     <strong class="reserved">case</strong> 's' : <em class="comment">// parse seconds.</em>
<a id="L2793" name="L2793"></a>2793                         <a href="../D/33830.html" title="Multiple defined in 2 places.">setSecond</a>(<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2));
<a id="L2794" name="L2794"></a>2794 
<a id="L2795" name="L2795"></a>2795                         <strong class="reserved">if</strong> (<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>() == '.') <em class="brace">{</em>
<a id="L2796" name="L2796"></a>2796                             <a href="../D/32777.html" title="Multiple defined in 2 places.">setFractionalSecond</a>(<a href="../D/29095.html" title="Multiple defined in 2 places.">parseBigDecimal</a>());
<a id="L2797" name="L2797"></a>2797                         <em class="brace">}</em>
<a id="L2798" name="L2798"></a>2798                         <strong class="reserved">break</strong>;
<a id="L2799" name="L2799"></a>2799 
<a id="L2800" name="L2800"></a>2800                     <strong class="reserved">case</strong> 'z' : <em class="comment">// time zone. missing, 'Z', or [+-]nn:nn</em>
<a id="L2801" name="L2801"></a>2801                         <strong class="reserved">char</strong> vch = <a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L2802" name="L2802"></a>2802                         <strong class="reserved">if</strong> (vch == 'Z') <em class="brace">{</em>
<a id="L2803" name="L2803"></a>2803                             vidx++;
<a id="L2804" name="L2804"></a>2804                             <a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>(0);
<a id="L2805" name="L2805"></a>2805                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (vch == '+' || vch == '-') <em class="brace">{</em>
<a id="L2806" name="L2806"></a>2806                             vidx++;
<a id="L2807" name="L2807"></a>2807                             <strong class="reserved">int</strong> h = <a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2);
<a id="L2808" name="L2808"></a>2808                             <a href="../D/34598.html" title="Multiple defined in 46 places.">skip</a>(':');
<a id="L2809" name="L2809"></a>2809                             <strong class="reserved">int</strong> m = <a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(2, 2);
<a id="L2810" name="L2810"></a>2810                             <a href="../D/34147.html" title="Multiple defined in 2 places.">setTimezone</a>((h * 60 + m) * (vch == '+' ? 1 : -1));
<a id="L2811" name="L2811"></a>2811                         <em class="brace">}</em>
<a id="L2812" name="L2812"></a>2812 
<a id="L2813" name="L2813"></a>2813                         <strong class="reserved">break</strong>;
<a id="L2814" name="L2814"></a>2814 
<a id="L2815" name="L2815"></a>2815                     <strong class="reserved">default</strong> :
<a id="L2816" name="L2816"></a>2816                         <em class="comment">// illegal meta character. impossible.</em>
<a id="L2817" name="L2817"></a>2817                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>();
<a id="L2818" name="L2818"></a>2818                 <em class="brace">}</em>
<a id="L2819" name="L2819"></a>2819             <em class="brace">}</em>
<a id="L2820" name="L2820"></a>2820 
<a id="L2821" name="L2821"></a>2821             <strong class="reserved">if</strong> (vidx != vlen) <em class="brace">{</em>
<a id="L2822" name="L2822"></a>2822                 <em class="comment">// some tokens are left in the input</em>
<a id="L2823" name="L2823"></a>2823                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>); <em class="comment">//,vidx);</em>
<a id="L2824" name="L2824"></a>2824             <em class="brace">}</em>
<a id="L2825" name="L2825"></a>2825             <a href="../S/5393.html#L1300" title="Defined at 1300 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">testHour</a>();
<a id="L2826" name="L2826"></a>2826         <em class="brace">}</em>
<a id="L2827" name="L2827"></a>2827 
<a id="L2828" name="L2828"></a>2828         <strong class="reserved">private</strong> <strong class="reserved">char</strong> <a href="../R/24689.html" title="Multiple referred from 168 places.">peek</a>() <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2829" name="L2829"></a>2829             <strong class="reserved">if</strong> (vidx == vlen) <em class="brace">{</em>
<a id="L2830" name="L2830"></a>2830                 <strong class="reserved">return</strong> (<strong class="reserved">char</strong>) -1;
<a id="L2831" name="L2831"></a>2831             <em class="brace">}</em>
<a id="L2832" name="L2832"></a>2832             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(vidx);
<a id="L2833" name="L2833"></a>2833         <em class="brace">}</em>
<a id="L2834" name="L2834"></a>2834 
<a id="L2835" name="L2835"></a>2835         <strong class="reserved">private</strong> <strong class="reserved">char</strong> <a href="../R/25407.html" title="Multiple referred from 1300 places.">read</a>() <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2836" name="L2836"></a>2836             <strong class="reserved">if</strong> (vidx == vlen) <em class="brace">{</em>
<a id="L2837" name="L2837"></a>2837                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>); <em class="comment">//,vidx);</em>
<a id="L2838" name="L2838"></a>2838             <em class="brace">}</em>
<a id="L2839" name="L2839"></a>2839             <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(vidx++);
<a id="L2840" name="L2840"></a>2840         <em class="brace">}</em>
<a id="L2841" name="L2841"></a>2841 
<a id="L2842" name="L2842"></a>2842         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/28643.html" title="Multiple referred from 174 places.">skip</a>(<strong class="reserved">char</strong> ch) <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2843" name="L2843"></a>2843             <strong class="reserved">if</strong> (<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>() != ch) <em class="brace">{</em>
<a id="L2844" name="L2844"></a>2844                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>); <em class="comment">//,vidx-1);</em>
<a id="L2845" name="L2845"></a>2845             <em class="brace">}</em>
<a id="L2846" name="L2846"></a>2846         <em class="brace">}</em>
<a id="L2847" name="L2847"></a>2847 
<a id="L2848" name="L2848"></a>2848         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/24563.html" title="Multiple referred from 246 places.">parseInt</a>(<strong class="reserved">int</strong> minDigits, <strong class="reserved">int</strong> maxDigits)
<a id="L2849" name="L2849"></a>2849             <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2850" name="L2850"></a>2850 
<a id="L2851" name="L2851"></a>2851             <strong class="reserved">int</strong> n = 0;
<a id="L2852" name="L2852"></a>2852             <strong class="reserved">char</strong> ch;
<a id="L2853" name="L2853"></a>2853             <strong class="reserved">int</strong> vstart = vidx;
<a id="L2854" name="L2854"></a>2854             <strong class="reserved">while</strong> (<a href="../D/25439.html" title="Multiple defined in 11 places.">isDigit</a>(ch=<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>()) &amp;&amp; (vidx - vstart) &lt;= maxDigits) <em class="brace">{</em>
<a id="L2855" name="L2855"></a>2855                 vidx++;
<a id="L2856" name="L2856"></a>2856                 n = n*10 + ch-'0';
<a id="L2857" name="L2857"></a>2857             <em class="brace">}</em>
<a id="L2858" name="L2858"></a>2858             <strong class="reserved">if</strong> ((vidx - vstart) &lt; minDigits) <em class="brace">{</em>
<a id="L2859" name="L2859"></a>2859                 <em class="comment">// we are expecting more digits</em>
<a id="L2860" name="L2860"></a>2860                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>); <em class="comment">//,vidx);</em>
<a id="L2861" name="L2861"></a>2861             <em class="brace">}</em>
<a id="L2862" name="L2862"></a>2862 
<a id="L2863" name="L2863"></a>2863             <strong class="reserved">return</strong> n;
<a id="L2864" name="L2864"></a>2864         <em class="brace">}</em>
<a id="L2865" name="L2865"></a>2865 
<a id="L2866" name="L2866"></a>2866         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5393.html#L2773" title="Referred from 2773 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">parseAndSetYear</a>(<strong class="reserved">int</strong> minDigits)
<a id="L2867" name="L2867"></a>2867                 <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2868" name="L2868"></a>2868             <strong class="reserved">int</strong> vstart = vidx;
<a id="L2869" name="L2869"></a>2869             <strong class="reserved">int</strong> n = 0;
<a id="L2870" name="L2870"></a>2870             <strong class="reserved">boolean</strong> <a href="../S/4997.html#L449" title="Defined at 449 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">neg</a> = <strong class="reserved">false</strong>;
<a id="L2871" name="L2871"></a>2871 
<a id="L2872" name="L2872"></a>2872             <em class="comment">// skip leading negative, if it exists</em>
<a id="L2873" name="L2873"></a>2873             <strong class="reserved">if</strong> (<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>() == '-') <em class="brace">{</em>
<a id="L2874" name="L2874"></a>2874                 vidx++;
<a id="L2875" name="L2875"></a>2875                 <a href="../S/4997.html#L449" title="Defined at 449 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">neg</a> = <strong class="reserved">true</strong>;
<a id="L2876" name="L2876"></a>2876             <em class="brace">}</em>
<a id="L2877" name="L2877"></a>2877             <strong class="reserved">while</strong>(<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L2878" name="L2878"></a>2878                 <strong class="reserved">char</strong> ch = <a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L2879" name="L2879"></a>2879                 <strong class="reserved">if</strong>(!<a href="../D/25439.html" title="Multiple defined in 11 places.">isDigit</a>(ch))
<a id="L2880" name="L2880"></a>2880                     <strong class="reserved">break</strong>;
<a id="L2881" name="L2881"></a>2881                 vidx++;
<a id="L2882" name="L2882"></a>2882                 n = n*10 + ch-'0';
<a id="L2883" name="L2883"></a>2883             <em class="brace">}</em>
<a id="L2884" name="L2884"></a>2884 
<a id="L2885" name="L2885"></a>2885             <strong class="reserved">if</strong> ((vidx - vstart) &lt; minDigits) <em class="brace">{</em>
<a id="L2886" name="L2886"></a>2886                 <em class="comment">// we are expecting more digits</em>
<a id="L2887" name="L2887"></a>2887                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>); <em class="comment">//,vidx);</em>
<a id="L2888" name="L2888"></a>2888             <em class="brace">}</em>
<a id="L2889" name="L2889"></a>2889 
<a id="L2890" name="L2890"></a>2890             <strong class="reserved">if</strong>(vidx-vstart&lt;7) <em class="brace">{</em>
<a id="L2891" name="L2891"></a>2891                 <em class="comment">// definitely int only. I don't know the exact # of digits that can be in int,</em>
<a id="L2892" name="L2892"></a>2892                 <em class="comment">// but as long as we can catch (0-9999) range, that should be enough.</em>
<a id="L2893" name="L2893"></a>2893                 <strong class="reserved">if</strong>(<a href="../S/4997.html#L449" title="Defined at 449 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">neg</a>)     n = -n;
<a id="L2894" name="L2894"></a>2894                 <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = n;
<a id="L2895" name="L2895"></a>2895                 eon = <strong class="reserved">null</strong>;
<a id="L2896" name="L2896"></a>2896             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2897" name="L2897"></a>2897                 <a href="../D/34371.html" title="Multiple defined in 6 places.">setYear</a>(<strong class="reserved">new</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(vstart, vidx)));
<a id="L2898" name="L2898"></a>2898             <em class="brace">}</em>
<a id="L2899" name="L2899"></a>2899         <em class="brace">}</em>
<a id="L2900" name="L2900"></a>2900 
<a id="L2901" name="L2901"></a>2901         <strong class="reserved">private</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> <a href="../R/24511.html" title="Multiple referred from 6 places.">parseBigDecimal</a>()
<a id="L2902" name="L2902"></a>2902                 <strong class="reserved">throws</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> <em class="brace">{</em>
<a id="L2903" name="L2903"></a>2903             <strong class="reserved">int</strong> vstart = vidx;
<a id="L2904" name="L2904"></a>2904 
<a id="L2905" name="L2905"></a>2905             <strong class="reserved">if</strong> (<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>() == '.') <em class="brace">{</em>
<a id="L2906" name="L2906"></a>2906                 vidx++;
<a id="L2907" name="L2907"></a>2907             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2908" name="L2908"></a>2908                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L2909" name="L2909"></a>2909             <em class="brace">}</em>
<a id="L2910" name="L2910"></a>2910             <strong class="reserved">while</strong> (<a href="../D/25439.html" title="Multiple defined in 11 places.">isDigit</a>(<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>())) <em class="brace">{</em>
<a id="L2911" name="L2911"></a>2911                 vidx++;
<a id="L2912" name="L2912"></a>2912             <em class="brace">}</em>
<a id="L2913" name="L2913"></a>2913             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(vstart, vidx));
<a id="L2914" name="L2914"></a>2914         <em class="brace">}</em>
<a id="L2915" name="L2915"></a>2915     <em class="brace">}</em>
<a id="L2916" name="L2916"></a>2916 
<a id="L2917" name="L2917"></a>2917     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21358.html" title="Multiple referred from 79 places.">isDigit</a>(<strong class="reserved">char</strong> ch) <em class="brace">{</em>
<a id="L2918" name="L2918"></a>2918         <strong class="reserved">return</strong> '0' &lt;= ch &amp;&amp; ch &lt;= '9';
<a id="L2919" name="L2919"></a>2919     <em class="brace">}</em>
<a id="L2920" name="L2920"></a>2920 
<div class="comment">
      Prints this object according to the format specification.
      <p>
      I wrote a custom format method for a particular format string to
      see if it improves the performance, but it didn't. So this interpreting
      approach isn't too bad.
      </p><p>
      StringBuffer -&gt; StringBuilder change had a very visible impact.
      It almost cut the execution time to half, but unfortunately we can't use it
      because we need to run on JDK 1.3</p></div>
<a id="L2934" name="L2934"></a>2934     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14747.html" title="Multiple referred from 768 places.">format</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> ) <em class="brace">{</em>
<a id="L2935" name="L2935"></a>2935         <strong class="reserved">char</strong>[] <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[32];
<a id="L2936" name="L2936"></a>2936         <strong class="reserved">int</strong> bufPtr = 0;
<a id="L2937" name="L2937"></a>2937 
<a id="L2938" name="L2938"></a>2938         <strong class="reserved">int</strong> fidx=0,flen=<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2939" name="L2939"></a>2939 
<a id="L2940" name="L2940"></a>2940         <strong class="reserved">while</strong>(fidx&lt;flen) <em class="brace">{</em>
<a id="L2941" name="L2941"></a>2941             <strong class="reserved">char</strong> fch = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(fidx++);
<a id="L2942" name="L2942"></a>2942             <strong class="reserved">if</strong>(fch!='%') <em class="brace">{</em><em class="comment">// not a meta char</em>
<a id="L2943" name="L2943"></a>2943                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = fch;
<a id="L2944" name="L2944"></a>2944                 <strong class="reserved">continue</strong>;
<a id="L2945" name="L2945"></a>2945             <em class="brace">}</em>
<a id="L2946" name="L2946"></a>2946 
<a id="L2947" name="L2947"></a>2947             <strong class="reserved">switch</strong>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(fidx++)) <em class="brace">{</em>
<a id="L2948" name="L2948"></a>2948             <strong class="reserved">case</strong> 'Y':
<a id="L2949" name="L2949"></a>2949                 <strong class="reserved">if</strong>(eon==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2950" name="L2950"></a>2950                     <em class="comment">// optimized path</em>
<a id="L2951" name="L2951"></a>2951                     <strong class="reserved">int</strong> y = <a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>();
<a id="L2952" name="L2952"></a>2952                     <strong class="reserved">if</strong>(y&lt;0) <em class="brace">{</em>
<a id="L2953" name="L2953"></a>2953                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = '-';
<a id="L2954" name="L2954"></a>2954                         y = -y;
<a id="L2955" name="L2955"></a>2955                     <em class="brace">}</em>
<a id="L2956" name="L2956"></a>2956                     bufPtr = <a href="../S/5393.html#L3060" title="Defined at 3060 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print4Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr,y);
<a id="L2957" name="L2957"></a>2957                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2958" name="L2958"></a>2958                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = <a href="../D/18837.html" title="Multiple defined in 2 places.">getEonAndYear</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2959" name="L2959"></a>2959                     <em class="comment">// reallocate the buffer now so that it has enough space</em>
<a id="L2960" name="L2960"></a>2960                     <strong class="reserved">char</strong>[] n = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>+s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()];
<a id="L2961" name="L2961"></a>2961                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,0,n,0,bufPtr);
<a id="L2962" name="L2962"></a>2962                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = n;
<a id="L2963" name="L2963"></a>2963                     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i=s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();i&lt;4;i++)
<a id="L2964" name="L2964"></a>2964                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = '0';
<a id="L2965" name="L2965"></a>2965                     s.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(0,s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(),<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr);
<a id="L2966" name="L2966"></a>2966                     bufPtr += s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2967" name="L2967"></a>2967                 <em class="brace">}</em>
<a id="L2968" name="L2968"></a>2968                 <strong class="reserved">break</strong>;
<a id="L2969" name="L2969"></a>2969             <strong class="reserved">case</strong> 'M':
<a id="L2970" name="L2970"></a>2970                 bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr,<a href="../D/20729.html" title="Multiple defined in 11 places.">getMonth</a>());
<a id="L2971" name="L2971"></a>2971                 <strong class="reserved">break</strong>;
<a id="L2972" name="L2972"></a>2972             <strong class="reserved">case</strong> 'D':
<a id="L2973" name="L2973"></a>2973                 bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr,<a href="../D/18222.html" title="Multiple defined in 4 places.">getDay</a>());
<a id="L2974" name="L2974"></a>2974                 <strong class="reserved">break</strong>;
<a id="L2975" name="L2975"></a>2975             <strong class="reserved">case</strong> 'h':
<a id="L2976" name="L2976"></a>2976                 bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr,<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>());
<a id="L2977" name="L2977"></a>2977                 <strong class="reserved">break</strong>;
<a id="L2978" name="L2978"></a>2978             <strong class="reserved">case</strong> 'm':
<a id="L2979" name="L2979"></a>2979                 bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr,<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>());
<a id="L2980" name="L2980"></a>2980                 <strong class="reserved">break</strong>;
<a id="L2981" name="L2981"></a>2981             <strong class="reserved">case</strong> 's':
<a id="L2982" name="L2982"></a>2982                 bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,bufPtr,<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>());
<a id="L2983" name="L2983"></a>2983                 <strong class="reserved">if</strong> (<a href="../D/19225.html" title="Multiple defined in 2 places.">getFractionalSecond</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2984" name="L2984"></a>2984                     <em class="comment">// Note: toPlainString() isn't available before Java 1.5</em>
<a id="L2985" name="L2985"></a>2985                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> frac = <a href="../D/19225.html" title="Multiple defined in 2 places.">getFractionalSecond</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2986" name="L2986"></a>2986 
<a id="L2987" name="L2987"></a>2987                     <strong class="reserved">int</strong> pos = frac.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("E-");
<a id="L2988" name="L2988"></a>2988                     <strong class="reserved">if</strong> (pos &gt;= 0) <em class="brace">{</em>
<a id="L2989" name="L2989"></a>2989                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4902.html#L358" title="Defined at 358 in src/com/sun/org/apache/xpath/internal/objects/XNumber.java.">zeros</a> = frac.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(pos+2);
<a id="L2990" name="L2990"></a>2990                         frac = frac.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0,pos);
<a id="L2991" name="L2991"></a>2991                         pos = frac.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(".");
<a id="L2992" name="L2992"></a>2992                         <strong class="reserved">if</strong> (pos &gt;= 0) <em class="brace">{</em>
<a id="L2993" name="L2993"></a>2993                             frac = frac.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0,pos) + frac.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(pos+1);
<a id="L2994" name="L2994"></a>2994                         <em class="brace">}</em>
<a id="L2995" name="L2995"></a>2995                         <strong class="reserved">int</strong> <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(<a href="../S/4902.html#L358" title="Defined at 358 in src/com/sun/org/apache/xpath/internal/objects/XNumber.java.">zeros</a>);
<a id="L2996" name="L2996"></a>2996                         <strong class="reserved">if</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &lt; 40) <em class="brace">{</em>
<a id="L2997" name="L2997"></a>2997                             frac = "00000000000000000000000000000000000000000".<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0,<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>-1) + frac;
<a id="L2998" name="L2998"></a>2998                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2999" name="L2999"></a>2999                             <em class="comment">// do it the hard way</em>
<a id="L3000" name="L3000"></a>3000                             <strong class="reserved">while</strong> (<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> &gt; 1) <em class="brace">{</em>
<a id="L3001" name="L3001"></a>3001                                 frac = "0" + frac;
<a id="L3002" name="L3002"></a>3002                                 <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>--;
<a id="L3003" name="L3003"></a>3003                             <em class="brace">}</em>
<a id="L3004" name="L3004"></a>3004                         <em class="brace">}</em>
<a id="L3005" name="L3005"></a>3005                         frac = "0." + frac;
<a id="L3006" name="L3006"></a>3006                     <em class="brace">}</em>
<a id="L3007" name="L3007"></a>3007 
<a id="L3008" name="L3008"></a>3008                     <em class="comment">// reallocate the buffer now so that it has enough space</em>
<a id="L3009" name="L3009"></a>3009                     <strong class="reserved">char</strong>[] n = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>+frac.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()];
<a id="L3010" name="L3010"></a>3010                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,0,n,0,bufPtr);
<a id="L3011" name="L3011"></a>3011                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = n;
<a id="L3012" name="L3012"></a>3012                     <em class="comment">//skip leading zero.</em>
<a id="L3013" name="L3013"></a>3013                     frac.<a href="../D/17616.html" title="Multiple defined in 22 places.">getChars</a>(1, frac.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(), <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, bufPtr);
<a id="L3014" name="L3014"></a>3014                     bufPtr += frac.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1;
<a id="L3015" name="L3015"></a>3015                 <em class="brace">}</em>
<a id="L3016" name="L3016"></a>3016                 <strong class="reserved">break</strong>;
<a id="L3017" name="L3017"></a>3017             <strong class="reserved">case</strong> 'z':
<a id="L3018" name="L3018"></a>3018                 <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../D/23159.html" title="Multiple defined in 2 places.">getTimezone</a>();
<a id="L3019" name="L3019"></a>3019                 <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> == 0) <em class="brace">{</em>
<a id="L3020" name="L3020"></a>3020                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = 'Z';
<a id="L3021" name="L3021"></a>3021                 <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L3022" name="L3022"></a>3022                 <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> != <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.FIELD_UNDEFINED) <em class="brace">{</em>
<a id="L3023" name="L3023"></a>3023                     <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; 0) <em class="brace">{</em>
<a id="L3024" name="L3024"></a>3024                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = '-';
<a id="L3025" name="L3025"></a>3025                         <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> *= -1;
<a id="L3026" name="L3026"></a>3026                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3027" name="L3027"></a>3027                         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = '+';
<a id="L3028" name="L3028"></a>3028                     <em class="brace">}</em>
<a id="L3029" name="L3029"></a>3029                     bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, bufPtr, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> / 60);
<a id="L3030" name="L3030"></a>3030                     <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[bufPtr++] = ':';
<a id="L3031" name="L3031"></a>3031                     bufPtr = <a href="../S/5393.html#L3048" title="Defined at 3048 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print2Number</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, bufPtr, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> % 60);
<a id="L3032" name="L3032"></a>3032                 <em class="brace">}</em>
<a id="L3033" name="L3033"></a>3033                 <strong class="reserved">break</strong>;
<a id="L3034" name="L3034"></a>3034             <strong class="reserved">default</strong>:
<a id="L3035" name="L3035"></a>3035                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>();  <em class="comment">// impossible</em>
<a id="L3036" name="L3036"></a>3036             <em class="brace">}</em>
<a id="L3037" name="L3037"></a>3037         <em class="brace">}</em>
<a id="L3038" name="L3038"></a>3038 
<a id="L3039" name="L3039"></a>3039         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>,0,bufPtr);
<a id="L3040" name="L3040"></a>3040     <em class="brace">}</em>
<a id="L3041" name="L3041"></a>3041 
<div class="comment">
      Prints an int as two digits into the buffer.
      @param number
           Number to be printed. Must be positive.</div>
<a id="L3048" name="L3048"></a>3048     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/24979.html" title="Multiple referred from 7 places.">print2Number</a>( <strong class="reserved">char</strong>[] <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, <strong class="reserved">int</strong> bufptr, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> ) <em class="brace">{</em>
<a id="L3049" name="L3049"></a>3049         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>[bufptr++] = (<strong class="reserved">char</strong>) ('0'+(<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>/10));
<a id="L3050" name="L3050"></a>3050         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>[bufptr++] = (<strong class="reserved">char</strong>) ('0'+(<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>%10));
<a id="L3051" name="L3051"></a>3051         <strong class="reserved">return</strong> bufptr;
<a id="L3052" name="L3052"></a>3052     <em class="brace">}</em>
<a id="L3053" name="L3053"></a>3053 
<div class="comment">
      Prints an int as four digits into the buffer.
      @param number
           Number to be printed. Must be positive.</div>
<a id="L3060" name="L3060"></a>3060     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/5393.html#L2956" title="Referred from 2956 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">print4Number</a>( <strong class="reserved">char</strong>[] <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, <strong class="reserved">int</strong> bufptr, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> ) <em class="brace">{</em>
<a id="L3061" name="L3061"></a>3061         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>[bufptr+3] = (<strong class="reserved">char</strong>) ('0'+(<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>%10));
<a id="L3062" name="L3062"></a>3062         <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> /= 10;
<a id="L3063" name="L3063"></a>3063         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>[bufptr+2] = (<strong class="reserved">char</strong>) ('0'+(<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>%10));
<a id="L3064" name="L3064"></a>3064         <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> /= 10;
<a id="L3065" name="L3065"></a>3065         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>[bufptr+1] = (<strong class="reserved">char</strong>) ('0'+(<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>%10));
<a id="L3066" name="L3066"></a>3066         <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> /= 10;
<a id="L3067" name="L3067"></a>3067         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>[bufptr  ] = (<strong class="reserved">char</strong>) ('0'+(<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>%10));
<a id="L3068" name="L3068"></a>3068         <strong class="reserved">return</strong> bufptr+4;
<a id="L3069" name="L3069"></a>3069     <em class="brace">}</em>
<a id="L3070" name="L3070"></a>3070 
<div class="comment">
      Compute <code>value*signum</code> where value==null is treated as
      value==0.
      @return non-null {@link BigInteger}.</div>
<a id="L3076" name="L3076"></a>3076     <strong class="reserved">static</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> <a href="../R/26585.html" title="Multiple referred from 24 places.">sanitize</a>(<a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> <a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a>) <em class="brace">{</em>
<a id="L3077" name="L3077"></a>3077         <strong class="reserved">if</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> == 0 || <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3078" name="L3078"></a>3078             <strong class="reserved">return</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>.ZERO;
<a id="L3079" name="L3079"></a>3079         <em class="brace">}</em>
<a id="L3080" name="L3080"></a>3080         <strong class="reserved">return</strong> (<a href="../D/34574.html" title="Multiple defined in 9 places.">signum</a> &lt;  0)? ((<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>).<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>() : (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>)<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L3081" name="L3081"></a>3081     <em class="brace">}</em>
<a id="L3082" name="L3082"></a>3082 
<div class="comment">
 <p><code>reset()</code> is designed to allow the reuse of existing
      <code>XMLGregorianCalendar</code>s thus saving resources associated
       with the creation of new <code>XMLGregorianCalendar</code>s.</p></div>
<a id="L3087" name="L3087"></a>3087     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>() <em class="brace">{</em>
<a id="L3088" name="L3088"></a>3088         <em class="comment">//PENDING : Implementation of reset method</em>
<a id="L3089" name="L3089"></a>3089     <em class="brace">}</em>
<a id="L3090" name="L3090"></a>3090 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L689">[^]</a><a href="#L3087">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>