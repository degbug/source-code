<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/image/SinglePixelPackedSampleModel.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L85">[^]</a><a href="#L774">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L85" title="Defined at 85.">initIDs</a></li>
<li><a href="#L192" title="Defined at 192.">getNumDataElements</a></li>
<li><a href="#L201" title="Defined at 201.">getBufferSize</a></li>
<li><a href="#L218" title="Defined at 218.">createCompatibleSampleModel</a></li>
<li><a href="#L230" title="Defined at 230.">createDataBuffer</a></li>
<li><a href="#L249" title="Defined at 249.">getSampleSize</a></li>
<li><a href="#L254" title="Defined at 254.">getSampleSize</a></li>
<li><a href="#L269" title="Defined at 269.">getOffset</a></li>
<li><a href="#L278" title="Defined at 278.">getBitOffsets</a></li>
<li><a href="#L285" title="Defined at 285.">getBitMasks</a></li>
<li><a href="#L293" title="Defined at 293.">getScanlineStride</a></li>
<li><a href="#L309" title="Defined at 309.">createSubsetSampleModel</a></li>
<li><a href="#L361" title="Defined at 361.">getDataElements</a></li>
<li><a href="#L429" title="Defined at 429.">getPixel</a></li>
<li><a href="#L462" title="Defined at 462.">getPixels</a></li>
<li><a href="#L508" title="Defined at 508.">getSample</a></li>
<li><a href="#L534" title="Defined at 534.">getSamples</a></li>
<li><a href="#L596" title="Defined at 596.">setDataElements</a></li>
<li><a href="#L636" title="Defined at 636.">setPixel</a></li>
<li><a href="#L665" title="Defined at 665.">setPixels</a></li>
<li><a href="#L707" title="Defined at 707.">setSample</a></li>
<li><a href="#L734" title="Defined at 734.">setSamples</a></li>
<li><a href="#L756" title="Defined at 756.">equals</a></li>
<li><a href="#L774" title="Defined at 774.">hashCode</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
 ****************************************************************
 *****************************************************************
 *****************************************************************
 ** COPYRIGHT (c) Eastman Kodak Company, 1997
 ** As  an unpublished  work pursuant to Title 17 of the United
 ** States Code.  All rights reserved.
 *****************************************************************
 *****************************************************************
 *****************************************************************</div>
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.image;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L39" name="L39"></a>  39 
<div class="comment">
   This class represents pixel data packed such that the N samples which make
   up a single pixel are stored in a single data array element, and each data
   data array element holds samples for only one pixel.
   This class supports
   {@link DataBuffer#TYPE_BYTE TYPE_BYTE},
   {@link DataBuffer#TYPE_USHORT TYPE_USHORT},
   {@link DataBuffer#TYPE_INT TYPE_INT} data types.
   All data array elements reside
   in the first bank of a DataBuffer.  Accessor methods are provided so
   that the image data can be manipulated directly. Scanline stride is the
   number of data array elements between a given sample and the corresponding
   sample in the same column of the next scanline. Bit masks are the masks
   required to extract the samples representing the bands of the pixel.
   Bit offsets are the offsets in bits into the data array
   element of the samples representing the bands of the pixel.
  <p>
  The following code illustrates extracting the bits of the sample
  representing band <code>b</code> for pixel <code>x,y</code>
  from DataBuffer <code>data</code>:
  </p><pre>{@code
       int sample = data.getElem(y * scanlineStride + x);
       sample = (sample &amp; bitMasks[b]) &gt;&gt;&gt; bitOffsets[b];
  }</pre></div>
<a id="L65" name="L65"></a>  65 
<a id="L66" name="L66"></a>  66 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7279.html" title="Multiple referred from 46 places.">SinglePixelPackedSampleModel</a> <strong class="reserved">extends</strong> <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a>
<a id="L67" name="L67"></a>  67 <em class="brace">{</em>
<div class="comment">
     /** Bit masks for all bands of the image data. */</div>
<a id="L69" name="L69"></a>  69     <strong class="reserved">private</strong> <strong class="reserved">int</strong> bitMasks[];
<a id="L70" name="L70"></a>  70 
<div class="comment">
     /** Bit Offsets for all bands of the image data. */</div>
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <strong class="reserved">int</strong> bitOffsets[];
<a id="L73" name="L73"></a>  73 
<div class="comment">
     /** Bit sizes for all the bands of the image data. */</div>
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <strong class="reserved">int</strong> bitSizes[];
<a id="L76" name="L76"></a>  76 
<div class="comment">
     /** Maximum bit size. */</div>
<a id="L78" name="L78"></a>  78     <strong class="reserved">private</strong> <strong class="reserved">int</strong> maxBitSize;
<a id="L79" name="L79"></a>  79 
<div class="comment">
 Line stride of the region of image data described by this
       SinglePixelPackedSampleModel.</div>
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <strong class="reserved">int</strong> scanlineStride;
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/20590.html" title="Multiple referred from 52 places.">initIDs</a>();
<a id="L86" name="L86"></a>  86     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L87" name="L87"></a>  87         <a href="../D/1637.html" title="Multiple defined in 2 places.">ColorModel</a>.<a href="../D/26950.html" title="Multiple defined in 3 places.">loadLibraries</a>();
<a id="L88" name="L88"></a>  88         <a href="../D/24550.html" title="Multiple defined in 53 places.">initIDs</a>();
<a id="L89" name="L89"></a>  89     <em class="brace">}</em>
<a id="L90" name="L90"></a>  90 
<div class="comment">
      Constructs a SinglePixelPackedSampleModel with bitMasks.length bands.
      Each sample is stored in a data array element in the position of
      its corresponding bit mask.  Each bit mask must be contiguous and
      masks must not overlap. Bit masks exceeding data type capacity are
      truncated.
      @param dataType  The data type for storing samples.
      @param w         The width (in pixels) of the region of the
                       image data described.
      @param h         The height (in pixels) of the region of the
                       image data described.
      @param bitMasks  The bit masks for all bands.
      @throws IllegalArgumentException if <code>dataType</code> is not
              either <code>DataBuffer.TYPE_BYTE</code>,
              <code>DataBuffer.TYPE_USHORT</code>, or
              <code>DataBuffer.TYPE_INT</code></div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">public</strong> SinglePixelPackedSampleModel(<strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h,
<a id="L109" name="L109"></a> 109                                    <strong class="reserved">int</strong> bitMasks[]) <em class="brace">{</em>
<a id="L110" name="L110"></a> 110         <strong class="reserved">this</strong>(dataType, w, h, w, bitMasks);
<a id="L111" name="L111"></a> 111         <strong class="reserved">if</strong> (dataType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE &amp;&amp;
<a id="L112" name="L112"></a> 112             dataType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT &amp;&amp;
<a id="L113" name="L113"></a> 113             dataType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT) <em class="brace">{</em>
<a id="L114" name="L114"></a> 114             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unsupported data type "+
<a id="L115" name="L115"></a> 115                                                dataType);
<a id="L116" name="L116"></a> 116         <em class="brace">}</em>
<a id="L117" name="L117"></a> 117     <em class="brace">}</em>
<a id="L118" name="L118"></a> 118 
<div class="comment">
      Constructs a SinglePixelPackedSampleModel with bitMasks.length bands
      and a scanline stride equal to scanlineStride data array elements.
      Each sample is stored in a data array element in the position of
      its corresponding bit mask.  Each bit mask must be contiguous and
      masks must not overlap. Bit masks exceeding data type capacity are
      truncated.
      @param dataType  The data type for storing samples.
      @param w         The width (in pixels) of the region of
                       image data described.
      @param h         The height (in pixels) of the region of
                       image data described.
      @param scanlineStride The line stride of the image data.
      @param bitMasks The bit masks for all bands.
      @throws IllegalArgumentException if <code>w</code> or
              <code>h</code> is not greater than 0
      @throws IllegalArgumentException if any mask in
              <code>bitMask</code> is not contiguous
      @throws IllegalArgumentException if <code>dataType</code> is not
              either <code>DataBuffer.TYPE_BYTE</code>,
              <code>DataBuffer.TYPE_USHORT</code>, or
              <code>DataBuffer.TYPE_INT</code></div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">public</strong> SinglePixelPackedSampleModel(<strong class="reserved">int</strong> dataType, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h,
<a id="L143" name="L143"></a> 143                                    <strong class="reserved">int</strong> scanlineStride, <strong class="reserved">int</strong> bitMasks[]) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144         <strong class="reserved">super</strong>(dataType, w, h, bitMasks.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L145" name="L145"></a> 145         <strong class="reserved">if</strong> (dataType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE &amp;&amp;
<a id="L146" name="L146"></a> 146             dataType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT &amp;&amp;
<a id="L147" name="L147"></a> 147             dataType != <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unsupported data type "+
<a id="L149" name="L149"></a> 149                                                dataType);
<a id="L150" name="L150"></a> 150         <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         <strong class="reserved">this</strong>.dataType = dataType;
<a id="L152" name="L152"></a> 152         <strong class="reserved">this</strong>.bitMasks = (<strong class="reserved">int</strong>[]) bitMasks.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L153" name="L153"></a> 153         <strong class="reserved">this</strong>.scanlineStride = scanlineStride;
<a id="L154" name="L154"></a> 154 
<a id="L155" name="L155"></a> 155         <strong class="reserved">this</strong>.bitOffsets = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBands];
<a id="L156" name="L156"></a> 156         <strong class="reserved">this</strong>.bitSizes = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numBands];
<a id="L157" name="L157"></a> 157 
<a id="L158" name="L158"></a> 158         <strong class="reserved">int</strong> maxMask = (<strong class="reserved">int</strong>)((1L &lt;&lt; <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.<a href="../S/2284.html#L120" title="Defined at 120 in src/java/awt/image/DataBuffer.java.">getDataTypeSize</a>(dataType)) - 1);
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160         <strong class="reserved">this</strong>.maxBitSize = 0;
<a id="L161" name="L161"></a> 161         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;numBands; i++) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162             <strong class="reserved">int</strong> bitOffset = 0, bitSize = 0, <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a>;
<a id="L163" name="L163"></a> 163             <strong class="reserved">this</strong>.bitMasks[i] &amp;= maxMask;
<a id="L164" name="L164"></a> 164             <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <strong class="reserved">this</strong>.bitMasks[i];
<a id="L165" name="L165"></a> 165             <strong class="reserved">if</strong> (<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> != 0) <em class="brace">{</em>
<a id="L166" name="L166"></a> 166                 <strong class="reserved">while</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; 1) == 0) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167                     <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &gt;&gt;&gt; 1;
<a id="L168" name="L168"></a> 168                     bitOffset++;
<a id="L169" name="L169"></a> 169                 <em class="brace">}</em>
<a id="L170" name="L170"></a> 170                 <strong class="reserved">while</strong> ((<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &amp; 1) == 1) <em class="brace">{</em>
<a id="L171" name="L171"></a> 171                     <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> = <a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> &gt;&gt;&gt; 1;
<a id="L172" name="L172"></a> 172                     bitSize++;
<a id="L173" name="L173"></a> 173                 <em class="brace">}</em>
<a id="L174" name="L174"></a> 174                 <strong class="reserved">if</strong> (<a href="../S/915.html#L394" title="Defined at 394 in src/java/util/stream/StreamOpFlag.java.">mask</a> != 0) <em class="brace">{</em>
<a id="L175" name="L175"></a> 175                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Mask "+bitMasks[i]+
<a id="L176" name="L176"></a> 176                                                        " must be contiguous");
<a id="L177" name="L177"></a> 177                 <em class="brace">}</em>
<a id="L178" name="L178"></a> 178             <em class="brace">}</em>
<a id="L179" name="L179"></a> 179             bitOffsets[i] = bitOffset;
<a id="L180" name="L180"></a> 180             bitSizes[i] = bitSize;
<a id="L181" name="L181"></a> 181             <strong class="reserved">if</strong> (bitSize &gt; maxBitSize) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182                 maxBitSize = bitSize;
<a id="L183" name="L183"></a> 183             <em class="brace">}</em>
<a id="L184" name="L184"></a> 184         <em class="brace">}</em>
<a id="L185" name="L185"></a> 185     <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Returns the number of data elements needed to transfer one pixel
      via the getDataElements and setDataElements methods.
      For a SinglePixelPackedSampleModel, this is one.</div>
<a id="L192" name="L192"></a> 192     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18040.html" title="Multiple referred from 10 places.">getNumDataElements</a>() <em class="brace">{</em>
<a id="L193" name="L193"></a> 193         <strong class="reserved">return</strong> 1;
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<div class="comment">
      Returns the size of the buffer (in data array elements)
      needed for a data buffer that matches this
      SinglePixelPackedSampleModel.</div>
<a id="L201" name="L201"></a> 201     <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../R/15344.html" title="Multiple referred from 7 places.">getBufferSize</a>() <em class="brace">{</em>
<a id="L202" name="L202"></a> 202       <strong class="reserved">long</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = scanlineStride * (<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>-1) + <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L203" name="L203"></a> 203       <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L204" name="L204"></a> 204     <em class="brace">}</em>
<a id="L205" name="L205"></a> 205 
<div class="comment">
      Creates a new SinglePixelPackedSampleModel with the specified
      width and height.  The new SinglePixelPackedSampleModel will have the
      same storage data type and bit masks as this
      SinglePixelPackedSampleModel.
      @param w the width of the resulting <code>SampleModel</code>
      @param h the height of the resulting <code>SampleModel</code>
      @return a <code>SinglePixelPackedSampleModel</code> with the
              specified width and height.
      @throws IllegalArgumentException if <code>w</code> or
              <code>h</code> is not greater than 0</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">public</strong> <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> <a href="../R/12288.html" title="Multiple referred from 9 places.">createCompatibleSampleModel</a>(<strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219       <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> sampleModel = <strong class="reserved">new</strong> <a href="../S/2273.html#L66" title="Defined at 66 in src/java/awt/image/SinglePixelPackedSampleModel.java.">SinglePixelPackedSampleModel</a>(dataType, w, h,
<a id="L220" name="L220"></a> 220                                                               bitMasks);
<a id="L221" name="L221"></a> 221       <strong class="reserved">return</strong> sampleModel;
<a id="L222" name="L222"></a> 222     <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<div class="comment">
      Creates a DataBuffer that corresponds to this
      SinglePixelPackedSampleModel.  The DataBuffer's data type and size
      will be consistent with this SinglePixelPackedSampleModel.  The
      DataBuffer will have a single bank.</div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">public</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../R/12323.html" title="Multiple referred from 4 places.">createDataBuffer</a>() <em class="brace">{</em>
<a id="L231" name="L231"></a> 231         <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> dataBuffer = <strong class="reserved">null</strong>;
<a id="L232" name="L232"></a> 232 
<a id="L233" name="L233"></a> 233         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = (<strong class="reserved">int</strong>)<a href="../D/17362.html" title="Multiple defined in 9 places.">getBufferSize</a>();
<a id="L234" name="L234"></a> 234         <strong class="reserved">switch</strong> (dataType) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE:
<a id="L236" name="L236"></a> 236             dataBuffer = <strong class="reserved">new</strong> <a href="../S/2266.html#L60" title="Defined at 60 in src/java/awt/image/DataBufferByte.java.">DataBufferByte</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L237" name="L237"></a> 237             <strong class="reserved">break</strong>;
<a id="L238" name="L238"></a> 238         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT:
<a id="L239" name="L239"></a> 239             dataBuffer = <strong class="reserved">new</strong> <a href="../S/2259.html#L60" title="Defined at 60 in src/java/awt/image/DataBufferUShort.java.">DataBufferUShort</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L240" name="L240"></a> 240             <strong class="reserved">break</strong>;
<a id="L241" name="L241"></a> 241         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT:
<a id="L242" name="L242"></a> 242             dataBuffer = <strong class="reserved">new</strong> <a href="../S/2243.html#L59" title="Defined at 59 in src/java/awt/image/DataBufferInt.java.">DataBufferInt</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L243" name="L243"></a> 243             <strong class="reserved">break</strong>;
<a id="L244" name="L244"></a> 244         <em class="brace">}</em>
<a id="L245" name="L245"></a> 245         <strong class="reserved">return</strong> dataBuffer;
<a id="L246" name="L246"></a> 246     <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<div class="comment">
     /** Returns the number of bits per sample for all bands. */</div>
<a id="L249" name="L249"></a> 249     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/18836.html" title="Multiple referred from 36 places.">getSampleSize</a>() <em class="brace">{</em>
<a id="L250" name="L250"></a> 250         <strong class="reserved">return</strong> bitSizes.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L251" name="L251"></a> 251     <em class="brace">}</em>
<a id="L252" name="L252"></a> 252 
<div class="comment">
     /** Returns the number of bits per sample for the specified band. */</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18836.html" title="Multiple referred from 36 places.">getSampleSize</a>(<strong class="reserved">int</strong> band) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">return</strong> bitSizes[band];
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
 Returns the offset (in data array elements) of pixel (x,y).
       The data element containing pixel <code>x,y</code>
       can be retrieved from a DataBuffer <code>data</code> with a
       SinglePixelPackedSampleModel <code>sppsm</code> as:
      <pre>             data.getElem(sppsm.getOffset(x, y));
      </pre>
      @param x the X coordinate of the specified pixel
      @param y the Y coordinate of the specified pixel
      @return the offset of the specified pixel.</div>
<a id="L269" name="L269"></a> 269     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270         <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L271" name="L271"></a> 271         <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L272" name="L272"></a> 272     <em class="brace">}</em>
<a id="L273" name="L273"></a> 273 
<div class="comment">
 Returns the bit offsets into the data array element representing
       a pixel for all bands.
       @return the bit offsets representing a pixel for all bands.</div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">public</strong> <strong class="reserved">int</strong> [] <a href="../S/6836.html#L277" title="Referred from 277 in src/com/sun/imageio/plugins/bmp/BMPImageWriter.java.">getBitOffsets</a>() <em class="brace">{</em>
<a id="L279" name="L279"></a> 279       <strong class="reserved">return</strong> (<strong class="reserved">int</strong>[])bitOffsets.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
 Returns the bit masks for all bands.
       @return the bit masks for all bands.</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <strong class="reserved">int</strong> [] <a href="../R/15280.html" title="Multiple referred from 4 places.">getBitMasks</a>() <em class="brace">{</em>
<a id="L286" name="L286"></a> 286       <strong class="reserved">return</strong> (<strong class="reserved">int</strong>[])bitMasks.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L287" name="L287"></a> 287     <em class="brace">}</em>
<a id="L288" name="L288"></a> 288 
<div class="comment">
 Returns the scanline stride of this SinglePixelPackedSampleModel.
       @return the scanline stride of this
               <code>SinglePixelPackedSampleModel</code>.</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18849.html" title="Multiple referred from 30 places.">getScanlineStride</a>() <em class="brace">{</em>
<a id="L294" name="L294"></a> 294       <strong class="reserved">return</strong> scanlineStride;
<a id="L295" name="L295"></a> 295     <em class="brace">}</em>
<a id="L296" name="L296"></a> 296 
<div class="comment">
      This creates a new SinglePixelPackedSampleModel with a subset of the
      bands of this SinglePixelPackedSampleModel.  The new
      SinglePixelPackedSampleModel can be used with any DataBuffer that the
      existing SinglePixelPackedSampleModel can be used with.  The new
      SinglePixelPackedSampleModel/DataBuffer combination will represent
      an image with a subset of the bands of the original
      SinglePixelPackedSampleModel/DataBuffer combination.
      @exception RasterFormatException if the length of the bands argument is
                                       greater than the number of bands in
                                       the sample model.</div>
<a id="L309" name="L309"></a> 309     <strong class="reserved">public</strong> <a href="../S/2227.html#L81" title="Defined at 81 in src/java/awt/image/SampleModel.java.">SampleModel</a> <a href="../R/12713.html" title="Multiple referred from 4 places.">createSubsetSampleModel</a>(<strong class="reserved">int</strong> bands[]) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <strong class="reserved">if</strong> (bands.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; numBands)
<a id="L311" name="L311"></a> 311             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2231.html#L33" title="Defined at 33 in src/java/awt/image/RasterFormatException.java.">RasterFormatException</a>("There are only " +
<a id="L312" name="L312"></a> 312                                             numBands +
<a id="L313" name="L313"></a> 313                                             " bands");
<a id="L314" name="L314"></a> 314         <strong class="reserved">int</strong> newBitMasks[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[bands.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L315" name="L315"></a> 315         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;bands.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L316" name="L316"></a> 316             newBitMasks[i] = bitMasks[bands[i]];
<a id="L317" name="L317"></a> 317 
<a id="L318" name="L318"></a> 318         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2273.html#L66" title="Defined at 66 in src/java/awt/image/SinglePixelPackedSampleModel.java.">SinglePixelPackedSampleModel</a>(<strong class="reserved">this</strong>.dataType, <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>,
<a id="L319" name="L319"></a> 319                                            <strong class="reserved">this</strong>.scanlineStride, newBitMasks);
<a id="L320" name="L320"></a> 320     <em class="brace">}</em>
<a id="L321" name="L321"></a> 321 
<div class="comment">
      Returns data for a single pixel in a primitive array of type
      TransferType.  For a SinglePixelPackedSampleModel, the array will
      have one element, and the type will be the same as the storage
      data type.  Generally, obj
      should be passed in as null, so that the Object will be created
      automatically and will be of the right primitive data type.
      <p>
      The following code illustrates transferring data for one pixel from
      DataBuffer <code>db1</code>, whose storage layout is described by
      SinglePixelPackedSampleModel <code>sppsm1</code>, to
      DataBuffer <code>db2</code>, whose storage layout is described by
      SinglePixelPackedSampleModel <code>sppsm2</code>.
      The transfer will generally be more efficient than using
      getPixel/setPixel.
      </p><pre>            SinglePixelPackedSampleModel sppsm1, sppsm2;
            DataBufferInt db1, db2;
            sppsm2.setDataElements(x, y, sppsm1.getDataElements(x, y, null,
                                   db1), db2);
      </pre>
      Using getDataElements/setDataElements to transfer between two
      DataBuffer/SampleModel pairs is legitimate if the SampleModels have
      the same number of bands, corresponding bands have the same number of
      bits per sample, and the TransferTypes are the same.
      <p>
      If obj is non-null, it should be a primitive array of type TransferType.
      Otherwise, a ClassCastException is thrown.  An
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds, or if obj is non-null and is not large enough to hold
      the pixel data.
      @param x         The X coordinate of the pixel location.
      @param y         The Y coordinate of the pixel location.
      @param obj       If non-null, a primitive array in which to return
                       the pixel data.
      @param data      The DataBuffer containing the image data.
      @return the data for the specified pixel.
      @see #setDataElements(int, int, Object, DataBuffer)</p></div>
<a id="L361" name="L361"></a> 361     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/15949.html" title="Multiple referred from 46 places.">getDataElements</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj, <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362         <em class="comment">// Bounds check for 'b' will be performed automatically</em>
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L365" name="L365"></a> 365                 ("Coordinate out of bounds!");
<a id="L366" name="L366"></a> 366         <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<a id="L368" name="L368"></a> 368         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/23246.html" title="Multiple defined in 4 places.">getTransferType</a>();
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <strong class="reserved">switch</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE:
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374             <strong class="reserved">byte</strong>[] bdata;
<a id="L375" name="L375"></a> 375 
<a id="L376" name="L376"></a> 376             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>)
<a id="L377" name="L377"></a> 377                 bdata = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[1];
<a id="L378" name="L378"></a> 378             <strong class="reserved">else</strong>
<a id="L379" name="L379"></a> 379                 bdata = (<strong class="reserved">byte</strong>[])obj;
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381             bdata[0] = (<strong class="reserved">byte</strong>)<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383             obj = (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>)bdata;
<a id="L384" name="L384"></a> 384             <strong class="reserved">break</strong>;
<a id="L385" name="L385"></a> 385 
<a id="L386" name="L386"></a> 386         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT:
<a id="L387" name="L387"></a> 387 
<a id="L388" name="L388"></a> 388             <strong class="reserved">short</strong>[] sdata;
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>)
<a id="L391" name="L391"></a> 391                 sdata = <strong class="reserved">new</strong> <strong class="reserved">short</strong>[1];
<a id="L392" name="L392"></a> 392             <strong class="reserved">else</strong>
<a id="L393" name="L393"></a> 393                 sdata = (<strong class="reserved">short</strong>[])obj;
<a id="L394" name="L394"></a> 394 
<a id="L395" name="L395"></a> 395             sdata[0] = (<strong class="reserved">short</strong>)<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397             obj = (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>)sdata;
<a id="L398" name="L398"></a> 398             <strong class="reserved">break</strong>;
<a id="L399" name="L399"></a> 399 
<a id="L400" name="L400"></a> 400         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT:
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402             <strong class="reserved">int</strong>[] idata;
<a id="L403" name="L403"></a> 403 
<a id="L404" name="L404"></a> 404             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>)
<a id="L405" name="L405"></a> 405                 idata = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[1];
<a id="L406" name="L406"></a> 406             <strong class="reserved">else</strong>
<a id="L407" name="L407"></a> 407                 idata = (<strong class="reserved">int</strong>[])obj;
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409             idata[0] = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L410" name="L410"></a> 410 
<a id="L411" name="L411"></a> 411             obj = (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>)idata;
<a id="L412" name="L412"></a> 412             <strong class="reserved">break</strong>;
<a id="L413" name="L413"></a> 413         <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415         <strong class="reserved">return</strong> obj;
<a id="L416" name="L416"></a> 416     <em class="brace">}</em>
<a id="L417" name="L417"></a> 417 
<div class="comment">
      Returns all samples in for the specified pixel in an int array.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the pixel location.
      @param y         The Y coordinate of the pixel location.
      @param iArray    If non-null, returns the samples in this array
      @param data      The DataBuffer containing the image data.
      @return all samples for the specified pixel.
      @see #setPixel(int, int, int[], DataBuffer)</div>
<a id="L429" name="L429"></a> 429     <strong class="reserved">public</strong> <strong class="reserved">int</strong> [] <a href="../R/18343.html" title="Multiple referred from 16 places.">getPixel</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> iArray[], <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L432" name="L432"></a> 432                 ("Coordinate out of bounds!");
<a id="L433" name="L433"></a> 433         <em class="brace">}</em>
<a id="L434" name="L434"></a> 434         <strong class="reserved">int</strong> pixels[];
<a id="L435" name="L435"></a> 435         <strong class="reserved">if</strong> (iArray == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436             pixels = <strong class="reserved">new</strong> <strong class="reserved">int</strong> [numBands];
<a id="L437" name="L437"></a> 437         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L438" name="L438"></a> 438             pixels = iArray;
<a id="L439" name="L439"></a> 439         <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L442" name="L442"></a> 442         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;numBands; i++) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443             pixels[i] = (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp; bitMasks[i]) &gt;&gt;&gt; bitOffsets[i];
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">return</strong> pixels;
<a id="L446" name="L446"></a> 446     <em class="brace">}</em>
<a id="L447" name="L447"></a> 447 
<div class="comment">
      Returns all samples for the specified rectangle of pixels in
      an int array, one sample per array element.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the upper left pixel location.
      @param y         The Y coordinate of the upper left pixel location.
      @param w         The width of the pixel rectangle.
      @param h         The height of the pixel rectangle.
      @param iArray    If non-null, returns the samples in this array.
      @param data      The DataBuffer containing the image data.
      @return all samples for the specified region of pixels.
      @see #setPixels(int, int, int, int, int[], DataBuffer)</div>
<a id="L462" name="L462"></a> 462     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/18348.html" title="Multiple referred from 17 places.">getPixels</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h,
<a id="L463" name="L463"></a> 463                            <strong class="reserved">int</strong> iArray[], <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464         <strong class="reserved">int</strong> x1 = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + w;
<a id="L465" name="L465"></a> 465         <strong class="reserved">int</strong> y1 = y + h;
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0 || <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> || w &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> || x1 &lt; 0 || x1 &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> ||
<a id="L468" name="L468"></a> 468             y &lt; 0 || y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> || h &gt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> || y1 &lt; 0 || y1 &gt;  <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)
<a id="L469" name="L469"></a> 469         <em class="brace">{</em>
<a id="L470" name="L470"></a> 470             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L471" name="L471"></a> 471                 ("Coordinate out of bounds!");
<a id="L472" name="L472"></a> 472         <em class="brace">}</em>
<a id="L473" name="L473"></a> 473         <strong class="reserved">int</strong> pixels[];
<a id="L474" name="L474"></a> 474         <strong class="reserved">if</strong> (iArray != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475            pixels = iArray;
<a id="L476" name="L476"></a> 476         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L477" name="L477"></a> 477            pixels = <strong class="reserved">new</strong> <strong class="reserved">int</strong> [w*h*numBands];
<a id="L478" name="L478"></a> 478         <em class="brace">}</em>
<a id="L479" name="L479"></a> 479         <strong class="reserved">int</strong> lineOffset = y*scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L480" name="L480"></a> 480         <strong class="reserved">int</strong> dstOffset = 0;
<a id="L481" name="L481"></a> 481 
<a id="L482" name="L482"></a> 482         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; h; i++) <em class="brace">{</em>
<a id="L483" name="L483"></a> 483            <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; w; j++) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484               <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(lineOffset+j);
<a id="L485" name="L485"></a> 485               <strong class="reserved">for</strong> (<strong class="reserved">int</strong> k=0; k &lt; numBands; k++) <em class="brace">{</em>
<a id="L486" name="L486"></a> 486                   pixels[dstOffset++] =
<a id="L487" name="L487"></a> 487                      ((<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp; bitMasks[k]) &gt;&gt;&gt; bitOffsets[k]);
<a id="L488" name="L488"></a> 488               <em class="brace">}</em>
<a id="L489" name="L489"></a> 489            <em class="brace">}</em>
<a id="L490" name="L490"></a> 490            lineOffset += scanlineStride;
<a id="L491" name="L491"></a> 491         <em class="brace">}</em>
<a id="L492" name="L492"></a> 492         <strong class="reserved">return</strong> pixels;
<a id="L493" name="L493"></a> 493     <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<div class="comment">
      Returns as int the sample in a specified band for the pixel
      located at (x,y).
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the pixel location.
      @param y         The Y coordinate of the pixel location.
      @param b         The band to return.
      @param data      The DataBuffer containing the image data.
      @return the sample in a specified band for the specified
              pixel.
      @see #setSample(int, int, int, int, DataBuffer)</div>
<a id="L508" name="L508"></a> 508     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18829.html" title="Multiple referred from 7 places.">getSample</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> b, <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509         <em class="comment">// Bounds check for 'b' will be performed automatically</em>
<a id="L510" name="L510"></a> 510         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L512" name="L512"></a> 512                 ("Coordinate out of bounds!");
<a id="L513" name="L513"></a> 513         <em class="brace">}</em>
<a id="L514" name="L514"></a> 514         <strong class="reserved">int</strong> <a href="../S/7544.html#L89" title="Defined at 89 in src/com/sun/corba/se/spi/monitoring/StatisticsAccumulator.java.">sample</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L515" name="L515"></a> 515         <strong class="reserved">return</strong> ((<a href="../S/7544.html#L89" title="Defined at 89 in src/com/sun/corba/se/spi/monitoring/StatisticsAccumulator.java.">sample</a> &amp; bitMasks[b]) &gt;&gt;&gt; bitOffsets[b]);
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<div class="comment">
      Returns the samples for a specified band for the specified rectangle
      of pixels in an int array, one sample per array element.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the upper left pixel location.
      @param y         The Y coordinate of the upper left pixel location.
      @param w         The width of the pixel rectangle.
      @param h         The height of the pixel rectangle.
      @param b         The band to return.
      @param iArray    If non-null, returns the samples in this array.
      @param data      The DataBuffer containing the image data.
      @return the samples for the specified band for the specified
              region of pixels.
      @see #setSamples(int, int, int, int, int, int[], DataBuffer)</div>
<a id="L534" name="L534"></a> 534     <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/18839.html" title="Multiple referred from 6 places.">getSamples</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> b,
<a id="L535" name="L535"></a> 535                            <strong class="reserved">int</strong> iArray[], <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L536" name="L536"></a> 536         <em class="comment">// Bounds check for 'b' will be performed automatically</em>
<a id="L537" name="L537"></a> 537         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + w &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y + h &gt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L539" name="L539"></a> 539                 ("Coordinate out of bounds!");
<a id="L540" name="L540"></a> 540         <em class="brace">}</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">int</strong> samples[];
<a id="L542" name="L542"></a> 542         <strong class="reserved">if</strong> (iArray != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543            samples = iArray;
<a id="L544" name="L544"></a> 544         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L545" name="L545"></a> 545            samples = <strong class="reserved">new</strong> <strong class="reserved">int</strong> [w*h];
<a id="L546" name="L546"></a> 546         <em class="brace">}</em>
<a id="L547" name="L547"></a> 547         <strong class="reserved">int</strong> lineOffset = y*scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L548" name="L548"></a> 548         <strong class="reserved">int</strong> dstOffset = 0;
<a id="L549" name="L549"></a> 549 
<a id="L550" name="L550"></a> 550         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; h; i++) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551            <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; w; j++) <em class="brace">{</em>
<a id="L552" name="L552"></a> 552               <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(lineOffset+j);
<a id="L553" name="L553"></a> 553               samples[dstOffset++] =
<a id="L554" name="L554"></a> 554                  ((<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp; bitMasks[b]) &gt;&gt;&gt; bitOffsets[b]);
<a id="L555" name="L555"></a> 555            <em class="brace">}</em>
<a id="L556" name="L556"></a> 556            lineOffset += scanlineStride;
<a id="L557" name="L557"></a> 557         <em class="brace">}</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">return</strong> samples;
<a id="L559" name="L559"></a> 559     <em class="brace">}</em>
<a id="L560" name="L560"></a> 560 
<div class="comment">
      Sets the data for a single pixel in the specified DataBuffer from a
      primitive array of type TransferType.  For a
      SinglePixelPackedSampleModel, only the first element of the array
      will hold valid data, and the type of the array must be the same as
      the storage data type of the SinglePixelPackedSampleModel.
      <p>
      The following code illustrates transferring data for one pixel from
      DataBuffer <code>db1</code>, whose storage layout is described by
      SinglePixelPackedSampleModel <code>sppsm1</code>,
      to DataBuffer <code>db2</code>, whose storage layout is described by
      SinglePixelPackedSampleModel <code>sppsm2</code>.
      The transfer will generally be more efficient than using
      getPixel/setPixel.
      </p><pre>            SinglePixelPackedSampleModel sppsm1, sppsm2;
            DataBufferInt db1, db2;
            sppsm2.setDataElements(x, y, sppsm1.getDataElements(x, y, null,
                                   db1), db2);
      </pre>
      Using getDataElements/setDataElements to transfer between two
      DataBuffer/SampleModel pairs is legitimate if the SampleModels have
      the same number of bands, corresponding bands have the same number of
      bits per sample, and the TransferTypes are the same.
      <p>
      obj must be a primitive array of type TransferType.  Otherwise,
      a ClassCastException is thrown.  An
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds, or if obj is not large enough to hold the pixel data.
      @param x         The X coordinate of the pixel location.
      @param y         The Y coordinate of the pixel location.
      @param obj       A primitive array containing pixel data.
      @param data      The DataBuffer containing the image data.
      @see #getDataElements(int, int, Object, DataBuffer)</p></div>
<a id="L596" name="L596"></a> 596     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27164.html" title="Multiple referred from 40 places.">setDataElements</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj, <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L597" name="L597"></a> 597         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L598" name="L598"></a> 598             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L599" name="L599"></a> 599                 ("Coordinate out of bounds!");
<a id="L600" name="L600"></a> 600         <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<a id="L602" name="L602"></a> 602         <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/23246.html" title="Multiple defined in 4 places.">getTransferType</a>();
<a id="L603" name="L603"></a> 603 
<a id="L604" name="L604"></a> 604         <strong class="reserved">switch</strong>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L605" name="L605"></a> 605 
<a id="L606" name="L606"></a> 606         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_BYTE:
<a id="L607" name="L607"></a> 607 
<a id="L608" name="L608"></a> 608             <strong class="reserved">byte</strong>[] barray = (<strong class="reserved">byte</strong>[])obj;
<a id="L609" name="L609"></a> 609             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(y*scanlineStride+<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, ((<strong class="reserved">int</strong>)barray[0])&amp;0xff);
<a id="L610" name="L610"></a> 610             <strong class="reserved">break</strong>;
<a id="L611" name="L611"></a> 611 
<a id="L612" name="L612"></a> 612         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_USHORT:
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614             <strong class="reserved">short</strong>[] sarray = (<strong class="reserved">short</strong>[])obj;
<a id="L615" name="L615"></a> 615             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(y*scanlineStride+<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, ((<strong class="reserved">int</strong>)sarray[0])&amp;0xffff);
<a id="L616" name="L616"></a> 616             <strong class="reserved">break</strong>;
<a id="L617" name="L617"></a> 617 
<a id="L618" name="L618"></a> 618         <strong class="reserved">case</strong> <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a>.TYPE_INT:
<a id="L619" name="L619"></a> 619 
<a id="L620" name="L620"></a> 620             <strong class="reserved">int</strong>[] iarray = (<strong class="reserved">int</strong>[])obj;
<a id="L621" name="L621"></a> 621             <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(y*scanlineStride+<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, iarray[0]);
<a id="L622" name="L622"></a> 622             <strong class="reserved">break</strong>;
<a id="L623" name="L623"></a> 623         <em class="brace">}</em>
<a id="L624" name="L624"></a> 624     <em class="brace">}</em>
<a id="L625" name="L625"></a> 625 
<div class="comment">
      Sets a pixel in the DataBuffer using an int array of samples for input.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the pixel location.
      @param y         The Y coordinate of the pixel location.
      @param iArray    The input samples in an int array.
      @param data      The DataBuffer containing the image data.
      @see #getPixel(int, int, int[], DataBuffer)</div>
<a id="L636" name="L636"></a> 636     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27929.html" title="Multiple referred from 17 places.">setPixel</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y,
<a id="L637" name="L637"></a> 637                          <strong class="reserved">int</strong> iArray[],
<a id="L638" name="L638"></a> 638                          <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L639" name="L639"></a> 639         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L640" name="L640"></a> 640             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L641" name="L641"></a> 641                 ("Coordinate out of bounds!");
<a id="L642" name="L642"></a> 642         <em class="brace">}</em>
<a id="L643" name="L643"></a> 643         <strong class="reserved">int</strong> lineOffset = y * scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L644" name="L644"></a> 644         <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(lineOffset);
<a id="L645" name="L645"></a> 645         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; numBands; i++) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp;= ~bitMasks[i];
<a id="L647" name="L647"></a> 647             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> |= ((iArray[i] &lt;&lt; bitOffsets[i]) &amp; bitMasks[i]);
<a id="L648" name="L648"></a> 648         <em class="brace">}</em>
<a id="L649" name="L649"></a> 649         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(lineOffset, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L650" name="L650"></a> 650     <em class="brace">}</em>
<a id="L651" name="L651"></a> 651 
<div class="comment">
      Sets all samples for a rectangle of pixels from an int array containing
      one sample per array element.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the upper left pixel location.
      @param y         The Y coordinate of the upper left pixel location.
      @param w         The width of the pixel rectangle.
      @param h         The height of the pixel rectangle.
      @param iArray    The input samples in an int array.
      @param data      The DataBuffer containing the image data.
      @see #getPixels(int, int, int, int, int[], DataBuffer)</div>
<a id="L665" name="L665"></a> 665     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27930.html" title="Multiple referred from 28 places.">setPixels</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h,
<a id="L666" name="L666"></a> 666                           <strong class="reserved">int</strong> iArray[], <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L667" name="L667"></a> 667         <strong class="reserved">int</strong> x1 = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + w;
<a id="L668" name="L668"></a> 668         <strong class="reserved">int</strong> y1 = y + h;
<a id="L669" name="L669"></a> 669 
<a id="L670" name="L670"></a> 670         <strong class="reserved">if</strong> (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0 || <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> || w &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> || x1 &lt; 0 || x1 &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> ||
<a id="L671" name="L671"></a> 671             y &lt; 0 || y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> || h &gt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> || y1 &lt; 0 || y1 &gt;  <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)
<a id="L672" name="L672"></a> 672         <em class="brace">{</em>
<a id="L673" name="L673"></a> 673             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L674" name="L674"></a> 674                 ("Coordinate out of bounds!");
<a id="L675" name="L675"></a> 675         <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <strong class="reserved">int</strong> lineOffset = y*scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L678" name="L678"></a> 678         <strong class="reserved">int</strong> srcOffset = 0;
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; h; i++) <em class="brace">{</em>
<a id="L681" name="L681"></a> 681            <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; w; j++) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682                <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(lineOffset+j);
<a id="L683" name="L683"></a> 683                <strong class="reserved">for</strong> (<strong class="reserved">int</strong> k=0; k &lt; numBands; k++) <em class="brace">{</em>
<a id="L684" name="L684"></a> 684                    <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp;= ~bitMasks[k];
<a id="L685" name="L685"></a> 685                    <strong class="reserved">int</strong> srcValue = iArray[srcOffset++];
<a id="L686" name="L686"></a> 686                    <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> |= ((srcValue &lt;&lt; bitOffsets[k])
<a id="L687" name="L687"></a> 687                              &amp; bitMasks[k]);
<a id="L688" name="L688"></a> 688                <em class="brace">}</em>
<a id="L689" name="L689"></a> 689                <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(lineOffset+j, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L690" name="L690"></a> 690            <em class="brace">}</em>
<a id="L691" name="L691"></a> 691            lineOffset += scanlineStride;
<a id="L692" name="L692"></a> 692         <em class="brace">}</em>
<a id="L693" name="L693"></a> 693     <em class="brace">}</em>
<a id="L694" name="L694"></a> 694 
<div class="comment">
      Sets a sample in the specified band for the pixel located at (x,y)
      in the DataBuffer using an int for input.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the pixel location.
      @param y         The Y coordinate of the pixel location.
      @param b         The band to set.
      @param s         The input sample as an int.
      @param data      The DataBuffer containing the image data.
      @see #getSample(int, int, int, DataBuffer)</div>
<a id="L707" name="L707"></a> 707     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28092.html" title="Multiple referred from 17 places.">setSample</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> b, <strong class="reserved">int</strong> s,
<a id="L708" name="L708"></a> 708                           <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709         <em class="comment">// Bounds check for 'b' will be performed automatically</em>
<a id="L710" name="L710"></a> 710         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;= <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y &gt;= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L711" name="L711"></a> 711             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L712" name="L712"></a> 712                 ("Coordinate out of bounds!");
<a id="L713" name="L713"></a> 713         <em class="brace">}</em>
<a id="L714" name="L714"></a> 714         <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(y*scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>);
<a id="L715" name="L715"></a> 715         <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp;= ~bitMasks[b];
<a id="L716" name="L716"></a> 716         <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> |= (s &lt;&lt; bitOffsets[b]) &amp; bitMasks[b];
<a id="L717" name="L717"></a> 717         <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(y*scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>,<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L718" name="L718"></a> 718     <em class="brace">}</em>
<a id="L719" name="L719"></a> 719 
<div class="comment">
      Sets the samples in the specified band for the specified rectangle
      of pixels from an int array containing one sample per array element.
      ArrayIndexOutOfBoundsException may be thrown if the coordinates are
      not in bounds.
      @param x         The X coordinate of the upper left pixel location.
      @param y         The Y coordinate of the upper left pixel location.
      @param w         The width of the pixel rectangle.
      @param h         The height of the pixel rectangle.
      @param b         The band to set.
      @param iArray    The input samples in an int array.
      @param data      The DataBuffer containing the image data.
      @see #getSamples(int, int, int, int, int, int[], DataBuffer)</div>
<a id="L734" name="L734"></a> 734     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28093.html" title="Multiple referred from 5 places.">setSamples</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> h, <strong class="reserved">int</strong> b,
<a id="L735" name="L735"></a> 735                           <strong class="reserved">int</strong> iArray[], <a href="../S/2284.html#L70" title="Defined at 70 in src/java/awt/image/DataBuffer.java.">DataBuffer</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736         <em class="comment">// Bounds check for 'b' will be performed automatically</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">if</strong> ((<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &lt; 0) || (y &lt; 0) || (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> + w &gt; <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>) || (y + h &gt; <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>)) <em class="brace">{</em>
<a id="L738" name="L738"></a> 738             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1761.html#L37" title="Defined at 37 in src/java/lang/ArrayIndexOutOfBoundsException.java.">ArrayIndexOutOfBoundsException</a>
<a id="L739" name="L739"></a> 739                 ("Coordinate out of bounds!");
<a id="L740" name="L740"></a> 740         <em class="brace">}</em>
<a id="L741" name="L741"></a> 741         <strong class="reserved">int</strong> lineOffset = y*scanlineStride + <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L742" name="L742"></a> 742         <strong class="reserved">int</strong> srcOffset = 0;
<a id="L743" name="L743"></a> 743 
<a id="L744" name="L744"></a> 744         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; h; i++) <em class="brace">{</em>
<a id="L745" name="L745"></a> 745            <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; w; j++) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746               <strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/18660.html" title="Multiple defined in 14 places.">getElem</a>(lineOffset+j);
<a id="L747" name="L747"></a> 747               <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> &amp;= ~bitMasks[b];
<a id="L748" name="L748"></a> 748               <strong class="reserved">int</strong> <a href="../S/7544.html#L89" title="Defined at 89 in src/com/sun/corba/se/spi/monitoring/StatisticsAccumulator.java.">sample</a> = iArray[srcOffset++];
<a id="L749" name="L749"></a> 749               <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> |= ((<strong class="reserved">int</strong>)<a href="../S/7544.html#L89" title="Defined at 89 in src/com/sun/corba/se/spi/monitoring/StatisticsAccumulator.java.">sample</a> &lt;&lt; bitOffsets[b]) &amp; bitMasks[b];
<a id="L750" name="L750"></a> 750               <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/32549.html" title="Multiple defined in 14 places.">setElem</a>(lineOffset+j,<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L751" name="L751"></a> 751            <em class="brace">}</em>
<a id="L752" name="L752"></a> 752            lineOffset += scanlineStride;
<a id="L753" name="L753"></a> 753         <em class="brace">}</em>
<a id="L754" name="L754"></a> 754     <em class="brace">}</em>
<a id="L755" name="L755"></a> 755 
<a id="L756" name="L756"></a> 756     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L757" name="L757"></a> 757         <strong class="reserved">if</strong> ((<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>) || !(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../S/2273.html#L66" title="Defined at 66 in src/java/awt/image/SinglePixelPackedSampleModel.java.">SinglePixelPackedSampleModel</a>)) <em class="brace">{</em>
<a id="L758" name="L758"></a> 758             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L759" name="L759"></a> 759         <em class="brace">}</em>
<a id="L760" name="L760"></a> 760 
<a id="L761" name="L761"></a> 761         <a href="../S/2273.html#L66" title="Defined at 66 in src/java/awt/image/SinglePixelPackedSampleModel.java.">SinglePixelPackedSampleModel</a> that = (<a href="../S/2273.html#L66" title="Defined at 66 in src/java/awt/image/SinglePixelPackedSampleModel.java.">SinglePixelPackedSampleModel</a>)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L762" name="L762"></a> 762         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> == that.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &amp;&amp;
<a id="L763" name="L763"></a> 763             <strong class="reserved">this</strong>.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> == that.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> &amp;&amp;
<a id="L764" name="L764"></a> 764             <strong class="reserved">this</strong>.numBands == that.numBands &amp;&amp;
<a id="L765" name="L765"></a> 765             <strong class="reserved">this</strong>.dataType == that.dataType &amp;&amp;
<a id="L766" name="L766"></a> 766             <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<strong class="reserved">this</strong>.bitMasks, that.bitMasks) &amp;&amp;
<a id="L767" name="L767"></a> 767             <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<strong class="reserved">this</strong>.bitOffsets, that.bitOffsets) &amp;&amp;
<a id="L768" name="L768"></a> 768             <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<strong class="reserved">this</strong>.bitSizes, that.bitSizes) &amp;&amp;
<a id="L769" name="L769"></a> 769             <strong class="reserved">this</strong>.maxBitSize == that.maxBitSize &amp;&amp;
<a id="L770" name="L770"></a> 770             <strong class="reserved">this</strong>.scanlineStride == that.scanlineStride;
<a id="L771" name="L771"></a> 771     <em class="brace">}</em>
<a id="L772" name="L772"></a> 772 
<a id="L773" name="L773"></a> 773     <em class="comment">// If we implement equals() we must also implement hashCode</em>
<a id="L774" name="L774"></a> 774     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L775" name="L775"></a> 775         <strong class="reserved">int</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = 0;
<a id="L776" name="L776"></a> 776         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> = <a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L777" name="L777"></a> 777         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L778" name="L778"></a> 778         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= <a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L779" name="L779"></a> 779         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L780" name="L780"></a> 780         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= numBands;
<a id="L781" name="L781"></a> 781         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L782" name="L782"></a> 782         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= dataType;
<a id="L783" name="L783"></a> 783         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L784" name="L784"></a> 784         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; bitMasks.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L785" name="L785"></a> 785             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= bitMasks[i];
<a id="L786" name="L786"></a> 786             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L787" name="L787"></a> 787         <em class="brace">}</em>
<a id="L788" name="L788"></a> 788         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; bitOffsets.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L789" name="L789"></a> 789             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= bitOffsets[i];
<a id="L790" name="L790"></a> 790             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L791" name="L791"></a> 791         <em class="brace">}</em>
<a id="L792" name="L792"></a> 792         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; bitSizes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L793" name="L793"></a> 793             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= bitSizes[i];
<a id="L794" name="L794"></a> 794             <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L795" name="L795"></a> 795         <em class="brace">}</em>
<a id="L796" name="L796"></a> 796         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= maxBitSize;
<a id="L797" name="L797"></a> 797         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> &lt;&lt;= 8;
<a id="L798" name="L798"></a> 798         <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a> ^= scanlineStride;
<a id="L799" name="L799"></a> 799         <strong class="reserved">return</strong> <a href="../D/24219.html" title="Multiple defined in 17 places.">hash</a>;
<a id="L800" name="L800"></a> 800     <em class="brace">}</em>
<a id="L801" name="L801"></a> 801 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L85">[^]</a><a href="#L774">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>