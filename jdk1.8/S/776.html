<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/HttpCookie.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L177">[^]</a><a href="#L1127">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L177" title="Defined at 177.">parse</a></li>
<li><a href="#L185" title="Defined at 185.">parse</a></li>
<li><a href="#L228" title="Defined at 228.">hasExpired</a></li>
<li><a href="#L253" title="Defined at 253.">setComment</a></li>
<li><a href="#L265" title="Defined at 265.">getComment</a></li>
<li><a href="#L279" title="Defined at 279.">setCommentURL</a></li>
<li><a href="#L292" title="Defined at 292.">getCommentURL</a></li>
<li><a href="#L305" title="Defined at 305.">setDiscard</a></li>
<li><a href="#L316" title="Defined at 316.">getDiscard</a></li>
<li><a href="#L330" title="Defined at 330.">setPortlist</a></li>
<li><a href="#L341" title="Defined at 341.">getPortlist</a></li>
<li><a href="#L361" title="Defined at 361.">setDomain</a></li>
<li><a href="#L376" title="Defined at 376.">getDomain</a></li>
<li><a href="#L399" title="Defined at 399.">setMaxAge</a></li>
<li><a href="#L411" title="Defined at 411.">getMaxAge</a></li>
<li><a href="#L433" title="Defined at 433.">setPath</a></li>
<li><a href="#L446" title="Defined at 446.">getPath</a></li>
<li><a href="#L463" title="Defined at 463.">setSecure</a></li>
<li><a href="#L477" title="Defined at 477.">getSecure</a></li>
<li><a href="#L487" title="Defined at 487.">getName</a></li>
<li><a href="#L505" title="Defined at 505.">setValue</a></li>
<li><a href="#L516" title="Defined at 516.">getValue</a></li>
<li><a href="#L531" title="Defined at 531.">getVersion</a></li>
<li><a href="#L549" title="Defined at 549.">setVersion</a></li>
<li><a href="#L566" title="Defined at 566.">isHttpOnly</a></li>
<li><a href="#L581" title="Defined at 581.">setHttpOnly</a></li>
<li><a href="#L635" title="Defined at 635.">domainMatches</a></li>
<li><a href="#L688" title="Defined at 688.">toString</a></li>
<li><a href="#L707" title="Defined at 707.">equals</a></li>
<li><a href="#L736" title="Defined at 736.">hashCode</a></li>
<li><a href="#L750" title="Defined at 750.">clone</a></li>
<li><a href="#L775" title="Defined at 775.">isToken</a></li>
<li><a href="#L798" title="Defined at 798.">parseInternal</a></li>
<li><a href="#L854" title="Defined at 854.">assign</a></li>
<li><a href="#L958" title="Defined at 958.">assignAttribute</a></li>
<li><a href="#L991" title="Defined at 991.">header</a></li>
<li><a href="#L999" title="Defined at 999.">toNetscapeHeaderString</a></li>
<li><a href="#L1007" title="Defined at 1007.">toRFC2965HeaderString</a></li>
<li><a href="#L1030" title="Defined at 1030.">expiryDate2DeltaSeconds</a></li>
<li><a href="#L1064" title="Defined at 1064.">guessCookieVersion</a></li>
<li><a href="#L1085" title="Defined at 1085.">stripOffSurroundingQuote</a></li>
<li><a href="#L1097" title="Defined at 1097.">equalsIgnoreCase</a></li>
<li><a href="#L1105" title="Defined at 1105.">startsWithIgnoreCase</a></li>
<li><a href="#L1127" title="Defined at 1127.">splitMultiCookies</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2005, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.List;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.StringTokenizer;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.NoSuchElementException;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.text.SimpleDateFormat;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.TimeZone;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Calendar;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.GregorianCalendar;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.Date;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.Locale;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.Objects;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  An HttpCookie object represents an HTTP cookie, which carries state
  information between server and user agent. Cookie is widely adopted
  to create stateful sessions.
  <p> There are 3 HTTP cookie specifications:
  </p><blockquote>
    Netscape draft<br>
    RFC 2109 - <a href="http://www.ietf.org/rfc/rfc2109.txt">
  <i>http://www.ietf.org/rfc/rfc2109.txt</i></a><br>
    RFC 2965 - <a href="http://www.ietf.org/rfc/rfc2965.txt">
  <i>http://www.ietf.org/rfc/rfc2965.txt</i></a>
  </blockquote>
  <p> HttpCookie class can accept all these 3 forms of syntax.
  @author Edward Wang
  @since 1.6</p></div>
<a id="L58" name="L58"></a>  58 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/3458.html" title="Multiple referred from 77 places.">HttpCookie</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L59" name="L59"></a>  59     <em class="comment">// ---------------- Fields --------------</em>
<a id="L60" name="L60"></a>  60 
<a id="L61" name="L61"></a>  61     <em class="comment">// The value of the cookie itself.</em>
<a id="L62" name="L62"></a>  62     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;  <em class="comment">// NAME= ... "$Name" style is reserved</em>
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;       <em class="comment">// value of NAME</em>
<a id="L64" name="L64"></a>  64 
<a id="L65" name="L65"></a>  65     <em class="comment">// Attributes encoded in the header's cookie fields.</em>
<a id="L66" name="L66"></a>  66     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>;     <em class="comment">// Comment=VALUE ... describes cookie's use</em>
<a id="L67" name="L67"></a>  67     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> commentURL;  <em class="comment">// CommentURL="http URL" ... describes cookie's use</em>
<a id="L68" name="L68"></a>  68     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> toDiscard;  <em class="comment">// Discard ... discard cookie unconditionally</em>
<a id="L69" name="L69"></a>  69     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>;      <em class="comment">// Domain=VALUE ... domain that sees cookie</em>
<a id="L70" name="L70"></a>  70     <strong class="reserved">private</strong> <strong class="reserved">long</strong> maxAge = MAX_AGE_UNSPECIFIED;  <em class="comment">// Max-Age=VALUE ... cookies auto-expire</em>
<a id="L71" name="L71"></a>  71     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path;        <em class="comment">// Path=VALUE ... URLs that see the cookie</em>
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> portlist;    <em class="comment">// Port[="portlist"] ... the port cookie may be returned to</em>
<a id="L73" name="L73"></a>  73     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> secure;     <em class="comment">// Secure ... e.g. use SSL</em>
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> httpOnly;   <em class="comment">// HttpOnly ... i.e. not accessible to scripts</em>
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = 1;    <em class="comment">// Version=1 ... RFC 2965 style</em>
<a id="L76" name="L76"></a>  76 
<a id="L77" name="L77"></a>  77     <em class="comment">// The original header this cookie was consructed from, if it was</em>
<a id="L78" name="L78"></a>  78     <em class="comment">// constructed by parsing a header, otherwise null.</em>
<a id="L79" name="L79"></a>  79     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>;
<a id="L80" name="L80"></a>  80 
<a id="L81" name="L81"></a>  81     <em class="comment">// Hold the creation time (in seconds) of the http cookie for later</em>
<a id="L82" name="L82"></a>  82     <em class="comment">// expiration calculation</em>
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> whenCreated;
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85     <em class="comment">// Since the positive and zero max-age have their meanings,</em>
<a id="L86" name="L86"></a>  86     <em class="comment">// this value serves as a hint as 'not specify max-age'</em>
<a id="L87" name="L87"></a>  87     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> MAX_AGE_UNSPECIFIED = -1;
<a id="L88" name="L88"></a>  88 
<a id="L89" name="L89"></a>  89     <em class="comment">// date formats used by Netscape's cookie draft</em>
<a id="L90" name="L90"></a>  90     <em class="comment">// as well as formats seen on various sites</em>
<a id="L91" name="L91"></a>  91     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] COOKIE_DATE_FORMATS = <em class="brace">{</em>
<a id="L92" name="L92"></a>  92         "EEE',' dd-MMM-yyyy HH:mm:ss 'GMT'",
<a id="L93" name="L93"></a>  93         "EEE',' dd MMM yyyy HH:mm:ss 'GMT'",
<a id="L94" name="L94"></a>  94         "EEE MMM dd yyyy HH:mm:ss 'GMT'Z",
<a id="L95" name="L95"></a>  95         "EEE',' dd-MMM-yy HH:mm:ss 'GMT'",
<a id="L96" name="L96"></a>  96         "EEE',' dd MMM yy HH:mm:ss 'GMT'",
<a id="L97" name="L97"></a>  97         "EEE MMM dd yy HH:mm:ss 'GMT'Z"
<a id="L98" name="L98"></a>  98     <em class="brace">}</em>;
<a id="L99" name="L99"></a>  99 
<a id="L100" name="L100"></a> 100     <em class="comment">// constant strings represent set-cookie header token</em>
<a id="L101" name="L101"></a> 101     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SET_COOKIE = "set-cookie:";
<a id="L102" name="L102"></a> 102     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> SET_COOKIE2 = "set-cookie2:";
<a id="L103" name="L103"></a> 103 
<a id="L104" name="L104"></a> 104     <em class="comment">// ---------------- Ctors --------------</em>
<a id="L105" name="L105"></a> 105 
<div class="comment">
      Constructs a cookie with a specified name and value.
      <p> The name must conform to RFC 2965. That means it can contain
      only ASCII alphanumeric characters and cannot contain commas,
      semicolons, or white space or begin with a $ character. The cookie's
      name cannot be changed after creation.
      </p><p> The value can be anything the server chooses to send. Its
      value is probably of interest only to the server. The cookie's
      value can be changed after creation with the
      <code>setValue</code> method.
      </p><p> By default, cookies are created according to the RFC 2965
      cookie specification. The version can be changed with the
      <code>setVersion</code> method.
      @param  name
              a <code>String</code> specifying the name of the cookie
      @param  value
              a <code>String</code> specifying the value of the cookie
      @throws  IllegalArgumentException
               if the cookie name contains illegal characters
      @throws  NullPointerException
               if <code>name</code> is <code>null</code>
      @see #setValue
      @see #setVersion</p></div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">public</strong> HttpCookie(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L139" name="L139"></a> 139         <strong class="reserved">this</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <div class="comment">
/*header*/</div>);
<a id="L140" name="L140"></a> 140     <em class="brace">}</em>
<a id="L141" name="L141"></a> 141 
<a id="L142" name="L142"></a> 142     <strong class="reserved">private</strong> HttpCookie(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>) <em class="brace">{</em>
<a id="L143" name="L143"></a> 143         <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L144" name="L144"></a> 144         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0 || !<a href="../S/776.html#L775" title="Defined at 775 in src/java/net/HttpCookie.java.">isToken</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) || <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '$') <em class="brace">{</em>
<a id="L145" name="L145"></a> 145             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Illegal cookie name");
<a id="L146" name="L146"></a> 146         <em class="brace">}</em>
<a id="L147" name="L147"></a> 147 
<a id="L148" name="L148"></a> 148         <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L149" name="L149"></a> 149         <strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L150" name="L150"></a> 150         toDiscard = <strong class="reserved">false</strong>;
<a id="L151" name="L151"></a> 151         secure = <strong class="reserved">false</strong>;
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153         whenCreated = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L154" name="L154"></a> 154         portlist = <strong class="reserved">null</strong>;
<a id="L155" name="L155"></a> 155         <strong class="reserved">this</strong>.<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> = <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>;
<a id="L156" name="L156"></a> 156     <em class="brace">}</em>
<a id="L157" name="L157"></a> 157 
<div class="comment">
      Constructs cookies from set-cookie or set-cookie2 header string.
      RFC 2965 section 3.2.2 set-cookie2 syntax indicates that one header line
      may contain more than one cookie definitions, so this is a static
      utility method instead of another constructor.
      @param  header
              a <code>String</code> specifying the set-cookie header. The header
              should start with "set-cookie", or "set-cookie2" token; or it
              should have no leading token at all.
      @return  a List of cookie parsed from header line string
      @throws  IllegalArgumentException
               if header string violates the cookie specification's syntax or
               the cookie name contains illegal characters.
      @throws  NullPointerException
               if the header string is <code>null</code></div>
<a id="L177" name="L177"></a> 177     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>&gt; <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178         <strong class="reserved">return</strong> <a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, <strong class="reserved">false</strong>);
<a id="L179" name="L179"></a> 179     <em class="brace">}</em>
<a id="L180" name="L180"></a> 180 
<a id="L181" name="L181"></a> 181     <em class="comment">// Private version of parse() that will store the original header used to</em>
<a id="L182" name="L182"></a> 182     <em class="comment">// create the cookie, in the cookie itself. This can be useful for filtering</em>
<a id="L183" name="L183"></a> 183     <em class="comment">// Set-Cookie[2] headers, using the internal parsing logic defined in this</em>
<a id="L184" name="L184"></a> 184     <em class="comment">// class.</em>
<a id="L185" name="L185"></a> 185     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>&gt; <a href="../R/24493.html" title="Multiple referred from 256 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, <strong class="reserved">boolean</strong> retainHeader) <em class="brace">{</em>
<a id="L186" name="L186"></a> 186 
<a id="L187" name="L187"></a> 187         <strong class="reserved">int</strong> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = <a href="../S/776.html#L1064" title="Defined at 1064 in src/java/net/HttpCookie.java.">guessCookieVersion</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>);
<a id="L188" name="L188"></a> 188 
<a id="L189" name="L189"></a> 189         <em class="comment">// if header start with set-cookie or set-cookie2, strip it off</em>
<a id="L190" name="L190"></a> 190         <strong class="reserved">if</strong> (<a href="../S/776.html#L1105" title="Defined at 1105 in src/java/net/HttpCookie.java.">startsWithIgnoreCase</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, SET_COOKIE2)) <em class="brace">{</em>
<a id="L191" name="L191"></a> 191             <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> = <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(SET_COOKIE2.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L192" name="L192"></a> 192         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/776.html#L1105" title="Defined at 1105 in src/java/net/HttpCookie.java.">startsWithIgnoreCase</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, SET_COOKIE)) <em class="brace">{</em>
<a id="L193" name="L193"></a> 193             <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> = <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(SET_COOKIE.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L194" name="L194"></a> 194         <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<a id="L196" name="L196"></a> 196         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>&gt; cookies = <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L197" name="L197"></a> 197         <em class="comment">// The Netscape cookie may have a comma in its expires attribute, while</em>
<a id="L198" name="L198"></a> 198         <em class="comment">// the comma is the delimiter in rfc 2965/2109 cookie header string.</em>
<a id="L199" name="L199"></a> 199         <em class="comment">// so the parse logic is slightly different</em>
<a id="L200" name="L200"></a> 200         <strong class="reserved">if</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> == 0) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201             <em class="comment">// Netscape draft cookie</em>
<a id="L202" name="L202"></a> 202             <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie = <a href="../S/776.html#L798" title="Defined at 798 in src/java/net/HttpCookie.java.">parseInternal</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, retainHeader);
<a id="L203" name="L203"></a> 203             cookie.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>(0);
<a id="L204" name="L204"></a> 204             cookies.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(cookie);
<a id="L205" name="L205"></a> 205         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L206" name="L206"></a> 206             <em class="comment">// rfc2965/2109 cookie</em>
<a id="L207" name="L207"></a> 207             <em class="comment">// if header string contains more than one cookie,</em>
<a id="L208" name="L208"></a> 208             <em class="comment">// it'll separate them with comma</em>
<a id="L209" name="L209"></a> 209             <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; cookieStrings = <a href="../S/776.html#L1127" title="Defined at 1127 in src/java/net/HttpCookie.java.">splitMultiCookies</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>);
<a id="L210" name="L210"></a> 210             <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> cookieStr : cookieStrings) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211                 <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie = <a href="../S/776.html#L798" title="Defined at 798 in src/java/net/HttpCookie.java.">parseInternal</a>(cookieStr, retainHeader);
<a id="L212" name="L212"></a> 212                 cookie.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>(1);
<a id="L213" name="L213"></a> 213                 cookies.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(cookie);
<a id="L214" name="L214"></a> 214             <em class="brace">}</em>
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216 
<a id="L217" name="L217"></a> 217         <strong class="reserved">return</strong> cookies;
<a id="L218" name="L218"></a> 218     <em class="brace">}</em>
<a id="L219" name="L219"></a> 219 
<a id="L220" name="L220"></a> 220     <em class="comment">// ---------------- Public operations --------------</em>
<a id="L221" name="L221"></a> 221 
<div class="comment">
      Reports whether this HTTP cookie has expired or not.
      @return  <code>true</code> to indicate this HTTP cookie has expired;
               otherwise, <code>false</code></div>
<a id="L228" name="L228"></a> 228     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20196.html" title="Multiple referred from 3 places.">hasExpired</a>() <em class="brace">{</em>
<a id="L229" name="L229"></a> 229         <strong class="reserved">if</strong> (maxAge == 0) <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231         <em class="comment">// if not specify max-age, this cookie should be</em>
<a id="L232" name="L232"></a> 232         <em class="comment">// discarded when user agent is to be closed, but</em>
<a id="L233" name="L233"></a> 233         <em class="comment">// it is not expired.</em>
<a id="L234" name="L234"></a> 234         <strong class="reserved">if</strong> (maxAge == MAX_AGE_UNSPECIFIED) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236         <strong class="reserved">long</strong> deltaSecond = (<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() - whenCreated) / 1000;
<a id="L237" name="L237"></a> 237         <strong class="reserved">if</strong> (deltaSecond &gt; maxAge)
<a id="L238" name="L238"></a> 238             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L239" name="L239"></a> 239         <strong class="reserved">else</strong>
<a id="L240" name="L240"></a> 240             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L241" name="L241"></a> 241     <em class="brace">}</em>
<a id="L242" name="L242"></a> 242 
<div class="comment">
      Specifies a comment that describes a cookie's purpose.
      The comment is useful if the browser presents the cookie
      to the user. Comments are not supported by Netscape Version 0 cookies.
      @param  purpose
              a <code>String</code> specifying the comment to display to the user
      @see  #getComment</div>
<a id="L253" name="L253"></a> 253     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/776.html#L866" title="Referred from 866 in src/java/net/HttpCookie.java.">setComment</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> purpose) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254         <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a> = purpose;
<a id="L255" name="L255"></a> 255     <em class="brace">}</em>
<a id="L256" name="L256"></a> 256 
<div class="comment">
      Returns the comment describing the purpose of this cookie, or
      <code>null</code> if the cookie has no comment.
      @return  a <code>String</code> containing the comment, or <code>null</code> if none
      @see  #setComment</div>
<a id="L265" name="L265"></a> 265     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15691.html" title="Multiple referred from 5 places.">getComment</a>() <em class="brace">{</em>
<a id="L266" name="L266"></a> 266         <strong class="reserved">return</strong> <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>;
<a id="L267" name="L267"></a> 267     <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<div class="comment">
      Specifies a comment URL that describes a cookie's purpose.
      The comment URL is useful if the browser presents the cookie
      to the user. Comment URL is RFC 2965 only.
      @param  purpose
              a <code>String</code> specifying the comment URL to display to the user
      @see  #getCommentURL</div>
<a id="L279" name="L279"></a> 279     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/776.html#L874" title="Referred from 874 in src/java/net/HttpCookie.java.">setCommentURL</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> purpose) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280         commentURL = purpose;
<a id="L281" name="L281"></a> 281     <em class="brace">}</em>
<a id="L282" name="L282"></a> 282 
<div class="comment">
      Returns the comment URL describing the purpose of this cookie, or
      <code>null</code> if the cookie has no comment URL.
      @return  a <code>String</code> containing the comment URL, or <code>null</code>
               if none
      @see  #setCommentURL</div>
<a id="L292" name="L292"></a> 292     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L873" title="Referred from 873 in src/java/net/HttpCookie.java.">getCommentURL</a>() <em class="brace">{</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">return</strong> commentURL;
<a id="L294" name="L294"></a> 294     <em class="brace">}</em>
<a id="L295" name="L295"></a> 295 
<div class="comment">
      Specify whether user agent should discard the cookie unconditionally.
      This is RFC 2965 only attribute.
      @param  discard
              <code>true</code> indicates to discard cookie unconditionally
      @see  #getDiscard</div>
<a id="L305" name="L305"></a> 305     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/776.html#L881" title="Referred from 881 in src/java/net/HttpCookie.java.">setDiscard</a>(<strong class="reserved">boolean</strong> discard) <em class="brace">{</em>
<a id="L306" name="L306"></a> 306         toDiscard = discard;
<a id="L307" name="L307"></a> 307     <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
      Returns the discard attribute of the cookie
      @return  a <code>boolean</code> to represent this cookie's discard attribute
      @see  #setDiscard</div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getDiscard() <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         <strong class="reserved">return</strong> toDiscard;
<a id="L318" name="L318"></a> 318     <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<div class="comment">
      Specify the portlist of the cookie, which restricts the port(s)
      to which a cookie may be sent back in a Cookie header.
      @param  ports
              a <code>String</code> specify the port list, which is comma separated
              series of digits
      @see  #getPortlist</div>
<a id="L330" name="L330"></a> 330     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27940.html" title="Multiple referred from 2 places.">setPortlist</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ports) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331         portlist = ports;
<a id="L332" name="L332"></a> 332     <em class="brace">}</em>
<a id="L333" name="L333"></a> 333 
<div class="comment">
      Returns the port list attribute of the cookie
      @return  a <code>String</code> contains the port list or <code>null</code> if none
      @see  #setPortlist</div>
<a id="L341" name="L341"></a> 341     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18375.html" title="Multiple referred from 5 places.">getPortlist</a>() <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">return</strong> portlist;
<a id="L343" name="L343"></a> 343     <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<div class="comment">
      Specifies the domain within which this cookie should be presented.
      <p> The form of the domain name is specified by RFC 2965. A domain
      name begins with a dot (<code>.foo.com</code>) and means that
      the cookie is visible to servers in a specified Domain Name System
      (DNS) zone (for example, <code>www.foo.com</code>, but not
      <code>a.b.foo.com</code>). By default, cookies are only returned
      to the server that sent them.
      @param  pattern
              a <code>String</code> containing the domain name within which this
              cookie is visible; form is according to RFC 2965
      @see  #getDomain</p></div>
<a id="L361" name="L361"></a> 361     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27275.html" title="Multiple referred from 2 places.">setDomain</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362         <strong class="reserved">if</strong> (<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a> != <strong class="reserved">null</strong>)
<a id="L363" name="L363"></a> 363             <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a> = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L364" name="L364"></a> 364         <strong class="reserved">else</strong>
<a id="L365" name="L365"></a> 365             <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a> = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>;
<a id="L366" name="L366"></a> 366     <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<div class="comment">
      Returns the domain name set for this cookie. The form of the domain name
      is set by RFC 2965.
      @return  a <code>String</code> containing the domain name
      @see  #setDomain</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16235.html" title="Multiple referred from 22 places.">getDomain</a>() <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">return</strong> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>;
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<div class="comment">
      Sets the maximum age of the cookie in seconds.
      <p> A positive value indicates that the cookie will expire
      after that many seconds have passed. Note that the value is
      the <i>maximum</i> age when the cookie will expire, not the cookie's
      current age.
      </p><p> A negative value means that the cookie is not stored persistently
      and will be deleted when the Web browser exits. A zero value causes the
      cookie to be deleted.
      @param  expiry
              an integer specifying the maximum age of the cookie in seconds;
              if zero, the cookie should be discarded immediately; otherwise,
              the cookie's max age is unspecified.
      @see  #getMaxAge</p></div>
<a id="L399" name="L399"></a> 399     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27721.html" title="Multiple referred from 2 places.">setMaxAge</a>(<strong class="reserved">long</strong> expiry) <em class="brace">{</em>
<a id="L400" name="L400"></a> 400         maxAge = expiry;
<a id="L401" name="L401"></a> 401     <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<div class="comment">
      Returns the maximum age of the cookie, specified in seconds. By default,
      <code>-1</code> indicating the cookie will persist until browser shutdown.
      @return  an integer specifying the maximum age of the cookie in seconds
      @see  #setMaxAge</div>
<a id="L411" name="L411"></a> 411     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/17575.html" title="Multiple referred from 3 places.">getMaxAge</a>() <em class="brace">{</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">return</strong> maxAge;
<a id="L413" name="L413"></a> 413     <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<div class="comment">
      Specifies a path for the cookie to which the client should return
      the cookie.
      <p> The cookie is visible to all the pages in the directory
      you specify, and all the pages in that directory's subdirectories.
      A cookie's path must include the servlet that set the cookie,
      for example, <i>/catalog</i>, which makes the cookie
      visible to all directories on the server under <i>/catalog</i>.
      </p><p> Consult RFC 2965 (available on the Internet) for more
      information on setting path names for cookies.
      @param  uri
              a <code>String</code> specifying a path
      @see  #getPath</p></div>
<a id="L433" name="L433"></a> 433     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27921.html" title="Multiple referred from 8 places.">setPath</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434         path = uri;
<a id="L435" name="L435"></a> 435     <em class="brace">}</em>
<a id="L436" name="L436"></a> 436 
<div class="comment">
      Returns the path on the server to which the browser returns this cookie.
      The cookie is visible to all subpaths on the server.
      @return  a <code>String</code> specifying a path that contains a servlet name,
               for example, <i>/catalog</i>
      @see  #setPath</div>
<a id="L446" name="L446"></a> 446     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18300.html" title="Multiple referred from 125 places.">getPath</a>() <em class="brace">{</em>
<a id="L447" name="L447"></a> 447         <strong class="reserved">return</strong> path;
<a id="L448" name="L448"></a> 448     <em class="brace">}</em>
<a id="L449" name="L449"></a> 449 
<div class="comment">
      Indicates whether the cookie should only be sent using a secure protocol,
      such as HTTPS or SSL.
      <p> The default value is <code>false</code>.
      @param  flag
              If <code>true</code>, the cookie can only be sent over a secure
              protocol like HTTPS. If <code>false</code>, it can be sent over
              any protocol.
      @see  #getSecure</p></div>
<a id="L463" name="L463"></a> 463     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/776.html#L926" title="Referred from 926 in src/java/net/HttpCookie.java.">setSecure</a>(<strong class="reserved">boolean</strong> flag) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464         secure = flag;
<a id="L465" name="L465"></a> 465     <em class="brace">}</em>
<a id="L466" name="L466"></a> 466 
<div class="comment">
      Returns <code>true</code> if sending this cookie should be restricted to a
      secure protocol, or <code>false</code> if the it can be sent using any
      protocol.
      @return  <code>false</code> if the cookie can be sent over any standard
               protocol; otherwise, <code>true</code>
      @see  #setSecure</div>
<a id="L477" name="L477"></a> 477     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/18896.html" title="Multiple referred from 3 places.">getSecure</a>() <em class="brace">{</em>
<a id="L478" name="L478"></a> 478         <strong class="reserved">return</strong> secure;
<a id="L479" name="L479"></a> 479     <em class="brace">}</em>
<a id="L480" name="L480"></a> 480 
<div class="comment">
      Returns the name of the cookie. The name cannot be changed after
      creation.
      @return  a <code>String</code> specifying the cookie's name</div>
<a id="L487" name="L487"></a> 487     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L489" name="L489"></a> 489     <em class="brace">}</em>
<a id="L490" name="L490"></a> 490 
<div class="comment">
      Assigns a new value to a cookie after the cookie is created.
      If you use a binary value, you may want to use BASE64 encoding.
      <p> With Version 0 cookies, values should not contain white space,
      brackets, parentheses, equals signs, commas, double quotes, slashes,
      question marks, at signs, colons, and semicolons. Empty values may not
      behave the same way on all browsers.
      @param  newValue
              a <code>String</code> specifying the new value
      @see  #getValue</p></div>
<a id="L505" name="L505"></a> 505     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28371.html" title="Multiple referred from 200 places.">setValue</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> newValue) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506         <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = newValue;
<a id="L507" name="L507"></a> 507     <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<div class="comment">
      Returns the value of the cookie.
      @return  a <code>String</code> containing the cookie's present value
      @see  #setValue</div>
<a id="L516" name="L516"></a> 516     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19753.html" title="Multiple referred from 961 places.">getValue</a>() <em class="brace">{</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">return</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L518" name="L518"></a> 518     <em class="brace">}</em>
<a id="L519" name="L519"></a> 519 
<div class="comment">
      Returns the version of the protocol this cookie complies with. Version 1
      complies with RFC 2965/2109, and version 0 complies with the original
      cookie specification drafted by Netscape. Cookies provided by a browser
      use and identify the browser's cookie version.
      @return  0 if the cookie complies with the original Netscape
               specification; 1 if the cookie complies with RFC 2965/2109
      @see  #setVersion</div>
<a id="L531" name="L531"></a> 531     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19788.html" title="Multiple referred from 46 places.">getVersion</a>() <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <strong class="reserved">return</strong> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>;
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<div class="comment">
      Sets the version of the cookie protocol this cookie complies
      with. Version 0 complies with the original Netscape cookie
      specification. Version 1 complies with RFC 2965/2109.
      @param  v
              0 if the cookie should comply with the original Netscape
              specification; 1 if the cookie should comply with RFC 2965/2109
      @throws  IllegalArgumentException
               if <code>v</code> is neither 0 nor 1
      @see  #getVersion</div>
<a id="L549" name="L549"></a> 549     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28387.html" title="Multiple referred from 18 places.">setVersion</a>(<strong class="reserved">int</strong> v) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550         <strong class="reserved">if</strong> (v != 0 &amp;&amp; v != 1) <em class="brace">{</em>
<a id="L551" name="L551"></a> 551             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("cookie version should be 0 or 1");
<a id="L552" name="L552"></a> 552         <em class="brace">}</em>
<a id="L553" name="L553"></a> 553 
<a id="L554" name="L554"></a> 554         <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = v;
<a id="L555" name="L555"></a> 555     <em class="brace">}</em>
<a id="L556" name="L556"></a> 556 
<div class="comment">
      Returns <code>true</code> if this cookie contains the <i>HttpOnly</i>
      attribute. This means that the cookie should not be accessible to
      scripting engines, like javascript.
      @return  <code>true</code> if this cookie should be considered HTTPOnly
      @see  #setHttpOnly(boolean)</div>
<a id="L566" name="L566"></a> 566     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/781.html#L223" title="Referred from 223 in src/java/net/CookieManager.java.">isHttpOnly</a>() <em class="brace">{</em>
<a id="L567" name="L567"></a> 567         <strong class="reserved">return</strong> httpOnly;
<a id="L568" name="L568"></a> 568     <em class="brace">}</em>
<a id="L569" name="L569"></a> 569 
<div class="comment">
      Indicates whether the cookie should be considered HTTP Only. If set to
      <code>true</code> it means the cookie should not be accessible to scripting
      engines like javascript.
      @param  httpOnly
              if <code>true</code> make the cookie HTTP only, i.e. only visible as
              part of an HTTP request.
      @see  #isHttpOnly()</div>
<a id="L581" name="L581"></a> 581     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/776.html#L933" title="Referred from 933 in src/java/net/HttpCookie.java.">setHttpOnly</a>(<strong class="reserved">boolean</strong> httpOnly) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <strong class="reserved">this</strong>.httpOnly = httpOnly;
<a id="L583" name="L583"></a> 583     <em class="brace">}</em>
<a id="L584" name="L584"></a> 584 
<div class="comment">
      The utility method to check whether a host name is in a domain or not.
      <p> This concept is described in the cookie specification.
      To understand the concept, some terminologies need to be defined first:
      </p><blockquote>
      effective host name = hostname if host name contains dot<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or = hostname.local if not
      </blockquote>
      <p>Host A's name domain-matches host B's if:
      </p><blockquote><ul><li>their host name strings string-compare equal; or</li><li>A is a HDN string and has the form NB, where N is a non-empty
        name string, B has the form .B', and B' is a HDN string.  (So,
        x.y.com domain-matches .Y.com but not Y.com.)</li>
      </ul></blockquote>
      <p>A host isn't in a domain (RFC 2965 sec. 3.3.2) if:
      </p><blockquote><ul><li>The value for the Domain attribute contains no embedded dots,
        and the value is not .local.</li><li>The effective host name that derives from the request-host does
        not domain-match the Domain attribute.</li><li>The request-host is a HDN (not IP address) and has the form HD,
        where D is the value of the Domain attribute, and H is a string
        that contains one or more dots.</li>
      </ul></blockquote>
      <p>Examples:
      </p><blockquote><ul><li>A Set-Cookie2 from request-host y.x.foo.com for Domain=.foo.com
        would be rejected, because H is y.x and contains a dot.</li><li>A Set-Cookie2 from request-host x.foo.com for Domain=.foo.com
        would be accepted.</li><li>A Set-Cookie2 with Domain=.com or Domain=.com., will always be
        rejected, because there is no embedded dot.</li><li>A Set-Cookie2 from request-host example for Domain=.local will
        be accepted, because the effective host name for the request-
        host is example.local, and example.local domain-matches .local.</li>
      </ul></blockquote>
      @param  domain
              the domain name to check host name with
      @param  host
              the host name in question
      @return  <code>true</code> if they domain-matches; <code>false</code> if not</div>
<a id="L635" name="L635"></a> 635     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/13473.html" title="Multiple referred from 2 places.">domainMatches</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636         <strong class="reserved">if</strong> (<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a> == <strong class="reserved">null</strong> || host == <strong class="reserved">null</strong>)
<a id="L637" name="L637"></a> 637             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L638" name="L638"></a> 638 
<a id="L639" name="L639"></a> 639         <em class="comment">// if there's no embedded dot in domain and domain is not .local</em>
<a id="L640" name="L640"></a> 640         <strong class="reserved">boolean</strong> isLocalDomain = ".local".<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>);
<a id="L641" name="L641"></a> 641         <strong class="reserved">int</strong> embeddedDotInDomain = <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('.');
<a id="L642" name="L642"></a> 642         <strong class="reserved">if</strong> (embeddedDotInDomain == 0)
<a id="L643" name="L643"></a> 643             embeddedDotInDomain = <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('.', 1);
<a id="L644" name="L644"></a> 644         <strong class="reserved">if</strong> (!isLocalDomain
<a id="L645" name="L645"></a> 645             &amp;&amp; (embeddedDotInDomain == -1 ||
<a id="L646" name="L646"></a> 646                 embeddedDotInDomain == <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1))
<a id="L647" name="L647"></a> 647             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649         <em class="comment">// if the host name contains no dot and the domain name</em>
<a id="L650" name="L650"></a> 650         <em class="comment">// is .local or host.local</em>
<a id="L651" name="L651"></a> 651         <strong class="reserved">int</strong> firstDotInHost = host.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('.');
<a id="L652" name="L652"></a> 652         <strong class="reserved">if</strong> (firstDotInHost == -1 &amp;&amp;
<a id="L653" name="L653"></a> 653             (isLocalDomain ||
<a id="L654" name="L654"></a> 654              <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(host + ".local"))) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L656" name="L656"></a> 656         <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658         <strong class="reserved">int</strong> domainLength = <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L659" name="L659"></a> 659         <strong class="reserved">int</strong> lengthDiff = host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - domainLength;
<a id="L660" name="L660"></a> 660         <strong class="reserved">if</strong> (lengthDiff == 0) <em class="brace">{</em>
<a id="L661" name="L661"></a> 661             <em class="comment">// if the host name and the domain name are just string-compare euqal</em>
<a id="L662" name="L662"></a> 662             <strong class="reserved">return</strong> host.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>);
<a id="L663" name="L663"></a> 663         <em class="brace">}</em>
<a id="L664" name="L664"></a> 664         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (lengthDiff &gt; 0) <em class="brace">{</em>
<a id="L665" name="L665"></a> 665             <em class="comment">// need to check H &amp; D component</em>
<a id="L666" name="L666"></a> 666             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> H = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, lengthDiff);
<a id="L667" name="L667"></a> 667             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> D = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(lengthDiff);
<a id="L668" name="L668"></a> 668 
<a id="L669" name="L669"></a> 669             <strong class="reserved">return</strong> (H.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('.') == -1 &amp;&amp; D.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>));
<a id="L670" name="L670"></a> 670         <em class="brace">}</em>
<a id="L671" name="L671"></a> 671         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (lengthDiff == -1) <em class="brace">{</em>
<a id="L672" name="L672"></a> 672             <em class="comment">// if domain is actually .host</em>
<a id="L673" name="L673"></a> 673             <strong class="reserved">return</strong> (<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '.' &amp;&amp;
<a id="L674" name="L674"></a> 674                         host.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1)));
<a id="L675" name="L675"></a> 675         <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Constructs a cookie header string representation of this cookie,
      which is in the format defined by corresponding cookie specification,
      but without the leading "Cookie:" token.
      @return  a string form of the cookie. The string has the defined format</div>
<a id="L687" name="L687"></a> 687     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L688" name="L688"></a> 688     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L689" name="L689"></a> 689         <strong class="reserved">if</strong> (<a href="../D/23576.html" title="Multiple defined in 40 places.">getVersion</a>() &gt; 0) <em class="brace">{</em>
<a id="L690" name="L690"></a> 690             <strong class="reserved">return</strong> <a href="../S/776.html#L1007" title="Defined at 1007 in src/java/net/HttpCookie.java.">toRFC2965HeaderString</a>();
<a id="L691" name="L691"></a> 691         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L692" name="L692"></a> 692             <strong class="reserved">return</strong> <a href="../S/776.html#L999" title="Defined at 999 in src/java/net/HttpCookie.java.">toNetscapeHeaderString</a>();
<a id="L693" name="L693"></a> 693         <em class="brace">}</em>
<a id="L694" name="L694"></a> 694     <em class="brace">}</em>
<a id="L695" name="L695"></a> 695 
<div class="comment">
      Test the equality of two HTTP cookies.
      <p> The result is <code>true</code> only if two cookies come from same domain
      (case-insensitive), have same name (case-insensitive), and have same path
      (case-sensitive).
      @return  <code>true</code> if two HTTP cookies equal to each other;
               otherwise, <code>false</code></p></div>
<a id="L706" name="L706"></a> 706     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L707" name="L707"></a> 707     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L708" name="L708"></a> 708         <strong class="reserved">if</strong> (obj == <strong class="reserved">this</strong>)
<a id="L709" name="L709"></a> 709             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L710" name="L710"></a> 710         <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>))
<a id="L711" name="L711"></a> 711             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L712" name="L712"></a> 712         <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> other = (<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>)obj;
<a id="L713" name="L713"></a> 713 
<a id="L714" name="L714"></a> 714         <em class="comment">// One http cookie equals to another cookie (RFC 2965 sec. 3.3.3) if:</em>
<a id="L715" name="L715"></a> 715         <em class="comment">//   1. they come from same domain (case-insensitive),</em>
<a id="L716" name="L716"></a> 716         <em class="comment">//   2. have same name (case-insensitive),</em>
<a id="L717" name="L717"></a> 717         <em class="comment">//   3. and have same path (case-sensitive).</em>
<a id="L718" name="L718"></a> 718         <strong class="reserved">return</strong> <a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), other.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()) &amp;&amp;
<a id="L719" name="L719"></a> 719                <a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/18576.html" title="Multiple defined in 5 places.">getDomain</a>(), other.<a href="../D/18576.html" title="Multiple defined in 5 places.">getDomain</a>()) &amp;&amp;
<a id="L720" name="L720"></a> 720                <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>(), other.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>());
<a id="L721" name="L721"></a> 721     <em class="brace">}</em>
<a id="L722" name="L722"></a> 722 
<div class="comment">
      Returns the hash code of this HTTP cookie. The result is the sum of
      hash code value of three significant components of this cookie: name,
      domain, and path. That is, the hash code is the value of the expression:
      <blockquote>
      getName().toLowerCase().hashCode()<br>
      + getDomain().toLowerCase().hashCode()<br>
      + getPath().hashCode()
      </blockquote>
      @return  this HTTP cookie's hash code</div>
<a id="L735" name="L735"></a> 735     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L736" name="L736"></a> 736     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">int</strong> h1 = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L738" name="L738"></a> 738         <strong class="reserved">int</strong> h2 = (<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>!=<strong class="reserved">null</strong>) ? <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() : 0;
<a id="L739" name="L739"></a> 739         <strong class="reserved">int</strong> h3 = (path!=<strong class="reserved">null</strong>) ? path.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() : 0;
<a id="L740" name="L740"></a> 740 
<a id="L741" name="L741"></a> 741         <strong class="reserved">return</strong> h1 + h2 + h3;
<a id="L742" name="L742"></a> 742     <em class="brace">}</em>
<a id="L743" name="L743"></a> 743 
<div class="comment">
      Create and return a copy of this object.
      @return  a clone of this HTTP cookie</div>
<a id="L749" name="L749"></a> 749     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L750" name="L750"></a> 750     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L751" name="L751"></a> 751         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L752" name="L752"></a> 752             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L753" name="L753"></a> 753         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L754" name="L754"></a> 754             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L755" name="L755"></a> 755         <em class="brace">}</em>
<a id="L756" name="L756"></a> 756     <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758     <em class="comment">// ---------------- Private operations --------------</em>
<a id="L759" name="L759"></a> 759 
<a id="L760" name="L760"></a> 760     <em class="comment">// Note -- disabled for now to allow full Netscape compatibility</em>
<a id="L761" name="L761"></a> 761     <em class="comment">// from RFC 2068, token special case characters</em>
<a id="L762" name="L762"></a> 762     <em class="comment">//</em>
<a id="L763" name="L763"></a> 763     <em class="comment">// private static final String tspecials = "()&lt;&gt;@,;:\\\"/[]?={} \t";</em>
<a id="L764" name="L764"></a> 764     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> tspecials = ",; ";  <em class="comment">// deliberately includes space</em>
<a id="L765" name="L765"></a> 765 
<div class="comment">
      Tests a string and returns true if the string counts as a token.
      @param  value
              the <code>String</code> to be tested
      @return  <code>true</code> if the <code>String</code> is a token;
               <code>false</code> if it is not</div>
<a id="L775" name="L775"></a> 775     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/22113.html" title="Multiple referred from 10 places.">isToken</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776         <strong class="reserved">int</strong> len = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L777" name="L777"></a> 777 
<a id="L778" name="L778"></a> 778         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; len; i++) <em class="brace">{</em>
<a id="L779" name="L779"></a> 779             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L780" name="L780"></a> 780 
<a id="L781" name="L781"></a> 781             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &lt; 0x20 || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> &gt;= 0x7f || tspecials.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) != -1)
<a id="L782" name="L782"></a> 782                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L783" name="L783"></a> 783         <em class="brace">}</em>
<a id="L784" name="L784"></a> 784         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L785" name="L785"></a> 785     <em class="brace">}</em>
<a id="L786" name="L786"></a> 786 
<div class="comment">
      Parse header string to cookie object.
      @param  header
              header string; should contain only one NAME=VALUE pair
      @return  an HttpCookie being extracted
      @throws  IllegalArgumentException
               if header string violates the cookie specification</div>
<a id="L798" name="L798"></a> 798     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> <a href="../R/24566.html" title="Multiple referred from 2 places.">parseInternal</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>,
<a id="L799" name="L799"></a> 799                                             <strong class="reserved">boolean</strong> retainHeader)
<a id="L800" name="L800"></a> 800     <em class="brace">{</em>
<a id="L801" name="L801"></a> 801         <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie = <strong class="reserved">null</strong>;
<a id="L802" name="L802"></a> 802         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> namevaluePair = <strong class="reserved">null</strong>;
<a id="L803" name="L803"></a> 803 
<a id="L804" name="L804"></a> 804         <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a> tokenizer = <strong class="reserved">new</strong> <a href="../S/939.html#L103" title="Defined at 103 in src/java/util/StringTokenizer.java.">StringTokenizer</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, ";");
<a id="L805" name="L805"></a> 805 
<a id="L806" name="L806"></a> 806         <em class="comment">// there should always have at least on name-value pair;</em>
<a id="L807" name="L807"></a> 807         <em class="comment">// it's cookie's name</em>
<a id="L808" name="L808"></a> 808         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L809" name="L809"></a> 809             namevaluePair = tokenizer.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>();
<a id="L810" name="L810"></a> 810             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = namevaluePair.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('=');
<a id="L811" name="L811"></a> 811             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1) <em class="brace">{</em>
<a id="L812" name="L812"></a> 812                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = namevaluePair.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>).<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L813" name="L813"></a> 813                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = namevaluePair.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1).<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L814" name="L814"></a> 814                 <strong class="reserved">if</strong> (retainHeader)
<a id="L815" name="L815"></a> 815                     cookie = <strong class="reserved">new</strong> <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L816" name="L816"></a> 816                                             <a href="../S/776.html#L1085" title="Defined at 1085 in src/java/net/HttpCookie.java.">stripOffSurroundingQuote</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>),
<a id="L817" name="L817"></a> 817                                             <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>);
<a id="L818" name="L818"></a> 818                 <strong class="reserved">else</strong>
<a id="L819" name="L819"></a> 819                     cookie = <strong class="reserved">new</strong> <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L820" name="L820"></a> 820                                             <a href="../S/776.html#L1085" title="Defined at 1085 in src/java/net/HttpCookie.java.">stripOffSurroundingQuote</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L821" name="L821"></a> 821             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L822" name="L822"></a> 822                 <em class="comment">// no "=" in name-value pair; it's an error</em>
<a id="L823" name="L823"></a> 823                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid cookie name-value pair");
<a id="L824" name="L824"></a> 824             <em class="brace">}</em>
<a id="L825" name="L825"></a> 825         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a> ignored) <em class="brace">{</em>
<a id="L826" name="L826"></a> 826             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Empty cookie header string");
<a id="L827" name="L827"></a> 827         <em class="brace">}</em>
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829         <em class="comment">// remaining name-value pairs are cookie's attributes</em>
<a id="L830" name="L830"></a> 830         <strong class="reserved">while</strong> (tokenizer.<a href="../D/24131.html" title="Multiple defined in 2 places.">hasMoreTokens</a>()) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831             namevaluePair = tokenizer.<a href="../D/28195.html" title="Multiple defined in 10 places.">nextToken</a>();
<a id="L832" name="L832"></a> 832             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = namevaluePair.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('=');
<a id="L833" name="L833"></a> 833             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L834" name="L834"></a> 834             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != -1) <em class="brace">{</em>
<a id="L835" name="L835"></a> 835                 <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = namevaluePair.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>).<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L836" name="L836"></a> 836                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = namevaluePair.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1).<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L837" name="L837"></a> 837             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L838" name="L838"></a> 838                 <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = namevaluePair.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L839" name="L839"></a> 839                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <strong class="reserved">null</strong>;
<a id="L840" name="L840"></a> 840             <em class="brace">}</em>
<a id="L841" name="L841"></a> 841 
<a id="L842" name="L842"></a> 842             <em class="comment">// assign attribute to cookie</em>
<a id="L843" name="L843"></a> 843             <a href="../S/776.html#L958" title="Defined at 958 in src/java/net/HttpCookie.java.">assignAttribute</a>(cookie, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L844" name="L844"></a> 844         <em class="brace">}</em>
<a id="L845" name="L845"></a> 845 
<a id="L846" name="L846"></a> 846         <strong class="reserved">return</strong> cookie;
<a id="L847" name="L847"></a> 847     <em class="brace">}</em>
<a id="L848" name="L848"></a> 848 
<div class="comment">
      assign cookie attribute value to attribute name;
      use a map to simulate method dispatch</div>
<a id="L853" name="L853"></a> 853     <strong class="reserved">static</strong> <strong class="reserved">interface</strong> <a href="../R/1730.html" title="Multiple referred from 13 places.">CookieAttributeAssignor</a> <em class="brace">{</em>
<a id="L854" name="L854"></a> 854             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10378.html" title="Multiple referred from 38 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L855" name="L855"></a> 855                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L856" name="L856"></a> 856                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue);
<a id="L857" name="L857"></a> 857     <em class="brace">}</em>
<a id="L858" name="L858"></a> 858     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>&gt; assignors =
<a id="L859" name="L859"></a> 859             <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L860" name="L860"></a> 860     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L861" name="L861"></a> 861         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("comment", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>() <em class="brace">{</em>
<a id="L862" name="L862"></a> 862                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L863" name="L863"></a> 863                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L864" name="L864"></a> 864                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L865" name="L865"></a> 865                     <strong class="reserved">if</strong> (cookie.<a href="../D/17832.html" title="Multiple defined in 5 places.">getComment</a>() == <strong class="reserved">null</strong>)
<a id="L866" name="L866"></a> 866                         cookie.<a href="../D/32205.html" title="Multiple defined in 3 places.">setComment</a>(attrValue);
<a id="L867" name="L867"></a> 867                 <em class="brace">}</em>
<a id="L868" name="L868"></a> 868             <em class="brace">}</em>);
<a id="L869" name="L869"></a> 869         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("commenturl", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>() <em class="brace">{</em>
<a id="L870" name="L870"></a> 870                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L871" name="L871"></a> 871                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L872" name="L872"></a> 872                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L873" name="L873"></a> 873                     <strong class="reserved">if</strong> (cookie.<a href="../S/776.html#L292" title="Defined at 292 in src/java/net/HttpCookie.java.">getCommentURL</a>() == <strong class="reserved">null</strong>)
<a id="L874" name="L874"></a> 874                         cookie.<a href="../S/776.html#L279" title="Defined at 279 in src/java/net/HttpCookie.java.">setCommentURL</a>(attrValue);
<a id="L875" name="L875"></a> 875                 <em class="brace">}</em>
<a id="L876" name="L876"></a> 876             <em class="brace">}</em>);
<a id="L877" name="L877"></a> 877         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("discard", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>() <em class="brace">{</em>
<a id="L878" name="L878"></a> 878                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L879" name="L879"></a> 879                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L880" name="L880"></a> 880                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881                     cookie.<a href="../S/776.html#L305" title="Defined at 305 in src/java/net/HttpCookie.java.">setDiscard</a>(<strong class="reserved">true</strong>);
<a id="L882" name="L882"></a> 882                 <em class="brace">}</em>
<a id="L883" name="L883"></a> 883             <em class="brace">}</em>);
<a id="L884" name="L884"></a> 884         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("domain", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L885" name="L885"></a> 885                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L886" name="L886"></a> 886                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L887" name="L887"></a> 887                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L888" name="L888"></a> 888                     <strong class="reserved">if</strong> (cookie.<a href="../D/18576.html" title="Multiple defined in 5 places.">getDomain</a>() == <strong class="reserved">null</strong>)
<a id="L889" name="L889"></a> 889                         cookie.<a href="../S/776.html#L361" title="Defined at 361 in src/java/net/HttpCookie.java.">setDomain</a>(attrValue);
<a id="L890" name="L890"></a> 890                 <em class="brace">}</em>
<a id="L891" name="L891"></a> 891             <em class="brace">}</em>);
<a id="L892" name="L892"></a> 892         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("max-age", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L893" name="L893"></a> 893                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L894" name="L894"></a> 894                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L895" name="L895"></a> 895                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L896" name="L896"></a> 896                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L897" name="L897"></a> 897                         <strong class="reserved">long</strong> maxage = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/29161.html" title="Multiple defined in 5 places.">parseLong</a>(attrValue);
<a id="L898" name="L898"></a> 898                         <strong class="reserved">if</strong> (cookie.<a href="../S/776.html#L411" title="Defined at 411 in src/java/net/HttpCookie.java.">getMaxAge</a>() == MAX_AGE_UNSPECIFIED)
<a id="L899" name="L899"></a> 899                             cookie.<a href="../S/776.html#L399" title="Defined at 399 in src/java/net/HttpCookie.java.">setMaxAge</a>(maxage);
<a id="L900" name="L900"></a> 900                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> ignored) <em class="brace">{</em>
<a id="L901" name="L901"></a> 901                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L902" name="L902"></a> 902                                 "Illegal cookie max-age attribute");
<a id="L903" name="L903"></a> 903                     <em class="brace">}</em>
<a id="L904" name="L904"></a> 904                 <em class="brace">}</em>
<a id="L905" name="L905"></a> 905             <em class="brace">}</em>);
<a id="L906" name="L906"></a> 906         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("path", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L907" name="L907"></a> 907                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L908" name="L908"></a> 908                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L909" name="L909"></a> 909                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L910" name="L910"></a> 910                     <strong class="reserved">if</strong> (cookie.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>() == <strong class="reserved">null</strong>)
<a id="L911" name="L911"></a> 911                         cookie.<a href="../D/33525.html" title="Multiple defined in 4 places.">setPath</a>(attrValue);
<a id="L912" name="L912"></a> 912                 <em class="brace">}</em>
<a id="L913" name="L913"></a> 913             <em class="brace">}</em>);
<a id="L914" name="L914"></a> 914         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("port", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L915" name="L915"></a> 915                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L916" name="L916"></a> 916                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L917" name="L917"></a> 917                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L918" name="L918"></a> 918                     <strong class="reserved">if</strong> (cookie.<a href="../S/776.html#L341" title="Defined at 341 in src/java/net/HttpCookie.java.">getPortlist</a>() == <strong class="reserved">null</strong>)
<a id="L919" name="L919"></a> 919                         cookie.<a href="../S/776.html#L330" title="Defined at 330 in src/java/net/HttpCookie.java.">setPortlist</a>(attrValue == <strong class="reserved">null</strong> ? "" : attrValue);
<a id="L920" name="L920"></a> 920                 <em class="brace">}</em>
<a id="L921" name="L921"></a> 921             <em class="brace">}</em>);
<a id="L922" name="L922"></a> 922         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("secure", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L923" name="L923"></a> 923                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L924" name="L924"></a> 924                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L925" name="L925"></a> 925                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926                     cookie.<a href="../S/776.html#L463" title="Defined at 463 in src/java/net/HttpCookie.java.">setSecure</a>(<strong class="reserved">true</strong>);
<a id="L927" name="L927"></a> 927                 <em class="brace">}</em>
<a id="L928" name="L928"></a> 928             <em class="brace">}</em>);
<a id="L929" name="L929"></a> 929         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("httponly", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L930" name="L930"></a> 930                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L931" name="L931"></a> 931                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L932" name="L932"></a> 932                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933                     cookie.<a href="../S/776.html#L581" title="Defined at 581 in src/java/net/HttpCookie.java.">setHttpOnly</a>(<strong class="reserved">true</strong>);
<a id="L934" name="L934"></a> 934                 <em class="brace">}</em>
<a id="L935" name="L935"></a> 935             <em class="brace">}</em>);
<a id="L936" name="L936"></a> 936         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("version", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em>
<a id="L937" name="L937"></a> 937                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L938" name="L938"></a> 938                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L939" name="L939"></a> 939                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L940" name="L940"></a> 940                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L941" name="L941"></a> 941                         <strong class="reserved">int</strong> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(attrValue);
<a id="L942" name="L942"></a> 942                         cookie.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>(<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>);
<a id="L943" name="L943"></a> 943                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> ignored) <em class="brace">{</em>
<a id="L944" name="L944"></a> 944                         <em class="comment">// Just ignore bogus version, it will default to 0 or 1</em>
<a id="L945" name="L945"></a> 945                     <em class="brace">}</em>
<a id="L946" name="L946"></a> 946                 <em class="brace">}</em>
<a id="L947" name="L947"></a> 947             <em class="brace">}</em>);
<a id="L948" name="L948"></a> 948         assignors.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("expires", <strong class="reserved">new</strong> <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a>()<em class="brace">{</em> <em class="comment">// Netscape only</em>
<a id="L949" name="L949"></a> 949                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L950" name="L950"></a> 950                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L951" name="L951"></a> 951                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue) <em class="brace">{</em>
<a id="L952" name="L952"></a> 952                     <strong class="reserved">if</strong> (cookie.<a href="../S/776.html#L411" title="Defined at 411 in src/java/net/HttpCookie.java.">getMaxAge</a>() == MAX_AGE_UNSPECIFIED) <em class="brace">{</em>
<a id="L953" name="L953"></a> 953                         cookie.<a href="../S/776.html#L399" title="Defined at 399 in src/java/net/HttpCookie.java.">setMaxAge</a>(cookie.<a href="../S/776.html#L1030" title="Defined at 1030 in src/java/net/HttpCookie.java.">expiryDate2DeltaSeconds</a>(attrValue));
<a id="L954" name="L954"></a> 954                     <em class="brace">}</em>
<a id="L955" name="L955"></a> 955                 <em class="brace">}</em>
<a id="L956" name="L956"></a> 956             <em class="brace">}</em>);
<a id="L957" name="L957"></a> 957     <em class="brace">}</em>
<a id="L958" name="L958"></a> 958     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/776.html#L843" title="Referred from 843 in src/java/net/HttpCookie.java.">assignAttribute</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie,
<a id="L959" name="L959"></a> 959                                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrName,
<a id="L960" name="L960"></a> 960                                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> attrValue)
<a id="L961" name="L961"></a> 961     <em class="brace">{</em>
<a id="L962" name="L962"></a> 962         <em class="comment">// strip off the surrounding "-sign if there's any</em>
<a id="L963" name="L963"></a> 963         attrValue = <a href="../S/776.html#L1085" title="Defined at 1085 in src/java/net/HttpCookie.java.">stripOffSurroundingQuote</a>(attrValue);
<a id="L964" name="L964"></a> 964 
<a id="L965" name="L965"></a> 965         <a href="../S/776.html#L853" title="Defined at 853 in src/java/net/HttpCookie.java.">CookieAttributeAssignor</a> assignor = assignors.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(attrName.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>());
<a id="L966" name="L966"></a> 966         <strong class="reserved">if</strong> (assignor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967             assignor.<a href="../D/11593.html" title="Multiple defined in 17 places.">assign</a>(cookie, attrName, attrValue);
<a id="L968" name="L968"></a> 968         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L969" name="L969"></a> 969             <em class="comment">// Ignore the attribute as per RFC 2965</em>
<a id="L970" name="L970"></a> 970         <em class="brace">}</em>
<a id="L971" name="L971"></a> 971     <em class="brace">}</em>
<a id="L972" name="L972"></a> 972 
<a id="L973" name="L973"></a> 973     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L974" name="L974"></a> 974         sun.misc.SharedSecrets.setJavaNetHttpCookieAccess(
<a id="L975" name="L975"></a> 975             <strong class="reserved">new</strong> sun.misc.JavaNetHttpCookieAccess() <em class="brace">{</em>
<a id="L976" name="L976"></a> 976                 <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>&gt; <a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>) <em class="brace">{</em>
<a id="L977" name="L977"></a> 977                     <strong class="reserved">return</strong> <a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a>.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, <strong class="reserved">true</strong>);
<a id="L978" name="L978"></a> 978                 <em class="brace">}</em>
<a id="L979" name="L979"></a> 979 
<a id="L980" name="L980"></a> 980                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>(<a href="../S/776.html#L58" title="Defined at 58 in src/java/net/HttpCookie.java.">HttpCookie</a> cookie) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981                     <strong class="reserved">return</strong> cookie.<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>;
<a id="L982" name="L982"></a> 982                 <em class="brace">}</em>
<a id="L983" name="L983"></a> 983             <em class="brace">}</em>
<a id="L984" name="L984"></a> 984         );
<a id="L985" name="L985"></a> 985     <em class="brace">}</em>
<a id="L986" name="L986"></a> 986 
<div class="comment">
      Returns the original header this cookie was consructed from, if it was
      constructed by parsing a header, otherwise null.</div>
<a id="L991" name="L991"></a> 991     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/20305.html" title="Multiple referred from 417 places.">header</a>() <em class="brace">{</em>
<a id="L992" name="L992"></a> 992         <strong class="reserved">return</strong> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>;
<a id="L993" name="L993"></a> 993     <em class="brace">}</em>
<a id="L994" name="L994"></a> 994 
<div class="comment">
      Constructs a string representation of this cookie. The string format is
      as Netscape spec, but without leading "Cookie:" token.</div>
<a id="L999" name="L999"></a> 999     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L692" title="Referred from 692 in src/java/net/HttpCookie.java.">toNetscapeHeaderString</a>() <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">return</strong> <a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "=" + <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L1001" name="L1001"></a>1001     <em class="brace">}</em>
<a id="L1002" name="L1002"></a>1002 
<div class="comment">
      Constructs a string representation of this cookie. The string format is
      as RFC 2965/2109, but without leading "Cookie:" token.</div>
<a id="L1007" name="L1007"></a>1007     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L690" title="Referred from 690 in src/java/net/HttpCookie.java.">toRFC2965HeaderString</a>() <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L1009" name="L1009"></a>1009 
<a id="L1010" name="L1010"></a>1010         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("=\"").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>()).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('"');
<a id="L1011" name="L1011"></a>1011         <strong class="reserved">if</strong> (<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>() != <strong class="reserved">null</strong>)
<a id="L1012" name="L1012"></a>1012             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(";$Path=\"").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>()).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('"');
<a id="L1013" name="L1013"></a>1013         <strong class="reserved">if</strong> (<a href="../D/18576.html" title="Multiple defined in 5 places.">getDomain</a>() != <strong class="reserved">null</strong>)
<a id="L1014" name="L1014"></a>1014             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(";$Domain=\"").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/18576.html" title="Multiple defined in 5 places.">getDomain</a>()).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('"');
<a id="L1015" name="L1015"></a>1015         <strong class="reserved">if</strong> (<a href="../S/776.html#L341" title="Defined at 341 in src/java/net/HttpCookie.java.">getPortlist</a>() != <strong class="reserved">null</strong>)
<a id="L1016" name="L1016"></a>1016             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(";$Port=\"").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/776.html#L341" title="Defined at 341 in src/java/net/HttpCookie.java.">getPortlist</a>()).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('"');
<a id="L1017" name="L1017"></a>1017 
<a id="L1018" name="L1018"></a>1018         <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1019" name="L1019"></a>1019     <em class="brace">}</em>
<a id="L1020" name="L1020"></a>1020 
<a id="L1021" name="L1021"></a>1021     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a> GMT = <a href="../S/935.html#L133" title="Defined at 133 in src/java/util/TimeZone.java.">TimeZone</a>.<a href="../D/23152.html" title="Multiple defined in 10 places.">getTimeZone</a>("GMT");
<a id="L1022" name="L1022"></a>1022 
<div class="comment">
      @param  dateString
              a date string in one of the formats defined in Netscape cookie spec
      @return  delta seconds between this cookie's creation time and the time
               specified by dateString</div>
<a id="L1030" name="L1030"></a>1030     <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../S/776.html#L953" title="Referred from 953 in src/java/net/HttpCookie.java.">expiryDate2DeltaSeconds</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dateString) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>(GMT);
<a id="L1032" name="L1032"></a>1032         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; COOKIE_DATE_FORMATS.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033             <a href="../S/2465.html#L421" title="Defined at 421 in src/java/text/SimpleDateFormat.java.">SimpleDateFormat</a> df = <strong class="reserved">new</strong> <a href="../S/2465.html#L421" title="Defined at 421 in src/java/text/SimpleDateFormat.java.">SimpleDateFormat</a>(COOKIE_DATE_FORMATS[i],
<a id="L1034" name="L1034"></a>1034                                                        <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.US);
<a id="L1035" name="L1035"></a>1035             cal.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(1970, 0, 1, 0, 0, 0);
<a id="L1036" name="L1036"></a>1036             df.<a href="../D/34143.html" title="Multiple defined in 5 places.">setTimeZone</a>(GMT);
<a id="L1037" name="L1037"></a>1037             df.<a href="../D/33078.html" title="Multiple defined in 3 places.">setLenient</a>(<strong class="reserved">false</strong>);
<a id="L1038" name="L1038"></a>1038             df.<a href="../S/2465.html#L903" title="Defined at 903 in src/java/text/SimpleDateFormat.java.">set2DigitYearStart</a>(cal.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L1039" name="L1039"></a>1039             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1040" name="L1040"></a>1040                 cal.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(df.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>(dateString));
<a id="L1041" name="L1041"></a>1041                 <strong class="reserved">if</strong> (!COOKIE_DATE_FORMATS[i].<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>("yyyy")) <em class="brace">{</em>
<a id="L1042" name="L1042"></a>1042                     <em class="comment">// 2-digit years following the standard set</em>
<a id="L1043" name="L1043"></a>1043                     <em class="comment">// out it rfc 6265</em>
<a id="L1044" name="L1044"></a>1044                     <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = cal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L1045" name="L1045"></a>1045                     <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> %= 100;
<a id="L1046" name="L1046"></a>1046                     <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt; 70) <em class="brace">{</em>
<a id="L1047" name="L1047"></a>1047                         <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> += 2000;
<a id="L1048" name="L1048"></a>1048                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1049" name="L1049"></a>1049                         <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> += 1900;
<a id="L1050" name="L1050"></a>1050                     <em class="brace">}</em>
<a id="L1051" name="L1051"></a>1051                     cal.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L1052" name="L1052"></a>1052                 <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053                 <strong class="reserved">return</strong> (cal.<a href="../D/23146.html" title="Multiple defined in 5 places.">getTimeInMillis</a>() - whenCreated) / 1000;
<a id="L1054" name="L1054"></a>1054             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055                 <em class="comment">// Ignore, try the next date format</em>
<a id="L1056" name="L1056"></a>1056             <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057         <em class="brace">}</em>
<a id="L1058" name="L1058"></a>1058         <strong class="reserved">return</strong> 0;
<a id="L1059" name="L1059"></a>1059     <em class="brace">}</em>
<a id="L1060" name="L1060"></a>1060 
<div class="comment">
      try to guess the cookie version through set-cookie header string</div>
<a id="L1064" name="L1064"></a>1064     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/776.html#L187" title="Referred from 187 in src/java/net/HttpCookie.java.">guessCookieVersion</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>) <em class="brace">{</em>
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">int</strong> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = 0;
<a id="L1066" name="L1066"></a>1066 
<a id="L1067" name="L1067"></a>1067         <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a> = <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L1068" name="L1068"></a>1068         <strong class="reserved">if</strong> (<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("expires=") != -1) <em class="brace">{</em>
<a id="L1069" name="L1069"></a>1069             <em class="comment">// only netscape cookie using 'expires'</em>
<a id="L1070" name="L1070"></a>1070             <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = 0;
<a id="L1071" name="L1071"></a>1071         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("version=") != -1) <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072             <em class="comment">// version is mandatory for rfc 2965/2109 cookie</em>
<a id="L1073" name="L1073"></a>1073             <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = 1;
<a id="L1074" name="L1074"></a>1074         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("max-age") != -1) <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075             <em class="comment">// rfc 2965/2109 use 'max-age'</em>
<a id="L1076" name="L1076"></a>1076             <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = 1;
<a id="L1077" name="L1077"></a>1077         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/776.html#L1105" title="Defined at 1105 in src/java/net/HttpCookie.java.">startsWithIgnoreCase</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>, SET_COOKIE2)) <em class="brace">{</em>
<a id="L1078" name="L1078"></a>1078             <em class="comment">// only rfc 2965 cookie starts with 'set-cookie2'</em>
<a id="L1079" name="L1079"></a>1079             <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = 1;
<a id="L1080" name="L1080"></a>1080         <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081 
<a id="L1082" name="L1082"></a>1082         <strong class="reserved">return</strong> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>;
<a id="L1083" name="L1083"></a>1083     <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084 
<a id="L1085" name="L1085"></a>1085     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/28973.html" title="Multiple referred from 3 places.">stripOffSurroundingQuote</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>) <em class="brace">{</em>
<a id="L1086" name="L1086"></a>1086         <strong class="reserved">if</strong> (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 2 &amp;&amp;
<a id="L1087" name="L1087"></a>1087             <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '"' &amp;&amp; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1) == '"') <em class="brace">{</em>
<a id="L1088" name="L1088"></a>1088             <strong class="reserved">return</strong> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L1089" name="L1089"></a>1089         <em class="brace">}</em>
<a id="L1090" name="L1090"></a>1090         <strong class="reserved">if</strong> (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 2 &amp;&amp;
<a id="L1091" name="L1091"></a>1091             <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '\'' &amp;&amp; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1) == '\'') <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092             <strong class="reserved">return</strong> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1);
<a id="L1093" name="L1093"></a>1093         <em class="brace">}</em>
<a id="L1094" name="L1094"></a>1094         <strong class="reserved">return</strong> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>;
<a id="L1095" name="L1095"></a>1095     <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096 
<a id="L1097" name="L1097"></a>1097     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/13994.html" title="Multiple referred from 603 places.">equalsIgnoreCase</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> t) <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098         <strong class="reserved">if</strong> (s == t) <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1099" name="L1099"></a>1099         <strong class="reserved">if</strong> ((s != <strong class="reserved">null</strong>) &amp;&amp; (t != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1100" name="L1100"></a>1100             <strong class="reserved">return</strong> s.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(t);
<a id="L1101" name="L1101"></a>1101         <em class="brace">}</em>
<a id="L1102" name="L1102"></a>1102         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1103" name="L1103"></a>1103     <em class="brace">}</em>
<a id="L1104" name="L1104"></a>1104 
<a id="L1105" name="L1105"></a>1105     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/28870.html" title="Multiple referred from 3 places.">startsWithIgnoreCase</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) <em class="brace">{</em>
<a id="L1106" name="L1106"></a>1106         <strong class="reserved">if</strong> (s == <strong class="reserved">null</strong> || <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> == <strong class="reserved">null</strong>) <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1107" name="L1107"></a>1107 
<a id="L1108" name="L1108"></a>1108         <strong class="reserved">if</strong> (s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt;= <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &amp;&amp;
<a id="L1109" name="L1109"></a>1109                 <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(s.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()))) <em class="brace">{</em>
<a id="L1110" name="L1110"></a>1110             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1111" name="L1111"></a>1111         <em class="brace">}</em>
<a id="L1112" name="L1112"></a>1112 
<a id="L1113" name="L1113"></a>1113         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1114" name="L1114"></a>1114     <em class="brace">}</em>
<a id="L1115" name="L1115"></a>1115 
<div class="comment">
      Split cookie header string according to rfc 2965:
        1) split where it is a comma;
        2) but not the comma surrounding by double-quotes, which is the comma
           inside port list or embeded URIs.
      @param  header
              the cookie header string to split
      @return  list of strings; never null</div>
<a id="L1127" name="L1127"></a>1127     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../S/776.html#L209" title="Referred from 209 in src/java/net/HttpCookie.java.">splitMultiCookies</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>) <em class="brace">{</em>
<a id="L1128" name="L1128"></a>1128         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; cookies = <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;();
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">int</strong> quoteCount = 0;
<a id="L1130" name="L1130"></a>1130         <strong class="reserved">int</strong> p, q;
<a id="L1131" name="L1131"></a>1131 
<a id="L1132" name="L1132"></a>1132         <strong class="reserved">for</strong> (p = 0, q = 0; p &lt; <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>(); p++) <em class="brace">{</em>
<a id="L1133" name="L1133"></a>1133             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(p);
<a id="L1134" name="L1134"></a>1134             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '"') quoteCount++;
<a id="L1135" name="L1135"></a>1135             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ',' &amp;&amp; (quoteCount % 2 == 0)) <em class="brace">{</em>
<a id="L1136" name="L1136"></a>1136                 <em class="comment">// it is comma and not surrounding by double-quotes</em>
<a id="L1137" name="L1137"></a>1137                 cookies.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(q, p));
<a id="L1138" name="L1138"></a>1138                 q = p + 1;
<a id="L1139" name="L1139"></a>1139             <em class="brace">}</em>
<a id="L1140" name="L1140"></a>1140         <em class="brace">}</em>
<a id="L1141" name="L1141"></a>1141 
<a id="L1142" name="L1142"></a>1142         cookies.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/776.html#L991" title="Defined at 991 in src/java/net/HttpCookie.java.">header</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(q));
<a id="L1143" name="L1143"></a>1143 
<a id="L1144" name="L1144"></a>1144         <strong class="reserved">return</strong> cookies;
<a id="L1145" name="L1145"></a>1145     <em class="brace">}</em>
<a id="L1146" name="L1146"></a>1146 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L177">[^]</a><a href="#L1127">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>