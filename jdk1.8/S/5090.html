<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L75">[^]</a><a href="#L1243">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L75" title="Defined at 75.">getErrorContent</a></li>
<li><a href="#L94" title="Defined at 94.">getErrorWildcard</a></li>
<li><a href="#L155" title="Defined at 155.">traverseLocal</a></li>
<li><a href="#L183" title="Defined at 183.">traverseGlobal</a></li>
<li><a href="#L229" title="Defined at 229.">traverseComplexTypeDecl</a></li>
<li><a href="#L356" title="Defined at 356.">traverseSimpleContent</a></li>
<li><a href="#L686" title="Defined at 686.">traverseComplexContent</a></li>
<li><a href="#L965" title="Defined at 965.">mergeAttributes</a></li>
<li><a href="#L1017" title="Defined at 1017.">processComplexContent</a></li>
<li><a href="#L1141" title="Defined at 1141.">isAttrOrAttrGroup</a></li>
<li><a href="#L1152" title="Defined at 1152.">traverseSimpleContentDecl</a></li>
<li><a href="#L1155" title="Defined at 1155.">traverseComplexContentDecl</a></li>
<li><a href="#L1162" title="Defined at 1162.">genAnonTypeName</a></li>
<li><a href="#L1178" title="Defined at 1178.">handleComplexTypeError</a></li>
<li><a href="#L1201" title="Defined at 1201.">contentBackup</a></li>
<li><a href="#L1225" title="Defined at 1225.">contentRestore</a></li>
<li><a href="#L1243" title="Defined at 1243.">addAnnotation</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.xs.traversers;
<a id="L21" name="L21"></a>  21 
<a id="L22" name="L22"></a>  22 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.InvalidDatatypeFacetException;
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.SchemaDVFactory;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.XSFacets;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.XSSimpleType;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.xs.XSSimpleTypeDecl;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.SchemaGrammar;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.SchemaSymbols;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSAnnotationImpl;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSAttributeGroupDecl;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSAttributeUseImpl;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSComplexTypeDecl;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSConstraints;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSModelGroupImpl;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSParticleDecl;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSWildcardDecl;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.XInt;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.XSObjectListImpl;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.DOMUtil;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.QName;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSAttributeUse;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSConstants;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSObjectList;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSTypeDefinition;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L46" name="L46"></a>  46 
<div class="comment">
  A complex type definition schema component traverser.
  <complextype abstract="boolean" : false block="(#all" | list of (extension restriction)) final="(#all" id="ID" mixed="boolean" name="NCName" {any attributes with non-schema namespace . .}>
    Content: (annotation?, (simpleContent | complexContent |
             ((group | all | choice | sequence)?,
             ((attribute | attributeGroup)*, anyAttribute?))))
  </complextype>
  @xerces.internal
  @version $Id: XSDComplexTypeTraverser.java,v 1.8 2010-11-01 04:40:02 joehw Exp $</div>
<a id="L67" name="L67"></a>  67 
<a id="L68" name="L68"></a>  68 <strong class="reserved">class</strong>  <a href="../R/9191.html" title="Multiple referred from 2 places.">XSDComplexTypeTraverser</a> <strong class="reserved">extends</strong> <a href="../S/5087.html#L42" title="Defined at 42 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractParticleTraverser.java.">XSDAbstractParticleTraverser</a> <em class="brace">{</em>
<a id="L69" name="L69"></a>  69 
<a id="L70" name="L70"></a>  70     <em class="comment">// size of stack to hold globals:</em>
<a id="L71" name="L71"></a>  71     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> GLOBAL_NUM = 11;
<a id="L72" name="L72"></a>  72 
<a id="L73" name="L73"></a>  73     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> fErrorContent = <strong class="reserved">null</strong>;
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/5130.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSWildcardDecl.java.">XSWildcardDecl</a> fErrorWildcard = <strong class="reserved">null</strong>;
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> <a href="../S/5090.html#L1192" title="Referred from 1192 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">getErrorContent</a>() <em class="brace">{</em>
<a id="L76" name="L76"></a>  76         <strong class="reserved">if</strong> (fErrorContent == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L77" name="L77"></a>  77             <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> particle = <strong class="reserved">new</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>();
<a id="L78" name="L78"></a>  78             particle.fType = <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_WILDCARD;
<a id="L79" name="L79"></a>  79             particle.fValue = <a href="../S/5090.html#L94" title="Defined at 94 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">getErrorWildcard</a>();
<a id="L80" name="L80"></a>  80             particle.fMinOccurs = 0;
<a id="L81" name="L81"></a>  81             particle.fMaxOccurs = <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.OCCURRENCE_UNBOUNDED;
<a id="L82" name="L82"></a>  82             <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a> <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a> = <strong class="reserved">new</strong> <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>();
<a id="L83" name="L83"></a>  83             <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fCompositor = <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>.MODELGROUP_SEQUENCE;
<a id="L84" name="L84"></a>  84             <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticleCount = 1;
<a id="L85" name="L85"></a>  85             <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticles = <strong class="reserved">new</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>[1];
<a id="L86" name="L86"></a>  86             <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticles[0] = particle;
<a id="L87" name="L87"></a>  87             <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> errorContent = <strong class="reserved">new</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>();
<a id="L88" name="L88"></a>  88             errorContent.fType = <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_MODELGROUP;
<a id="L89" name="L89"></a>  89             errorContent.fValue = <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>;
<a id="L90" name="L90"></a>  90             fErrorContent = errorContent;
<a id="L91" name="L91"></a>  91         <em class="brace">}</em>
<a id="L92" name="L92"></a>  92         <strong class="reserved">return</strong> fErrorContent;
<a id="L93" name="L93"></a>  93     <em class="brace">}</em>
<a id="L94" name="L94"></a>  94     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/5130.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSWildcardDecl.java.">XSWildcardDecl</a> <a href="../R/16438.html" title="Multiple referred from 2 places.">getErrorWildcard</a>() <em class="brace">{</em>
<a id="L95" name="L95"></a>  95         <strong class="reserved">if</strong> (fErrorWildcard == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L96" name="L96"></a>  96             <a href="../S/5130.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSWildcardDecl.java.">XSWildcardDecl</a> <a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a> = <strong class="reserved">new</strong> <a href="../S/5130.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSWildcardDecl.java.">XSWildcardDecl</a>();
<a id="L97" name="L97"></a>  97             <a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>.fProcessContents = <a href="../S/5130.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSWildcardDecl.java.">XSWildcardDecl</a>.PC_SKIP;
<a id="L98" name="L98"></a>  98             fErrorWildcard = <a href="../S/766.html#L223" title="Defined at 223 in src/java/net/HostPortrange.java.">wildcard</a>;
<a id="L99" name="L99"></a>  99         <em class="brace">}</em>
<a id="L100" name="L100"></a> 100         <strong class="reserved">return</strong> fErrorWildcard;
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <em class="comment">// globals for building XSComplexTypeDecls</em>
<a id="L104" name="L104"></a> 104     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fName = <strong class="reserved">null</strong>;
<a id="L105" name="L105"></a> 105     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fTargetNamespace = <strong class="reserved">null</strong>;
<a id="L106" name="L106"></a> 106     <strong class="reserved">private</strong> <strong class="reserved">short</strong> fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L107" name="L107"></a> 107     <strong class="reserved">private</strong> <strong class="reserved">short</strong> fFinal = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_NONE;
<a id="L108" name="L108"></a> 108     <strong class="reserved">private</strong> <strong class="reserved">short</strong> fBlock = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_NONE;
<a id="L109" name="L109"></a> 109     <strong class="reserved">private</strong> <strong class="reserved">short</strong> fContentType = <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_EMPTY;
<a id="L110" name="L110"></a> 110     <strong class="reserved">private</strong> <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> fBaseType = <strong class="reserved">null</strong>;
<a id="L111" name="L111"></a> 111     <strong class="reserved">private</strong> <a href="../S/5070.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">XSAttributeGroupDecl</a> fAttrGrp = <strong class="reserved">null</strong>;
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> fXSSimpleType = <strong class="reserved">null</strong>;
<a id="L113" name="L113"></a> 113     <strong class="reserved">private</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> fParticle = <strong class="reserved">null</strong>;
<a id="L114" name="L114"></a> 114     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> fIsAbstract = <strong class="reserved">false</strong>;
<a id="L115" name="L115"></a> 115     <strong class="reserved">private</strong> <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> fComplexTypeDecl = <strong class="reserved">null</strong>;
<a id="L116" name="L116"></a> 116     <strong class="reserved">private</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] fAnnotations = <strong class="reserved">null</strong>;
<a id="L117" name="L117"></a> 117 
<a id="L118" name="L118"></a> 118     <em class="comment">// our own little stack to retain state when getGlobalDecls is called:</em>
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] fGlobalStore = <strong class="reserved">null</strong>;
<a id="L120" name="L120"></a> 120     <strong class="reserved">private</strong> <strong class="reserved">int</strong> fGlobalStorePos = 0;
<a id="L121" name="L121"></a> 121 
<a id="L122" name="L122"></a> 122     XSDComplexTypeTraverser (<a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>,
<a id="L123" name="L123"></a> 123             <a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a> gAttrCheck) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124         <strong class="reserved">super</strong>(<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>, gAttrCheck);
<a id="L125" name="L125"></a> 125     <em class="brace">}</em>
<a id="L126" name="L126"></a> 126 
<a id="L127" name="L127"></a> 127 
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> DEBUG=<strong class="reserved">false</strong>;
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1572.html" title="Multiple referred from 47 places.">ComplexTypeRecoverableError</a> <strong class="reserved">extends</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L131" name="L131"></a> 131 
<a id="L132" name="L132"></a> 132         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 6802729912091130335L;
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] errorSubstText=<strong class="reserved">null</strong>;
<a id="L135" name="L135"></a> 135         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>  errorElem = <strong class="reserved">null</strong>;
<a id="L136" name="L136"></a> 136         ComplexTypeRecoverableError() <em class="brace">{</em>
<a id="L137" name="L137"></a> 137             <strong class="reserved">super</strong>();
<a id="L138" name="L138"></a> 138         <em class="brace">}</em>
<a id="L139" name="L139"></a> 139         ComplexTypeRecoverableError(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> msgKey, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] args, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e) <em class="brace">{</em>
<a id="L140" name="L140"></a> 140             <strong class="reserved">super</strong>(msgKey);
<a id="L141" name="L141"></a> 141             errorSubstText=args;
<a id="L142" name="L142"></a> 142             errorElem = e;
<a id="L143" name="L143"></a> 143         <em class="brace">}</em>
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145     <em class="brace">}</em>
<a id="L146" name="L146"></a> 146 
<div class="comment">
      Traverse local complexType declarations
      @param Element
      @param XSDocumentInfo
      @param SchemaGrammar
      @return XSComplexTypeDecl</div>
<a id="L155" name="L155"></a> 155     <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> <a href="../R/29497.html" title="Multiple referred from 14 places.">traverseLocal</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexTypeNode,
<a id="L156" name="L156"></a> 156             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L157" name="L157"></a> 157             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L158" name="L158"></a> 158 
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(complexTypeNode, <strong class="reserved">false</strong>,
<a id="L161" name="L161"></a> 161                 schemaDoc);
<a id="L162" name="L162"></a> 162         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> complexTypeName = <a href="../D/16629.html" title="Multiple defined in 2 places.">genAnonTypeName</a>(complexTypeNode);
<a id="L163" name="L163"></a> 163         <a href="../S/5090.html#L1201" title="Defined at 1201 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">contentBackup</a>();
<a id="L164" name="L164"></a> 164         <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5090.html#L229" title="Defined at 229 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">traverseComplexTypeDecl</a> (complexTypeNode,
<a id="L165" name="L165"></a> 165                 complexTypeName, attrValues, schemaDoc, grammar);
<a id="L166" name="L166"></a> 166         <a href="../S/5090.html#L1225" title="Defined at 1225 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">contentRestore</a>();
<a id="L167" name="L167"></a> 167         <em class="comment">// need to add the type to the grammar for later constraint checking</em>
<a id="L168" name="L168"></a> 168         grammar.<a href="../D/10717.html" title="Multiple defined in 3 places.">addComplexTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, fSchemaHandler.<a href="../D/15288.html" title="Multiple defined in 2 places.">element2Locator</a>(complexTypeNode));
<a id="L169" name="L169"></a> 169         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/32992.html" title="Multiple defined in 2 places.">setIsAnonymous</a>();
<a id="L170" name="L170"></a> 170         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(attrValues, schemaDoc);
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172         <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L173" name="L173"></a> 173     <em class="brace">}</em>
<a id="L174" name="L174"></a> 174 
<div class="comment">
      Traverse global complexType declarations
      @param Element
      @param XSDocumentInfo
      @param SchemaGrammar
      @return XSComplexTypeDecXSComplexTypeDecl</div>
<a id="L183" name="L183"></a> 183     <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> <a href="../R/29493.html" title="Multiple referred from 16 places.">traverseGlobal</a> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexTypeNode,
<a id="L184" name="L184"></a> 184             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L185" name="L185"></a> 185             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L186" name="L186"></a> 186 
<a id="L187" name="L187"></a> 187         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(complexTypeNode, <strong class="reserved">true</strong>,
<a id="L188" name="L188"></a> 188                 schemaDoc);
<a id="L189" name="L189"></a> 189         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> complexTypeName = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)  attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_NAME];
<a id="L190" name="L190"></a> 190         <a href="../S/5090.html#L1201" title="Defined at 1201 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">contentBackup</a>();
<a id="L191" name="L191"></a> 191         <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5090.html#L229" title="Defined at 229 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">traverseComplexTypeDecl</a> (complexTypeNode,
<a id="L192" name="L192"></a> 192                 complexTypeName, attrValues, schemaDoc, grammar);
<a id="L193" name="L193"></a> 193         <a href="../S/5090.html#L1225" title="Defined at 1225 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">contentRestore</a>();
<a id="L194" name="L194"></a> 194         <em class="comment">// need to add the type to the grammar for later constraint checking</em>
<a id="L195" name="L195"></a> 195         grammar.<a href="../D/10717.html" title="Multiple defined in 3 places.">addComplexTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, fSchemaHandler.<a href="../D/15288.html" title="Multiple defined in 2 places.">element2Locator</a>(complexTypeNode));
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197         <strong class="reserved">if</strong> (complexTypeName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-att-must-appear", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_COMPLEXTYPE, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME<em class="brace">}</em>, complexTypeNode);
<a id="L199" name="L199"></a> 199             <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L200" name="L200"></a> 200         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L201" name="L201"></a> 201             <strong class="reserved">if</strong> (grammar.<a href="../D/19331.html" title="Multiple defined in 3 places.">getGlobalTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                 grammar.<a href="../D/10818.html" title="Multiple defined in 6 places.">addGlobalComplexTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L203" name="L203"></a> 203             <em class="brace">}</em>
<a id="L204" name="L204"></a> 204 
<a id="L205" name="L205"></a> 205             <em class="comment">// also add it to extended map</em>
<a id="L206" name="L206"></a> 206             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> loc = fSchemaHandler.<a href="../S/5082.html#L1922" title="Defined at 1922 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">schemaDocument2SystemId</a>(schemaDoc);
<a id="L207" name="L207"></a> 207             <strong class="reserved">final</strong> <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> type2 = grammar.<a href="../D/19331.html" title="Multiple defined in 3 places.">getGlobalTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), loc);
<a id="L208" name="L208"></a> 208             <strong class="reserved">if</strong> (type2 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L209" name="L209"></a> 209                 grammar.<a href="../D/10818.html" title="Multiple defined in 6 places.">addGlobalComplexTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, loc);
<a id="L210" name="L210"></a> 210             <em class="brace">}</em>
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212             <em class="comment">// handle duplicates</em>
<a id="L213" name="L213"></a> 213             <strong class="reserved">if</strong> (fSchemaHandler.fTolerateDuplicates) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214                 <strong class="reserved">if</strong> (type2 != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L215" name="L215"></a> 215                     <strong class="reserved">if</strong> (type2 <strong class="reserved">instanceof</strong> <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>) type2;
<a id="L217" name="L217"></a> 217                     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218                 <em class="brace">}</em>
<a id="L219" name="L219"></a> 219                 fSchemaHandler.<a href="../D/10827.html" title="Multiple defined in 7 places.">addGlobalTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L220" name="L220"></a> 220             <em class="brace">}</em>
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222 
<a id="L223" name="L223"></a> 223         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(attrValues, schemaDoc);
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225         <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L226" name="L226"></a> 226     <em class="brace">}</em>
<a id="L227" name="L227"></a> 227 
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229     <strong class="reserved">private</strong> <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> <a href="../R/29487.html" title="Multiple referred from 2 places.">traverseComplexTypeDecl</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexTypeDecl,
<a id="L230" name="L230"></a> 230             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> complexTypeName,
<a id="L231" name="L231"></a> 231             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues,
<a id="L232" name="L232"></a> 232             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L233" name="L233"></a> 233             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234 
<a id="L235" name="L235"></a> 235         fComplexTypeDecl = <strong class="reserved">new</strong> <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>();
<a id="L236" name="L236"></a> 236         fAttrGrp = <strong class="reserved">new</strong> <a href="../S/5070.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">XSAttributeGroupDecl</a>();
<a id="L237" name="L237"></a> 237         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> abstractAtt  = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_ABSTRACT];
<a id="L238" name="L238"></a> 238         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>    blockAtt     = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)    attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_BLOCK];
<a id="L239" name="L239"></a> 239         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> mixedAtt     = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_MIXED];
<a id="L240" name="L240"></a> 240         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>    finalAtt     = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)    attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_FINAL];
<a id="L241" name="L241"></a> 241 
<a id="L242" name="L242"></a> 242         fName = complexTypeName;
<a id="L243" name="L243"></a> 243         fComplexTypeDecl.<a href="../D/33314.html" title="Multiple defined in 37 places.">setName</a>(fName);
<a id="L244" name="L244"></a> 244         fTargetNamespace = schemaDoc.fTargetNamespace;
<a id="L245" name="L245"></a> 245 
<a id="L246" name="L246"></a> 246         fBlock = blockAtt == <strong class="reserved">null</strong> ? schemaDoc.fBlockDefault : blockAtt.<a href="../D/34461.html" title="Multiple defined in 8 places.">shortValue</a>();
<a id="L247" name="L247"></a> 247         fFinal = finalAtt == <strong class="reserved">null</strong> ? schemaDoc.fFinalDefault : finalAtt.<a href="../D/34461.html" title="Multiple defined in 8 places.">shortValue</a>();
<a id="L248" name="L248"></a> 248         <em class="comment">//discard valid Block/Final 'Default' values that are invalid for Block/Final</em>
<a id="L249" name="L249"></a> 249         fBlock &amp;= (<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION | <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION);
<a id="L250" name="L250"></a> 250         fFinal &amp;= (<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION | <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION);
<a id="L251" name="L251"></a> 251 
<a id="L252" name="L252"></a> 252         fIsAbstract = (abstractAtt != <strong class="reserved">null</strong> &amp;&amp; abstractAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>());
<a id="L253" name="L253"></a> 253         fAnnotations = <strong class="reserved">null</strong>;
<a id="L254" name="L254"></a> 254 
<a id="L255" name="L255"></a> 255         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = <strong class="reserved">null</strong>;
<a id="L256" name="L256"></a> 256 
<a id="L257" name="L257"></a> 257         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L258" name="L258"></a> 258             <em class="comment">// ---------------------------------------------------------------</em>
<a id="L259" name="L259"></a> 259             <em class="comment">// First, handle any ANNOTATION declaration and get next child</em>
<a id="L260" name="L260"></a> 260             <em class="comment">// ---------------------------------------------------------------</em>
<a id="L261" name="L261"></a> 261             child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(complexTypeDecl);
<a id="L262" name="L262"></a> 262             <strong class="reserved">if</strong>(child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L263" name="L263"></a> 263                 <strong class="reserved">if</strong> (<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L264" name="L264"></a> 264                     <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(child, attrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L265" name="L265"></a> 265                     child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L266" name="L266"></a> 266                 <em class="brace">}</em>
<a id="L267" name="L267"></a> 267                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(complexTypeDecl);
<a id="L269" name="L269"></a> 269                     <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270                         <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(complexTypeDecl, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L271" name="L271"></a> 271                     <em class="brace">}</em>
<a id="L272" name="L272"></a> 272                 <em class="brace">}</em>
<a id="L273" name="L273"></a> 273                 <strong class="reserved">if</strong> (child !=<strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L274" name="L274"></a> 274                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L275" name="L275"></a> 275                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION<em class="brace">}</em>,
<a id="L276" name="L276"></a> 276                             child);
<a id="L277" name="L277"></a> 277                 <em class="brace">}</em>
<a id="L278" name="L278"></a> 278             <em class="brace">}</em>
<a id="L279" name="L279"></a> 279             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L280" name="L280"></a> 280                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(complexTypeDecl);
<a id="L281" name="L281"></a> 281                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282                     <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(complexTypeDecl, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L283" name="L283"></a> 283                 <em class="brace">}</em>
<a id="L284" name="L284"></a> 284             <em class="brace">}</em>
<a id="L285" name="L285"></a> 285             <em class="comment">// ---------------------------------------------------------------</em>
<a id="L286" name="L286"></a> 286             <em class="comment">// Process the content of the complex type definition</em>
<a id="L287" name="L287"></a> 287             <em class="comment">// ---------------------------------------------------------------</em>
<a id="L288" name="L288"></a> 288             <strong class="reserved">if</strong> (child==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L289" name="L289"></a> 289                 <em class="comment">//</em>
<a id="L290" name="L290"></a> 290                 <em class="comment">// EMPTY complexType with complexContent</em>
<a id="L291" name="L291"></a> 291                 <em class="comment">//</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293                 <em class="comment">// set the base to the anyType</em>
<a id="L294" name="L294"></a> 294                 fBaseType = <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.fAnyType;
<a id="L295" name="L295"></a> 295                 fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L296" name="L296"></a> 296                 <a href="../S/5090.html#L1017" title="Defined at 1017 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">processComplexContent</a>(child, mixedAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>(), <strong class="reserved">false</strong>,
<a id="L297" name="L297"></a> 297                         schemaDoc, grammar);
<a id="L298" name="L298"></a> 298             <em class="brace">}</em>
<a id="L299" name="L299"></a> 299             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>
<a id="L300" name="L300"></a> 300                     (<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLECONTENT)) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301                 <em class="comment">//</em>
<a id="L302" name="L302"></a> 302                 <em class="comment">// SIMPLE CONTENT</em>
<a id="L303" name="L303"></a> 303                 <em class="comment">//</em>
<a id="L304" name="L304"></a> 304                 <a href="../S/5090.html#L356" title="Defined at 356 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">traverseSimpleContent</a>(child, schemaDoc, grammar);
<a id="L305" name="L305"></a> 305                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elemTmp = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L306" name="L306"></a> 306                 <strong class="reserved">if</strong> (elemTmp != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> siblingName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(elemTmp);
<a id="L308" name="L308"></a> 308                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L309" name="L309"></a> 309                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,siblingName<em class="brace">}</em>,
<a id="L310" name="L310"></a> 310                             elemTmp);
<a id="L311" name="L311"></a> 311                 <em class="brace">}</em>
<a id="L312" name="L312"></a> 312             <em class="brace">}</em>
<a id="L313" name="L313"></a> 313             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>
<a id="L314" name="L314"></a> 314                     (<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_COMPLEXCONTENT)) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315                 <a href="../S/5090.html#L686" title="Defined at 686 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">traverseComplexContent</a>(child, mixedAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>(),
<a id="L316" name="L316"></a> 316                         schemaDoc, grammar);
<a id="L317" name="L317"></a> 317                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elemTmp = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L318" name="L318"></a> 318                 <strong class="reserved">if</strong> (elemTmp != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> siblingName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(elemTmp);
<a id="L320" name="L320"></a> 320                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L321" name="L321"></a> 321                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,siblingName<em class="brace">}</em>,
<a id="L322" name="L322"></a> 322                             elemTmp);
<a id="L323" name="L323"></a> 323                 <em class="brace">}</em>
<a id="L324" name="L324"></a> 324             <em class="brace">}</em>
<a id="L325" name="L325"></a> 325             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L326" name="L326"></a> 326                 <em class="comment">//</em>
<a id="L327" name="L327"></a> 327                 <em class="comment">// We must have ....</em>
<a id="L328" name="L328"></a> 328                 <em class="comment">// GROUP, ALL, SEQUENCE or CHOICE, followed by optional attributes</em>
<a id="L329" name="L329"></a> 329                 <em class="comment">// Note that it's possible that only attributes are specified.</em>
<a id="L330" name="L330"></a> 330                 <em class="comment">//</em>
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332                 <em class="comment">// set the base to the anyType</em>
<a id="L333" name="L333"></a> 333                 fBaseType = <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.fAnyType;
<a id="L334" name="L334"></a> 334                 fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L335" name="L335"></a> 335                 <a href="../S/5090.html#L1017" title="Defined at 1017 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">processComplexContent</a>(child, mixedAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>(), <strong class="reserved">false</strong>,
<a id="L336" name="L336"></a> 336                         schemaDoc, grammar);
<a id="L337" name="L337"></a> 337             <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339         <em class="brace">}</em>
<a id="L340" name="L340"></a> 340         <strong class="reserved">catch</strong> (<a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> e) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341             <a href="../S/5090.html#L1178" title="Defined at 1178 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">handleComplexTypeError</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), e.errorSubstText,
<a id="L342" name="L342"></a> 342                     e.errorElem);
<a id="L343" name="L343"></a> 343         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (DEBUG) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(fName);
<a id="L347" name="L347"></a> 347         <em class="brace">}</em>
<a id="L348" name="L348"></a> 348         fComplexTypeDecl.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(fName, fTargetNamespace, fBaseType,
<a id="L349" name="L349"></a> 349                 fDerivedBy, fFinal, fBlock, fContentType, fIsAbstract,
<a id="L350" name="L350"></a> 350                 fAttrGrp, fXSSimpleType, fParticle, <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>(fAnnotations,
<a id="L351" name="L351"></a> 351                         fAnnotations == <strong class="reserved">null</strong>? 0 : fAnnotations.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L352" name="L352"></a> 352         <strong class="reserved">return</strong> fComplexTypeDecl;
<a id="L353" name="L353"></a> 353     <em class="brace">}</em>
<a id="L354" name="L354"></a> 354 
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5090.html#L304" title="Referred from 304 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">traverseSimpleContent</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> simpleContentElement,
<a id="L357" name="L357"></a> 357             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L358" name="L358"></a> 358             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar)
<a id="L359" name="L359"></a> 359     <strong class="reserved">throws</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360 
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] simpleContentAttrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(simpleContentElement, <strong class="reserved">false</strong>,
<a id="L363" name="L363"></a> 363                 schemaDoc);
<a id="L364" name="L364"></a> 364 
<a id="L365" name="L365"></a> 365         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L366" name="L366"></a> 366         <em class="comment">// Set content type</em>
<a id="L367" name="L367"></a> 367         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L368" name="L368"></a> 368         fContentType = <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_SIMPLE;
<a id="L369" name="L369"></a> 369         fParticle = <strong class="reserved">null</strong>;
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> simpleContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(simpleContentElement);
<a id="L372" name="L372"></a> 372         <strong class="reserved">if</strong> (simpleContent != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(simpleContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L373" name="L373"></a> 373             <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(simpleContent, simpleContentAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L374" name="L374"></a> 374             simpleContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(simpleContent);
<a id="L375" name="L375"></a> 375         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L377" name="L377"></a> 377             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(simpleContentElement);
<a id="L378" name="L378"></a> 378             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379                 <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(simpleContentElement, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, simpleContentAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L380" name="L380"></a> 380             <em class="brace">}</em>
<a id="L381" name="L381"></a> 381         <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <em class="comment">// If there are no children, return</em>
<a id="L384" name="L384"></a> 384         <strong class="reserved">if</strong> (simpleContent==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L386" name="L386"></a> 386             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.2",
<a id="L387" name="L387"></a> 387                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLECONTENT<em class="brace">}</em>,
<a id="L388" name="L388"></a> 388                     simpleContentElement);
<a id="L389" name="L389"></a> 389         <em class="brace">}</em>
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L392" name="L392"></a> 392         <em class="comment">// The content should be either "restriction" or "extension"</em>
<a id="L393" name="L393"></a> 393         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L394" name="L394"></a> 394         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> simpleContentName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(simpleContent);
<a id="L395" name="L395"></a> 395         <strong class="reserved">if</strong> (simpleContentName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_RESTRICTION))
<a id="L396" name="L396"></a> 396             fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L397" name="L397"></a> 397         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (simpleContentName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_EXTENSION))
<a id="L398" name="L398"></a> 398             fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION;
<a id="L399" name="L399"></a> 399         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L400" name="L400"></a> 400             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L401" name="L401"></a> 401             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L402" name="L402"></a> 402                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,simpleContentName<em class="brace">}</em>,
<a id="L403" name="L403"></a> 403                     simpleContent);
<a id="L404" name="L404"></a> 404         <em class="brace">}</em>
<a id="L405" name="L405"></a> 405         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elemTmp = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(simpleContent);
<a id="L406" name="L406"></a> 406         <strong class="reserved">if</strong> (elemTmp != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L408" name="L408"></a> 408             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> siblingName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(elemTmp);
<a id="L409" name="L409"></a> 409             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L410" name="L410"></a> 410                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,siblingName<em class="brace">}</em>,
<a id="L411" name="L411"></a> 411                     elemTmp);
<a id="L412" name="L412"></a> 412         <em class="brace">}</em>
<a id="L413" name="L413"></a> 413 
<a id="L414" name="L414"></a> 414         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] derivationTypeAttrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(simpleContent, <strong class="reserved">false</strong>,
<a id="L415" name="L415"></a> 415                 schemaDoc);
<a id="L416" name="L416"></a> 416         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> baseTypeName = (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>)  derivationTypeAttrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_BASE];
<a id="L417" name="L417"></a> 417 
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L420" name="L420"></a> 420         <em class="comment">// Need a base type.</em>
<a id="L421" name="L421"></a> 421         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L422" name="L422"></a> 422         <strong class="reserved">if</strong> (baseTypeName==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L423" name="L423"></a> 423             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L424" name="L424"></a> 424             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L425" name="L425"></a> 425             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-att-must-appear",
<a id="L426" name="L426"></a> 426                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>simpleContentName, "base"<em class="brace">}</em>, simpleContent);
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429         <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>)fSchemaHandler.<a href="../D/19320.html" title="Multiple defined in 2 places.">getGlobalDecl</a>(schemaDoc,
<a id="L430" name="L430"></a> 430                 <a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a>.TYPEDECL_TYPE, baseTypeName,
<a id="L431" name="L431"></a> 431                 simpleContent);
<a id="L432" name="L432"></a> 432         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L434" name="L434"></a> 434             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L435" name="L435"></a> 435             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>();
<a id="L436" name="L436"></a> 436         <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438         fBaseType = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L439" name="L439"></a> 439 
<a id="L440" name="L440"></a> 440         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> baseValidator = <strong class="reserved">null</strong>;
<a id="L441" name="L441"></a> 441         <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> baseComplexType = <strong class="reserved">null</strong>;
<a id="L442" name="L442"></a> 442         <strong class="reserved">int</strong> baseFinalSet = 0;
<a id="L443" name="L443"></a> 443 
<a id="L444" name="L444"></a> 444         <em class="comment">// If the base type is complex, it must have simpleContent</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">if</strong> ((<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/23317.html" title="Multiple defined in 4 places.">getTypeCategory</a>() == <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>.COMPLEX_TYPE)) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446 
<a id="L447" name="L447"></a> 447             baseComplexType = (<a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L448" name="L448"></a> 448             baseFinalSet = baseComplexType.<a href="../D/19077.html" title="Multiple defined in 4 places.">getFinal</a>();
<a id="L449" name="L449"></a> 449             <em class="comment">// base is a CT with simple content (both restriction and extension are OK)</em>
<a id="L450" name="L450"></a> 450             <strong class="reserved">if</strong> (baseComplexType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>() == <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_SIMPLE) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451                 baseValidator = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)baseComplexType.<a href="../D/22521.html" title="Multiple defined in 3 places.">getSimpleType</a>();
<a id="L452" name="L452"></a> 452             <em class="brace">}</em>
<a id="L453" name="L453"></a> 453             <em class="comment">// base is a CT with mixed/emptiable content (only restriction is OK)</em>
<a id="L454" name="L454"></a> 454             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fDerivedBy == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION &amp;&amp;
<a id="L455" name="L455"></a> 455                     baseComplexType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>() == <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED &amp;&amp;
<a id="L456" name="L456"></a> 456                     ((<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>)baseComplexType.<a href="../D/21423.html" title="Multiple defined in 3 places.">getParticle</a>()).<a href="../S/5110.html#L82" title="Defined at 82 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">emptiable</a>()) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             <em class="brace">}</em>
<a id="L458" name="L458"></a> 458             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L459" name="L459"></a> 459                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L460" name="L460"></a> 460                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L461" name="L461"></a> 461                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("src-ct.2.1",
<a id="L462" name="L462"></a> 462                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, baseComplexType.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>, simpleContent);
<a id="L463" name="L463"></a> 463             <em class="brace">}</em>
<a id="L464" name="L464"></a> 464         <em class="brace">}</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L466" name="L466"></a> 466             baseValidator = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L467" name="L467"></a> 467             <em class="comment">// base is a ST (only extension is OK)</em>
<a id="L468" name="L468"></a> 468             <strong class="reserved">if</strong> (fDerivedBy == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L470" name="L470"></a> 470                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L471" name="L471"></a> 471                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("src-ct.2.1",
<a id="L472" name="L472"></a> 472                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, baseValidator.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>, simpleContent);
<a id="L473" name="L473"></a> 473             <em class="brace">}</em>
<a id="L474" name="L474"></a> 474             baseFinalSet=baseValidator.<a href="../D/19077.html" title="Multiple defined in 4 places.">getFinal</a>();
<a id="L475" name="L475"></a> 475         <em class="brace">}</em>
<a id="L476" name="L476"></a> 476 
<a id="L477" name="L477"></a> 477         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L478" name="L478"></a> 478         <em class="comment">// Check that the base permits the derivation</em>
<a id="L479" name="L479"></a> 479         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L480" name="L480"></a> 480         <strong class="reserved">if</strong> ((baseFinalSet &amp; fDerivedBy)!=0) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L482" name="L482"></a> 482             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L483" name="L483"></a> 483             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> errorKey = (fDerivedBy==<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION) ?
<a id="L484" name="L484"></a> 484                     "cos-ct-extends.1.1" : "derivation-ok-restriction.1";
<a id="L485" name="L485"></a> 485             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>(errorKey,
<a id="L486" name="L486"></a> 486                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, fBaseType.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>, simpleContent);
<a id="L487" name="L487"></a> 487         <em class="brace">}</em>
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L490" name="L490"></a> 490         <em class="comment">// Skip over any potential annotations</em>
<a id="L491" name="L491"></a> 491         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L492" name="L492"></a> 492         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> scElement = simpleContent;
<a id="L493" name="L493"></a> 493         simpleContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(simpleContent);
<a id="L494" name="L494"></a> 494         <strong class="reserved">if</strong> (simpleContent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L495" name="L495"></a> 495             <em class="comment">// traverse annotation if any</em>
<a id="L496" name="L496"></a> 496 
<a id="L497" name="L497"></a> 497             <strong class="reserved">if</strong> (<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(simpleContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498                 <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(simpleContent, derivationTypeAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L499" name="L499"></a> 499                 simpleContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(simpleContent);
<a id="L500" name="L500"></a> 500             <em class="brace">}</em>
<a id="L501" name="L501"></a> 501             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L502" name="L502"></a> 502                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(scElement);
<a id="L503" name="L503"></a> 503                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504                     <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(scElement, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, derivationTypeAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L505" name="L505"></a> 505                 <em class="brace">}</em>
<a id="L506" name="L506"></a> 506             <em class="brace">}</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508             <strong class="reserved">if</strong> (simpleContent !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L509" name="L509"></a> 509                     <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(simpleContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION))<em class="brace">{</em>
<a id="L510" name="L510"></a> 510                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L511" name="L511"></a> 511                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L512" name="L512"></a> 512                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L513" name="L513"></a> 513                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION<em class="brace">}</em>,
<a id="L514" name="L514"></a> 514                         simpleContent);
<a id="L515" name="L515"></a> 515             <em class="brace">}</em>
<a id="L516" name="L516"></a> 516         <em class="brace">}</em>
<a id="L517" name="L517"></a> 517         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L518" name="L518"></a> 518             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(scElement);
<a id="L519" name="L519"></a> 519             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520                 <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(scElement, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, derivationTypeAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L521" name="L521"></a> 521             <em class="brace">}</em>
<a id="L522" name="L522"></a> 522         <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<a id="L524" name="L524"></a> 524         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L525" name="L525"></a> 525         <em class="comment">// Process a RESTRICTION</em>
<a id="L526" name="L526"></a> 526         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L527" name="L527"></a> 527         <strong class="reserved">if</strong> (fDerivedBy == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION) <em class="brace">{</em>
<a id="L528" name="L528"></a> 528 
<a id="L529" name="L529"></a> 529             <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L530" name="L530"></a> 530             <em class="comment">// There may be a simple type definition in the restriction element</em>
<a id="L531" name="L531"></a> 531             <em class="comment">// The data type validator will be based on it, if specified</em>
<a id="L532" name="L532"></a> 532             <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L533" name="L533"></a> 533             <strong class="reserved">if</strong> (simpleContent !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L534" name="L534"></a> 534                     <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(simpleContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE )) <em class="brace">{</em>
<a id="L535" name="L535"></a> 535 
<a id="L536" name="L536"></a> 536                 <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> dv = fSchemaHandler.fSimpleTypeTraverser.<a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(
<a id="L537" name="L537"></a> 537                         simpleContent, schemaDoc, grammar);
<a id="L538" name="L538"></a> 538                 <strong class="reserved">if</strong> (dv == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L540" name="L540"></a> 540                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L541" name="L541"></a> 541                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>();
<a id="L542" name="L542"></a> 542                 <em class="brace">}</em>
<a id="L543" name="L543"></a> 543                 <em class="comment">//check that this datatype validator is validly derived from the base</em>
<a id="L544" name="L544"></a> 544                 <em class="comment">//according to derivation-ok-restriction 5.1.2.1</em>
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546                 <strong class="reserved">if</strong> (baseValidator != <strong class="reserved">null</strong> &amp;&amp;
<a id="L547" name="L547"></a> 547                         !<a href="../S/5042.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">XSConstraints</a>.<a href="../S/5042.html#L149" title="Defined at 149 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">checkSimpleDerivationOk</a>(dv, baseValidator,
<a id="L548" name="L548"></a> 548                                 baseValidator.<a href="../D/19077.html" title="Multiple defined in 4 places.">getFinal</a>())) <em class="brace">{</em>
<a id="L549" name="L549"></a> 549                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L550" name="L550"></a> 550                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L551" name="L551"></a> 551                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("derivation-ok-restriction.5.2.2.1",
<a id="L552" name="L552"></a> 552                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, dv.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), baseValidator.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>,
<a id="L553" name="L553"></a> 553                             simpleContent);
<a id="L554" name="L554"></a> 554                 <em class="brace">}</em>
<a id="L555" name="L555"></a> 555                 baseValidator = dv;
<a id="L556" name="L556"></a> 556                 simpleContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(simpleContent);
<a id="L557" name="L557"></a> 557             <em class="brace">}</em>
<a id="L558" name="L558"></a> 558 
<a id="L559" name="L559"></a> 559             <em class="comment">// this only happens when restricting a mixed/emptiable CT</em>
<a id="L560" name="L560"></a> 560             <em class="comment">// but there is no &lt;simpleType&gt;, which is required</em>
<a id="L561" name="L561"></a> 561             <strong class="reserved">if</strong> (baseValidator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L562" name="L562"></a> 562                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L563" name="L563"></a> 563                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L564" name="L564"></a> 564                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("src-ct.2.2",
<a id="L565" name="L565"></a> 565                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName<em class="brace">}</em>, simpleContent);
<a id="L566" name="L566"></a> 566             <em class="brace">}</em>
<a id="L567" name="L567"></a> 567 
<a id="L568" name="L568"></a> 568             <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L569" name="L569"></a> 569             <em class="comment">// Traverse any facets</em>
<a id="L570" name="L570"></a> 570             <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L571" name="L571"></a> 571             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> attrNode = <strong class="reserved">null</strong>;
<a id="L572" name="L572"></a> 572             <a href="../S/5168.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSFacets.java.">XSFacets</a> facetData = <strong class="reserved">null</strong>;
<a id="L573" name="L573"></a> 573             <strong class="reserved">short</strong> presentFacets = 0 ;
<a id="L574" name="L574"></a> 574             <strong class="reserved">short</strong> fixedFacets = 0 ;
<a id="L575" name="L575"></a> 575 
<a id="L576" name="L576"></a> 576             <strong class="reserved">if</strong> (simpleContent!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L577" name="L577"></a> 577                 <a href="../S/5097.html#L264" title="Defined at 264 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">FacetInfo</a> fi = <a href="../S/5097.html#L279" title="Defined at 279 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseFacets</a>(simpleContent, baseValidator, schemaDoc);
<a id="L578" name="L578"></a> 578                 attrNode = fi.nodeAfterFacets;
<a id="L579" name="L579"></a> 579                 facetData = fi.facetdata;
<a id="L580" name="L580"></a> 580                 presentFacets = fi.fPresentFacets;
<a id="L581" name="L581"></a> 581                 fixedFacets = fi.fFixedFacets;
<a id="L582" name="L582"></a> 582             <em class="brace">}</em>
<a id="L583" name="L583"></a> 583 
<a id="L584" name="L584"></a> 584             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/16629.html" title="Multiple defined in 2 places.">genAnonTypeName</a>(simpleContentElement);
<a id="L585" name="L585"></a> 585             fXSSimpleType = fSchemaHandler.fDVFactory.<a href="../D/14282.html" title="Multiple defined in 3 places.">createTypeRestriction</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,schemaDoc.fTargetNamespace,(<strong class="reserved">short</strong>)0,baseValidator,<strong class="reserved">null</strong>);
<a id="L586" name="L586"></a> 586             <strong class="reserved">try</strong><em class="brace">{</em>
<a id="L587" name="L587"></a> 587                 fValidationState.<a href="../S/5239.html#L80" title="Defined at 80 in src/com/sun/org/apache/xerces/internal/impl/validation/ValidationState.java.">setNamespaceSupport</a>(schemaDoc.fNamespaceSupport);
<a id="L588" name="L588"></a> 588                 fXSSimpleType.<a href="../D/11452.html" title="Multiple defined in 4 places.">applyFacets</a>(facetData, presentFacets, fixedFacets, fValidationState);
<a id="L589" name="L589"></a> 589             <em class="brace">}</em><strong class="reserved">catch</strong>(<a href="../S/5226.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/impl/dv/InvalidDatatypeFacetException.java.">InvalidDatatypeFacetException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>)<em class="brace">{</em>
<a id="L590" name="L590"></a> 590                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/17020.html" title="Multiple defined in 3 places.">getArgs</a>(), simpleContent);
<a id="L591" name="L591"></a> 591                 <em class="comment">// Recreate the type, ignoring the facets</em>
<a id="L592" name="L592"></a> 592                 fXSSimpleType = fSchemaHandler.fDVFactory.<a href="../D/14282.html" title="Multiple defined in 3 places.">createTypeRestriction</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,schemaDoc.fTargetNamespace,(<strong class="reserved">short</strong>)0,baseValidator,<strong class="reserved">null</strong>);
<a id="L593" name="L593"></a> 593             <em class="brace">}</em>
<a id="L594" name="L594"></a> 594             <strong class="reserved">if</strong> (fXSSimpleType <strong class="reserved">instanceof</strong> <a href="../S/5206.html#L65" title="Defined at 65 in src/com/sun/org/apache/xerces/internal/impl/dv/xs/XSSimpleTypeDecl.java.">XSSimpleTypeDecl</a>) <em class="brace">{</em>
<a id="L595" name="L595"></a> 595                 ((<a href="../S/5206.html#L65" title="Defined at 65 in src/com/sun/org/apache/xerces/internal/impl/dv/xs/XSSimpleTypeDecl.java.">XSSimpleTypeDecl</a>)fXSSimpleType).<a href="../S/5206.html#L3199" title="Defined at 3199 in src/com/sun/org/apache/xerces/internal/impl/dv/xs/XSSimpleTypeDecl.java.">setAnonymous</a>(<strong class="reserved">true</strong>);
<a id="L596" name="L596"></a> 596             <em class="brace">}</em>
<a id="L597" name="L597"></a> 597 
<a id="L598" name="L598"></a> 598             <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L599" name="L599"></a> 599             <em class="comment">// Traverse any attributes</em>
<a id="L600" name="L600"></a> 600             <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L601" name="L601"></a> 601             <strong class="reserved">if</strong> (attrNode != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602                 <strong class="reserved">if</strong> (!<a href="../S/5090.html#L1141" title="Defined at 1141 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">isAttrOrAttrGroup</a>(attrNode)) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L604" name="L604"></a> 604                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L605" name="L605"></a> 605                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L606" name="L606"></a> 606                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(attrNode)<em class="brace">}</em>,
<a id="L607" name="L607"></a> 607                             attrNode);
<a id="L608" name="L608"></a> 608                 <em class="brace">}</em>
<a id="L609" name="L609"></a> 609                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>=<a href="../S/5097.html#L602" title="Defined at 602 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAttrsAndAttrGrps</a>(attrNode,fAttrGrp,
<a id="L610" name="L610"></a> 610                         schemaDoc,grammar,fComplexTypeDecl);
<a id="L611" name="L611"></a> 611                 <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L612" name="L612"></a> 612                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L613" name="L613"></a> 613                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L614" name="L614"></a> 614                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L615" name="L615"></a> 615                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)<em class="brace">}</em>,
<a id="L616" name="L616"></a> 616                             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L617" name="L617"></a> 617                 <em class="brace">}</em>
<a id="L618" name="L618"></a> 618             <em class="brace">}</em>
<a id="L619" name="L619"></a> 619 
<a id="L620" name="L620"></a> 620             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L621" name="L621"></a> 621                 <a href="../S/5090.html#L965" title="Defined at 965 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">mergeAttributes</a>(baseComplexType.<a href="../D/17059.html" title="Multiple defined in 2 places.">getAttrGrp</a>(), fAttrGrp, fName, <strong class="reserved">false</strong>, simpleContentElement);
<a id="L622" name="L622"></a> 622             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> e) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L624" name="L624"></a> 624                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L625" name="L625"></a> 625                 <strong class="reserved">throw</strong> e;
<a id="L626" name="L626"></a> 626             <em class="brace">}</em>
<a id="L627" name="L627"></a> 627             <em class="comment">// Prohibited uses must be removed after merge for RESTRICTION</em>
<a id="L628" name="L628"></a> 628             fAttrGrp.<a href="../S/5070.html#L126" title="Defined at 126 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">removeProhibitedAttrs</a>();
<a id="L629" name="L629"></a> 629 
<a id="L630" name="L630"></a> 630             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] errArgs=fAttrGrp.<a href="../S/5070.html#L172" title="Defined at 172 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">validRestrictionOf</a>(fName, baseComplexType.<a href="../D/17059.html" title="Multiple defined in 2 places.">getAttrGrp</a>());
<a id="L631" name="L631"></a> 631             <strong class="reserved">if</strong> (errArgs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L632" name="L632"></a> 632                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L633" name="L633"></a> 633                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L634" name="L634"></a> 634                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)errArgs[errArgs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1],
<a id="L635" name="L635"></a> 635                         errArgs, attrNode);
<a id="L636" name="L636"></a> 636             <em class="brace">}</em>
<a id="L637" name="L637"></a> 637 
<a id="L638" name="L638"></a> 638         <em class="brace">}</em>
<a id="L639" name="L639"></a> 639         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L640" name="L640"></a> 640         <em class="comment">// Process a EXTENSION</em>
<a id="L641" name="L641"></a> 641         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L642" name="L642"></a> 642         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L643" name="L643"></a> 643             fXSSimpleType = baseValidator;
<a id="L644" name="L644"></a> 644             <strong class="reserved">if</strong> (simpleContent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645                 <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L646" name="L646"></a> 646                 <em class="comment">// Traverse any attributes</em>
<a id="L647" name="L647"></a> 647                 <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L648" name="L648"></a> 648                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> attrNode = simpleContent;
<a id="L649" name="L649"></a> 649                 <strong class="reserved">if</strong> (!<a href="../S/5090.html#L1141" title="Defined at 1141 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">isAttrOrAttrGroup</a>(attrNode)) <em class="brace">{</em>
<a id="L650" name="L650"></a> 650                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L651" name="L651"></a> 651                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L652" name="L652"></a> 652                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L653" name="L653"></a> 653                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(attrNode)<em class="brace">}</em>,
<a id="L654" name="L654"></a> 654                             attrNode);
<a id="L655" name="L655"></a> 655                 <em class="brace">}</em>
<a id="L656" name="L656"></a> 656                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>=<a href="../S/5097.html#L602" title="Defined at 602 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAttrsAndAttrGrps</a>(attrNode,fAttrGrp,
<a id="L657" name="L657"></a> 657                         schemaDoc,grammar,fComplexTypeDecl);
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659                 <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L660" name="L660"></a> 660                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L661" name="L661"></a> 661                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L662" name="L662"></a> 662                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L663" name="L663"></a> 663                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)<em class="brace">}</em>,
<a id="L664" name="L664"></a> 664                             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L665" name="L665"></a> 665                 <em class="brace">}</em>
<a id="L666" name="L666"></a> 666                 <em class="comment">// Remove prohibited uses.   Should be done prior to any merge.</em>
<a id="L667" name="L667"></a> 667                 fAttrGrp.<a href="../S/5070.html#L126" title="Defined at 126 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">removeProhibitedAttrs</a>();
<a id="L668" name="L668"></a> 668             <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<a id="L670" name="L670"></a> 670             <strong class="reserved">if</strong> (baseComplexType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L671" name="L671"></a> 671                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L672" name="L672"></a> 672                     <a href="../S/5090.html#L965" title="Defined at 965 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">mergeAttributes</a>(baseComplexType.<a href="../D/17059.html" title="Multiple defined in 2 places.">getAttrGrp</a>(), fAttrGrp, fName, <strong class="reserved">true</strong>, simpleContentElement);
<a id="L673" name="L673"></a> 673                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> e) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L675" name="L675"></a> 675                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L676" name="L676"></a> 676                     <strong class="reserved">throw</strong> e;
<a id="L677" name="L677"></a> 677                 <em class="brace">}</em>
<a id="L678" name="L678"></a> 678             <em class="brace">}</em>
<a id="L679" name="L679"></a> 679         <em class="brace">}</em>
<a id="L680" name="L680"></a> 680         <em class="comment">// and finally, since we've nothing more to traverse, we can</em>
<a id="L681" name="L681"></a> 681         <em class="comment">// return the attributes (and thereby reset the namespace support)</em>
<a id="L682" name="L682"></a> 682         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(simpleContentAttrValues, schemaDoc);
<a id="L683" name="L683"></a> 683         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L684" name="L684"></a> 684     <em class="brace">}</em>
<a id="L685" name="L685"></a> 685 
<a id="L686" name="L686"></a> 686     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5090.html#L315" title="Referred from 315 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">traverseComplexContent</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexContentElement,
<a id="L687" name="L687"></a> 687             <strong class="reserved">boolean</strong> mixedOnType, <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L688" name="L688"></a> 688             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar)
<a id="L689" name="L689"></a> 689     <strong class="reserved">throws</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> <em class="brace">{</em>
<a id="L690" name="L690"></a> 690 
<a id="L691" name="L691"></a> 691 
<a id="L692" name="L692"></a> 692         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] complexContentAttrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(complexContentElement, <strong class="reserved">false</strong>,
<a id="L693" name="L693"></a> 693                 schemaDoc);
<a id="L694" name="L694"></a> 694 
<a id="L695" name="L695"></a> 695 
<a id="L696" name="L696"></a> 696         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L697" name="L697"></a> 697         <em class="comment">// Determine if this is mixed content</em>
<a id="L698" name="L698"></a> 698         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L699" name="L699"></a> 699         <strong class="reserved">boolean</strong> mixedContent = mixedOnType;
<a id="L700" name="L700"></a> 700         <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> mixedAtt     = (<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) complexContentAttrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_MIXED];
<a id="L701" name="L701"></a> 701         <strong class="reserved">if</strong> (mixedAtt != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L702" name="L702"></a> 702             mixedContent = mixedAtt.<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L703" name="L703"></a> 703         <em class="brace">}</em>
<a id="L704" name="L704"></a> 704 
<a id="L705" name="L705"></a> 705 
<a id="L706" name="L706"></a> 706         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L707" name="L707"></a> 707         <em class="comment">// Since the type must have complex content, set the simple type validators</em>
<a id="L708" name="L708"></a> 708         <em class="comment">// to null</em>
<a id="L709" name="L709"></a> 709         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L710" name="L710"></a> 710         fXSSimpleType = <strong class="reserved">null</strong>;
<a id="L711" name="L711"></a> 711 
<a id="L712" name="L712"></a> 712         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(complexContentElement);
<a id="L713" name="L713"></a> 713         <strong class="reserved">if</strong> (complexContent != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(complexContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714             <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(complexContent, complexContentAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L715" name="L715"></a> 715             complexContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContent);
<a id="L716" name="L716"></a> 716         <em class="brace">}</em>
<a id="L717" name="L717"></a> 717         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L718" name="L718"></a> 718             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(complexContentElement);
<a id="L719" name="L719"></a> 719             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L720" name="L720"></a> 720                 <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(complexContentElement, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, complexContentAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L721" name="L721"></a> 721             <em class="brace">}</em>
<a id="L722" name="L722"></a> 722         <em class="brace">}</em>
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724         <em class="comment">// If there are no children, return</em>
<a id="L725" name="L725"></a> 725         <strong class="reserved">if</strong> (complexContent==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L727" name="L727"></a> 727             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.2",
<a id="L728" name="L728"></a> 728                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_COMPLEXCONTENT<em class="brace">}</em>,
<a id="L729" name="L729"></a> 729                     complexContentElement);
<a id="L730" name="L730"></a> 730         <em class="brace">}</em>
<a id="L731" name="L731"></a> 731 
<a id="L732" name="L732"></a> 732         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L733" name="L733"></a> 733         <em class="comment">// The content should be either "restriction" or "extension"</em>
<a id="L734" name="L734"></a> 734         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L735" name="L735"></a> 735         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> complexContentName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(complexContent);
<a id="L736" name="L736"></a> 736         <strong class="reserved">if</strong> (complexContentName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_RESTRICTION))
<a id="L737" name="L737"></a> 737             fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L738" name="L738"></a> 738         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (complexContentName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_EXTENSION))
<a id="L739" name="L739"></a> 739             fDerivedBy = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION;
<a id="L740" name="L740"></a> 740         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L741" name="L741"></a> 741             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L742" name="L742"></a> 742             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L743" name="L743"></a> 743                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, complexContentName<em class="brace">}</em>, complexContent);
<a id="L744" name="L744"></a> 744         <em class="brace">}</em>
<a id="L745" name="L745"></a> 745         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elemTmp = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContent);
<a id="L746" name="L746"></a> 746         <strong class="reserved">if</strong> (elemTmp != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L747" name="L747"></a> 747             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L748" name="L748"></a> 748             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> siblingName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(elemTmp);
<a id="L749" name="L749"></a> 749             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L750" name="L750"></a> 750                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, siblingName<em class="brace">}</em>, elemTmp);
<a id="L751" name="L751"></a> 751         <em class="brace">}</em>
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] derivationTypeAttrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(complexContent, <strong class="reserved">false</strong>,
<a id="L754" name="L754"></a> 754                 schemaDoc);
<a id="L755" name="L755"></a> 755         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> baseTypeName = (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>)  derivationTypeAttrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_BASE];
<a id="L756" name="L756"></a> 756 
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L759" name="L759"></a> 759         <em class="comment">// Need a base type.  Check that it's a complex type</em>
<a id="L760" name="L760"></a> 760         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L761" name="L761"></a> 761         <strong class="reserved">if</strong> (baseTypeName==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L762" name="L762"></a> 762             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L763" name="L763"></a> 763             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L764" name="L764"></a> 764             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-att-must-appear",
<a id="L765" name="L765"></a> 765                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>complexContentName, "base"<em class="brace">}</em>, complexContent);
<a id="L766" name="L766"></a> 766         <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<a id="L768" name="L768"></a> 768         <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>)fSchemaHandler.<a href="../D/19320.html" title="Multiple defined in 2 places.">getGlobalDecl</a>(schemaDoc,
<a id="L769" name="L769"></a> 769                 <a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a>.TYPEDECL_TYPE,
<a id="L770" name="L770"></a> 770                 baseTypeName,
<a id="L771" name="L771"></a> 771                 complexContent);
<a id="L772" name="L772"></a> 772 
<a id="L773" name="L773"></a> 773         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L774" name="L774"></a> 774             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L775" name="L775"></a> 775             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L776" name="L776"></a> 776             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>();
<a id="L777" name="L777"></a> 777         <em class="brace">}</em>
<a id="L778" name="L778"></a> 778 
<a id="L779" name="L779"></a> 779         <strong class="reserved">if</strong> (! (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> <strong class="reserved">instanceof</strong> <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L781" name="L781"></a> 781             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L782" name="L782"></a> 782             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("src-ct.1",
<a id="L783" name="L783"></a> 783                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>, complexContent);
<a id="L784" name="L784"></a> 784         <em class="brace">}</em>
<a id="L785" name="L785"></a> 785         <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a> baseType = (<a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L786" name="L786"></a> 786         fBaseType = baseType;
<a id="L787" name="L787"></a> 787 
<a id="L788" name="L788"></a> 788         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L789" name="L789"></a> 789         <em class="comment">// Check that the base permits the derivation</em>
<a id="L790" name="L790"></a> 790         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L791" name="L791"></a> 791         <strong class="reserved">if</strong> ((baseType.<a href="../D/19077.html" title="Multiple defined in 4 places.">getFinal</a>() &amp; fDerivedBy)!=0) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L793" name="L793"></a> 793             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L794" name="L794"></a> 794             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> errorKey = (fDerivedBy==<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_EXTENSION) ?
<a id="L795" name="L795"></a> 795                     "cos-ct-extends.1.1" : "derivation-ok-restriction.1";
<a id="L796" name="L796"></a> 796             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>(errorKey,
<a id="L797" name="L797"></a> 797                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, fBaseType.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>, complexContent);
<a id="L798" name="L798"></a> 798         <em class="brace">}</em>
<a id="L799" name="L799"></a> 799 
<a id="L800" name="L800"></a> 800         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L801" name="L801"></a> 801         <em class="comment">// Skip over any potential annotations</em>
<a id="L802" name="L802"></a> 802         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L803" name="L803"></a> 803         complexContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(complexContent);
<a id="L804" name="L804"></a> 804 
<a id="L805" name="L805"></a> 805         <strong class="reserved">if</strong> (complexContent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L806" name="L806"></a> 806             <em class="comment">// traverse annotation if any</em>
<a id="L807" name="L807"></a> 807             <strong class="reserved">if</strong> (<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(complexContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L808" name="L808"></a> 808                 <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(complexContent, derivationTypeAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L809" name="L809"></a> 809                 complexContent = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContent);
<a id="L810" name="L810"></a> 810             <em class="brace">}</em>
<a id="L811" name="L811"></a> 811             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L812" name="L812"></a> 812                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(complexContent);
<a id="L813" name="L813"></a> 813                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814                     <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(complexContent, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, derivationTypeAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L815" name="L815"></a> 815                 <em class="brace">}</em>
<a id="L816" name="L816"></a> 816             <em class="brace">}</em>
<a id="L817" name="L817"></a> 817             <strong class="reserved">if</strong> (complexContent !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L818" name="L818"></a> 818                     <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(complexContent).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION))<em class="brace">{</em>
<a id="L819" name="L819"></a> 819                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L820" name="L820"></a> 820                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L821" name="L821"></a> 821                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L822" name="L822"></a> 822                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION<em class="brace">}</em>, complexContent);
<a id="L823" name="L823"></a> 823             <em class="brace">}</em>
<a id="L824" name="L824"></a> 824         <em class="brace">}</em>
<a id="L825" name="L825"></a> 825         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L826" name="L826"></a> 826             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(complexContent);
<a id="L827" name="L827"></a> 827             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L828" name="L828"></a> 828                 <a href="../D/10654.html" title="Multiple defined in 4 places.">addAnnotation</a>(<a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(complexContent, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, derivationTypeAttrValues, <strong class="reserved">false</strong>, schemaDoc));
<a id="L829" name="L829"></a> 829             <em class="brace">}</em>
<a id="L830" name="L830"></a> 830         <em class="brace">}</em>
<a id="L831" name="L831"></a> 831         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L832" name="L832"></a> 832         <em class="comment">// Process the content.  Note:  should I try to catch any complexType errors</em>
<a id="L833" name="L833"></a> 833         <em class="comment">// here in order to return the attr array?</em>
<a id="L834" name="L834"></a> 834         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L835" name="L835"></a> 835         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L836" name="L836"></a> 836             <a href="../S/5090.html#L1017" title="Defined at 1017 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">processComplexContent</a>(complexContent, mixedContent, <strong class="reserved">true</strong>, schemaDoc,
<a id="L837" name="L837"></a> 837                     grammar);
<a id="L838" name="L838"></a> 838         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> e) <em class="brace">{</em>
<a id="L839" name="L839"></a> 839             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L840" name="L840"></a> 840             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L841" name="L841"></a> 841             <strong class="reserved">throw</strong> e;
<a id="L842" name="L842"></a> 842         <em class="brace">}</em>
<a id="L843" name="L843"></a> 843 
<a id="L844" name="L844"></a> 844         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L845" name="L845"></a> 845         <em class="comment">// Compose the final content and attribute uses</em>
<a id="L846" name="L846"></a> 846         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L847" name="L847"></a> 847         <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> baseContent = (<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>)baseType.<a href="../D/21423.html" title="Multiple defined in 3 places.">getParticle</a>();
<a id="L848" name="L848"></a> 848         <strong class="reserved">if</strong> (fDerivedBy==<a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849 
<a id="L850" name="L850"></a> 850             <em class="comment">// This is an RESTRICTION</em>
<a id="L851" name="L851"></a> 851 
<a id="L852" name="L852"></a> 852             <em class="comment">// N.B. derivation-ok-restriction.5.3 is checked under schema</em>
<a id="L853" name="L853"></a> 853             <em class="comment">// full checking.   That's because we need to wait until locals are</em>
<a id="L854" name="L854"></a> 854             <em class="comment">// traversed so that occurrence information is correct.</em>
<a id="L855" name="L855"></a> 855 
<a id="L856" name="L856"></a> 856 
<a id="L857" name="L857"></a> 857             <strong class="reserved">if</strong> (fContentType == <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED &amp;&amp;
<a id="L858" name="L858"></a> 858                     baseType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>() != <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED) <em class="brace">{</em>
<a id="L859" name="L859"></a> 859                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L860" name="L860"></a> 860                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L861" name="L861"></a> 861                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("derivation-ok-restriction.5.4.1.2",
<a id="L862" name="L862"></a> 862                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName, baseType.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>,
<a id="L863" name="L863"></a> 863                         complexContent);
<a id="L864" name="L864"></a> 864             <em class="brace">}</em>
<a id="L865" name="L865"></a> 865 
<a id="L866" name="L866"></a> 866             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L867" name="L867"></a> 867                 <a href="../S/5090.html#L965" title="Defined at 965 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">mergeAttributes</a>(baseType.<a href="../D/17059.html" title="Multiple defined in 2 places.">getAttrGrp</a>(), fAttrGrp, fName, <strong class="reserved">false</strong>, complexContent);
<a id="L868" name="L868"></a> 868             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> e) <em class="brace">{</em>
<a id="L869" name="L869"></a> 869                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L870" name="L870"></a> 870                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L871" name="L871"></a> 871                 <strong class="reserved">throw</strong> e;
<a id="L872" name="L872"></a> 872             <em class="brace">}</em>
<a id="L873" name="L873"></a> 873             <em class="comment">// Remove prohibited uses.   Must be done after merge for RESTRICTION.</em>
<a id="L874" name="L874"></a> 874             fAttrGrp.<a href="../S/5070.html#L126" title="Defined at 126 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">removeProhibitedAttrs</a>();
<a id="L875" name="L875"></a> 875 
<a id="L876" name="L876"></a> 876             <strong class="reserved">if</strong> (baseType != <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.fAnyType) <em class="brace">{</em>
<a id="L877" name="L877"></a> 877                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] errArgs = fAttrGrp.<a href="../S/5070.html#L172" title="Defined at 172 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">validRestrictionOf</a>(fName, baseType.<a href="../D/17059.html" title="Multiple defined in 2 places.">getAttrGrp</a>());
<a id="L878" name="L878"></a> 878                 <strong class="reserved">if</strong> (errArgs != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L879" name="L879"></a> 879                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L880" name="L880"></a> 880                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L881" name="L881"></a> 881                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)errArgs[errArgs.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1],
<a id="L882" name="L882"></a> 882                             errArgs, complexContent);
<a id="L883" name="L883"></a> 883                 <em class="brace">}</em>
<a id="L884" name="L884"></a> 884             <em class="brace">}</em>
<a id="L885" name="L885"></a> 885         <em class="brace">}</em>
<a id="L886" name="L886"></a> 886         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L887" name="L887"></a> 887 
<a id="L888" name="L888"></a> 888             <em class="comment">// This is an EXTENSION</em>
<a id="L889" name="L889"></a> 889 
<a id="L890" name="L890"></a> 890             <em class="comment">// Create the particle</em>
<a id="L891" name="L891"></a> 891             <strong class="reserved">if</strong> (fParticle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L892" name="L892"></a> 892                 fContentType = baseType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>();
<a id="L893" name="L893"></a> 893                 fXSSimpleType = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)baseType.<a href="../D/22521.html" title="Multiple defined in 3 places.">getSimpleType</a>();
<a id="L894" name="L894"></a> 894                 fParticle = baseContent;
<a id="L895" name="L895"></a> 895             <em class="brace">}</em>
<a id="L896" name="L896"></a> 896             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (baseType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>() == <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_EMPTY) <em class="brace">{</em>
<a id="L897" name="L897"></a> 897             <em class="brace">}</em>
<a id="L898" name="L898"></a> 898             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L899" name="L899"></a> 899                 <em class="comment">//</em>
<a id="L900" name="L900"></a> 900                 <em class="comment">// Check if the contentType of the base is consistent with the new type</em>
<a id="L901" name="L901"></a> 901                 <em class="comment">// cos-ct-extends.1.4.3.2</em>
<a id="L902" name="L902"></a> 902                 <strong class="reserved">if</strong> (fContentType == <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_ELEMENT &amp;&amp;
<a id="L903" name="L903"></a> 903                         baseType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>() != <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_ELEMENT) <em class="brace">{</em>
<a id="L904" name="L904"></a> 904                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L905" name="L905"></a> 905                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L906" name="L906"></a> 906                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("cos-ct-extends.1.4.3.2.2.1.a",
<a id="L907" name="L907"></a> 907                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName<em class="brace">}</em>, complexContent);
<a id="L908" name="L908"></a> 908                 <em class="brace">}</em>
<a id="L909" name="L909"></a> 909                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fContentType == <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED &amp;&amp;
<a id="L910" name="L910"></a> 910                         baseType.<a href="../D/17970.html" title="Multiple defined in 10 places.">getContentType</a>() != <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED) <em class="brace">{</em>
<a id="L911" name="L911"></a> 911                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L912" name="L912"></a> 912                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L913" name="L913"></a> 913                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("cos-ct-extends.1.4.3.2.2.1.b",
<a id="L914" name="L914"></a> 914                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName<em class="brace">}</em>, complexContent);
<a id="L915" name="L915"></a> 915                 <em class="brace">}</em>
<a id="L916" name="L916"></a> 916 
<a id="L917" name="L917"></a> 917                 <em class="comment">// if the content of either type is an "all" model group, error.</em>
<a id="L918" name="L918"></a> 918                 <strong class="reserved">if</strong> (fParticle.fType == <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_MODELGROUP &amp;&amp;
<a id="L919" name="L919"></a> 919                         ((<a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>)fParticle.fValue).fCompositor == <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>.MODELGROUP_ALL ||
<a id="L920" name="L920"></a> 920                         ((<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>)baseType.<a href="../D/21423.html" title="Multiple defined in 3 places.">getParticle</a>()).fType == <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_MODELGROUP &amp;&amp;
<a id="L921" name="L921"></a> 921                         ((<a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>)(((<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>)baseType.<a href="../D/21423.html" title="Multiple defined in 3 places.">getParticle</a>())).fValue).fCompositor == <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>.MODELGROUP_ALL) <em class="brace">{</em>
<a id="L922" name="L922"></a> 922                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L923" name="L923"></a> 923                     fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L924" name="L924"></a> 924                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("cos-all-limited.1.2",
<a id="L925" name="L925"></a> 925                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><em class="brace">}</em>, complexContent);
<a id="L926" name="L926"></a> 926                 <em class="brace">}</em>
<a id="L927" name="L927"></a> 927                 <em class="comment">// the "sequence" model group to contain both particles</em>
<a id="L928" name="L928"></a> 928                 <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a> <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a> = <strong class="reserved">new</strong> <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>();
<a id="L929" name="L929"></a> 929                 <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fCompositor = <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>.MODELGROUP_SEQUENCE;
<a id="L930" name="L930"></a> 930                 <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticleCount = 2;
<a id="L931" name="L931"></a> 931                 <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticles = <strong class="reserved">new</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>[2];
<a id="L932" name="L932"></a> 932                 <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticles[0] = (<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>)baseType.<a href="../D/21423.html" title="Multiple defined in 3 places.">getParticle</a>();
<a id="L933" name="L933"></a> 933                 <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticles[1] = fParticle;
<a id="L934" name="L934"></a> 934                 <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fAnnotations = <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>.EMPTY_LIST;
<a id="L935" name="L935"></a> 935                 <em class="comment">// the particle to contain the above sequence</em>
<a id="L936" name="L936"></a> 936                 <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> particle = <strong class="reserved">new</strong> <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>();
<a id="L937" name="L937"></a> 937                 particle.fType = <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>.PARTICLE_MODELGROUP;
<a id="L938" name="L938"></a> 938                 particle.fValue = <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>;
<a id="L939" name="L939"></a> 939                 particle.fAnnotations = <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>.EMPTY_LIST;
<a id="L940" name="L940"></a> 940 
<a id="L941" name="L941"></a> 941                 fParticle = particle;
<a id="L942" name="L942"></a> 942             <em class="brace">}</em>
<a id="L943" name="L943"></a> 943 
<a id="L944" name="L944"></a> 944             <em class="comment">// Remove prohibited uses.   Must be done before merge for EXTENSION.</em>
<a id="L945" name="L945"></a> 945             fAttrGrp.<a href="../S/5070.html#L126" title="Defined at 126 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">removeProhibitedAttrs</a>();
<a id="L946" name="L946"></a> 946             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L947" name="L947"></a> 947                 <a href="../S/5090.html#L965" title="Defined at 965 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">mergeAttributes</a>(baseType.<a href="../D/17059.html" title="Multiple defined in 2 places.">getAttrGrp</a>(), fAttrGrp, fName, <strong class="reserved">true</strong>, complexContent);
<a id="L948" name="L948"></a> 948             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> e) <em class="brace">{</em>
<a id="L949" name="L949"></a> 949                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L950" name="L950"></a> 950                 fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L951" name="L951"></a> 951                 <strong class="reserved">throw</strong> e;
<a id="L952" name="L952"></a> 952             <em class="brace">}</em>
<a id="L953" name="L953"></a> 953 
<a id="L954" name="L954"></a> 954         <em class="brace">}</em>
<a id="L955" name="L955"></a> 955 
<a id="L956" name="L956"></a> 956         <em class="comment">// and *finally* we can legitimately return the attributes!</em>
<a id="L957" name="L957"></a> 957         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(complexContentAttrValues, schemaDoc);
<a id="L958" name="L958"></a> 958         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(derivationTypeAttrValues, schemaDoc);
<a id="L959" name="L959"></a> 959 
<a id="L960" name="L960"></a> 960     <em class="brace">}</em> <em class="comment">// end of traverseComplexContent</em>
<a id="L961" name="L961"></a> 961 
<a id="L962" name="L962"></a> 962 
<a id="L963" name="L963"></a> 963     <em class="comment">// This method merges attribute uses from the base, into the derived set.</em>
<a id="L964" name="L964"></a> 964     <em class="comment">// LM: may want to merge with attributeGroup processing.</em>
<a id="L965" name="L965"></a> 965     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/23229.html" title="Multiple referred from 4 places.">mergeAttributes</a>(<a href="../S/5070.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">XSAttributeGroupDecl</a> fromAttrGrp,
<a id="L966" name="L966"></a> 966             <a href="../S/5070.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">XSAttributeGroupDecl</a> toAttrGrp,
<a id="L967" name="L967"></a> 967             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>,
<a id="L968" name="L968"></a> 968             <strong class="reserved">boolean</strong> extension,
<a id="L969" name="L969"></a> 969             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem)
<a id="L970" name="L970"></a> 970     <strong class="reserved">throws</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> <em class="brace">{</em>
<a id="L971" name="L971"></a> 971 
<a id="L972" name="L972"></a> 972         <a href="../S/5373.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xs/XSObjectList.java.">XSObjectList</a> attrUseS = fromAttrGrp.<a href="../D/17107.html" title="Multiple defined in 5 places.">getAttributeUses</a>();
<a id="L973" name="L973"></a> 973         <a href="../S/5113.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeUseImpl.java.">XSAttributeUseImpl</a> oneAttrUse = <strong class="reserved">null</strong>;
<a id="L974" name="L974"></a> 974         <strong class="reserved">int</strong> attrCount = attrUseS.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L975" name="L975"></a> 975         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;attrCount; i++) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976             oneAttrUse = (<a href="../S/5113.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeUseImpl.java.">XSAttributeUseImpl</a>)attrUseS.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L977" name="L977"></a> 977             <a href="../S/5342.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSAttributeUse.java.">XSAttributeUse</a> existingAttrUse = toAttrGrp.<a href="../D/17105.html" title="Multiple defined in 3 places.">getAttributeUse</a>(oneAttrUse.fAttrDecl.<a href="../D/20808.html" title="Multiple defined in 28 places.">getNamespace</a>(),
<a id="L978" name="L978"></a> 978                     oneAttrUse.fAttrDecl.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L979" name="L979"></a> 979             <strong class="reserved">if</strong> (existingAttrUse == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L980" name="L980"></a> 980 
<a id="L981" name="L981"></a> 981                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> idName = toAttrGrp.<a href="../S/5070.html#L73" title="Defined at 73 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">addAttributeUse</a>(oneAttrUse);
<a id="L982" name="L982"></a> 982                 <strong class="reserved">if</strong> (idName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L983" name="L983"></a> 983                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("ct-props-correct.5",
<a id="L984" name="L984"></a> 984                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>, idName, oneAttrUse.fAttrDecl.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>,
<a id="L985" name="L985"></a> 985                             elem);
<a id="L986" name="L986"></a> 986                 <em class="brace">}</em>
<a id="L987" name="L987"></a> 987             <em class="brace">}</em>
<a id="L988" name="L988"></a> 988             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (existingAttrUse != oneAttrUse) <em class="brace">{</em>
<a id="L989" name="L989"></a> 989                 <strong class="reserved">if</strong> (extension) <em class="brace">{</em>
<a id="L990" name="L990"></a> 990                     <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("ct-props-correct.4",
<a id="L991" name="L991"></a> 991                             <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>, oneAttrUse.fAttrDecl.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>,
<a id="L992" name="L992"></a> 992                             elem);
<a id="L993" name="L993"></a> 993                     <em class="comment">// Recover by using the attribute use from the base type,</em>
<a id="L994" name="L994"></a> 994                     <em class="comment">// to make the resulting schema "more valid".</em>
<a id="L995" name="L995"></a> 995                     toAttrGrp.<a href="../S/5070.html#L97" title="Defined at 97 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">replaceAttributeUse</a>(existingAttrUse, oneAttrUse);
<a id="L996" name="L996"></a> 996                 <em class="brace">}</em>
<a id="L997" name="L997"></a> 997             <em class="brace">}</em>
<a id="L998" name="L998"></a> 998         <em class="brace">}</em>
<a id="L999" name="L999"></a> 999         <em class="comment">// For extension, the wildcard must be formed by doing a union of the wildcards</em>
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">if</strong> (extension) <em class="brace">{</em>
<a id="L1001" name="L1001"></a>1001             <strong class="reserved">if</strong> (toAttrGrp.fAttributeWC==<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002                 toAttrGrp.fAttributeWC = fromAttrGrp.fAttributeWC;
<a id="L1003" name="L1003"></a>1003             <em class="brace">}</em>
<a id="L1004" name="L1004"></a>1004             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (fromAttrGrp.fAttributeWC != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1005" name="L1005"></a>1005                 toAttrGrp.fAttributeWC = toAttrGrp.fAttributeWC.<a href="../S/5130.html#L186" title="Defined at 186 in src/com/sun/org/apache/xerces/internal/impl/xs/XSWildcardDecl.java.">performUnionWith</a>(fromAttrGrp.fAttributeWC, toAttrGrp.fAttributeWC.fProcessContents);
<a id="L1006" name="L1006"></a>1006                 <strong class="reserved">if</strong> (toAttrGrp.fAttributeWC == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007                     <em class="comment">// REVISIT: XML Schema 1.0 2nd edition doesn't actually specify this constraint. It's a bug in the spec</em>
<a id="L1008" name="L1008"></a>1008                     <em class="comment">// which will eventually be fixed. We're just guessing what the error code will be. If it turns out to be</em>
<a id="L1009" name="L1009"></a>1009                     <em class="comment">// something else we'll need to change it. -- mrglavas</em>
<a id="L1010" name="L1010"></a>1010                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("src-ct.5", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a><em class="brace">}</em>, elem);
<a id="L1011" name="L1011"></a>1011                 <em class="brace">}</em>
<a id="L1012" name="L1012"></a>1012             <em class="brace">}</em>
<a id="L1013" name="L1013"></a>1013 
<a id="L1014" name="L1014"></a>1014         <em class="brace">}</em>
<a id="L1015" name="L1015"></a>1015     <em class="brace">}</em>
<a id="L1016" name="L1016"></a>1016 
<a id="L1017" name="L1017"></a>1017     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25114.html" title="Multiple referred from 3 places.">processComplexContent</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexContentChild,
<a id="L1018" name="L1018"></a>1018             <strong class="reserved">boolean</strong> <a href="../S/2485.html#L197" title="Defined at 197 in src/java/text/Bidi.java.">isMixed</a>, <strong class="reserved">boolean</strong> isDerivation,
<a id="L1019" name="L1019"></a>1019             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc, <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar)
<a id="L1020" name="L1020"></a>1020     <strong class="reserved">throws</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a> <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021 
<a id="L1022" name="L1022"></a>1022         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> attrNode = <strong class="reserved">null</strong>;
<a id="L1023" name="L1023"></a>1023         <a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a> particle = <strong class="reserved">null</strong>;
<a id="L1024" name="L1024"></a>1024 
<a id="L1025" name="L1025"></a>1025         <em class="comment">// whether there is a particle with empty model group</em>
<a id="L1026" name="L1026"></a>1026         <strong class="reserved">boolean</strong> emptyParticle = <strong class="reserved">false</strong>;
<a id="L1027" name="L1027"></a>1027         <strong class="reserved">if</strong> (complexContentChild != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028             <em class="comment">// -------------------------------------------------------------</em>
<a id="L1029" name="L1029"></a>1029             <em class="comment">// GROUP, ALL, SEQUENCE or CHOICE, followed by attributes, if specified.</em>
<a id="L1030" name="L1030"></a>1030             <em class="comment">// Note that it's possible that only attributes are specified.</em>
<a id="L1031" name="L1031"></a>1031             <em class="comment">// -------------------------------------------------------------</em>
<a id="L1032" name="L1032"></a>1032 
<a id="L1033" name="L1033"></a>1033 
<a id="L1034" name="L1034"></a>1034             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> childName = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(complexContentChild);
<a id="L1035" name="L1035"></a>1035 
<a id="L1036" name="L1036"></a>1036             <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_GROUP)) <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037 
<a id="L1038" name="L1038"></a>1038                 particle = fSchemaHandler.fGroupTraverser.<a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(complexContentChild,
<a id="L1039" name="L1039"></a>1039                         schemaDoc, grammar);
<a id="L1040" name="L1040"></a>1040                 attrNode = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContentChild);
<a id="L1041" name="L1041"></a>1041             <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SEQUENCE)) <em class="brace">{</em>
<a id="L1043" name="L1043"></a>1043                 particle = <a href="../S/5087.html#L154" title="Defined at 154 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractParticleTraverser.java.">traverseSequence</a>(complexContentChild,schemaDoc,grammar,
<a id="L1044" name="L1044"></a>1044                         NOT_ALL_CONTEXT,fComplexTypeDecl);
<a id="L1045" name="L1045"></a>1045                 <strong class="reserved">if</strong> (particle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046                     <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a> <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a> = (<a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>)particle.fValue;
<a id="L1047" name="L1047"></a>1047                     <strong class="reserved">if</strong> (<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticleCount == 0)
<a id="L1048" name="L1048"></a>1048                         emptyParticle = <strong class="reserved">true</strong>;
<a id="L1049" name="L1049"></a>1049                 <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050                 attrNode = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContentChild);
<a id="L1051" name="L1051"></a>1051             <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_CHOICE)) <em class="brace">{</em>
<a id="L1053" name="L1053"></a>1053                 particle = <a href="../S/5087.html#L178" title="Defined at 178 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractParticleTraverser.java.">traverseChoice</a>(complexContentChild,schemaDoc,grammar,
<a id="L1054" name="L1054"></a>1054                         NOT_ALL_CONTEXT,fComplexTypeDecl);
<a id="L1055" name="L1055"></a>1055                 <strong class="reserved">if</strong> (particle != <strong class="reserved">null</strong> &amp;&amp; particle.fMinOccurs == 0) <em class="brace">{</em>
<a id="L1056" name="L1056"></a>1056                     <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a> <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a> = (<a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>)particle.fValue;
<a id="L1057" name="L1057"></a>1057                     <strong class="reserved">if</strong> (<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticleCount == 0)
<a id="L1058" name="L1058"></a>1058                         emptyParticle = <strong class="reserved">true</strong>;
<a id="L1059" name="L1059"></a>1059                 <em class="brace">}</em>
<a id="L1060" name="L1060"></a>1060                 attrNode = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContentChild);
<a id="L1061" name="L1061"></a>1061             <em class="brace">}</em>
<a id="L1062" name="L1062"></a>1062             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (childName.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ALL)) <em class="brace">{</em>
<a id="L1063" name="L1063"></a>1063                 particle = <a href="../S/5087.html#L60" title="Defined at 60 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractParticleTraverser.java.">traverseAll</a>(complexContentChild,schemaDoc,grammar,
<a id="L1064" name="L1064"></a>1064                         PROCESSING_ALL_GP,fComplexTypeDecl);
<a id="L1065" name="L1065"></a>1065                 <strong class="reserved">if</strong> (particle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066                     <a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a> <a href="../D/23914.html" title="Multiple defined in 8 places.">group</a> = (<a href="../S/5131.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSModelGroupImpl.java.">XSModelGroupImpl</a>)particle.fValue;
<a id="L1067" name="L1067"></a>1067                     <strong class="reserved">if</strong> (<a href="../D/23914.html" title="Multiple defined in 8 places.">group</a>.fParticleCount == 0)
<a id="L1068" name="L1068"></a>1068                         emptyParticle = <strong class="reserved">true</strong>;
<a id="L1069" name="L1069"></a>1069                 <em class="brace">}</em>
<a id="L1070" name="L1070"></a>1070                 attrNode = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(complexContentChild);
<a id="L1071" name="L1071"></a>1071             <em class="brace">}</em>
<a id="L1072" name="L1072"></a>1072             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1073" name="L1073"></a>1073                 <em class="comment">// Should be attributes here - will check below...</em>
<a id="L1074" name="L1074"></a>1074                 attrNode = complexContentChild;
<a id="L1075" name="L1075"></a>1075             <em class="brace">}</em>
<a id="L1076" name="L1076"></a>1076         <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077 
<a id="L1078" name="L1078"></a>1078         <em class="comment">// if the particle is empty because there is no non-annotation chidren,</em>
<a id="L1079" name="L1079"></a>1079         <em class="comment">// we need to make the particle itself null (so that the effective</em>
<a id="L1080" name="L1080"></a>1080         <em class="comment">// content is empty).</em>
<a id="L1081" name="L1081"></a>1081         <strong class="reserved">if</strong> (emptyParticle) <em class="brace">{</em>
<a id="L1082" name="L1082"></a>1082             <em class="comment">// get the first child</em>
<a id="L1083" name="L1083"></a>1083             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(complexContentChild);
<a id="L1084" name="L1084"></a>1084             <em class="comment">// if it's annotation, get the next one</em>
<a id="L1085" name="L1085"></a>1085             <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1086" name="L1086"></a>1086                 <strong class="reserved">if</strong> (<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087                     child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L1088" name="L1088"></a>1088                 <em class="brace">}</em>
<a id="L1089" name="L1089"></a>1089             <em class="brace">}</em>
<a id="L1090" name="L1090"></a>1090             <em class="comment">// if there is no (non-annotation) children, mark particle empty</em>
<a id="L1091" name="L1091"></a>1091             <strong class="reserved">if</strong> (child == <strong class="reserved">null</strong>)
<a id="L1092" name="L1092"></a>1092                 particle = <strong class="reserved">null</strong>;
<a id="L1093" name="L1093"></a>1093             <em class="comment">// child != null means we might have seen an element with</em>
<a id="L1094" name="L1094"></a>1094             <em class="comment">// minOccurs == maxOccurs == 0</em>
<a id="L1095" name="L1095"></a>1095         <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096 
<a id="L1097" name="L1097"></a>1097         <strong class="reserved">if</strong> (particle == <strong class="reserved">null</strong> &amp;&amp; <a href="../S/2485.html#L197" title="Defined at 197 in src/java/text/Bidi.java.">isMixed</a>) <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098             particle = <a href="../S/5042.html#L50" title="Defined at 50 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">XSConstraints</a>.<a href="../S/5042.html#L61" title="Defined at 61 in src/com/sun/org/apache/xerces/internal/impl/xs/XSConstraints.java.">getEmptySequence</a>();
<a id="L1099" name="L1099"></a>1099         <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100         fParticle = particle;
<a id="L1101" name="L1101"></a>1101 
<a id="L1102" name="L1102"></a>1102         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L1103" name="L1103"></a>1103         <em class="comment">// Set the content type</em>
<a id="L1104" name="L1104"></a>1104         <em class="comment">// -----------------------------------------------------------------------</em>
<a id="L1105" name="L1105"></a>1105         <strong class="reserved">if</strong> (fParticle == <strong class="reserved">null</strong>)
<a id="L1106" name="L1106"></a>1106             fContentType = <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_EMPTY;
<a id="L1107" name="L1107"></a>1107         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/2485.html#L197" title="Defined at 197 in src/java/text/Bidi.java.">isMixed</a>)
<a id="L1108" name="L1108"></a>1108             fContentType = <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED;
<a id="L1109" name="L1109"></a>1109         <strong class="reserved">else</strong>
<a id="L1110" name="L1110"></a>1110             fContentType = <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_ELEMENT;
<a id="L1111" name="L1111"></a>1111 
<a id="L1112" name="L1112"></a>1112 
<a id="L1113" name="L1113"></a>1113         <em class="comment">// -------------------------------------------------------------</em>
<a id="L1114" name="L1114"></a>1114         <em class="comment">// Now, process attributes</em>
<a id="L1115" name="L1115"></a>1115         <em class="comment">// -------------------------------------------------------------</em>
<a id="L1116" name="L1116"></a>1116         <strong class="reserved">if</strong> (attrNode != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1117" name="L1117"></a>1117             <strong class="reserved">if</strong> (!<a href="../S/5090.html#L1141" title="Defined at 1141 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">isAttrOrAttrGroup</a>(attrNode)) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L1119" name="L1119"></a>1119                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(attrNode)<em class="brace">}</em>,
<a id="L1120" name="L1120"></a>1120                         attrNode);
<a id="L1121" name="L1121"></a>1121             <em class="brace">}</em>
<a id="L1122" name="L1122"></a>1122             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> =
<a id="L1123" name="L1123"></a>1123                 <a href="../S/5097.html#L602" title="Defined at 602 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAttrsAndAttrGrps</a>(attrNode,fAttrGrp,schemaDoc,grammar,fComplexTypeDecl);
<a id="L1124" name="L1124"></a>1124             <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/5090.html#L130" title="Defined at 130 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">ComplexTypeRecoverableError</a>("s4s-elt-invalid-content.1",
<a id="L1126" name="L1126"></a>1126                         <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>fName,<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)<em class="brace">}</em>,
<a id="L1127" name="L1127"></a>1127                         <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1128" name="L1128"></a>1128             <em class="brace">}</em>
<a id="L1129" name="L1129"></a>1129             <em class="comment">// Only remove prohibited attribute uses if this isn't a derived type</em>
<a id="L1130" name="L1130"></a>1130             <em class="comment">// Derivation-specific code worries about this elsewhere</em>
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">if</strong> (!isDerivation) <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132                 fAttrGrp.<a href="../S/5070.html#L126" title="Defined at 126 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">removeProhibitedAttrs</a>();
<a id="L1133" name="L1133"></a>1133             <em class="brace">}</em>
<a id="L1134" name="L1134"></a>1134         <em class="brace">}</em>
<a id="L1135" name="L1135"></a>1135 
<a id="L1136" name="L1136"></a>1136 
<a id="L1137" name="L1137"></a>1137 
<a id="L1138" name="L1138"></a>1138     <em class="brace">}</em> <em class="comment">// end processComplexContent</em>
<a id="L1139" name="L1139"></a>1139 
<a id="L1140" name="L1140"></a>1140 
<a id="L1141" name="L1141"></a>1141     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/21184.html" title="Multiple referred from 3 places.">isAttrOrAttrGroup</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e) <em class="brace">{</em>
<a id="L1142" name="L1142"></a>1142         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(e);
<a id="L1143" name="L1143"></a>1143 
<a id="L1144" name="L1144"></a>1144         <strong class="reserved">if</strong> (<a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ATTRIBUTE) ||
<a id="L1145" name="L1145"></a>1145                 <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ATTRIBUTEGROUP) ||
<a id="L1146" name="L1146"></a>1146                 <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANYATTRIBUTE))
<a id="L1147" name="L1147"></a>1147             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1148" name="L1148"></a>1148         <strong class="reserved">else</strong>
<a id="L1149" name="L1149"></a>1149             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1150" name="L1150"></a>1150     <em class="brace">}</em>
<a id="L1151" name="L1151"></a>1151 
<a id="L1152" name="L1152"></a>1152     <strong class="reserved">private</strong> <strong class="reserved">void</strong> traverseSimpleContentDecl(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> simpleContentDecl) <em class="brace">{</em>
<a id="L1153" name="L1153"></a>1153     <em class="brace">}</em>
<a id="L1154" name="L1154"></a>1154 
<a id="L1155" name="L1155"></a>1155     <strong class="reserved">private</strong> <strong class="reserved">void</strong> traverseComplexContentDecl(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexContentDecl,
<a id="L1156" name="L1156"></a>1156             <strong class="reserved">boolean</strong> mixedOnComplexTypeDecl) <em class="brace">{</em>
<a id="L1157" name="L1157"></a>1157     <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158 
<div class="comment">
      Generate a name for an anonymous type</div>
<a id="L1162" name="L1162"></a>1162     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14838.html" title="Multiple referred from 3 places.">genAnonTypeName</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> complexTypeDecl) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163 
<a id="L1164" name="L1164"></a>1164         <em class="comment">// Generate a unique name for the anonymous type by concatenating together the</em>
<a id="L1165" name="L1165"></a>1165         <em class="comment">// names of parent nodes</em>
<a id="L1166" name="L1166"></a>1166         <em class="comment">// The name is quite good for debugging/error purposes, but we may want to</em>
<a id="L1167" name="L1167"></a>1167         <em class="comment">// revisit how this is done for performance reasons (LM).</em>
<a id="L1168" name="L1168"></a>1168         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>("#AnonType_");
<a id="L1169" name="L1169"></a>1169         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>(complexTypeDecl);
<a id="L1170" name="L1170"></a>1170         <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong> &amp;&amp; (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22122.html" title="Multiple defined in 25 places.">getRoot</a>(<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)))) <em class="brace">{</em>
<a id="L1171" name="L1171"></a>1171             <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME));
<a id="L1172" name="L1172"></a>1172             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1173" name="L1173"></a>1173         <em class="brace">}</em>
<a id="L1174" name="L1174"></a>1174         <strong class="reserved">return</strong> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1175" name="L1175"></a>1175     <em class="brace">}</em>
<a id="L1176" name="L1176"></a>1176 
<a id="L1177" name="L1177"></a>1177 
<a id="L1178" name="L1178"></a>1178     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5090.html#L341" title="Referred from 341 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">handleComplexTypeError</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> messageId,<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] args,
<a id="L1179" name="L1179"></a>1179             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e) <em class="brace">{</em>
<a id="L1180" name="L1180"></a>1180 
<a id="L1181" name="L1181"></a>1181         <strong class="reserved">if</strong> (messageId!=<strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1182" name="L1182"></a>1182             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>(messageId, args, e);
<a id="L1183" name="L1183"></a>1183         <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184 
<a id="L1185" name="L1185"></a>1185         <em class="comment">//</em>
<a id="L1186" name="L1186"></a>1186         <em class="comment">//  Mock up the typeInfo structure so that there won't be problems during</em>
<a id="L1187" name="L1187"></a>1187         <em class="comment">//  validation</em>
<a id="L1188" name="L1188"></a>1188         <em class="comment">//</em>
<a id="L1189" name="L1189"></a>1189         fBaseType = <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.fAnyType;
<a id="L1190" name="L1190"></a>1190         fContentType = <a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>.CONTENTTYPE_MIXED;
<a id="L1191" name="L1191"></a>1191         fXSSimpleType = <strong class="reserved">null</strong>;
<a id="L1192" name="L1192"></a>1192         fParticle = <a href="../S/5090.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">getErrorContent</a>();
<a id="L1193" name="L1193"></a>1193         <em class="comment">// REVISIT: do we need to remove all attribute uses already added into</em>
<a id="L1194" name="L1194"></a>1194         <em class="comment">// the attribute group? maybe it's ok to leave them there. -SG</em>
<a id="L1195" name="L1195"></a>1195         fAttrGrp.fAttributeWC = <a href="../S/5090.html#L94" title="Defined at 94 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDComplexTypeTraverser.java.">getErrorWildcard</a>();
<a id="L1196" name="L1196"></a>1196 
<a id="L1197" name="L1197"></a>1197         <strong class="reserved">return</strong>;
<a id="L1198" name="L1198"></a>1198 
<a id="L1199" name="L1199"></a>1199     <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200 
<a id="L1201" name="L1201"></a>1201     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11983.html" title="Multiple referred from 2 places.">contentBackup</a>() <em class="brace">{</em>
<a id="L1202" name="L1202"></a>1202         <strong class="reserved">if</strong>(fGlobalStore == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1203" name="L1203"></a>1203             fGlobalStore = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [GLOBAL_NUM];
<a id="L1204" name="L1204"></a>1204             fGlobalStorePos = 0;
<a id="L1205" name="L1205"></a>1205         <em class="brace">}</em>
<a id="L1206" name="L1206"></a>1206         <strong class="reserved">if</strong>(fGlobalStorePos == fGlobalStore.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L1207" name="L1207"></a>1207             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> [] <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a> = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[fGlobalStorePos+GLOBAL_NUM];
<a id="L1208" name="L1208"></a>1208             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(fGlobalStore, 0, <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a>, 0, fGlobalStorePos);
<a id="L1209" name="L1209"></a>1209             fGlobalStore = <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a>;
<a id="L1210" name="L1210"></a>1210         <em class="brace">}</em>
<a id="L1211" name="L1211"></a>1211         fGlobalStore[fGlobalStorePos++] = fComplexTypeDecl;
<a id="L1212" name="L1212"></a>1212         fGlobalStore[fGlobalStorePos++] = fIsAbstract?<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE:<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE;
<a id="L1213" name="L1213"></a>1213         fGlobalStore[fGlobalStorePos++] = fName ;
<a id="L1214" name="L1214"></a>1214         fGlobalStore[fGlobalStorePos++] = fTargetNamespace;
<a id="L1215" name="L1215"></a>1215         <em class="comment">// let's save ourselves a couple of objects...</em>
<a id="L1216" name="L1216"></a>1216         fGlobalStore[fGlobalStorePos++] = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>((fDerivedBy &lt;&lt; 16) + fFinal);
<a id="L1217" name="L1217"></a>1217         fGlobalStore[fGlobalStorePos++] = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>((fBlock &lt;&lt; 16) + fContentType);
<a id="L1218" name="L1218"></a>1218         fGlobalStore[fGlobalStorePos++] = fBaseType;
<a id="L1219" name="L1219"></a>1219         fGlobalStore[fGlobalStorePos++] = fAttrGrp;
<a id="L1220" name="L1220"></a>1220         fGlobalStore[fGlobalStorePos++] = fParticle;
<a id="L1221" name="L1221"></a>1221         fGlobalStore[fGlobalStorePos++] = fXSSimpleType;
<a id="L1222" name="L1222"></a>1222         fGlobalStore[fGlobalStorePos++] = fAnnotations;
<a id="L1223" name="L1223"></a>1223     <em class="brace">}</em>
<a id="L1224" name="L1224"></a>1224 
<a id="L1225" name="L1225"></a>1225     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11986.html" title="Multiple referred from 2 places.">contentRestore</a>() <em class="brace">{</em>
<a id="L1226" name="L1226"></a>1226         fAnnotations = (<a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [])fGlobalStore[--fGlobalStorePos];
<a id="L1227" name="L1227"></a>1227         fXSSimpleType = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1228" name="L1228"></a>1228         fParticle = (<a href="../S/5110.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/xs/XSParticleDecl.java.">XSParticleDecl</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1229" name="L1229"></a>1229         fAttrGrp = (<a href="../S/5070.html#L44" title="Defined at 44 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAttributeGroupDecl.java.">XSAttributeGroupDecl</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1230" name="L1230"></a>1230         fBaseType = (<a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1231" name="L1231"></a>1231         <strong class="reserved">int</strong> i = ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)(fGlobalStore[--fGlobalStorePos])).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1232" name="L1232"></a>1232         fBlock = (<strong class="reserved">short</strong>)(i &gt;&gt; 16);
<a id="L1233" name="L1233"></a>1233         fContentType = (<strong class="reserved">short</strong>)i;
<a id="L1234" name="L1234"></a>1234         i = ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)(fGlobalStore[--fGlobalStorePos])).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1235" name="L1235"></a>1235         fDerivedBy = (<strong class="reserved">short</strong>)(i &gt;&gt; 16);
<a id="L1236" name="L1236"></a>1236         fFinal = (<strong class="reserved">short</strong>)i;
<a id="L1237" name="L1237"></a>1237         fTargetNamespace = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1238" name="L1238"></a>1238         fName = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1239" name="L1239"></a>1239         fIsAbstract = ((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)fGlobalStore[--fGlobalStorePos]).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L1240" name="L1240"></a>1240         fComplexTypeDecl = (<a href="../S/5102.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/XSComplexTypeDecl.java.">XSComplexTypeDecl</a>)fGlobalStore[--fGlobalStorePos];
<a id="L1241" name="L1241"></a>1241     <em class="brace">}</em>
<a id="L1242" name="L1242"></a>1242 
<a id="L1243" name="L1243"></a>1243     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/9611.html" title="Multiple referred from 32 places.">addAnnotation</a>(<a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation) <em class="brace">{</em>
<a id="L1244" name="L1244"></a>1244         <strong class="reserved">if</strong>(annotation == <strong class="reserved">null</strong>)
<a id="L1245" name="L1245"></a>1245             <strong class="reserved">return</strong>;
<a id="L1246" name="L1246"></a>1246         <em class="comment">// it isn't very likely that there will be more than one annotation</em>
<a id="L1247" name="L1247"></a>1247         <em class="comment">// in a complexType decl.  This saves us fromhaving to push/pop</em>
<a id="L1248" name="L1248"></a>1248         <em class="comment">// one more object from the fGlobalStore, and that's bound</em>
<a id="L1249" name="L1249"></a>1249         <em class="comment">// to be a savings for most applications</em>
<a id="L1250" name="L1250"></a>1250         <strong class="reserved">if</strong>(fAnnotations == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1251" name="L1251"></a>1251             fAnnotations = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a>[1];
<a id="L1252" name="L1252"></a>1252         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1253" name="L1253"></a>1253             <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] tempArray = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a>[fAnnotations.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + 1];
<a id="L1254" name="L1254"></a>1254             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(fAnnotations, 0, tempArray, 0, fAnnotations.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1255" name="L1255"></a>1255             fAnnotations = tempArray;
<a id="L1256" name="L1256"></a>1256         <em class="brace">}</em>
<a id="L1257" name="L1257"></a>1257         fAnnotations[fAnnotations.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1] = annotation;
<a id="L1258" name="L1258"></a>1258     <em class="brace">}</em>
<a id="L1259" name="L1259"></a>1259 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L75">[^]</a><a href="#L1243">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>