<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/time/temporal/WeekFields.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L285">[^]</a><a href="#L1154">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L285" title="Defined at 285.">of</a></li>
<li><a href="#L315" title="Defined at 315.">of</a></li>
<li><a href="#L353" title="Defined at 353.">readObject</a></li>
<li><a href="#L373" title="Defined at 373.">readResolve</a></li>
<li><a href="#L391" title="Defined at 391.">getFirstDayOfWeek</a></li>
<li><a href="#L405" title="Defined at 405.">getMinimalDaysInFirstWeek</a></li>
<li><a href="#L428" title="Defined at 428.">dayOfWeek</a></li>
<li><a href="#L474" title="Defined at 474.">weekOfMonth</a></li>
<li><a href="#L519" title="Defined at 519.">weekOfYear</a></li>
<li><a href="#L569" title="Defined at 569.">weekOfWeekBasedYear</a></li>
<li><a href="#L611" title="Defined at 611.">weekBasedYear</a></li>
<li><a href="#L626" title="Defined at 626.">equals</a></li>
<li><a href="#L642" title="Defined at 642.">hashCode</a></li>
<li><a href="#L653" title="Defined at 653.">toString</a></li>
<li><a href="#L675" title="Defined at 675.">ofDayOfWeekField</a></li>
<li><a href="#L684" title="Defined at 684.">ofWeekOfMonthField</a></li>
<li><a href="#L693" title="Defined at 693.">ofWeekOfYearField</a></li>
<li><a href="#L702" title="Defined at 702.">ofWeekOfWeekBasedYearField</a></li>
<li><a href="#L711" title="Defined at 711.">ofWeekBasedYearField</a></li>
<li><a href="#L724" title="Defined at 724.">ofWeekBasedYear</a></li>
<li><a href="#L759" title="Defined at 759.">getFrom</a></li>
<li><a href="#L775" title="Defined at 775.">localizedDayOfWeek</a></li>
<li><a href="#L781" title="Defined at 781.">localizedDayOfWeek</a></li>
<li><a href="#L786" title="Defined at 786.">localizedWeekOfMonth</a></li>
<li><a href="#L793" title="Defined at 793.">localizedWeekOfYear</a></li>
<li><a href="#L806" title="Defined at 806.">localizedWeekBasedYear</a></li>
<li><a href="#L837" title="Defined at 837.">localizedWeekOfWeekBasedYear</a></li>
<li><a href="#L869" title="Defined at 869.">startOfWeekOffset</a></li>
<li><a href="#L888" title="Defined at 888.">computeWeek</a></li>
<li><a href="#L892" title="Defined at 892.">SuppressWarnings</a></li>
<li><a href="#L894" title="Defined at 894.">adjustInto</a></li>
<li><a href="#L915" title="Defined at 915.">resolve</a></li>
<li><a href="#L957" title="Defined at 957.">resolveWoM</a></li>
<li><a href="#L983" title="Defined at 983.">resolveWoY</a></li>
<li><a href="#L1005" title="Defined at 1005.">resolveWBY</a></li>
<li><a href="#L1032" title="Defined at 1032.">getDisplayName</a></li>
<li><a href="#L1044" title="Defined at 1044.">getBaseUnit</a></li>
<li><a href="#L1049" title="Defined at 1049.">getRangeUnit</a></li>
<li><a href="#L1054" title="Defined at 1054.">isDateBased</a></li>
<li><a href="#L1059" title="Defined at 1059.">isTimeBased</a></li>
<li><a href="#L1064" title="Defined at 1064.">range</a></li>
<li><a href="#L1070" title="Defined at 1070.">isSupportedBy</a></li>
<li><a href="#L1088" title="Defined at 1088.">rangeRefinedBy</a></li>
<li><a href="#L1110" title="Defined at 1110.">rangeByWeek</a></li>
<li><a href="#L1123" title="Defined at 1123.">rangeWeekOfWeekBasedYear</a></li>
<li><a href="#L1154" title="Defined at 1154.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  Copyright (c) 2011-2012, Stephen Colebourne &amp; Michael Nascimento Santos
  All rights reserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
   * Neither the name of JSR-310 nor the names of its contributors
     may be used to endorse or promote products derived from this software
     without specific prior written permission.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<a id="L62" name="L62"></a>  62 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.temporal;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_MONTH;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_WEEK;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.DAY_OF_YEAR;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.MONTH_OF_YEAR;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.YEAR;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.DAYS;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.FOREVER;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.MONTHS;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.WEEKS;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.YEARS;
<a id="L74" name="L74"></a>  74 
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> java.io.IOException;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> java.time.DateTimeException;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> java.time.DayOfWeek;
<a id="L81" name="L81"></a>  81 <strong class="reserved">import</strong> java.time.chrono.ChronoLocalDate;
<a id="L82" name="L82"></a>  82 <strong class="reserved">import</strong> java.time.chrono.Chronology;
<a id="L83" name="L83"></a>  83 <strong class="reserved">import</strong> java.time.format.ResolverStyle;
<a id="L84" name="L84"></a>  84 <strong class="reserved">import</strong> java.util.Locale;
<a id="L85" name="L85"></a>  85 <strong class="reserved">import</strong> java.util.Map;
<a id="L86" name="L86"></a>  86 <strong class="reserved">import</strong> java.util.Objects;
<a id="L87" name="L87"></a>  87 <strong class="reserved">import</strong> java.util.ResourceBundle;
<a id="L88" name="L88"></a>  88 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L89" name="L89"></a>  89 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentMap;
<a id="L90" name="L90"></a>  90 <strong class="reserved">import</strong> sun.util.locale.provider.CalendarDataUtility;
<a id="L91" name="L91"></a>  91 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleProviderAdapter;
<a id="L92" name="L92"></a>  92 <strong class="reserved">import</strong> sun.util.locale.provider.LocaleResources;
<a id="L93" name="L93"></a>  93 
<div class="comment">
  Localized definitions of the day-of-week, week-of-month and week-of-year fields.
  <p>
  A standard week is seven days long, but cultures have different definitions for some
  other aspects of a week. This class represents the definition of the week, for the
  purpose of providing <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> instances.
  </p><p>
  WeekFields provides five fields,
  {@link #dayOfWeek()}, {@link #weekOfMonth()}, {@link #weekOfYear()},
  {@link #weekOfWeekBasedYear()}, and {@link #weekBasedYear()}
  that provide access to the values from any {@linkplain Temporal temporal object}.
  </p><p>
  The computations for day-of-week, week-of-month, and week-of-year are based
  on the  {@linkplain ChronoField#YEAR proleptic-year},
  {@linkplain ChronoField#MONTH_OF_YEAR month-of-year},
  {@linkplain ChronoField#DAY_OF_MONTH day-of-month}, and
  {@linkplain ChronoField#DAY_OF_WEEK ISO day-of-week} which are based on the
  {@linkplain ChronoField#EPOCH_DAY epoch-day} and the chronology.
  The values may not be aligned with the {@linkplain ChronoField#YEAR_OF_ERA year-of-Era}
  depending on the Chronology.
  </p><p>A week is defined by:
  </p><ul><li>The first day-of-week.
  For example, the ISO-8601 standard considers Monday to be the first day-of-week.
  </li><li>The minimal number of days in the first week.
  For example, the ISO-8601 standard counts the first week as needing at least 4 days.
  </li></ul>
  Together these two values allow a year or month to be divided into weeks.
  <h3>Week of Month</h3>
  One field is used: week-of-month.
  The calculation ensures that weeks never overlap a month boundary.
  The month is divided into periods where each period starts on the defined first day-of-week.
  The earliest period is referred to as week 0 if it has less than the minimal number of days
  and week 1 if it has at least the minimal number of days.
  <table cellpadding="0" cellspacing="3" border="0" style="text-align: left; width: 50%;">
  <caption>Examples of WeekFields</caption>
  <tbody><tr><th>Date</th><td>Day-of-week</td>
   <td>First day: Monday<br>Minimal days: 4</td><td>First day: Monday<br>Minimal days: 5</td></tr>
  <tr><th>2008-12-31</th><td>Wednesday</td>
   <td>Week 5 of December 2008</td><td>Week 5 of December 2008</td></tr>
  <tr><th>2009-01-01</th><td>Thursday</td>
   <td>Week 1 of January 2009</td><td>Week 0 of January 2009</td></tr>
  <tr><th>2009-01-04</th><td>Sunday</td>
   <td>Week 1 of January 2009</td><td>Week 0 of January 2009</td></tr>
  <tr><th>2009-01-05</th><td>Monday</td>
   <td>Week 2 of January 2009</td><td>Week 1 of January 2009</td></tr>
  </tbody></table>
  <h3>Week of Year</h3>
  One field is used: week-of-year.
  The calculation ensures that weeks never overlap a year boundary.
  The year is divided into periods where each period starts on the defined first day-of-week.
  The earliest period is referred to as week 0 if it has less than the minimal number of days
  and week 1 if it has at least the minimal number of days.
  <h3>Week Based Year</h3>
  Two fields are used for week-based-year, one for the
  {@link #weekOfWeekBasedYear() week-of-week-based-year} and one for
  {@link #weekBasedYear() week-based-year}.  In a week-based-year, each week
  belongs to only a single year.  Week 1 of a year is the first week that
  starts on the first day-of-week and has at least the minimum number of days.
  The first and last weeks of a year may contain days from the
  previous calendar year or next calendar year respectively.
  <table cellpadding="0" cellspacing="3" border="0" style="text-align: left; width: 50%;">
  <caption>Examples of WeekFields for week-based-year</caption>
  <tbody><tr><th>Date</th><td>Day-of-week</td>
   <td>First day: Monday<br>Minimal days: 4</td><td>First day: Monday<br>Minimal days: 5</td></tr>
  <tr><th>2008-12-31</th><td>Wednesday</td>
   <td>Week 1 of 2009</td><td>Week 53 of 2008</td></tr>
  <tr><th>2009-01-01</th><td>Thursday</td>
   <td>Week 1 of 2009</td><td>Week 53 of 2008</td></tr>
  <tr><th>2009-01-04</th><td>Sunday</td>
   <td>Week 1 of 2009</td><td>Week 53 of 2008</td></tr>
  <tr><th>2009-01-05</th><td>Monday</td>
   <td>Week 2 of 2009</td><td>Week 1 of 2009</td></tr>
  </tbody></table>
  @implSpec
  This class is immutable and thread-safe.
  @since 1.8</div>
<a id="L179" name="L179"></a> 179 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8751.html" title="Multiple referred from 20 places.">WeekFields</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L180" name="L180"></a> 180     <em class="comment">// implementation notes</em>
<a id="L181" name="L181"></a> 181     <em class="comment">// querying week-of-month or week-of-year should return the week value bound within the month/year</em>
<a id="L182" name="L182"></a> 182     <em class="comment">// however, setting the week value should be lenient (use plus/minus weeks)</em>
<a id="L183" name="L183"></a> 183     <em class="comment">// allow week-of-month outer range [0 to 6]</em>
<a id="L184" name="L184"></a> 184     <em class="comment">// allow week-of-year outer range [0 to 54]</em>
<a id="L185" name="L185"></a> 185     <em class="comment">// this is because callers shouldn't be expected to know the details of validity</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      The cache of rules by firstDayOfWeek plus minimalDays.
      Initialized first to be available for definition of ISO, etc.</div>
<a id="L191" name="L191"></a> 191     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>&gt; CACHE = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;(4, 0.75f, 2);
<a id="L192" name="L192"></a> 192 
<div class="comment">
      The ISO-8601 definition, where a week starts on Monday and the first week
      has a minimum of 4 days.
      <p>
      The ISO-8601 standard defines a calendar system based on weeks.
      It uses the week-based-year and week-of-week-based-year concepts to split
      up the passage of days instead of the standard year/month/day.
      </p><p>
      Note that the first week may start in the previous calendar year.
      Note also that the first few days of a calendar year may be in the
      week-based-year corresponding to the previous calendar year.</p></div>
<a id="L205" name="L205"></a> 205     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> <a href="../S/3721.html#L293" title="Defined at 293 in src/javax/print/attribute/standard/MediaSize.java.">ISO</a> = <strong class="reserved">new</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a>.MONDAY, 4);
<a id="L206" name="L206"></a> 206 
<div class="comment">
      The common definition of a week that starts on Sunday and the first week
      has a minimum of 1 day.
      <p>
      Defined as starting on Sunday and with a minimum of 1 day in the month.
      This week definition is in use in the US and other European countries.</p></div>
<a id="L214" name="L214"></a> 214     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> SUNDAY_START = <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a>.SUNDAY, 1);
<a id="L215" name="L215"></a> 215 
<div class="comment">
      The unit that represents week-based-years for the purpose of addition and subtraction.
      <p>
      This allows a number of week-based-years to be added to, or subtracted from, a date.
      The unit is equal to either 52 or 53 weeks.
      The estimated duration of a week-based-year is the same as that of a standard ISO
      year at <code>365.2425 Days</code>.
      </p><p>
      The rules for addition add the number of week-based-years to the existing value
      for the week-based-year field retaining the week-of-week-based-year
      and day-of-week, unless the week number it too large for the target year.
      In that case, the week is set to the last week of the year
      with the same day-of-week.
      </p><p>
      This unit is an immutable and thread-safe singleton.</p></div>
<a id="L232" name="L232"></a> 232     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> <a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a> = <a href="../S/1478.html#L156" title="Defined at 156 in src/java/time/temporal/IsoFields.java.">IsoFields</a>.<a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a>;
<a id="L233" name="L233"></a> 233 
<div class="comment">
      Serialization version.</div>
<a id="L237" name="L237"></a> 237     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -1177360819670808121L;
<a id="L238" name="L238"></a> 238 
<div class="comment">
      The first day-of-week.</div>
<a id="L242" name="L242"></a> 242     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a> firstDayOfWeek;
<div class="comment">
      The minimal number of days in the first week.</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> minimalDays;
<div class="comment">
      The field used to access the computed DayOfWeek.</div>
<a id="L250" name="L250"></a> 250     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../S/1470.html#L428" title="Defined at 428 in src/java/time/temporal/WeekFields.java.">dayOfWeek</a> = <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>.<a href="../S/1470.html#L675" title="Defined at 675 in src/java/time/temporal/WeekFields.java.">ofDayOfWeekField</a>(<strong class="reserved">this</strong>);
<div class="comment">
      The field used to access the computed WeekOfMonth.</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../S/1470.html#L474" title="Defined at 474 in src/java/time/temporal/WeekFields.java.">weekOfMonth</a> = <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>.<a href="../S/1470.html#L684" title="Defined at 684 in src/java/time/temporal/WeekFields.java.">ofWeekOfMonthField</a>(<strong class="reserved">this</strong>);
<div class="comment">
      The field used to access the computed WeekOfYear.</div>
<a id="L258" name="L258"></a> 258     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../S/1470.html#L519" title="Defined at 519 in src/java/time/temporal/WeekFields.java.">weekOfYear</a> = <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>.<a href="../S/1470.html#L693" title="Defined at 693 in src/java/time/temporal/WeekFields.java.">ofWeekOfYearField</a>(<strong class="reserved">this</strong>);
<div class="comment">
      The field that represents the week-of-week-based-year.
      <p>
      This field allows the week of the week-based-year value to be queried and set.
      </p><p>
      This unit is an immutable and thread-safe singleton.</p></div>
<a id="L266" name="L266"></a> 266     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a> = <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>.<a href="../S/1470.html#L702" title="Defined at 702 in src/java/time/temporal/WeekFields.java.">ofWeekOfWeekBasedYearField</a>(<strong class="reserved">this</strong>);
<div class="comment">
      The field that represents the week-based-year.
      <p>
      This field allows the week-based-year value to be queried and set.
      </p><p>
      This unit is an immutable and thread-safe singleton.</p></div>
<a id="L274" name="L274"></a> 274     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a> = <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>.<a href="../S/1470.html#L711" title="Defined at 711 in src/java/time/temporal/WeekFields.java.">ofWeekBasedYearField</a>(<strong class="reserved">this</strong>);
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Obtains an instance of <code>WeekFields</code> appropriate for a locale.
      <p>
      This will look up appropriate values from the provider of localization data.
      @param locale  the locale to use, not null
      @return the week-definition, not null</p></div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> <a href="../R/23902.html" title="Multiple referred from 267 places.">of</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, "locale");
<a id="L287" name="L287"></a> 287         <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <strong class="reserved">new</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>(), <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1101" title="Defined at 1101 in src/java/util/Locale.java.">getCountry</a>());  <em class="comment">// elminate variants</em>
<a id="L288" name="L288"></a> 288 
<a id="L289" name="L289"></a> 289         <strong class="reserved">int</strong> calDow = CalendarDataUtility.retrieveFirstDayOfWeek(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L290" name="L290"></a> 290         <a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a> dow = <a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a>.SUNDAY.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(calDow - 1);
<a id="L291" name="L291"></a> 291         <strong class="reserved">int</strong> minDays = CalendarDataUtility.retrieveMinimalDaysInFirstWeek(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L292" name="L292"></a> 292         <strong class="reserved">return</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(dow, minDays);
<a id="L293" name="L293"></a> 293     <em class="brace">}</em>
<a id="L294" name="L294"></a> 294 
<div class="comment">
      Obtains an instance of <code>WeekFields</code> from the first day-of-week and minimal days.
      <p>
      The first day-of-week defines the ISO <code>DayOfWeek</code> that is day 1 of the week.
      The minimal number of days in the first week defines how many days must be present
      in a month or year, starting from the first day-of-week, before the week is counted
      as the first week. A value of 1 will count the first day of the month or year as part
      of the first week, whereas a value of 7 will require the whole seven days to be in
      the new month or year.
      </p><p>
      WeekFields instances are singletons; for each unique combination
      of <code>firstDayOfWeek</code> and <code>minimalDaysInFirstWeek</code> the
      the same instance will be returned.
      @param firstDayOfWeek  the first day of the week, not null
      @param minimalDaysInFirstWeek  the minimal number of days in the first week, from 1 to 7
      @return the week-definition, not null
      @throws IllegalArgumentException if the minimal days value is less than one
           or greater than 7</p></div>
<a id="L315" name="L315"></a> 315     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> <a href="../R/23902.html" title="Multiple referred from 267 places.">of</a>(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a> firstDayOfWeek, <strong class="reserved">int</strong> minimalDaysInFirstWeek) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = firstDayOfWeek.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + minimalDaysInFirstWeek;
<a id="L317" name="L317"></a> 317         <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> rules = CACHE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L318" name="L318"></a> 318         <strong class="reserved">if</strong> (rules == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319             rules = <strong class="reserved">new</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>(firstDayOfWeek, minimalDaysInFirstWeek);
<a id="L320" name="L320"></a> 320             CACHE.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, rules);
<a id="L321" name="L321"></a> 321             rules = CACHE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L322" name="L322"></a> 322         <em class="brace">}</em>
<a id="L323" name="L323"></a> 323         <strong class="reserved">return</strong> rules;
<a id="L324" name="L324"></a> 324     <em class="brace">}</em>
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Creates an instance of the definition.
      @param firstDayOfWeek  the first day of the week, not null
      @param minimalDaysInFirstWeek  the minimal number of days in the first week, from 1 to 7
      @throws IllegalArgumentException if the minimal days value is invalid</div>
<a id="L334" name="L334"></a> 334     <strong class="reserved">private</strong> WeekFields(<a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a> firstDayOfWeek, <strong class="reserved">int</strong> minimalDaysInFirstWeek) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(firstDayOfWeek, "firstDayOfWeek");
<a id="L336" name="L336"></a> 336         <strong class="reserved">if</strong> (minimalDaysInFirstWeek &lt; 1 || minimalDaysInFirstWeek &gt; 7) <em class="brace">{</em>
<a id="L337" name="L337"></a> 337             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Minimal number of days is invalid");
<a id="L338" name="L338"></a> 338         <em class="brace">}</em>
<a id="L339" name="L339"></a> 339         <strong class="reserved">this</strong>.firstDayOfWeek = firstDayOfWeek;
<a id="L340" name="L340"></a> 340         <strong class="reserved">this</strong>.minimalDays = minimalDaysInFirstWeek;
<a id="L341" name="L341"></a> 341     <em class="brace">}</em>
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Restore the state of a WeekFields from the stream.
      Check that the values are valid.
      @param s the stream to read
      @throws InvalidObjectException if the serialized object has an invalid
          value for firstDayOfWeek or minimalDays.
      @throws ClassNotFoundException if a class cannot be resolved</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L354" name="L354"></a> 354          <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>
<a id="L355" name="L355"></a> 355     <em class="brace">{</em>
<a id="L356" name="L356"></a> 356         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L357" name="L357"></a> 357         <strong class="reserved">if</strong> (firstDayOfWeek == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("firstDayOfWeek is null");
<a id="L359" name="L359"></a> 359         <em class="brace">}</em>
<a id="L360" name="L360"></a> 360 
<a id="L361" name="L361"></a> 361         <strong class="reserved">if</strong> (minimalDays &lt; 1 || minimalDays &gt; 7) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Minimal number of days is invalid");
<a id="L363" name="L363"></a> 363         <em class="brace">}</em>
<a id="L364" name="L364"></a> 364     <em class="brace">}</em>
<a id="L365" name="L365"></a> 365 
<div class="comment">
      Return the singleton WeekFields associated with the
      <code>firstDayOfWeek</code> and <code>minimalDays</code>.
      @return the singleton WeekFields for the firstDayOfWeek and minimalDays.
      @throws InvalidObjectException if the serialized object has invalid
          values for firstDayOfWeek or minimalDays.</div>
<a id="L373" name="L373"></a> 373     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6954.html#L419" title="Referred from 419 in src/com/sun/corba/se/impl/io/IIOPInputStream.java.">readResolve</a>() <strong class="reserved">throws</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L375" name="L375"></a> 375             <strong class="reserved">return</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(firstDayOfWeek, minimalDays);
<a id="L376" name="L376"></a> 376         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> iae) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Invalid serialized WeekFields: " + iae.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L378" name="L378"></a> 378         <em class="brace">}</em>
<a id="L379" name="L379"></a> 379     <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Gets the first day-of-week.
      <p>
      The first day-of-week varies by culture.
      For example, the US uses Sunday, while France and the ISO-8601 standard use Monday.
      This method returns the first day using the standard <code>DayOfWeek</code> enum.
      @return the first day-of-week, not null</p></div>
<a id="L391" name="L391"></a> 391     <strong class="reserved">public</strong> <a href="../S/1486.html#L109" title="Defined at 109 in src/java/time/DayOfWeek.java.">DayOfWeek</a> <a href="../R/16612.html" title="Multiple referred from 35 places.">getFirstDayOfWeek</a>() <em class="brace">{</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">return</strong> firstDayOfWeek;
<a id="L393" name="L393"></a> 393     <em class="brace">}</em>
<a id="L394" name="L394"></a> 394 
<div class="comment">
      Gets the minimal number of days in the first week.
      <p>
      The number of days considered to define the first week of a month or year
      varies by culture.
      For example, the ISO-8601 requires 4 days (more than half a week) to
      be present before counting the first week.
      @return the minimal number of days in the first week of a month or year, from 1 to 7</p></div>
<a id="L405" name="L405"></a> 405     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17728.html" title="Multiple referred from 24 places.">getMinimalDaysInFirstWeek</a>() <em class="brace">{</em>
<a id="L406" name="L406"></a> 406         <strong class="reserved">return</strong> minimalDays;
<a id="L407" name="L407"></a> 407     <em class="brace">}</em>
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Returns a field to access the day of week based on this <code>WeekFields</code>.
      <p>
      This is similar to {@link ChronoField#DAY_OF_WEEK} but uses values for
      the day-of-week based on this <code>WeekFields</code>.
      The days are numbered from 1 to 7 where the
      {@link #getFirstDayOfWeek() first day-of-week} is assigned the value 1.
      </p><p>
      For example, if the first day-of-week is Sunday, then that will have the
      value 1, with other days ranging from Monday as 2 to Saturday as 7.
      </p><p>
      In the resolving phase of parsing, a localized day-of-week will be converted
      to a standardized <code>ChronoField</code> day-of-week.
      The day-of-week must be in the valid range 1 to 7.
      Other fields in this class build dates using the standardized day-of-week.
      @return a field providing access to the day-of-week with localized numbering, not null</p></div>
<a id="L428" name="L428"></a> 428     <strong class="reserved">public</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../R/12904.html" title="Multiple referred from 92 places.">dayOfWeek</a>() <em class="brace">{</em>
<a id="L429" name="L429"></a> 429         <strong class="reserved">return</strong> <a href="../S/1470.html#L428" title="Defined at 428 in src/java/time/temporal/WeekFields.java.">dayOfWeek</a>;
<a id="L430" name="L430"></a> 430     <em class="brace">}</em>
<a id="L431" name="L431"></a> 431 
<div class="comment">
      Returns a field to access the week of month based on this <code>WeekFields</code>.
      <p>
      This represents the concept of the count of weeks within the month where weeks
      start on a fixed day-of-week, such as Monday.
      This field is typically used with {@link WeekFields#dayOfWeek()}.
      </p><p>
      Week one (1) is the week starting on the {@link WeekFields#getFirstDayOfWeek}
      where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the month.
      Thus, week one may start up to <code>minDays</code> days before the start of the month.
      If the first week starts after the start of the month then the period before is week zero (0).
      </p><p>
      For example:<br>
      - if the 1st day of the month is a Monday, week one starts on the 1st and there is no week zero<br>
      - if the 2nd day of the month is a Monday, week one starts on the 2nd and the 1st is in week zero<br>
      - if the 4th day of the month is a Monday, week one starts on the 4th and the 1st to 3rd is in week zero<br>
      - if the 5th day of the month is a Monday, week two starts on the 5th and the 1st to 4th is in week one<br>
      </p><p>
      This field can be used with any calendar system.
      </p><p>
      In the resolving phase of parsing, a date can be created from a year,
      week-of-month, month-of-year and day-of-week.
      </p><p>
      In {@linkplain ResolverStyle#STRICT strict mode}, all four fields are
      validated against their range of valid values. The week-of-month field
      is validated to ensure that the resulting month is the month requested.
      </p><p>
      In {@linkplain ResolverStyle#SMART smart mode}, all four fields are
      validated against their range of valid values. The week-of-month field
      is validated from 0 to 6, meaning that the resulting date can be in a
      different month to that specified.
      </p><p>
      In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week
      are validated against the range of valid values. The resulting date is calculated
      equivalent to the following four stage approach.
      First, create a date on the first day of the first week of January in the requested year.
      Then take the month-of-year, subtract one, and add the amount in months to the date.
      Then take the week-of-month, subtract one, and add the amount in weeks to the date.
      Finally, adjust to the correct day-of-week within the localized week.
      @return a field providing access to the week-of-month, not null</p></div>
<a id="L474" name="L474"></a> 474     <strong class="reserved">public</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../R/30462.html" title="Multiple referred from 6 places.">weekOfMonth</a>() <em class="brace">{</em>
<a id="L475" name="L475"></a> 475         <strong class="reserved">return</strong> <a href="../S/1470.html#L474" title="Defined at 474 in src/java/time/temporal/WeekFields.java.">weekOfMonth</a>;
<a id="L476" name="L476"></a> 476     <em class="brace">}</em>
<a id="L477" name="L477"></a> 477 
<div class="comment">
      Returns a field to access the week of year based on this <code>WeekFields</code>.
      <p>
      This represents the concept of the count of weeks within the year where weeks
      start on a fixed day-of-week, such as Monday.
      This field is typically used with {@link WeekFields#dayOfWeek()}.
      </p><p>
      Week one(1) is the week starting on the {@link WeekFields#getFirstDayOfWeek}
      where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the year.
      Thus, week one may start up to <code>minDays</code> days before the start of the year.
      If the first week starts after the start of the year then the period before is week zero (0).
      </p><p>
      For example:<br>
      - if the 1st day of the year is a Monday, week one starts on the 1st and there is no week zero<br>
      - if the 2nd day of the year is a Monday, week one starts on the 2nd and the 1st is in week zero<br>
      - if the 4th day of the year is a Monday, week one starts on the 4th and the 1st to 3rd is in week zero<br>
      - if the 5th day of the year is a Monday, week two starts on the 5th and the 1st to 4th is in week one<br>
      </p><p>
      This field can be used with any calendar system.
      </p><p>
      In the resolving phase of parsing, a date can be created from a year,
      week-of-year and day-of-week.
      </p><p>
      In {@linkplain ResolverStyle#STRICT strict mode}, all three fields are
      validated against their range of valid values. The week-of-year field
      is validated to ensure that the resulting year is the year requested.
      </p><p>
      In {@linkplain ResolverStyle#SMART smart mode}, all three fields are
      validated against their range of valid values. The week-of-year field
      is validated from 0 to 54, meaning that the resulting date can be in a
      different year to that specified.
      </p><p>
      In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week
      are validated against the range of valid values. The resulting date is calculated
      equivalent to the following three stage approach.
      First, create a date on the first day of the first week in the requested year.
      Then take the week-of-year, subtract one, and add the amount in weeks to the date.
      Finally, adjust to the correct day-of-week within the localized week.
      @return a field providing access to the week-of-year, not null</p></div>
<a id="L519" name="L519"></a> 519     <strong class="reserved">public</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../R/30464.html" title="Multiple referred from 40 places.">weekOfYear</a>() <em class="brace">{</em>
<a id="L520" name="L520"></a> 520         <strong class="reserved">return</strong> <a href="../S/1470.html#L519" title="Defined at 519 in src/java/time/temporal/WeekFields.java.">weekOfYear</a>;
<a id="L521" name="L521"></a> 521     <em class="brace">}</em>
<a id="L522" name="L522"></a> 522 
<div class="comment">
      Returns a field to access the week of a week-based-year based on this <code>WeekFields</code>.
      <p>
      This represents the concept of the count of weeks within the year where weeks
      start on a fixed day-of-week, such as Monday and each week belongs to exactly one year.
      This field is typically used with {@link WeekFields#dayOfWeek()} and
      {@link WeekFields#weekBasedYear()}.
      </p><p>
      Week one(1) is the week starting on the {@link WeekFields#getFirstDayOfWeek}
      where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the year.
      If the first week starts after the start of the year then the period before
      is in the last week of the previous year.
      </p><p>
      For example:<br>
      - if the 1st day of the year is a Monday, week one starts on the 1st<br>
      - if the 2nd day of the year is a Monday, week one starts on the 2nd and
        the 1st is in the last week of the previous year<br>
      - if the 4th day of the year is a Monday, week one starts on the 4th and
        the 1st to 3rd is in the last week of the previous year<br>
      - if the 5th day of the year is a Monday, week two starts on the 5th and
        the 1st to 4th is in week one<br>
      </p><p>
      This field can be used with any calendar system.
      </p><p>
      In the resolving phase of parsing, a date can be created from a week-based-year,
      week-of-year and day-of-week.
      </p><p>
      In {@linkplain ResolverStyle#STRICT strict mode}, all three fields are
      validated against their range of valid values. The week-of-year field
      is validated to ensure that the resulting week-based-year is the
      week-based-year requested.
      </p><p>
      In {@linkplain ResolverStyle#SMART smart mode}, all three fields are
      validated against their range of valid values. The week-of-week-based-year field
      is validated from 1 to 53, meaning that the resulting date can be in the
      following week-based-year to that specified.
      </p><p>
      In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week
      are validated against the range of valid values. The resulting date is calculated
      equivalent to the following three stage approach.
      First, create a date on the first day of the first week in the requested week-based-year.
      Then take the week-of-week-based-year, subtract one, and add the amount in weeks to the date.
      Finally, adjust to the correct day-of-week within the localized week.
      @return a field providing access to the week-of-week-based-year, not null</p></div>
<a id="L569" name="L569"></a> 569     <strong class="reserved">public</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../R/30463.html" title="Multiple referred from 9 places.">weekOfWeekBasedYear</a>() <em class="brace">{</em>
<a id="L570" name="L570"></a> 570         <strong class="reserved">return</strong> <a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>;
<a id="L571" name="L571"></a> 571     <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<div class="comment">
      Returns a field to access the year of a week-based-year based on this <code>WeekFields</code>.
      <p>
      This represents the concept of the year where weeks start on a fixed day-of-week,
      such as Monday and each week belongs to exactly one year.
      This field is typically used with {@link WeekFields#dayOfWeek()} and
      {@link WeekFields#weekOfWeekBasedYear()}.
      </p><p>
      Week one(1) is the week starting on the {@link WeekFields#getFirstDayOfWeek}
      where there are at least {@link WeekFields#getMinimalDaysInFirstWeek()} days in the year.
      Thus, week one may start before the start of the year.
      If the first week starts after the start of the year then the period before
      is in the last week of the previous year.
      </p><p>
      This field can be used with any calendar system.
      </p><p>
      In the resolving phase of parsing, a date can be created from a week-based-year,
      week-of-year and day-of-week.
      </p><p>
      In {@linkplain ResolverStyle#STRICT strict mode}, all three fields are
      validated against their range of valid values. The week-of-year field
      is validated to ensure that the resulting week-based-year is the
      week-based-year requested.
      </p><p>
      In {@linkplain ResolverStyle#SMART smart mode}, all three fields are
      validated against their range of valid values. The week-of-week-based-year field
      is validated from 1 to 53, meaning that the resulting date can be in the
      following week-based-year to that specified.
      </p><p>
      In {@linkplain ResolverStyle#LENIENT lenient mode}, the year and day-of-week
      are validated against the range of valid values. The resulting date is calculated
      equivalent to the following three stage approach.
      First, create a date on the first day of the first week in the requested week-based-year.
      Then take the week-of-week-based-year, subtract one, and add the amount in weeks to the date.
      Finally, adjust to the correct day-of-week within the localized week.
      @return a field providing access to the week-based-year, not null</p></div>
<a id="L611" name="L611"></a> 611     <strong class="reserved">public</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <a href="../R/30461.html" title="Multiple referred from 7 places.">weekBasedYear</a>() <em class="brace">{</em>
<a id="L612" name="L612"></a> 612         <strong class="reserved">return</strong> <a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>;
<a id="L613" name="L613"></a> 613     <em class="brace">}</em>
<a id="L614" name="L614"></a> 614 
<a id="L615" name="L615"></a> 615     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Checks if this <code>WeekFields</code> is equal to the specified object.
      <p>
      The comparison is based on the entire state of the rules, which is
      the first day-of-week and minimal days.
      @param object  the other rules to compare to, null returns false
      @return true if this is equal to the specified rules</p></div>
<a id="L625" name="L625"></a> 625     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L626" name="L626"></a> 626     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/28389.html" title="Multiple defined in 8 places.">object</a>) <em class="brace">{</em>
<a id="L627" name="L627"></a> 627         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == <a href="../D/28389.html" title="Multiple defined in 8 places.">object</a>) <em class="brace">{</em>
<a id="L628" name="L628"></a> 628             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L629" name="L629"></a> 629         <em class="brace">}</em>
<a id="L630" name="L630"></a> 630         <strong class="reserved">if</strong> (<a href="../D/28389.html" title="Multiple defined in 8 places.">object</a> <strong class="reserved">instanceof</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a>) <em class="brace">{</em>
<a id="L631" name="L631"></a> 631             <strong class="reserved">return</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() == <a href="../D/28389.html" title="Multiple defined in 8 places.">object</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L632" name="L632"></a> 632         <em class="brace">}</em>
<a id="L633" name="L633"></a> 633         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L634" name="L634"></a> 634     <em class="brace">}</em>
<a id="L635" name="L635"></a> 635 
<div class="comment">
      A hash code for this <code>WeekFields</code>.
      @return a suitable hash code</div>
<a id="L641" name="L641"></a> 641     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L642" name="L642"></a> 642     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L643" name="L643"></a> 643         <strong class="reserved">return</strong> firstDayOfWeek.<a href="../D/28579.html" title="Multiple defined in 2 places.">ordinal</a>() * 7 + minimalDays;
<a id="L644" name="L644"></a> 644     <em class="brace">}</em>
<a id="L645" name="L645"></a> 645 
<a id="L646" name="L646"></a> 646     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      A string representation of this <code>WeekFields</code> instance.
      @return the string representation, not null</div>
<a id="L652" name="L652"></a> 652     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L653" name="L653"></a> 653     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L654" name="L654"></a> 654         <strong class="reserved">return</strong> "WeekFields[" + firstDayOfWeek + ',' + minimalDays + ']';
<a id="L655" name="L655"></a> 655     <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 
<a id="L657" name="L657"></a> 657     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Field type that computes DayOfWeek, WeekOfMonth, and WeekOfYear
      based on a WeekFields.
      A separate Field instance is required for each different WeekFields;
      combination of start of week and minimum number of days.
      Constructors are provided to create fields for DayOfWeek, WeekOfMonth,
      and WeekOfYear.</div>
<a id="L666" name="L666"></a> 666     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1623.html" title="Multiple referred from 15 places.">ComputedDayOfField</a> <strong class="reserved">implements</strong> <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> <em class="brace">{</em>
<a id="L667" name="L667"></a> 667 
<div class="comment">
          Returns a field to access the day of week,
          computed based on a WeekFields.
          <p>
          The WeekDefintion of the first day of the week is used with
          the ISO DAY_OF_WEEK field to compute week boundaries.</p></div>
<a id="L675" name="L675"></a> 675         <strong class="reserved">static</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a> <a href="../S/1470.html#L250" title="Referred from 250 in src/java/time/temporal/WeekFields.java.">ofDayOfWeekField</a>(<a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>("DayOfWeek", weekDef, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>, DAY_OF_WEEK_RANGE);
<a id="L677" name="L677"></a> 677         <em class="brace">}</em>
<a id="L678" name="L678"></a> 678 
<div class="comment">
          Returns a field to access the week of month,
          computed based on a WeekFields.
          @see WeekFields#weekOfMonth()</div>
<a id="L684" name="L684"></a> 684         <strong class="reserved">static</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a> <a href="../S/1470.html#L254" title="Referred from 254 in src/java/time/temporal/WeekFields.java.">ofWeekOfMonthField</a>(<a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef) <em class="brace">{</em>
<a id="L685" name="L685"></a> 685             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>("WeekOfMonth", weekDef, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>, <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>, WEEK_OF_MONTH_RANGE);
<a id="L686" name="L686"></a> 686         <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<div class="comment">
          Returns a field to access the week of year,
          computed based on a WeekFields.
          @see WeekFields#weekOfYear()</div>
<a id="L693" name="L693"></a> 693         <strong class="reserved">static</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a> <a href="../S/1470.html#L258" title="Referred from 258 in src/java/time/temporal/WeekFields.java.">ofWeekOfYearField</a>(<a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef) <em class="brace">{</em>
<a id="L694" name="L694"></a> 694             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>("WeekOfYear", weekDef, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>, <a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>, WEEK_OF_YEAR_RANGE);
<a id="L695" name="L695"></a> 695         <em class="brace">}</em>
<a id="L696" name="L696"></a> 696 
<div class="comment">
          Returns a field to access the week of week-based-year,
          computed based on a WeekFields.
          @see WeekFields#weekOfWeekBasedYear()</div>
<a id="L702" name="L702"></a> 702         <strong class="reserved">static</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a> <a href="../S/1470.html#L266" title="Referred from 266 in src/java/time/temporal/WeekFields.java.">ofWeekOfWeekBasedYearField</a>(<a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef) <em class="brace">{</em>
<a id="L703" name="L703"></a> 703             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>("WeekOfWeekBasedYear", weekDef, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>, <a href="../S/1478.html#L156" title="Defined at 156 in src/java/time/temporal/IsoFields.java.">IsoFields</a>.<a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a>, WEEK_OF_WEEK_BASED_YEAR_RANGE);
<a id="L704" name="L704"></a> 704         <em class="brace">}</em>
<a id="L705" name="L705"></a> 705 
<div class="comment">
          Returns a field to access the week of week-based-year,
          computed based on a WeekFields.
          @see WeekFields#weekBasedYear()</div>
<a id="L711" name="L711"></a> 711         <strong class="reserved">static</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a> <a href="../S/1470.html#L274" title="Referred from 274 in src/java/time/temporal/WeekFields.java.">ofWeekBasedYearField</a>(<a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef) <em class="brace">{</em>
<a id="L712" name="L712"></a> 712             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1470.html#L666" title="Defined at 666 in src/java/time/temporal/WeekFields.java.">ComputedDayOfField</a>("WeekBasedYear", weekDef, <a href="../S/1478.html#L156" title="Defined at 156 in src/java/time/temporal/IsoFields.java.">IsoFields</a>.<a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a>, <a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>, <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>.<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>());
<a id="L713" name="L713"></a> 713         <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<div class="comment">
          Return a new week-based-year date of the Chronology, year, week-of-year,
          and dow of week.
          @param chrono The chronology of the new date
          @param yowby the year of the week-based-year
          @param wowby the week of the week-based-year
          @param dow the day of the week
          @return a ChronoLocalDate for the requested year, week of year, and day of week</div>
<a id="L724" name="L724"></a> 724         <strong class="reserved">private</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../R/23925.html" title="Multiple referred from 3 places.">ofWeekBasedYear</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono,
<a id="L725" name="L725"></a> 725                 <strong class="reserved">int</strong> yowby, <strong class="reserved">int</strong> wowby, <strong class="reserved">int</strong> dow) <em class="brace">{</em>
<a id="L726" name="L726"></a> 726             <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = chrono.<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(yowby, 1, 1);
<a id="L727" name="L727"></a> 727             <strong class="reserved">int</strong> ldow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);
<a id="L728" name="L728"></a> 728             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(1, ldow);
<a id="L729" name="L729"></a> 729 
<a id="L730" name="L730"></a> 730             <em class="comment">// Clamp the week of year to keep it in the same year</em>
<a id="L731" name="L731"></a> 731             <strong class="reserved">int</strong> yearLen = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/26825.html" title="Multiple defined in 5 places.">lengthOfYear</a>();
<a id="L732" name="L732"></a> 732             <strong class="reserved">int</strong> newYearWeek = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, yearLen + weekDef.<a href="../D/20653.html" title="Multiple defined in 3 places.">getMinimalDaysInFirstWeek</a>());
<a id="L733" name="L733"></a> 733             wowby = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(wowby, newYearWeek - 1);
<a id="L734" name="L734"></a> 734 
<a id="L735" name="L735"></a> 735             <strong class="reserved">int</strong> days = -<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + (dow - 1) + (wowby - 1) * 7;
<a id="L736" name="L736"></a> 736             <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L737" name="L737"></a> 737         <em class="brace">}</em>
<a id="L738" name="L738"></a> 738 
<a id="L739" name="L739"></a> 739         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L740" name="L740"></a> 740         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef;
<a id="L741" name="L741"></a> 741         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> baseUnit;
<a id="L742" name="L742"></a> 742         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> rangeUnit;
<a id="L743" name="L743"></a> 743         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L744" name="L744"></a> 744 
<a id="L745" name="L745"></a> 745         <strong class="reserved">private</strong> ComputedDayOfField(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1470.html#L179" title="Defined at 179 in src/java/time/temporal/WeekFields.java.">WeekFields</a> weekDef, <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> baseUnit, <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> rangeUnit, <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>) <em class="brace">{</em>
<a id="L746" name="L746"></a> 746             <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L747" name="L747"></a> 747             <strong class="reserved">this</strong>.weekDef = weekDef;
<a id="L748" name="L748"></a> 748             <strong class="reserved">this</strong>.baseUnit = baseUnit;
<a id="L749" name="L749"></a> 749             <strong class="reserved">this</strong>.rangeUnit = rangeUnit;
<a id="L750" name="L750"></a> 750             <strong class="reserved">this</strong>.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a> = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L751" name="L751"></a> 751         <em class="brace">}</em>
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> DAY_OF_WEEK_RANGE = <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, 7);
<a id="L754" name="L754"></a> 754         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> WEEK_OF_MONTH_RANGE = <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(0, 1, 4, 6);
<a id="L755" name="L755"></a> 755         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> WEEK_OF_YEAR_RANGE = <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(0, 1, 52, 54);
<a id="L756" name="L756"></a> 756         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> WEEK_OF_WEEK_BASED_YEAR_RANGE = <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, 52, 53);
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L759" name="L759"></a> 759         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/16723.html" title="Multiple referred from 29 places.">getFrom</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L760" name="L760"></a> 760             <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>) <em class="brace">{</em>  <em class="comment">// day-of-week</em>
<a id="L761" name="L761"></a> 761                 <strong class="reserved">return</strong> <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L762" name="L762"></a> 762             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) <em class="brace">{</em>  <em class="comment">// week-of-month</em>
<a id="L763" name="L763"></a> 763                 <strong class="reserved">return</strong> <a href="../S/1470.html#L786" title="Defined at 786 in src/java/time/temporal/WeekFields.java.">localizedWeekOfMonth</a>(temporal);
<a id="L764" name="L764"></a> 764             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>  <em class="comment">// week-of-year</em>
<a id="L765" name="L765"></a> 765                 <strong class="reserved">return</strong> <a href="../S/1470.html#L793" title="Defined at 793 in src/java/time/temporal/WeekFields.java.">localizedWeekOfYear</a>(temporal);
<a id="L766" name="L766"></a> 766             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a>) <em class="brace">{</em>
<a id="L767" name="L767"></a> 767                 <strong class="reserved">return</strong> <a href="../S/1470.html#L837" title="Defined at 837 in src/java/time/temporal/WeekFields.java.">localizedWeekOfWeekBasedYear</a>(temporal);
<a id="L768" name="L768"></a> 768             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>
<a id="L769" name="L769"></a> 769                 <strong class="reserved">return</strong> <a href="../S/1470.html#L806" title="Defined at 806 in src/java/time/temporal/WeekFields.java.">localizedWeekBasedYear</a>(temporal);
<a id="L770" name="L770"></a> 770             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L771" name="L771"></a> 771                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("unreachable, rangeUnit: " + rangeUnit + ", this: " + <strong class="reserved">this</strong>);
<a id="L772" name="L772"></a> 772             <em class="brace">}</em>
<a id="L773" name="L773"></a> 773         <em class="brace">}</em>
<a id="L774" name="L774"></a> 774 
<a id="L775" name="L775"></a> 775         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/22651.html" title="Multiple referred from 13 places.">localizedDayOfWeek</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776             <strong class="reserved">int</strong> sow = weekDef.<a href="../D/19096.html" title="Multiple defined in 3 places.">getFirstDayOfWeek</a>().<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L777" name="L777"></a> 777             <strong class="reserved">int</strong> isoDow = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);
<a id="L778" name="L778"></a> 778             <strong class="reserved">return</strong> <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(isoDow - sow, 7) + 1;
<a id="L779" name="L779"></a> 779         <em class="brace">}</em>
<a id="L780" name="L780"></a> 780 
<a id="L781" name="L781"></a> 781         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/22651.html" title="Multiple referred from 13 places.">localizedDayOfWeek</a>(<strong class="reserved">int</strong> isoDow) <em class="brace">{</em>
<a id="L782" name="L782"></a> 782             <strong class="reserved">int</strong> sow = weekDef.<a href="../D/19096.html" title="Multiple defined in 3 places.">getFirstDayOfWeek</a>().<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L783" name="L783"></a> 783             <strong class="reserved">return</strong> <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(isoDow - sow, 7) + 1;
<a id="L784" name="L784"></a> 784         <em class="brace">}</em>
<a id="L785" name="L785"></a> 785 
<a id="L786" name="L786"></a> 786         <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../R/22654.html" title="Multiple referred from 3 places.">localizedWeekOfMonth</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L787" name="L787"></a> 787             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L788" name="L788"></a> 788             <strong class="reserved">int</strong> dom = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>);
<a id="L789" name="L789"></a> 789             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(dom, dow);
<a id="L790" name="L790"></a> 790             <strong class="reserved">return</strong> <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, dom);
<a id="L791" name="L791"></a> 791         <em class="brace">}</em>
<a id="L792" name="L792"></a> 792 
<a id="L793" name="L793"></a> 793         <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../R/22656.html" title="Multiple referred from 3 places.">localizedWeekOfYear</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L794" name="L794"></a> 794             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L795" name="L795"></a> 795             <strong class="reserved">int</strong> doy = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L796" name="L796"></a> 796             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(doy, dow);
<a id="L797" name="L797"></a> 797             <strong class="reserved">return</strong> <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, doy);
<a id="L798" name="L798"></a> 798         <em class="brace">}</em>
<a id="L799" name="L799"></a> 799 
<div class="comment">
          Returns the year of week-based-year for the temporal.
          The year can be the previous year, the current year, or the next year.
          @param temporal a date of any chronology, not null
          @return the year of week-based-year for the date</div>
<a id="L806" name="L806"></a> 806         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/22653.html" title="Multiple referred from 2 places.">localizedWeekBasedYear</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L807" name="L807"></a> 807             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L808" name="L808"></a> 808             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L809" name="L809"></a> 809             <strong class="reserved">int</strong> doy = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L810" name="L810"></a> 810             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(doy, dow);
<a id="L811" name="L811"></a> 811             <strong class="reserved">int</strong> week = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, doy);
<a id="L812" name="L812"></a> 812             <strong class="reserved">if</strong> (week == 0) <em class="brace">{</em>
<a id="L813" name="L813"></a> 813                 <em class="comment">// Day is in end of week of previous year; return the previous year</em>
<a id="L814" name="L814"></a> 814                 <strong class="reserved">return</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> - 1;
<a id="L815" name="L815"></a> 815             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L816" name="L816"></a> 816                 <em class="comment">// If getting close to end of year, use higher precision logic</em>
<a id="L817" name="L817"></a> 817                 <em class="comment">// Check if date of year is in partial week associated with next year</em>
<a id="L818" name="L818"></a> 818                 <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> dayRange = temporal.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L819" name="L819"></a> 819                 <strong class="reserved">int</strong> yearLen = (<strong class="reserved">int</strong>)dayRange.<a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>();
<a id="L820" name="L820"></a> 820                 <strong class="reserved">int</strong> newYearWeek = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, yearLen + weekDef.<a href="../D/20653.html" title="Multiple defined in 3 places.">getMinimalDaysInFirstWeek</a>());
<a id="L821" name="L821"></a> 821                 <strong class="reserved">if</strong> (week &gt;= newYearWeek) <em class="brace">{</em>
<a id="L822" name="L822"></a> 822                     <strong class="reserved">return</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> + 1;
<a id="L823" name="L823"></a> 823                 <em class="brace">}</em>
<a id="L824" name="L824"></a> 824             <em class="brace">}</em>
<a id="L825" name="L825"></a> 825             <strong class="reserved">return</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>;
<a id="L826" name="L826"></a> 826         <em class="brace">}</em>
<a id="L827" name="L827"></a> 827 
<div class="comment">
          Returns the week of week-based-year for the temporal.
          The week can be part of the previous year, the current year,
          or the next year depending on the week start and minimum number
          of days.
          @param temporal  a date of any chronology
          @return the week of the year
          @see #localizedWeekBasedYear(java.time.temporal.TemporalAccessor)</div>
<a id="L837" name="L837"></a> 837         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/22655.html" title="Multiple referred from 2 places.">localizedWeekOfWeekBasedYear</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L838" name="L838"></a> 838             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L839" name="L839"></a> 839             <strong class="reserved">int</strong> doy = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L840" name="L840"></a> 840             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(doy, dow);
<a id="L841" name="L841"></a> 841             <strong class="reserved">int</strong> week = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, doy);
<a id="L842" name="L842"></a> 842             <strong class="reserved">if</strong> (week == 0) <em class="brace">{</em>
<a id="L843" name="L843"></a> 843                 <em class="comment">// Day is in end of week of previous year</em>
<a id="L844" name="L844"></a> 844                 <em class="comment">// Recompute from the last day of the previous year</em>
<a id="L845" name="L845"></a> 845                 <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(temporal).<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(temporal);
<a id="L846" name="L846"></a> 846                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/27709.html" title="Multiple defined in 46 places.">minus</a>(doy, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);   <em class="comment">// Back down into previous year</em>
<a id="L847" name="L847"></a> 847                 <strong class="reserved">return</strong> <a href="../S/1470.html#L837" title="Defined at 837 in src/java/time/temporal/WeekFields.java.">localizedWeekOfWeekBasedYear</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);
<a id="L848" name="L848"></a> 848             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (week &gt; 50) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849                 <em class="comment">// If getting close to end of year, use higher precision logic</em>
<a id="L850" name="L850"></a> 850                 <em class="comment">// Check if date of year is in partial week associated with next year</em>
<a id="L851" name="L851"></a> 851                 <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> dayRange = temporal.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L852" name="L852"></a> 852                 <strong class="reserved">int</strong> yearLen = (<strong class="reserved">int</strong>)dayRange.<a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>();
<a id="L853" name="L853"></a> 853                 <strong class="reserved">int</strong> newYearWeek = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, yearLen + weekDef.<a href="../D/20653.html" title="Multiple defined in 3 places.">getMinimalDaysInFirstWeek</a>());
<a id="L854" name="L854"></a> 854                 <strong class="reserved">if</strong> (week &gt;= newYearWeek) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855                     <em class="comment">// Overlaps with week of following year; reduce to week in following year</em>
<a id="L856" name="L856"></a> 856                     week = week - newYearWeek + 1;
<a id="L857" name="L857"></a> 857                 <em class="brace">}</em>
<a id="L858" name="L858"></a> 858             <em class="brace">}</em>
<a id="L859" name="L859"></a> 859             <strong class="reserved">return</strong> week;
<a id="L860" name="L860"></a> 860         <em class="brace">}</em>
<a id="L861" name="L861"></a> 861 
<div class="comment">
          Returns an offset to align week start with a day of month or day of year.
          @param day  the day; 1 through infinity
          @param dow  the day of the week of that day; 1 through 7
          @return  an offset in days to align a day with the start of the first 'full' week</div>
<a id="L869" name="L869"></a> 869         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/28837.html" title="Multiple referred from 7 places.">startOfWeekOffset</a>(<strong class="reserved">int</strong> day, <strong class="reserved">int</strong> dow) <em class="brace">{</em>
<a id="L870" name="L870"></a> 870             <em class="comment">// offset of first day corresponding to the day of week in first 7 days (zero origin)</em>
<a id="L871" name="L871"></a> 871             <strong class="reserved">int</strong> weekStart = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(day - dow, 7);
<a id="L872" name="L872"></a> 872             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = -weekStart;
<a id="L873" name="L873"></a> 873             <strong class="reserved">if</strong> (weekStart + 1 &gt; weekDef.<a href="../D/20653.html" title="Multiple defined in 3 places.">getMinimalDaysInFirstWeek</a>()) <em class="brace">{</em>
<a id="L874" name="L874"></a> 874                 <em class="comment">// The previous week has the minimum days in the current month to be a 'week'</em>
<a id="L875" name="L875"></a> 875                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 7 - weekStart;
<a id="L876" name="L876"></a> 876             <em class="brace">}</em>
<a id="L877" name="L877"></a> 877             <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L878" name="L878"></a> 878         <em class="brace">}</em>
<a id="L879" name="L879"></a> 879 
<div class="comment">
          Returns the week number computed from the reference day and reference dayOfWeek.
          @param offset the offset to align a date with the start of week
              from <a href="#L869" title="Defined at 869.">startOfWeekOffset</a>.
          @param day  the day for which to compute the week number
          @return the week number where zero is used for a partial week and 1 for the first full week</div>
<a id="L888" name="L888"></a> 888         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/11852.html" title="Multiple referred from 11 places.">computeWeek</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> day) <em class="brace">{</em>
<a id="L889" name="L889"></a> 889             <strong class="reserved">return</strong> ((7 + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + (day - 1)) / 7);
<a id="L890" name="L890"></a> 890         <em class="brace">}</em>
<a id="L891" name="L891"></a> 891 
<a id="L892" name="L892"></a> 892         @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L893" name="L893"></a> 893         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L894" name="L894"></a> 894         <strong class="reserved">public</strong> &lt;R <strong class="reserved">extends</strong> <a href="../S/1468.html#L129" title="Defined at 129 in src/java/time/temporal/Temporal.java.">Temporal</a>&gt; R <a href="../R/10079.html" title="Multiple referred from 29 places.">adjustInto</a>(R temporal, <strong class="reserved">long</strong> newValue) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895             <em class="comment">// Check the new value and get the old value of the field</em>
<a id="L896" name="L896"></a> 896             <strong class="reserved">int</strong> newVal = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(newValue, <strong class="reserved">this</strong>);  <em class="comment">// lenient check range</em>
<a id="L897" name="L897"></a> 897             <strong class="reserved">int</strong> currentVal = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<strong class="reserved">this</strong>);
<a id="L898" name="L898"></a> 898             <strong class="reserved">if</strong> (newVal == currentVal) <em class="brace">{</em>
<a id="L899" name="L899"></a> 899                 <strong class="reserved">return</strong> temporal;
<a id="L900" name="L900"></a> 900             <em class="brace">}</em>
<a id="L901" name="L901"></a> 901 
<a id="L902" name="L902"></a> 902             <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>     <em class="comment">// replace year of WeekBasedYear</em>
<a id="L903" name="L903"></a> 903                 <em class="comment">// Create a new date object with the same chronology,</em>
<a id="L904" name="L904"></a> 904                 <em class="comment">// the desired year and the same week and dow.</em>
<a id="L905" name="L905"></a> 905                 <strong class="reserved">int</strong> idow = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(weekDef.<a href="../S/1470.html#L428" title="Defined at 428 in src/java/time/temporal/WeekFields.java.">dayOfWeek</a>);
<a id="L906" name="L906"></a> 906                 <strong class="reserved">int</strong> wowby = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>);
<a id="L907" name="L907"></a> 907                 <strong class="reserved">return</strong> (R) <a href="../S/1470.html#L724" title="Defined at 724 in src/java/time/temporal/WeekFields.java.">ofWeekBasedYear</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(temporal), (<strong class="reserved">int</strong>)newValue, wowby, idow);
<a id="L908" name="L908"></a> 908             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L909" name="L909"></a> 909                 <em class="comment">// Compute the difference and add that using the base unit of the field</em>
<a id="L910" name="L910"></a> 910                 <strong class="reserved">return</strong> (R) temporal.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(newVal - currentVal, baseUnit);
<a id="L911" name="L911"></a> 911             <em class="brace">}</em>
<a id="L912" name="L912"></a> 912         <em class="brace">}</em>
<a id="L913" name="L913"></a> 913 
<a id="L914" name="L914"></a> 914         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L915" name="L915"></a> 915         <strong class="reserved">public</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../R/26316.html" title="Multiple referred from 78 places.">resolve</a>(
<a id="L916" name="L916"></a> 916                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> partialTemporal, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L917" name="L917"></a> 917             <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<strong class="reserved">this</strong>);
<a id="L918" name="L918"></a> 918             <strong class="reserved">final</strong> <strong class="reserved">int</strong> newValue = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35416.html" title="Multiple defined in 2 places.">toIntExact</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);  <em class="comment">// broad limit makes overflow checking lighter</em>
<a id="L919" name="L919"></a> 919             <em class="comment">// first convert localized day-of-week to ISO day-of-week</em>
<a id="L920" name="L920"></a> 920             <em class="comment">// doing this first handles case where both ISO and localized were parsed and might mismatch</em>
<a id="L921" name="L921"></a> 921             <em class="comment">// day-of-week is always strict as two different day-of-week values makes lenient complex</em>
<a id="L922" name="L922"></a> 922             <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>) <em class="brace">{</em>  <em class="comment">// day-of-week</em>
<a id="L923" name="L923"></a> 923                 <strong class="reserved">final</strong> <strong class="reserved">int</strong> checkedValue = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">this</strong>);  <em class="comment">// no leniency as too complex</em>
<a id="L924" name="L924"></a> 924                 <strong class="reserved">final</strong> <strong class="reserved">int</strong> startDow = weekDef.<a href="../D/19096.html" title="Multiple defined in 3 places.">getFirstDayOfWeek</a>().<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L925" name="L925"></a> 925                 <strong class="reserved">long</strong> isoDow = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>((startDow - 1) + (checkedValue - 1), 7) + 1;
<a id="L926" name="L926"></a> 926                 fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<strong class="reserved">this</strong>);
<a id="L927" name="L927"></a> 927                 fieldValues.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>, isoDow);
<a id="L928" name="L928"></a> 928                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L929" name="L929"></a> 929             <em class="brace">}</em>
<a id="L930" name="L930"></a> 930 
<a id="L931" name="L931"></a> 931             <em class="comment">// can only build date if ISO day-of-week is present</em>
<a id="L932" name="L932"></a> 932             <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L934" name="L934"></a> 934             <em class="brace">}</em>
<a id="L935" name="L935"></a> 935             <strong class="reserved">int</strong> isoDow = <a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>));
<a id="L936" name="L936"></a> 936             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(isoDow);
<a id="L937" name="L937"></a> 937 
<a id="L938" name="L938"></a> 938             <em class="comment">// build date</em>
<a id="L939" name="L939"></a> 939             <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(partialTemporal);
<a id="L940" name="L940"></a> 940             <strong class="reserved">if</strong> (fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>)) <em class="brace">{</em>
<a id="L941" name="L941"></a> 941                 <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>));  <em class="comment">// validate</em>
<a id="L942" name="L942"></a> 942                 <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a> &amp;&amp; fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>)) <em class="brace">{</em>  <em class="comment">// week-of-month</em>
<a id="L943" name="L943"></a> 943                     <strong class="reserved">long</strong> month = fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);  <em class="comment">// not validated yet</em>
<a id="L944" name="L944"></a> 944                     <strong class="reserved">return</strong> <a href="../S/1470.html#L957" title="Defined at 957 in src/java/time/temporal/WeekFields.java.">resolveWoM</a>(fieldValues, chrono, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, month, newValue, dow, resolverStyle);
<a id="L945" name="L945"></a> 945                 <em class="brace">}</em>
<a id="L946" name="L946"></a> 946                 <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>  <em class="comment">// week-of-year</em>
<a id="L947" name="L947"></a> 947                     <strong class="reserved">return</strong> <a href="../S/1470.html#L983" title="Defined at 983 in src/java/time/temporal/WeekFields.java.">resolveWoY</a>(fieldValues, chrono, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, newValue, dow, resolverStyle);
<a id="L948" name="L948"></a> 948                 <em class="brace">}</em>
<a id="L949" name="L949"></a> 949             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((rangeUnit == <a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a> || rangeUnit == <a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) &amp;&amp;
<a id="L950" name="L950"></a> 950                     fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(weekDef.<a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>) &amp;&amp;
<a id="L951" name="L951"></a> 951                     fieldValues.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>)) <em class="brace">{</em> <em class="comment">// week-of-week-based-year and year-of-week-based-year</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">return</strong> <a href="../S/1470.html#L1005" title="Defined at 1005 in src/java/time/temporal/WeekFields.java.">resolveWBY</a>(fieldValues, chrono, dow, resolverStyle);
<a id="L953" name="L953"></a> 953             <em class="brace">}</em>
<a id="L954" name="L954"></a> 954             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L955" name="L955"></a> 955         <em class="brace">}</em>
<a id="L956" name="L956"></a> 956 
<a id="L957" name="L957"></a> 957         <strong class="reserved">private</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1470.html#L944" title="Referred from 944 in src/java/time/temporal/WeekFields.java.">resolveWoM</a>(
<a id="L958" name="L958"></a> 958                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, <strong class="reserved">long</strong> month, <strong class="reserved">long</strong> wom, <strong class="reserved">int</strong> localDow, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L959" name="L959"></a> 959             <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L960" name="L960"></a> 960             <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = chrono.<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, 1, 1).<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(month, 1), <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>);
<a id="L962" name="L962"></a> 962                 <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(wom, <a href="../S/1470.html#L786" title="Defined at 786 in src/java/time/temporal/WeekFields.java.">localizedWeekOfMonth</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>));
<a id="L963" name="L963"></a> 963                 <strong class="reserved">int</strong> days = localDow - <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);  <em class="comment">// safe from overflow</em>
<a id="L964" name="L964"></a> 964                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10792.html" title="Multiple defined in 4 places.">addExact</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27841.html" title="Multiple defined in 4 places.">multiplyExact</a>(weeks, 7), days), <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L965" name="L965"></a> 965             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L966" name="L966"></a> 966                 <strong class="reserved">int</strong> monthValid = <a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(month);  <em class="comment">// validate</em>
<a id="L967" name="L967"></a> 967                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = chrono.<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, monthValid, 1);
<a id="L968" name="L968"></a> 968                 <strong class="reserved">int</strong> womInt = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(wom, <strong class="reserved">this</strong>);  <em class="comment">// validate</em>
<a id="L969" name="L969"></a> 969                 <strong class="reserved">int</strong> weeks = (<strong class="reserved">int</strong>) (womInt - <a href="../S/1470.html#L786" title="Defined at 786 in src/java/time/temporal/WeekFields.java.">localizedWeekOfMonth</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>));  <em class="comment">// safe from overflow</em>
<a id="L970" name="L970"></a> 970                 <strong class="reserved">int</strong> days = localDow - <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);  <em class="comment">// safe from overflow</em>
<a id="L971" name="L971"></a> 971                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(weeks * 7 + days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L972" name="L972"></a> 972                 <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/20280.html" title="Multiple defined in 48 places.">getLong</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>) != month) <em class="brace">{</em>
<a id="L973" name="L973"></a> 973                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different month");
<a id="L974" name="L974"></a> 974                 <em class="brace">}</em>
<a id="L975" name="L975"></a> 975             <em class="brace">}</em>
<a id="L976" name="L976"></a> 976             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<strong class="reserved">this</strong>);
<a id="L977" name="L977"></a> 977             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L978" name="L978"></a> 978             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L466" title="Defined at 466 in src/java/time/temporal/ChronoField.java.">MONTH_OF_YEAR</a>);
<a id="L979" name="L979"></a> 979             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);
<a id="L980" name="L980"></a> 980             <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L981" name="L981"></a> 981         <em class="brace">}</em>
<a id="L982" name="L982"></a> 982 
<a id="L983" name="L983"></a> 983         <strong class="reserved">private</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1470.html#L947" title="Referred from 947 in src/java/time/temporal/WeekFields.java.">resolveWoY</a>(
<a id="L984" name="L984"></a> 984                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, <strong class="reserved">long</strong> woy, <strong class="reserved">int</strong> localDow, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L985" name="L985"></a> 985             <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = chrono.<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, 1, 1);
<a id="L986" name="L986"></a> 986             <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L987" name="L987"></a> 987                 <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(woy, <a href="../S/1470.html#L793" title="Defined at 793 in src/java/time/temporal/WeekFields.java.">localizedWeekOfYear</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>));
<a id="L988" name="L988"></a> 988                 <strong class="reserved">int</strong> days = localDow - <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);  <em class="comment">// safe from overflow</em>
<a id="L989" name="L989"></a> 989                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10792.html" title="Multiple defined in 4 places.">addExact</a>(<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27841.html" title="Multiple defined in 4 places.">multiplyExact</a>(weeks, 7), days), <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L990" name="L990"></a> 990             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L991" name="L991"></a> 991                 <strong class="reserved">int</strong> womInt = <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(woy, <strong class="reserved">this</strong>);  <em class="comment">// validate</em>
<a id="L992" name="L992"></a> 992                 <strong class="reserved">int</strong> weeks = (<strong class="reserved">int</strong>) (womInt - <a href="../S/1470.html#L793" title="Defined at 793 in src/java/time/temporal/WeekFields.java.">localizedWeekOfYear</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>));  <em class="comment">// safe from overflow</em>
<a id="L993" name="L993"></a> 993                 <strong class="reserved">int</strong> days = localDow - <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);  <em class="comment">// safe from overflow</em>
<a id="L994" name="L994"></a> 994                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(weeks * 7 + days, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L995" name="L995"></a> 995                 <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/20280.html" title="Multiple defined in 48 places.">getLong</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>) != <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>) <em class="brace">{</em>
<a id="L996" name="L996"></a> 996                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different year");
<a id="L997" name="L997"></a> 997                 <em class="brace">}</em>
<a id="L998" name="L998"></a> 998             <em class="brace">}</em>
<a id="L999" name="L999"></a> 999             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<strong class="reserved">this</strong>);
<a id="L1000" name="L1000"></a>1000             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L1001" name="L1001"></a>1001             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);
<a id="L1002" name="L1002"></a>1002             <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L1003" name="L1003"></a>1003         <em class="brace">}</em>
<a id="L1004" name="L1004"></a>1004 
<a id="L1005" name="L1005"></a>1005         <strong class="reserved">private</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../S/1470.html#L952" title="Referred from 952 in src/java/time/temporal/WeekFields.java.">resolveWBY</a>(
<a id="L1006" name="L1006"></a>1006                 <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <strong class="reserved">int</strong> localDow, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007             <strong class="reserved">int</strong> yowby = weekDef.<a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>().<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(
<a id="L1008" name="L1008"></a>1008                     fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(weekDef.<a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>), weekDef.<a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>);
<a id="L1009" name="L1009"></a>1009             <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L1010" name="L1010"></a>1010             <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.<a href="../S/1537.html#L4171" title="Defined at 4171 in src/java/time/format/DateTimeFormatterBuilder.java.">LENIENT</a>) <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../S/1470.html#L724" title="Defined at 724 in src/java/time/temporal/WeekFields.java.">ofWeekBasedYear</a>(chrono, yowby, 1, localDow);
<a id="L1012" name="L1012"></a>1012                 <strong class="reserved">long</strong> wowby = fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>);
<a id="L1013" name="L1013"></a>1013                 <strong class="reserved">long</strong> weeks = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/35021.html" title="Multiple defined in 4 places.">subtractExact</a>(wowby, 1);
<a id="L1014" name="L1014"></a>1014                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(weeks, <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>);
<a id="L1015" name="L1015"></a>1015             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016                 <strong class="reserved">int</strong> wowby = weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>().<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(
<a id="L1017" name="L1017"></a>1017                         fieldValues.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>), weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>);  <em class="comment">// validate</em>
<a id="L1018" name="L1018"></a>1018                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../S/1470.html#L724" title="Defined at 724 in src/java/time/temporal/WeekFields.java.">ofWeekBasedYear</a>(chrono, yowby, wowby, localDow);
<a id="L1019" name="L1019"></a>1019                 <strong class="reserved">if</strong> (resolverStyle == <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a>.STRICT &amp;&amp; <a href="../S/1470.html#L806" title="Defined at 806 in src/java/time/temporal/WeekFields.java.">localizedWeekBasedYear</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>) != yowby) <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Strict mode rejected resolved date as it is in a different week-based-year");
<a id="L1021" name="L1021"></a>1021                 <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022             <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<strong class="reserved">this</strong>);
<a id="L1024" name="L1024"></a>1024             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(weekDef.<a href="../S/1470.html#L611" title="Defined at 611 in src/java/time/temporal/WeekFields.java.">weekBasedYear</a>);
<a id="L1025" name="L1025"></a>1025             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(weekDef.<a href="../S/1470.html#L569" title="Defined at 569 in src/java/time/temporal/WeekFields.java.">weekOfWeekBasedYear</a>);
<a id="L1026" name="L1026"></a>1026             fieldValues.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>);
<a id="L1027" name="L1027"></a>1027             <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>;
<a id="L1028" name="L1028"></a>1028         <em class="brace">}</em>
<a id="L1029" name="L1029"></a>1029 
<a id="L1030" name="L1030"></a>1030         <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L1031" name="L1031"></a>1031         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1032" name="L1032"></a>1032         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16189.html" title="Multiple referred from 20 places.">getDisplayName</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, "locale");
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>  <em class="comment">// only have values for week-of-year</em>
<a id="L1035" name="L1035"></a>1035                 LocaleResources lr = LocaleProviderAdapter.getResourceBundleBased()
<a id="L1036" name="L1036"></a>1036                         .getLocaleResources(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L1037" name="L1037"></a>1037                 <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> rb = lr.getJavaTimeFormatData();
<a id="L1038" name="L1038"></a>1038                 <strong class="reserved">return</strong> rb.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>("field.week") ? rb.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("field.week") : <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L1039" name="L1039"></a>1039             <em class="brace">}</em>
<a id="L1040" name="L1040"></a>1040             <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L1041" name="L1041"></a>1041         <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042 
<a id="L1043" name="L1043"></a>1043         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1044" name="L1044"></a>1044         <strong class="reserved">public</strong> <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> <a href="../R/15234.html" title="Multiple referred from 4 places.">getBaseUnit</a>() <em class="brace">{</em>
<a id="L1045" name="L1045"></a>1045             <strong class="reserved">return</strong> baseUnit;
<a id="L1046" name="L1046"></a>1046         <em class="brace">}</em>
<a id="L1047" name="L1047"></a>1047 
<a id="L1048" name="L1048"></a>1048         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1049" name="L1049"></a>1049         <strong class="reserved">public</strong> <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> <a href="../R/18594.html" title="Multiple referred from 4 places.">getRangeUnit</a>() <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050             <strong class="reserved">return</strong> rangeUnit;
<a id="L1051" name="L1051"></a>1051         <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052 
<a id="L1053" name="L1053"></a>1053         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1054" name="L1054"></a>1054         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21324.html" title="Multiple referred from 12 places.">isDateBased</a>() <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1056" name="L1056"></a>1056         <em class="brace">}</em>
<a id="L1057" name="L1057"></a>1057 
<a id="L1058" name="L1058"></a>1058         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1059" name="L1059"></a>1059         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22109.html" title="Multiple referred from 19 places.">isTimeBased</a>() <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1061" name="L1061"></a>1061         <em class="brace">}</em>
<a id="L1062" name="L1062"></a>1062 
<a id="L1063" name="L1063"></a>1063         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1064" name="L1064"></a>1064         <strong class="reserved">public</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../R/25397.html" title="Multiple referred from 275 places.">range</a>() <em class="brace">{</em>
<a id="L1065" name="L1065"></a>1065             <strong class="reserved">return</strong> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L1066" name="L1066"></a>1066         <em class="brace">}</em>
<a id="L1067" name="L1067"></a>1067 
<a id="L1068" name="L1068"></a>1068         <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L1069" name="L1069"></a>1069         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1070" name="L1070"></a>1070         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22082.html" title="Multiple referred from 38 places.">isSupportedBy</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L1071" name="L1071"></a>1071             <strong class="reserved">if</strong> (temporal.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L346" title="Defined at 346 in src/java/time/temporal/ChronoField.java.">DAY_OF_WEEK</a>)) <em class="brace">{</em>
<a id="L1072" name="L1072"></a>1072                 <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>) <em class="brace">{</em>  <em class="comment">// day-of-week</em>
<a id="L1073" name="L1073"></a>1073                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1074" name="L1074"></a>1074                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) <em class="brace">{</em>  <em class="comment">// week-of-month</em>
<a id="L1075" name="L1075"></a>1075                     <strong class="reserved">return</strong> temporal.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>);
<a id="L1076" name="L1076"></a>1076                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>  <em class="comment">// week-of-year</em>
<a id="L1077" name="L1077"></a>1077                     <strong class="reserved">return</strong> temporal.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L1078" name="L1078"></a>1078                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a>) <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079                     <strong class="reserved">return</strong> temporal.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L1080" name="L1080"></a>1080                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>
<a id="L1081" name="L1081"></a>1081                     <strong class="reserved">return</strong> temporal.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>);
<a id="L1082" name="L1082"></a>1082                 <em class="brace">}</em>
<a id="L1083" name="L1083"></a>1083             <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1085" name="L1085"></a>1085         <em class="brace">}</em>
<a id="L1086" name="L1086"></a>1086 
<a id="L1087" name="L1087"></a>1087         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1088" name="L1088"></a>1088         <strong class="reserved">public</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../R/25404.html" title="Multiple referred from 15 places.">rangeRefinedBy</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L1089" name="L1089"></a>1089             <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L77" title="Defined at 77 in src/java/time/temporal/ChronoUnit.java.">ChronoUnit</a>.<a href="../S/1469.html#L132" title="Defined at 132 in src/java/time/temporal/ChronoUnit.java.">WEEKS</a>) <em class="brace">{</em>  <em class="comment">// day-of-week</em>
<a id="L1090" name="L1090"></a>1090                 <strong class="reserved">return</strong> <a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>;
<a id="L1091" name="L1091"></a>1091             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>) <em class="brace">{</em>  <em class="comment">// week-of-month</em>
<a id="L1092" name="L1092"></a>1092                 <strong class="reserved">return</strong> <a href="../S/1470.html#L1110" title="Defined at 1110 in src/java/time/temporal/WeekFields.java.">rangeByWeek</a>(temporal, <a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>);
<a id="L1093" name="L1093"></a>1093             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>) <em class="brace">{</em>  <em class="comment">// week-of-year</em>
<a id="L1094" name="L1094"></a>1094                 <strong class="reserved">return</strong> <a href="../S/1470.html#L1110" title="Defined at 1110 in src/java/time/temporal/WeekFields.java.">rangeByWeek</a>(temporal, <a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L1095" name="L1095"></a>1095             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1478.html#L648" title="Defined at 648 in src/java/time/temporal/IsoFields.java.">WEEK_BASED_YEARS</a>) <em class="brace">{</em>
<a id="L1096" name="L1096"></a>1096                 <strong class="reserved">return</strong> <a href="../S/1470.html#L1123" title="Defined at 1123 in src/java/time/temporal/WeekFields.java.">rangeWeekOfWeekBasedYear</a>(temporal);
<a id="L1097" name="L1097"></a>1097             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rangeUnit == <a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098                 <strong class="reserved">return</strong> <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>();
<a id="L1099" name="L1099"></a>1099             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1100" name="L1100"></a>1100                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("unreachable, rangeUnit: " + rangeUnit + ", this: " + <strong class="reserved">this</strong>);
<a id="L1101" name="L1101"></a>1101             <em class="brace">}</em>
<a id="L1102" name="L1102"></a>1102         <em class="brace">}</em>
<a id="L1103" name="L1103"></a>1103 
<div class="comment">
          Map the field range to a week range
          @param temporal the temporal
          @param field the field to get the range of
          @return the ValueRange with the range adjusted to weeks.</div>
<a id="L1110" name="L1110"></a>1110         <strong class="reserved">private</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../R/25398.html" title="Multiple referred from 2 places.">rangeByWeek</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal, <a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field) <em class="brace">{</em>
<a id="L1111" name="L1111"></a>1111             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L1112" name="L1112"></a>1112             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(field), dow);
<a id="L1113" name="L1113"></a>1113             <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> fieldRange = temporal.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(field);
<a id="L1114" name="L1114"></a>1114             <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, (<strong class="reserved">int</strong>) fieldRange.<a href="../D/20655.html" title="Multiple defined in 19 places.">getMinimum</a>()),
<a id="L1115" name="L1115"></a>1115                     <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, (<strong class="reserved">int</strong>) fieldRange.<a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>()));
<a id="L1116" name="L1116"></a>1116         <em class="brace">}</em>
<a id="L1117" name="L1117"></a>1117 
<div class="comment">
          Map the field range to a week range of a week year.
          @param temporal  the temporal
          @return the ValueRange with the range adjusted to weeks.</div>
<a id="L1123" name="L1123"></a>1123         <strong class="reserved">private</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../R/25405.html" title="Multiple referred from 3 places.">rangeWeekOfWeekBasedYear</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124             <strong class="reserved">if</strong> (!temporal.<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>)) <em class="brace">{</em>
<a id="L1125" name="L1125"></a>1125                 <strong class="reserved">return</strong> WEEK_OF_YEAR_RANGE;
<a id="L1126" name="L1126"></a>1126             <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127             <strong class="reserved">int</strong> dow = <a href="../D/27014.html" title="Multiple defined in 2 places.">localizedDayOfWeek</a>(temporal);
<a id="L1128" name="L1128"></a>1128             <strong class="reserved">int</strong> doy = temporal.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L1129" name="L1129"></a>1129             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1470.html#L869" title="Defined at 869 in src/java/time/temporal/WeekFields.java.">startOfWeekOffset</a>(doy, dow);
<a id="L1130" name="L1130"></a>1130             <strong class="reserved">int</strong> week = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, doy);
<a id="L1131" name="L1131"></a>1131             <strong class="reserved">if</strong> (week == 0) <em class="brace">{</em>
<a id="L1132" name="L1132"></a>1132                 <em class="comment">// Day is in end of week of previous year</em>
<a id="L1133" name="L1133"></a>1133                 <em class="comment">// Recompute from the last day of the previous year</em>
<a id="L1134" name="L1134"></a>1134                 <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(temporal).<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(temporal);
<a id="L1135" name="L1135"></a>1135                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/27709.html" title="Multiple defined in 46 places.">minus</a>(doy + 7, <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);   <em class="comment">// Back down into previous year</em>
<a id="L1136" name="L1136"></a>1136                 <strong class="reserved">return</strong> <a href="../S/1470.html#L1123" title="Defined at 1123 in src/java/time/temporal/WeekFields.java.">rangeWeekOfWeekBasedYear</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);
<a id="L1137" name="L1137"></a>1137             <em class="brace">}</em>
<a id="L1138" name="L1138"></a>1138             <em class="comment">// Check if day of year is in partial week associated with next year</em>
<a id="L1139" name="L1139"></a>1139             <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> dayRange = temporal.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>(<a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>);
<a id="L1140" name="L1140"></a>1140             <strong class="reserved">int</strong> yearLen = (<strong class="reserved">int</strong>)dayRange.<a href="../D/20492.html" title="Multiple defined in 21 places.">getMaximum</a>();
<a id="L1141" name="L1141"></a>1141             <strong class="reserved">int</strong> newYearWeek = <a href="../S/1470.html#L888" title="Defined at 888 in src/java/time/temporal/WeekFields.java.">computeWeek</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, yearLen + weekDef.<a href="../D/20653.html" title="Multiple defined in 3 places.">getMinimalDaysInFirstWeek</a>());
<a id="L1142" name="L1142"></a>1142 
<a id="L1143" name="L1143"></a>1143             <strong class="reserved">if</strong> (week &gt;= newYearWeek) <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144                 <em class="comment">// Overlaps with weeks of following year; recompute from a week in following year</em>
<a id="L1145" name="L1145"></a>1145                 <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(temporal).<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(temporal);
<a id="L1146" name="L1146"></a>1146                 <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(yearLen - doy + 1 + 7, <a href="../S/1469.html#L77" title="Defined at 77 in src/java/time/temporal/ChronoUnit.java.">ChronoUnit</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L1147" name="L1147"></a>1147                 <strong class="reserved">return</strong> <a href="../S/1470.html#L1123" title="Defined at 1123 in src/java/time/temporal/WeekFields.java.">rangeWeekOfWeekBasedYear</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);
<a id="L1148" name="L1148"></a>1148             <em class="brace">}</em>
<a id="L1149" name="L1149"></a>1149             <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, newYearWeek-1);
<a id="L1150" name="L1150"></a>1150         <em class="brace">}</em>
<a id="L1151" name="L1151"></a>1151 
<a id="L1152" name="L1152"></a>1152         <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L1153" name="L1153"></a>1153         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1154" name="L1154"></a>1154         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155             <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + "[" + weekDef.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "]";
<a id="L1156" name="L1156"></a>1156         <em class="brace">}</em>
<a id="L1157" name="L1157"></a>1157     <em class="brace">}</em>
<a id="L1158" name="L1158"></a>1158 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L285">[^]</a><a href="#L1154">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>