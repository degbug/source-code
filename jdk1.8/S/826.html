<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/InetAddress.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L231">[^]</a><a href="#L1647">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L231" title="Defined at 231.">init</a></li>
<li><a href="#L241" title="Defined at 241.">getHostName</a></li>
<li><a href="#L245" title="Defined at 245.">getOriginalHostName</a></li>
<li><a href="#L254" title="Defined at 254.">getAddress</a></li>
<li><a href="#L264" title="Defined at 264.">getFamily</a></li>
<li><a href="#L272" title="Defined at 272.">holder</a></li>
<li><a href="#L319" title="Defined at 319.">readResolve</a></li>
<li><a href="#L331" title="Defined at 331.">isMulticastAddress</a></li>
<li><a href="#L341" title="Defined at 341.">isAnyLocalAddress</a></li>
<li><a href="#L352" title="Defined at 352.">isLoopbackAddress</a></li>
<li><a href="#L363" title="Defined at 363.">isLinkLocalAddress</a></li>
<li><a href="#L374" title="Defined at 374.">isSiteLocalAddress</a></li>
<li><a href="#L386" title="Defined at 386.">isMCGlobal</a></li>
<li><a href="#L398" title="Defined at 398.">isMCNodeLocal</a></li>
<li><a href="#L410" title="Defined at 410.">isMCLinkLocal</a></li>
<li><a href="#L422" title="Defined at 422.">isMCSiteLocal</a></li>
<li><a href="#L435" title="Defined at 435.">isMCOrgLocal</a></li>
<li><a href="#L460" title="Defined at 460.">isReachable</a></li>
<li><a href="#L495" title="Defined at 495.">isReachable</a></li>
<li><a href="#L530" title="Defined at 530.">getHostName</a></li>
<li><a href="#L557" title="Defined at 557.">getHostName</a></li>
<li><a href="#L585" title="Defined at 585.">getCanonicalHostName</a></li>
<li><a href="#L612" title="Defined at 612.">getHostFromNameService</a></li>
<li><a href="#L670" title="Defined at 670.">getAddress</a></li>
<li><a href="#L680" title="Defined at 680.">getHostAddress</a></li>
<li><a href="#L689" title="Defined at 689.">hashCode</a></li>
<li><a href="#L709" title="Defined at 709.">equals</a></li>
<li><a href="#L723" title="Defined at 723.">toString</a></li>
<li><a href="#L776" title="Defined at 776.">getPolicy</a></li>
<li><a href="#L789" title="Defined at 789.">put</a></li>
<li><a href="#L837" title="Defined at 837.">get</a></li>
<li><a href="#L861" title="Defined at 861.">cacheInitIfNeeded</a></li>
<li><a href="#L878" title="Defined at 878.">cacheAddresses</a></li>
<li><a href="#L896" title="Defined at 896.">getCachedAddresses</a></li>
<li><a href="#L918" title="Defined at 918.">createNSProvider</a></li>
<li><a href="#L1022" title="Defined at 1022.">getByAddress</a></li>
<li><a href="#L1074" title="Defined at 1074.">getByName</a></li>
<li><a href="#L1080" title="Defined at 1080.">getByName</a></li>
<li><a href="#L1124" title="Defined at 1124.">getAllByName</a></li>
<li><a href="#L1129" title="Defined at 1129.">getAllByName</a></li>
<li><a href="#L1206" title="Defined at 1206.">getLoopbackAddress</a></li>
<li><a href="#L1218" title="Defined at 1218.">checkNumericZone</a></li>
<li><a href="#L1242" title="Defined at 1242.">getAllByName0</a></li>
<li><a href="#L1251" title="Defined at 1251.">getAllByName0</a></li>
<li><a href="#L1256" title="Defined at 1256.">getAllByName0</a></li>
<li><a href="#L1285" title="Defined at 1285.">getAddressesFromNameService</a></li>
<li><a href="#L1378" title="Defined at 1378.">checkLookupTable</a></li>
<li><a href="#L1414" title="Defined at 1414.">updateLookupTable</a></li>
<li><a href="#L1437" title="Defined at 1437.">getByAddress</a></li>
<li><a href="#L1470" title="Defined at 1470.">getLocalHost</a></li>
<li><a href="#L1523" title="Defined at 1523.">init</a></li>
<li><a href="#L1530" title="Defined at 1530.">anyLocalAddress</a></li>
<li><a href="#L1537" title="Defined at 1537.">loadImpl</a></li>
<li><a href="#L1576" title="Defined at 1576.">readObjectNoData</a></li>
<li><a href="#L1598" title="Defined at 1598.">readObject</a></li>
<li><a href="#L1624" title="Defined at 1624.">writeObject</a></li>
<li><a href="#L1642" title="Defined at 1642.">create</a></li>
<li><a href="#L1647" title="Defined at 1647.">isIPv6Supported</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.LinkedHashMap;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Random;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.LinkedList;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.List;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.ServiceLoader;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.io.ObjectStreamException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.io.ObjectStreamField;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.io.IOException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.io.ObjectInputStream.GetField;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.io.ObjectOutputStream.PutField;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> sun.security.action.*;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> sun.net.InetAddressCachePolicy;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> sun.net.util.IPAddressUtil;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> sun.net.spi.nameservice.*;
<a id="L48" name="L48"></a>  48 
<div class="comment">
  This class represents an Internet Protocol (IP) address.
  <p> An IP address is either a 32-bit or 128-bit unsigned number
  used by IP, a lower-level protocol on which protocols like UDP and
  TCP are built. The IP address architecture is defined by <a href="http://www.ietf.org/rfc/rfc790.txt"><i>RFC&nbsp;790:
  Assigned Numbers</i></a>, <a href="http://www.ietf.org/rfc/rfc1918.txt"> <i>RFC&nbsp;1918:
  Address Allocation for Private Internets</i></a>, <a href="http://www.ietf.org/rfc/rfc2365.txt"><i>RFC&nbsp;2365:
  Administratively Scoped IP Multicast</i></a>, and <a href="http://www.ietf.org/rfc/rfc2373.txt"><i>RFC&nbsp;2373: IP
  Version 6 Addressing Architecture</i></a>. An instance of an
  InetAddress consists of an IP address and possibly its
  corresponding host name (depending on whether it is constructed
  with a host name or whether it has already done reverse host name
  resolution).
  </p><h3> Address types </h3>
  <blockquote><table cellspacing="2" summary="Description of unicast and multicast address types">
    <tbody><tr><th valign="top"><i>unicast</i></th>
        <td>An identifier for a single interface. A packet sent to
          a unicast address is delivered to the interface identified by
          that address.
          <p> The Unspecified Address -- Also called anylocal or wildcard
          address. It must never be assigned to any node. It indicates the
          absence of an address. One example of its use is as the target of
          bind, which allows a server to accept a client connection on any
          interface, in case the server host has multiple interfaces.
          </p><p> The <i>unspecified</i> address must not be used as
          the destination address of an IP packet.
          </p><p> The <i>Loopback</i> Addresses -- This is the address
          assigned to the loopback interface. Anything sent to this
          IP address loops around and becomes IP input on the local
          host. This address is often used when testing a
          client.</p></td></tr>
    <tr><th valign="top"><i>multicast</i></th>
        <td>An identifier for a set of interfaces (typically belonging
          to different nodes). A packet sent to a multicast address is
          delivered to all interfaces identified by that address.</td></tr>
  </tbody></table></blockquote>
  <h4> IP address scope </h4>
  <p> <i>Link-local</i> addresses are designed to be used for addressing
  on a single link for purposes such as auto-address configuration,
  neighbor discovery, or when no routers are present.
  </p><p> <i>Site-local</i> addresses are designed to be used for addressing
  inside of a site without the need for a global prefix.
  </p><p> <i>Global</i> addresses are unique across the internet.
  </p><h4> Textual representation of IP addresses </h4>
  The textual representation of an IP address is address family specific.
  <p>
  For IPv4 address format, please refer to <a href="Inet4Address.html#format">Inet4Address#format</a>; For IPv6
  address format, please refer to <a href="Inet6Address.html#format">Inet6Address#format</a>.
  </p><p>There is a <a href="doc-files/net-properties.html#Ipv4IPv6">couple of
  System Properties</a> affecting how IPv4 and IPv6 addresses are used.</p>
  <h4> Host Name Resolution </h4>
  Host name-to-IP address <i>resolution</i> is accomplished through
  the use of a combination of local machine configuration information
  and network naming services such as the Domain Name System (DNS)
  and Network Information Service(NIS). The particular naming
  services(s) being used is by default the local machine configured
  one. For any host name, its corresponding IP address is returned.
  <p> <i>Reverse name resolution</i> means that for any IP address,
  the host associated with the IP address is returned.
  </p><p> The InetAddress class provides methods to resolve host names to
  their IP addresses and vice versa.
  </p><h4> InetAddress Caching </h4>
  The InetAddress class has a cache to store successful as well as
  unsuccessful host name resolutions.
  <p> By default, when a security manager is installed, in order to
  protect against DNS spoofing attacks,
  the result of positive host name resolutions are
  cached forever. When a security manager is not installed, the default
  behavior is to cache entries for a finite (implementation dependent)
  period of time. The result of unsuccessful host
  name resolution is cached for a very short period of time (10
  seconds) to improve performance.
  </p><p> If the default behavior is not desired, then a Java security property
  can be set to a different Time-to-live (TTL) value for positive
  caching. Likewise, a system admin can configure a different
  negative caching TTL value when needed.
  </p><p> Two Java security properties control the TTL values used for
   positive and negative host name resolution caching:
  </p><blockquote>
  <dl>
  <dt><b>networkaddress.cache.ttl</b></dt>
  <dd>Indicates the caching policy for successful name lookups from
  the name service. The value is specified as as integer to indicate
  the number of seconds to cache the successful lookup. The default
  setting is to cache for an implementation specific period of time.
  <p>
  A value of -1 indicates "cache forever".
  </p></dd>
  <dt><b>networkaddress.cache.negative.ttl</b> (default: 10)</dt>
  <dd>Indicates the caching policy for un-successful name lookups
  from the name service. The value is specified as as integer to
  indicate the number of seconds to cache the failure for
  un-successful lookups.
  <p>
  A value of 0 indicates "never cache".
  A value of -1 indicates "cache forever".
  </p></dd>
  </dl>
  </blockquote>
  @author  Chris Warth
  @see     java.net.InetAddress#getByAddress(byte[])
  @see     java.net.InetAddress#getByAddress(java.lang.String, byte[])
  @see     java.net.InetAddress#getAllByName(java.lang.String)
  @see     java.net.InetAddress#getByName(java.lang.String)
  @see     java.net.InetAddress#getLocalHost()
  @since JDK1.0</div>
<a id="L188" name="L188"></a> 188 <strong class="reserved">public</strong>
<a id="L189" name="L189"></a> 189 <strong class="reserved">class</strong> <a href="../R/3789.html" title="Multiple referred from 423 places.">InetAddress</a> <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<div class="comment">
      Specify the address family: Internet Protocol, Version 4
      @since 1.4</div>
<a id="L194" name="L194"></a> 194     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> IPv4 = 1;
<a id="L195" name="L195"></a> 195 
<div class="comment">
      Specify the address family: Internet Protocol, Version 6
      @since 1.4</div>
<a id="L200" name="L200"></a> 200     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> IPv6 = 2;
<a id="L201" name="L201"></a> 201 
<div class="comment">
     /* Specify address family preference */</div>
<a id="L203" name="L203"></a> 203     <strong class="reserved">static</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> preferIPv6Address = <strong class="reserved">false</strong>;
<a id="L204" name="L204"></a> 204 
<a id="L205" name="L205"></a> 205     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/3792.html" title="Multiple referred from 4 places.">InetAddressHolder</a> <em class="brace">{</em>
<div class="comment">
          Reserve the original application specified hostname.
          The original hostname is useful for domain-based endpoint
          identification (see RFC 2818 and RFC 6125).  If an address
          was created with a raw IP address, a reverse name lookup
          may introduce endpoint identification security issue via
          DNS forging.
          Oracle JSSE provider is using this original hostname, via
          sun.misc.JavaNetAccess, for SSL/TLS endpoint identification.
          Note: May define a new public method in the future if necessary.</div>
<a id="L220" name="L220"></a> 220         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> originalHostName;
<a id="L221" name="L221"></a> 221 
<a id="L222" name="L222"></a> 222         InetAddressHolder() <em class="brace">{</em><em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224         InetAddressHolder(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> hostName, <strong class="reserved">int</strong> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <strong class="reserved">int</strong> <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225             <strong class="reserved">this</strong>.originalHostName = hostName;
<a id="L226" name="L226"></a> 226             <strong class="reserved">this</strong>.hostName = hostName;
<a id="L227" name="L227"></a> 227             <strong class="reserved">this</strong>.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> = <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>;
<a id="L228" name="L228"></a> 228             <strong class="reserved">this</strong>.<a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a> = <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>;
<a id="L229" name="L229"></a> 229         <em class="brace">}</em>
<a id="L230" name="L230"></a> 230 
<a id="L231" name="L231"></a> 231         <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> hostName, <strong class="reserved">int</strong> <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>) <em class="brace">{</em>
<a id="L232" name="L232"></a> 232             <strong class="reserved">this</strong>.originalHostName = hostName;
<a id="L233" name="L233"></a> 233             <strong class="reserved">this</strong>.hostName = hostName;
<a id="L234" name="L234"></a> 234             <strong class="reserved">if</strong> (<a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a> != -1) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235                 <strong class="reserved">this</strong>.<a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a> = <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>;
<a id="L236" name="L236"></a> 236             <em class="brace">}</em>
<a id="L237" name="L237"></a> 237         <em class="brace">}</em>
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> hostName;
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16914.html" title="Multiple referred from 37 places.">getHostName</a>() <em class="brace">{</em>
<a id="L242" name="L242"></a> 242             <strong class="reserved">return</strong> hostName;
<a id="L243" name="L243"></a> 243         <em class="brace">}</em>
<a id="L244" name="L244"></a> 244 
<a id="L245" name="L245"></a> 245         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18173.html" title="Multiple referred from 2 places.">getOriginalHostName</a>() <em class="brace">{</em>
<a id="L246" name="L246"></a> 246             <strong class="reserved">return</strong> originalHostName;
<a id="L247" name="L247"></a> 247         <em class="brace">}</em>
<a id="L248" name="L248"></a> 248 
<div class="comment">
          Holds a 32-bit IPv4 address.</div>
<a id="L252" name="L252"></a> 252         <strong class="reserved">int</strong> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>;
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254         <strong class="reserved">int</strong> <a href="../R/14983.html" title="Multiple referred from 105 places.">getAddress</a>() <em class="brace">{</em>
<a id="L255" name="L255"></a> 255             <strong class="reserved">return</strong> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>;
<a id="L256" name="L256"></a> 256         <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
          Specifies the address family type, for instance, '1' for IPv4
          addresses, and '2' for IPv6 addresses.</div>
<a id="L262" name="L262"></a> 262         <strong class="reserved">int</strong> <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>;
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264         <strong class="reserved">int</strong> <a href="../R/16535.html" title="Multiple referred from 11 places.">getFamily</a>() <em class="brace">{</em>
<a id="L265" name="L265"></a> 265             <strong class="reserved">return</strong> <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>;
<a id="L266" name="L266"></a> 266         <em class="brace">}</em>
<a id="L267" name="L267"></a> 267     <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<div class="comment">
     /* Used to store the serializable fields of InetAddress */</div>
<a id="L270" name="L270"></a> 270     <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/826.html#L205" title="Defined at 205 in src/java/net/InetAddress.java.">InetAddressHolder</a> <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>;
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272     <a href="../S/826.html#L205" title="Defined at 205 in src/java/net/InetAddress.java.">InetAddressHolder</a> <a href="../R/20346.html" title="Multiple referred from 75 places.">holder</a>() <em class="brace">{</em>
<a id="L273" name="L273"></a> 273         <strong class="reserved">return</strong> <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>;
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<div class="comment">
     /* Used to store the name service provider */</div>
<a id="L277" name="L277"></a> 277     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a>&gt; nameServices = <strong class="reserved">null</strong>;
<a id="L278" name="L278"></a> 278 
<div class="comment">
     /* Used to store the best available hostname */</div>
<a id="L280" name="L280"></a> 280     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> canonicalHostName = <strong class="reserved">null</strong>;
<a id="L281" name="L281"></a> 281 
<div class="comment">
     /** use serialVersionUID from JDK 1.0.2 for interoperability */</div>
<a id="L283" name="L283"></a> 283     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3286316764910316507L;
<a id="L284" name="L284"></a> 284 
<div class="comment">
      Load net library into runtime, and perform initializations.</div>
<a id="L288" name="L288"></a> 288     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L289" name="L289"></a> 289         preferIPv6Address = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L290" name="L290"></a> 290             <strong class="reserved">new</strong> GetBooleanAction("java.net.preferIPv6Addresses")).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L291" name="L291"></a> 291         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L292" name="L292"></a> 292             <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt;() <em class="brace">{</em>
<a id="L293" name="L293"></a> 293                 <strong class="reserved">public</strong> <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L294" name="L294"></a> 294                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/26951.html" title="Multiple defined in 3 places.">loadLibrary</a>("net");
<a id="L295" name="L295"></a> 295                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L296" name="L296"></a> 296                 <em class="brace">}</em>
<a id="L297" name="L297"></a> 297             <em class="brace">}</em>);
<a id="L298" name="L298"></a> 298         <a href="../D/24497.html" title="Multiple defined in 127 places.">init</a>();
<a id="L299" name="L299"></a> 299     <em class="brace">}</em>
<a id="L300" name="L300"></a> 300 
<div class="comment">
      Constructor for the Socket.accept() method.
      This creates an empty InetAddress, which is filled in by
      the accept() method.  This InetAddress, however, is not
      put in the address cache, since it is not created by name.</div>
<a id="L307" name="L307"></a> 307     InetAddress() <em class="brace">{</em>
<a id="L308" name="L308"></a> 308         <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a> = <strong class="reserved">new</strong> <a href="../S/826.html#L205" title="Defined at 205 in src/java/net/InetAddress.java.">InetAddressHolder</a>();
<a id="L309" name="L309"></a> 309     <em class="brace">}</em>
<a id="L310" name="L310"></a> 310 
<div class="comment">
      Replaces the de-serialized object with an Inet4Address object.
      @return the alternate object to the de-serialized object.
      @throws ObjectStreamException if a new object replacing this
      object could not be created</div>
<a id="L319" name="L319"></a> 319     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/6954.html#L419" title="Referred from 419 in src/com/sun/corba/se/impl/io/IIOPInputStream.java.">readResolve</a>() <strong class="reserved">throws</strong> <a href="../S/1384.html#L34" title="Defined at 34 in src/java/io/ObjectStreamException.java.">ObjectStreamException</a> <em class="brace">{</em>
<a id="L320" name="L320"></a> 320         <em class="comment">// will replace the deserialized 'this' object</em>
<a id="L321" name="L321"></a> 321         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a>(<a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(), <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L322" name="L322"></a> 322     <em class="brace">}</em>
<a id="L323" name="L323"></a> 323 
<div class="comment">
      Utility routine to check if the InetAddress is an
      IP multicast address.
      @return a <code>boolean</code> indicating if the InetAddress is
      an IP multicast address
      @since   JDK1.1</div>
<a id="L331" name="L331"></a> 331     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21752.html" title="Multiple referred from 8 places.">isMulticastAddress</a>() <em class="brace">{</em>
<a id="L332" name="L332"></a> 332         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L333" name="L333"></a> 333     <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<div class="comment">
      Utility routine to check if the InetAddress in a wildcard address.
      @return a <code>boolean</code> indicating if the Inetaddress is
              a wildcard address.
      @since 1.4</div>
<a id="L341" name="L341"></a> 341     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21169.html" title="Multiple referred from 7 places.">isAnyLocalAddress</a>() <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L343" name="L343"></a> 343     <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<div class="comment">
      Utility routine to check if the InetAddress is a loopback address.
      @return a <code>boolean</code> indicating if the InetAddress is
      a loopback address; or false otherwise.
      @since 1.4</div>
<a id="L352" name="L352"></a> 352     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/810.html#L716" title="Referred from 716 in src/java/net/Inet6Address.java.">isLoopbackAddress</a>() <em class="brace">{</em>
<a id="L353" name="L353"></a> 353         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L354" name="L354"></a> 354     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<div class="comment">
      Utility routine to check if the InetAddress is an link local address.
      @return a <code>boolean</code> indicating if the InetAddress is
      a link local address; or false if address is not a link local unicast address.
      @since 1.4</div>
<a id="L363" name="L363"></a> 363     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21670.html" title="Multiple referred from 3 places.">isLinkLocalAddress</a>() <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      Utility routine to check if the InetAddress is a site local address.
      @return a <code>boolean</code> indicating if the InetAddress is
      a site local address; or false if address is not a site local unicast address.
      @since 1.4</div>
<a id="L374" name="L374"></a> 374     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22029.html" title="Multiple referred from 3 places.">isSiteLocalAddress</a>() <em class="brace">{</em>
<a id="L375" name="L375"></a> 375         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L376" name="L376"></a> 376     <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
      Utility routine to check if the multicast address has global scope.
      @return a <code>boolean</code> indicating if the address has
              is a multicast address of global scope, false if it is not
              of global scope or it is not a multicast address
      @since 1.4</div>
<a id="L386" name="L386"></a> 386     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/810.html#L768" title="Referred from 768 in src/java/net/Inet6Address.java.">isMCGlobal</a>() <em class="brace">{</em>
<a id="L387" name="L387"></a> 387         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L388" name="L388"></a> 388     <em class="brace">}</em>
<a id="L389" name="L389"></a> 389 
<div class="comment">
      Utility routine to check if the multicast address has node scope.
      @return a <code>boolean</code> indicating if the address has
              is a multicast address of node-local scope, false if it is not
              of node-local scope or it is not a multicast address
      @since 1.4</div>
<a id="L398" name="L398"></a> 398     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/810.html#L782" title="Referred from 782 in src/java/net/Inet6Address.java.">isMCNodeLocal</a>() <em class="brace">{</em>
<a id="L399" name="L399"></a> 399         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L400" name="L400"></a> 400     <em class="brace">}</em>
<a id="L401" name="L401"></a> 401 
<div class="comment">
      Utility routine to check if the multicast address has link scope.
      @return a <code>boolean</code> indicating if the address has
              is a multicast address of link-local scope, false if it is not
              of link-local scope or it is not a multicast address
      @since 1.4</div>
<a id="L410" name="L410"></a> 410     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/810.html#L796" title="Referred from 796 in src/java/net/Inet6Address.java.">isMCLinkLocal</a>() <em class="brace">{</em>
<a id="L411" name="L411"></a> 411         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L412" name="L412"></a> 412     <em class="brace">}</em>
<a id="L413" name="L413"></a> 413 
<div class="comment">
      Utility routine to check if the multicast address has site scope.
      @return a <code>boolean</code> indicating if the address has
              is a multicast address of site-local scope, false if it is not
              of site-local scope or it is not a multicast address
      @since 1.4</div>
<a id="L422" name="L422"></a> 422     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/810.html#L810" title="Referred from 810 in src/java/net/Inet6Address.java.">isMCSiteLocal</a>() <em class="brace">{</em>
<a id="L423" name="L423"></a> 423         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L424" name="L424"></a> 424     <em class="brace">}</em>
<a id="L425" name="L425"></a> 425 
<div class="comment">
      Utility routine to check if the multicast address has organization scope.
      @return a <code>boolean</code> indicating if the address has
              is a multicast address of organization-local scope,
              false if it is not of organization-local scope
              or it is not a multicast address
      @since 1.4</div>
<a id="L435" name="L435"></a> 435     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/810.html#L824" title="Referred from 824 in src/java/net/Inet6Address.java.">isMCOrgLocal</a>() <em class="brace">{</em>
<a id="L436" name="L436"></a> 436         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L437" name="L437"></a> 437     <em class="brace">}</em>
<a id="L438" name="L438"></a> 438 
<a id="L439" name="L439"></a> 439 
<div class="comment">
      Test whether that address is reachable. Best effort is made by the
      implementation to try to reach the host, but firewalls and server
      configuration may block requests resulting in a unreachable status
      while some specific ports may be accessible.
      A typical implementation will use ICMP ECHO REQUESTs if the
      privilege can be obtained, otherwise it will try to establish
      a TCP connection on port 7 (Echo) of the destination host.
      <p>
      The timeout value, in milliseconds, indicates the maximum amount of time
      the try should take. If the operation times out before getting an
      answer, the host is deemed unreachable. A negative value will result
      in an IllegalArgumentException being thrown.
      @param   timeout the time, in milliseconds, before the call aborts
      @return a <code>boolean</code> indicating if the address is reachable.
      @throws IOException if a network error occurs
      @throws  IllegalArgumentException if <code>timeout</code> is negative.
      @since 1.5</p></div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21926.html" title="Multiple referred from 2 places.">isReachable</a>(<strong class="reserved">int</strong> timeout) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">return</strong> <a href="../D/26127.html" title="Multiple defined in 5 places.">isReachable</a>(<strong class="reserved">null</strong>, 0 , timeout);
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<div class="comment">
      Test whether that address is reachable. Best effort is made by the
      implementation to try to reach the host, but firewalls and server
      configuration may block requests resulting in a unreachable status
      while some specific ports may be accessible.
      A typical implementation will use ICMP ECHO REQUESTs if the
      privilege can be obtained, otherwise it will try to establish
      a TCP connection on port 7 (Echo) of the destination host.
      <p>
      The <code>network interface</code> and <code>ttl</code> parameters
      let the caller specify which network interface the test will go through
      and the maximum number of hops the packets should go through.
      A negative value for the <code>ttl</code> will result in an
      IllegalArgumentException being thrown.
      </p><p>
      The timeout value, in milliseconds, indicates the maximum amount of time
      the try should take. If the operation times out before getting an
      answer, the host is deemed unreachable. A negative value will result
      in an IllegalArgumentException being thrown.
      @param   netif   the NetworkInterface through which the
                         test will be done, or null for any interface
      @param   ttl     the maximum numbers of hops to try or 0 for the
                       default
      @param   timeout the time, in milliseconds, before the call aborts
      @throws  IllegalArgumentException if either <code>timeout</code>
                               or <code>ttl</code> are negative.
      @return a <code>boolean</code>indicating if the address is reachable.
      @throws IOException if a network error occurs
      @since 1.5</p></div>
<a id="L495" name="L495"></a> 495     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21926.html" title="Multiple referred from 2 places.">isReachable</a>(<a href="../S/820.html#L43" title="Defined at 43 in src/java/net/NetworkInterface.java.">NetworkInterface</a> netif, <strong class="reserved">int</strong> ttl,
<a id="L496" name="L496"></a> 496                                <strong class="reserved">int</strong> timeout) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L497" name="L497"></a> 497         <strong class="reserved">if</strong> (ttl &lt; 0)
<a id="L498" name="L498"></a> 498             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("ttl can't be negative");
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> (timeout &lt; 0)
<a id="L500" name="L500"></a> 500             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("timeout can't be negative");
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502         <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/26127.html" title="Multiple defined in 5 places.">isReachable</a>(<strong class="reserved">this</strong>, timeout, netif, ttl);
<a id="L503" name="L503"></a> 503     <em class="brace">}</em>
<a id="L504" name="L504"></a> 504 
<div class="comment">
      Gets the host name for this IP address.
      <p>If this InetAddress was created with a host name,
      this host name will be remembered and returned;
      otherwise, a reverse name lookup will be performed
      and the result will be returned based on the system
      configured name lookup service. If a lookup of the name service
      is required, call
      {@link #getCanonicalHostName() getCanonicalHostName}.
      </p><p>If there is a security manager, its
      <code>checkConnect</code> method is first called
      with the hostname and <code>-1</code>
      as its arguments to see if the operation is allowed.
      If the operation is not allowed, it will return
      the textual representation of the IP address.
      @return  the host name for this IP address, or if the operation
         is not allowed by the security check, the textual
         representation of the IP address.
      @see InetAddress#getCanonicalHostName
      @see SecurityManager#checkConnect</p></div>
<a id="L530" name="L530"></a> 530     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16914.html" title="Multiple referred from 37 places.">getHostName</a>() <em class="brace">{</em>
<a id="L531" name="L531"></a> 531         <strong class="reserved">return</strong> <a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(<strong class="reserved">true</strong>);
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<div class="comment">
      Returns the hostname for this address.
      If the host is equal to null, then this address refers to any
      of the local machine's available network addresses.
      this is package private so SocketPermission can make calls into
      here without a security check.
      <p>If there is a security manager, this method first
      calls its <code>checkConnect</code> method
      with the hostname and <code>-1</code>
      as its arguments to see if the calling code is allowed to know
      the hostname for this IP address, i.e., to connect to the host.
      If the operation is not allowed, it will return
      the textual representation of the IP address.
      @return  the host name for this IP address, or if the operation
         is not allowed by the security check, the textual
         representation of the IP address.
      @param check make security check if true
      @see SecurityManager#checkConnect</p></div>
<a id="L557" name="L557"></a> 557     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16914.html" title="Multiple referred from 37 places.">getHostName</a>(<strong class="reserved">boolean</strong> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">if</strong> (<a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559             <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().hostName = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L612" title="Defined at 612 in src/java/net/InetAddress.java.">getHostFromNameService</a>(<strong class="reserved">this</strong>, <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>);
<a id="L560" name="L560"></a> 560         <em class="brace">}</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">return</strong> <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>();
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<div class="comment">
      Gets the fully qualified domain name for this IP address.
      Best effort method, meaning we may not be able to return
      the FQDN depending on the underlying system configuration.
      <p>If there is a security manager, this method first
      calls its <code>checkConnect</code> method
      with the hostname and <code>-1</code>
      as its arguments to see if the calling code is allowed to know
      the hostname for this IP address, i.e., to connect to the host.
      If the operation is not allowed, it will return
      the textual representation of the IP address.
      @return  the fully qualified domain name for this IP address,
         or if the operation is not allowed by the security check,
         the textual representation of the IP address.
      @see SecurityManager#checkConnect
      @since 1.4</p></div>
<a id="L585" name="L585"></a> 585     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getCanonicalHostName() <em class="brace">{</em>
<a id="L586" name="L586"></a> 586         <strong class="reserved">if</strong> (canonicalHostName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L587" name="L587"></a> 587             canonicalHostName =
<a id="L588" name="L588"></a> 588                 <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L612" title="Defined at 612 in src/java/net/InetAddress.java.">getHostFromNameService</a>(<strong class="reserved">this</strong>, <strong class="reserved">true</strong>);
<a id="L589" name="L589"></a> 589         <em class="brace">}</em>
<a id="L590" name="L590"></a> 590         <strong class="reserved">return</strong> canonicalHostName;
<a id="L591" name="L591"></a> 591     <em class="brace">}</em>
<a id="L592" name="L592"></a> 592 
<div class="comment">
      Returns the hostname for this address.
      <p>If there is a security manager, this method first
      calls its <code>checkConnect</code> method
      with the hostname and <code>-1</code>
      as its arguments to see if the calling code is allowed to know
      the hostname for this IP address, i.e., to connect to the host.
      If the operation is not allowed, it will return
      the textual representation of the IP address.
      @return  the host name for this IP address, or if the operation
         is not allowed by the security check, the textual
         representation of the IP address.
      @param check make security check if true
      @see SecurityManager#checkConnect</p></div>
<a id="L612" name="L612"></a> 612     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16913.html" title="Multiple referred from 2 places.">getHostFromNameService</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr, <strong class="reserved">boolean</strong> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host = <strong class="reserved">null</strong>;
<a id="L614" name="L614"></a> 614         <strong class="reserved">for</strong> (<a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> nameService : nameServices) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L616" name="L616"></a> 616                 <em class="comment">// first lookup the hostname</em>
<a id="L617" name="L617"></a> 617                 host = nameService.<a href="../D/19492.html" title="Multiple defined in 3 places.">getHostByAddr</a>(addr.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L618" name="L618"></a> 618 
<div class="comment">
 check to see if calling code is allowed to know
                  the hostname for this IP address, ie, connect to the host</div>
<a id="L622" name="L622"></a> 622                 <strong class="reserved">if</strong> (<a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623                     <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sec = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L624" name="L624"></a> 624                     <strong class="reserved">if</strong> (sec != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625                         sec.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(host, -1);
<a id="L626" name="L626"></a> 626                     <em class="brace">}</em>
<a id="L627" name="L627"></a> 627                 <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<div class="comment">
 now get all the IP addresses for this hostname,
                  and make sure one of them matches the original IP
                  address. We do this to try and prevent spoofing.</div>
<a id="L633" name="L633"></a> 633 
<a id="L634" name="L634"></a> 634                 <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] arr = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/16872.html" title="Multiple defined in 3 places.">getAllByName0</a>(host, <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>);
<a id="L635" name="L635"></a> 635                 <strong class="reserved">boolean</strong> ok = <strong class="reserved">false</strong>;
<a id="L636" name="L636"></a> 636 
<a id="L637" name="L637"></a> 637                 <strong class="reserved">if</strong>(arr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                     <strong class="reserved">for</strong>(<strong class="reserved">int</strong> i = 0; !ok &amp;&amp; i &lt; arr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L639" name="L639"></a> 639                         ok = addr.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(arr[i]);
<a id="L640" name="L640"></a> 640                     <em class="brace">}</em>
<a id="L641" name="L641"></a> 641                 <em class="brace">}</em>
<a id="L642" name="L642"></a> 642 
<a id="L643" name="L643"></a> 643                 <em class="comment">//XXX: if it looks a spoof just return the address?</em>
<a id="L644" name="L644"></a> 644                 <strong class="reserved">if</strong> (!ok) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645                     host = addr.<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>();
<a id="L646" name="L646"></a> 646                     <strong class="reserved">return</strong> host;
<a id="L647" name="L647"></a> 647                 <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649                 <strong class="reserved">break</strong>;
<a id="L650" name="L650"></a> 650 
<a id="L651" name="L651"></a> 651             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> e) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652                 host = addr.<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>();
<a id="L653" name="L653"></a> 653                 <strong class="reserved">break</strong>;
<a id="L654" name="L654"></a> 654             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> e) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655                 host = addr.<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>();
<a id="L656" name="L656"></a> 656                 <em class="comment">// let next provider resolve the hostname</em>
<a id="L657" name="L657"></a> 657             <em class="brace">}</em>
<a id="L658" name="L658"></a> 658         <em class="brace">}</em>
<a id="L659" name="L659"></a> 659 
<a id="L660" name="L660"></a> 660         <strong class="reserved">return</strong> host;
<a id="L661" name="L661"></a> 661     <em class="brace">}</em>
<a id="L662" name="L662"></a> 662 
<div class="comment">
      Returns the raw IP address of this <code>InetAddress</code>
      object. The result is in network byte order: the highest order
      byte of the address is in <code>getAddress()[0]</code>.
      @return  the raw IP address of this object.</div>
<a id="L670" name="L670"></a> 670     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../R/14983.html" title="Multiple referred from 105 places.">getAddress</a>() <em class="brace">{</em>
<a id="L671" name="L671"></a> 671         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L672" name="L672"></a> 672     <em class="brace">}</em>
<a id="L673" name="L673"></a> 673 
<div class="comment">
      Returns the IP address string in textual presentation.
      @return  the raw IP address in a string format.
      @since   JDK1.0.2</div>
<a id="L680" name="L680"></a> 680     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16911.html" title="Multiple referred from 34 places.">getHostAddress</a>() <em class="brace">{</em>
<a id="L681" name="L681"></a> 681         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L682" name="L682"></a> 682      <em class="brace">}</em>
<a id="L683" name="L683"></a> 683 
<div class="comment">
      Returns a hashcode for this IP address.
      @return  a hash code value for this IP address.</div>
<a id="L689" name="L689"></a> 689     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L690" name="L690"></a> 690         <strong class="reserved">return</strong> -1;
<a id="L691" name="L691"></a> 691     <em class="brace">}</em>
<a id="L692" name="L692"></a> 692 
<div class="comment">
      Compares this object against the specified object.
      The result is <code>true</code> if and only if the argument is
      not <code>null</code> and it represents the same IP address as
      this object.
      <p>
      Two instances of <code>InetAddress</code> represent the same IP
      address if the length of the byte arrays returned by
      <code>getAddress</code> is the same for both, and each of the
      array components is the same for the byte arrays.
      @param   obj   the object to compare against.
      @return  <code>true</code> if the objects are the same;
               <code>false</code> otherwise.
      @see     java.net.InetAddress#getAddress()</p></div>
<a id="L709" name="L709"></a> 709     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L710" name="L710"></a> 710         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L711" name="L711"></a> 711     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712 
<div class="comment">
      Converts this IP address to a <code>String</code>. The
      string returned is of the form: hostname / literal IP
      address.
      If the host name is unresolved, no reverse name service lookup
      is performed. The hostname part will be represented by an empty string.
      @return  a string representation of this IP address.</div>
<a id="L723" name="L723"></a> 723     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L724" name="L724"></a> 724         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> hostName = <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>();
<a id="L725" name="L725"></a> 725         <strong class="reserved">return</strong> ((hostName != <strong class="reserved">null</strong>) ? hostName : "")
<a id="L726" name="L726"></a> 726             + "/" + <a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>();
<a id="L727" name="L727"></a> 727     <em class="brace">}</em>
<a id="L728" name="L728"></a> 728 
<div class="comment">
      Cached addresses - our own litle nis, not!</div>
<a id="L732" name="L732"></a> 732     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a> addressCache = <strong class="reserved">new</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>(<a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.Positive);
<a id="L733" name="L733"></a> 733 
<a id="L734" name="L734"></a> 734     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a> negativeCache = <strong class="reserved">new</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>(<a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.Negative);
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> addressCacheInit = <strong class="reserved">false</strong>;
<a id="L737" name="L737"></a> 737 
<a id="L738" name="L738"></a> 738     <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[]    unknown_array; <em class="comment">// put THIS in cache</em>
<a id="L739" name="L739"></a> 739 
<a id="L740" name="L740"></a> 740     <strong class="reserved">static</strong> <a href="../S/765.html#L37" title="Defined at 37 in src/java/net/InetAddressImpl.java.">InetAddressImpl</a>  <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L741" name="L741"></a> 741 
<a id="L742" name="L742"></a> 742     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/1638.html#L37" title="Defined at 37 in src/java/lang/Void.java.">Void</a>&gt; lookupTable = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L743" name="L743"></a> 743 
<div class="comment">
      Represents a cache entry</div>
<a id="L747" name="L747"></a> 747     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1122.html" title="Multiple referred from 7 places.">CacheEntry</a> <em class="brace">{</em>
<a id="L748" name="L748"></a> 748 
<a id="L749" name="L749"></a> 749         CacheEntry(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses, <strong class="reserved">long</strong> expiration) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750             <strong class="reserved">this</strong>.addresses = addresses;
<a id="L751" name="L751"></a> 751             <strong class="reserved">this</strong>.expiration = expiration;
<a id="L752" name="L752"></a> 752         <em class="brace">}</em>
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses;
<a id="L755" name="L755"></a> 755         <strong class="reserved">long</strong> expiration;
<a id="L756" name="L756"></a> 756     <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<div class="comment">
      A cache that manages entries based on a policy specified
      at creation time.</div>
<a id="L762" name="L762"></a> 762     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1121.html" title="Multiple referred from 16 places.">Cache</a> <em class="brace">{</em>
<a id="L763" name="L763"></a> 763         <strong class="reserved">private</strong> <a href="../S/860.html#L163" title="Defined at 163 in src/java/util/LinkedHashMap.java.">LinkedHashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a>&gt; <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>;
<a id="L764" name="L764"></a> 764         <strong class="reserved">private</strong> <a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L765" name="L765"></a> 765 
<a id="L766" name="L766"></a> 766         <strong class="reserved">enum</strong> <a href="../R/8343.html" title="Multiple referred from 1423 places.">Type</a> <em class="brace">{</em>Positive, Negative<em class="brace">}</em>;
<a id="L767" name="L767"></a> 767 
<div class="comment">
          Create cache</div>
<a id="L771" name="L771"></a> 771         <strong class="reserved">public</strong> Cache(<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L772" name="L772"></a> 772             <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L773" name="L773"></a> 773             <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a> = <strong class="reserved">new</strong> <a href="../S/860.html#L163" title="Defined at 163 in src/java/util/LinkedHashMap.java.">LinkedHashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a>&gt;();
<a id="L774" name="L774"></a> 774         <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<a id="L776" name="L776"></a> 776         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/18358.html" title="Multiple referred from 5 places.">getPolicy</a>() <em class="brace">{</em>
<a id="L777" name="L777"></a> 777             <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.Positive) <em class="brace">{</em>
<a id="L778" name="L778"></a> 778                 <strong class="reserved">return</strong> InetAddressCachePolicy.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L779" name="L779"></a> 779             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L780" name="L780"></a> 780                 <strong class="reserved">return</strong> InetAddressCachePolicy.getNegative();
<a id="L781" name="L781"></a> 781             <em class="brace">}</em>
<a id="L782" name="L782"></a> 782         <em class="brace">}</em>
<a id="L783" name="L783"></a> 783 
<div class="comment">
          Add an entry to the cache. If there's already an
          entry then for this host then the entry will be
          replaced.</div>
<a id="L789" name="L789"></a> 789         <strong class="reserved">public</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a> <a href="../R/25285.html" title="Multiple referred from 5173 places.">put</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses) <em class="brace">{</em>
<a id="L790" name="L790"></a> 790             <strong class="reserved">int</strong> policy = <a href="../D/21517.html" title="Multiple defined in 6 places.">getPolicy</a>();
<a id="L791" name="L791"></a> 791             <strong class="reserved">if</strong> (policy == InetAddressCachePolicy.NEVER) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                 <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L793" name="L793"></a> 793             <em class="brace">}</em>
<a id="L794" name="L794"></a> 794 
<a id="L795" name="L795"></a> 795             <em class="comment">// purge any expired entries</em>
<a id="L796" name="L796"></a> 796 
<a id="L797" name="L797"></a> 797             <strong class="reserved">if</strong> (policy != InetAddressCachePolicy.<a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>
<a id="L798" name="L798"></a> 798 
<a id="L799" name="L799"></a> 799                 <em class="comment">// As we iterate in insertion order we can</em>
<a id="L800" name="L800"></a> 800                 <em class="comment">// terminate when a non-expired entry is found.</em>
<a id="L801" name="L801"></a> 801                 <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; expired = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;&gt;();
<a id="L802" name="L802"></a> 802                 <strong class="reserved">long</strong> <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L803" name="L803"></a> 803                 <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> : <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>()) <em class="brace">{</em>
<a id="L804" name="L804"></a> 804                     <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a> entry = <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L805" name="L805"></a> 805 
<a id="L806" name="L806"></a> 806                     <strong class="reserved">if</strong> (entry.expiration &gt;= 0 &amp;&amp; entry.expiration &lt; <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a>) <em class="brace">{</em>
<a id="L807" name="L807"></a> 807                         expired.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L808" name="L808"></a> 808                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L809" name="L809"></a> 809                         <strong class="reserved">break</strong>;
<a id="L810" name="L810"></a> 810                     <em class="brace">}</em>
<a id="L811" name="L811"></a> 811                 <em class="brace">}</em>
<a id="L812" name="L812"></a> 812 
<a id="L813" name="L813"></a> 813                 <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> : expired) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814                     <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L815" name="L815"></a> 815                 <em class="brace">}</em>
<a id="L816" name="L816"></a> 816             <em class="brace">}</em>
<a id="L817" name="L817"></a> 817 
<a id="L818" name="L818"></a> 818             <em class="comment">// create new entry and add it to the cache</em>
<a id="L819" name="L819"></a> 819             <em class="comment">// -- as a HashMap replaces existing entries we</em>
<a id="L820" name="L820"></a> 820             <em class="comment">//    don't need to explicitly check if there is</em>
<a id="L821" name="L821"></a> 821             <em class="comment">//    already an entry for this host.</em>
<a id="L822" name="L822"></a> 822             <strong class="reserved">long</strong> expiration;
<a id="L823" name="L823"></a> 823             <strong class="reserved">if</strong> (policy == InetAddressCachePolicy.<a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824                 expiration = -1;
<a id="L825" name="L825"></a> 825             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L826" name="L826"></a> 826                 expiration = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>() + (policy * 1000);
<a id="L827" name="L827"></a> 827             <em class="brace">}</em>
<a id="L828" name="L828"></a> 828             <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a> entry = <strong class="reserved">new</strong> <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a>(addresses, expiration);
<a id="L829" name="L829"></a> 829             <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(host, entry);
<a id="L830" name="L830"></a> 830             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L831" name="L831"></a> 831         <em class="brace">}</em>
<a id="L832" name="L832"></a> 832 
<div class="comment">
          Query the cache for the specific host. If found then
          return its CacheEntry, or null if not found.</div>
<a id="L837" name="L837"></a> 837         <strong class="reserved">public</strong> <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host) <em class="brace">{</em>
<a id="L838" name="L838"></a> 838             <strong class="reserved">int</strong> policy = <a href="../D/21517.html" title="Multiple defined in 6 places.">getPolicy</a>();
<a id="L839" name="L839"></a> 839             <strong class="reserved">if</strong> (policy == InetAddressCachePolicy.NEVER) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L841" name="L841"></a> 841             <em class="brace">}</em>
<a id="L842" name="L842"></a> 842             <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a> entry = <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(host);
<a id="L843" name="L843"></a> 843 
<a id="L844" name="L844"></a> 844             <em class="comment">// check if entry has expired</em>
<a id="L845" name="L845"></a> 845             <strong class="reserved">if</strong> (entry != <strong class="reserved">null</strong> &amp;&amp; policy != InetAddressCachePolicy.<a href="../S/1469.html#L190" title="Defined at 190 in src/java/time/temporal/ChronoUnit.java.">FOREVER</a>) <em class="brace">{</em>
<a id="L846" name="L846"></a> 846                 <strong class="reserved">if</strong> (entry.expiration &gt;= 0 &amp;&amp;
<a id="L847" name="L847"></a> 847                     entry.expiration &lt; <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>()) <em class="brace">{</em>
<a id="L848" name="L848"></a> 848                     <a href="../S/2005.html#L328" title="Defined at 328 in src/java/nio/charset/Charset.java.">cache</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(host);
<a id="L849" name="L849"></a> 849                     entry = <strong class="reserved">null</strong>;
<a id="L850" name="L850"></a> 850                 <em class="brace">}</em>
<a id="L851" name="L851"></a> 851             <em class="brace">}</em>
<a id="L852" name="L852"></a> 852 
<a id="L853" name="L853"></a> 853             <strong class="reserved">return</strong> entry;
<a id="L854" name="L854"></a> 854         <em class="brace">}</em>
<a id="L855" name="L855"></a> 855     <em class="brace">}</em>
<a id="L856" name="L856"></a> 856 
<div class="comment">
      Initialize cache and insert anyLocalAddress into the
      unknown array with no expiry.</div>
<a id="L861" name="L861"></a> 861     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/10758.html" title="Multiple referred from 2 places.">cacheInitIfNeeded</a>() <em class="brace">{</em>
<a id="L862" name="L862"></a> 862         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L1488" title="Defined at 1488 in src/java/lang/Thread.java.">holdsLock</a>(addressCache);
<a id="L863" name="L863"></a> 863         <strong class="reserved">if</strong> (addressCacheInit) <em class="brace">{</em>
<a id="L864" name="L864"></a> 864             <strong class="reserved">return</strong>;
<a id="L865" name="L865"></a> 865         <em class="brace">}</em>
<a id="L866" name="L866"></a> 866         unknown_array = <strong class="reserved">new</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[1];
<a id="L867" name="L867"></a> 867         unknown_array[0] = <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/11347.html" title="Multiple defined in 4 places.">anyLocalAddress</a>();
<a id="L868" name="L868"></a> 868 
<a id="L869" name="L869"></a> 869         addressCache.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/11347.html" title="Multiple defined in 4 places.">anyLocalAddress</a>().<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(),
<a id="L870" name="L870"></a> 870                          unknown_array);
<a id="L871" name="L871"></a> 871 
<a id="L872" name="L872"></a> 872         addressCacheInit = <strong class="reserved">true</strong>;
<a id="L873" name="L873"></a> 873     <em class="brace">}</em>
<a id="L874" name="L874"></a> 874 
<div class="comment">
      Cache the given hostname and addresses.</div>
<a id="L878" name="L878"></a> 878     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/826.html#L1362" title="Referred from 1362 in src/java/net/InetAddress.java.">cacheAddresses</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>,
<a id="L879" name="L879"></a> 879                                        <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses,
<a id="L880" name="L880"></a> 880                                        <strong class="reserved">boolean</strong> <a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a>) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881         <a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a> = <a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L882" name="L882"></a> 882         <strong class="reserved">synchronized</strong> (addressCache) <em class="brace">{</em>
<a id="L883" name="L883"></a> 883             <a href="../S/826.html#L861" title="Defined at 861 in src/java/net/InetAddress.java.">cacheInitIfNeeded</a>();
<a id="L884" name="L884"></a> 884             <strong class="reserved">if</strong> (<a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a>) <em class="brace">{</em>
<a id="L885" name="L885"></a> 885                 addressCache.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>, addresses);
<a id="L886" name="L886"></a> 886             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L887" name="L887"></a> 887                 negativeCache.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>, addresses);
<a id="L888" name="L888"></a> 888             <em class="brace">}</em>
<a id="L889" name="L889"></a> 889         <em class="brace">}</em>
<a id="L890" name="L890"></a> 890     <em class="brace">}</em>
<a id="L891" name="L891"></a> 891 
<div class="comment">
      Lookup hostname in cache (positive &amp; negative cache). If
      found return addresses, null if not found.</div>
<a id="L896" name="L896"></a> 896     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15409.html" title="Multiple referred from 2 places.">getCachedAddresses</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>) <em class="brace">{</em>
<a id="L897" name="L897"></a> 897         <a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a> = <a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>();
<a id="L898" name="L898"></a> 898 
<a id="L899" name="L899"></a> 899         <em class="comment">// search both positive &amp; negative caches</em>
<a id="L900" name="L900"></a> 900 
<a id="L901" name="L901"></a> 901         <strong class="reserved">synchronized</strong> (addressCache) <em class="brace">{</em>
<a id="L902" name="L902"></a> 902             <a href="../S/826.html#L861" title="Defined at 861 in src/java/net/InetAddress.java.">cacheInitIfNeeded</a>();
<a id="L903" name="L903"></a> 903 
<a id="L904" name="L904"></a> 904             <a href="../S/826.html#L747" title="Defined at 747 in src/java/net/InetAddress.java.">CacheEntry</a> entry = addressCache.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>);
<a id="L905" name="L905"></a> 905             <strong class="reserved">if</strong> (entry == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L906" name="L906"></a> 906                 entry = negativeCache.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../S/766.html#L208" title="Defined at 208 in src/java/net/HostPortrange.java.">hostname</a>);
<a id="L907" name="L907"></a> 907             <em class="brace">}</em>
<a id="L908" name="L908"></a> 908 
<a id="L909" name="L909"></a> 909             <strong class="reserved">if</strong> (entry != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L910" name="L910"></a> 910                 <strong class="reserved">return</strong> entry.addresses;
<a id="L911" name="L911"></a> 911             <em class="brace">}</em>
<a id="L912" name="L912"></a> 912         <em class="brace">}</em>
<a id="L913" name="L913"></a> 913 
<a id="L914" name="L914"></a> 914         <em class="comment">// not found</em>
<a id="L915" name="L915"></a> 915         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L916" name="L916"></a> 916     <em class="brace">}</em>
<a id="L917" name="L917"></a> 917 
<a id="L918" name="L918"></a> 918     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> <a href="../R/12583.html" title="Multiple referred from 2 places.">createNSProvider</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>) <em class="brace">{</em>
<a id="L919" name="L919"></a> 919         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>)
<a id="L920" name="L920"></a> 920             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L921" name="L921"></a> 921 
<a id="L922" name="L922"></a> 922         <a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> nameService = <strong class="reserved">null</strong>;
<a id="L923" name="L923"></a> 923         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("default")) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924             <em class="comment">// initialize the default name service</em>
<a id="L925" name="L925"></a> 925             nameService = <strong class="reserved">new</strong> <a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a>() <em class="brace">{</em>
<a id="L926" name="L926"></a> 926                 <strong class="reserved">public</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../D/27097.html" title="Multiple defined in 3 places.">lookupAllHostAddr</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host)
<a id="L927" name="L927"></a> 927                     <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L928" name="L928"></a> 928                     <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/27097.html" title="Multiple defined in 3 places.">lookupAllHostAddr</a>(host);
<a id="L929" name="L929"></a> 929                 <em class="brace">}</em>
<a id="L930" name="L930"></a> 930                 <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/19492.html" title="Multiple defined in 3 places.">getHostByAddr</a>(<strong class="reserved">byte</strong>[] addr)
<a id="L931" name="L931"></a> 931                     <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L932" name="L932"></a> 932                     <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/19492.html" title="Multiple defined in 3 places.">getHostByAddr</a>(addr);
<a id="L933" name="L933"></a> 933                 <em class="brace">}</em>
<a id="L934" name="L934"></a> 934             <em class="brace">}</em>;
<a id="L935" name="L935"></a> 935         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L936" name="L936"></a> 936             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> providerName = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>;
<a id="L937" name="L937"></a> 937             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L938" name="L938"></a> 938                 nameService = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L939" name="L939"></a> 939                     <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a>&gt;() <em class="brace">{</em>
<a id="L940" name="L940"></a> 940                         <strong class="reserved">public</strong> <a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L941" name="L941"></a> 941                             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;NameServiceDescriptor&gt; itr =
<a id="L942" name="L942"></a> 942                                 <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(NameServiceDescriptor.<strong class="reserved">class</strong>)
<a id="L943" name="L943"></a> 943                                     .<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L944" name="L944"></a> 944                             <strong class="reserved">while</strong> (itr.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L945" name="L945"></a> 945                                 NameServiceDescriptor nsd = itr.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L946" name="L946"></a> 946                                 <strong class="reserved">if</strong> (providerName.
<a id="L947" name="L947"></a> 947                                     <a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(nsd.<a href="../D/23311.html" title="Multiple defined in 232 places.">getType</a>()+","
<a id="L948" name="L948"></a> 948                                         +nsd.getProviderName())) <em class="brace">{</em>
<a id="L949" name="L949"></a> 949                                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L950" name="L950"></a> 950                                         <strong class="reserved">return</strong> nsd.createNameService();
<a id="L951" name="L951"></a> 951                                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L952" name="L952"></a> 952                                         e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L953" name="L953"></a> 953                                         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(
<a id="L954" name="L954"></a> 954                                             "Cannot create name service:"
<a id="L955" name="L955"></a> 955                                              +providerName+": " + e);
<a id="L956" name="L956"></a> 956                                     <em class="brace">}</em>
<a id="L957" name="L957"></a> 957                                 <em class="brace">}</em>
<a id="L958" name="L958"></a> 958                             <em class="brace">}</em>
<a id="L959" name="L959"></a> 959 
<a id="L960" name="L960"></a> 960                             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L961" name="L961"></a> 961                         <em class="brace">}</em>
<a id="L962" name="L962"></a> 962                     <em class="brace">}</em>
<a id="L963" name="L963"></a> 963                 );
<a id="L964" name="L964"></a> 964             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L965" name="L965"></a> 965             <em class="brace">}</em>
<a id="L966" name="L966"></a> 966         <em class="brace">}</em>
<a id="L967" name="L967"></a> 967 
<a id="L968" name="L968"></a> 968         <strong class="reserved">return</strong> nameService;
<a id="L969" name="L969"></a> 969     <em class="brace">}</em>
<a id="L970" name="L970"></a> 970 
<a id="L971" name="L971"></a> 971     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L972" name="L972"></a> 972         <em class="comment">// create the impl</em>
<a id="L973" name="L973"></a> 973         <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <a href="../S/826.html#L1640" title="Defined at 1640 in src/java/net/InetAddress.java.">InetAddressImplFactory</a>.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>();
<a id="L974" name="L974"></a> 974 
<a id="L975" name="L975"></a> 975         <em class="comment">// get name service if provided and requested</em>
<a id="L976" name="L976"></a> 976         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <strong class="reserved">null</strong>;;
<a id="L977" name="L977"></a> 977         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propPrefix = "sun.net.spi.nameservice.provider.";
<a id="L978" name="L978"></a> 978         <strong class="reserved">int</strong> n = 1;
<a id="L979" name="L979"></a> 979         nameServices = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a>&gt;();
<a id="L980" name="L980"></a> 980         <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L981" name="L981"></a> 981                 <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(propPrefix + n));
<a id="L982" name="L982"></a> 982         <strong class="reserved">while</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L983" name="L983"></a> 983             <a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> ns = <a href="../S/826.html#L918" title="Defined at 918 in src/java/net/InetAddress.java.">createNSProvider</a>(<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L984" name="L984"></a> 984             <strong class="reserved">if</strong> (ns != <strong class="reserved">null</strong>)
<a id="L985" name="L985"></a> 985                 nameServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(ns);
<a id="L986" name="L986"></a> 986 
<a id="L987" name="L987"></a> 987             n++;
<a id="L988" name="L988"></a> 988             <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L989" name="L989"></a> 989                     <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>(propPrefix + n));
<a id="L990" name="L990"></a> 990         <em class="brace">}</em>
<a id="L991" name="L991"></a> 991 
<a id="L992" name="L992"></a> 992         <em class="comment">// if not designate any name services provider,</em>
<a id="L993" name="L993"></a> 993         <em class="comment">// create a default one</em>
<a id="L994" name="L994"></a> 994         <strong class="reserved">if</strong> (nameServices.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0) <em class="brace">{</em>
<a id="L995" name="L995"></a> 995             <a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> ns = <a href="../S/826.html#L918" title="Defined at 918 in src/java/net/InetAddress.java.">createNSProvider</a>("default");
<a id="L996" name="L996"></a> 996             nameServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(ns);
<a id="L997" name="L997"></a> 997         <em class="brace">}</em>
<a id="L998" name="L998"></a> 998     <em class="brace">}</em>
<a id="L999" name="L999"></a> 999 
<div class="comment">
      Creates an InetAddress based on the provided host name and IP address.
      No name service is checked for the validity of the address.
      <p> The host name can either be a machine name, such as
      "<code>java.sun.com</code>", or a textual representation of its IP
      address.
      </p><p> No validity checking is done on the host name either.
      </p><p> If addr specifies an IPv4 address an instance of Inet4Address
      will be returned; otherwise, an instance of Inet6Address
      will be returned.
      </p><p> IPv4 address byte array must be 4 bytes long and IPv6 byte array
      must be 16 bytes long
      @param host the specified host
      @param addr the raw IP address in network byte order
      @return  an InetAddress object created from the raw IP address.
      @exception  UnknownHostException  if IP address is of illegal length
      @since 1.4</p></div>
<a id="L1022" name="L1022"></a>1022     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/15368.html" title="Multiple referred from 7 places.">getByAddress</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">byte</strong>[] addr)
<a id="L1023" name="L1023"></a>1023         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1024" name="L1024"></a>1024         <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong> &amp;&amp; host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0 &amp;&amp; host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '[') <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025             <strong class="reserved">if</strong> (host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1) == ']') <em class="brace">{</em>
<a id="L1026" name="L1026"></a>1026                 host = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1, host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() -1);
<a id="L1027" name="L1027"></a>1027             <em class="brace">}</em>
<a id="L1028" name="L1028"></a>1028         <em class="brace">}</em>
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">if</strong> (addr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030             <strong class="reserved">if</strong> (addr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a>.INADDRSZ) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a>(host, addr);
<a id="L1032" name="L1032"></a>1032             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (addr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == <a href="../S/810.html#L175" title="Defined at 175 in src/java/net/Inet6Address.java.">Inet6Address</a>.INADDRSZ) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033                 <strong class="reserved">byte</strong>[] newAddr
<a id="L1034" name="L1034"></a>1034                     = IPAddressUtil.convertFromIPv4MappedAddress(addr);
<a id="L1035" name="L1035"></a>1035                 <strong class="reserved">if</strong> (newAddr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1036" name="L1036"></a>1036                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a>(host, newAddr);
<a id="L1037" name="L1037"></a>1037                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/810.html#L175" title="Defined at 175 in src/java/net/Inet6Address.java.">Inet6Address</a>(host, addr);
<a id="L1039" name="L1039"></a>1039                 <em class="brace">}</em>
<a id="L1040" name="L1040"></a>1040             <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041         <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>("addr is of illegal length");
<a id="L1043" name="L1043"></a>1043     <em class="brace">}</em>
<a id="L1044" name="L1044"></a>1044 
<a id="L1045" name="L1045"></a>1045 
<div class="comment">
      Determines the IP address of a host, given the host's name.
      <p> The host name can either be a machine name, such as
      "<code>java.sun.com</code>", or a textual representation of its
      IP address. If a literal IP address is supplied, only the
      validity of the address format is checked.
      </p><p> For <code>host</code> specified in literal IPv6 address,
      either the form defined in RFC 2732 or the literal IPv6 address
      format defined in RFC 2373 is accepted. IPv6 scoped addresses are also
      supported. See <a href="Inet6Address.html#scoped">here</a> for a description of IPv6
      scoped addresses.
      </p><p> If the host is <code>null</code> then an <code>InetAddress</code>
      representing an address of the loopback interface is returned.
      See <a href="http://www.ietf.org/rfc/rfc3330.txt">RFC&nbsp;3330</a>
      section&nbsp;2 and <a href="http://www.ietf.org/rfc/rfc2373.txt">RFC&nbsp;2373</a>
      section&nbsp;2.5.3. </p>
      @param      host   the specified host, or <code>null</code>.
      @return     an IP address for the given host name.
      @exception  UnknownHostException  if no IP address for the
                    <code>host</code> could be found, or if a scope_id was specified
                    for a global IPv6 address.
      @exception  SecurityException if a security manager exists
                  and its checkConnect method doesn't allow the operation</div>
<a id="L1074" name="L1074"></a>1074     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/15372.html" title="Multiple referred from 17 places.">getByName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host)
<a id="L1075" name="L1075"></a>1075         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076         <strong class="reserved">return</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/16871.html" title="Multiple defined in 2 places.">getAllByName</a>(host)[0];
<a id="L1077" name="L1077"></a>1077     <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078 
<a id="L1079" name="L1079"></a>1079     <em class="comment">// called from deployment cache manager</em>
<a id="L1080" name="L1080"></a>1080     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/15372.html" title="Multiple referred from 17 places.">getByName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> reqAddr)
<a id="L1081" name="L1081"></a>1081         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1082" name="L1082"></a>1082         <strong class="reserved">return</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/16871.html" title="Multiple defined in 2 places.">getAllByName</a>(host, reqAddr)[0];
<a id="L1083" name="L1083"></a>1083     <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084 
<div class="comment">
      Given the name of a host, returns an array of its IP addresses,
      based on the configured name service on the system.
      <p> The host name can either be a machine name, such as
      "<code>java.sun.com</code>", or a textual representation of its IP
      address. If a literal IP address is supplied, only the
      validity of the address format is checked.
      </p><p> For <code>host</code> specified in <i>literal IPv6 address</i>,
      either the form defined in RFC 2732 or the literal IPv6 address
      format defined in RFC 2373 is accepted. A literal IPv6 address may
      also be qualified by appending a scoped zone identifier or scope_id.
      The syntax and usage of scope_ids is described
      <a href="Inet6Address.html#scoped">here</a>.
      </p><p> If the host is <code>null</code> then an <code>InetAddress</code>
      representing an address of the loopback interface is returned.
      See <a href="http://www.ietf.org/rfc/rfc3330.txt">RFC&nbsp;3330</a>
      section&nbsp;2 and <a href="http://www.ietf.org/rfc/rfc2373.txt">RFC&nbsp;2373</a>
      section&nbsp;2.5.3. </p>
      <p> If there is a security manager and <code>host</code> is not
      null and <code>host.length() </code> is not equal to zero, the
      security manager's
      <code>checkConnect</code> method is called
      with the hostname and <code>-1</code>
      as its arguments to see if the operation is allowed.
      @param      host   the name of the host, or <code>null</code>.
      @return     an array of all the IP addresses for a given host name.
      @exception  UnknownHostException  if no IP address for the
                    <code>host</code> could be found, or if a scope_id was specified
                    for a global IPv6 address.
      @exception  SecurityException  if a security manager exists and its
                    <code>checkConnect</code> method doesn't allow the operation.
      @see SecurityManager#checkConnect</p></div>
<a id="L1124" name="L1124"></a>1124     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15014.html" title="Multiple referred from 4 places.">getAllByName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host)
<a id="L1125" name="L1125"></a>1125         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1126" name="L1126"></a>1126         <strong class="reserved">return</strong> <a href="../D/16871.html" title="Multiple defined in 2 places.">getAllByName</a>(host, <strong class="reserved">null</strong>);
<a id="L1127" name="L1127"></a>1127     <em class="brace">}</em>
<a id="L1128" name="L1128"></a>1128 
<a id="L1129" name="L1129"></a>1129     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15014.html" title="Multiple referred from 4 places.">getAllByName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> reqAddr)
<a id="L1130" name="L1130"></a>1130         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1131" name="L1131"></a>1131 
<a id="L1132" name="L1132"></a>1132         <strong class="reserved">if</strong> (host == <strong class="reserved">null</strong> || host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L1133" name="L1133"></a>1133             <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] ret = <strong class="reserved">new</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[1];
<a id="L1134" name="L1134"></a>1134             ret[0] = <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/27169.html" title="Multiple defined in 3 places.">loopbackAddress</a>();
<a id="L1135" name="L1135"></a>1135             <strong class="reserved">return</strong> ret;
<a id="L1136" name="L1136"></a>1136         <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137 
<a id="L1138" name="L1138"></a>1138         <strong class="reserved">boolean</strong> ipv6Expected = <strong class="reserved">false</strong>;
<a id="L1139" name="L1139"></a>1139         <strong class="reserved">if</strong> (host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '[') <em class="brace">{</em>
<a id="L1140" name="L1140"></a>1140             <em class="comment">// This is supposed to be an IPv6 literal</em>
<a id="L1141" name="L1141"></a>1141             <strong class="reserved">if</strong> (host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 2 &amp;&amp; host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()-1) == ']') <em class="brace">{</em>
<a id="L1142" name="L1142"></a>1142                 host = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1, host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() -1);
<a id="L1143" name="L1143"></a>1143                 ipv6Expected = <strong class="reserved">true</strong>;
<a id="L1144" name="L1144"></a>1144             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1145" name="L1145"></a>1145                 <em class="comment">// This was supposed to be a IPv6 address, but it's not!</em>
<a id="L1146" name="L1146"></a>1146                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>(host + ": invalid IPv6 address");
<a id="L1147" name="L1147"></a>1147             <em class="brace">}</em>
<a id="L1148" name="L1148"></a>1148         <em class="brace">}</em>
<a id="L1149" name="L1149"></a>1149 
<a id="L1150" name="L1150"></a>1150         <em class="comment">// if host is an IP address, we won't do further lookup</em>
<a id="L1151" name="L1151"></a>1151         <strong class="reserved">if</strong> (<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a>(host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0), 16) != -1
<a id="L1152" name="L1152"></a>1152             || (host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == ':')) <em class="brace">{</em>
<a id="L1153" name="L1153"></a>1153             <strong class="reserved">byte</strong>[] addr = <strong class="reserved">null</strong>;
<a id="L1154" name="L1154"></a>1154             <strong class="reserved">int</strong> numericZone = -1;
<a id="L1155" name="L1155"></a>1155             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ifname = <strong class="reserved">null</strong>;
<a id="L1156" name="L1156"></a>1156             <em class="comment">// see if it is IPv4 address</em>
<a id="L1157" name="L1157"></a>1157             addr = IPAddressUtil.textToNumericFormatV4(host);
<a id="L1158" name="L1158"></a>1158             <strong class="reserved">if</strong> (addr == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1159" name="L1159"></a>1159                 <em class="comment">// This is supposed to be an IPv6 literal</em>
<a id="L1160" name="L1160"></a>1160                 <em class="comment">// Check if a numeric or string zone id is present</em>
<a id="L1161" name="L1161"></a>1161                 <strong class="reserved">int</strong> pos;
<a id="L1162" name="L1162"></a>1162                 <strong class="reserved">if</strong> ((pos=host.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a> ("%")) != -1) <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163                     numericZone = <a href="../S/826.html#L1218" title="Defined at 1218 in src/java/net/InetAddress.java.">checkNumericZone</a> (host);
<a id="L1164" name="L1164"></a>1164                     <strong class="reserved">if</strong> (numericZone == -1) <div class="comment">
/* remainder of string must be an ifname */</div>
<a id="L1165" name="L1165"></a>1165                         ifname = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a> (pos+1);
<a id="L1166" name="L1166"></a>1166                     <em class="brace">}</em>
<a id="L1167" name="L1167"></a>1167                 <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168                 <strong class="reserved">if</strong> ((addr = IPAddressUtil.textToNumericFormatV6(host)) == <strong class="reserved">null</strong> &amp;&amp; host.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(":")) <em class="brace">{</em>
<a id="L1169" name="L1169"></a>1169                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>(host + ": invalid IPv6 address");
<a id="L1170" name="L1170"></a>1170                 <em class="brace">}</em>
<a id="L1171" name="L1171"></a>1171             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ipv6Expected) <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172                 <em class="comment">// Means an IPv4 litteral between brackets!</em>
<a id="L1173" name="L1173"></a>1173                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>("["+host+"]");
<a id="L1174" name="L1174"></a>1174             <em class="brace">}</em>
<a id="L1175" name="L1175"></a>1175             <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] ret = <strong class="reserved">new</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[1];
<a id="L1176" name="L1176"></a>1176             <strong class="reserved">if</strong>(addr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1177" name="L1177"></a>1177                 <strong class="reserved">if</strong> (addr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a>.INADDRSZ) <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178                     ret[0] = <strong class="reserved">new</strong> <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a>(<strong class="reserved">null</strong>, addr);
<a id="L1179" name="L1179"></a>1179                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1180" name="L1180"></a>1180                     <strong class="reserved">if</strong> (ifname != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1181" name="L1181"></a>1181                         ret[0] = <strong class="reserved">new</strong> <a href="../S/810.html#L175" title="Defined at 175 in src/java/net/Inet6Address.java.">Inet6Address</a>(<strong class="reserved">null</strong>, addr, ifname);
<a id="L1182" name="L1182"></a>1182                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1183" name="L1183"></a>1183                         ret[0] = <strong class="reserved">new</strong> <a href="../S/810.html#L175" title="Defined at 175 in src/java/net/Inet6Address.java.">Inet6Address</a>(<strong class="reserved">null</strong>, addr, numericZone);
<a id="L1184" name="L1184"></a>1184                     <em class="brace">}</em>
<a id="L1185" name="L1185"></a>1185                 <em class="brace">}</em>
<a id="L1186" name="L1186"></a>1186                 <strong class="reserved">return</strong> ret;
<a id="L1187" name="L1187"></a>1187             <em class="brace">}</em>
<a id="L1188" name="L1188"></a>1188         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ipv6Expected) <em class="brace">{</em>
<a id="L1189" name="L1189"></a>1189             <em class="comment">// We were expecting an IPv6 Litteral, but got something else</em>
<a id="L1190" name="L1190"></a>1190             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>("["+host+"]");
<a id="L1191" name="L1191"></a>1191         <em class="brace">}</em>
<a id="L1192" name="L1192"></a>1192         <strong class="reserved">return</strong> <a href="../D/16872.html" title="Multiple defined in 3 places.">getAllByName0</a>(host, reqAddr, <strong class="reserved">true</strong>);
<a id="L1193" name="L1193"></a>1193     <em class="brace">}</em>
<a id="L1194" name="L1194"></a>1194 
<div class="comment">
      Returns the loopback address.
      <p>
      The InetAddress returned will represent the IPv4
      loopback address, 127.0.0.1, or the IPv6 loopback
      address, ::1. The IPv4 loopback address returned
      is only one of many in the form 127.*.*.*
      @return  the InetAddress loopback instance.
      @since 1.7</p></div>
<a id="L1206" name="L1206"></a>1206     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/17488.html" title="Multiple referred from 3 places.">getLoopbackAddress</a>() <em class="brace">{</em>
<a id="L1207" name="L1207"></a>1207         <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/27169.html" title="Multiple defined in 3 places.">loopbackAddress</a>();
<a id="L1208" name="L1208"></a>1208     <em class="brace">}</em>
<a id="L1209" name="L1209"></a>1209 
<a id="L1210" name="L1210"></a>1210 
<div class="comment">
      check if the literal address string has %nn appended
      returns -1 if not, or the numeric value otherwise.
      %nn may also be a string that represents the displayName of
      a currently available NetworkInterface.</div>
<a id="L1218" name="L1218"></a>1218     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> <a href="../S/826.html#L1163" title="Referred from 1163 in src/java/net/InetAddress.java.">checkNumericZone</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1219" name="L1219"></a>1219         <strong class="reserved">int</strong> percent = s.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a> ('%');
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">int</strong> slen = s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1221" name="L1221"></a>1221         <strong class="reserved">int</strong> <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>=0;
<a id="L1222" name="L1222"></a>1222         <strong class="reserved">if</strong> (percent == -1) <em class="brace">{</em>
<a id="L1223" name="L1223"></a>1223             <strong class="reserved">return</strong> -1;
<a id="L1224" name="L1224"></a>1224         <em class="brace">}</em>
<a id="L1225" name="L1225"></a>1225         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=percent+1; i&lt;slen; i++) <em class="brace">{</em>
<a id="L1226" name="L1226"></a>1226             <strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = s.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L1227" name="L1227"></a>1227             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ']') <em class="brace">{</em>
<a id="L1228" name="L1228"></a>1228                 <strong class="reserved">if</strong> (i == percent+1) <em class="brace">{</em>
<div class="comment">
                     /* empty per-cent field */</div>
<a id="L1230" name="L1230"></a>1230                     <strong class="reserved">return</strong> -1;
<a id="L1231" name="L1231"></a>1231                 <em class="brace">}</em>
<a id="L1232" name="L1232"></a>1232                 <strong class="reserved">break</strong>;
<a id="L1233" name="L1233"></a>1233             <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234             <strong class="reserved">if</strong> ((<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> = <a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, 10)) &lt; 0) <em class="brace">{</em>
<a id="L1235" name="L1235"></a>1235                 <strong class="reserved">return</strong> -1;
<a id="L1236" name="L1236"></a>1236             <em class="brace">}</em>
<a id="L1237" name="L1237"></a>1237             <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> = (<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> * 10) + <a href="../D/14902.html" title="Multiple defined in 10 places.">digit</a>;
<a id="L1238" name="L1238"></a>1238         <em class="brace">}</em>
<a id="L1239" name="L1239"></a>1239         <strong class="reserved">return</strong> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>;
<a id="L1240" name="L1240"></a>1240     <em class="brace">}</em>
<a id="L1241" name="L1241"></a>1241 
<a id="L1242" name="L1242"></a>1242     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15015.html" title="Multiple referred from 7 places.">getAllByName0</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host)
<a id="L1243" name="L1243"></a>1243         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>
<a id="L1244" name="L1244"></a>1244     <em class="brace">{</em>
<a id="L1245" name="L1245"></a>1245         <strong class="reserved">return</strong> <a href="../D/16872.html" title="Multiple defined in 3 places.">getAllByName0</a>(host, <strong class="reserved">true</strong>);
<a id="L1246" name="L1246"></a>1246     <em class="brace">}</em>
<a id="L1247" name="L1247"></a>1247 
<div class="comment">
      package private so SocketPermission can call it</div>
<a id="L1251" name="L1251"></a>1251     <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15015.html" title="Multiple referred from 7 places.">getAllByName0</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">boolean</strong> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>)
<a id="L1252" name="L1252"></a>1252         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>  <em class="brace">{</em>
<a id="L1253" name="L1253"></a>1253         <strong class="reserved">return</strong> <a href="../D/16872.html" title="Multiple defined in 3 places.">getAllByName0</a> (host, <strong class="reserved">null</strong>, <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>);
<a id="L1254" name="L1254"></a>1254     <em class="brace">}</em>
<a id="L1255" name="L1255"></a>1255 
<a id="L1256" name="L1256"></a>1256     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/15015.html" title="Multiple referred from 7 places.">getAllByName0</a> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> reqAddr, <strong class="reserved">boolean</strong> <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>)
<a id="L1257" name="L1257"></a>1257         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>  <em class="brace">{</em>
<a id="L1258" name="L1258"></a>1258 
<div class="comment">
         /* If it gets here it is presumed to be a hostname */</div>
<div class="comment">
         /* Cache.get can return: null, unknownAddress, or InetAddress[] */</div>
<a id="L1261" name="L1261"></a>1261 
<div class="comment">
 make sure the connection to the host is allowed, before we
          give out a hostname</div>
<a id="L1265" name="L1265"></a>1265         <strong class="reserved">if</strong> (<a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>) <em class="brace">{</em>
<a id="L1266" name="L1266"></a>1266             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1267" name="L1267"></a>1267             <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1268" name="L1268"></a>1268                 security.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(host, -1);
<a id="L1269" name="L1269"></a>1269             <em class="brace">}</em>
<a id="L1270" name="L1270"></a>1270         <em class="brace">}</em>
<a id="L1271" name="L1271"></a>1271 
<a id="L1272" name="L1272"></a>1272         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses = <a href="../S/826.html#L896" title="Defined at 896 in src/java/net/InetAddress.java.">getCachedAddresses</a>(host);
<a id="L1273" name="L1273"></a>1273 
<div class="comment">
         /* If no entry in cache, then do the host lookup */</div>
<a id="L1275" name="L1275"></a>1275         <strong class="reserved">if</strong> (addresses == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1276" name="L1276"></a>1276             addresses = <a href="../S/826.html#L1285" title="Defined at 1285 in src/java/net/InetAddress.java.">getAddressesFromNameService</a>(host, reqAddr);
<a id="L1277" name="L1277"></a>1277         <em class="brace">}</em>
<a id="L1278" name="L1278"></a>1278 
<a id="L1279" name="L1279"></a>1279         <strong class="reserved">if</strong> (addresses == unknown_array)
<a id="L1280" name="L1280"></a>1280             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>(host);
<a id="L1281" name="L1281"></a>1281 
<a id="L1282" name="L1282"></a>1282         <strong class="reserved">return</strong> addresses.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1283" name="L1283"></a>1283     <em class="brace">}</em>
<a id="L1284" name="L1284"></a>1284 
<a id="L1285" name="L1285"></a>1285     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../R/14984.html" title="Multiple referred from 2 places.">getAddressesFromNameService</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> reqAddr)
<a id="L1286" name="L1286"></a>1286         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>
<a id="L1287" name="L1287"></a>1287     <em class="brace">{</em>
<a id="L1288" name="L1288"></a>1288         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses = <strong class="reserved">null</strong>;
<a id="L1289" name="L1289"></a>1289         <strong class="reserved">boolean</strong> <a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a> = <strong class="reserved">false</strong>;
<a id="L1290" name="L1290"></a>1290         <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = <strong class="reserved">null</strong>;
<a id="L1291" name="L1291"></a>1291 
<a id="L1292" name="L1292"></a>1292         <em class="comment">// Check whether the host is in the lookupTable.</em>
<a id="L1293" name="L1293"></a>1293         <em class="comment">// 1) If the host isn't in the lookupTable when</em>
<a id="L1294" name="L1294"></a>1294         <em class="comment">//    checkLookupTable() is called, checkLookupTable()</em>
<a id="L1295" name="L1295"></a>1295         <em class="comment">//    would add the host in the lookupTable and</em>
<a id="L1296" name="L1296"></a>1296         <em class="comment">//    return null. So we will do the lookup.</em>
<a id="L1297" name="L1297"></a>1297         <em class="comment">// 2) If the host is in the lookupTable when</em>
<a id="L1298" name="L1298"></a>1298         <em class="comment">//    checkLookupTable() is called, the current thread</em>
<a id="L1299" name="L1299"></a>1299         <em class="comment">//    would be blocked until the host is removed</em>
<a id="L1300" name="L1300"></a>1300         <em class="comment">//    from the lookupTable. Then this thread</em>
<a id="L1301" name="L1301"></a>1301         <em class="comment">//    should try to look up the addressCache.</em>
<a id="L1302" name="L1302"></a>1302         <em class="comment">//     i) if it found the addresses in the</em>
<a id="L1303" name="L1303"></a>1303         <em class="comment">//        addressCache, checkLookupTable()  would</em>
<a id="L1304" name="L1304"></a>1304         <em class="comment">//        return the addresses.</em>
<a id="L1305" name="L1305"></a>1305         <em class="comment">//     ii) if it didn't find the addresses in the</em>
<a id="L1306" name="L1306"></a>1306         <em class="comment">//         addressCache for any reason,</em>
<a id="L1307" name="L1307"></a>1307         <em class="comment">//         it should add the host in the</em>
<a id="L1308" name="L1308"></a>1308         <em class="comment">//         lookupTable and return null so the</em>
<a id="L1309" name="L1309"></a>1309         <em class="comment">//         following code would do  a lookup itself.</em>
<a id="L1310" name="L1310"></a>1310         <strong class="reserved">if</strong> ((addresses = <a href="../S/826.html#L1378" title="Defined at 1378 in src/java/net/InetAddress.java.">checkLookupTable</a>(host)) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1311" name="L1311"></a>1311             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1312" name="L1312"></a>1312                 <em class="comment">// This is the first thread which looks up the addresses</em>
<a id="L1313" name="L1313"></a>1313                 <em class="comment">// this host or the cache entry for this host has been</em>
<a id="L1314" name="L1314"></a>1314                 <em class="comment">// expired so this thread should do the lookup.</em>
<a id="L1315" name="L1315"></a>1315                 <strong class="reserved">for</strong> (<a href="../S/7161.html#L50" title="Defined at 50 in src/com/sun/corba/se/impl/naming/pcosnaming/NameService.java.">NameService</a> nameService : nameServices) <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316                     <strong class="reserved">try</strong> <em class="brace">{</em>
<div class="comment">
                          Do not put the call to lookup() inside the
                          constructor.  if you do you will still be
                          allocating space when the lookup fails.</div>
<a id="L1322" name="L1322"></a>1322 
<a id="L1323" name="L1323"></a>1323                         addresses = nameService.<a href="../D/27097.html" title="Multiple defined in 3 places.">lookupAllHostAddr</a>(host);
<a id="L1324" name="L1324"></a>1324                         <a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a> = <strong class="reserved">true</strong>;
<a id="L1325" name="L1325"></a>1325                         <strong class="reserved">break</strong>;
<a id="L1326" name="L1326"></a>1326                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> uhe) <em class="brace">{</em>
<a id="L1327" name="L1327"></a>1327                         <strong class="reserved">if</strong> (host.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("localhost")) <em class="brace">{</em>
<a id="L1328" name="L1328"></a>1328                             <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] local = <strong class="reserved">new</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <em class="brace">{</em> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/27169.html" title="Multiple defined in 3 places.">loopbackAddress</a>() <em class="brace">}</em>;
<a id="L1329" name="L1329"></a>1329                             addresses = local;
<a id="L1330" name="L1330"></a>1330                             <a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a> = <strong class="reserved">true</strong>;
<a id="L1331" name="L1331"></a>1331                             <strong class="reserved">break</strong>;
<a id="L1332" name="L1332"></a>1332                         <em class="brace">}</em>
<a id="L1333" name="L1333"></a>1333                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1334" name="L1334"></a>1334                             addresses = unknown_array;
<a id="L1335" name="L1335"></a>1335                             <a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a> = <strong class="reserved">false</strong>;
<a id="L1336" name="L1336"></a>1336                             <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> = uhe;
<a id="L1337" name="L1337"></a>1337                         <em class="brace">}</em>
<a id="L1338" name="L1338"></a>1338                     <em class="brace">}</em>
<a id="L1339" name="L1339"></a>1339                 <em class="brace">}</em>
<a id="L1340" name="L1340"></a>1340 
<a id="L1341" name="L1341"></a>1341                 <em class="comment">// More to do?</em>
<a id="L1342" name="L1342"></a>1342                 <strong class="reserved">if</strong> (reqAddr != <strong class="reserved">null</strong> &amp;&amp; addresses.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 1 &amp;&amp; !addresses[0].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(reqAddr)) <em class="brace">{</em>
<a id="L1343" name="L1343"></a>1343                     <em class="comment">// Find it?</em>
<a id="L1344" name="L1344"></a>1344                     <strong class="reserved">int</strong> i = 1;
<a id="L1345" name="L1345"></a>1345                     <strong class="reserved">for</strong> (; i &lt; addresses.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L1346" name="L1346"></a>1346                         <strong class="reserved">if</strong> (addresses[i].<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(reqAddr)) <em class="brace">{</em>
<a id="L1347" name="L1347"></a>1347                             <strong class="reserved">break</strong>;
<a id="L1348" name="L1348"></a>1348                         <em class="brace">}</em>
<a id="L1349" name="L1349"></a>1349                     <em class="brace">}</em>
<a id="L1350" name="L1350"></a>1350                     <em class="comment">// Rotate</em>
<a id="L1351" name="L1351"></a>1351                     <strong class="reserved">if</strong> (i &lt; addresses.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L1352" name="L1352"></a>1352                         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> tmp, tmp2 = reqAddr;
<a id="L1353" name="L1353"></a>1353                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; i; j++) <em class="brace">{</em>
<a id="L1354" name="L1354"></a>1354                             tmp = addresses[j];
<a id="L1355" name="L1355"></a>1355                             addresses[j] = tmp2;
<a id="L1356" name="L1356"></a>1356                             tmp2 = tmp;
<a id="L1357" name="L1357"></a>1357                         <em class="brace">}</em>
<a id="L1358" name="L1358"></a>1358                         addresses[i] = tmp2;
<a id="L1359" name="L1359"></a>1359                     <em class="brace">}</em>
<a id="L1360" name="L1360"></a>1360                 <em class="brace">}</em>
<a id="L1361" name="L1361"></a>1361                 <em class="comment">// Cache the address.</em>
<a id="L1362" name="L1362"></a>1362                 <a href="../S/826.html#L878" title="Defined at 878 in src/java/net/InetAddress.java.">cacheAddresses</a>(host, addresses, <a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a>);
<a id="L1363" name="L1363"></a>1363 
<a id="L1364" name="L1364"></a>1364                 <strong class="reserved">if</strong> (!<a href="../S/4534.html#L874" title="Defined at 874 in src/com/sun/org/apache/regexp/internal/RETest.java.">success</a> &amp;&amp; <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a> != <strong class="reserved">null</strong>)
<a id="L1365" name="L1365"></a>1365                     <strong class="reserved">throw</strong> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>;
<a id="L1366" name="L1366"></a>1366 
<a id="L1367" name="L1367"></a>1367             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1368" name="L1368"></a>1368                 <em class="comment">// Delete host from the lookupTable and notify</em>
<a id="L1369" name="L1369"></a>1369                 <em class="comment">// all threads waiting on the lookupTable monitor.</em>
<a id="L1370" name="L1370"></a>1370                 <a href="../S/826.html#L1414" title="Defined at 1414 in src/java/net/InetAddress.java.">updateLookupTable</a>(host);
<a id="L1371" name="L1371"></a>1371             <em class="brace">}</em>
<a id="L1372" name="L1372"></a>1372         <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373 
<a id="L1374" name="L1374"></a>1374         <strong class="reserved">return</strong> addresses;
<a id="L1375" name="L1375"></a>1375     <em class="brace">}</em>
<a id="L1376" name="L1376"></a>1376 
<a id="L1377" name="L1377"></a>1377 
<a id="L1378" name="L1378"></a>1378     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] <a href="../S/826.html#L1310" title="Referred from 1310 in src/java/net/InetAddress.java.">checkLookupTable</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host) <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379         <strong class="reserved">synchronized</strong> (lookupTable) <em class="brace">{</em>
<a id="L1380" name="L1380"></a>1380             <em class="comment">// If the host isn't in the lookupTable, add it in the</em>
<a id="L1381" name="L1381"></a>1381             <em class="comment">// lookuptable and return null. The caller should do</em>
<a id="L1382" name="L1382"></a>1382             <em class="comment">// the lookup.</em>
<a id="L1383" name="L1383"></a>1383             <strong class="reserved">if</strong> (lookupTable.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(host) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L1384" name="L1384"></a>1384                 lookupTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(host, <strong class="reserved">null</strong>);
<a id="L1385" name="L1385"></a>1385                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1386" name="L1386"></a>1386             <em class="brace">}</em>
<a id="L1387" name="L1387"></a>1387 
<a id="L1388" name="L1388"></a>1388             <em class="comment">// If the host is in the lookupTable, it means that another</em>
<a id="L1389" name="L1389"></a>1389             <em class="comment">// thread is trying to look up the addresses of this host.</em>
<a id="L1390" name="L1390"></a>1390             <em class="comment">// This thread should wait.</em>
<a id="L1391" name="L1391"></a>1391             <strong class="reserved">while</strong> (lookupTable.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(host)) <em class="brace">{</em>
<a id="L1392" name="L1392"></a>1392                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1393" name="L1393"></a>1393                     lookupTable.<a href="../D/36778.html" title="Multiple defined in 3 places.">wait</a>();
<a id="L1394" name="L1394"></a>1394                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> e) <em class="brace">{</em>
<a id="L1395" name="L1395"></a>1395                 <em class="brace">}</em>
<a id="L1396" name="L1396"></a>1396             <em class="brace">}</em>
<a id="L1397" name="L1397"></a>1397         <em class="brace">}</em>
<a id="L1398" name="L1398"></a>1398 
<a id="L1399" name="L1399"></a>1399         <em class="comment">// The other thread has finished looking up the addresses of</em>
<a id="L1400" name="L1400"></a>1400         <em class="comment">// the host. This thread should retry to get the addresses</em>
<a id="L1401" name="L1401"></a>1401         <em class="comment">// from the addressCache. If it doesn't get the addresses from</em>
<a id="L1402" name="L1402"></a>1402         <em class="comment">// the cache, it will try to look up the addresses itself.</em>
<a id="L1403" name="L1403"></a>1403         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] addresses = <a href="../S/826.html#L896" title="Defined at 896 in src/java/net/InetAddress.java.">getCachedAddresses</a>(host);
<a id="L1404" name="L1404"></a>1404         <strong class="reserved">if</strong> (addresses == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1405" name="L1405"></a>1405             <strong class="reserved">synchronized</strong> (lookupTable) <em class="brace">{</em>
<a id="L1406" name="L1406"></a>1406                 lookupTable.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(host, <strong class="reserved">null</strong>);
<a id="L1407" name="L1407"></a>1407                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1408" name="L1408"></a>1408             <em class="brace">}</em>
<a id="L1409" name="L1409"></a>1409         <em class="brace">}</em>
<a id="L1410" name="L1410"></a>1410 
<a id="L1411" name="L1411"></a>1411         <strong class="reserved">return</strong> addresses;
<a id="L1412" name="L1412"></a>1412     <em class="brace">}</em>
<a id="L1413" name="L1413"></a>1413 
<a id="L1414" name="L1414"></a>1414     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/826.html#L1370" title="Referred from 1370 in src/java/net/InetAddress.java.">updateLookupTable</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host) <em class="brace">{</em>
<a id="L1415" name="L1415"></a>1415         <strong class="reserved">synchronized</strong> (lookupTable) <em class="brace">{</em>
<a id="L1416" name="L1416"></a>1416             lookupTable.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(host);
<a id="L1417" name="L1417"></a>1417             lookupTable.<a href="../S/1724.html#L295" title="Defined at 295 in src/java/lang/Object.java.">notifyAll</a>();
<a id="L1418" name="L1418"></a>1418         <em class="brace">}</em>
<a id="L1419" name="L1419"></a>1419     <em class="brace">}</em>
<a id="L1420" name="L1420"></a>1420 
<div class="comment">
      Returns an <code>InetAddress</code> object given the raw IP address .
      The argument is in network byte order: the highest order
      byte of the address is in <code>getAddress()[0]</code>.
      <p> This method doesn't block, i.e. no reverse name service lookup
      is performed.
      </p><p> IPv4 address byte array must be 4 bytes long and IPv6 byte array
      must be 16 bytes long
      @param addr the raw IP address in network byte order
      @return  an InetAddress object created from the raw IP address.
      @exception  UnknownHostException  if IP address is of illegal length
      @since 1.4</p></div>
<a id="L1437" name="L1437"></a>1437     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/15368.html" title="Multiple referred from 7 places.">getByAddress</a>(<strong class="reserved">byte</strong>[] addr)
<a id="L1438" name="L1438"></a>1438         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1439" name="L1439"></a>1439         <strong class="reserved">return</strong> <a href="../D/17391.html" title="Multiple defined in 4 places.">getByAddress</a>(<strong class="reserved">null</strong>, addr);
<a id="L1440" name="L1440"></a>1440     <em class="brace">}</em>
<a id="L1441" name="L1441"></a>1441 
<a id="L1442" name="L1442"></a>1442     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> cachedLocalHost = <strong class="reserved">null</strong>;
<a id="L1443" name="L1443"></a>1443     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> cacheTime = 0;
<a id="L1444" name="L1444"></a>1444     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> maxCacheTime = 5000L;
<a id="L1445" name="L1445"></a>1445     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> cacheLock = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L1446" name="L1446"></a>1446 
<div class="comment">
      Returns the address of the local host. This is achieved by retrieving
      the name of the host from the system, then resolving that name into
      an <code>InetAddress</code>.
      <p>Note: The resolved address may be cached for a short period of time.
      </p>
      <p>If there is a security manager, its
      <code>checkConnect</code> method is called
      with the local host name and <code>-1</code>
      as its arguments to see if the operation is allowed.
      If the operation is not allowed, an InetAddress representing
      the loopback address is returned.
      @return     the address of the local host.
      @exception  UnknownHostException  if the local host name could not
                  be resolved into an address.
      @see SecurityManager#checkConnect
      @see java.net.InetAddress#getByName(java.lang.String)</p></div>
<a id="L1470" name="L1470"></a>1470     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/17415.html" title="Multiple referred from 16 places.">getLocalHost</a>() <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <em class="brace">{</em>
<a id="L1471" name="L1471"></a>1471 
<a id="L1472" name="L1472"></a>1472         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1473" name="L1473"></a>1473         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1474" name="L1474"></a>1474             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> local = <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/20199.html" title="Multiple defined in 4 places.">getLocalHostName</a>();
<a id="L1475" name="L1475"></a>1475 
<a id="L1476" name="L1476"></a>1476             <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1477" name="L1477"></a>1477                 security.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(local, -1);
<a id="L1478" name="L1478"></a>1478             <em class="brace">}</em>
<a id="L1479" name="L1479"></a>1479 
<a id="L1480" name="L1480"></a>1480             <strong class="reserved">if</strong> (local.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("localhost")) <em class="brace">{</em>
<a id="L1481" name="L1481"></a>1481                 <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/27169.html" title="Multiple defined in 3 places.">loopbackAddress</a>();
<a id="L1482" name="L1482"></a>1482             <em class="brace">}</em>
<a id="L1483" name="L1483"></a>1483 
<a id="L1484" name="L1484"></a>1484             <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> ret = <strong class="reserved">null</strong>;
<a id="L1485" name="L1485"></a>1485             <strong class="reserved">synchronized</strong> (cacheLock) <em class="brace">{</em>
<a id="L1486" name="L1486"></a>1486                 <strong class="reserved">long</strong> <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L1487" name="L1487"></a>1487                 <strong class="reserved">if</strong> (cachedLocalHost != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1488" name="L1488"></a>1488                     <strong class="reserved">if</strong> ((<a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> - cacheTime) &lt; maxCacheTime) <em class="comment">// Less than 5s old?</em>
<a id="L1489" name="L1489"></a>1489                         ret = cachedLocalHost;
<a id="L1490" name="L1490"></a>1490                     <strong class="reserved">else</strong>
<a id="L1491" name="L1491"></a>1491                         cachedLocalHost = <strong class="reserved">null</strong>;
<a id="L1492" name="L1492"></a>1492                 <em class="brace">}</em>
<a id="L1493" name="L1493"></a>1493 
<a id="L1494" name="L1494"></a>1494                 <em class="comment">// we are calling getAddressesFromNameService directly</em>
<a id="L1495" name="L1495"></a>1495                 <em class="comment">// to avoid getting localHost from cache</em>
<a id="L1496" name="L1496"></a>1496                 <strong class="reserved">if</strong> (ret == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1497" name="L1497"></a>1497                     <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>[] localAddrs;
<a id="L1498" name="L1498"></a>1498                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1499" name="L1499"></a>1499                         localAddrs =
<a id="L1500" name="L1500"></a>1500                             <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1285" title="Defined at 1285 in src/java/net/InetAddress.java.">getAddressesFromNameService</a>(local, <strong class="reserved">null</strong>);
<a id="L1501" name="L1501"></a>1501                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> uhe) <em class="brace">{</em>
<a id="L1502" name="L1502"></a>1502                         <em class="comment">// Rethrow with a more informative error message.</em>
<a id="L1503" name="L1503"></a>1503                         <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> uhe2 =
<a id="L1504" name="L1504"></a>1504                             <strong class="reserved">new</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>(local + ": " +
<a id="L1505" name="L1505"></a>1505                                                      uhe.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L1506" name="L1506"></a>1506                         uhe2.<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(uhe);
<a id="L1507" name="L1507"></a>1507                         <strong class="reserved">throw</strong> uhe2;
<a id="L1508" name="L1508"></a>1508                     <em class="brace">}</em>
<a id="L1509" name="L1509"></a>1509                     cachedLocalHost = localAddrs[0];
<a id="L1510" name="L1510"></a>1510                     cacheTime = <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a>;
<a id="L1511" name="L1511"></a>1511                     ret = localAddrs[0];
<a id="L1512" name="L1512"></a>1512                 <em class="brace">}</em>
<a id="L1513" name="L1513"></a>1513             <em class="brace">}</em>
<a id="L1514" name="L1514"></a>1514             <strong class="reserved">return</strong> ret;
<a id="L1515" name="L1515"></a>1515         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> e) <em class="brace">{</em>
<a id="L1516" name="L1516"></a>1516             <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/27169.html" title="Multiple defined in 3 places.">loopbackAddress</a>();
<a id="L1517" name="L1517"></a>1517         <em class="brace">}</em>
<a id="L1518" name="L1518"></a>1518     <em class="brace">}</em>
<a id="L1519" name="L1519"></a>1519 
<div class="comment">
      Perform class load-time initializations.</div>
<a id="L1523" name="L1523"></a>1523     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/20537.html" title="Multiple referred from 888 places.">init</a>();
<a id="L1524" name="L1524"></a>1524 
<a id="L1525" name="L1525"></a>1525 
<div class="comment">
      Returns the InetAddress representing anyLocalAddress
      (typically 0.0.0.0 or ::0)</div>
<a id="L1530" name="L1530"></a>1530     <strong class="reserved">static</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/10182.html" title="Multiple referred from 22 places.">anyLocalAddress</a>() <em class="brace">{</em>
<a id="L1531" name="L1531"></a>1531         <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/11347.html" title="Multiple defined in 4 places.">anyLocalAddress</a>();
<a id="L1532" name="L1532"></a>1532     <em class="brace">}</em>
<a id="L1533" name="L1533"></a>1533 
<div class="comment">
      Load and instantiate an underlying impl class</div>
<a id="L1537" name="L1537"></a>1537     <strong class="reserved">static</strong> <a href="../S/765.html#L37" title="Defined at 37 in src/java/net/InetAddressImpl.java.">InetAddressImpl</a> <a href="../S/826.html#L1643" title="Referred from 1643 in src/java/net/InetAddress.java.">loadImpl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> implName) <em class="brace">{</em>
<a id="L1538" name="L1538"></a>1538         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <strong class="reserved">null</strong>;
<a id="L1539" name="L1539"></a>1539 
<div class="comment">
          Property "impl.prefix" will be prepended to the classname
          of the implementation object we instantiate, to which we
          delegate the real work (like native methods).  This
          property can vary across implementations of the java.
          classes.  The default is an empty String "".</div>
<a id="L1547" name="L1547"></a>1547         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L1548" name="L1548"></a>1548                       <strong class="reserved">new</strong> <a href="../D/3576.html" title="Multiple defined in 3 places.">GetPropertyAction</a>("impl.prefix", ""));
<a id="L1549" name="L1549"></a>1549         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1550" name="L1550"></a>1550             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>("java.net." + <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> + implName).<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1551" name="L1551"></a>1551         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L1552" name="L1552"></a>1552             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Class not found: java.net." + <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> +
<a id="L1553" name="L1553"></a>1553                                implName + ":\ncheck impl.prefix property " +
<a id="L1554" name="L1554"></a>1554                                "in your properties file.");
<a id="L1555" name="L1555"></a>1555         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1743.html#L46" title="Defined at 46 in src/java/lang/InstantiationException.java.">InstantiationException</a> e) <em class="brace">{</em>
<a id="L1556" name="L1556"></a>1556             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Could not instantiate: java.net." + <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> +
<a id="L1557" name="L1557"></a>1557                                implName + ":\ncheck impl.prefix property " +
<a id="L1558" name="L1558"></a>1558                                "in your properties file.");
<a id="L1559" name="L1559"></a>1559         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a> e) <em class="brace">{</em>
<a id="L1560" name="L1560"></a>1560             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("Cannot access class: java.net." + <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> +
<a id="L1561" name="L1561"></a>1561                                implName + ":\ncheck impl.prefix property " +
<a id="L1562" name="L1562"></a>1562                                "in your properties file.");
<a id="L1563" name="L1563"></a>1563         <em class="brace">}</em>
<a id="L1564" name="L1564"></a>1564 
<a id="L1565" name="L1565"></a>1565         <strong class="reserved">if</strong> (<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1566" name="L1566"></a>1566             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1567" name="L1567"></a>1567                 <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(implName).<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L1568" name="L1568"></a>1568             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1569" name="L1569"></a>1569                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>("System property impl.prefix incorrect");
<a id="L1570" name="L1570"></a>1570             <em class="brace">}</em>
<a id="L1571" name="L1571"></a>1571         <em class="brace">}</em>
<a id="L1572" name="L1572"></a>1572 
<a id="L1573" name="L1573"></a>1573         <strong class="reserved">return</strong> (<a href="../S/765.html#L37" title="Defined at 37 in src/java/net/InetAddressImpl.java.">InetAddressImpl</a>) <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L1574" name="L1574"></a>1574     <em class="brace">}</em>
<a id="L1575" name="L1575"></a>1575 
<a id="L1576" name="L1576"></a>1576     <strong class="reserved">private</strong> <strong class="reserved">void</strong> readObjectNoData (<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s) <strong class="reserved">throws</strong>
<a id="L1577" name="L1577"></a>1577                          <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L1578" name="L1578"></a>1578         <strong class="reserved">if</strong> (<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1579" name="L1579"></a>1579             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> ("invalid address type");
<a id="L1580" name="L1580"></a>1580         <em class="brace">}</em>
<a id="L1581" name="L1581"></a>1581     <em class="brace">}</em>
<a id="L1582" name="L1582"></a>1582 
<a id="L1583" name="L1583"></a>1583     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> FIELDS_OFFSET;
<a id="L1584" name="L1584"></a>1584     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> sun.misc.Unsafe UNSAFE;
<a id="L1585" name="L1585"></a>1585 
<a id="L1586" name="L1586"></a>1586     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L1587" name="L1587"></a>1587         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588             sun.misc.Unsafe <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a> = sun.misc.Unsafe.getUnsafe();
<a id="L1589" name="L1589"></a>1589             FIELDS_OFFSET = <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>.<a href="../D/28395.html" title="Multiple defined in 5 places.">objectFieldOffset</a>(
<a id="L1590" name="L1590"></a>1590                 <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<strong class="reserved">class</strong>.<a href="../S/1722.html#L2065" title="Defined at 2065 in src/java/lang/Class.java.">getDeclaredField</a>("holder")
<a id="L1591" name="L1591"></a>1591             );
<a id="L1592" name="L1592"></a>1592             UNSAFE = <a href="../S/1996.html#L558" title="Defined at 558 in src/java/nio/Bits.java.">unsafe</a>;
<a id="L1593" name="L1593"></a>1593         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1731.html#L35" title="Defined at 35 in src/java/lang/ReflectiveOperationException.java.">ReflectiveOperationException</a> e) <em class="brace">{</em>
<a id="L1594" name="L1594"></a>1594             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>(e);
<a id="L1595" name="L1595"></a>1595         <em class="brace">}</em>
<a id="L1596" name="L1596"></a>1596     <em class="brace">}</em>
<a id="L1597" name="L1597"></a>1597 
<a id="L1598" name="L1598"></a>1598     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a> (<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s) <strong class="reserved">throws</strong>
<a id="L1599" name="L1599"></a>1599                          <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L1600" name="L1600"></a>1600         <strong class="reserved">if</strong> (<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1601" name="L1601"></a>1601             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> ("invalid address type");
<a id="L1602" name="L1602"></a>1602         <em class="brace">}</em>
<a id="L1603" name="L1603"></a>1603         <a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> gf = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L1604" name="L1604"></a>1604         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("hostName", <strong class="reserved">null</strong>);
<a id="L1605" name="L1605"></a>1605         <strong class="reserved">int</strong> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>= gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("address", 0);
<a id="L1606" name="L1606"></a>1606         <strong class="reserved">int</strong> <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>= gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("family", 0);
<a id="L1607" name="L1607"></a>1607         <a href="../S/826.html#L205" title="Defined at 205 in src/java/net/InetAddress.java.">InetAddressHolder</a> h = <strong class="reserved">new</strong> <a href="../S/826.html#L205" title="Defined at 205 in src/java/net/InetAddress.java.">InetAddressHolder</a>(host, <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <a href="../S/986.html#L2671" title="Defined at 2671 in src/java/util/regex/Pattern.java.">family</a>);
<a id="L1608" name="L1608"></a>1608         UNSAFE.putObject(<strong class="reserved">this</strong>, FIELDS_OFFSET, h);
<a id="L1609" name="L1609"></a>1609     <em class="brace">}</em>
<a id="L1610" name="L1610"></a>1610 
<div class="comment">
     /* needed because the serializable fields no longer exist */</div>
<a id="L1612" name="L1612"></a>1612 
<div class="comment">
      @serialField hostName String
      @serialField address int
      @serialField family int</div>
<a id="L1618" name="L1618"></a>1618     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L1619" name="L1619"></a>1619         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("hostName", <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>),
<a id="L1620" name="L1620"></a>1620         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("address", <strong class="reserved">int</strong>.<strong class="reserved">class</strong>),
<a id="L1621" name="L1621"></a>1621         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("family", <strong class="reserved">int</strong>.<strong class="reserved">class</strong>),
<a id="L1622" name="L1622"></a>1622     <em class="brace">}</em>;
<a id="L1623" name="L1623"></a>1623 
<a id="L1624" name="L1624"></a>1624     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a> (<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s) <strong class="reserved">throws</strong>
<a id="L1625" name="L1625"></a>1625                         <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1626" name="L1626"></a>1626         <strong class="reserved">if</strong> (<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1627" name="L1627"></a>1627             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> ("invalid address type");
<a id="L1628" name="L1628"></a>1628         <em class="brace">}</em>
<a id="L1629" name="L1629"></a>1629         <a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> pf = s.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L1630" name="L1630"></a>1630         pf.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("hostName", <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>());
<a id="L1631" name="L1631"></a>1631         pf.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("address", <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>());
<a id="L1632" name="L1632"></a>1632         pf.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("family", <a href="../D/24275.html" title="Multiple defined in 2 places.">holder</a>().<a href="../D/18991.html" title="Multiple defined in 3 places.">getFamily</a>());
<a id="L1633" name="L1633"></a>1633         s.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L1634" name="L1634"></a>1634     <em class="brace">}</em>
<a id="L1635" name="L1635"></a>1635 <em class="brace">}</em>
<a id="L1636" name="L1636"></a>1636 
<div class="comment">
  Simple factory to create the impl</div>
<a id="L1640" name="L1640"></a>1640 <strong class="reserved">class</strong> <a href="../S/826.html#L973" title="Referred from 973 in src/java/net/InetAddress.java.">InetAddressImplFactory</a> <em class="brace">{</em>
<a id="L1641" name="L1641"></a>1641 
<a id="L1642" name="L1642"></a>1642     <strong class="reserved">static</strong> <a href="../S/765.html#L37" title="Defined at 37 in src/java/net/InetAddressImpl.java.">InetAddressImpl</a> <a href="../R/12190.html" title="Multiple referred from 234 places.">create</a>() <em class="brace">{</em>
<a id="L1643" name="L1643"></a>1643         <strong class="reserved">return</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1537" title="Defined at 1537 in src/java/net/InetAddress.java.">loadImpl</a>(<a href="../S/826.html#L1647" title="Defined at 1647 in src/java/net/InetAddress.java.">isIPv6Supported</a>() ?
<a id="L1644" name="L1644"></a>1644                                     "Inet6AddressImpl" : "Inet4AddressImpl");
<a id="L1645" name="L1645"></a>1645     <em class="brace">}</em>
<a id="L1646" name="L1646"></a>1646 
<a id="L1647" name="L1647"></a>1647     <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../S/826.html#L1643" title="Referred from 1643 in src/java/net/InetAddress.java.">isIPv6Supported</a>();
<a id="L1648" name="L1648"></a>1648 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L231">[^]</a><a href="#L1647">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>