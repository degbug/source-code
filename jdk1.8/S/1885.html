<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/nio/file/attribute/FileTime.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L95">[^]</a><a href="#L411">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L95" title="Defined at 95.">from</a></li>
<li><a href="#L109" title="Defined at 109.">fromMillis</a></li>
<li><a href="#L123" title="Defined at 123.">from</a></li>
<li><a href="#L141" title="Defined at 141.">to</a></li>
<li><a href="#L169" title="Defined at 169.">toMillis</a></li>
<li><a href="#L208" title="Defined at 208.">scale</a></li>
<li><a href="#L230" title="Defined at 230.">toInstant</a></li>
<li><a href="#L290" title="Defined at 290.">equals</a></li>
<li><a href="#L303" title="Defined at 303.">hashCode</a></li>
<li><a href="#L308" title="Defined at 308.">toDays</a></li>
<li><a href="#L316" title="Defined at 316.">toExcessNanos</a></li>
<li><a href="#L337" title="Defined at 337.">compareTo</a></li>
<li><a href="#L376" title="Defined at 376.">append</a></li>
<li><a href="#L411" title="Defined at 411.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2009, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.nio.<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/11628.html" title="Multiple defined in 2 places.">attribute</a>;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.time.Instant;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.time.LocalDateTime;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.time.ZoneOffset;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Objects;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.concurrent.TimeUnit;
<a id="L33" name="L33"></a>  33 
<div class="comment">
  Represents the value of a file's time stamp attribute. For example, it may
  represent the time that the file was last
  {@link BasicFileAttributes#lastModifiedTime() modified},
  {@link BasicFileAttributes#lastAccessTime() accessed},
  or {@link BasicFileAttributes#creationTime() created}.
  <p> Instances of this class are immutable.
  @since 1.7
  @see java.nio.file.Files#setLastModifiedTime
  @see java.nio.file.Files#getLastModifiedTime</p></div>
<a id="L47" name="L47"></a>  47 
<a id="L48" name="L48"></a>  48 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2954.html" title="Multiple referred from 37 places.">FileTime</a>
<a id="L49" name="L49"></a>  49     <strong class="reserved">implements</strong> <a href="../S/1704.html#L96" title="Defined at 96 in src/java/lang/Comparable.java.">Comparable</a>&lt;<a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a>&gt;
<a id="L50" name="L50"></a>  50 <em class="brace">{</em>
<div class="comment">
      The unit of granularity to interpret the value. Null if
      this <code>FileTime</code> is converted from an <code>Instant</code>,
      the <code>value</code> and <code>unit</code> pair will not be used
      in this scenario.</div>
<a id="L57" name="L57"></a>  57     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a> unit;
<a id="L58" name="L58"></a>  58 
<div class="comment">
      The value since the epoch; can be negative.</div>
<a id="L62" name="L62"></a>  62     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L63" name="L63"></a>  63 
<div class="comment">
      The value as Instant (created lazily, if not from an instant)</div>
<a id="L67" name="L67"></a>  67     <strong class="reserved">private</strong> <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>;
<a id="L68" name="L68"></a>  68 
<div class="comment">
      The value return by toString (created lazily)</div>
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> valueAsString;
<a id="L73" name="L73"></a>  73 
<div class="comment">
      Initializes a new instance of this class.</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> FileTime(<strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a> unit, <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L78" name="L78"></a>  78         <strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L79" name="L79"></a>  79         <strong class="reserved">this</strong>.unit = unit;
<a id="L80" name="L80"></a>  80         <strong class="reserved">this</strong>.<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a> = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>;
<a id="L81" name="L81"></a>  81     <em class="brace">}</em>
<a id="L82" name="L82"></a>  82 
<div class="comment">
      Returns a <code>FileTime</code> representing a value at the given unit of
      granularity.
      @param   value
               the value since the epoch (1970-01-01T00:00:00Z); can be
               negative
      @param   unit
               the unit of granularity to interpret the value
      @return  a <code>FileTime</code> representing the given value</div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a> <a href="../R/14799.html" title="Multiple referred from 407 places.">from</a>(<strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a> unit) <em class="brace">{</em>
<a id="L96" name="L96"></a>  96         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(unit, "unit");
<a id="L97" name="L97"></a>  97         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, unit, <strong class="reserved">null</strong>);
<a id="L98" name="L98"></a>  98     <em class="brace">}</em>
<a id="L99" name="L99"></a>  99 
<div class="comment">
      Returns a <code>FileTime</code> representing the given value in milliseconds.
      @param   value
               the value, in milliseconds, since the epoch
               (1970-01-01T00:00:00Z); can be negative
      @return  a <code>FileTime</code> representing the given value</div>
<a id="L109" name="L109"></a> 109     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a> fromMillis(<strong class="reserved">long</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L110" name="L110"></a> 110         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.MILLISECONDS, <strong class="reserved">null</strong>);
<a id="L111" name="L111"></a> 111     <em class="brace">}</em>
<a id="L112" name="L112"></a> 112 
<div class="comment">
      Returns a <code>FileTime</code> representing the same point of time value
      on the time-line as the provided <code>Instant</code> object.
      @param   instant
               the instant to convert
      @return  a <code>FileTime</code> representing the same point on the time-line
               as the provided instant
      @since 1.8</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a> <a href="../R/14799.html" title="Multiple referred from 407 places.">from</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>, "instant");
<a id="L125" name="L125"></a> 125         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a>(0, <strong class="reserved">null</strong>, <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>);
<a id="L126" name="L126"></a> 126     <em class="brace">}</em>
<a id="L127" name="L127"></a> 127 
<div class="comment">
      Returns the value at the given unit of granularity.
      <p> Conversion from a coarser granularity that would numerically overflow
      saturate to <code>Long.MIN_VALUE</code> if negative or <code>Long.MAX_VALUE</code>
      if positive.
      @param   unit
               the unit of granularity for the return value
      @return  value in the given unit of granularity, since the epoch
               since the epoch (1970-01-01T00:00:00Z); can be negative</p></div>
<a id="L141" name="L141"></a> 141     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/29206.html" title="Multiple referred from 285 places.">to</a>(<a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a> unit) <em class="brace">{</em>
<a id="L142" name="L142"></a> 142         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(unit, "unit");
<a id="L143" name="L143"></a> 143         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.unit != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144             <strong class="reserved">return</strong> unit.<a href="../D/13388.html" title="Multiple defined in 7 places.">convert</a>(<strong class="reserved">this</strong>.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">this</strong>.unit);
<a id="L145" name="L145"></a> 145         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L146" name="L146"></a> 146             <strong class="reserved">long</strong> secs = unit.<a href="../D/13388.html" title="Multiple defined in 7 places.">convert</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>(), <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L147" name="L147"></a> 147             <strong class="reserved">if</strong> (secs == <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE || secs == <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148                 <strong class="reserved">return</strong> secs;
<a id="L149" name="L149"></a> 149             <em class="brace">}</em>
<a id="L150" name="L150"></a> 150             <strong class="reserved">long</strong> nanos = unit.<a href="../D/13388.html" title="Multiple defined in 7 places.">convert</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>(), <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.NANOSECONDS);
<a id="L151" name="L151"></a> 151             <strong class="reserved">long</strong> r = secs + nanos;
<a id="L152" name="L152"></a> 152             <em class="comment">// Math.addExact() variant</em>
<a id="L153" name="L153"></a> 153             <strong class="reserved">if</strong> (((secs ^ r) &amp; (nanos ^ r)) &lt; 0) <em class="brace">{</em>
<a id="L154" name="L154"></a> 154                 <strong class="reserved">return</strong> (secs &lt; 0) ? <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE : <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE;
<a id="L155" name="L155"></a> 155             <em class="brace">}</em>
<a id="L156" name="L156"></a> 156             <strong class="reserved">return</strong> r;
<a id="L157" name="L157"></a> 157         <em class="brace">}</em>
<a id="L158" name="L158"></a> 158     <em class="brace">}</em>
<a id="L159" name="L159"></a> 159 
<div class="comment">
      Returns the value in milliseconds.
      <p> Conversion from a coarser granularity that would numerically overflow
      saturate to <code>Long.MIN_VALUE</code> if negative or <code>Long.MAX_VALUE</code>
      if positive.
      @return  the value in milliseconds, since the epoch (1970-01-01T00:00:00Z)</p></div>
<a id="L169" name="L169"></a> 169     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/29296.html" title="Multiple referred from 19 places.">toMillis</a>() <em class="brace">{</em>
<a id="L170" name="L170"></a> 170         <strong class="reserved">if</strong> (unit != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L171" name="L171"></a> 171             <strong class="reserved">return</strong> unit.<a href="../D/35444.html" title="Multiple defined in 3 places.">toMillis</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L172" name="L172"></a> 172         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L173" name="L173"></a> 173             <strong class="reserved">long</strong> secs = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L174" name="L174"></a> 174             <strong class="reserved">int</strong>  nanos = <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>();
<a id="L175" name="L175"></a> 175             <em class="comment">// Math.multiplyExact() variant</em>
<a id="L176" name="L176"></a> 176             <strong class="reserved">long</strong> r = secs * 1000;
<a id="L177" name="L177"></a> 177             <strong class="reserved">long</strong> ax = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(secs);
<a id="L178" name="L178"></a> 178             <strong class="reserved">if</strong> (((ax | 1000) &gt;&gt;&gt; 31 != 0)) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179                 <strong class="reserved">if</strong> ((r / 1000) != secs) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180                     <strong class="reserved">return</strong> (secs &lt; 0) ? <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE : <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE;
<a id="L181" name="L181"></a> 181                 <em class="brace">}</em>
<a id="L182" name="L182"></a> 182             <em class="brace">}</em>
<a id="L183" name="L183"></a> 183             <strong class="reserved">return</strong> r + nanos / 1000_000;
<a id="L184" name="L184"></a> 184         <em class="brace">}</em>
<a id="L185" name="L185"></a> 185     <em class="brace">}</em>
<a id="L186" name="L186"></a> 186 
<div class="comment">
      Time unit constants for conversion.</div>
<a id="L190" name="L190"></a> 190     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> HOURS_PER_DAY      = 24L;
<a id="L191" name="L191"></a> 191     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> MINUTES_PER_HOUR   = 60L;
<a id="L192" name="L192"></a> 192     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_PER_MINUTE = 60L;
<a id="L193" name="L193"></a> 193     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_PER_HOUR   = SECONDS_PER_MINUTE * MINUTES_PER_HOUR;
<a id="L194" name="L194"></a> 194     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_PER_DAY    = SECONDS_PER_HOUR * HOURS_PER_DAY;
<a id="L195" name="L195"></a> 195     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> MILLIS_PER_SECOND  = 1000L;
<a id="L196" name="L196"></a> 196     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> MICROS_PER_SECOND  = 1000_000L;
<a id="L197" name="L197"></a> 197     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> NANOS_PER_SECOND   = 1000_000_000L;
<a id="L198" name="L198"></a> 198     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong>  NANOS_PER_MILLI    = 1000_000;
<a id="L199" name="L199"></a> 199     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong>  NANOS_PER_MICRO    = 1000;
<a id="L200" name="L200"></a> 200     <em class="comment">// The epoch second of Instant.MIN.</em>
<a id="L201" name="L201"></a> 201     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> MIN_SECOND = -31557014167219200L;
<a id="L202" name="L202"></a> 202     <em class="comment">// The epoch second of Instant.MAX.</em>
<a id="L203" name="L203"></a> 203     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> MAX_SECOND = 31556889864403199L;
<a id="L204" name="L204"></a> 204 
<div class="comment">
      Scale d by m, checking for overflow.</div>
<a id="L208" name="L208"></a> 208     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/26604.html" title="Multiple referred from 475 places.">scale</a>(<strong class="reserved">long</strong> d, <strong class="reserved">long</strong> m, <strong class="reserved">long</strong> over) <em class="brace">{</em>
<a id="L209" name="L209"></a> 209         <strong class="reserved">if</strong> (d &gt;  over) <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE;
<a id="L210" name="L210"></a> 210         <strong class="reserved">if</strong> (d &lt; -over) <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MIN_VALUE;
<a id="L211" name="L211"></a> 211         <strong class="reserved">return</strong> d * m;
<a id="L212" name="L212"></a> 212     <em class="brace">}</em>
<a id="L213" name="L213"></a> 213 
<div class="comment">
      Converts this <code>FileTime</code> object to an <code>Instant</code>.
      <p> The conversion creates an <code>Instant</code> that represents the
      same point on the time-line as this <code>FileTime</code>.
      </p><p> <code>FileTime</code> can store points on the time-line further in the
      future and further in the past than <code>Instant</code>. Conversion
      from such further time points saturates to {@link Instant#MIN} if
      earlier than <code>Instant.MIN</code> or {@link Instant#MAX} if later
      than <code>Instant.MAX</code>.
      @return  an instant representing the same point on the time-line as
               this <code>FileTime</code> object
      @since 1.8</p></div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">public</strong> <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../R/29271.html" title="Multiple referred from 12 places.">toInstant</a>() <em class="brace">{</em>
<a id="L231" name="L231"></a> 231         <strong class="reserved">if</strong> (<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L232" name="L232"></a> 232             <strong class="reserved">long</strong> secs = 0L;
<a id="L233" name="L233"></a> 233             <strong class="reserved">int</strong> nanos = 0;
<a id="L234" name="L234"></a> 234             <strong class="reserved">switch</strong> (unit) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235                 <strong class="reserved">case</strong> <a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>:
<a id="L236" name="L236"></a> 236                     secs = <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, SECONDS_PER_DAY,
<a id="L237" name="L237"></a> 237                                  <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE/SECONDS_PER_DAY);
<a id="L238" name="L238"></a> 238                     <strong class="reserved">break</strong>;
<a id="L239" name="L239"></a> 239                 <strong class="reserved">case</strong> <a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>:
<a id="L240" name="L240"></a> 240                     secs = <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, SECONDS_PER_HOUR,
<a id="L241" name="L241"></a> 241                                  <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE/SECONDS_PER_HOUR);
<a id="L242" name="L242"></a> 242                     <strong class="reserved">break</strong>;
<a id="L243" name="L243"></a> 243                 <strong class="reserved">case</strong> <a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>:
<a id="L244" name="L244"></a> 244                     secs = <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, SECONDS_PER_MINUTE,
<a id="L245" name="L245"></a> 245                                  <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.MAX_VALUE/SECONDS_PER_MINUTE);
<a id="L246" name="L246"></a> 246                     <strong class="reserved">break</strong>;
<a id="L247" name="L247"></a> 247                 <strong class="reserved">case</strong> <a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>:
<a id="L248" name="L248"></a> 248                     secs = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>;
<a id="L249" name="L249"></a> 249                     <strong class="reserved">break</strong>;
<a id="L250" name="L250"></a> 250                 <strong class="reserved">case</strong> MILLISECONDS:
<a id="L251" name="L251"></a> 251                     secs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16469.html" title="Multiple defined in 4 places.">floorDiv</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, MILLIS_PER_SECOND);
<a id="L252" name="L252"></a> 252                     nanos = (<strong class="reserved">int</strong>)<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, MILLIS_PER_SECOND)
<a id="L253" name="L253"></a> 253                             * NANOS_PER_MILLI;
<a id="L254" name="L254"></a> 254                     <strong class="reserved">break</strong>;
<a id="L255" name="L255"></a> 255                 <strong class="reserved">case</strong> MICROSECONDS:
<a id="L256" name="L256"></a> 256                     secs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16469.html" title="Multiple defined in 4 places.">floorDiv</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, MICROS_PER_SECOND);
<a id="L257" name="L257"></a> 257                     nanos = (<strong class="reserved">int</strong>)<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, MICROS_PER_SECOND)
<a id="L258" name="L258"></a> 258                             * NANOS_PER_MICRO;
<a id="L259" name="L259"></a> 259                     <strong class="reserved">break</strong>;
<a id="L260" name="L260"></a> 260                 <strong class="reserved">case</strong> NANOSECONDS:
<a id="L261" name="L261"></a> 261                     secs = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16469.html" title="Multiple defined in 4 places.">floorDiv</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, NANOS_PER_SECOND);
<a id="L262" name="L262"></a> 262                     nanos = (<strong class="reserved">int</strong>)<a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, NANOS_PER_SECOND);
<a id="L263" name="L263"></a> 263                     <strong class="reserved">break</strong>;
<a id="L264" name="L264"></a> 264                 <strong class="reserved">default</strong> : <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>("Unit not handled");
<a id="L265" name="L265"></a> 265             <em class="brace">}</em>
<a id="L266" name="L266"></a> 266             <strong class="reserved">if</strong> (secs &lt;= MIN_SECOND)
<a id="L267" name="L267"></a> 267                 <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a> = <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a>.MIN;
<a id="L268" name="L268"></a> 268             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (secs &gt;= MAX_SECOND)
<a id="L269" name="L269"></a> 269                 <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a> = <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a>.MAX;
<a id="L270" name="L270"></a> 270             <strong class="reserved">else</strong>
<a id="L271" name="L271"></a> 271                 <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a> = <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a>.<a href="../D/28436.html" title="Multiple defined in 3 places.">ofEpochSecond</a>(secs, nanos);
<a id="L272" name="L272"></a> 272         <em class="brace">}</em>
<a id="L273" name="L273"></a> 273         <strong class="reserved">return</strong> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>;
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<div class="comment">
      Tests this <code>FileTime</code> for equality with the given object.
      <p> The result is <code>true</code> if and only if the argument is not {@code
      null} and is a <code>FileTime</code> that represents the same time. This
      method satisfies the general contract of the <code>Object.equals</code> method.
      @param   obj
               the object to compare with
      @return  <code>true</code> if, and only if, the given object is a {@code
               FileTime} that represents the same time</p></div>
<a id="L289" name="L289"></a> 289     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L290" name="L290"></a> 290     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291         <strong class="reserved">return</strong> (obj <strong class="reserved">instanceof</strong> <a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a>) ? <a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>((<a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a>)obj) == 0 : <strong class="reserved">false</strong>;
<a id="L292" name="L292"></a> 292     <em class="brace">}</em>
<a id="L293" name="L293"></a> 293 
<div class="comment">
      Computes a hash code for this file time.
      <p> The hash code is based upon the value represented, and satisfies the
      general contract of the {@link Object#hashCode} method.
      @return  the hash-code value</p></div>
<a id="L302" name="L302"></a> 302     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L303" name="L303"></a> 303     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L304" name="L304"></a> 304         <em class="comment">// hashcode of instant representation to satisfy contract with equals</em>
<a id="L305" name="L305"></a> 305         <strong class="reserved">return</strong> <a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 
<a id="L308" name="L308"></a> 308     <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../R/29240.html" title="Multiple referred from 12 places.">toDays</a>() <em class="brace">{</em>
<a id="L309" name="L309"></a> 309         <strong class="reserved">if</strong> (unit != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310             <strong class="reserved">return</strong> unit.<a href="../D/35380.html" title="Multiple defined in 3 places.">toDays</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L311" name="L311"></a> 311         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L312" name="L312"></a> 312             <strong class="reserved">return</strong> <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>.<a href="../D/35380.html" title="Multiple defined in 3 places.">toDays</a>(<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>());
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314     <em class="brace">}</em>
<a id="L315" name="L315"></a> 315 
<a id="L316" name="L316"></a> 316     <strong class="reserved">private</strong> <strong class="reserved">long</strong> <a href="../S/1885.html#L362" title="Referred from 362 in src/java/nio/file/attribute/FileTime.java.">toExcessNanos</a>(<strong class="reserved">long</strong> days) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         <strong class="reserved">if</strong> (unit != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318             <strong class="reserved">return</strong> unit.<a href="../D/35449.html" title="Multiple defined in 2 places.">toNanos</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> - unit.<a href="../D/13388.html" title="Multiple defined in 7 places.">convert</a>(days, <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>));
<a id="L319" name="L319"></a> 319         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L320" name="L320"></a> 320             <strong class="reserved">return</strong> <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>.<a href="../D/35449.html" title="Multiple defined in 2 places.">toNanos</a>(<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>()
<a id="L321" name="L321"></a> 321                                             - <a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>.<a href="../D/35484.html" title="Multiple defined in 2 places.">toSeconds</a>(days));
<a id="L322" name="L322"></a> 322         <em class="brace">}</em>
<a id="L323" name="L323"></a> 323     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<div class="comment">
      Compares the value of two <code>FileTime</code> objects for order.
      @param   other
               the other <code>FileTime</code> to be compared
      @return  <code>0</code> if this <code>FileTime</code> is equal to <code>other</code>, a
               value less than 0 if this <code>FileTime</code> represents a time
               that is before <code>other</code>, and a value greater than 0 if this
               <code>FileTime</code> represents a time that is after <code>other</code></div>
<a id="L336" name="L336"></a> 336     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L337" name="L337"></a> 337     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11724.html" title="Multiple referred from 291 places.">compareTo</a>(<a href="../S/1885.html#L48" title="Defined at 48 in src/java/nio/file/attribute/FileTime.java.">FileTime</a> other) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338         <em class="comment">// same granularity</em>
<a id="L339" name="L339"></a> 339         <strong class="reserved">if</strong> (unit != <strong class="reserved">null</strong> &amp;&amp; unit == other.unit) <em class="brace">{</em>
<a id="L340" name="L340"></a> 340             <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, other.<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L341" name="L341"></a> 341         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L342" name="L342"></a> 342             <em class="comment">// compare using instant representation when unit differs</em>
<a id="L343" name="L343"></a> 343             <strong class="reserved">long</strong> secs = <a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L344" name="L344"></a> 344             <strong class="reserved">long</strong> secsOther = other.<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L345" name="L345"></a> 345             <strong class="reserved">int</strong> cmp = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(secs, secsOther);
<a id="L346" name="L346"></a> 346             <strong class="reserved">if</strong> (cmp != 0) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                 <strong class="reserved">return</strong> cmp;
<a id="L348" name="L348"></a> 348             <em class="brace">}</em>
<a id="L349" name="L349"></a> 349             cmp = <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>(), other.<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>());
<a id="L350" name="L350"></a> 350             <strong class="reserved">if</strong> (cmp != 0) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                 <strong class="reserved">return</strong> cmp;
<a id="L352" name="L352"></a> 352             <em class="brace">}</em>
<a id="L353" name="L353"></a> 353             <strong class="reserved">if</strong> (secs != MAX_SECOND &amp;&amp; secs != MIN_SECOND) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354                 <strong class="reserved">return</strong> 0;
<a id="L355" name="L355"></a> 355             <em class="brace">}</em>
<a id="L356" name="L356"></a> 356             <em class="comment">// if both this and other's Instant reps are MIN/MAX,</em>
<a id="L357" name="L357"></a> 357             <em class="comment">// use daysSinceEpoch and nanosOfDays, which will not</em>
<a id="L358" name="L358"></a> 358             <em class="comment">// saturate during calculation.</em>
<a id="L359" name="L359"></a> 359             <strong class="reserved">long</strong> days = <a href="../D/35380.html" title="Multiple defined in 3 places.">toDays</a>();
<a id="L360" name="L360"></a> 360             <strong class="reserved">long</strong> daysOther = other.<a href="../D/35380.html" title="Multiple defined in 3 places.">toDays</a>();
<a id="L361" name="L361"></a> 361             <strong class="reserved">if</strong> (days == daysOther) <em class="brace">{</em>
<a id="L362" name="L362"></a> 362                 <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(<a href="../S/1885.html#L316" title="Defined at 316 in src/java/nio/file/attribute/FileTime.java.">toExcessNanos</a>(days), other.<a href="../S/1885.html#L316" title="Defined at 316 in src/java/nio/file/attribute/FileTime.java.">toExcessNanos</a>(daysOther));
<a id="L363" name="L363"></a> 363             <em class="brace">}</em>
<a id="L364" name="L364"></a> 364             <strong class="reserved">return</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(days, daysOther);
<a id="L365" name="L365"></a> 365         <em class="brace">}</em>
<a id="L366" name="L366"></a> 366     <em class="brace">}</em>
<a id="L367" name="L367"></a> 367 
<a id="L368" name="L368"></a> 368     <em class="comment">// days in a 400 year cycle = 146097</em>
<a id="L369" name="L369"></a> 369     <em class="comment">// days in a 10,000 year cycle = 146097 * 25</em>
<a id="L370" name="L370"></a> 370     <em class="comment">// seconds per day = 86400</em>
<a id="L371" name="L371"></a> 371     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> DAYS_PER_10000_YEARS = 146097L * 25L;
<a id="L372" name="L372"></a> 372     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_PER_10000_YEARS = 146097L * 25L * 86400L;
<a id="L373" name="L373"></a> 373     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> SECONDS_0000_TO_1970 = ((146097L * 5L) - (30L * 365L + 7L)) * 86400L;
<a id="L374" name="L374"></a> 374 
<a id="L375" name="L375"></a> 375     <em class="comment">// append year/month/day/hour/minute/second/nano with width and 0 padding</em>
<a id="L376" name="L376"></a> 376     <strong class="reserved">private</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> <a href="../R/10189.html" title="Multiple referred from 5855 places.">append</a>(<a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb, <strong class="reserved">int</strong> w, <strong class="reserved">int</strong> d) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">while</strong> (w &gt; 0) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)(d/w + '0'));
<a id="L379" name="L379"></a> 379             d = d % w;
<a id="L380" name="L380"></a> 380             w /= 10;
<a id="L381" name="L381"></a> 381         <em class="brace">}</em>
<a id="L382" name="L382"></a> 382         <strong class="reserved">return</strong> sb;
<a id="L383" name="L383"></a> 383     <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<div class="comment">
      Returns the string representation of this <code>FileTime</code>. The string
      is returned in the <a href="http://www.w3.org/TR/NOTE-datetime">ISO&nbsp;8601</a> format:
      <pre>          YYYY-MM-DDThh:mm:ss[.s+]Z
      </pre>
      where "<code>[.s+]</code>" represents a dot followed by one of more digits
      for the decimal fraction of a second. It is only present when the decimal
      fraction of a second is not zero. For example, {@code
      FileTime.fromMillis(1234567890000L).toString()} yields {@code
      "2009-02-13T23:31:30Z"}, and <code>FileTime.fromMillis(1234567890123L).toString()</code>
      yields <code>"2009-02-13T23:31:30.123Z"</code>.
      <p> A <code>FileTime</code> is primarily intended to represent the value of a
      file's time stamp. Where used to represent <i>extreme values</i>, where
      the year is less than "<code>0001</code>" or greater than "<code>9999</code>" then
      this method deviates from ISO 8601 in the same manner as the
      <a href="http://www.w3.org/TR/xmlschema-2/#deviantformats">XML Schema
      language</a>. That is, the year may be expanded to more than four digits
      and may be negative-signed. If more than four digits then leading zeros
      are not present. The year before "<code>0001</code>" is "<code>-0001</code>".
      @return  the string representation of this file time</p></div>
<a id="L410" name="L410"></a> 410     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L411" name="L411"></a> 411     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">if</strong> (valueAsString == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413             <strong class="reserved">long</strong> secs = 0L;
<a id="L414" name="L414"></a> 414             <strong class="reserved">int</strong>  nanos = 0;
<a id="L415" name="L415"></a> 415             <strong class="reserved">if</strong> (<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a> == <strong class="reserved">null</strong> &amp;&amp; unit.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(<a href="../S/1102.html#L71" title="Defined at 71 in src/java/util/concurrent/TimeUnit.java.">TimeUnit</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>) &gt;= 0) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                 secs = unit.<a href="../D/35484.html" title="Multiple defined in 2 places.">toSeconds</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L417" name="L417"></a> 417             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                 secs = <a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>();
<a id="L419" name="L419"></a> 419                 nanos = <a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>().<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>();
<a id="L420" name="L420"></a> 420             <em class="brace">}</em>
<a id="L421" name="L421"></a> 421             <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> ldt;
<a id="L422" name="L422"></a> 422             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = 0;
<a id="L423" name="L423"></a> 423             <strong class="reserved">if</strong> (secs &gt;= -SECONDS_0000_TO_1970) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424                 <em class="comment">// current era</em>
<a id="L425" name="L425"></a> 425                 <strong class="reserved">long</strong> zeroSecs = secs - SECONDS_PER_10000_YEARS + SECONDS_0000_TO_1970;
<a id="L426" name="L426"></a> 426                 <strong class="reserved">long</strong> hi = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16469.html" title="Multiple defined in 4 places.">floorDiv</a>(zeroSecs, SECONDS_PER_10000_YEARS) + 1;
<a id="L427" name="L427"></a> 427                 <strong class="reserved">long</strong> lo = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/16472.html" title="Multiple defined in 4 places.">floorMod</a>(zeroSecs, SECONDS_PER_10000_YEARS);
<a id="L428" name="L428"></a> 428                 ldt = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/28436.html" title="Multiple defined in 3 places.">ofEpochSecond</a>(lo - SECONDS_0000_TO_1970, nanos, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1157.html#L317" title="Defined at 317 in src/java/util/Date.java.">UTC</a>);
<a id="L429" name="L429"></a> 429                 <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = ldt.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>() +  (<strong class="reserved">int</strong>)hi * 10000;
<a id="L430" name="L430"></a> 430             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L431" name="L431"></a> 431                 <em class="comment">// before current era</em>
<a id="L432" name="L432"></a> 432                 <strong class="reserved">long</strong> zeroSecs = secs + SECONDS_0000_TO_1970;
<a id="L433" name="L433"></a> 433                 <strong class="reserved">long</strong> hi = zeroSecs / SECONDS_PER_10000_YEARS;
<a id="L434" name="L434"></a> 434                 <strong class="reserved">long</strong> lo = zeroSecs % SECONDS_PER_10000_YEARS;
<a id="L435" name="L435"></a> 435                 ldt = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/28436.html" title="Multiple defined in 3 places.">ofEpochSecond</a>(lo - SECONDS_0000_TO_1970, nanos, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1157.html#L317" title="Defined at 317 in src/java/util/Date.java.">UTC</a>);
<a id="L436" name="L436"></a> 436                 <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = ldt.<a href="../D/23806.html" title="Multiple defined in 9 places.">getYear</a>() + (<strong class="reserved">int</strong>)hi * 10000;
<a id="L437" name="L437"></a> 437             <em class="brace">}</em>
<a id="L438" name="L438"></a> 438             <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt;= 0) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                 <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> - 1;
<a id="L440" name="L440"></a> 440             <em class="brace">}</em>
<a id="L441" name="L441"></a> 441             <strong class="reserved">int</strong> fraction = ldt.<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>();
<a id="L442" name="L442"></a> 442             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(64);
<a id="L443" name="L443"></a> 443             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt; 0 ? "-" : "");
<a id="L444" name="L444"></a> 444             <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L445" name="L445"></a> 445             <strong class="reserved">if</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt; 10000) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                 <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, 1000, <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/10523.html" title="Multiple defined in 14 places.">abs</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>));
<a id="L447" name="L447"></a> 447             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L448" name="L448"></a> 448                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>));
<a id="L449" name="L449"></a> 449             <em class="brace">}</em>
<a id="L450" name="L450"></a> 450             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('-');
<a id="L451" name="L451"></a> 451             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, 10, ldt.<a href="../D/20731.html" title="Multiple defined in 6 places.">getMonthValue</a>());
<a id="L452" name="L452"></a> 452             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('-');
<a id="L453" name="L453"></a> 453             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, 10, ldt.<a href="../D/18223.html" title="Multiple defined in 5 places.">getDayOfMonth</a>());
<a id="L454" name="L454"></a> 454             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('T');
<a id="L455" name="L455"></a> 455             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, 10, ldt.<a href="../D/19497.html" title="Multiple defined in 7 places.">getHour</a>());
<a id="L456" name="L456"></a> 456             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L457" name="L457"></a> 457             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, 10, ldt.<a href="../D/20681.html" title="Multiple defined in 7 places.">getMinute</a>());
<a id="L458" name="L458"></a> 458             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(':');
<a id="L459" name="L459"></a> 459             <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, 10, ldt.<a href="../D/22309.html" title="Multiple defined in 8 places.">getSecond</a>());
<a id="L460" name="L460"></a> 460             <strong class="reserved">if</strong> (fraction != 0) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('.');
<a id="L462" name="L462"></a> 462                 <em class="comment">// adding leading zeros and stripping any trailing zeros</em>
<a id="L463" name="L463"></a> 463                 <strong class="reserved">int</strong> w = 100_000_000;
<a id="L464" name="L464"></a> 464                 <strong class="reserved">while</strong> (fraction % 10 == 0) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465                     fraction /= 10;
<a id="L466" name="L466"></a> 466                     w /= 10;
<a id="L467" name="L467"></a> 467                 <em class="brace">}</em>
<a id="L468" name="L468"></a> 468                 <a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(sb, w, fraction);
<a id="L469" name="L469"></a> 469             <em class="brace">}</em>
<a id="L470" name="L470"></a> 470             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('Z');
<a id="L471" name="L471"></a> 471             valueAsString = sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L472" name="L472"></a> 472         <em class="brace">}</em>
<a id="L473" name="L473"></a> 473         <strong class="reserved">return</strong> valueAsString;
<a id="L474" name="L474"></a> 474     <em class="brace">}</em>
<a id="L475" name="L475"></a> 475 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L95">[^]</a><a href="#L411">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>