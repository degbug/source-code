<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/Socket.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L453">[^]</a><a href="#L1724">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L453" title="Defined at 453.">createImpl</a></li>
<li><a href="#L464" title="Defined at 464.">checkOldImpl</a></li>
<li><a href="#L496" title="Defined at 496.">setImpl</a></li>
<li><a href="#L518" title="Defined at 518.">getImpl</a></li>
<li><a href="#L537" title="Defined at 537.">connect</a></li>
<li><a href="#L558" title="Defined at 558.">connect</a></li>
<li><a href="#L623" title="Defined at 623.">bind</a></li>
<li><a href="#L648" title="Defined at 648.">checkAddress</a></li>
<li><a href="#L660" title="Defined at 660.">postAccept</a></li>
<li><a href="#L666" title="Defined at 666.">setCreated</a></li>
<li><a href="#L670" title="Defined at 670.">setBound</a></li>
<li><a href="#L674" title="Defined at 674.">setConnected</a></li>
<li><a href="#L688" title="Defined at 688.">getInetAddress</a></li>
<li><a href="#L713" title="Defined at 713.">getLocalAddress</a></li>
<li><a href="#L744" title="Defined at 744.">getPort</a></li>
<li><a href="#L765" title="Defined at 765.">getLocalPort</a></li>
<li><a href="#L793" title="Defined at 793.">getRemoteSocketAddress</a></li>
<li><a href="#L829" title="Defined at 829.">getLocalSocketAddress</a></li>
<li><a href="#L852" title="Defined at 852.">getChannel</a></li>
<li><a href="#L901" title="Defined at 901.">getInputStream</a></li>
<li><a href="#L941" title="Defined at 941.">getOutputStream</a></li>
<li><a href="#L977" title="Defined at 977.">setTcpNoDelay</a></li>
<li><a href="#L993" title="Defined at 993.">getTcpNoDelay</a></li>
<li><a href="#L1014" title="Defined at 1014.">setSoLinger</a></li>
<li><a href="#L1042" title="Defined at 1042.">getSoLinger</a></li>
<li><a href="#L1063" title="Defined at 1063.">sendUrgentData</a></li>
<li><a href="#L1095" title="Defined at 1095.">setOOBInline</a></li>
<li><a href="#L1112" title="Defined at 1112.">getOOBInline</a></li>
<li><a href="#L1135" title="Defined at 1135.">setSoTimeout</a></li>
<li><a href="#L1155" title="Defined at 1155.">getSoTimeout</a></li>
<li><a href="#L1190" title="Defined at 1190.">setSendBufferSize</a></li>
<li><a href="#L1213" title="Defined at 1213.">getSendBufferSize</a></li>
<li><a href="#L1264" title="Defined at 1264.">setReceiveBufferSize</a></li>
<li><a href="#L1286" title="Defined at 1286.">getReceiveBufferSize</a></li>
<li><a href="#L1307" title="Defined at 1307.">setKeepAlive</a></li>
<li><a href="#L1323" title="Defined at 1323.">getKeepAlive</a></li>
<li><a href="#L1375" title="Defined at 1375.">setTrafficClass</a></li>
<li><a href="#L1407" title="Defined at 1407.">getTrafficClass</a></li>
<li><a href="#L1446" title="Defined at 1446.">setReuseAddress</a></li>
<li><a href="#L1462" title="Defined at 1462.">getReuseAddress</a></li>
<li><a href="#L1490" title="Defined at 1490.">close</a></li>
<li><a href="#L1518" title="Defined at 1518.">shutdownInput</a></li>
<li><a href="#L1548" title="Defined at 1548.">shutdownOutput</a></li>
<li><a href="#L1565" title="Defined at 1565.">toString</a></li>
<li><a href="#L1587" title="Defined at 1587.">isConnected</a></li>
<li><a href="#L1604" title="Defined at 1604.">isBound</a></li>
<li><a href="#L1616" title="Defined at 1616.">isClosed</a></li>
<li><a href="#L1629" title="Defined at 1629.">isInputShutdown</a></li>
<li><a href="#L1640" title="Defined at 1640.">isOutputShutdown</a></li>
<li><a href="#L1673" title="Defined at 1673.">setSocketImplFactory</a></li>
<li><a href="#L1724" title="Defined at 1724.">setPerformancePreferences</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.IOException;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.nio.channels.SocketChannel;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.PrivilegedExceptionAction;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  This class implements client sockets (also called just
  "sockets"). A socket is an endpoint for communication
  between two machines.
  <p>
  The actual work of the socket is performed by an instance of the
  <code>SocketImpl</code> class. An application, by changing
  the socket factory that creates the socket implementation,
  can configure itself to create sockets appropriate to the local
  firewall.
  @author  unascribed
  @see     java.net.Socket#setSocketImplFactory(java.net.SocketImplFactory)
  @see     java.net.SocketImpl
  @see     java.nio.channels.SocketChannel
  @since   JDK1.0</p></div>
<a id="L53" name="L53"></a>  53 <strong class="reserved">public</strong>
<a id="L54" name="L54"></a>  54 <strong class="reserved">class</strong> <a href="../R/7442.html" title="Multiple referred from 63 places.">Socket</a> <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1405.html#L37" title="Defined at 37 in src/java/io/Closeable.java.">Closeable</a> <em class="brace">{</em>
<div class="comment">
      Various states of this socket.</div>
<a id="L58" name="L58"></a>  58     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> created = <strong class="reserved">false</strong>;
<a id="L59" name="L59"></a>  59     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> bound = <strong class="reserved">false</strong>;
<a id="L60" name="L60"></a>  60     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> connected = <strong class="reserved">false</strong>;
<a id="L61" name="L61"></a>  61     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> closed = <strong class="reserved">false</strong>;
<a id="L62" name="L62"></a>  62     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> closeLock = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> shutIn = <strong class="reserved">false</strong>;
<a id="L64" name="L64"></a>  64     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> shutOut = <strong class="reserved">false</strong>;
<a id="L65" name="L65"></a>  65 
<div class="comment">
      The implementation of this Socket.</div>
<a id="L69" name="L69"></a>  69     <a href="../S/803.html#L44" title="Defined at 44 in src/java/net/SocketImpl.java.">SocketImpl</a> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L70" name="L70"></a>  70 
<div class="comment">
      Are we using an older SocketImpl?</div>
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> oldImpl = <strong class="reserved">false</strong>;
<a id="L75" name="L75"></a>  75 
<div class="comment">
      Creates an unconnected socket, with the
      system-default type of SocketImpl.
      @since   JDK1.1
      @revised 1.4</div>
<a id="L83" name="L83"></a>  83     <strong class="reserved">public</strong> Socket() <em class="brace">{</em>
<a id="L84" name="L84"></a>  84         <a href="../D/32904.html" title="Multiple defined in 2 places.">setImpl</a>();
<a id="L85" name="L85"></a>  85     <em class="brace">}</em>
<a id="L86" name="L86"></a>  86 
<div class="comment">
      Creates an unconnected socket, specifying the type of proxy, if any,
      that should be used regardless of any other settings.
      <p>
      If there is a security manager, its <code>checkConnect</code> method
      is called with the proxy host address and port number
      as its arguments. This could result in a SecurityException.
      </p><p>
      Examples:
      </p><ul> <li><code>Socket s = new Socket(Proxy.NO_PROXY);</code> will create
      a plain socket ignoring any other proxy configuration.</li>
      <li><code>Socket s = new Socket(new Proxy(Proxy.Type.SOCKS, new InetSocketAddress("socks.mydom.com", 1080)));</code>
      will create a socket connecting through the specified SOCKS proxy
      server.</li>
      </ul>
      @param proxy a {@link java.net.Proxy Proxy} object specifying what kind
                   of proxying should be used.
      @throws IllegalArgumentException if the proxy is of an invalid type
               or <code>null</code>.
      @throws SecurityException if a security manager is present and
                                permission to connect to the proxy is
                                denied.
      @see java.net.ProxySelector
      @see java.net.Proxy
      @since   1.5</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">public</strong> Socket(<a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a> proxy) <em class="brace">{</em>
<a id="L116" name="L116"></a> 116         <em class="comment">// Create a copy of Proxy as a security measure</em>
<a id="L117" name="L117"></a> 117         <strong class="reserved">if</strong> (proxy == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L118" name="L118"></a> 118             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid Proxy");
<a id="L119" name="L119"></a> 119         <em class="brace">}</em>
<a id="L120" name="L120"></a> 120         <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a> p = proxy == <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.NO_PROXY ? <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.NO_PROXY
<a id="L121" name="L121"></a> 121                                           : sun.net.ApplicationProxy.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(proxy);
<a id="L122" name="L122"></a> 122         <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = p.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>();
<a id="L123" name="L123"></a> 123         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.SOCKS || <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.HTTP) <em class="brace">{</em>
<a id="L124" name="L124"></a> 124             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L125" name="L125"></a> 125             <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a> epoint = (<a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>) p.<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>();
<a id="L126" name="L126"></a> 126             <strong class="reserved">if</strong> (epoint.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127                 <a href="../D/12357.html" title="Multiple defined in 2 places.">checkAddress</a> (epoint.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>(), "Socket");
<a id="L128" name="L128"></a> 128             <em class="brace">}</em>
<a id="L129" name="L129"></a> 129             <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                 <strong class="reserved">if</strong> (epoint.<a href="../D/26409.html" title="Multiple defined in 2 places.">isUnresolved</a>())
<a id="L131" name="L131"></a> 131                     epoint = <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(epoint.<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(), epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>());
<a id="L132" name="L132"></a> 132                 <strong class="reserved">if</strong> (epoint.<a href="../D/26409.html" title="Multiple defined in 2 places.">isUnresolved</a>())
<a id="L133" name="L133"></a> 133                     security.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(epoint.<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(), epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>());
<a id="L134" name="L134"></a> 134                 <strong class="reserved">else</strong>
<a id="L135" name="L135"></a> 135                     security.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(epoint.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>().<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(),
<a id="L136" name="L136"></a> 136                                   epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>());
<a id="L137" name="L137"></a> 137             <em class="brace">}</em>
<a id="L138" name="L138"></a> 138             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> == <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.<a href="../D/9178.html" title="Multiple defined in 19 places.">Type</a>.SOCKS ? <strong class="reserved">new</strong> <a href="../S/805.html#L43" title="Defined at 43 in src/java/net/SocksSocketImpl.java.">SocksSocketImpl</a>(p)
<a id="L139" name="L139"></a> 139                                             : <strong class="reserved">new</strong> <a href="../S/800.html#L44" title="Defined at 44 in src/java/net/HttpConnectSocketImpl.java.">HttpConnectSocketImpl</a>(p);
<a id="L140" name="L140"></a> 140             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/33947.html" title="Multiple defined in 2 places.">setSocket</a>(<strong class="reserved">this</strong>);
<a id="L141" name="L141"></a> 141         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L142" name="L142"></a> 142             <strong class="reserved">if</strong> (p == <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a>.NO_PROXY) <em class="brace">{</em>
<a id="L143" name="L143"></a> 143                 <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L144" name="L144"></a> 144                     <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <strong class="reserved">new</strong> <a href="../S/747.html#L44" title="Defined at 44 in src/java/net/PlainSocketImpl.java.">PlainSocketImpl</a>();
<a id="L145" name="L145"></a> 145                     <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/33947.html" title="Multiple defined in 2 places.">setSocket</a>(<strong class="reserved">this</strong>);
<a id="L146" name="L146"></a> 146                 <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L147" name="L147"></a> 147                     <a href="../D/32904.html" title="Multiple defined in 2 places.">setImpl</a>();
<a id="L148" name="L148"></a> 148             <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L149" name="L149"></a> 149                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid Proxy");
<a id="L150" name="L150"></a> 150         <em class="brace">}</em>
<a id="L151" name="L151"></a> 151     <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Creates an unconnected Socket with a user-specified
      SocketImpl.
      <p>
      @param impl an instance of a <b>SocketImpl</b>
      the subclass wishes to use on the Socket.
      @exception SocketException if there is an error in the underlying protocol,
      such as a TCP error.
      @since   JDK1.1</p></div>
<a id="L164" name="L164"></a> 164     <strong class="reserved">protected</strong> Socket(<a href="../S/803.html#L44" title="Defined at 44 in src/java/net/SocketImpl.java.">SocketImpl</a> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L165" name="L165"></a> 165         <strong class="reserved">this</strong>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L166" name="L166"></a> 166         <strong class="reserved">if</strong> (<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167             <a href="../D/12574.html" title="Multiple defined in 3 places.">checkOldImpl</a>();
<a id="L168" name="L168"></a> 168             <strong class="reserved">this</strong>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/33947.html" title="Multiple defined in 2 places.">setSocket</a>(<strong class="reserved">this</strong>);
<a id="L169" name="L169"></a> 169         <em class="brace">}</em>
<a id="L170" name="L170"></a> 170     <em class="brace">}</em>
<a id="L171" name="L171"></a> 171 
<div class="comment">
      Creates a stream socket and connects it to the specified port
      number on the named host.
      <p>
      If the specified host is <code>null</code> it is the equivalent of
      specifying the address as
      {@link java.net.InetAddress#getByName InetAddress.getByName}<code>(null)</code>.
      In other words, it is equivalent to specifying an address of the
      loopback interface. </p>
      <p>
      If the application has specified a server socket factory, that
      factory's <code>createSocketImpl</code> method is called to create
      the actual socket implementation. Otherwise a "plain" socket is created.
      </p><p>
      If there is a security manager, its
      <code>checkConnect</code> method is called
      with the host address and <code>port</code>
      as its arguments. This could result in a SecurityException.
      @param      host   the host name, or <code>null</code> for the loopback address.
      @param      port   the port number.
      @exception  UnknownHostException if the IP address of
      the host could not be determined.
      @exception  IOException  if an I/O error occurs when creating the socket.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkConnect</code> method doesn't allow the operation.
      @exception  IllegalArgumentException if the port parameter is outside
                  the specified range of valid port values, which is between
                  0 and 65535, inclusive.
      @see        java.net.Socket#setSocketImplFactory(java.net.SocketImplFactory)
      @see        java.net.SocketImpl
      @see        java.net.SocketImplFactory#createSocketImpl()
      @see        SecurityManager#checkConnect</p></div>
<a id="L208" name="L208"></a> 208     <strong class="reserved">public</strong> Socket(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port)
<a id="L209" name="L209"></a> 209         <strong class="reserved">throws</strong> <a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L210" name="L210"></a> 210     <em class="brace">{</em>
<a id="L211" name="L211"></a> 211         <strong class="reserved">this</strong>(host != <strong class="reserved">null</strong> ? <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(host, port) :
<a id="L212" name="L212"></a> 212              <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/17396.html" title="Multiple defined in 3 places.">getByName</a>(<strong class="reserved">null</strong>), port),
<a id="L213" name="L213"></a> 213              (<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a>) <strong class="reserved">null</strong>, <strong class="reserved">true</strong>);
<a id="L214" name="L214"></a> 214     <em class="brace">}</em>
<a id="L215" name="L215"></a> 215 
<div class="comment">
      Creates a stream socket and connects it to the specified port
      number at the specified IP address.
      <p>
      If the application has specified a socket factory, that factory's
      <code>createSocketImpl</code> method is called to create the
      actual socket implementation. Otherwise a "plain" socket is created.
      </p><p>
      If there is a security manager, its
      <code>checkConnect</code> method is called
      with the host address and <code>port</code>
      as its arguments. This could result in a SecurityException.
      @param      address   the IP address.
      @param      port      the port number.
      @exception  IOException  if an I/O error occurs when creating the socket.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkConnect</code> method doesn't allow the operation.
      @exception  IllegalArgumentException if the port parameter is outside
                  the specified range of valid port values, which is between
                  0 and 65535, inclusive.
      @exception  NullPointerException if <code>address</code> is null.
      @see        java.net.Socket#setSocketImplFactory(java.net.SocketImplFactory)
      @see        java.net.SocketImpl
      @see        java.net.SocketImplFactory#createSocketImpl()
      @see        SecurityManager#checkConnect</p></div>
<a id="L243" name="L243"></a> 243     <strong class="reserved">public</strong> Socket(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <strong class="reserved">int</strong> port) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">this</strong>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> != <strong class="reserved">null</strong> ? <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, port) : <strong class="reserved">null</strong>,
<a id="L245" name="L245"></a> 245              (<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a>) <strong class="reserved">null</strong>, <strong class="reserved">true</strong>);
<a id="L246" name="L246"></a> 246     <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<div class="comment">
      Creates a socket and connects it to the specified remote host on
      the specified remote port. The Socket will also bind() to the local
      address and port supplied.
      <p>
      If the specified host is <code>null</code> it is the equivalent of
      specifying the address as
      {@link java.net.InetAddress#getByName InetAddress.getByName}<code>(null)</code>.
      In other words, it is equivalent to specifying an address of the
      loopback interface. </p>
      <p>
      A local port number of <code>zero</code> will let the system pick up a
      free port in the <code>bind</code> operation.</p>
      <p>
      If there is a security manager, its
      <code>checkConnect</code> method is called
      with the host address and <code>port</code>
      as its arguments. This could result in a SecurityException.
      @param host the name of the remote host, or <code>null</code> for the loopback address.
      @param port the remote port
      @param localAddr the local address the socket is bound to, or
             <code>null</code> for the <code>anyLocal</code> address.
      @param localPort the local port the socket is bound to, or
             <code>zero</code> for a system selected free port.
      @exception  IOException  if an I/O error occurs when creating the socket.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkConnect</code> method doesn't allow the connection
                  to the destination, or if its <code>checkListen</code> method
                  doesn't allow the bind to the local port.
      @exception  IllegalArgumentException if the port parameter or localPort
                  parameter is outside the specified range of valid port values,
                  which is between 0 and 65535, inclusive.
      @see        SecurityManager#checkConnect
      @since   JDK1.1</p></div>
<a id="L284" name="L284"></a> 284     <strong class="reserved">public</strong> Socket(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> localAddr,
<a id="L285" name="L285"></a> 285                   <strong class="reserved">int</strong> localPort) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         <strong class="reserved">this</strong>(host != <strong class="reserved">null</strong> ? <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(host, port) :
<a id="L287" name="L287"></a> 287                <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/17396.html" title="Multiple defined in 3 places.">getByName</a>(<strong class="reserved">null</strong>), port),
<a id="L288" name="L288"></a> 288              <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(localAddr, localPort), <strong class="reserved">true</strong>);
<a id="L289" name="L289"></a> 289     <em class="brace">}</em>
<a id="L290" name="L290"></a> 290 
<div class="comment">
      Creates a socket and connects it to the specified remote address on
      the specified remote port. The Socket will also bind() to the local
      address and port supplied.
      <p>
      If the specified local address is <code>null</code> it is the equivalent of
      specifying the address as the AnyLocal address
      (see {@link java.net.InetAddress#isAnyLocalAddress InetAddress.isAnyLocalAddress}<code>()</code>).
      </p><p>
      A local port number of <code>zero</code> will let the system pick up a
      free port in the <code>bind</code> operation.</p>
      <p>
      If there is a security manager, its
      <code>checkConnect</code> method is called
      with the host address and <code>port</code>
      as its arguments. This could result in a SecurityException.
      @param address the remote address
      @param port the remote port
      @param localAddr the local address the socket is bound to, or
             <code>null</code> for the <code>anyLocal</code> address.
      @param localPort the local port the socket is bound to or
             <code>zero</code> for a system selected free port.
      @exception  IOException  if an I/O error occurs when creating the socket.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkConnect</code> method doesn't allow the connection
                  to the destination, or if its <code>checkListen</code> method
                  doesn't allow the bind to the local port.
      @exception  IllegalArgumentException if the port parameter or localPort
                  parameter is outside the specified range of valid port values,
                  which is between 0 and 65535, inclusive.
      @exception  NullPointerException if <code>address</code> is null.
      @see        SecurityManager#checkConnect
      @since   JDK1.1</p></div>
<a id="L326" name="L326"></a> 326     <strong class="reserved">public</strong> Socket(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <strong class="reserved">int</strong> port, <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> localAddr,
<a id="L327" name="L327"></a> 327                   <strong class="reserved">int</strong> localPort) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L328" name="L328"></a> 328         <strong class="reserved">this</strong>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> != <strong class="reserved">null</strong> ? <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, port) : <strong class="reserved">null</strong>,
<a id="L329" name="L329"></a> 329              <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(localAddr, localPort), <strong class="reserved">true</strong>);
<a id="L330" name="L330"></a> 330     <em class="brace">}</em>
<a id="L331" name="L331"></a> 331 
<div class="comment">
      Creates a stream socket and connects it to the specified port
      number on the named host.
      <p>
      If the specified host is <code>null</code> it is the equivalent of
      specifying the address as
      {@link java.net.InetAddress#getByName InetAddress.getByName}<code>(null)</code>.
      In other words, it is equivalent to specifying an address of the
      loopback interface. </p>
      <p>
      If the stream argument is <code>true</code>, this creates a
      stream socket. If the stream argument is <code>false</code>, it
      creates a datagram socket.
      </p><p>
      If the application has specified a server socket factory, that
      factory's <code>createSocketImpl</code> method is called to create
      the actual socket implementation. Otherwise a "plain" socket is created.
      </p><p>
      If there is a security manager, its
      <code>checkConnect</code> method is called
      with the host address and <code>port</code>
      as its arguments. This could result in a SecurityException.
      </p><p>
      If a UDP socket is used, TCP/IP related socket options will not apply.
      @param      host     the host name, or <code>null</code> for the loopback address.
      @param      port     the port number.
      @param      stream   a <code>boolean</code> indicating whether this is
                           a stream socket or a datagram socket.
      @exception  IOException  if an I/O error occurs when creating the socket.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkConnect</code> method doesn't allow the operation.
      @exception  IllegalArgumentException if the port parameter is outside
                  the specified range of valid port values, which is between
                  0 and 65535, inclusive.
      @see        java.net.Socket#setSocketImplFactory(java.net.SocketImplFactory)
      @see        java.net.SocketImpl
      @see        java.net.SocketImplFactory#createSocketImpl()
      @see        SecurityManager#checkConnect
      @deprecated Use DatagramSocket instead for UDP transport.</p></div>
<a id="L373" name="L373"></a> 373     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L374" name="L374"></a> 374     <strong class="reserved">public</strong> Socket(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port, <strong class="reserved">boolean</strong> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L375" name="L375"></a> 375         <strong class="reserved">this</strong>(host != <strong class="reserved">null</strong> ? <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(host, port) :
<a id="L376" name="L376"></a> 376                <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/17396.html" title="Multiple defined in 3 places.">getByName</a>(<strong class="reserved">null</strong>), port),
<a id="L377" name="L377"></a> 377              (<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a>) <strong class="reserved">null</strong>, <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<div class="comment">
      Creates a socket and connects it to the specified port number at
      the specified IP address.
      <p>
      If the stream argument is <code>true</code>, this creates a
      stream socket. If the stream argument is <code>false</code>, it
      creates a datagram socket.
      </p><p>
      If the application has specified a server socket factory, that
      factory's <code>createSocketImpl</code> method is called to create
      the actual socket implementation. Otherwise a "plain" socket is created.
      </p><p>If there is a security manager, its
      <code>checkConnect</code> method is called
      with <code>host.getHostAddress()</code> and <code>port</code>
      as its arguments. This could result in a SecurityException.
      </p><p>
      If UDP socket is used, TCP/IP related socket options will not apply.
      @param      host     the IP address.
      @param      port      the port number.
      @param      stream    if <code>true</code>, create a stream socket;
                            otherwise, create a datagram socket.
      @exception  IOException  if an I/O error occurs when creating the socket.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkConnect</code> method doesn't allow the operation.
      @exception  IllegalArgumentException if the port parameter is outside
                  the specified range of valid port values, which is between
                  0 and 65535, inclusive.
      @exception  NullPointerException if <code>host</code> is null.
      @see        java.net.Socket#setSocketImplFactory(java.net.SocketImplFactory)
      @see        java.net.SocketImpl
      @see        java.net.SocketImplFactory#createSocketImpl()
      @see        SecurityManager#checkConnect
      @deprecated Use DatagramSocket instead for UDP transport.</p></div>
<a id="L416" name="L416"></a> 416     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L417" name="L417"></a> 417     <strong class="reserved">public</strong> Socket(<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> host, <strong class="reserved">int</strong> port, <strong class="reserved">boolean</strong> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L418" name="L418"></a> 418         <strong class="reserved">this</strong>(host != <strong class="reserved">null</strong> ? <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(host, port) : <strong class="reserved">null</strong>,
<a id="L419" name="L419"></a> 419              <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(0), <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L420" name="L420"></a> 420     <em class="brace">}</em>
<a id="L421" name="L421"></a> 421 
<a id="L422" name="L422"></a> 422     <strong class="reserved">private</strong> Socket(<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> <a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>, <a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> localAddr,
<a id="L423" name="L423"></a> 423                    <strong class="reserved">boolean</strong> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L424" name="L424"></a> 424         <a href="../D/32904.html" title="Multiple defined in 2 places.">setImpl</a>();
<a id="L425" name="L425"></a> 425 
<a id="L426" name="L426"></a> 426         <em class="comment">// backward compatibility</em>
<a id="L427" name="L427"></a> 427         <strong class="reserved">if</strong> (<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a> == <strong class="reserved">null</strong>)
<a id="L428" name="L428"></a> 428             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L429" name="L429"></a> 429 
<a id="L430" name="L430"></a> 430         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <a href="../D/13947.html" title="Multiple defined in 3 places.">createImpl</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L432" name="L432"></a> 432             <strong class="reserved">if</strong> (localAddr != <strong class="reserved">null</strong>)
<a id="L433" name="L433"></a> 433                 <a href="../D/11844.html" title="Multiple defined in 44 places.">bind</a>(localAddr);
<a id="L434" name="L434"></a> 434             <a href="../D/13242.html" title="Multiple defined in 53 places.">connect</a>(<a href="../D/11204.html" title="Multiple defined in 16 places.">address</a>);
<a id="L435" name="L435"></a> 435         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> | <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> | <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> e) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                 <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L438" name="L438"></a> 438             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ce) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                 e.<a href="../S/1726.html#L1041" title="Defined at 1041 in src/java/lang/Throwable.java.">addSuppressed</a>(ce);
<a id="L440" name="L440"></a> 440             <em class="brace">}</em>
<a id="L441" name="L441"></a> 441             <strong class="reserved">throw</strong> e;
<a id="L442" name="L442"></a> 442         <em class="brace">}</em>
<a id="L443" name="L443"></a> 443     <em class="brace">}</em>
<a id="L444" name="L444"></a> 444 
<div class="comment">
      Creates the socket implementation.
      @param stream a <code>boolean</code> value : <code>true</code> for a TCP socket,
                    <code>false</code> for UDP.
      @throws IOException if creation fails
      @since 1.4</div>
<a id="L453" name="L453"></a> 453      <strong class="reserved">void</strong> <a href="../R/12490.html" title="Multiple referred from 6 places.">createImpl</a>(<strong class="reserved">boolean</strong> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L454" name="L454"></a> 454         <strong class="reserved">if</strong> (<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> == <strong class="reserved">null</strong>)
<a id="L455" name="L455"></a> 455             <a href="../D/32904.html" title="Multiple defined in 2 places.">setImpl</a>();
<a id="L456" name="L456"></a> 456         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L458" name="L458"></a> 458             created = <strong class="reserved">true</strong>;
<a id="L459" name="L459"></a> 459         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L460" name="L460"></a> 460             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L461" name="L461"></a> 461         <em class="brace">}</em>
<a id="L462" name="L462"></a> 462     <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<a id="L464" name="L464"></a> 464     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11277.html" title="Multiple referred from 6 places.">checkOldImpl</a>() <em class="brace">{</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">if</strong> (<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> == <strong class="reserved">null</strong>)
<a id="L466" name="L466"></a> 466             <strong class="reserved">return</strong>;
<a id="L467" name="L467"></a> 467         <em class="comment">// SocketImpl.connect() is a protected method, therefore we need to use</em>
<a id="L468" name="L468"></a> 468         <em class="comment">// getDeclaredMethod, therefore we need permission to access the member</em>
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470         oldImpl = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L471" name="L471"></a> 471                                 (<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;() <em class="brace">{</em>
<a id="L472" name="L472"></a> 472             <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L473" name="L473"></a> 473                 <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> = <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>();
<a id="L474" name="L474"></a> 474                 <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L476" name="L476"></a> 476                         <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/18255.html" title="Multiple defined in 2 places.">getDeclaredMethod</a>("connect", <a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a>.<strong class="reserved">class</strong>, <strong class="reserved">int</strong>.<strong class="reserved">class</strong>);
<a id="L477" name="L477"></a> 477                         <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE;
<a id="L478" name="L478"></a> 478                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1776.html#L35" title="Defined at 35 in src/java/lang/NoSuchMethodException.java.">NoSuchMethodException</a> e) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                         <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a> = <a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/22863.html" title="Multiple defined in 4 places.">getSuperclass</a>();
<a id="L480" name="L480"></a> 480                         <em class="comment">// java.net.SocketImpl class will always have this abstract method.</em>
<a id="L481" name="L481"></a> 481                         <em class="comment">// If we have not found it by now in the hierarchy then it does not</em>
<a id="L482" name="L482"></a> 482                         <em class="comment">// exist, we are an old style impl.</em>
<a id="L483" name="L483"></a> 483                         <strong class="reserved">if</strong> (<a href="../S/986.html#L2481" title="Defined at 2481 in src/java/util/regex/Pattern.java.">clazz</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net.<a href="../S/803.html#L44" title="Defined at 44 in src/java/net/SocketImpl.java.">SocketImpl</a>.<strong class="reserved">class</strong>)) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484                             <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE;
<a id="L485" name="L485"></a> 485                         <em class="brace">}</em>
<a id="L486" name="L486"></a> 486                     <em class="brace">}</em>
<a id="L487" name="L487"></a> 487                 <em class="brace">}</em>
<a id="L488" name="L488"></a> 488             <em class="brace">}</em>
<a id="L489" name="L489"></a> 489         <em class="brace">}</em>);
<a id="L490" name="L490"></a> 490     <em class="brace">}</em>
<a id="L491" name="L491"></a> 491 
<div class="comment">
      Sets impl to the system-default type of SocketImpl.
      @since 1.4</div>
<a id="L496" name="L496"></a> 496     <strong class="reserved">void</strong> <a href="../R/27539.html" title="Multiple referred from 8 places.">setImpl</a>() <em class="brace">{</em>
<a id="L497" name="L497"></a> 497         <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a>.<a href="../S/770.html#L47" title="Defined at 47 in src/java/net/SocketImplFactory.java.">createSocketImpl</a>();
<a id="L499" name="L499"></a> 499             <a href="../D/12574.html" title="Multiple defined in 3 places.">checkOldImpl</a>();
<a id="L500" name="L500"></a> 500         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L501" name="L501"></a> 501             <em class="comment">// No need to do a checkOldImpl() here, we know it's an up to date</em>
<a id="L502" name="L502"></a> 502             <em class="comment">// SocketImpl!</em>
<a id="L503" name="L503"></a> 503             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> = <strong class="reserved">new</strong> <a href="../S/805.html#L43" title="Defined at 43 in src/java/net/SocksSocketImpl.java.">SocksSocketImpl</a>();
<a id="L504" name="L504"></a> 504         <em class="brace">}</em>
<a id="L505" name="L505"></a> 505         <strong class="reserved">if</strong> (<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a> != <strong class="reserved">null</strong>)
<a id="L506" name="L506"></a> 506             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/33947.html" title="Multiple defined in 2 places.">setSocket</a>(<strong class="reserved">this</strong>);
<a id="L507" name="L507"></a> 507     <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<a id="L509" name="L509"></a> 509 
<div class="comment">
      Get the <code>SocketImpl</code> attached to this socket, creating
      it if necessary.
      @return  the <code>SocketImpl</code> attached to that ServerSocket.
      @throws SocketException if creation fails
      @since 1.4</div>
<a id="L518" name="L518"></a> 518     <a href="../S/803.html#L44" title="Defined at 44 in src/java/net/SocketImpl.java.">SocketImpl</a> <a href="../R/17001.html" title="Multiple referred from 114 places.">getImpl</a>() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L519" name="L519"></a> 519         <strong class="reserved">if</strong> (!created)
<a id="L520" name="L520"></a> 520             <a href="../D/13947.html" title="Multiple defined in 3 places.">createImpl</a>(<strong class="reserved">true</strong>);
<a id="L521" name="L521"></a> 521         <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L522" name="L522"></a> 522     <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<div class="comment">
      Connects this socket to the server.
      @param   endpoint the <code>SocketAddress</code>
      @throws  IOException if an error occurs during the connection
      @throws  java.nio.channels.IllegalBlockingModeException
               if this socket has an associated channel,
               and the channel is in non-blocking mode
      @throws  IllegalArgumentException if endpoint is null or is a
               SocketAddress subclass not supported by this socket
      @since 1.4
      @spec JSR-51</div>
<a id="L537" name="L537"></a> 537     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11887.html" title="Multiple referred from 67 places.">connect</a>(<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> endpoint) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L538" name="L538"></a> 538         <a href="../D/13242.html" title="Multiple defined in 53 places.">connect</a>(endpoint, 0);
<a id="L539" name="L539"></a> 539     <em class="brace">}</em>
<a id="L540" name="L540"></a> 540 
<div class="comment">
      Connects this socket to the server with a specified timeout value.
      A timeout of zero is interpreted as an infinite timeout. The connection
      will then block until established or an error occurs.
      @param   endpoint the <code>SocketAddress</code>
      @param   timeout  the timeout value to be used in milliseconds.
      @throws  IOException if an error occurs during the connection
      @throws  SocketTimeoutException if timeout expires before connecting
      @throws  java.nio.channels.IllegalBlockingModeException
               if this socket has an associated channel,
               and the channel is in non-blocking mode
      @throws  IllegalArgumentException if endpoint is null or is a
               SocketAddress subclass not supported by this socket
      @since 1.4
      @spec JSR-51</div>
<a id="L558" name="L558"></a> 558     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11887.html" title="Multiple referred from 67 places.">connect</a>(<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> endpoint, <strong class="reserved">int</strong> timeout) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L559" name="L559"></a> 559         <strong class="reserved">if</strong> (endpoint == <strong class="reserved">null</strong>)
<a id="L560" name="L560"></a> 560             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("connect: The address can't be null");
<a id="L561" name="L561"></a> 561 
<a id="L562" name="L562"></a> 562         <strong class="reserved">if</strong> (timeout &lt; 0)
<a id="L563" name="L563"></a> 563           <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("connect: timeout can't be negative");
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L566" name="L566"></a> 566             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L567" name="L567"></a> 567 
<a id="L568" name="L568"></a> 568         <strong class="reserved">if</strong> (!oldImpl &amp;&amp; <a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L569" name="L569"></a> 569             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("already connected");
<a id="L570" name="L570"></a> 570 
<a id="L571" name="L571"></a> 571         <strong class="reserved">if</strong> (!(endpoint <strong class="reserved">instanceof</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>))
<a id="L572" name="L572"></a> 572             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unsupported address type");
<a id="L573" name="L573"></a> 573 
<a id="L574" name="L574"></a> 574         <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a> epoint = (<a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>) endpoint;
<a id="L575" name="L575"></a> 575         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr = epoint.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a> ();
<a id="L576" name="L576"></a> 576         <strong class="reserved">int</strong> port = epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L577" name="L577"></a> 577         <a href="../D/12357.html" title="Multiple defined in 2 places.">checkAddress</a>(addr, "connect");
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L580" name="L580"></a> 580         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L581" name="L581"></a> 581             <strong class="reserved">if</strong> (epoint.<a href="../D/26409.html" title="Multiple defined in 2 places.">isUnresolved</a>())
<a id="L582" name="L582"></a> 582                 security.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(epoint.<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(), port);
<a id="L583" name="L583"></a> 583             <strong class="reserved">else</strong>
<a id="L584" name="L584"></a> 584                 security.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(addr.<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(), port);
<a id="L585" name="L585"></a> 585         <em class="brace">}</em>
<a id="L586" name="L586"></a> 586         <strong class="reserved">if</strong> (!created)
<a id="L587" name="L587"></a> 587             <a href="../D/13947.html" title="Multiple defined in 3 places.">createImpl</a>(<strong class="reserved">true</strong>);
<a id="L588" name="L588"></a> 588         <strong class="reserved">if</strong> (!oldImpl)
<a id="L589" name="L589"></a> 589             <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/13242.html" title="Multiple defined in 53 places.">connect</a>(epoint, timeout);
<a id="L590" name="L590"></a> 590         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (timeout == 0) <em class="brace">{</em>
<a id="L591" name="L591"></a> 591             <strong class="reserved">if</strong> (epoint.<a href="../D/26409.html" title="Multiple defined in 2 places.">isUnresolved</a>())
<a id="L592" name="L592"></a> 592                 <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/13242.html" title="Multiple defined in 53 places.">connect</a>(addr.<a href="../D/19494.html" title="Multiple defined in 9 places.">getHostName</a>(), port);
<a id="L593" name="L593"></a> 593             <strong class="reserved">else</strong>
<a id="L594" name="L594"></a> 594                 <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/13242.html" title="Multiple defined in 53 places.">connect</a>(addr, port);
<a id="L595" name="L595"></a> 595         <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L596" name="L596"></a> 596             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>("SocketImpl.connect(addr, timeout)");
<a id="L597" name="L597"></a> 597         connected = <strong class="reserved">true</strong>;
<div class="comment">
          If the socket was not bound before the connect, it is now because
          the kernel will have picked an ephemeral port &amp; a local address</div>
<a id="L602" name="L602"></a> 602         bound = <strong class="reserved">true</strong>;
<a id="L603" name="L603"></a> 603     <em class="brace">}</em>
<a id="L604" name="L604"></a> 604 
<div class="comment">
      Binds the socket to a local address.
      <p>
      If the address is <code>null</code>, then the system will pick up
      an ephemeral port and a valid local address to bind the socket.
      @param   bindpoint the <code>SocketAddress</code> to bind to
      @throws  IOException if the bind operation fails, or if the socket
                          is already bound.
      @throws  IllegalArgumentException if bindpoint is a
               SocketAddress subclass not supported by this socket
      @throws  SecurityException  if a security manager exists and its
               <code>checkListen</code> method doesn't allow the bind
               to the local port.
      @since   1.4
      @see #isBound</p></div>
<a id="L623" name="L623"></a> 623     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10598.html" title="Multiple referred from 221 places.">bind</a>(<a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> bindpoint) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L625" name="L625"></a> 625             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L626" name="L626"></a> 626         <strong class="reserved">if</strong> (!oldImpl &amp;&amp; <a href="../D/25260.html" title="Multiple defined in 5 places.">isBound</a>())
<a id="L627" name="L627"></a> 627             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Already bound");
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629         <strong class="reserved">if</strong> (bindpoint != <strong class="reserved">null</strong> &amp;&amp; (!(bindpoint <strong class="reserved">instanceof</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>)))
<a id="L630" name="L630"></a> 630             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Unsupported address type");
<a id="L631" name="L631"></a> 631         <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a> epoint = (<a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>) bindpoint;
<a id="L632" name="L632"></a> 632         <strong class="reserved">if</strong> (epoint != <strong class="reserved">null</strong> &amp;&amp; epoint.<a href="../D/26409.html" title="Multiple defined in 2 places.">isUnresolved</a>())
<a id="L633" name="L633"></a> 633             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Unresolved address");
<a id="L634" name="L634"></a> 634         <strong class="reserved">if</strong> (epoint == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L635" name="L635"></a> 635             epoint = <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(0);
<a id="L636" name="L636"></a> 636         <em class="brace">}</em>
<a id="L637" name="L637"></a> 637         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr = epoint.<a href="../D/16826.html" title="Multiple defined in 18 places.">getAddress</a>();
<a id="L638" name="L638"></a> 638         <strong class="reserved">int</strong> port = epoint.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L639" name="L639"></a> 639         <a href="../D/12357.html" title="Multiple defined in 2 places.">checkAddress</a> (addr, "bind");
<a id="L640" name="L640"></a> 640         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L641" name="L641"></a> 641         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L642" name="L642"></a> 642             security.<a href="../S/1785.html#L1130" title="Defined at 1130 in src/java/lang/SecurityManager.java.">checkListen</a>(port);
<a id="L643" name="L643"></a> 643         <em class="brace">}</em>
<a id="L644" name="L644"></a> 644         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/11844.html" title="Multiple defined in 44 places.">bind</a> (addr, port);
<a id="L645" name="L645"></a> 645         bound = <strong class="reserved">true</strong>;
<a id="L646" name="L646"></a> 646     <em class="brace">}</em>
<a id="L647" name="L647"></a> 647 
<a id="L648" name="L648"></a> 648     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11074.html" title="Multiple referred from 12 places.">checkAddress</a> (<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/28500.html" title="Multiple defined in 3 places.">op</a>) <em class="brace">{</em>
<a id="L649" name="L649"></a> 649         <strong class="reserved">if</strong> (addr == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L650" name="L650"></a> 650             <strong class="reserved">return</strong>;
<a id="L651" name="L651"></a> 651         <em class="brace">}</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">if</strong> (!(addr <strong class="reserved">instanceof</strong> <a href="../S/745.html#L86" title="Defined at 86 in src/java/net/Inet4Address.java.">Inet4Address</a> || addr <strong class="reserved">instanceof</strong> <a href="../S/810.html#L175" title="Defined at 175 in src/java/net/Inet6Address.java.">Inet6Address</a>)) <em class="brace">{</em>
<a id="L653" name="L653"></a> 653             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../D/28500.html" title="Multiple defined in 3 places.">op</a> + ": invalid address type");
<a id="L654" name="L654"></a> 654         <em class="brace">}</em>
<a id="L655" name="L655"></a> 655     <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 
<div class="comment">
      set the flags after an accept() call.</div>
<a id="L660" name="L660"></a> 660     <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/812.html#L564" title="Referred from 564 in src/java/net/ServerSocket.java.">postAccept</a>() <em class="brace">{</em>
<a id="L661" name="L661"></a> 661         connected = <strong class="reserved">true</strong>;
<a id="L662" name="L662"></a> 662         created = <strong class="reserved">true</strong>;
<a id="L663" name="L663"></a> 663         bound = <strong class="reserved">true</strong>;
<a id="L664" name="L664"></a> 664     <em class="brace">}</em>
<a id="L665" name="L665"></a> 665 
<a id="L666" name="L666"></a> 666     <strong class="reserved">void</strong> <a href="../R/27121.html" title="Multiple referred from 4 places.">setCreated</a>() <em class="brace">{</em>
<a id="L667" name="L667"></a> 667         created = <strong class="reserved">true</strong>;
<a id="L668" name="L668"></a> 668     <em class="brace">}</em>
<a id="L669" name="L669"></a> 669 
<a id="L670" name="L670"></a> 670     <strong class="reserved">void</strong> <a href="../R/26966.html" title="Multiple referred from 4 places.">setBound</a>() <em class="brace">{</em>
<a id="L671" name="L671"></a> 671         bound = <strong class="reserved">true</strong>;
<a id="L672" name="L672"></a> 672     <em class="brace">}</em>
<a id="L673" name="L673"></a> 673 
<a id="L674" name="L674"></a> 674     <strong class="reserved">void</strong> <a href="../S/816.html#L363" title="Referred from 363 in src/java/net/AbstractPlainSocketImpl.java.">setConnected</a>() <em class="brace">{</em>
<a id="L675" name="L675"></a> 675         connected = <strong class="reserved">true</strong>;
<a id="L676" name="L676"></a> 676     <em class="brace">}</em>
<a id="L677" name="L677"></a> 677 
<div class="comment">
      Returns the address to which the socket is connected.
      <p>
      If the socket was connected prior to being <a href="#L1490" title="Defined at 1490.">close</a>,
      then this method will continue to return the connected address
      after the socket is closed.
      @return  the remote IP address to which this socket is connected,
               or <code>null</code> if the socket is not connected.</p></div>
<a id="L688" name="L688"></a> 688     <strong class="reserved">public</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/17055.html" title="Multiple referred from 14 places.">getInetAddress</a>() <em class="brace">{</em>
<a id="L689" name="L689"></a> 689         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L690" name="L690"></a> 690             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L691" name="L691"></a> 691         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L692" name="L692"></a> 692             <strong class="reserved">return</strong> <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/19686.html" title="Multiple defined in 7 places.">getInetAddress</a>();
<a id="L693" name="L693"></a> 693         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> e) <em class="brace">{</em>
<a id="L694" name="L694"></a> 694         <em class="brace">}</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<div class="comment">
      Gets the local address to which the socket is bound.
      <p>
      If there is a security manager set, its <code>checkConnect</code> method is
      called with the local address and <code>-1</code> as its arguments to see
      if the operation is allowed. If the operation is not allowed,
      the {@link InetAddress#getLoopbackAddress loopback} address is returned.
      @return the local address to which the socket is bound,
              the loopback address if denied by the security manager, or
              the wildcard address if the socket is closed or not bound yet.
      @since   JDK1.1
      @see SecurityManager#checkConnect</p></div>
<a id="L713" name="L713"></a> 713     <strong class="reserved">public</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/17408.html" title="Multiple referred from 3 places.">getLocalAddress</a>() <em class="brace">{</em>
<a id="L714" name="L714"></a> 714         <em class="comment">// This is for backward compatibility</em>
<a id="L715" name="L715"></a> 715         <strong class="reserved">if</strong> (!<a href="../D/25260.html" title="Multiple defined in 5 places.">isBound</a>())
<a id="L716" name="L716"></a> 716             <strong class="reserved">return</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/11347.html" title="Multiple defined in 4 places.">anyLocalAddress</a>();
<a id="L717" name="L717"></a> 717         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">null</strong>;
<a id="L718" name="L718"></a> 718         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L719" name="L719"></a> 719             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = (<a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>) <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_BINDADDR);
<a id="L720" name="L720"></a> 720             <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L721" name="L721"></a> 721             <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>)
<a id="L722" name="L722"></a> 722                 sm.<a href="../D/12411.html" title="Multiple defined in 2 places.">checkConnect</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(), -1);
<a id="L723" name="L723"></a> 723             <strong class="reserved">if</strong> (<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/25198.html" title="Multiple defined in 4 places.">isAnyLocalAddress</a>()) <em class="brace">{</em>
<a id="L724" name="L724"></a> 724                 <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/11347.html" title="Multiple defined in 4 places.">anyLocalAddress</a>();
<a id="L725" name="L725"></a> 725             <em class="brace">}</em>
<a id="L726" name="L726"></a> 726         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> e) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../S/826.html#L1206" title="Defined at 1206 in src/java/net/InetAddress.java.">getLoopbackAddress</a>();
<a id="L728" name="L728"></a> 728         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L729" name="L729"></a> 729             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/11347.html" title="Multiple defined in 4 places.">anyLocalAddress</a>(); <em class="comment">// "0.0.0.0"</em>
<a id="L730" name="L730"></a> 730         <em class="brace">}</em>
<a id="L731" name="L731"></a> 731         <strong class="reserved">return</strong> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>;
<a id="L732" name="L732"></a> 732     <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<div class="comment">
      Returns the remote port number to which this socket is connected.
      <p>
      If the socket was connected prior to being <a href="#L1490" title="Defined at 1490.">close</a>,
      then this method will continue to return the connected port number
      after the socket is closed.
      @return  the remote port number to which this socket is connected, or
               0 if the socket is not connected yet.</p></div>
<a id="L744" name="L744"></a> 744     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18374.html" title="Multiple referred from 119 places.">getPort</a>() <em class="brace">{</em>
<a id="L745" name="L745"></a> 745         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L746" name="L746"></a> 746             <strong class="reserved">return</strong> 0;
<a id="L747" name="L747"></a> 747         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L748" name="L748"></a> 748             <strong class="reserved">return</strong> <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L749" name="L749"></a> 749         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> e) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750             <em class="comment">// Shouldn't happen as we're connected</em>
<a id="L751" name="L751"></a> 751         <em class="brace">}</em>
<a id="L752" name="L752"></a> 752         <strong class="reserved">return</strong> -1;
<a id="L753" name="L753"></a> 753     <em class="brace">}</em>
<a id="L754" name="L754"></a> 754 
<div class="comment">
      Returns the local port number to which this socket is bound.
      <p>
      If the socket was bound prior to being <a href="#L1490" title="Defined at 1490.">close</a>,
      then this method will continue to return the local port number
      after the socket is closed.
      @return  the local port number to which this socket is bound or -1
               if the socket is not bound yet.</p></div>
<a id="L765" name="L765"></a> 765     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17427.html" title="Multiple referred from 23 places.">getLocalPort</a>() <em class="brace">{</em>
<a id="L766" name="L766"></a> 766         <strong class="reserved">if</strong> (!<a href="../D/25260.html" title="Multiple defined in 5 places.">isBound</a>())
<a id="L767" name="L767"></a> 767             <strong class="reserved">return</strong> -1;
<a id="L768" name="L768"></a> 768         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L769" name="L769"></a> 769             <strong class="reserved">return</strong> <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/20210.html" title="Multiple defined in 8 places.">getLocalPort</a>();
<a id="L770" name="L770"></a> 770         <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> e) <em class="brace">{</em>
<a id="L771" name="L771"></a> 771             <em class="comment">// shouldn't happen as we're bound</em>
<a id="L772" name="L772"></a> 772         <em class="brace">}</em>
<a id="L773" name="L773"></a> 773         <strong class="reserved">return</strong> -1;
<a id="L774" name="L774"></a> 774     <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<div class="comment">
      Returns the address of the endpoint this socket is connected to, or
      <code>null</code> if it is unconnected.
      <p>
      If the socket was connected prior to being <a href="#L1490" title="Defined at 1490.">close</a>,
      then this method will continue to return the connected address
      after the socket is closed.
      @return a <code>SocketAddress</code> representing the remote endpoint of this
              socket, or <code>null</code> if it is not connected yet.
      @see #getInetAddress()
      @see #getPort()
      @see #connect(SocketAddress, int)
      @see #connect(SocketAddress)
      @since 1.4</p></div>
<a id="L793" name="L793"></a> 793     <strong class="reserved">public</strong> <a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> getRemoteSocketAddress() <em class="brace">{</em>
<a id="L794" name="L794"></a> 794         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L795" name="L795"></a> 795             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L796" name="L796"></a> 796         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../D/19686.html" title="Multiple defined in 7 places.">getInetAddress</a>(), <a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>());
<a id="L797" name="L797"></a> 797     <em class="brace">}</em>
<a id="L798" name="L798"></a> 798 
<div class="comment">
      Returns the address of the endpoint this socket is bound to.
      <p>
      If a socket bound to an endpoint represented by an
      <code>InetSocketAddress </code> is <a href="#L1490" title="Defined at 1490.">close</a>,
      then this method will continue to return an <code>InetSocketAddress</code>
      after the socket is closed. In that case the returned
      <code>InetSocketAddress</code>'s address is the
      {@link InetAddress#isAnyLocalAddress wildcard} address
      and its port is the local port that it was bound to.
      </p><p>
      If there is a security manager set, its <code>checkConnect</code> method is
      called with the local address and <code>-1</code> as its arguments to see
      if the operation is allowed. If the operation is not allowed,
      a <code>SocketAddress</code> representing the
      {@link InetAddress#getLoopbackAddress loopback} address and the local
      port to which this socket is bound is returned.
      @return a <code>SocketAddress</code> representing the local endpoint of
              this socket, or a <code>SocketAddress</code> representing the
              loopback address if denied by the security manager, or
              <code>null</code> if the socket is not bound yet.
      @see #getLocalAddress()
      @see #getLocalPort()
      @see #bind(SocketAddress)
      @see SecurityManager#checkConnect
      @since 1.4</p></div>
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829     <strong class="reserved">public</strong> <a href="../S/751.html#L41" title="Defined at 41 in src/java/net/SocketAddress.java.">SocketAddress</a> getLocalSocketAddress() <em class="brace">{</em>
<a id="L830" name="L830"></a> 830         <strong class="reserved">if</strong> (!<a href="../D/25260.html" title="Multiple defined in 5 places.">isBound</a>())
<a id="L831" name="L831"></a> 831             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L832" name="L832"></a> 832         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/784.html#L52" title="Defined at 52 in src/java/net/InetSocketAddress.java.">InetSocketAddress</a>(<a href="../D/20187.html" title="Multiple defined in 9 places.">getLocalAddress</a>(), <a href="../D/20210.html" title="Multiple defined in 8 places.">getLocalPort</a>());
<a id="L833" name="L833"></a> 833     <em class="brace">}</em>
<a id="L834" name="L834"></a> 834 
<div class="comment">
      Returns the unique {@link java.nio.channels.SocketChannel SocketChannel}
      object associated with this socket, if any.
      <p> A socket will have a channel if, and only if, the channel itself was
      created via the {@link java.nio.channels.SocketChannel#open
      SocketChannel.open} or {@link
      java.nio.channels.ServerSocketChannel#accept ServerSocketChannel.accept}
      methods.
      @return  the socket channel associated with this socket,
               or <code>null</code> if this socket was not created
               for a channel
      @since 1.4
      @spec JSR-51</p></div>
<a id="L852" name="L852"></a> 852     <strong class="reserved">public</strong> <a href="../S/2075.html#L116" title="Defined at 116 in src/java/nio/channels/SocketChannel.java.">SocketChannel</a> <a href="../R/15494.html" title="Multiple referred from 11 places.">getChannel</a>() <em class="brace">{</em>
<a id="L853" name="L853"></a> 853         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L854" name="L854"></a> 854     <em class="brace">}</em>
<a id="L855" name="L855"></a> 855 
<div class="comment">
      Returns an input stream for this socket.
      <p> If this socket has an associated channel then the resulting input
      stream delegates all of its operations to the channel.  If the channel
      is in non-blocking mode then the input stream's <code>read</code> operations
      will throw an {@link java.nio.channels.IllegalBlockingModeException}.
      </p><p>Under abnormal conditions the underlying connection may be
      broken by the remote host or the network software (for example
      a connection reset in the case of TCP connections). When a
      broken connection is detected by the network software the
      following applies to the returned input stream :-
      </p><ul><li><p>The network software may discard bytes that are buffered
        by the socket. Bytes that aren't discarded by the network
        software can be read using {@link java.io.InputStream#read read}.
        </p></li><li><p>If there are no bytes buffered on the socket, or all
        buffered bytes have been consumed by
        {@link java.io.InputStream#read read}, then all subsequent
        calls to {@link java.io.InputStream#read read} will throw an
        {@link java.io.IOException IOException}.
        </p></li><li><p>If there are no bytes buffered on the socket, and the
        socket has not been closed using <a href="#L1490" title="Defined at 1490.">close</a>, then
        {@link java.io.InputStream#available available} will
        return <code>0</code>.
      </p></li></ul>
      <p> Closing the returned {@link java.io.InputStream InputStream}
      will close the associated socket.
      @return     an input stream for reading bytes from this socket.
      @exception  IOException  if an I/O error occurs when creating the
                  input stream, the socket is closed, the socket is
                  not connected, or the socket input has been shutdown
                  using {@link #shutdownInput()}
      @revised 1.4
      @spec JSR-51</p></div>
<a id="L901" name="L901"></a> 901     <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/17098.html" title="Multiple referred from 170 places.">getInputStream</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L902" name="L902"></a> 902         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L903" name="L903"></a> 903             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L904" name="L904"></a> 904         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L905" name="L905"></a> 905             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is not connected");
<a id="L906" name="L906"></a> 906         <strong class="reserved">if</strong> (<a href="../S/801.html#L1629" title="Defined at 1629 in src/java/net/Socket.java.">isInputShutdown</a>())
<a id="L907" name="L907"></a> 907             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket input is shutdown");
<a id="L908" name="L908"></a> 908         <strong class="reserved">final</strong> <a href="../S/801.html#L54" title="Defined at 54 in src/java/net/Socket.java.">Socket</a> s = <strong class="reserved">this</strong>;
<a id="L909" name="L909"></a> 909         <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <strong class="reserved">null</strong>;
<a id="L910" name="L910"></a> 910         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L911" name="L911"></a> 911             <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L912" name="L912"></a> 912                 <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>&gt;() <em class="brace">{</em>
<a id="L913" name="L913"></a> 913                     <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L914" name="L914"></a> 914                         <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/19744.html" title="Multiple defined in 16 places.">getInputStream</a>();
<a id="L915" name="L915"></a> 915                     <em class="brace">}</em>
<a id="L916" name="L916"></a> 916                 <em class="brace">}</em>);
<a id="L917" name="L917"></a> 917         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L918" name="L918"></a> 918             <strong class="reserved">throw</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>) e.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L919" name="L919"></a> 919         <em class="brace">}</em>
<a id="L920" name="L920"></a> 920         <strong class="reserved">return</strong> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>;
<a id="L921" name="L921"></a> 921     <em class="brace">}</em>
<a id="L922" name="L922"></a> 922 
<div class="comment">
      Returns an output stream for this socket.
      <p> If this socket has an associated channel then the resulting output
      stream delegates all of its operations to the channel.  If the channel
      is in non-blocking mode then the output stream's <code>write</code>
      operations will throw an {@link
      java.nio.channels.IllegalBlockingModeException}.
      </p><p> Closing the returned {@link java.io.OutputStream OutputStream}
      will close the associated socket.
      @return     an output stream for writing bytes to this socket.
      @exception  IOException  if an I/O error occurs when creating the
                    output stream or if the socket is not connected.
      @revised 1.4
      @spec JSR-51</p></div>
<a id="L941" name="L941"></a> 941     <strong class="reserved">public</strong> <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../R/18192.html" title="Multiple referred from 21 places.">getOutputStream</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L942" name="L942"></a> 942         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L943" name="L943"></a> 943             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L944" name="L944"></a> 944         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L945" name="L945"></a> 945             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is not connected");
<a id="L946" name="L946"></a> 946         <strong class="reserved">if</strong> (<a href="../S/801.html#L1640" title="Defined at 1640 in src/java/net/Socket.java.">isOutputShutdown</a>())
<a id="L947" name="L947"></a> 947             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket output is shutdown");
<a id="L948" name="L948"></a> 948         <strong class="reserved">final</strong> <a href="../S/801.html#L54" title="Defined at 54 in src/java/net/Socket.java.">Socket</a> s = <strong class="reserved">this</strong>;
<a id="L949" name="L949"></a> 949         <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os = <strong class="reserved">null</strong>;
<a id="L950" name="L950"></a> 950         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L951" name="L951"></a> 951             os = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L952" name="L952"></a> 952                 <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a>&gt;() <em class="brace">{</em>
<a id="L953" name="L953"></a> 953                     <strong class="reserved">public</strong> <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L954" name="L954"></a> 954                         <strong class="reserved">return</strong> <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/21281.html" title="Multiple defined in 23 places.">getOutputStream</a>();
<a id="L955" name="L955"></a> 955                     <em class="brace">}</em>
<a id="L956" name="L956"></a> 956                 <em class="brace">}</em>);
<a id="L957" name="L957"></a> 957         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L958" name="L958"></a> 958             <strong class="reserved">throw</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>) e.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L959" name="L959"></a> 959         <em class="brace">}</em>
<a id="L960" name="L960"></a> 960         <strong class="reserved">return</strong> os;
<a id="L961" name="L961"></a> 961     <em class="brace">}</em>
<a id="L962" name="L962"></a> 962 
<div class="comment">
      Enable/disable {@link SocketOptions#TCP_NODELAY TCP_NODELAY}
      (disable/enable Nagle's algorithm).
      @param on <code>true</code> to enable TCP_NODELAY,
      <code>false</code> to disable.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   JDK1.1
      @see #getTcpNoDelay()</div>
<a id="L977" name="L977"></a> 977     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28268.html" title="Multiple referred from 3 places.">setTcpNoDelay</a>(<strong class="reserved">boolean</strong> <a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L978" name="L978"></a> 978         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L979" name="L979"></a> 979             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L980" name="L980"></a> 980         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.TCP_NODELAY, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>));
<a id="L981" name="L981"></a> 981     <em class="brace">}</em>
<a id="L982" name="L982"></a> 982 
<div class="comment">
      Tests if {@link SocketOptions#TCP_NODELAY TCP_NODELAY} is enabled.
      @return a <code>boolean</code> indicating whether or not
              {@link SocketOptions#TCP_NODELAY TCP_NODELAY} is enabled.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   JDK1.1
      @see #setTcpNoDelay(boolean)</div>
<a id="L993" name="L993"></a> 993     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getTcpNoDelay() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L994" name="L994"></a> 994         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L995" name="L995"></a> 995             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L996" name="L996"></a> 996         <strong class="reserved">return</strong> ((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.TCP_NODELAY)).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L997" name="L997"></a> 997     <em class="brace">}</em>
<a id="L998" name="L998"></a> 998 
<div class="comment">
      Enable/disable {@link SocketOptions#SO_LINGER SO_LINGER} with the
      specified linger time in seconds. The maximum timeout value is platform
      specific.
      The setting only affects socket close.
      @param on     whether or not to linger on.
      @param linger how long to linger for, if on is true.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @exception IllegalArgumentException if the linger value is negative.
      @since JDK1.1
      @see #getSoLinger()</div>
<a id="L1014" name="L1014"></a>1014     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setSoLinger(<strong class="reserved">boolean</strong> <a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>, <strong class="reserved">int</strong> linger) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1016" name="L1016"></a>1016             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1017" name="L1017"></a>1017         <strong class="reserved">if</strong> (!<a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018             <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_LINGER, <strong class="reserved">new</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>(<a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>));
<a id="L1019" name="L1019"></a>1019         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020             <strong class="reserved">if</strong> (linger &lt; 0) <em class="brace">{</em>
<a id="L1021" name="L1021"></a>1021                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid value for SO_LINGER");
<a id="L1022" name="L1022"></a>1022             <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023             <strong class="reserved">if</strong> (linger &gt; 65535)
<a id="L1024" name="L1024"></a>1024                 linger = 65535;
<a id="L1025" name="L1025"></a>1025             <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_LINGER, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(linger));
<a id="L1026" name="L1026"></a>1026         <em class="brace">}</em>
<a id="L1027" name="L1027"></a>1027     <em class="brace">}</em>
<a id="L1028" name="L1028"></a>1028 
<div class="comment">
      Returns setting for {@link SocketOptions#SO_LINGER SO_LINGER}.
      -1 returns implies that the
      option is disabled.
      The setting only affects socket close.
      @return the setting for {@link SocketOptions#SO_LINGER SO_LINGER}.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   JDK1.1
      @see #setSoLinger(boolean, int)</div>
<a id="L1042" name="L1042"></a>1042     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getSoLinger() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1044" name="L1044"></a>1044             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1045" name="L1045"></a>1045         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_LINGER);
<a id="L1046" name="L1046"></a>1046         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <em class="brace">{</em>
<a id="L1047" name="L1047"></a>1047             <strong class="reserved">return</strong> ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1048" name="L1048"></a>1048         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1049" name="L1049"></a>1049             <strong class="reserved">return</strong> -1;
<a id="L1050" name="L1050"></a>1050         <em class="brace">}</em>
<a id="L1051" name="L1051"></a>1051     <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052 
<div class="comment">
      Send one byte of urgent data on the socket. The byte to be sent is the lowest eight
      bits of the data parameter. The urgent byte is
      sent after any preceding writes to the socket OutputStream
      and before any future writes to the OutputStream.
      @param data The byte of data to send
      @exception IOException if there is an error
       sending the data.
      @since 1.4</div>
<a id="L1063" name="L1063"></a>1063     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26789.html" title="Multiple referred from 2 places.">sendUrgentData</a> (<strong class="reserved">int</strong> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>  <em class="brace">{</em>
<a id="L1064" name="L1064"></a>1064         <strong class="reserved">if</strong> (!<a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/35139.html" title="Multiple defined in 2 places.">supportsUrgentData</a> ()) <em class="brace">{</em>
<a id="L1065" name="L1065"></a>1065             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> ("Urgent data not supported");
<a id="L1066" name="L1066"></a>1066         <em class="brace">}</em>
<a id="L1067" name="L1067"></a>1067         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/31758.html" title="Multiple defined in 4 places.">sendUrgentData</a> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L1068" name="L1068"></a>1068     <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069 
<div class="comment">
      Enable/disable {@link SocketOptions#SO_OOBINLINE SO_OOBINLINE}
      (receipt of TCP urgent data)
      By default, this option is disabled and TCP urgent data received on a
      socket is silently discarded. If the user wishes to receive urgent data, then
      this option must be enabled. When enabled, urgent data is received
      inline with normal data.
      <p>
      Note, only limited support is provided for handling incoming urgent
      data. In particular, no notification of incoming urgent data is provided
      and there is no capability to distinguish between normal data and urgent
      data unless provided by a higher level protocol.
      @param on <code>true</code> to enable
                {@link SocketOptions#SO_OOBINLINE SO_OOBINLINE},
                <code>false</code> to disable.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   1.4
      @see #getOOBInline()</p></div>
<a id="L1095" name="L1095"></a>1095     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setOOBInline(<strong class="reserved">boolean</strong> <a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1096" name="L1096"></a>1096         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1097" name="L1097"></a>1097             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1098" name="L1098"></a>1098         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_OOBINLINE, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>));
<a id="L1099" name="L1099"></a>1099     <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100 
<div class="comment">
      Tests if {@link SocketOptions#SO_OOBINLINE SO_OOBINLINE} is enabled.
      @return a <code>boolean</code> indicating whether or not
              {@link SocketOptions#SO_OOBINLINE SO_OOBINLINE}is enabled.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   1.4
      @see #setOOBInline(boolean)</div>
<a id="L1112" name="L1112"></a>1112     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getOOBInline() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1113" name="L1113"></a>1113         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1114" name="L1114"></a>1114             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1115" name="L1115"></a>1115         <strong class="reserved">return</strong> ((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_OOBINLINE)).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L1116" name="L1116"></a>1116     <em class="brace">}</em>
<a id="L1117" name="L1117"></a>1117 
<div class="comment">
       Enable/disable {@link SocketOptions#SO_TIMEOUT SO_TIMEOUT}
       with the specified timeout, in milliseconds. With this option set
       to a non-zero timeout, a read() call on the InputStream associated with
       this Socket will block for only this amount of time.  If the timeout
       expires, a <b>java.net.SocketTimeoutException</b> is raised, though the
       Socket is still valid. The option <b>must</b> be enabled
       prior to entering the blocking operation to have effect. The
       timeout must be <code>&gt; 0</code>.
       A timeout of zero is interpreted as an infinite timeout.
      @param timeout the specified timeout, in milliseconds.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   JDK 1.1
      @see #getSoTimeout()</div>
<a id="L1135" name="L1135"></a>1135     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setSoTimeout(<strong class="reserved">int</strong> timeout) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1136" name="L1136"></a>1136         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1137" name="L1137"></a>1137             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1138" name="L1138"></a>1138         <strong class="reserved">if</strong> (timeout &lt; 0)
<a id="L1139" name="L1139"></a>1139           <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("timeout can't be negative");
<a id="L1140" name="L1140"></a>1140 
<a id="L1141" name="L1141"></a>1141         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_TIMEOUT, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(timeout));
<a id="L1142" name="L1142"></a>1142     <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143 
<div class="comment">
      Returns setting for {@link SocketOptions#SO_TIMEOUT SO_TIMEOUT}.
      0 returns implies that the option is disabled (i.e., timeout of infinity).
      @return the setting for {@link SocketOptions#SO_TIMEOUT SO_TIMEOUT}
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   JDK1.1
      @see #setSoTimeout(int)</div>
<a id="L1155" name="L1155"></a>1155     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">int</strong> getSoTimeout() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1156" name="L1156"></a>1156         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1157" name="L1157"></a>1157             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1158" name="L1158"></a>1158         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_TIMEOUT);
<div class="comment">
         /* extra type safety */</div>
<a id="L1160" name="L1160"></a>1160         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <em class="brace">{</em>
<a id="L1161" name="L1161"></a>1161             <strong class="reserved">return</strong> ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1162" name="L1162"></a>1162         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1163" name="L1163"></a>1163             <strong class="reserved">return</strong> 0;
<a id="L1164" name="L1164"></a>1164         <em class="brace">}</em>
<a id="L1165" name="L1165"></a>1165     <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166 
<div class="comment">
      Sets the {@link SocketOptions#SO_SNDBUF SO_SNDBUF} option to the
      specified value for this <code>Socket</code>.
      The {@link SocketOptions#SO_SNDBUF SO_SNDBUF} option is used by the
      platform's networking code as a hint for the size to set the underlying
      network I/O buffers.
      <p>Because {@link SocketOptions#SO_SNDBUF SO_SNDBUF} is a hint,
      applications that want to verify what size the buffers were set to
      should call {@link #getSendBufferSize()}.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @param size the size to which to set the send buffer
      size. This value must be greater than 0.
      @exception IllegalArgumentException if the
      value is 0 or is negative.
      @see #getSendBufferSize()
      @since 1.2</p></div>
<a id="L1190" name="L1190"></a>1190     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setSendBufferSize(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)
<a id="L1191" name="L1191"></a>1191     <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a><em class="brace">{</em>
<a id="L1192" name="L1192"></a>1192         <strong class="reserved">if</strong> (!(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt; 0)) <em class="brace">{</em>
<a id="L1193" name="L1193"></a>1193             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("negative send size");
<a id="L1194" name="L1194"></a>1194         <em class="brace">}</em>
<a id="L1195" name="L1195"></a>1195         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1196" name="L1196"></a>1196             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1197" name="L1197"></a>1197         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_SNDBUF, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>));
<a id="L1198" name="L1198"></a>1198     <em class="brace">}</em>
<a id="L1199" name="L1199"></a>1199 
<div class="comment">
      Get value of the {@link SocketOptions#SO_SNDBUF SO_SNDBUF} option
      for this <code>Socket</code>, that is the buffer size used by the platform
      for output on this <code>Socket</code>.
      @return the value of the {@link SocketOptions#SO_SNDBUF SO_SNDBUF}
              option for this <code>Socket</code>.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @see #setSendBufferSize(int)
      @since 1.2</div>
<a id="L1213" name="L1213"></a>1213     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">int</strong> getSendBufferSize() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1214" name="L1214"></a>1214         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1215" name="L1215"></a>1215             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1216" name="L1216"></a>1216         <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = 0;
<a id="L1217" name="L1217"></a>1217         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_SNDBUF);
<a id="L1218" name="L1218"></a>1218         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <em class="brace">{</em>
<a id="L1219" name="L1219"></a>1219             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1220" name="L1220"></a>1220         <em class="brace">}</em>
<a id="L1221" name="L1221"></a>1221         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1222" name="L1222"></a>1222     <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223 
<div class="comment">
      Sets the {@link SocketOptions#SO_RCVBUF SO_RCVBUF} option to the
      specified value for this <code>Socket</code>. The
      {@link SocketOptions#SO_RCVBUF SO_RCVBUF} option is
      used by the platform's networking code as a hint for the size to set
      the underlying network I/O buffers.
      <p>Increasing the receive buffer size can increase the performance of
      network I/O for high-volume connection, while decreasing it can
      help reduce the backlog of incoming data.
      </p><p>Because {@link SocketOptions#SO_RCVBUF SO_RCVBUF} is a hint,
      applications that want to verify what size the buffers were set to
      should call {@link #getReceiveBufferSize()}.
      </p><p>The value of {@link SocketOptions#SO_RCVBUF SO_RCVBUF} is also used
      to set the TCP receive window that is advertized to the remote peer.
      Generally, the window size can be modified at any time when a socket is
      connected. However, if a receive window larger than 64K is required then
      this must be requested <b>before</b> the socket is connected to the
      remote peer. There are two cases to be aware of:
      </p><ol>
      <li>For sockets accepted from a ServerSocket, this must be done by calling
      {@link ServerSocket#setReceiveBufferSize(int)} before the ServerSocket
      is bound to a local address.<p></p></li><li>For client sockets, setReceiveBufferSize() must be called before
      connecting the socket to its remote peer.</li></ol>
      @param size the size to which to set the receive buffer
      size. This value must be greater than 0.
      @exception IllegalArgumentException if the value is 0 or is
      negative.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @see #getReceiveBufferSize()
      @see ServerSocket#setReceiveBufferSize(int)
      @since 1.2</div>
<a id="L1264" name="L1264"></a>1264     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setReceiveBufferSize(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>)
<a id="L1265" name="L1265"></a>1265     <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a><em class="brace">{</em>
<a id="L1266" name="L1266"></a>1266         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &lt;= 0) <em class="brace">{</em>
<a id="L1267" name="L1267"></a>1267             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("invalid receive size");
<a id="L1268" name="L1268"></a>1268         <em class="brace">}</em>
<a id="L1269" name="L1269"></a>1269         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1270" name="L1270"></a>1270             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1271" name="L1271"></a>1271         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_RCVBUF, <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>));
<a id="L1272" name="L1272"></a>1272     <em class="brace">}</em>
<a id="L1273" name="L1273"></a>1273 
<div class="comment">
      Gets the value of the {@link SocketOptions#SO_RCVBUF SO_RCVBUF} option
      for this <code>Socket</code>, that is the buffer size used by the platform
      for input on this <code>Socket</code>.
      @return the value of the {@link SocketOptions#SO_RCVBUF SO_RCVBUF}
              option for this <code>Socket</code>.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @see #setReceiveBufferSize(int)
      @since 1.2</div>
<a id="L1286" name="L1286"></a>1286     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">int</strong> <a href="../S/750.html#L163" title="Referred from 163 in src/java/net/DatagramSocket.java.">getReceiveBufferSize</a>()
<a id="L1287" name="L1287"></a>1287     <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a><em class="brace">{</em>
<a id="L1288" name="L1288"></a>1288         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1289" name="L1289"></a>1289             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1290" name="L1290"></a>1290         <strong class="reserved">int</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = 0;
<a id="L1291" name="L1291"></a>1291         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_RCVBUF);
<a id="L1292" name="L1292"></a>1292         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) <em class="brace">{</em>
<a id="L1293" name="L1293"></a>1293             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1294" name="L1294"></a>1294         <em class="brace">}</em>
<a id="L1295" name="L1295"></a>1295         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1296" name="L1296"></a>1296     <em class="brace">}</em>
<a id="L1297" name="L1297"></a>1297 
<div class="comment">
      Enable/disable {@link SocketOptions#SO_KEEPALIVE SO_KEEPALIVE}.
      @param on  whether or not to have socket keep alive turned on.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since 1.3
      @see #getKeepAlive()</div>
<a id="L1307" name="L1307"></a>1307     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27616.html" title="Multiple referred from 2 places.">setKeepAlive</a>(<strong class="reserved">boolean</strong> <a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1308" name="L1308"></a>1308         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1309" name="L1309"></a>1309             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1310" name="L1310"></a>1310         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_KEEPALIVE, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>));
<a id="L1311" name="L1311"></a>1311     <em class="brace">}</em>
<a id="L1312" name="L1312"></a>1312 
<div class="comment">
      Tests if {@link SocketOptions#SO_KEEPALIVE SO_KEEPALIVE} is enabled.
      @return a <code>boolean</code> indicating whether or not
              {@link SocketOptions#SO_KEEPALIVE SO_KEEPALIVE} is enabled.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   1.3
      @see #setKeepAlive(boolean)</div>
<a id="L1323" name="L1323"></a>1323     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getKeepAlive() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1324" name="L1324"></a>1324         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1325" name="L1325"></a>1325             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1326" name="L1326"></a>1326         <strong class="reserved">return</strong> ((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_KEEPALIVE)).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L1327" name="L1327"></a>1327     <em class="brace">}</em>
<a id="L1328" name="L1328"></a>1328 
<div class="comment">
      Sets traffic class or type-of-service octet in the IP
      header for packets sent from this Socket.
      As the underlying network implementation may ignore this
      value applications should consider it a hint.
      <p> The tc <b>must</b> be in the range {@code 0 &lt;= tc &lt;=
      255} or an IllegalArgumentException will be thrown.
      </p><p>Notes:
      </p><p>For Internet Protocol v4 the value consists of an
      <code>integer</code>, the least significant 8 bits of which
      represent the value of the TOS octet in IP packets sent by
      the socket.
      RFC 1349 defines the TOS values as follows:
      </p><ul>
      <li><code>IPTOS_LOWCOST (0x02)</code></li>
      <li><code>IPTOS_RELIABILITY (0x04)</code></li>
      <li><code>IPTOS_THROUGHPUT (0x08)</code></li>
      <li><code>IPTOS_LOWDELAY (0x10)</code></li>
      </ul>
      The last low order bit is always ignored as this
      corresponds to the MBZ (must be zero) bit.
      <p>
      Setting bits in the precedence field may result in a
      SocketException indicating that the operation is not
      permitted.
      </p><p>
      As RFC 1122 section 4.2.4.2 indicates, a compliant TCP
      implementation should, but is not required to, let application
      change the TOS field during the lifetime of a connection.
      So whether the type-of-service field can be changed after the
      TCP connection has been established depends on the implementation
      in the underlying platform. Applications should not assume that
      they can change the TOS field after the connection.
      </p><p>
      For Internet Protocol v6 <code>tc</code> is the value that
      would be placed into the sin6_flowinfo field of the IP header.
      @param tc        an <code>int</code> value for the bitset.
      @throws SocketException if there is an error setting the
      traffic class or type-of-service
      @since 1.4
      @see #getTrafficClass
      @see SocketOptions#IP_TOS</p></div>
<a id="L1375" name="L1375"></a>1375     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setTrafficClass(<strong class="reserved">int</strong> tc) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1376" name="L1376"></a>1376         <strong class="reserved">if</strong> (tc &lt; 0 || tc &gt; 255)
<a id="L1377" name="L1377"></a>1377             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("tc is not in range 0 -- 255");
<a id="L1378" name="L1378"></a>1378 
<a id="L1379" name="L1379"></a>1379         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1380" name="L1380"></a>1380             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1381" name="L1381"></a>1381         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1382" name="L1382"></a>1382             <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.IP_TOS, tc);
<a id="L1383" name="L1383"></a>1383         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> se) <em class="brace">{</em>
<a id="L1384" name="L1384"></a>1384             <em class="comment">// not supported if socket already connected</em>
<a id="L1385" name="L1385"></a>1385             <em class="comment">// Solaris returns error in such cases</em>
<a id="L1386" name="L1386"></a>1386             <strong class="reserved">if</strong>(!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L1387" name="L1387"></a>1387                 <strong class="reserved">throw</strong> se;
<a id="L1388" name="L1388"></a>1388         <em class="brace">}</em>
<a id="L1389" name="L1389"></a>1389     <em class="brace">}</em>
<a id="L1390" name="L1390"></a>1390 
<div class="comment">
      Gets traffic class or type-of-service in the IP header
      for packets sent from this Socket
      <p>
      As the underlying network implementation may ignore the
      traffic class or type-of-service set using {@link #setTrafficClass(int)}
      this method may return a different value than was previously
      set using the {@link #setTrafficClass(int)} method on this Socket.
      @return the traffic class or type-of-service already set
      @throws SocketException if there is an error obtaining the
      traffic class or type-of-service value.
      @since 1.4
      @see #setTrafficClass(int)
      @see SocketOptions#IP_TOS</p></div>
<a id="L1407" name="L1407"></a>1407     <strong class="reserved">public</strong> <strong class="reserved">int</strong> getTrafficClass() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1408" name="L1408"></a>1408         <strong class="reserved">return</strong> ((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>) (<a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.IP_TOS))).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L1409" name="L1409"></a>1409     <em class="brace">}</em>
<a id="L1410" name="L1410"></a>1410 
<div class="comment">
      Enable/disable the {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR}
      socket option.
      <p>
      When a TCP connection is closed the connection may remain
      in a timeout state for a period of time after the connection
      is closed (typically known as the <code>TIME_WAIT</code> state
      or <code>2MSL</code> wait state).
      For applications using a well known socket address or port
      it may not be possible to bind a socket to the required
      <code>SocketAddress</code> if there is a connection in the
      timeout state involving the socket address or port.
      </p><p>
      Enabling {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR}
      prior to binding the socket using {@link #bind(SocketAddress)} allows
      the socket to be bound even though a previous connection is in a timeout
      state.
      </p><p>
      When a <code>Socket</code> is created the initial setting
      of {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR} is disabled.
      </p><p>
      The behaviour when {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR} is
      enabled or disabled after a socket is bound (See {@link #isBound()})
      is not defined.
      @param on  whether to enable or disable the socket option
      @exception SocketException if an error occurs enabling or
                 disabling the {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR}
                 socket option, or the socket is closed.
      @since 1.4
      @see #getReuseAddress()
      @see #bind(SocketAddress)
      @see #isClosed()
      @see #isBound()</p></div>
<a id="L1446" name="L1446"></a>1446     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/744.html#L168" title="Referred from 168 in src/java/net/MulticastSocket.java.">setReuseAddress</a>(<strong class="reserved">boolean</strong> <a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>) <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1447" name="L1447"></a>1447         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1448" name="L1448"></a>1448             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1449" name="L1449"></a>1449         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/33429.html" title="Multiple defined in 15 places.">setOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_REUSEADDR, <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/28484.html" title="Multiple defined in 2 places.">on</a>));
<a id="L1450" name="L1450"></a>1450     <em class="brace">}</em>
<a id="L1451" name="L1451"></a>1451 
<div class="comment">
      Tests if {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR} is enabled.
      @return a <code>boolean</code> indicating whether or not
              {@link SocketOptions#SO_REUSEADDR SO_REUSEADDR} is enabled.
      @exception SocketException if there is an error
      in the underlying protocol, such as a TCP error.
      @since   1.4
      @see #setReuseAddress(boolean)</div>
<a id="L1462" name="L1462"></a>1462     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> getReuseAddress() <strong class="reserved">throws</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> <em class="brace">{</em>
<a id="L1463" name="L1463"></a>1463         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1464" name="L1464"></a>1464             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1465" name="L1465"></a>1465         <strong class="reserved">return</strong> ((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>) (<a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21227.html" title="Multiple defined in 11 places.">getOption</a>(<a href="../S/792.html#L46" title="Defined at 46 in src/java/net/SocketOptions.java.">SocketOptions</a>.SO_REUSEADDR))).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>();
<a id="L1466" name="L1466"></a>1466     <em class="brace">}</em>
<a id="L1467" name="L1467"></a>1467 
<div class="comment">
      Closes this socket.
      <p>
      Any thread currently blocked in an I/O operation upon this socket
      will throw a <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>.
      </p><p>
      Once a socket has been closed, it is not available for further networking
      use (i.e. can't be reconnected or rebound). A new socket needs to be
      created.
      </p><p> Closing this socket will also close the socket's
      {@link java.io.InputStream InputStream} and
      {@link java.io.OutputStream OutputStream}.
      </p><p> If this socket has an associated channel then the channel is closed
      as well.
      @exception  IOException  if an I/O error occurs when closing this socket.
      @revised 1.4
      @spec JSR-51
      @see #isClosed</p></div>
<a id="L1490" name="L1490"></a>1490     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1491" name="L1491"></a>1491         <strong class="reserved">synchronized</strong>(closeLock) <em class="brace">{</em>
<a id="L1492" name="L1492"></a>1492             <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1493" name="L1493"></a>1493                 <strong class="reserved">return</strong>;
<a id="L1494" name="L1494"></a>1494             <strong class="reserved">if</strong> (created)
<a id="L1495" name="L1495"></a>1495                 <a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L1496" name="L1496"></a>1496             closed = <strong class="reserved">true</strong>;
<a id="L1497" name="L1497"></a>1497         <em class="brace">}</em>
<a id="L1498" name="L1498"></a>1498     <em class="brace">}</em>
<a id="L1499" name="L1499"></a>1499 
<div class="comment">
      Places the input stream for this socket at "end of stream".
      Any data sent to the input stream side of the socket is acknowledged
      and then silently discarded.
      <p>
      If you read from a socket input stream after invoking this method on the
      socket, the stream's <code>available</code> method will return 0, and its
      <code>read</code> methods will return <code>-1</code> (end of stream).
      @exception IOException if an I/O error occurs when shutting down this
      socket.
      @since 1.3
      @see java.net.Socket#shutdownOutput()
      @see java.net.Socket#close()
      @see java.net.Socket#setSoLinger(boolean, int)
      @see #isInputShutdown</p></div>
<a id="L1518" name="L1518"></a>1518     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28587.html" title="Multiple referred from 2 places.">shutdownInput</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1519" name="L1519"></a>1519     <em class="brace">{</em>
<a id="L1520" name="L1520"></a>1520         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1521" name="L1521"></a>1521             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1522" name="L1522"></a>1522         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L1523" name="L1523"></a>1523             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is not connected");
<a id="L1524" name="L1524"></a>1524         <strong class="reserved">if</strong> (<a href="../S/801.html#L1629" title="Defined at 1629 in src/java/net/Socket.java.">isInputShutdown</a>())
<a id="L1525" name="L1525"></a>1525             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket input is already shutdown");
<a id="L1526" name="L1526"></a>1526         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/34540.html" title="Multiple defined in 6 places.">shutdownInput</a>();
<a id="L1527" name="L1527"></a>1527         shutIn = <strong class="reserved">true</strong>;
<a id="L1528" name="L1528"></a>1528     <em class="brace">}</em>
<a id="L1529" name="L1529"></a>1529 
<div class="comment">
      Disables the output stream for this socket.
      For a TCP socket, any previously written data will be sent
      followed by TCP's normal connection termination sequence.
      If you write to a socket output stream after invoking
      shutdownOutput() on the socket, the stream will throw
      an IOException.
      @exception IOException if an I/O error occurs when shutting down this
      socket.
      @since 1.3
      @see java.net.Socket#shutdownInput()
      @see java.net.Socket#close()
      @see java.net.Socket#setSoLinger(boolean, int)
      @see #isOutputShutdown</div>
<a id="L1548" name="L1548"></a>1548     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28589.html" title="Multiple referred from 2 places.">shutdownOutput</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1549" name="L1549"></a>1549     <em class="brace">{</em>
<a id="L1550" name="L1550"></a>1550         <strong class="reserved">if</strong> (<a href="../D/25310.html" title="Multiple defined in 10 places.">isClosed</a>())
<a id="L1551" name="L1551"></a>1551             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is closed");
<a id="L1552" name="L1552"></a>1552         <strong class="reserved">if</strong> (!<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L1553" name="L1553"></a>1553             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket is not connected");
<a id="L1554" name="L1554"></a>1554         <strong class="reserved">if</strong> (<a href="../S/801.html#L1640" title="Defined at 1640 in src/java/net/Socket.java.">isOutputShutdown</a>())
<a id="L1555" name="L1555"></a>1555             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("Socket output is already shutdown");
<a id="L1556" name="L1556"></a>1556         <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/34542.html" title="Multiple defined in 6 places.">shutdownOutput</a>();
<a id="L1557" name="L1557"></a>1557         shutOut = <strong class="reserved">true</strong>;
<a id="L1558" name="L1558"></a>1558     <em class="brace">}</em>
<a id="L1559" name="L1559"></a>1559 
<div class="comment">
      Converts this socket to a <code>String</code>.
      @return  a string representation of this socket.</div>
<a id="L1565" name="L1565"></a>1565     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1566" name="L1566"></a>1566         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1567" name="L1567"></a>1567             <strong class="reserved">if</strong> (<a href="../D/25352.html" title="Multiple defined in 4 places.">isConnected</a>())
<a id="L1568" name="L1568"></a>1568                 <strong class="reserved">return</strong> "Socket[addr=" + <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/19686.html" title="Multiple defined in 7 places.">getInetAddress</a>() +
<a id="L1569" name="L1569"></a>1569                     ",port=" + <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() +
<a id="L1570" name="L1570"></a>1570                     ",localport=" + <a href="../D/19614.html" title="Multiple defined in 7 places.">getImpl</a>().<a href="../D/20210.html" title="Multiple defined in 8 places.">getLocalPort</a>() + "]";
<a id="L1571" name="L1571"></a>1571         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a> e) <em class="brace">{</em>
<a id="L1572" name="L1572"></a>1572         <em class="brace">}</em>
<a id="L1573" name="L1573"></a>1573         <strong class="reserved">return</strong> "Socket[unconnected]";
<a id="L1574" name="L1574"></a>1574     <em class="brace">}</em>
<a id="L1575" name="L1575"></a>1575 
<div class="comment">
      Returns the connection state of the socket.
      <p>
      Note: Closing a socket doesn't clear its connection state, which means
      this method will return <code>true</code> for a closed socket
      (see {@link #isClosed()}) if it was successfuly connected prior
      to being closed.
      @return true if the socket was successfuly connected to a server
      @since 1.4</p></div>
<a id="L1587" name="L1587"></a>1587     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21283.html" title="Multiple referred from 13 places.">isConnected</a>() <em class="brace">{</em>
<a id="L1588" name="L1588"></a>1588         <em class="comment">// Before 1.3 Sockets were always connected during creation</em>
<a id="L1589" name="L1589"></a>1589         <strong class="reserved">return</strong> connected || oldImpl;
<a id="L1590" name="L1590"></a>1590     <em class="brace">}</em>
<a id="L1591" name="L1591"></a>1591 
<div class="comment">
      Returns the binding state of the socket.
      <p>
      Note: Closing a socket doesn't clear its binding state, which means
      this method will return <code>true</code> for a closed socket
      (see {@link #isClosed()}) if it was successfuly bound prior
      to being closed.
      @return true if the socket was successfuly bound to an address
      @since 1.4
      @see #bind</p></div>
<a id="L1604" name="L1604"></a>1604     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21218.html" title="Multiple referred from 20 places.">isBound</a>() <em class="brace">{</em>
<a id="L1605" name="L1605"></a>1605         <em class="comment">// Before 1.3 Sockets were always bound during creation</em>
<a id="L1606" name="L1606"></a>1606         <strong class="reserved">return</strong> bound || oldImpl;
<a id="L1607" name="L1607"></a>1607     <em class="brace">}</em>
<a id="L1608" name="L1608"></a>1608 
<div class="comment">
      Returns the closed state of the socket.
      @return true if the socket has been closed
      @since 1.4
      @see #close</div>
<a id="L1616" name="L1616"></a>1616     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21256.html" title="Multiple referred from 88 places.">isClosed</a>() <em class="brace">{</em>
<a id="L1617" name="L1617"></a>1617         <strong class="reserved">synchronized</strong>(closeLock) <em class="brace">{</em>
<a id="L1618" name="L1618"></a>1618             <strong class="reserved">return</strong> closed;
<a id="L1619" name="L1619"></a>1619         <em class="brace">}</em>
<a id="L1620" name="L1620"></a>1620     <em class="brace">}</em>
<a id="L1621" name="L1621"></a>1621 
<div class="comment">
      Returns whether the read-half of the socket connection is closed.
      @return true if the input of the socket has been shutdown
      @since 1.4
      @see #shutdownInput</div>
<a id="L1629" name="L1629"></a>1629     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21590.html" title="Multiple referred from 2 places.">isInputShutdown</a>() <em class="brace">{</em>
<a id="L1630" name="L1630"></a>1630         <strong class="reserved">return</strong> shutIn;
<a id="L1631" name="L1631"></a>1631     <em class="brace">}</em>
<a id="L1632" name="L1632"></a>1632 
<div class="comment">
      Returns whether the write-half of the socket connection is closed.
      @return true if the output of the socket has been shutdown
      @since 1.4
      @see #shutdownOutput</div>
<a id="L1640" name="L1640"></a>1640     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21836.html" title="Multiple referred from 2 places.">isOutputShutdown</a>() <em class="brace">{</em>
<a id="L1641" name="L1641"></a>1641         <strong class="reserved">return</strong> shutOut;
<a id="L1642" name="L1642"></a>1642     <em class="brace">}</em>
<a id="L1643" name="L1643"></a>1643 
<div class="comment">
      The factory for all client sockets.</div>
<a id="L1647" name="L1647"></a>1647     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/770.html#L40" title="Defined at 40 in src/java/net/SocketImplFactory.java.">SocketImplFactory</a> <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = <strong class="reserved">null</strong>;
<a id="L1648" name="L1648"></a>1648 
<div class="comment">
      Sets the client socket implementation factory for the
      application. The factory can be specified only once.
      <p>
      When an application creates a new client socket, the socket
      implementation factory's <code>createSocketImpl</code> method is
      called to create the actual socket implementation.
      </p><p>
      Passing <code>null</code> to the method is a no-op unless the factory
      was already set.
      </p><p>If there is a security manager, this method first calls
      the security manager's <code>checkSetFactory</code> method
      to ensure the operation is allowed.
      This could result in a SecurityException.
      @param      fac   the desired factory.
      @exception  IOException  if an I/O error occurs when setting the
                    socket factory.
      @exception  SocketException  if the factory is already defined.
      @exception  SecurityException  if a security manager exists and its
                  <code>checkSetFactory</code> method doesn't allow the operation.
      @see        java.net.SocketImplFactory#createSocketImpl()
      @see        SecurityManager#checkSetFactory</p></div>
<a id="L1673" name="L1673"></a>1673     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> setSocketImplFactory(<a href="../S/770.html#L40" title="Defined at 40 in src/java/net/SocketImplFactory.java.">SocketImplFactory</a> fac)
<a id="L1674" name="L1674"></a>1674         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1675" name="L1675"></a>1675     <em class="brace">{</em>
<a id="L1676" name="L1676"></a>1676         <strong class="reserved">if</strong> (<a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1677" name="L1677"></a>1677             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/808.html#L37" title="Defined at 37 in src/java/net/SocketException.java.">SocketException</a>("factory already defined");
<a id="L1678" name="L1678"></a>1678         <em class="brace">}</em>
<a id="L1679" name="L1679"></a>1679         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1680" name="L1680"></a>1680         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1681" name="L1681"></a>1681             security.<a href="../S/1785.html#L1663" title="Defined at 1663 in src/java/lang/SecurityManager.java.">checkSetFactory</a>();
<a id="L1682" name="L1682"></a>1682         <em class="brace">}</em>
<a id="L1683" name="L1683"></a>1683         <a href="../D/15962.html" title="Multiple defined in 2 places.">factory</a> = fac;
<a id="L1684" name="L1684"></a>1684     <em class="brace">}</em>
<a id="L1685" name="L1685"></a>1685 
<div class="comment">
      Sets performance preferences for this socket.
      <p> Sockets use the TCP/IP protocol by default.  Some implementations
      may offer alternative protocols which have different performance
      characteristics than TCP/IP.  This method allows the application to
      express its own preferences as to how these tradeoffs should be made
      when the implementation chooses from the available protocols.
      </p><p> Performance preferences are described by three integers
      whose values indicate the relative importance of short connection time,
      low latency, and high bandwidth.  The absolute values of the integers
      are irrelevant; in order to choose a protocol the values are simply
      compared, with larger values indicating stronger preferences. Negative
      values represent a lower priority than positive values. If the
      application prefers short connection time over both low latency and high
      bandwidth, for example, then it could invoke this method with the values
      <code>(1, 0, 0)</code>.  If the application prefers high bandwidth above low
      latency, and low latency above short connection time, then it could
      invoke this method with the values <code>(0, 1, 2)</code>.
      </p><p> Invoking this method after this socket has been connected
      will have no effect.
      @param  connectionTime
              An <code>int</code> expressing the relative importance of a short
              connection time
      @param  latency
              An <code>int</code> expressing the relative importance of low
              latency
      @param  bandwidth
              An <code>int</code> expressing the relative importance of high
              bandwidth
      @since 1.5</p></div>
<a id="L1724" name="L1724"></a>1724     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setPerformancePreferences(<strong class="reserved">int</strong> connectionTime,
<a id="L1725" name="L1725"></a>1725                                           <strong class="reserved">int</strong> latency,
<a id="L1726" name="L1726"></a>1726                                           <strong class="reserved">int</strong> bandwidth)
<a id="L1727" name="L1727"></a>1727     <em class="brace">{</em>
<div class="comment">
         /* Not implemented yet */</div>
<a id="L1729" name="L1729"></a>1729     <em class="brace">}</em>
<a id="L1730" name="L1730"></a>1730 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L453">[^]</a><a href="#L1724">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>