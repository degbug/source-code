<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/xml/datatype/Duration.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L179">[^]</a><a href="#L985">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L179" title="Defined at 179.">getXMLSchemaType</a></li>
<li><a href="#L238" title="Defined at 238.">getSign</a></li>
<li><a href="#L252" title="Defined at 252.">getYears</a></li>
<li><a href="#L265" title="Defined at 265.">getMonths</a></li>
<li><a href="#L278" title="Defined at 278.">getDays</a></li>
<li><a href="#L292" title="Defined at 292.">getHours</a></li>
<li><a href="#L306" title="Defined at 306.">getMinutes</a></li>
<li><a href="#L321" title="Defined at 321.">getSeconds</a></li>
<li><a href="#L355" title="Defined at 355.">getTimeInMillis</a></li>
<li><a href="#L393" title="Defined at 393.">getTimeInMillis</a></li>
<li><a href="#L423" title="Defined at 423.">getField</a></li>
<li><a href="#L440" title="Defined at 440.">isSet</a></li>
<li><a href="#L492" title="Defined at 492.">add</a></li>
<li><a href="#L533" title="Defined at 533.">addTo</a></li>
<li><a href="#L556" title="Defined at 556.">addTo</a></li>
<li><a href="#L622" title="Defined at 622.">subtract</a></li>
<li><a href="#L642" title="Defined at 642.">multiply</a></li>
<li><a href="#L693" title="Defined at 693.">multiply</a></li>
<li><a href="#L707" title="Defined at 707.">negate</a></li>
<li><a href="#L739" title="Defined at 739.">normalizeWith</a></li>
<li><a href="#L771" title="Defined at 771.">compare</a></li>
<li><a href="#L799" title="Defined at 799.">isLongerThan</a></li>
<li><a href="#L821" title="Defined at 821.">isShorterThan</a></li>
<li><a href="#L863" title="Defined at 863.">equals</a></li>
<li><a href="#L877" title="Defined at 877.">hashCode</a></li>
<li><a href="#L893" title="Defined at 893.">toString</a></li>
<li><a href="#L946" title="Defined at 946.">toString</a></li>
<li><a href="#L985" title="Defined at 985.">getCalendarTimeInMillis</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2003, 2006, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.datatype;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.math.BigDecimal;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.math.BigInteger;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Calendar;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Date;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.GregorianCalendar;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> javax.xml.namespace.QName;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  <p>Immutable representation of a time span as defined in
  the W3C XML Schema 1.0 specification.</p>
  <p>A Duration object represents a period of Gregorian time,
  which consists of six fields (years, months, days, hours,
  minutes, and seconds) plus a sign (+/-) field.</p>
  <p>The first five fields have non-negative (&gt;=0) integers or null
  (which represents that the field is not set),
  and the seconds field has a non-negative decimal or null.
  A negative sign indicates a negative duration.</p>
  <p>This class provides a number of methods that make it easy
  to use for the duration datatype of XML Schema 1.0 with
  the errata.</p>
  <h2>Order relationship</h2>
  <p>Duration objects only have partial order, where two values A and B
  maybe either:</p>
  <ol>
   <li>A&lt;B (A is shorter than B)
   </li><li>A&gt;B (A is longer than B)
   </li><li>A==B   (A and B are of the same duration)
   </li><li>A&lt;&gt;B (Comparison between A and B is indeterminate)
  </li></ol>
  <p>For example, 30 days cannot be meaningfully compared to one month.
  The {@link #compare(Duration duration)} method implements this
  relationship.</p>
  <p>See the {@link #isLongerThan(Duration)} method for details about
  the order relationship among <code>Duration</code> objects.</p>
  <h2>Operations over Duration</h2>
  <p>This class provides a set of basic arithmetic operations, such
  as addition, subtraction and multiplication.
  Because durations don't have total order, an operation could
  fail for some combinations of operations. For example, you cannot
  subtract 15 days from 1 month. See the javadoc of those methods
  for detailed conditions where this could happen.</p>
  <p>Also, division of a duration by a number is not provided because
  the <code>Duration</code> class can only deal with finite precision
  decimal numbers. For example, one cannot represent 1 sec divided by 3.</p>
  <p>However, you could substitute a division by 3 with multiplying
  by numbers such as 0.3 or 0.333.</p>
  <h2>Range of allowed values</h2>
  <p>
  Because some operations of <code>Duration</code> rely on <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>
  even though <a href="../R/2459.html" title="Multiple referred from 155 places.">Duration</a> can hold very large or very small values,
  some of the methods may not work correctly on such <code>Duration</code>s.
  The impacted methods document their dependency on <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.
  @author <a href="mailto:Joseph.Fialli@Sun.COM">Joseph Fialli</a>
  @author <a href="mailto:Kohsuke.Kawaguchi@Sun.com">Kohsuke Kawaguchi</a>
  @author <a href="mailto:Jeff.Suttor@Sun.com">Jeff Suttor</a>
  @author <a href="mailto:Sunitha.Reddy@Sun.com">Sunitha Reddy</a>
  @see XMLGregorianCalendar#add(Duration)
  @since 1.5</p></div>
<a id="L99" name="L99"></a>  99 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/2459.html" title="Multiple referred from 155 places.">Duration</a> <em class="brace">{</em>
<a id="L100" name="L100"></a> 100 
<div class="comment">
      <p>Debugging <code>true</code> or <code>false</code>.</p></div>
<a id="L104" name="L104"></a> 104     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> DEBUG = <strong class="reserved">true</strong>;
<a id="L105" name="L105"></a> 105 
<div class="comment">
      Default no-arg constructor.
      <p>Note: Always use the {@link DatatypeFactory} to
      construct an instance of <code>Duration</code>.
      The constructor on this class cannot be guaranteed to
      produce an object with a consistent state and may be
      removed in the future.</p></div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">public</strong> Duration() <em class="brace">{</em>
<a id="L116" name="L116"></a> 116     <em class="brace">}</em>
<a id="L117" name="L117"></a> 117 
<div class="comment">
      <p>Return the name of the XML Schema date/time type that this instance
      maps to. Type is computed based on fields that are set,
      i.e. {@link #isSet(DatatypeConstants.Field field)} == <code>true</code>.</p>
      <table border="2" rules="all" cellpadding="2">
        <thead>
          <tr>
            <th align="center" colspan="7">
              Required fields for XML Schema 1.0 Date/Time Datatypes.<br>
              <i>(timezone is optional for all date/time datatypes)</i>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Datatype</td>
            <td>year</td>
            <td>month</td>
            <td>day</td>
            <td>hour</td>
            <td>minute</td>
            <td>second</td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#DURATION}</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#DURATION_DAYTIME}</td>
            <td></td>
            <td></td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
          </tr>
          <tr>
            <td>{@link DatatypeConstants#DURATION_YEARMONTH}</td>
            <td>X</td>
            <td>X</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
      @return one of the following constants:
        {@link DatatypeConstants#DURATION},
        {@link DatatypeConstants#DURATION_DAYTIME} or
        {@link DatatypeConstants#DURATION_YEARMONTH}.
      @throws IllegalStateException If the combination of set fields does not match one of the XML Schema date/time datatypes.</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">public</strong> <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../S/5393.html#L1770" title="Referred from 1770 in src/com/sun/org/apache/xerces/internal/jaxp/datatype/XMLGregorianCalendarImpl.java.">getXMLSchemaType</a>() <em class="brace">{</em>
<a id="L180" name="L180"></a> 180 
<a id="L181" name="L181"></a> 181         <strong class="reserved">boolean</strong> yearSet = <a href="../D/26230.html" title="Multiple defined in 16 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>);
<a id="L182" name="L182"></a> 182         <strong class="reserved">boolean</strong> monthSet = <a href="../D/26230.html" title="Multiple defined in 16 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>);
<a id="L183" name="L183"></a> 183         <strong class="reserved">boolean</strong> daySet = <a href="../D/26230.html" title="Multiple defined in 16 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L184" name="L184"></a> 184         <strong class="reserved">boolean</strong> hourSet = <a href="../D/26230.html" title="Multiple defined in 16 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>);
<a id="L185" name="L185"></a> 185         <strong class="reserved">boolean</strong> minuteSet = <a href="../D/26230.html" title="Multiple defined in 16 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>);
<a id="L186" name="L186"></a> 186         <strong class="reserved">boolean</strong> secondSet = <a href="../D/26230.html" title="Multiple defined in 16 places.">isSet</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188         <em class="comment">// DURATION</em>
<a id="L189" name="L189"></a> 189         <strong class="reserved">if</strong> (yearSet
<a id="L190" name="L190"></a> 190             &amp;&amp; monthSet
<a id="L191" name="L191"></a> 191             &amp;&amp; daySet
<a id="L192" name="L192"></a> 192             &amp;&amp; hourSet
<a id="L193" name="L193"></a> 193             &amp;&amp; minuteSet
<a id="L194" name="L194"></a> 194             &amp;&amp; secondSet) <em class="brace">{</em>
<a id="L195" name="L195"></a> 195             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.DURATION;
<a id="L196" name="L196"></a> 196         <em class="brace">}</em>
<a id="L197" name="L197"></a> 197 
<a id="L198" name="L198"></a> 198         <em class="comment">// DURATION_DAYTIME</em>
<a id="L199" name="L199"></a> 199         <strong class="reserved">if</strong> (!yearSet
<a id="L200" name="L200"></a> 200             &amp;&amp; !monthSet
<a id="L201" name="L201"></a> 201             &amp;&amp; daySet
<a id="L202" name="L202"></a> 202             &amp;&amp; hourSet
<a id="L203" name="L203"></a> 203             &amp;&amp; minuteSet
<a id="L204" name="L204"></a> 204             &amp;&amp; secondSet) <em class="brace">{</em>
<a id="L205" name="L205"></a> 205             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.DURATION_DAYTIME;
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<a id="L208" name="L208"></a> 208         <em class="comment">// DURATION_YEARMONTH</em>
<a id="L209" name="L209"></a> 209         <strong class="reserved">if</strong> (yearSet
<a id="L210" name="L210"></a> 210             &amp;&amp; monthSet
<a id="L211" name="L211"></a> 211             &amp;&amp; !daySet
<a id="L212" name="L212"></a> 212             &amp;&amp; !hourSet
<a id="L213" name="L213"></a> 213             &amp;&amp; !minuteSet
<a id="L214" name="L214"></a> 214             &amp;&amp; !secondSet) <em class="brace">{</em>
<a id="L215" name="L215"></a> 215             <strong class="reserved">return</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.DURATION_YEARMONTH;
<a id="L216" name="L216"></a> 216         <em class="brace">}</em>
<a id="L217" name="L217"></a> 217 
<a id="L218" name="L218"></a> 218         <em class="comment">// nothing matches</em>
<a id="L219" name="L219"></a> 219         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(
<a id="L220" name="L220"></a> 220                 "javax.xml.datatype.Duration#getXMLSchemaType():"
<a id="L221" name="L221"></a> 221                 + " this Duration does not match one of the XML Schema date/time datatypes:"
<a id="L222" name="L222"></a> 222                 + " year set = " + yearSet
<a id="L223" name="L223"></a> 223                 + " month set = " + monthSet
<a id="L224" name="L224"></a> 224                 + " day set = " + daySet
<a id="L225" name="L225"></a> 225                 + " hour set = " + hourSet
<a id="L226" name="L226"></a> 226                 + " minute set = " + minuteSet
<a id="L227" name="L227"></a> 227                 + " second set = " + secondSet
<a id="L228" name="L228"></a> 228         );
<a id="L229" name="L229"></a> 229     <em class="brace">}</em>
<a id="L230" name="L230"></a> 230 
<div class="comment">
      Returns the sign of this duration in -1,0, or 1.
      @return
           -1 if this duration is negative, 0 if the duration is zero,
           and 1 if the duration is positive.</div>
<a id="L238" name="L238"></a> 238     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/19036.html" title="Multiple referred from 21 places.">getSign</a>();
<a id="L239" name="L239"></a> 239 
<div class="comment">
      <p>Get the years value of this <code>Duration</code> as an <code>int</code> or <code>0</code> if not present.</p>
      <p><code>getYears()</code> is a convenience method for
      {@link #getField(DatatypeConstants.Field field) getField(DatatypeConstants.YEARS)}.</p>
      <p>As the return value is an <code>int</code>, an incorrect value will be returned for <code>Duration</code>s
      with years that go beyond the range of an <code>int</code>.
      Use {@link #getField(DatatypeConstants.Field field) getField(DatatypeConstants.YEARS)} to avoid possible loss of precision.</p>
      @return If the years field is present, return its value as an <code>int</code>, else return <code>0</code>.</div>
<a id="L252" name="L252"></a> 252     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19953.html" title="Multiple referred from 11 places.">getYears</a>() <em class="brace">{</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">return</strong> <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L254" name="L254"></a> 254     <em class="brace">}</em>
<a id="L255" name="L255"></a> 255 
<div class="comment">
      Obtains the value of the MONTHS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the MONTHS field.
      @return Months of this <code>Duration</code>.</div>
<a id="L265" name="L265"></a> 265     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17794.html" title="Multiple referred from 17 places.">getMonths</a>() <em class="brace">{</em>
<a id="L266" name="L266"></a> 266         <strong class="reserved">return</strong> <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L267" name="L267"></a> 267     <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<div class="comment">
      Obtains the value of the DAYS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the DAYS field.
      @return Days of this <code>Duration</code>.</div>
<a id="L278" name="L278"></a> 278     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15965.html" title="Multiple referred from 13 places.">getDays</a>() <em class="brace">{</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">return</strong> <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<div class="comment">
      Obtains the value of the HOURS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the HOURS field.
      @return Hours of this <code>Duration</code>.</div>
<a id="L292" name="L292"></a> 292     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/16918.html" title="Multiple referred from 19 places.">getHours</a>() <em class="brace">{</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">return</strong> <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L294" name="L294"></a> 294     <em class="brace">}</em>
<a id="L295" name="L295"></a> 295 
<div class="comment">
      Obtains the value of the MINUTES field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the MINUTES field.
      @return Minutes of this <code>Duration</code>.</div>
<a id="L306" name="L306"></a> 306     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17754.html" title="Multiple referred from 17 places.">getMinutes</a>() <em class="brace">{</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">return</strong> <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L308" name="L308"></a> 308     <em class="brace">}</em>
<a id="L309" name="L309"></a> 309 
<div class="comment">
      Obtains the value of the SECONDS field as an integer value,
      or 0 if not present.
      This method works just like {@link #getYears()} except
      that this method works on the SECONDS field.
      @return seconds in the integer value. The fraction of seconds
        will be discarded (for example, if the actual value is 2.5,
        this method returns 2)</div>
<a id="L321" name="L321"></a> 321     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18892.html" title="Multiple referred from 23 places.">getSeconds</a>() <em class="brace">{</em>
<a id="L322" name="L322"></a> 322         <strong class="reserved">return</strong> <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L323" name="L323"></a> 323     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<div class="comment">
      <p>Returns the length of the duration in milli-seconds.</p>
      <p>If the seconds field carries more digits than milli-second order,
      those will be simply discarded (or in other words, rounded to zero.)
      For example, for any Calendar value <code>x</code>,</p>
      <pre>      <code>new Duration("PT10.00099S").getTimeInMills(x) == 10000</code>.
      <code>new Duration("-PT10.00099S").getTimeInMills(x) == -10000</code>.
      </pre>
      <p>
      Note that this method uses the {@link #addTo(Calendar)} method,
      which may work incorrectly with <code>Duration</code> objects with
      very large values in its fields. See the {@link #addTo(Calendar)}
      method for details.
      @param startInstant
           The length of a month/year varies. The <code>startInstant</code> is
           used to disambiguate this variance. Specifically, this method
           returns the difference between <code>startInstant</code> and
           <code>startInstant+duration</code>
      @return milliseconds between <code>startInstant</code> and
        <code>startInstant</code> plus this <code>Duration</code>
      @throws NullPointerException if <code>startInstant</code> parameter
      is null.</p></div>
<a id="L355" name="L355"></a> 355     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/19495.html" title="Multiple referred from 11 places.">getTimeInMillis</a>(<strong class="reserved">final</strong> <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> startInstant) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = (<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>) startInstant.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L357" name="L357"></a> 357         <a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L358" name="L358"></a> 358         <strong class="reserved">return</strong> <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal)
<a id="L359" name="L359"></a> 359                     - <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(startInstant);
<a id="L360" name="L360"></a> 360     <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<div class="comment">
      <p>Returns the length of the duration in milli-seconds.</p>
      <p>If the seconds field carries more digits than milli-second order,
      those will be simply discarded (or in other words, rounded to zero.)
      For example, for any <code>Date</code> value <code>x</code>,</p>
      <pre>      <code>new Duration("PT10.00099S").getTimeInMills(x) == 10000</code>.
      <code>new Duration("-PT10.00099S").getTimeInMills(x) == -10000</code>.
      </pre>
      <p>
      Note that this method uses the {@link #addTo(Date)} method,
      which may work incorrectly with <code>Duration</code> objects with
      very large values in its fields. See the {@link #addTo(Date)}
      method for details.
      @param startInstant
           The length of a month/year varies. The <code>startInstant</code> is
           used to disambiguate this variance. Specifically, this method
           returns the difference between <code>startInstant</code> and
           <code>startInstant+duration</code>.
      @throws NullPointerException
           If the startInstant parameter is null.
      @return milliseconds between <code>startInstant</code> and
        <code>startInstant</code> plus this <code>Duration</code>
      @see #getTimeInMillis(Calendar)</p></div>
<a id="L393" name="L393"></a> 393     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/19495.html" title="Multiple referred from 11 places.">getTimeInMillis</a>(<strong class="reserved">final</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> startInstant) <em class="brace">{</em>
<a id="L394" name="L394"></a> 394         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>();
<a id="L395" name="L395"></a> 395         cal.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(startInstant);
<a id="L396" name="L396"></a> 396         <strong class="reserved">this</strong>.<a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L397" name="L397"></a> 397         <strong class="reserved">return</strong> <a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal) - startInstant.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>();
<a id="L398" name="L398"></a> 398     <em class="brace">}</em>
<a id="L399" name="L399"></a> 399 
<div class="comment">
      Gets the value of a field.
      Fields of a duration object may contain arbitrary large value.
      Therefore this method is designed to return a <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> object.
      In case of YEARS, MONTHS, DAYS, HOURS, and MINUTES, the returned
      number will be a non-negative integer. In case of seconds,
      the returned number may be a non-negative decimal value.
      @param field
           one of the six Field constants (YEARS,MONTHS,DAYS,HOURS,
           MINUTES, or SECONDS.)
      @return
           If the specified field is present, this method returns
           a non-null non-negative <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> object that
           represents its value. If it is not present, return null.
           For YEARS, MONTHS, DAYS, HOURS, and MINUTES, this method
           returns a {@link java.math.BigInteger} object. For SECONDS, this
           method returns a {@link java.math.BigDecimal}.
      @throws NullPointerException If the <code>field</code> is <code>null</code>.</div>
<a id="L423" name="L423"></a> 423     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/6185.html" title="Multiple defined in 4 places.">Number</a> <a href="../R/16547.html" title="Multiple referred from 107 places.">getField</a>(<strong class="reserved">final</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field);
<a id="L424" name="L424"></a> 424 
<div class="comment">
      Checks if a field is set.
      A field of a duration object may or may not be present.
      This method can be used to test if a field is present.
      @param field
           one of the six Field constants (YEARS,MONTHS,DAYS,HOURS,
           MINUTES, or SECONDS.)
      @return
           true if the field is present. false if not.
      @throws NullPointerException
           If the field parameter is null.</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/22010.html" title="Multiple referred from 131 places.">isSet</a>(<strong class="reserved">final</strong> <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../D/3142.html" title="Multiple defined in 10 places.">Field</a> field);
<a id="L441" name="L441"></a> 441 
<div class="comment">
      <p>Computes a new duration whose value is <code>this+rhs</code>.</p>
      <p>For example,</p>
      <pre>      "1 day" + "-3 days" = "-2 days"
      "1 year" + "1 day" = "1 year and 1 day"
      "-(1 hour,50 minutes)" + "-20 minutes" = "-(1 hours,70 minutes)"
      "15 hours" + "-3 days" = "-(2 days,9 hours)"
      "1 year" + "-1 day" = IllegalStateException
      </pre>
      <p>Since there's no way to meaningfully subtract 1 day from 1 month,
      there are cases where the operation fails in
      <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>.</p>
      <p>
      Formally, the computation is defined as follows.</p>
      <p>
      Firstly, we can assume that two <code>Duration</code>s to be added
      are both positive without losing generality (i.e.,
      <code>(-X)+Y=Y-X</code>, <code>X+(-Y)=X-Y</code>,
      <code>(-X)+(-Y)=-(X+Y)</code>)
      </p><p>
      Addition of two positive <code>Duration</code>s are simply defined as
      field by field addition where missing fields are treated as 0.
      </p><p>
      A field of the resulting <code>Duration</code> will be unset if and
      only if respective fields of two input <code>Duration</code>s are unset.
      </p><p>
      Note that <code>lhs.add(rhs)</code> will be always successful if
      <code>lhs.signum()*rhs.signum()!=-1</code> or both of them are
      normalized.</p>
      @param rhs <code>Duration</code> to add to this <code>Duration</code>
      @return
           non-null valid Duration object.
      @throws NullPointerException
           If the rhs parameter is null.
      @throws IllegalStateException
           If two durations cannot be meaningfully added. For
           example, adding negative one day to one month causes
           this exception.
      @see #subtract(Duration)</div>
<a id="L492" name="L492"></a> 492     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> rhs);
<a id="L493" name="L493"></a> 493 
<div class="comment">
      Adds this duration to a <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> object.
      <p>
      Calls {@link java.util.Calendar#add(int,int)} in the
      order of YEARS, MONTHS, DAYS, HOURS, MINUTES, SECONDS, and MILLISECONDS
      if those fields are present. Because the <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> class
      uses int to hold values, there are cases where this method
      won't work correctly (for example if values of fields
      exceed the range of int.)
      </p>
      <p>
      Also, since this duration class is a Gregorian duration, this
      method will not work correctly if the given <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>
      object is based on some other calendar systems.
      </p>
      <p>
      Any fractional parts of this <code>Duration</code> object
      beyond milliseconds will be simply ignored. For example, if
      this duration is "P1.23456S", then 1 is added to SECONDS,
      234 is added to MILLISECONDS, and the rest will be unused.
      </p>
      <p>
      Note that because {@link Calendar#add(int, int)} is using
      <code>int</code>, <code>Duration</code> with values beyond the
      range of <code>int</code> in its fields
      will cause overflow/underflow to the given <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a>.
      {@link XMLGregorianCalendar#add(Duration)} provides the same
      basic operation as this method while avoiding
      the overflow/underflow issues.
      @param calendar
           A calendar object whose value will be modified.
      @throws NullPointerException
           if the calendar parameter is null.</p></div>
<a id="L533" name="L533"></a> 533     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/9993.html" title="Multiple referred from 32 places.">addTo</a>(<a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> calendar);
<a id="L534" name="L534"></a> 534 
<div class="comment">
      Adds this duration to a <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> object.
      <p>
      The given date is first converted into
      a {@link java.util.GregorianCalendar}, then the duration
      is added exactly like the {@link #addTo(Calendar)} method.
      </p><p>
      The updated time instant is then converted back into a
      <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> object and used to update the given <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> object.
      </p><p>
      This somewhat redundant computation is necessary to unambiguously
      determine the duration of months and years.
      @param date
           A date object whose value will be modified.
      @throws NullPointerException
           if the date parameter is null.</p></div>
<a id="L556" name="L556"></a> 556     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9993.html" title="Multiple referred from 32 places.">addTo</a>(<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557 
<a id="L558" name="L558"></a> 558         <em class="comment">// check data parameter</em>
<a id="L559" name="L559"></a> 559         <strong class="reserved">if</strong> (<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(
<a id="L561" name="L561"></a> 561                 "Cannot call "
<a id="L562" name="L562"></a> 562                 + <strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()
<a id="L563" name="L563"></a> 563                 + "#addTo(Date date) with date == null."
<a id="L564" name="L564"></a> 564             );
<a id="L565" name="L565"></a> 565         <em class="brace">}</em>
<a id="L566" name="L566"></a> 566 
<a id="L567" name="L567"></a> 567         <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal = <strong class="reserved">new</strong> <a href="../S/1130.html#L330" title="Defined at 330 in src/java/util/GregorianCalendar.java.">GregorianCalendar</a>();
<a id="L568" name="L568"></a> 568         cal.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(<a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>);
<a id="L569" name="L569"></a> 569         <strong class="reserved">this</strong>.<a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(cal);
<a id="L570" name="L570"></a> 570         <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/34137.html" title="Multiple defined in 25 places.">setTime</a>(<a href="../D/17462.html" title="Multiple defined in 2 places.">getCalendarTimeInMillis</a>(cal));
<a id="L571" name="L571"></a> 571     <em class="brace">}</em>
<a id="L572" name="L572"></a> 572 
<div class="comment">
      <p>Computes a new duration whose value is <code>this-rhs</code>.</p>
      <p>For example:</p>
      <pre>      "1 day" - "-3 days" = "4 days"
      "1 year" - "1 day" = IllegalStateException
      "-(1 hour,50 minutes)" - "-20 minutes" = "-(1hours,30 minutes)"
      "15 hours" - "-3 days" = "3 days and 15 hours"
      "1 year" - "-1 day" = "1 year and 1 day"
      </pre>
      <p>Since there's no way to meaningfully subtract 1 day from 1 month,
      there are cases where the operation fails in <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>.</p>
      <p>Formally the computation is defined as follows.
      First, we can assume that two <code>Duration</code>s are both positive
      without losing generality.  (i.e.,
      <code>(-X)-Y=-(X+Y)</code>, <code>X-(-Y)=X+Y</code>,
      <code>(-X)-(-Y)=-(X-Y)</code>)</p>
      <p>Then two durations are subtracted field by field.
      If the sign of any non-zero field <code>F</code> is different from
      the sign of the most significant field,
      1 (if <code>F</code> is negative) or -1 (otherwise)
      will be borrowed from the next bigger unit of <code>F</code>.</p>
      <p>This process is repeated until all the non-zero fields have
      the same sign.</p>
      <p>If a borrow occurs in the days field (in other words, if
      the computation needs to borrow 1 or -1 month to compensate
      days), then the computation fails by throwing an
      <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>.</p>
      @param rhs <code>Duration</code> to subtract from this <code>Duration</code>.
      @return New <code>Duration</code> created from subtracting <code>rhs</code> from this <code>Duration</code>.
      @throws IllegalStateException
           If two durations cannot be meaningfully subtracted. For
           example, subtracting one day from one month causes
           this exception.
      @throws NullPointerException
           If the rhs parameter is null.
      @see #add(Duration)</div>
<a id="L622" name="L622"></a> 622     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/29021.html" title="Multiple referred from 64 places.">subtract</a>(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> rhs) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623         <strong class="reserved">return</strong> <a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(rhs.<a href="../D/27947.html" title="Multiple defined in 27 places.">negate</a>());
<a id="L624" name="L624"></a> 624     <em class="brace">}</em>
<a id="L625" name="L625"></a> 625 
<div class="comment">
      <p>Computes a new duration whose value is <code>factor</code> times
      longer than the value of this duration.</p>
      <p>This method is provided for the convenience.
      It is functionally equivalent to the following code:</p>
      <pre>      multiply(new BigDecimal(String.valueOf(factor)))
      </pre>
      @param factor Factor times longer of new <code>Duration</code> to create.
      @return New <code>Duration</code> that is <code>factor</code>times longer than this <code>Duration</code>.
      @see #multiply(BigDecimal)</div>
<a id="L642" name="L642"></a> 642     <strong class="reserved">public</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/23405.html" title="Multiple referred from 61 places.">multiply</a>(<strong class="reserved">int</strong> factor) <em class="brace">{</em>
<a id="L643" name="L643"></a> 643         <strong class="reserved">return</strong> <a href="../D/27837.html" title="Multiple defined in 13 places.">multiply</a>(<strong class="reserved">new</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(factor)));
<a id="L644" name="L644"></a> 644     <em class="brace">}</em>
<a id="L645" name="L645"></a> 645 
<div class="comment">
      Computes a new duration whose value is <code>factor</code> times
      longer than the value of this duration.
      <p>
      For example,
      </p><pre>      "P1M" (1 month) * "12" = "P12M" (12 months)
      "PT1M" (1 min) * "0.3" = "PT18S" (18 seconds)
      "P1M" (1 month) * "1.5" = IllegalStateException
      </pre>
      <p>
      Since the <code>Duration</code> class is immutable, this method
      doesn't change the value of this object. It simply computes
      a new Duration object and returns it.
      </p><p>
      The operation will be performed field by field with the precision
      of <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>. Since all the fields except seconds are
      restricted to hold integers,
      any fraction produced by the computation will be
      carried down toward the next lower unit. For example,
      if you multiply "P1D" (1 day) with "0.5", then it will be 0.5 day,
      which will be carried down to "PT12H" (12 hours).
      When fractions of month cannot be meaningfully carried down
      to days, or year to months, this will cause an
      <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> to be thrown.
      For example if you multiple one month by 0.5.</p>
      <p>
      To avoid <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>, use
      the {@link #normalizeWith(Calendar)} method to remove the years
      and months fields.
      @param factor to multiply by
      @return
           returns a non-null valid <code>Duration</code> object
      @throws IllegalStateException if operation produces fraction in
      the months field.
      @throws NullPointerException if the <code>factor</code> parameter is
      <code>null</code>.</p></div>
<a id="L693" name="L693"></a> 693     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/23405.html" title="Multiple referred from 61 places.">multiply</a>(<strong class="reserved">final</strong> <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> factor);
<a id="L694" name="L694"></a> 694 
<div class="comment">
      Returns a new <code>Duration</code> object whose
      value is <code>-this</code>.
      <p>
      Since the <code>Duration</code> class is immutable, this method
      doesn't change the value of this object. It simply computes
      a new Duration object and returns it.
      @return
           always return a non-null valid <code>Duration</code> object.</p></div>
<a id="L707" name="L707"></a> 707     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> <a href="../R/23510.html" title="Multiple referred from 53 places.">negate</a>();
<a id="L708" name="L708"></a> 708 
<div class="comment">
      <p>Converts the years and months fields into the days field
      by using a specific time instant as the reference point.</p>
      <p>For example, duration of one month normalizes to 31 days
      given the start time instance "July 8th 2003, 17:40:32".</p>
      <p>Formally, the computation is done as follows:</p>
      <ol>
       <li>the given Calendar object is cloned</li><li>the years, months and days fields will be added to the <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> object
           by using the {@link Calendar#add(int,int)} method</li><li>the difference between the two Calendars in computed in milliseconds and converted to days,
          if a remainder occurs due to Daylight Savings Time, it is discarded</li><li>the computed days, along with the hours, minutes and seconds
           fields of this duration object is used to construct a new
           Duration object.</li>
      </ol>
      <p>Note that since the Calendar class uses <code>int</code> to
      hold the value of year and month, this method may produce
      an unexpected result if this duration object holds
      a very large value in the years or months fields.</p>
      @param startTimeInstant <code>Calendar</code> reference point.
      @return <code>Duration</code> of years and months of this <code>Duration</code> as days.
      @throws NullPointerException If the startTimeInstant parameter is null.</div>
<a id="L739" name="L739"></a> 739     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> normalizeWith(<strong class="reserved">final</strong> <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> startTimeInstant);
<a id="L740" name="L740"></a> 740 
<div class="comment">
      <p>Partial order relation comparison with this <code>Duration</code> instance.</p>
      <p>Comparison result must be in accordance with
      <a href="http://www.w3.org/TR/xmlschema-2/#duration-order">W3C XML Schema 1.0 Part 2, Section 3.2.7.6.2,
      <i>Order relation on duration</i></a>.</p>
      <p>Return:</p>
      <ul><li>{@link DatatypeConstants#LESSER} if this <code>Duration</code> is shorter than <code>duration</code> parameter</li><li>{@link DatatypeConstants#EQUAL} if this <code>Duration</code> is equal to <code>duration</code> parameter</li><li>{@link DatatypeConstants#GREATER} if this <code>Duration</code> is longer than <code>duration</code> parameter</li><li>{@link DatatypeConstants#INDETERMINATE} if a conclusive partial order relation cannot be determined</li>
      </ul>
      @param duration to compare
      @return the relationship between <code>this</code> <code>Duration</code>and <code>duration</code> parameter as
        {@link DatatypeConstants#LESSER}, {@link DatatypeConstants#EQUAL}, {@link DatatypeConstants#GREATER}
        or {@link DatatypeConstants#INDETERMINATE}.
      @throws UnsupportedOperationException If the underlying implementation
        cannot reasonably process the request, e.g. W3C XML Schema allows for
        arbitrarily large/small/precise values, the request may be beyond the
        implementations capability.
      @throws NullPointerException if <code>duration</code> is <code>null</code>.
      @see #isShorterThan(Duration)
      @see #isLongerThan(Duration)</div>
<a id="L771" name="L771"></a> 771     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/11691.html" title="Multiple referred from 208 places.">compare</a>(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> duration);
<a id="L772" name="L772"></a> 772 
<div class="comment">
      <p>Checks if this duration object is strictly longer than
      another <code>Duration</code> object.</p>
      <p>Duration X is "longer" than Y if and only if X&gt;Y
      as defined in the section 3.2.6.2 of the XML Schema 1.0
      specification.</p>
      <p>For example, "P1D" (one day) &gt; "PT12H" (12 hours) and
      "P2Y" (two years) &gt; "P23M" (23 months).</p>
      @param duration <code>Duration</code> to test this <code>Duration</code> against.
      @throws UnsupportedOperationException If the underlying implementation
        cannot reasonably process the request, e.g. W3C XML Schema allows for
        arbitrarily large/small/precise values, the request may be beyond the
        implementations capability.
      @throws NullPointerException If <code>duration</code> is null.
      @return
           true if the duration represented by this object
           is longer than the given duration. false otherwise.
      @see #isShorterThan(Duration)
      @see #compare(Duration duration)</div>
<a id="L799" name="L799"></a> 799     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> isLongerThan(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> duration) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800         <strong class="reserved">return</strong> <a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(duration) == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.GREATER;
<a id="L801" name="L801"></a> 801     <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 
<div class="comment">
      <p>Checks if this duration object is strictly shorter than
      another <code>Duration</code> object.</p>
      @param duration <code>Duration</code> to test this <code>Duration</code> against.
      @return <code>true</code> if <code>duration</code> parameter is shorter than this <code>Duration</code>,
        else <code>false</code>.
      @throws UnsupportedOperationException If the underlying implementation
        cannot reasonably process the request, e.g. W3C XML Schema allows for
        arbitrarily large/small/precise values, the request may be beyond the
        implementations capability.
      @throws NullPointerException if <code>duration</code> is null.
      @see #isLongerThan(Duration duration)
      @see #compare(Duration duration)</div>
<a id="L821" name="L821"></a> 821     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/5016.html#L530" title="Referred from 530 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/Token.java.">isShorterThan</a>(<strong class="reserved">final</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a> duration) <em class="brace">{</em>
<a id="L822" name="L822"></a> 822         <strong class="reserved">return</strong> <a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>(duration) == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.LESSER;
<a id="L823" name="L823"></a> 823     <em class="brace">}</em>
<a id="L824" name="L824"></a> 824 
<div class="comment">
      <p>Checks if this duration object has the same duration
      as another <code>Duration</code> object.</p>
      <p>For example, "P1D" (1 day) is equal to "PT24H" (24 hours).</p>
      <p>Duration X is equal to Y if and only if time instant
      t+X and t+Y are the same for all the test time instants
      specified in the section 3.2.6.2 of the XML Schema 1.0
      specification.</p>
      <p>Note that there are cases where two <code>Duration</code>s are
      "incomparable" to each other, like one month and 30 days.
      For example,</p>
      <pre>      !new Duration("P1M").isShorterThan(new Duration("P30D"))
      !new Duration("P1M").isLongerThan(new Duration("P30D"))
      !new Duration("P1M").equals(new Duration("P30D"))
      </pre>
      @param duration
           The object to compare this <code>Duration</code> against.
      @return
           <code>true</code> if this duration is the same length as
              <code>duration</code>.
           <code>false</code> if <code>duration</code> is <code>null</code>,
              is not a
              <code>Duration</code> object,
              or its length is different from this duration.
      @throws UnsupportedOperationException If the underlying implementation
        cannot reasonably process the request, e.g. W3C XML Schema allows for
        arbitrarily large/small/precise values, the request may be beyond the
        implementations capability.
      @see #compare(Duration duration)</div>
<a id="L863" name="L863"></a> 863     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> duration) <em class="brace">{</em>
<a id="L864" name="L864"></a> 864 
<a id="L865" name="L865"></a> 865         <strong class="reserved">if</strong> (duration == <strong class="reserved">null</strong> || !(duration <strong class="reserved">instanceof</strong> <a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>)) <em class="brace">{</em>
<a id="L866" name="L866"></a> 866             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L867" name="L867"></a> 867         <em class="brace">}</em>
<a id="L868" name="L868"></a> 868 
<a id="L869" name="L869"></a> 869         <strong class="reserved">return</strong> <a href="../D/13032.html" title="Multiple defined in 71 places.">compare</a>((<a href="../D/2667.html" title="Multiple defined in 2 places.">Duration</a>) duration) == <a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.EQUAL;
<a id="L870" name="L870"></a> 870     <em class="brace">}</em>
<a id="L871" name="L871"></a> 871 
<div class="comment">
      Returns a hash code consistent with the definition of the equals method.
      @see Object#hashCode()</div>
<a id="L877" name="L877"></a> 877     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>();
<a id="L878" name="L878"></a> 878 
<div class="comment">
      <p>Returns a <code>String</code> representation of this <code>Duration</code> <code>Object</code>.</p>
      <p>The result is formatted according to the XML Schema 1.0 spec and can be always parsed back later into the
      equivalent <code>Duration</code> <code>Object</code> by {@link DatatypeFactory#newDuration(String  lexicalRepresentation)}.</p>
      <p>Formally, the following holds for any <code>Duration</code>
      <code>Object</code> x:</p>
      <pre>      new Duration(x.toString()).equals(x)
      </pre>
      @return A non-<code>null</code> valid <code>String</code> representation of this <code>Duration</code>.</div>
<a id="L893" name="L893"></a> 893     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L894" name="L894"></a> 894 
<a id="L895" name="L895"></a> 895         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L896" name="L896"></a> 896 
<a id="L897" name="L897"></a> 897         <strong class="reserved">if</strong> (<a href="../D/22503.html" title="Multiple defined in 2 places.">getSign</a>() &lt; 0) <em class="brace">{</em>
<a id="L898" name="L898"></a> 898             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('-');
<a id="L899" name="L899"></a> 899         <em class="brace">}</em>
<a id="L900" name="L900"></a> 900         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('P');
<a id="L901" name="L901"></a> 901 
<a id="L902" name="L902"></a> 902         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> years = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L149" title="Defined at 149 in src/java/time/temporal/ChronoUnit.java.">YEARS</a>);
<a id="L903" name="L903"></a> 903         <strong class="reserved">if</strong> (years != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L904" name="L904"></a> 904             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(years + "Y");
<a id="L905" name="L905"></a> 905         <em class="brace">}</em>
<a id="L906" name="L906"></a> 906 
<a id="L907" name="L907"></a> 907         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> months = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L140" title="Defined at 140 in src/java/time/temporal/ChronoUnit.java.">MONTHS</a>);
<a id="L908" name="L908"></a> 908         <strong class="reserved">if</strong> (months != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L909" name="L909"></a> 909             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(months + "M");
<a id="L910" name="L910"></a> 910         <em class="brace">}</em>
<a id="L911" name="L911"></a> 911 
<a id="L912" name="L912"></a> 912         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> days = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L125" title="Defined at 125 in src/java/time/temporal/ChronoUnit.java.">DAYS</a>);
<a id="L913" name="L913"></a> 913         <strong class="reserved">if</strong> (days != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L914" name="L914"></a> 914             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(days + "D");
<a id="L915" name="L915"></a> 915         <em class="brace">}</em>
<a id="L916" name="L916"></a> 916 
<a id="L917" name="L917"></a> 917         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> hours = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L109" title="Defined at 109 in src/java/time/temporal/ChronoUnit.java.">HOURS</a>);
<a id="L918" name="L918"></a> 918         <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> minutes = (<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L104" title="Defined at 104 in src/java/time/temporal/ChronoUnit.java.">MINUTES</a>);
<a id="L919" name="L919"></a> 919         <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> seconds = (<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a>) <a href="../D/19018.html" title="Multiple defined in 13 places.">getField</a>(<a href="../S/3906.html#L38" title="Defined at 38 in src/javax/xml/datatype/DatatypeConstants.java.">DatatypeConstants</a>.<a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L920" name="L920"></a> 920         <strong class="reserved">if</strong> (hours != <strong class="reserved">null</strong> || minutes != <strong class="reserved">null</strong> || seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('T');
<a id="L922" name="L922"></a> 922             <strong class="reserved">if</strong> (hours != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L923" name="L923"></a> 923                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(hours + "H");
<a id="L924" name="L924"></a> 924             <em class="brace">}</em>
<a id="L925" name="L925"></a> 925             <strong class="reserved">if</strong> (minutes != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L926" name="L926"></a> 926                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(minutes + "M");
<a id="L927" name="L927"></a> 927             <em class="brace">}</em>
<a id="L928" name="L928"></a> 928             <strong class="reserved">if</strong> (seconds != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L929" name="L929"></a> 929                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(seconds) + "S");
<a id="L930" name="L930"></a> 930             <em class="brace">}</em>
<a id="L931" name="L931"></a> 931         <em class="brace">}</em>
<a id="L932" name="L932"></a> 932 
<a id="L933" name="L933"></a> 933         <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L934" name="L934"></a> 934     <em class="brace">}</em>
<a id="L935" name="L935"></a> 935 
<div class="comment">
      <p>Turns <a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> to a string representation.</p>
      <p>Due to a behavior change in the {@link BigDecimal#toString()}
      method in JDK1.5, this had to be implemented here.</p>
      @param bd <code>BigDecimal</code> to format as a <code>String</code>
      @return  <code>String</code> representation of <code>BigDecimal</code></div>
<a id="L946" name="L946"></a> 946     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>(<a href="../S/1464.html#L220" title="Defined at 220 in src/java/math/BigDecimal.java.">BigDecimal</a> bd) <em class="brace">{</em>
<a id="L947" name="L947"></a> 947         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> intString = bd.<a href="../S/1464.html#L2255" title="Defined at 2255 in src/java/math/BigDecimal.java.">unscaledValue</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L948" name="L948"></a> 948         <strong class="reserved">int</strong> <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a> = bd.<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>();
<a id="L949" name="L949"></a> 949 
<a id="L950" name="L950"></a> 950         <strong class="reserved">if</strong> (<a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a> == 0) <em class="brace">{</em>
<a id="L951" name="L951"></a> 951             <strong class="reserved">return</strong> intString;
<a id="L952" name="L952"></a> 952         <em class="brace">}</em>
<a id="L953" name="L953"></a> 953 
<div class="comment">
         /* Insert decimal point */</div>
<a id="L955" name="L955"></a> 955         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>;
<a id="L956" name="L956"></a> 956         <strong class="reserved">int</strong> insertionPoint = intString.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - <a href="../D/31554.html" title="Multiple defined in 10 places.">scale</a>;
<a id="L957" name="L957"></a> 957         <strong class="reserved">if</strong> (insertionPoint == 0) <div class="comment">
/* Point goes right before intVal */</div>
<a id="L958" name="L958"></a> 958             <strong class="reserved">return</strong> "0." + intString;
<a id="L959" name="L959"></a> 959         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (insertionPoint &gt; 0) <div class="comment">
/* Point goes inside intVal */</div>
<a id="L960" name="L960"></a> 960             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(intString);
<a id="L961" name="L961"></a> 961             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/24721.html" title="Multiple defined in 265 places.">insert</a>(insertionPoint, '.');
<a id="L962" name="L962"></a> 962         <em class="brace">}</em> <strong class="reserved">else</strong> <div class="comment">
/* We must insert zeros between point and intVal */</div>
<a id="L963" name="L963"></a> 963             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(3 - insertionPoint + intString.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L964" name="L964"></a> 964             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("0.");
<a id="L965" name="L965"></a> 965             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; -insertionPoint; i++) <em class="brace">{</em>
<a id="L966" name="L966"></a> 966                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('0');
<a id="L967" name="L967"></a> 967             <em class="brace">}</em>
<a id="L968" name="L968"></a> 968             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(intString);
<a id="L969" name="L969"></a> 969         <em class="brace">}</em>
<a id="L970" name="L970"></a> 970         <strong class="reserved">return</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L971" name="L971"></a> 971     <em class="brace">}</em>
<a id="L972" name="L972"></a> 972 
<a id="L973" name="L973"></a> 973 
<div class="comment">
      <p>Calls the {@link Calendar#getTimeInMillis} method.
      Prior to JDK1.4, this method was protected and therefore
      cannot be invoked directly.</p>
      <p>TODO: In future, this should be replaced by <code>cal.getTimeInMillis()</code>.</p>
      @param cal <code>Calendar</code> to get time in milliseconds.
      @return Milliseconds of <code>cal</code>.</div>
<a id="L985" name="L985"></a> 985     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">long</strong> <a href="../R/15425.html" title="Multiple referred from 10 places.">getCalendarTimeInMillis</a>(<strong class="reserved">final</strong> <a href="../S/866.html#L313" title="Defined at 313 in src/java/util/Calendar.java.">Calendar</a> cal) <em class="brace">{</em>
<a id="L986" name="L986"></a> 986         <strong class="reserved">return</strong> cal.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>().<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>();
<a id="L987" name="L987"></a> 987     <em class="brace">}</em>
<a id="L988" name="L988"></a> 988 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L179">[^]</a><a href="#L985">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>