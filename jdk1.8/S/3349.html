<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/CompositeView.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L101">[^]</a><a href="#L784">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L101" title="Defined at 101.">loadChildren</a></li>
<li><a href="#L135" title="Defined at 135.">setParent</a></li>
<li><a href="#L149" title="Defined at 149.">getViewCount</a></li>
<li><a href="#L159" title="Defined at 159.">getView</a></li>
<li><a href="#L179" title="Defined at 179.">replace</a></li>
<li><a href="#L230" title="Defined at 230.">getChildAllocation</a></li>
<li><a href="#L249" title="Defined at 249.">modelToView</a></li>
<li><a href="#L300" title="Defined at 300.">modelToView</a></li>
<li><a href="#L390" title="Defined at 390.">viewToModel</a></li>
<li><a href="#L463" title="Defined at 463.">getNextVisualPositionFrom</a></li>
<li><a href="#L500" title="Defined at 500.">getViewIndex</a></li>
<li><a href="#L521" title="Defined at 521.">isBefore</a></li>
<li><a href="#L531" title="Defined at 531.">isAfter</a></li>
<li><a href="#L542" title="Defined at 542.">getViewAtPoint</a></li>
<li><a href="#L551" title="Defined at 551.">childAllocation</a></li>
<li><a href="#L564" title="Defined at 564.">getViewAtPosition</a></li>
<li><a href="#L585" title="Defined at 585.">getViewIndexAtPosition</a></li>
<li><a href="#L608" title="Defined at 608.">getInsideAllocation</a></li>
<li><a href="#L637" title="Defined at 637.">setParagraphInsets</a></li>
<li><a href="#L655" title="Defined at 655.">setInsets</a></li>
<li><a href="#L667" title="Defined at 667.">getLeftInset</a></li>
<li><a href="#L676" title="Defined at 676.">getRightInset</a></li>
<li><a href="#L685" title="Defined at 685.">getTopInset</a></li>
<li><a href="#L694" title="Defined at 694.">getBottomInset</a></li>
<li><a href="#L722" title="Defined at 722.">getNextNorthSouthVisualPositionFrom</a></li>
<li><a href="#L752" title="Defined at 752.">getNextEastWestVisualPositionFrom</a></li>
<li><a href="#L784" title="Defined at 784.">flipEastAndWestAtEnds</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.Vector;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> javax.swing.SwingConstants;
<a id="L31" name="L31"></a>  31 
<div class="comment">
  <code>CompositeView</code> is an abstract <code>View</code>
  implementation which manages one or more child views.
  (Note that <code>CompositeView</code> is intended
  for managing relatively small numbers of child views.)
  <code>CompositeView</code> is intended to be used as
  a starting point for <code>View</code> implementations,
  such as <code>BoxView</code>, that will contain child
  <code>View</code>s. Subclasses that wish to manage the
  collection of child <code>View</code>s should use the
  {@link #replace} method.  As <code>View</code> invokes
  <code>replace</code> during <code>DocumentListener</code>
  notification, you normally won't need to directly
  invoke <code>replace</code>.
  <p>While <code>CompositeView</code>
  does not impose a layout policy on its child <code>View</code>s,
  it does allow for inseting the child <code>View</code>s
  it will contain.  The insets can be set by either
  {@link #setInsets} or {@link #setParagraphInsets}.
  </p><p>In addition to the abstract methods of
  {@link javax.swing.text.View},
  subclasses of <code>CompositeView</code> will need to
  override:
  </p><ul><li>{@link #isBefore} - Used to test if a given
      <code>View</code> location is before the visual space
      of the <code>CompositeView</code>.
  </li><li>{@link #isAfter} - Used to test if a given
      <code>View</code> location is after the visual space
      of the <code>CompositeView</code>.
  </li><li>{@link #getViewAtPoint} - Returns the view at
      a given visual location.
  </li><li>{@link #childAllocation} - Returns the bounds of
      a particular child <code>View</code>.
      <code>getChildAllocation</code> will invoke
      <code>childAllocation</code> after offseting
      the bounds by the <code>Inset</code>s of the
      <code>CompositeView</code>.
  </li></ul>
  @author  Timothy Prinzing</div>
<a id="L76" name="L76"></a>  76 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/1614.html" title="Multiple referred from 8 places.">CompositeView</a> <strong class="reserved">extends</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <em class="brace">{</em>
<a id="L77" name="L77"></a>  77 
<div class="comment">
      Constructs a <code>CompositeView</code> for the given element.
      @param elem  the element this view is responsible for</div>
<a id="L83" name="L83"></a>  83     <strong class="reserved">public</strong> CompositeView(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<a id="L84" name="L84"></a>  84         <strong class="reserved">super</strong>(elem);
<a id="L85" name="L85"></a>  85         <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[1];
<a id="L86" name="L86"></a>  86         nchildren = 0;
<a id="L87" name="L87"></a>  87         childAlloc = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>();
<a id="L88" name="L88"></a>  88     <em class="brace">}</em>
<a id="L89" name="L89"></a>  89 
<div class="comment">
      Loads all of the children to initialize the view.
      This is called by the {@link #setParent}
      method.  Subclasses can reimplement this to initialize
      their child views in a different manner.  The default
      implementation creates a child view for each
      child element.
      @param f the view factory
      @see #setParent</div>
<a id="L101" name="L101"></a> 101     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/22554.html" title="Multiple referred from 11 places.">loadChildren</a>(<a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f) <em class="brace">{</em>
<a id="L102" name="L102"></a> 102         <strong class="reserved">if</strong> (f == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L103" name="L103"></a> 103             <em class="comment">// No factory. This most likely indicates the parent view</em>
<a id="L104" name="L104"></a> 104             <em class="comment">// has changed out from under us, bail!</em>
<a id="L105" name="L105"></a> 105             <strong class="reserved">return</strong>;
<a id="L106" name="L106"></a> 106         <em class="brace">}</em>
<a id="L107" name="L107"></a> 107         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L108" name="L108"></a> 108         <strong class="reserved">int</strong> n = e.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L109" name="L109"></a> 109         <strong class="reserved">if</strong> (n &gt; 0) <em class="brace">{</em>
<a id="L110" name="L110"></a> 110             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] added = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[n];
<a id="L111" name="L111"></a> 111             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n; i++) <em class="brace">{</em>
<a id="L112" name="L112"></a> 112                 added[i] = f.<a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(i));
<a id="L113" name="L113"></a> 113             <em class="brace">}</em>
<a id="L114" name="L114"></a> 114             <a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0, 0, added);
<a id="L115" name="L115"></a> 115         <em class="brace">}</em>
<a id="L116" name="L116"></a> 116     <em class="brace">}</em>
<a id="L117" name="L117"></a> 117 
<a id="L118" name="L118"></a> 118     <em class="comment">// --- View methods ---------------------------------------------</em>
<a id="L119" name="L119"></a> 119 
<div class="comment">
      Sets the parent of the view.
      This is reimplemented to provide the superclass
      behavior as well as calling the <code>loadChildren</code>
      method if this view does not already have children.
      The children should not be loaded in the
      constructor because the act of setting the parent
      may cause them to try to search up the hierarchy
      (to get the hosting <code>Container</code> for example).
      If this view has children (the view is being moved
      from one place in the view hierarchy to another),
      the <code>loadChildren</code> method will not be called.
      @param parent the parent of the view, <code>null</code> if none</div>
<a id="L135" name="L135"></a> 135     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27912.html" title="Multiple referred from 145 places.">setParent</a>(<a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136         <strong class="reserved">super</strong>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L137" name="L137"></a> 137         <strong class="reserved">if</strong> ((<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) &amp;&amp; (nchildren == 0)) <em class="brace">{</em>
<a id="L138" name="L138"></a> 138             <a href="../S/3243.html#L36" title="Defined at 36 in src/javax/swing/text/ViewFactory.java.">ViewFactory</a> f = <a href="../D/23602.html" title="Multiple defined in 10 places.">getViewFactory</a>();
<a id="L139" name="L139"></a> 139             <a href="../D/26900.html" title="Multiple defined in 14 places.">loadChildren</a>(f);
<a id="L140" name="L140"></a> 140         <em class="brace">}</em>
<a id="L141" name="L141"></a> 141     <em class="brace">}</em>
<a id="L142" name="L142"></a> 142 
<div class="comment">
      Returns the number of child views of this view.
      @return the number of views &gt;= 0
      @see #getView</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19805.html" title="Multiple referred from 108 places.">getViewCount</a>() <em class="brace">{</em>
<a id="L150" name="L150"></a> 150         <strong class="reserved">return</strong> nchildren;
<a id="L151" name="L151"></a> 151     <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<div class="comment">
      Returns the n-th view in this container.
      @param n the number of the desired view, &gt;= 0 &amp;&amp; &lt; getViewCount()
      @return the view at index <code>n</code></div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">public</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19801.html" title="Multiple referred from 186 places.">getView</a>(<strong class="reserved">int</strong> n) <em class="brace">{</em>
<a id="L160" name="L160"></a> 160         <strong class="reserved">return</strong> <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[n];
<a id="L161" name="L161"></a> 161     <em class="brace">}</em>
<a id="L162" name="L162"></a> 162 
<div class="comment">
      Replaces child views.  If there are no views to remove
      this acts as an insert.  If there are no views to
      add this acts as a remove.  Views being removed will
      have the parent set to <code>null</code>,
      and the internal reference to them removed so that they
      may be garbage collected.
      @param offset the starting index into the child views to insert
        the new views; &gt;= 0 and &lt;= getViewCount
      @param length the number of existing child views to remove;
        this should be a value &gt;= 0 and &lt;= (getViewCount() - offset)
      @param views the child views to add; this value can be
       <code>null</code>
        to indicate no children are being added (useful to remove)</div>
<a id="L179" name="L179"></a> 179     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26140.html" title="Multiple referred from 310 places.">replace</a>(<strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] views) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180         <em class="comment">// make sure an array exists</em>
<a id="L181" name="L181"></a> 181         <strong class="reserved">if</strong> (views == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182             views = ZERO;
<a id="L183" name="L183"></a> 183         <em class="brace">}</em>
<a id="L184" name="L184"></a> 184 
<a id="L185" name="L185"></a> 185         <em class="comment">// update parent reference on removed views</em>
<a id="L186" name="L186"></a> 186         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>; i &lt; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L187" name="L187"></a> 187             <strong class="reserved">if</strong> (<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[i].<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>() == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188                 <em class="comment">// in FlowView.java view might be referenced</em>
<a id="L189" name="L189"></a> 189                 <em class="comment">// from two super-views as a child. see logicalView</em>
<a id="L190" name="L190"></a> 190                 <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[i].<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">null</strong>);
<a id="L191" name="L191"></a> 191             <em class="brace">}</em>
<a id="L192" name="L192"></a> 192             <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>[i] = <strong class="reserved">null</strong>;
<a id="L193" name="L193"></a> 193         <em class="brace">}</em>
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195         <em class="comment">// update the array</em>
<a id="L196" name="L196"></a> 196         <strong class="reserved">int</strong> delta = views.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L197" name="L197"></a> 197         <strong class="reserved">int</strong> src = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L198" name="L198"></a> 198         <strong class="reserved">int</strong> nmove = nchildren - src;
<a id="L199" name="L199"></a> 199         <strong class="reserved">int</strong> dest = src + delta;
<a id="L200" name="L200"></a> 200         <strong class="reserved">if</strong> ((nchildren + delta) &gt;= <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201             <em class="comment">// need to grow the array</em>
<a id="L202" name="L202"></a> 202             <strong class="reserved">int</strong> newLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(2*<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, nchildren + delta);
<a id="L203" name="L203"></a> 203             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] newChildren = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[newLength];
<a id="L204" name="L204"></a> 204             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, 0, newChildren, 0, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L205" name="L205"></a> 205             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(views, 0, newChildren, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, views.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L206" name="L206"></a> 206             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, src, newChildren, dest, nmove);
<a id="L207" name="L207"></a> 207             <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a> = newChildren;
<a id="L208" name="L208"></a> 208         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L209" name="L209"></a> 209             <em class="comment">// patch the existing array</em>
<a id="L210" name="L210"></a> 210             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, src, <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, dest, nmove);
<a id="L211" name="L211"></a> 211             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(views, 0, <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, views.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L212" name="L212"></a> 212         <em class="brace">}</em>
<a id="L213" name="L213"></a> 213         nchildren = nchildren + delta;
<a id="L214" name="L214"></a> 214 
<a id="L215" name="L215"></a> 215         <em class="comment">// update parent reference on added views</em>
<a id="L216" name="L216"></a> 216         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; views.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217             views[i].<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">this</strong>);
<a id="L218" name="L218"></a> 218         <em class="brace">}</em>
<a id="L219" name="L219"></a> 219     <em class="brace">}</em>
<a id="L220" name="L220"></a> 220 
<div class="comment">
      Fetches the allocation for the given child view to
      render into. This enables finding out where various views
      are located.
      @param index the index of the child, &gt;= 0 &amp;&amp; &lt; getViewCount()
      @param a  the allocation to this view
      @return the allocation to the child</div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/15537.html" title="Multiple referred from 23 places.">getChildAllocation</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/3349.html#L608" title="Defined at 608 in src/javax/swing/text/CompositeView.java.">getInsideAllocation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L232" name="L232"></a> 232         <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, alloc);
<a id="L233" name="L233"></a> 233         <strong class="reserved">return</strong> alloc;
<a id="L234" name="L234"></a> 234     <em class="brace">}</em>
<a id="L235" name="L235"></a> 235 
<div class="comment">
      Provides a mapping from the document model coordinate space
      to the coordinate space of the view mapped to it.
      @param pos the position to convert &gt;= 0
      @param a the allocated region to render into
      @param b a bias value of either <code>Position.Bias.Forward</code>
       or <code>Position.Bias.Backward</code>
      @return the bounding box of the given position
      @exception BadLocationException  if the given position does
        not represent a valid location in the associated document
      @see View#modelToView</div>
<a id="L249" name="L249"></a> 249     <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> pos, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L250" name="L250"></a> 250         <strong class="reserved">boolean</strong> isBackward = (b == <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward);
<a id="L251" name="L251"></a> 251         <strong class="reserved">int</strong> testPos = (isBackward) ? <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, pos - 1) : pos;
<a id="L252" name="L252"></a> 252         <strong class="reserved">if</strong>(isBackward &amp;&amp; testPos &lt; <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>()) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L254" name="L254"></a> 254         <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">int</strong> vIndex = <a href="../D/23605.html" title="Multiple defined in 8 places.">getViewIndexAtPosition</a>(testPos);
<a id="L256" name="L256"></a> 256         <strong class="reserved">if</strong> ((vIndex != -1) &amp;&amp; (vIndex &lt; <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>())) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(vIndex);
<a id="L258" name="L258"></a> 258             <strong class="reserved">if</strong>(v != <strong class="reserved">null</strong> &amp;&amp; testPos &gt;= v.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &amp;&amp;
<a id="L259" name="L259"></a> 259                testPos &lt; v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L260" name="L260"></a> 260                 <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> childShape = <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(vIndex, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L261" name="L261"></a> 261                 <strong class="reserved">if</strong> (childShape == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262                     <em class="comment">// We are likely invalid, fail.</em>
<a id="L263" name="L263"></a> 263                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L264" name="L264"></a> 264                 <em class="brace">}</em>
<a id="L265" name="L265"></a> 265                 <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> retShape = v.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, childShape, b);
<a id="L266" name="L266"></a> 266                 <strong class="reserved">if</strong>(retShape == <strong class="reserved">null</strong> &amp;&amp; v.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() == pos) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267                     <strong class="reserved">if</strong>(++vIndex &lt; <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>()) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                         v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(vIndex);
<a id="L269" name="L269"></a> 269                         retShape = v.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(pos, <a href="../D/17628.html" title="Multiple defined in 7 places.">getChildAllocation</a>(vIndex, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>), b);
<a id="L270" name="L270"></a> 270                     <em class="brace">}</em>
<a id="L271" name="L271"></a> 271                 <em class="brace">}</em>
<a id="L272" name="L272"></a> 272                 <strong class="reserved">return</strong> retShape;
<a id="L273" name="L273"></a> 273             <em class="brace">}</em>
<a id="L274" name="L274"></a> 274         <em class="brace">}</em>
<a id="L275" name="L275"></a> 275         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Position not represented by view",
<a id="L276" name="L276"></a> 276                                        pos);
<a id="L277" name="L277"></a> 277     <em class="brace">}</em>
<a id="L278" name="L278"></a> 278 
<div class="comment">
      Provides a mapping from the document model coordinate space
      to the coordinate space of the view mapped to it.
      @param p0 the position to convert &gt;= 0
      @param b0 the bias toward the previous character or the
       next character represented by p0, in case the
       position is a boundary of two views; either
       <code>Position.Bias.Forward</code> or
       <code>Position.Bias.Backward</code>
      @param p1 the position to convert &gt;= 0
      @param b1 the bias toward the previous character or the
       next character represented by p1, in case the
       position is a boundary of two views
      @param a the allocated region to render into
      @return the bounding box of the given position is returned
      @exception BadLocationException  if the given position does
        not represent a valid location in the associated document
      @exception IllegalArgumentException for an invalid bias argument
      @see View#viewToModel</div>
<a id="L300" name="L300"></a> 300     <strong class="reserved">public</strong> <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> p0, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b0, <strong class="reserved">int</strong> p1, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b1, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L301" name="L301"></a> 301         <strong class="reserved">if</strong> (p0 == <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>() &amp;&amp; p1 == <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>()) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302             <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L303" name="L303"></a> 303         <em class="brace">}</em>
<a id="L304" name="L304"></a> 304         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/3349.html#L608" title="Defined at 608 in src/javax/swing/text/CompositeView.java.">getInsideAllocation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L305" name="L305"></a> 305         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r0 = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(alloc);
<a id="L306" name="L306"></a> 306         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v0 = <a href="../D/23599.html" title="Multiple defined in 5 places.">getViewAtPosition</a>((b0 == <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward) ?
<a id="L307" name="L307"></a> 307                                     <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, p0 - 1) : p0, r0);
<a id="L308" name="L308"></a> 308         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r1 = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>(alloc);
<a id="L309" name="L309"></a> 309         <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v1 = <a href="../D/23599.html" title="Multiple defined in 5 places.">getViewAtPosition</a>((b1 == <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward) ?
<a id="L310" name="L310"></a> 310                                     <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(0, p1 - 1) : p1, r1);
<a id="L311" name="L311"></a> 311         <strong class="reserved">if</strong> (v0 == v1) <em class="brace">{</em>
<a id="L312" name="L312"></a> 312             <strong class="reserved">if</strong> (v0 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L313" name="L313"></a> 313                 <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L314" name="L314"></a> 314             <em class="brace">}</em>
<a id="L315" name="L315"></a> 315             <em class="comment">// Range contained in one view</em>
<a id="L316" name="L316"></a> 316             <strong class="reserved">return</strong> v0.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p0, b0, p1, b1, r0);
<a id="L317" name="L317"></a> 317         <em class="brace">}</em>
<a id="L318" name="L318"></a> 318         <em class="comment">// Straddles some views.</em>
<a id="L319" name="L319"></a> 319         <strong class="reserved">int</strong> viewCount = <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>();
<a id="L320" name="L320"></a> 320         <strong class="reserved">int</strong> counter = 0;
<a id="L321" name="L321"></a> 321         <strong class="reserved">while</strong> (counter &lt; viewCount) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v;
<a id="L323" name="L323"></a> 323             <em class="comment">// Views may not be in same order as model.</em>
<a id="L324" name="L324"></a> 324             <em class="comment">// v0 or v1 may be null if there is a gap in the range this</em>
<a id="L325" name="L325"></a> 325             <em class="comment">// view contains.</em>
<a id="L326" name="L326"></a> 326             <strong class="reserved">if</strong> ((v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(counter)) == v0 || v == v1) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> endView;
<a id="L328" name="L328"></a> 328                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> retRect;
<a id="L329" name="L329"></a> 329                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> tempRect = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>();
<a id="L330" name="L330"></a> 330                 <strong class="reserved">if</strong> (v == v0) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331                     retRect = v0.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p0, b0, v0.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>(),
<a id="L332" name="L332"></a> 332                                              <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward, r0).
<a id="L333" name="L333"></a> 333                               <a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L334" name="L334"></a> 334                     endView = v1;
<a id="L335" name="L335"></a> 335                 <em class="brace">}</em>
<a id="L336" name="L336"></a> 336                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L337" name="L337"></a> 337                     retRect = v1.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(v1.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L338" name="L338"></a> 338                                              <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward,
<a id="L339" name="L339"></a> 339                                              p1, b1, r1).<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L340" name="L340"></a> 340                     endView = v0;
<a id="L341" name="L341"></a> 341                 <em class="brace">}</em>
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343                 <em class="comment">// Views entirely covered by range.</em>
<a id="L344" name="L344"></a> 344                 <strong class="reserved">while</strong> (++counter &lt; viewCount &amp;&amp;
<a id="L345" name="L345"></a> 345                        (v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(counter)) != endView) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346                     tempRect.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(alloc);
<a id="L347" name="L347"></a> 347                     <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(counter, tempRect);
<a id="L348" name="L348"></a> 348                     retRect.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(tempRect);
<a id="L349" name="L349"></a> 349                 <em class="brace">}</em>
<a id="L350" name="L350"></a> 350 
<a id="L351" name="L351"></a> 351                 <em class="comment">// End view.</em>
<a id="L352" name="L352"></a> 352                 <strong class="reserved">if</strong> (endView != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353                     <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> endShape;
<a id="L354" name="L354"></a> 354                     <strong class="reserved">if</strong> (endView == v1) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355                         endShape = v1.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(v1.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(),
<a id="L356" name="L356"></a> 356                                                   <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward,
<a id="L357" name="L357"></a> 357                                                   p1, b1, r1);
<a id="L358" name="L358"></a> 358                     <em class="brace">}</em>
<a id="L359" name="L359"></a> 359                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360                         endShape = v0.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(p0, b0, v0.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>(),
<a id="L361" name="L361"></a> 361                                                   <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward, r0);
<a id="L362" name="L362"></a> 362                     <em class="brace">}</em>
<a id="L363" name="L363"></a> 363                     <strong class="reserved">if</strong> (endShape <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364                         retRect.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>((<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)endShape);
<a id="L365" name="L365"></a> 365                     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L367" name="L367"></a> 367                         retRect.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(endShape.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>());
<a id="L368" name="L368"></a> 368                     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369                 <em class="brace">}</em>
<a id="L370" name="L370"></a> 370                 <strong class="reserved">return</strong> retRect;
<a id="L371" name="L371"></a> 371             <em class="brace">}</em>
<a id="L372" name="L372"></a> 372             counter++;
<a id="L373" name="L373"></a> 373         <em class="brace">}</em>
<a id="L374" name="L374"></a> 374         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Position not represented by view", p0);
<a id="L375" name="L375"></a> 375     <em class="brace">}</em>
<a id="L376" name="L376"></a> 376 
<div class="comment">
      Provides a mapping from the view coordinate space to the logical
      coordinate space of the model.
      @param x   x coordinate of the view location to convert &gt;= 0
      @param y   y coordinate of the view location to convert &gt;= 0
      @param a the allocated region to render into
      @param bias either <code>Position.Bias.Forward</code> or
       <code>Position.Bias.Backward</code>
      @return the location within the model that best represents the
       given point in the view &gt;= 0
      @see View#viewToModel</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<strong class="reserved">float</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">float</strong> y, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] bias) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/3349.html#L608" title="Defined at 608 in src/javax/swing/text/CompositeView.java.">getInsideAllocation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L392" name="L392"></a> 392         <strong class="reserved">if</strong> (<a href="../D/25241.html" title="Multiple defined in 17 places.">isBefore</a>((<strong class="reserved">int</strong>) <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, (<strong class="reserved">int</strong>) y, alloc)) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <em class="comment">// point is before the range represented</em>
<a id="L394" name="L394"></a> 394             <strong class="reserved">int</strong> retValue = -1;
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                 retValue = <a href="../D/20952.html" title="Multiple defined in 14 places.">getNextVisualPositionFrom</a>(-1, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward,
<a id="L398" name="L398"></a> 398                                                      <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, EAST, bias);
<a id="L399" name="L399"></a> 399             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em> <em class="brace">}</em>
<a id="L400" name="L400"></a> 400             <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> iae) <em class="brace">{</em> <em class="brace">}</em>
<a id="L401" name="L401"></a> 401             <strong class="reserved">if</strong>(retValue == -1) <em class="brace">{</em>
<a id="L402" name="L402"></a> 402                 retValue = <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L403" name="L403"></a> 403                 bias[0] = <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward;
<a id="L404" name="L404"></a> 404             <em class="brace">}</em>
<a id="L405" name="L405"></a> 405             <strong class="reserved">return</strong> retValue;
<a id="L406" name="L406"></a> 406         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/25168.html" title="Multiple defined in 17 places.">isAfter</a>((<strong class="reserved">int</strong>) <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, (<strong class="reserved">int</strong>) y, alloc)) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407             <em class="comment">// point is after the range represented.</em>
<a id="L408" name="L408"></a> 408             <strong class="reserved">int</strong> retValue = -1;
<a id="L409" name="L409"></a> 409             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L410" name="L410"></a> 410                 retValue = <a href="../D/20952.html" title="Multiple defined in 14 places.">getNextVisualPositionFrom</a>(-1, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward,
<a id="L411" name="L411"></a> 411                                                      <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, WEST, bias);
<a id="L412" name="L412"></a> 412             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em> <em class="brace">}</em>
<a id="L413" name="L413"></a> 413             <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> iae) <em class="brace">{</em> <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415             <strong class="reserved">if</strong>(retValue == -1) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                 <em class="comment">// NOTE: this could actually use end offset with backward.</em>
<a id="L417" name="L417"></a> 417                 retValue = <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - 1;
<a id="L418" name="L418"></a> 418                 bias[0] = <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward;
<a id="L419" name="L419"></a> 419             <em class="brace">}</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">return</strong> retValue;
<a id="L421" name="L421"></a> 421         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L422" name="L422"></a> 422             <em class="comment">// locate the child and pass along the request</em>
<a id="L423" name="L423"></a> 423             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23598.html" title="Multiple defined in 6 places.">getViewAtPoint</a>((<strong class="reserved">int</strong>) <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, (<strong class="reserved">int</strong>) y, alloc);
<a id="L424" name="L424"></a> 424             <strong class="reserved">if</strong> (v != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L425" name="L425"></a> 425               <strong class="reserved">return</strong> v.<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, y, alloc, bias);
<a id="L426" name="L426"></a> 426             <em class="brace">}</em>
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428         <strong class="reserved">return</strong> -1;
<a id="L429" name="L429"></a> 429     <em class="brace">}</em>
<a id="L430" name="L430"></a> 430 
<div class="comment">
      Provides a way to determine the next visually represented model
      location that one might place a caret.  Some views may not be visible,
      they might not be in the same order found in the model, or they just
      might not allow access to some of the locations in the model.
      This is a convenience method for {@link #getNextNorthSouthVisualPositionFrom}
      and {@link #getNextEastWestVisualPositionFrom}.
      This method enables specifying a position to convert
      within the range of &gt;=0.  If the value is -1, a position
      will be calculated automatically.  If the value &lt; -1,
      the <code>BadLocationException</code> will be thrown.
      @param pos the position to convert
      @param b a bias value of either <code>Position.Bias.Forward</code>
       or <code>Position.Bias.Backward</code>
      @param a the allocated region to render into
      @param direction the direction from the current position that can
       be thought of as the arrow keys typically found on a keyboard;
       this may be one of the following:
       <ul><li><code>SwingConstants.WEST</code>
       </li><li><code>SwingConstants.EAST</code>
       </li><li><code>SwingConstants.NORTH</code>
       </li><li><code>SwingConstants.SOUTH</code>
       </li></ul>
      @param biasRet an array containing the bias that was checked
      @return the location within the model that best represents the next
       location visual position
      @exception BadLocationException the given position is not a valid
                                      position within the document
      @exception IllegalArgumentException if <code>direction</code> is invalid</div>
<a id="L463" name="L463"></a> 463     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17962.html" title="Multiple referred from 24 places.">getNextVisualPositionFrom</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b, <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L464" name="L464"></a> 464                                          <strong class="reserved">int</strong> direction, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L465" name="L465"></a> 465       <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L466" name="L466"></a> 466         <strong class="reserved">if</strong> (pos &lt; -1) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("invalid position", pos);
<a id="L468" name="L468"></a> 468         <em class="brace">}</em>
<a id="L469" name="L469"></a> 469         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/3349.html#L608" title="Defined at 608 in src/javax/swing/text/CompositeView.java.">getInsideAllocation</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L470" name="L470"></a> 470 
<a id="L471" name="L471"></a> 471         <strong class="reserved">switch</strong> (direction) <em class="brace">{</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">case</strong> NORTH:
<a id="L473" name="L473"></a> 473             <strong class="reserved">return</strong> <a href="../D/20925.html" title="Multiple defined in 2 places.">getNextNorthSouthVisualPositionFrom</a>(pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction,
<a id="L474" name="L474"></a> 474                                                        biasRet);
<a id="L475" name="L475"></a> 475         <strong class="reserved">case</strong> SOUTH:
<a id="L476" name="L476"></a> 476             <strong class="reserved">return</strong> <a href="../D/20925.html" title="Multiple defined in 2 places.">getNextNorthSouthVisualPositionFrom</a>(pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction,
<a id="L477" name="L477"></a> 477                                                        biasRet);
<a id="L478" name="L478"></a> 478         <strong class="reserved">case</strong> EAST:
<a id="L479" name="L479"></a> 479             <strong class="reserved">return</strong> <a href="../S/3349.html#L752" title="Defined at 752 in src/javax/swing/text/CompositeView.java.">getNextEastWestVisualPositionFrom</a>(pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction,
<a id="L480" name="L480"></a> 480                                                      biasRet);
<a id="L481" name="L481"></a> 481         <strong class="reserved">case</strong> WEST:
<a id="L482" name="L482"></a> 482             <strong class="reserved">return</strong> <a href="../S/3349.html#L752" title="Defined at 752 in src/javax/swing/text/CompositeView.java.">getNextEastWestVisualPositionFrom</a>(pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction,
<a id="L483" name="L483"></a> 483                                                      biasRet);
<a id="L484" name="L484"></a> 484         <strong class="reserved">default</strong>:
<a id="L485" name="L485"></a> 485             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Bad direction: " + direction);
<a id="L486" name="L486"></a> 486         <em class="brace">}</em>
<a id="L487" name="L487"></a> 487     <em class="brace">}</em>
<a id="L488" name="L488"></a> 488 
<div class="comment">
      Returns the child view index representing the given
      position in the model.  This is implemented to call the
      <code>getViewIndexByPosition</code>
      method for backward compatibility.
      @param pos the position &gt;= 0
      @return  index of the view representing the given position, or
        -1 if no view represents that position
      @since 1.3</div>
<a id="L500" name="L500"></a> 500     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19807.html" title="Multiple referred from 22 places.">getViewIndex</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b) <em class="brace">{</em>
<a id="L501" name="L501"></a> 501         <strong class="reserved">if</strong>(b == <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502             pos -= 1;
<a id="L503" name="L503"></a> 503         <em class="brace">}</em>
<a id="L504" name="L504"></a> 504         <strong class="reserved">if</strong> ((pos &gt;= <a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>()) &amp;&amp; (pos &lt; <a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>())) <em class="brace">{</em>
<a id="L505" name="L505"></a> 505             <strong class="reserved">return</strong> <a href="../D/23605.html" title="Multiple defined in 8 places.">getViewIndexAtPosition</a>(pos);
<a id="L506" name="L506"></a> 506         <em class="brace">}</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">return</strong> -1;
<a id="L508" name="L508"></a> 508     <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<a id="L510" name="L510"></a> 510     <em class="comment">// --- local methods ----------------------------------------------------</em>
<a id="L511" name="L511"></a> 511 
<a id="L512" name="L512"></a> 512 
<div class="comment">
      Tests whether a point lies before the rectangle range.
      @param x the X coordinate &gt;= 0
      @param y the Y coordinate &gt;= 0
      @param alloc the rectangle
      @return true if the point is before the specified range</div>
<a id="L521" name="L521"></a> 521     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/21202.html" title="Multiple referred from 13 places.">isBefore</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc);
<a id="L522" name="L522"></a> 522 
<div class="comment">
      Tests whether a point lies after the rectangle range.
      @param x the X coordinate &gt;= 0
      @param y the Y coordinate &gt;= 0
      @param alloc the rectangle
      @return true if the point is after the specified range</div>
<a id="L531" name="L531"></a> 531     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">boolean</strong> <a href="../R/21145.html" title="Multiple referred from 6 places.">isAfter</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc);
<a id="L532" name="L532"></a> 532 
<div class="comment">
      Fetches the child view at the given coordinates.
      @param x the X coordinate &gt;= 0
      @param y the Y coordinate &gt;= 0
      @param alloc the parent's allocation on entry, which should
        be changed to the child's allocation on exit
      @return the child view</div>
<a id="L542" name="L542"></a> 542     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19802.html" title="Multiple referred from 2 places.">getViewAtPoint</a>(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc);
<a id="L543" name="L543"></a> 543 
<div class="comment">
      Returns the allocation for a given child.
      @param index the index of the child, &gt;= 0 &amp;&amp; &lt; getViewCount()
      @param a  the allocation to the interior of the box on entry,
        and the allocation of the child view at the index on exit.</div>
<a id="L551" name="L551"></a> 551     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/11423.html" title="Multiple referred from 24 places.">childAllocation</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L552" name="L552"></a> 552 
<div class="comment">
      Fetches the child view that represents the given position in
      the model.  This is implemented to fetch the view in the case
      where there is a child view for each child element.
      @param pos the position &gt;= 0
      @param a  the allocation to the interior of the box on entry,
        and the allocation of the view containing the position on exit
      @return  the view representing the given position, or
        <code>null</code> if there isn't one</div>
<a id="L564" name="L564"></a> 564     <strong class="reserved">protected</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> <a href="../R/19803.html" title="Multiple referred from 6 places.">getViewAtPosition</a>(<strong class="reserved">int</strong> pos, <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/23605.html" title="Multiple defined in 8 places.">getViewIndexAtPosition</a>(pos);
<a id="L566" name="L566"></a> 566         <strong class="reserved">if</strong> ((<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0) &amp;&amp; (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/23601.html" title="Multiple defined in 5 places.">getViewCount</a>())) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567             <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> v = <a href="../D/23597.html" title="Multiple defined in 13 places.">getView</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L568" name="L568"></a> 568             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569                 <a href="../D/12734.html" title="Multiple defined in 5 places.">childAllocation</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L570" name="L570"></a> 570             <em class="brace">}</em>
<a id="L571" name="L571"></a> 571             <strong class="reserved">return</strong> v;
<a id="L572" name="L572"></a> 572         <em class="brace">}</em>
<a id="L573" name="L573"></a> 573         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L574" name="L574"></a> 574     <em class="brace">}</em>
<a id="L575" name="L575"></a> 575 
<div class="comment">
      Fetches the child view index representing the given position in
      the model.  This is implemented to fetch the view in the case
      where there is a child view for each child element.
      @param pos the position &gt;= 0
      @return  index of the view representing the given position, or
        -1 if no view represents that position</div>
<a id="L585" name="L585"></a> 585     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/19809.html" title="Multiple referred from 10 places.">getViewIndexAtPosition</a>(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L587" name="L587"></a> 587         <strong class="reserved">return</strong> elem.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(pos);
<a id="L588" name="L588"></a> 588     <em class="brace">}</em>
<a id="L589" name="L589"></a> 589 
<div class="comment">
      Translates the immutable allocation given to the view
      to a mutable allocation that represents the interior
      allocation (i.e. the bounds of the given allocation
      with the top, left, bottom, and right insets removed.
      It is expected that the returned value would be further
      mutated to represent an allocation to a child view.
      This is implemented to reuse an instance variable so
      it avoids creating excessive Rectangles.  Typically
      the result of calling this method would be fed to
      the <code>childAllocation</code> method.
      @param a the allocation given to the view
      @return the allocation that represents the inside of the
        view after the margins have all been removed; if the
        given allocation was <code>null</code>,
        the return value is <code>null</code></div>
<a id="L608" name="L608"></a> 608     <strong class="reserved">protected</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/17110.html" title="Multiple referred from 11 places.">getInsideAllocation</a>(<a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609         <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L610" name="L610"></a> 610             <em class="comment">// get the bounds, hopefully without allocating</em>
<a id="L611" name="L611"></a> 611             <em class="comment">// a new rectangle.  The Shape argument should</em>
<a id="L612" name="L612"></a> 612             <em class="comment">// not be modified... we copy it into the</em>
<a id="L613" name="L613"></a> 613             <em class="comment">// child allocation.</em>
<a id="L614" name="L614"></a> 614             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc;
<a id="L615" name="L615"></a> 615             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616                 alloc = (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L617" name="L617"></a> 617             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L618" name="L618"></a> 618                 alloc = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L619" name="L619"></a> 619             <em class="brace">}</em>
<a id="L620" name="L620"></a> 620 
<a id="L621" name="L621"></a> 621             childAlloc.<a href="../D/32047.html" title="Multiple defined in 22 places.">setBounds</a>(alloc);
<a id="L622" name="L622"></a> 622             childAlloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += <a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>();
<a id="L623" name="L623"></a> 623             childAlloc.y += <a href="../D/23206.html" title="Multiple defined in 2 places.">getTopInset</a>();
<a id="L624" name="L624"></a> 624             childAlloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> -= <a href="../D/20069.html" title="Multiple defined in 3 places.">getLeftInset</a>() + <a href="../D/22102.html" title="Multiple defined in 2 places.">getRightInset</a>();
<a id="L625" name="L625"></a> 625             childAlloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> -= <a href="../D/23206.html" title="Multiple defined in 2 places.">getTopInset</a>() + <a href="../D/17326.html" title="Multiple defined in 3 places.">getBottomInset</a>();
<a id="L626" name="L626"></a> 626             <strong class="reserved">return</strong> childAlloc;
<a id="L627" name="L627"></a> 627         <em class="brace">}</em>
<a id="L628" name="L628"></a> 628         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L629" name="L629"></a> 629     <em class="brace">}</em>
<a id="L630" name="L630"></a> 630 
<div class="comment">
      Sets the insets from the paragraph attributes specified in
      the given attributes.
      @param attr the attributes</div>
<a id="L637" name="L637"></a> 637     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3255.html#L123" title="Referred from 123 in src/javax/swing/text/ParagraphView.java.">setParagraphInsets</a>(<a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638         <em class="comment">// Since version 1.1 doesn't have scaling and assumes</em>
<a id="L639" name="L639"></a> 639         <em class="comment">// a pixel is equal to a point, we just cast the point</em>
<a id="L640" name="L640"></a> 640         <em class="comment">// sizes to integers.</em>
<a id="L641" name="L641"></a> 641         <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = (<strong class="reserved">short</strong>) <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L693" title="Defined at 693 in src/javax/swing/text/StyleConstants.java.">getSpaceAbove</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L642" name="L642"></a> 642         left = (<strong class="reserved">short</strong>) <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L645" title="Defined at 645 in src/javax/swing/text/StyleConstants.java.">getLeftIndent</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L643" name="L643"></a> 643         bottom = (<strong class="reserved">short</strong>) <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L717" title="Defined at 717 in src/javax/swing/text/StyleConstants.java.">getSpaceBelow</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L644" name="L644"></a> 644         right = (<strong class="reserved">short</strong>) <a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.<a href="../S/3337.html#L621" title="Defined at 621 in src/javax/swing/text/StyleConstants.java.">getRightIndent</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L645" name="L645"></a> 645     <em class="brace">}</em>
<a id="L646" name="L646"></a> 646 
<div class="comment">
      Sets the insets for the view.
      @param top the top inset &gt;= 0
      @param left the left inset &gt;= 0
      @param bottom the bottom inset &gt;= 0
      @param right the right inset &gt;= 0</div>
<a id="L655" name="L655"></a> 655     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27581.html" title="Multiple referred from 5 places.">setInsets</a>(<strong class="reserved">short</strong> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>, <strong class="reserved">short</strong> left, <strong class="reserved">short</strong> bottom, <strong class="reserved">short</strong> right) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656         <strong class="reserved">this</strong>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L657" name="L657"></a> 657         <strong class="reserved">this</strong>.left = left;
<a id="L658" name="L658"></a> 658         <strong class="reserved">this</strong>.right = right;
<a id="L659" name="L659"></a> 659         <strong class="reserved">this</strong>.bottom = bottom;
<a id="L660" name="L660"></a> 660     <em class="brace">}</em>
<a id="L661" name="L661"></a> 661 
<div class="comment">
      Gets the left inset.
      @return the inset &gt;= 0</div>
<a id="L667" name="L667"></a> 667     <strong class="reserved">protected</strong> <strong class="reserved">short</strong> <a href="../R/17330.html" title="Multiple referred from 23 places.">getLeftInset</a>() <em class="brace">{</em>
<a id="L668" name="L668"></a> 668         <strong class="reserved">return</strong> left;
<a id="L669" name="L669"></a> 669     <em class="brace">}</em>
<a id="L670" name="L670"></a> 670 
<div class="comment">
      Gets the right inset.
      @return the inset &gt;= 0</div>
<a id="L676" name="L676"></a> 676     <strong class="reserved">protected</strong> <strong class="reserved">short</strong> <a href="../R/18743.html" title="Multiple referred from 15 places.">getRightInset</a>() <em class="brace">{</em>
<a id="L677" name="L677"></a> 677         <strong class="reserved">return</strong> right;
<a id="L678" name="L678"></a> 678     <em class="brace">}</em>
<a id="L679" name="L679"></a> 679 
<div class="comment">
      Gets the top inset.
      @return the inset &gt;= 0</div>
<a id="L685" name="L685"></a> 685     <strong class="reserved">protected</strong> <strong class="reserved">short</strong> <a href="../R/19542.html" title="Multiple referred from 17 places.">getTopInset</a>() <em class="brace">{</em>
<a id="L686" name="L686"></a> 686         <strong class="reserved">return</strong> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L687" name="L687"></a> 687     <em class="brace">}</em>
<a id="L688" name="L688"></a> 688 
<div class="comment">
      Gets the bottom inset.
      @return the inset &gt;= 0</div>
<a id="L694" name="L694"></a> 694     <strong class="reserved">protected</strong> <strong class="reserved">short</strong> <a href="../R/15313.html" title="Multiple referred from 14 places.">getBottomInset</a>() <em class="brace">{</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> bottom;
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<div class="comment">
      Returns the next visual position for the cursor, in either the
      north or south direction.
      @param pos the position to convert &gt;= 0
      @param b a bias value of either <code>Position.Bias.Forward</code>
       or <code>Position.Bias.Backward</code>
      @param a the allocated region to render into
      @param direction the direction from the current position that can
       be thought of as the arrow keys typically found on a keyboard;
       this may be one of the following:
       <ul><li><code>SwingConstants.NORTH</code>
       </li><li><code>SwingConstants.SOUTH</code>
       </li></ul>
      @param biasRet an array containing the bias that was checked
      @return the location within the model that best represents the next
       north or south location
      @exception BadLocationException
      @exception IllegalArgumentException if <code>direction</code> is invalid
      @see #getNextVisualPositionFrom
      @return the next position west of the passed in position</div>
<a id="L722" name="L722"></a> 722     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17937.html" title="Multiple referred from 2 places.">getNextNorthSouthVisualPositionFrom</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b,
<a id="L723" name="L723"></a> 723                                                       <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, <strong class="reserved">int</strong> direction,
<a id="L724" name="L724"></a> 724                                                       <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L725" name="L725"></a> 725                                                 <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L726" name="L726"></a> 726         <strong class="reserved">return</strong> <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../D/20952.html" title="Multiple defined in 14 places.">getNextVisualPositionFrom</a>(
<a id="L727" name="L727"></a> 727                             <strong class="reserved">this</strong>, pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction, biasRet);
<a id="L728" name="L728"></a> 728     <em class="brace">}</em>
<a id="L729" name="L729"></a> 729 
<div class="comment">
      Returns the next visual position for the cursor, in either the
      east or west direction.
     @param pos the position to convert &gt;= 0
      @param b a bias value of either <code>Position.Bias.Forward</code>
       or <code>Position.Bias.Backward</code>
      @param a the allocated region to render into
      @param direction the direction from the current position that can
       be thought of as the arrow keys typically found on a keyboard;
       this may be one of the following:
       <ul><li><code>SwingConstants.WEST</code>
       </li><li><code>SwingConstants.EAST</code>
       </li></ul>
      @param biasRet an array containing the bias that was checked
      @return the location within the model that best represents the next
       west or east location
      @exception BadLocationException
      @exception IllegalArgumentException if <code>direction</code> is invalid
      @see #getNextVisualPositionFrom</div>
<a id="L752" name="L752"></a> 752     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/17909.html" title="Multiple referred from 2 places.">getNextEastWestVisualPositionFrom</a>(<strong class="reserved">int</strong> pos, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> b,
<a id="L753" name="L753"></a> 753                                                     <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>,
<a id="L754" name="L754"></a> 754                                                     <strong class="reserved">int</strong> direction,
<a id="L755" name="L755"></a> 755                                                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] biasRet)
<a id="L756" name="L756"></a> 756                                                 <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L757" name="L757"></a> 757         <strong class="reserved">return</strong> <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../D/20952.html" title="Multiple defined in 14 places.">getNextVisualPositionFrom</a>(
<a id="L758" name="L758"></a> 758                             <strong class="reserved">this</strong>, pos, b, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>, direction, biasRet);
<a id="L759" name="L759"></a> 759     <em class="brace">}</em>
<a id="L760" name="L760"></a> 760 
<div class="comment">
      Determines in which direction the next view lays.
      Consider the <code>View</code> at index n. Typically the
      <code>View</code>s are layed out from left to right,
      so that the <code>View</code> to the EAST will be
      at index n + 1, and the <code>View</code> to the WEST
      will be at index n - 1. In certain situations,
      such as with bidirectional text, it is possible
      that the <code>View</code> to EAST is not at index n + 1,
      but rather at index n - 1, or that the <code>View</code>
      to the WEST is not at index n - 1, but index n + 1.
      In this case this method would return true, indicating the
      <code>View</code>s are layed out in descending order.
      <p>
      This unconditionally returns false, subclasses should override this
      method if there is the possibility for laying <code>View</code>s in
      descending order.
      @param position position into the model
      @param bias either <code>Position.Bias.Forward</code> or
               <code>Position.Bias.Backward</code>
      @return false</p></div>
<a id="L784" name="L784"></a> 784     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/14683.html" title="Multiple referred from 2 places.">flipEastAndWestAtEnds</a>(<strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>,
<a id="L785" name="L785"></a> 785                                             <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> bias) <em class="brace">{</em>
<a id="L786" name="L786"></a> 786         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L787" name="L787"></a> 787     <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<a id="L789" name="L789"></a> 789 
<a id="L790" name="L790"></a> 790     <em class="comment">// ---- member variables ---------------------------------------------</em>
<a id="L791" name="L791"></a> 791 
<a id="L792" name="L792"></a> 792 
<a id="L793" name="L793"></a> 793     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] ZERO = <strong class="reserved">new</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[0];
<a id="L794" name="L794"></a> 794 
<a id="L795" name="L795"></a> 795     <strong class="reserved">private</strong> <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a>[] <a href="../D/12744.html" title="Multiple defined in 7 places.">children</a>;
<a id="L796" name="L796"></a> 796     <strong class="reserved">private</strong> <strong class="reserved">int</strong> nchildren;
<a id="L797" name="L797"></a> 797     <strong class="reserved">private</strong> <strong class="reserved">short</strong> left;
<a id="L798" name="L798"></a> 798     <strong class="reserved">private</strong> <strong class="reserved">short</strong> right;
<a id="L799" name="L799"></a> 799     <strong class="reserved">private</strong> <strong class="reserved">short</strong> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L800" name="L800"></a> 800     <strong class="reserved">private</strong> <strong class="reserved">short</strong> bottom;
<a id="L801" name="L801"></a> 801     <strong class="reserved">private</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> childAlloc;
<a id="L802" name="L802"></a> 802 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L101">[^]</a><a href="#L784">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>