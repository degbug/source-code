<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/ResourceBundle.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L334">[^]</a><a href="#L2993">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L334" title="Defined at 334.">getBaseBundleName</a></li>
<li><a href="#L406" title="Defined at 406.">getString</a></li>
<li><a href="#L423" title="Defined at 423.">getStringArray</a></li>
<li><a href="#L440" title="Defined at 440.">getObject</a></li>
<li><a href="#L464" title="Defined at 464.">getLocale</a></li>
<li><a href="#L472" title="Defined at 472.">getLoader</a></li>
<li><a href="#L501" title="Defined at 501.">loadClass</a></li>
<li><a href="#L507" title="Defined at 507.">getResource</a></li>
<li><a href="#L513" title="Defined at 513.">getResourceAsStream</a></li>
<li><a href="#L528" title="Defined at 528.">setParent</a></li>
<li><a href="#L578" title="Defined at 578.">getName</a></li>
<li><a href="#L582" title="Defined at 582.">setName</a></li>
<li><a href="#L590" title="Defined at 590.">getLocale</a></li>
<li><a href="#L594" title="Defined at 594.">setLocale</a></li>
<li><a href="#L602" title="Defined at 602.">getLoader</a></li>
<li><a href="#L606" title="Defined at 606.">equals</a></li>
<li><a href="#L640" title="Defined at 640.">hashCode</a></li>
<li><a href="#L644" title="Defined at 644.">calculateHashCode</a></li>
<li><a href="#L653" title="Defined at 653.">clone</a></li>
<li><a href="#L669" title="Defined at 669.">getFormat</a></li>
<li><a href="#L673" title="Defined at 673.">setFormat</a></li>
<li><a href="#L677" title="Defined at 677.">setCause</a></li>
<li><a href="#L689" title="Defined at 689.">getCause</a></li>
<li><a href="#L693" title="Defined at 693.">toString</a></li>
<li><a href="#L712" title="Defined at 712.">getCacheKey</a></li>
<li><a href="#L729" title="Defined at 729.">getCacheKey</a></li>
<li><a href="#L747" title="Defined at 747.">getCacheKey</a></li>
<li><a href="#L771" title="Defined at 771.">getBundle</a></li>
<li><a href="#L813" title="Defined at 813.">getBundle</a></li>
<li><a href="#L842" title="Defined at 842.">getBundle</a></li>
<li><a href="#L888" title="Defined at 888.">getBundle</a></li>
<li><a href="#L1076" title="Defined at 1076.">getBundle</a></li>
<li><a href="#L1294" title="Defined at 1294.">getBundle</a></li>
<li><a href="#L1302" title="Defined at 1302.">getDefaultControl</a></li>
<li><a href="#L1314" title="Defined at 1314.">getBundleImpl</a></li>
<li><a href="#L1399" title="Defined at 1399.">checkList</a></li>
<li><a href="#L1410" title="Defined at 1410.">findBundle</a></li>
<li><a href="#L1487" title="Defined at 1487.">loadBundle</a></li>
<li><a href="#L1527" title="Defined at 1527.">isValidBundle</a></li>
<li><a href="#L1535" title="Defined at 1535.">hasValidParentChain</a></li>
<li><a href="#L1556" title="Defined at 1556.">throwMissingResourceException</a></li>
<li><a href="#L1581" title="Defined at 1581.">findBundleInCache</a></li>
<li><a href="#L1688" title="Defined at 1688.">putBundleInCache</a></li>
<li><a href="#L1721" title="Defined at 1721.">setExpirationTime</a></li>
<li><a href="#L1745" title="Defined at 1745.">clearCache</a></li>
<li><a href="#L1758" title="Defined at 1758.">clearCache</a></li>
<li><a href="#L1779" title="Defined at 1779.">handleGetObject</a></li>
<li><a href="#L1787" title="Defined at 1787.">getKeys</a></li>
<li><a href="#L1802" title="Defined at 1802.">containsKey</a></li>
<li><a href="#L1822" title="Defined at 1822.">keySet</a></li>
<li><a href="#L1847" title="Defined at 1847.">handleKeySet</a></li>
<li><a href="#L2096" title="Defined at 2096.">getControl</a></li>
<li><a href="#L2131" title="Defined at 2131.">getNoFallbackControl</a></li>
<li><a href="#L2178" title="Defined at 2178.">getFormats</a></li>
<li><a href="#L2363" title="Defined at 2363.">getCandidateLocales</a></li>
<li><a href="#L2373" title="Defined at 2373.">createObject</a></li>
<li><a href="#L2445" title="Defined at 2445.">getDefaultList</a></li>
<li><a href="#L2527" title="Defined at 2527.">getFallbackLocale</a></li>
<li><a href="#L2631" title="Defined at 2631.">newBundle</a></li>
<li><a href="#L2744" title="Defined at 2744.">getTimeToLive</a></li>
<li><a href="#L2799" title="Defined at 2799.">needsReload</a></li>
<li><a href="#L2885" title="Defined at 2885.">toBundleName</a></li>
<li><a href="#L2942" title="Defined at 2942.">toResourceName</a></li>
<li><a href="#L2948" title="Defined at 2948.">toResourceName0</a></li>
<li><a href="#L2971" title="Defined at 2971.">getFormats</a></li>
<li><a href="#L2993" title="Defined at 2993.">getFallbackLocale</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  (C) Copyright Taligent, Inc. 1996, 1997 - All Rights Reserved
  (C) Copyright IBM Corp. 1996 - 1999 - All Rights Reserved
  The original version of this source code and documentation
  is copyrighted and owned by Taligent, Inc., a wholly-owned
  subsidiary of IBM. These materials are provided under terms
  of a License Agreement between Taligent and Sun. This technology
  is protected by multiple US and International patents.
  This notice and attribution to Taligent may not be removed.
  Taligent is a registered trademark of Taligent, Inc.</div>
<a id="L40" name="L40"></a>  40 
<a id="L41" name="L41"></a>  41 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L42" name="L42"></a>  42 
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.io.IOException;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.lang.ref.ReferenceQueue;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.lang.ref.SoftReference;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.lang.ref.WeakReference;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.net.JarURLConnection;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.net.URL;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.net.URLConnection;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> java.security.PrivilegedActionException;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> java.security.PrivilegedExceptionAction;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentHashMap;
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> java.util.concurrent.ConcurrentMap;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> java.util.jar.JarEntry;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> java.util.spi.ResourceBundleControlProvider;
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> sun.reflect.CallerSensitive;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> sun.reflect.Reflection;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> sun.util.locale.BaseLocale;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> sun.util.locale.LocaleObjectCache;
<a id="L64" name="L64"></a>  64 
<a id="L65" name="L65"></a>  65 
<div class="comment">
  Resource bundles contain locale-specific objects.  When your program needs a
  locale-specific resource, a <code>String</code> for example, your program can
  load it from the resource bundle that is appropriate for the current user's
  locale. In this way, you can write program code that is largely independent
  of the user's locale isolating most, if not all, of the locale-specific
  information in resource bundles.
  <p>
  This allows you to write programs that can:
  </p><ul>
  <li> be easily localized, or translated, into different languages
  </li><li> handle multiple locales at once
  </li><li> be easily modified later to support even more locales
  </li></ul>
  <p>
  Resource bundles belong to families whose members share a common base
  name, but whose names also have additional components that identify
  their locales. For example, the base name of a family of resource
  bundles might be "MyResources". The family should have a default
  resource bundle which simply has the same name as its family -
  "MyResources" - and will be used as the bundle of last resort if a
  specific locale is not supported. The family can then provide as
  many locale-specific members as needed, for example a German one
  named "MyResources_de".
  </p><p>
  Each resource bundle in a family contains the same items, but the items have
  been translated for the locale represented by that resource bundle.
  For example, both "MyResources" and "MyResources_de" may have a
  <code>String</code> that's used on a button for canceling operations.
  In "MyResources" the <code>String</code> may contain "Cancel" and in
  "MyResources_de" it may contain "Abbrechen".
  </p><p>
  If there are different resources for different countries, you
  can make specializations: for example, "MyResources_de_CH" contains objects for
  the German language (de) in Switzerland (CH). If you want to only
  modify some of the resources
  in the specialization, you can do so.
  </p><p>
  When your program needs a locale-specific object, it loads
  the <code>ResourceBundle</code> class using the
  {@link #getBundle(java.lang.String, java.util.Locale) getBundle}
  method:
  </p><blockquote>
  <pre>  ResourceBundle myResources =
       ResourceBundle.getBundle("MyResources", currentLocale);
  </pre>
  </blockquote>
  <p>
  Resource bundles contain key/value pairs. The keys uniquely
  identify a locale-specific object in the bundle. Here's an
  example of a <code>ListResourceBundle</code> that contains
  two key/value pairs:
  </p><blockquote>
  <pre>  public class MyResources extends ListResourceBundle {
      protected Object[][] getContents() {
          return new Object[][] {
              // LOCALIZE THE SECOND STRING OF EACH ARRAY (e.g., "OK")
              {"OkKey", "OK"},
              {"CancelKey", "Cancel"},
              // END OF MATERIAL TO LOCALIZE
         };
      }
  }
  </pre>
  </blockquote>
  Keys are always <code>String</code>s.
  In this example, the keys are "OkKey" and "CancelKey".
  In the above example, the values
  are also <code>String</code>s--"OK" and "Cancel"--but
  they don't have to be. The values can be any type of object.
  <p>
  You retrieve an object from resource bundle using the appropriate
  getter method. Because "OkKey" and "CancelKey"
  are both strings, you would use <code>getString</code> to retrieve them:
  </p><blockquote>
  <pre>  button1 = new Button(myResources.getString("OkKey"));
  button2 = new Button(myResources.getString("CancelKey"));
  </pre>
  </blockquote>
  The getter methods all require the key as an argument and return
  the object if found. If the object is not found, the getter method
  throws a <code>MissingResourceException</code>.
  <p>
  Besides <code>getString</code>, <code>ResourceBundle</code> also provides
  a method for getting string arrays, <code>getStringArray</code>,
  as well as a generic <code>getObject</code> method for any other
  type of object. When using <code>getObject</code>, you'll
  have to cast the result to the appropriate type. For example:
  </p><blockquote>
  <pre>  int[] myIntegers = (int[]) myResources.getObject("intList");
  </pre>
  </blockquote>
  <p>
  The Java Platform provides two subclasses of <code>ResourceBundle</code>,
  <code>ListResourceBundle</code> and <code>PropertyResourceBundle</code>,
  that provide a fairly simple way to create resources.
  As you saw briefly in a previous example, <code>ListResourceBundle</code>
  manages its resource as a list of key/value pairs.
  <code>PropertyResourceBundle</code> uses a properties file to manage
  its resources.
  </p><p>
  If <code>ListResourceBundle</code> or <code>PropertyResourceBundle</code>
  do not suit your needs, you can write your own <code>ResourceBundle</code>
  subclass.  Your subclasses must override two methods: <code>handleGetObject</code>
  and <code>getKeys()</code>.
  </p><p>
  The implementation of a <code>ResourceBundle</code> subclass must be thread-safe
  if it's simultaneously used by multiple threads. The default implementations
  of the non-abstract methods in this class, and the methods in the direct
  known concrete subclasses <code>ListResourceBundle</code> and
  <code>PropertyResourceBundle</code> are thread-safe.
  </p><h3>ResourceBundle.Control</h3>
  The {@link ResourceBundle.Control} class provides information necessary
  to perform the bundle loading process by the <code>getBundle</code>
  factory methods that take a <code>ResourceBundle.Control</code>
  instance. You can implement your own subclass in order to enable
  non-standard resource bundle formats, change the search strategy, or
  define caching parameters. Refer to the descriptions of the class and the
  {@link #getBundle(String, Locale, ClassLoader, Control) getBundle}
  factory method for details.
  <p><a name="modify_default_behavior">For the <code>getBundle</code> factory</a>
  methods that take no <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> instance, their <a href="#default_behavior"> default behavior</a> of resource bundle loading
  can be modified with <em>installed</em> {@link
  ResourceBundleControlProvider} implementations. Any installed providers are
  detected at the <code>ResourceBundle</code> class loading time. If any of the
  providers provides a <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> for the given base name, that {@link
  Control} will be used instead of the default <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>. If there is
  more than one service provider installed for supporting the same base name,
  the first one returned from <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a> will be used.
  </p><h3>Cache Management</h3>
  Resource bundle instances created by the <code>getBundle</code> factory
  methods are cached by default, and the factory methods return the same
  resource bundle instance multiple times if it has been
  cached. <code>getBundle</code> clients may clear the cache, manage the
  lifetime of cached resource bundle instances using time-to-live values,
  or specify not to cache resource bundle instances. Refer to the
  descriptions of the {@linkplain #getBundle(String, Locale, ClassLoader,
  Control) <code>getBundle</code> factory method}, {@link
  #clearCache(ClassLoader) clearCache}, {@link
  Control#getTimeToLive(String, Locale)
  ResourceBundle.Control.getTimeToLive}, and {@link
  Control#needsReload(String, Locale, String, ClassLoader, ResourceBundle,
  long) ResourceBundle.Control.needsReload} for details.
  <h3>Example</h3>
  The following is a very simple example of a <code>ResourceBundle</code>
  subclass, <code>MyResources</code>, that manages two resources (for a larger number of
  resources you would probably use a <code>Map</code>).
  Notice that you don't need to supply a value if
  a "parent-level" <code>ResourceBundle</code> handles the same
  key with the same value (as for the okKey below).
  <blockquote>
  <pre>  // default (English language, United States)
  public class MyResources extends ResourceBundle {
      public Object handleGetObject(String key) {
          if (key.equals("okKey")) return "Ok";
          if (key.equals("cancelKey")) return "Cancel";
          return null;
      }
      public Enumeration&lt;String&gt; getKeys() {
          return Collections.enumeration(keySet());
      }
      // Overrides handleKeySet() so that the getKeys() implementation
      // can rely on the keySet() value.
      protected Set&lt;String&gt; handleKeySet() {
          return new HashSet&lt;String&gt;(Arrays.asList("okKey", "cancelKey"));
      }
  }
  // German language
  public class MyResources_de extends MyResources {
      public Object handleGetObject(String key) {
          // don't need okKey, since parent level handles it.
          if (key.equals("cancelKey")) return "Abbrechen";
          return null;
      }
      protected Set&lt;String&gt; handleKeySet() {
          return new HashSet&lt;String&gt;(Arrays.asList("cancelKey"));
      }
  }
  </pre>
  </blockquote>
  You do not have to restrict yourself to using a single family of
  <code>ResourceBundle</code>s. For example, you could have a set of bundles for
  exception messages, <code>ExceptionResources</code>
  (<code>ExceptionResources_fr</code>, <code>ExceptionResources_de</code>, ...),
  and one for widgets, <code>WidgetResource</code> (<code>WidgetResources_fr</code>,
  <code>WidgetResources_de</code>, ...); breaking up the resources however you like.
  @see ListResourceBundle
  @see PropertyResourceBundle
  @see MissingResourceException
  @since JDK1.1</div>
<a id="L287" name="L287"></a> 287 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/6685.html" title="Multiple referred from 258 places.">ResourceBundle</a> <em class="brace">{</em>
<a id="L288" name="L288"></a> 288 
<div class="comment">
     /** initial size of the bundle cache */</div>
<a id="L290" name="L290"></a> 290     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> INITIAL_CACHE_SIZE = 32;
<a id="L291" name="L291"></a> 291 
<div class="comment">
     /** constant indicating that no resource bundle exists */</div>
<a id="L293" name="L293"></a> 293     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> NONEXISTENT_BUNDLE = <strong class="reserved">new</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a>() <em class="brace">{</em>
<a id="L294" name="L294"></a> 294             <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/19965.html" title="Multiple defined in 6 places.">getKeys</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <strong class="reserved">null</strong>; <em class="brace">}</em>
<a id="L295" name="L295"></a> 295             <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/23982.html" title="Multiple defined in 3 places.">handleGetObject</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em> <strong class="reserved">return</strong> <strong class="reserved">null</strong>; <em class="brace">}</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() <em class="brace">{</em> <strong class="reserved">return</strong> "NONEXISTENT_BUNDLE"; <em class="brace">}</em>
<a id="L297" name="L297"></a> 297         <em class="brace">}</em>;
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299 
<div class="comment">
      The cache is a map from cache keys (with bundle base name, locale, and
      class loader) to either a resource bundle or NONEXISTENT_BUNDLE wrapped by a
      BundleReference.
      The cache is a ConcurrentMap, allowing the cache to be searched
      concurrently by multiple threads.  This will also allow the cache keys
      to be reclaimed along with the ClassLoaders they reference.
      This variable would be better named "cache", but we keep the old
      name for compatibility with some workarounds for bug 4212439.</div>
<a id="L312" name="L312"></a> 312     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1110.html#L63" title="Defined at 63 in src/java/util/concurrent/ConcurrentMap.java.">ConcurrentMap</a>&lt;<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>, <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a>&gt; cacheList
<a id="L313" name="L313"></a> 313         = <strong class="reserved">new</strong> <a href="../S/1074.html#L267" title="Defined at 267 in src/java/util/concurrent/ConcurrentHashMap.java.">ConcurrentHashMap</a>&lt;&gt;(INITIAL_CACHE_SIZE);
<a id="L314" name="L314"></a> 314 
<div class="comment">
      Queue for reference objects referring to class loaders or bundles.</div>
<a id="L318" name="L318"></a> 318     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; referenceQueue = <strong class="reserved">new</strong> <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;&gt;();
<a id="L319" name="L319"></a> 319 
<div class="comment">
      Returns the base name of this bundle, if known, or <code>null</code> if unknown.
      If not null, then this is the value of the <code>baseName</code> parameter
      that was passed to the <code>ResourceBundle.getBundle(...)</code> method
      when the resource bundle was loaded.
      @return The base name of the resource bundle, as provided to and expected
      by the <code>ResourceBundle.getBundle(...)</code> methods.
      @see #getBundle(java.lang.String, java.util.Locale, java.lang.ClassLoader)
      @since 1.8</div>
<a id="L334" name="L334"></a> 334     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15222.html" title="Multiple referred from 2 places.">getBaseBundleName</a>() <em class="brace">{</em>
<a id="L335" name="L335"></a> 335         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L336" name="L336"></a> 336     <em class="brace">}</em>
<a id="L337" name="L337"></a> 337 
<div class="comment">
      The parent bundle of this bundle.
      The parent bundle is searched by <a href="#L440" title="Defined at 440.">getObject</a>
      when this bundle does not contain a particular resource.</div>
<a id="L343" name="L343"></a> 343     <strong class="reserved">protected</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <strong class="reserved">null</strong>;
<a id="L344" name="L344"></a> 344 
<div class="comment">
      The locale for this bundle.</div>
<a id="L348" name="L348"></a> 348     <strong class="reserved">private</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <strong class="reserved">null</strong>;
<a id="L349" name="L349"></a> 349 
<div class="comment">
      The base bundle name for this bundle.</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L354" name="L354"></a> 354 
<div class="comment">
      The flag indicating this bundle has expired in the cache.</div>
<a id="L358" name="L358"></a> 358     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> expired;
<a id="L359" name="L359"></a> 359 
<div class="comment">
      The back link to the cache key. null if this bundle isn't in
      the cache (yet) or has expired.</div>
<a id="L364" name="L364"></a> 364     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey;
<a id="L365" name="L365"></a> 365 
<div class="comment">
      A Set of the keys contained only in this ResourceBundle.</div>
<a id="L369" name="L369"></a> 369     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>;
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a>&gt; <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>;
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">null</strong>;
<a id="L375" name="L375"></a> 375         <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>&lt;<a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a>&gt; serviceLoaders
<a id="L376" name="L376"></a> 376                 = <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../S/1190.html#L567" title="Defined at 567 in src/java/util/ServiceLoader.java.">loadInstalled</a>(<a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a>.<strong class="reserved">class</strong>);
<a id="L377" name="L377"></a> 377         <strong class="reserved">for</strong> (<a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> : serviceLoaders) <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             <strong class="reserved">if</strong> (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379                 <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L380" name="L380"></a> 380             <em class="brace">}</em>
<a id="L381" name="L381"></a> 381             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L382" name="L382"></a> 382         <em class="brace">}</em>
<a id="L383" name="L383"></a> 383         <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a> = <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>;
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Sole constructor.  (For invocation by subclass constructors, typically
      implicit.)</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> ResourceBundle() <em class="brace">{</em>
<a id="L391" name="L391"></a> 391     <em class="brace">}</em>
<a id="L392" name="L392"></a> 392 
<div class="comment">
      Gets a string for the given key from this resource bundle or one of its parents.
      Calling this method is equivalent to calling
      <blockquote>
      <code>(String) {@link #getObject(java.lang.String) getObject}(key)</code>.
      </blockquote>
      @param key the key for the desired string
      @exception NullPointerException if <code>key</code> is <code>null</code>
      @exception MissingResourceException if no object for the given key can be found
      @exception ClassCastException if the object found for the given key is not a string
      @return the string for the given key</div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19208.html" title="Multiple referred from 527 places.">getString</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L407" name="L407"></a> 407         <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <a href="../D/21124.html" title="Multiple defined in 30 places.">getObject</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L408" name="L408"></a> 408     <em class="brace">}</em>
<a id="L409" name="L409"></a> 409 
<div class="comment">
      Gets a string array for the given key from this resource bundle or one of its parents.
      Calling this method is equivalent to calling
      <blockquote>
      <code>(String[]) {@link #getObject(java.lang.String) getObject}(key)</code>.
      </blockquote>
      @param key the key for the desired string array
      @exception NullPointerException if <code>key</code> is <code>null</code>
      @exception MissingResourceException if no object for the given key can be found
      @exception ClassCastException if the object found for the given key is not a string array
      @return the string array for the given key</div>
<a id="L423" name="L423"></a> 423     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] <a href="../R/19209.html" title="Multiple referred from 8 places.">getStringArray</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424         <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[]) <a href="../D/21124.html" title="Multiple defined in 30 places.">getObject</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L425" name="L425"></a> 425     <em class="brace">}</em>
<a id="L426" name="L426"></a> 426 
<div class="comment">
      Gets an object for the given key from this resource bundle or one of its parents.
      This method first tries to obtain the object from this resource bundle using
      {@link #handleGetObject(java.lang.String) handleGetObject}.
      If not successful, and the parent resource bundle is not null,
      it calls the parent's <code>getObject</code> method.
      If still not successful, it throws a MissingResourceException.
      @param key the key for the desired object
      @exception NullPointerException if <code>key</code> is <code>null</code>
      @exception MissingResourceException if no object for the given key can be found
      @return the object for the given key</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/18085.html" title="Multiple referred from 30 places.">getObject</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj = <a href="../D/23982.html" title="Multiple defined in 3 places.">handleGetObject</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L442" name="L442"></a> 442         <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L444" name="L444"></a> 444                 obj = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/21124.html" title="Multiple defined in 30 places.">getObject</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L445" name="L445"></a> 445             <em class="brace">}</em>
<a id="L446" name="L446"></a> 446             <strong class="reserved">if</strong> (obj == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a>("Can't find resource for bundle "
<a id="L448" name="L448"></a> 448                                                    +<strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()
<a id="L449" name="L449"></a> 449                                                    +", key "+<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>,
<a id="L450" name="L450"></a> 450                                                    <strong class="reserved">this</strong>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L451" name="L451"></a> 451                                                    <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L452" name="L452"></a> 452             <em class="brace">}</em>
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454         <strong class="reserved">return</strong> obj;
<a id="L455" name="L455"></a> 455     <em class="brace">}</em>
<a id="L456" name="L456"></a> 456 
<div class="comment">
      Returns the locale of this resource bundle. This method can be used after a
      call to getBundle() to determine whether the resource bundle returned really
      corresponds to the requested locale or is a fallback.
      @return the locale of this resource bundle</div>
<a id="L464" name="L464"></a> 464     <strong class="reserved">public</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/17438.html" title="Multiple referred from 191 places.">getLocale</a>() <em class="brace">{</em>
<a id="L465" name="L465"></a> 465         <strong class="reserved">return</strong> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L466" name="L466"></a> 466     <em class="brace">}</em>
<a id="L467" name="L467"></a> 467 
<div class="comment">
      Automatic determination of the ClassLoader to be used to load
      resources on behalf of the client.</div>
<a id="L472" name="L472"></a> 472     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/17404.html" title="Multiple referred from 10 places.">getLoader</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; caller) <em class="brace">{</em>
<a id="L473" name="L473"></a> 473         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl = caller == <strong class="reserved">null</strong> ? <strong class="reserved">null</strong> : caller.<a href="../D/17691.html" title="Multiple defined in 20 places.">getClassLoader</a>();
<a id="L474" name="L474"></a> 474         <strong class="reserved">if</strong> (cl == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475             <em class="comment">// When the caller's loader is the boot class loader, cl is null</em>
<a id="L476" name="L476"></a> 476             <em class="comment">// here. In that case, ClassLoader.getSystemClassLoader() may</em>
<a id="L477" name="L477"></a> 477             <em class="comment">// return the same class loader that the application is</em>
<a id="L478" name="L478"></a> 478             <em class="comment">// using. We therefore use a wrapper ClassLoader to create a</em>
<a id="L479" name="L479"></a> 479             <em class="comment">// separate scope for bundles loaded on behalf of the Java</em>
<a id="L480" name="L480"></a> 480             <em class="comment">// runtime so that these bundles cannot be returned from the</em>
<a id="L481" name="L481"></a> 481             <em class="comment">// cache to the application (5048280).</em>
<a id="L482" name="L482"></a> 482             cl = <a href="../S/853.html#L490" title="Defined at 490 in src/java/util/ResourceBundle.java.">RBClassLoader</a>.INSTANCE;
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484         <strong class="reserved">return</strong> cl;
<a id="L485" name="L485"></a> 485     <em class="brace">}</em>
<a id="L486" name="L486"></a> 486 
<div class="comment">
      A wrapper of ClassLoader.getSystemClassLoader().</div>
<a id="L490" name="L490"></a> 490     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6380.html" title="Multiple referred from 5 places.">RBClassLoader</a> <strong class="reserved">extends</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <em class="brace">{</em>
<a id="L491" name="L491"></a> 491         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L490" title="Defined at 490 in src/java/util/ResourceBundle.java.">RBClassLoader</a> INSTANCE = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L492" name="L492"></a> 492                     <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/853.html#L490" title="Defined at 490 in src/java/util/ResourceBundle.java.">RBClassLoader</a>&gt;() <em class="brace">{</em>
<a id="L493" name="L493"></a> 493                         <strong class="reserved">public</strong> <a href="../S/853.html#L490" title="Defined at 490 in src/java/util/ResourceBundle.java.">RBClassLoader</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L494" name="L494"></a> 494                             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/853.html#L490" title="Defined at 490 in src/java/util/ResourceBundle.java.">RBClassLoader</a>();
<a id="L495" name="L495"></a> 495                         <em class="brace">}</em>
<a id="L496" name="L496"></a> 496                     <em class="brace">}</em>);
<a id="L497" name="L497"></a> 497         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader = <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>();
<a id="L498" name="L498"></a> 498 
<a id="L499" name="L499"></a> 499         <strong class="reserved">private</strong> RBClassLoader() <em class="brace">{</em>
<a id="L500" name="L500"></a> 500         <em class="brace">}</em>
<a id="L501" name="L501"></a> 501         <strong class="reserved">public</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../R/22555.html" title="Multiple referred from 154 places.">loadClass</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L502" name="L502"></a> 502             <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503                 <strong class="reserved">return</strong> loader.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L504" name="L504"></a> 504             <em class="brace">}</em>
<a id="L505" name="L505"></a> 505             <strong class="reserved">return</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L506" name="L506"></a> 506         <em class="brace">}</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">public</strong> <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../R/18711.html" title="Multiple referred from 79 places.">getResource</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508             <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509                 <strong class="reserved">return</strong> loader.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L510" name="L510"></a> 510             <em class="brace">}</em>
<a id="L511" name="L511"></a> 511             <strong class="reserved">return</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../S/1745.html#L1218" title="Defined at 1218 in src/java/lang/ClassLoader.java.">getSystemResource</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513         <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/18712.html" title="Multiple referred from 70 places.">getResourceAsStream</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L514" name="L514"></a> 514             <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515                 <strong class="reserved">return</strong> loader.<a href="../D/22045.html" title="Multiple defined in 30 places.">getResourceAsStream</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L516" name="L516"></a> 516             <em class="brace">}</em>
<a id="L517" name="L517"></a> 517             <strong class="reserved">return</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../S/1745.html#L1325" title="Defined at 1325 in src/java/lang/ClassLoader.java.">getSystemResourceAsStream</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L518" name="L518"></a> 518         <em class="brace">}</em>
<a id="L519" name="L519"></a> 519     <em class="brace">}</em>
<a id="L520" name="L520"></a> 520 
<div class="comment">
      Sets the parent bundle of this bundle.
      The parent bundle is searched by <a href="#L440" title="Defined at 440.">getObject</a>
      when this bundle does not contain a particular resource.
      @param parent this bundle's parent bundle.</div>
<a id="L528" name="L528"></a> 528     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/27912.html" title="Multiple referred from 145 places.">setParent</a>(<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != NONEXISTENT_BUNDLE;
<a id="L530" name="L530"></a> 530         <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L531" name="L531"></a> 531     <em class="brace">}</em>
<a id="L532" name="L532"></a> 532 
<div class="comment">
      Key used for cached resource bundles.  The key checks the base
      name, the locale, and the class loader to determine if the
      resource is a match to the requested one. The loader may be
      null, but the base name and the locale must have a non-null
      value.</div>
<a id="L540" name="L540"></a> 540     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1125.html" title="Multiple referred from 39 places.">CacheKey</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         <em class="comment">// These three are the actual keys for lookup in Map.</em>
<a id="L542" name="L542"></a> 542         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L543" name="L543"></a> 543         <strong class="reserved">private</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L544" name="L544"></a> 544         <strong class="reserved">private</strong> <a href="../S/853.html#L720" title="Defined at 720 in src/java/util/ResourceBundle.java.">LoaderReference</a> loaderRef;
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546         <em class="comment">// bundle format which is necessary for calling</em>
<a id="L547" name="L547"></a> 547         <em class="comment">// Control.needsReload().</em>
<a id="L548" name="L548"></a> 548         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L549" name="L549"></a> 549 
<a id="L550" name="L550"></a> 550         <em class="comment">// These time values are in CacheKey so that NONEXISTENT_BUNDLE</em>
<a id="L551" name="L551"></a> 551         <em class="comment">// doesn't need to be cloned for caching.</em>
<a id="L552" name="L552"></a> 552 
<a id="L553" name="L553"></a> 553         <em class="comment">// The time when the bundle has been loaded</em>
<a id="L554" name="L554"></a> 554         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">long</strong> loadTime;
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556         <em class="comment">// The time when the bundle expires in the cache, or either</em>
<a id="L557" name="L557"></a> 557         <em class="comment">// Control.TTL_DONT_CACHE or Control.TTL_NO_EXPIRATION_CONTROL.</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">long</strong> expirationTime;
<a id="L559" name="L559"></a> 559 
<a id="L560" name="L560"></a> 560         <em class="comment">// Placeholder for an error report by a Throwable</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">private</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause;
<a id="L562" name="L562"></a> 562 
<a id="L563" name="L563"></a> 563         <em class="comment">// Hash code value cache to avoid recalculating the hash code</em>
<a id="L564" name="L564"></a> 564         <em class="comment">// of this instance.</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">private</strong> <strong class="reserved">int</strong> hashCodeCache;
<a id="L566" name="L566"></a> 566 
<a id="L567" name="L567"></a> 567         CacheKey(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader) <em class="brace">{</em>
<a id="L568" name="L568"></a> 568             <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>;
<a id="L569" name="L569"></a> 569             <strong class="reserved">this</strong>.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L570" name="L570"></a> 570             <strong class="reserved">if</strong> (loader == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L571" name="L571"></a> 571                 <strong class="reserved">this</strong>.loaderRef = <strong class="reserved">null</strong>;
<a id="L572" name="L572"></a> 572             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L573" name="L573"></a> 573                 loaderRef = <strong class="reserved">new</strong> <a href="../S/853.html#L720" title="Defined at 720 in src/java/util/ResourceBundle.java.">LoaderReference</a>(loader, referenceQueue, <strong class="reserved">this</strong>);
<a id="L574" name="L574"></a> 574             <em class="brace">}</em>
<a id="L575" name="L575"></a> 575             <a href="../S/853.html#L644" title="Defined at 644 in src/java/util/ResourceBundle.java.">calculateHashCode</a>();
<a id="L576" name="L576"></a> 576         <em class="brace">}</em>
<a id="L577" name="L577"></a> 577 
<a id="L578" name="L578"></a> 578         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L579" name="L579"></a> 579             <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L580" name="L580"></a> 580         <em class="brace">}</em>
<a id="L581" name="L581"></a> 581 
<a id="L582" name="L582"></a> 582         <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../R/27794.html" title="Multiple referred from 133 places.">setName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>) <em class="brace">{</em>
<a id="L583" name="L583"></a> 583             <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>)) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584                 <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>;
<a id="L585" name="L585"></a> 585                 <a href="../S/853.html#L644" title="Defined at 644 in src/java/util/ResourceBundle.java.">calculateHashCode</a>();
<a id="L586" name="L586"></a> 586             <em class="brace">}</em>
<a id="L587" name="L587"></a> 587             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L588" name="L588"></a> 588         <em class="brace">}</em>
<a id="L589" name="L589"></a> 589 
<a id="L590" name="L590"></a> 590         <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../R/17438.html" title="Multiple referred from 191 places.">getLocale</a>() <em class="brace">{</em>
<a id="L591" name="L591"></a> 591             <strong class="reserved">return</strong> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L592" name="L592"></a> 592         <em class="brace">}</em>
<a id="L593" name="L593"></a> 593 
<a id="L594" name="L594"></a> 594         <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../R/27688.html" title="Multiple referred from 47 places.">setLocale</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L595" name="L595"></a> 595             <strong class="reserved">if</strong> (!<strong class="reserved">this</strong>.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>)) <em class="brace">{</em>
<a id="L596" name="L596"></a> 596                 <strong class="reserved">this</strong>.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L597" name="L597"></a> 597                 <a href="../S/853.html#L644" title="Defined at 644 in src/java/util/ResourceBundle.java.">calculateHashCode</a>();
<a id="L598" name="L598"></a> 598             <em class="brace">}</em>
<a id="L599" name="L599"></a> 599             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L600" name="L600"></a> 600         <em class="brace">}</em>
<a id="L601" name="L601"></a> 601 
<a id="L602" name="L602"></a> 602         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> <a href="../R/17404.html" title="Multiple referred from 10 places.">getLoader</a>() <em class="brace">{</em>
<a id="L603" name="L603"></a> 603             <strong class="reserved">return</strong> (loaderRef != <strong class="reserved">null</strong>) ? loaderRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() : <strong class="reserved">null</strong>;
<a id="L604" name="L604"></a> 604         <em class="brace">}</em>
<a id="L605" name="L605"></a> 605 
<a id="L606" name="L606"></a> 606         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> other) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607             <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == other) <em class="brace">{</em>
<a id="L608" name="L608"></a> 608                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L609" name="L609"></a> 609             <em class="brace">}</em>
<a id="L610" name="L610"></a> 610             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L611" name="L611"></a> 611                 <strong class="reserved">final</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> otherEntry = (<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>)other;
<a id="L612" name="L612"></a> 612                 <em class="comment">//quick check to see if they are not equal</em>
<a id="L613" name="L613"></a> 613                 <strong class="reserved">if</strong> (hashCodeCache != otherEntry.hashCodeCache) <em class="brace">{</em>
<a id="L614" name="L614"></a> 614                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L615" name="L615"></a> 615                 <em class="brace">}</em>
<a id="L616" name="L616"></a> 616                 <em class="comment">//are the names the same?</em>
<a id="L617" name="L617"></a> 617                 <strong class="reserved">if</strong> (!<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherEntry.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>)) <em class="brace">{</em>
<a id="L618" name="L618"></a> 618                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L619" name="L619"></a> 619                 <em class="brace">}</em>
<a id="L620" name="L620"></a> 620                 <em class="comment">// are the locales the same?</em>
<a id="L621" name="L621"></a> 621                 <strong class="reserved">if</strong> (!<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(otherEntry.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>)) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L623" name="L623"></a> 623                 <em class="brace">}</em>
<a id="L624" name="L624"></a> 624                 <em class="comment">//are refs (both non-null) or (both null)?</em>
<a id="L625" name="L625"></a> 625                 <strong class="reserved">if</strong> (loaderRef == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                     <strong class="reserved">return</strong> otherEntry.loaderRef == <strong class="reserved">null</strong>;
<a id="L627" name="L627"></a> 627                 <em class="brace">}</em>
<a id="L628" name="L628"></a> 628                 <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader = loaderRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L629" name="L629"></a> 629                 <strong class="reserved">return</strong> (otherEntry.loaderRef != <strong class="reserved">null</strong>)
<a id="L630" name="L630"></a> 630                         <em class="comment">// with a null reference we can no longer find</em>
<a id="L631" name="L631"></a> 631                         <em class="comment">// out which class loader was referenced; so</em>
<a id="L632" name="L632"></a> 632                         <em class="comment">// treat it as unequal</em>
<a id="L633" name="L633"></a> 633                         &amp;&amp; (loader != <strong class="reserved">null</strong>)
<a id="L634" name="L634"></a> 634                         &amp;&amp; (loader == otherEntry.loaderRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>());
<a id="L635" name="L635"></a> 635             <em class="brace">}</em> <strong class="reserved">catch</strong> (    <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> | <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a> e) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636             <em class="brace">}</em>
<a id="L637" name="L637"></a> 637             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L638" name="L638"></a> 638         <em class="brace">}</em>
<a id="L639" name="L639"></a> 639 
<a id="L640" name="L640"></a> 640         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L641" name="L641"></a> 641             <strong class="reserved">return</strong> hashCodeCache;
<a id="L642" name="L642"></a> 642         <em class="brace">}</em>
<a id="L643" name="L643"></a> 643 
<a id="L644" name="L644"></a> 644         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/10805.html" title="Multiple referred from 3 places.">calculateHashCode</a>() <em class="brace">{</em>
<a id="L645" name="L645"></a> 645             hashCodeCache = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() &lt;&lt; 3;
<a id="L646" name="L646"></a> 646             hashCodeCache ^= <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L647" name="L647"></a> 647             <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader = <a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>();
<a id="L648" name="L648"></a> 648             <strong class="reserved">if</strong> (loader != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L649" name="L649"></a> 649                 hashCodeCache ^= loader.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L650" name="L650"></a> 650             <em class="brace">}</em>
<a id="L651" name="L651"></a> 651         <em class="brace">}</em>
<a id="L652" name="L652"></a> 652 
<a id="L653" name="L653"></a> 653         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L654" name="L654"></a> 654             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L655" name="L655"></a> 655                 <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a> = (<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L656" name="L656"></a> 656                 <strong class="reserved">if</strong> (loaderRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657                     <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.loaderRef = <strong class="reserved">new</strong> <a href="../S/853.html#L720" title="Defined at 720 in src/java/util/ResourceBundle.java.">LoaderReference</a>(loaderRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(),
<a id="L658" name="L658"></a> 658                                                           referenceQueue, <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>);
<a id="L659" name="L659"></a> 659                 <em class="brace">}</em>
<a id="L660" name="L660"></a> 660                 <em class="comment">// Clear the reference to a Throwable</em>
<a id="L661" name="L661"></a> 661                 <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>.cause = <strong class="reserved">null</strong>;
<a id="L662" name="L662"></a> 662                 <strong class="reserved">return</strong> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>;
<a id="L663" name="L663"></a> 663             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L664" name="L664"></a> 664                 <em class="comment">//this should never happen</em>
<a id="L665" name="L665"></a> 665                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(e);
<a id="L666" name="L666"></a> 666             <em class="brace">}</em>
<a id="L667" name="L667"></a> 667         <em class="brace">}</em>
<a id="L668" name="L668"></a> 668 
<a id="L669" name="L669"></a> 669         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16695.html" title="Multiple referred from 25 places.">getFormat</a>() <em class="brace">{</em>
<a id="L670" name="L670"></a> 670             <strong class="reserved">return</strong> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L671" name="L671"></a> 671         <em class="brace">}</em>
<a id="L672" name="L672"></a> 672 
<a id="L673" name="L673"></a> 673         <strong class="reserved">void</strong> <a href="../R/27441.html" title="Multiple referred from 6 places.">setFormat</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>) <em class="brace">{</em>
<a id="L674" name="L674"></a> 674             <strong class="reserved">this</strong>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L675" name="L675"></a> 675         <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27015.html" title="Multiple referred from 3 places.">setCause</a>(<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L678" name="L678"></a> 678             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.cause == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679                 <strong class="reserved">this</strong>.cause = cause;
<a id="L680" name="L680"></a> 680             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L681" name="L681"></a> 681                 <em class="comment">// Override the cause if the previous one is</em>
<a id="L682" name="L682"></a> 682                 <em class="comment">// ClassNotFoundException.</em>
<a id="L683" name="L683"></a> 683                 <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.cause <strong class="reserved">instanceof</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>) <em class="brace">{</em>
<a id="L684" name="L684"></a> 684                     <strong class="reserved">this</strong>.cause = cause;
<a id="L685" name="L685"></a> 685                 <em class="brace">}</em>
<a id="L686" name="L686"></a> 686             <em class="brace">}</em>
<a id="L687" name="L687"></a> 687         <em class="brace">}</em>
<a id="L688" name="L688"></a> 688 
<a id="L689" name="L689"></a> 689         <strong class="reserved">private</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <a href="../R/15467.html" title="Multiple referred from 93 places.">getCause</a>() <em class="brace">{</em>
<a id="L690" name="L690"></a> 690             <strong class="reserved">return</strong> cause;
<a id="L691" name="L691"></a> 691         <em class="brace">}</em>
<a id="L692" name="L692"></a> 692 
<a id="L693" name="L693"></a> 693         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L694" name="L694"></a> 694             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> l = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L695" name="L695"></a> 695             <strong class="reserved">if</strong> (l.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696                 <strong class="reserved">if</strong> (<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0) <em class="brace">{</em>
<a id="L697" name="L697"></a> 697                     l = "__" + <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>();
<a id="L698" name="L698"></a> 698                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L699" name="L699"></a> 699                     l = "\"\"";
<a id="L700" name="L700"></a> 700                 <em class="brace">}</em>
<a id="L701" name="L701"></a> 701             <em class="brace">}</em>
<a id="L702" name="L702"></a> 702             <strong class="reserved">return</strong> "CacheKey[" + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> + ", lc=" + l + ", ldr=" + <a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>()
<a id="L703" name="L703"></a> 703                 + "(format=" + <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> + ")]";
<a id="L704" name="L704"></a> 704         <em class="brace">}</em>
<a id="L705" name="L705"></a> 705     <em class="brace">}</em>
<a id="L706" name="L706"></a> 706 
<div class="comment">
      The common interface to get a CacheKey in LoaderReference and
      BundleReference.</div>
<a id="L711" name="L711"></a> 711     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">interface</strong> <a href="../R/1126.html" title="Multiple referred from 3 places.">CacheKeyReference</a> <em class="brace">{</em>
<a id="L712" name="L712"></a> 712         <strong class="reserved">public</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../R/15407.html" title="Multiple referred from 2 places.">getCacheKey</a>();
<a id="L713" name="L713"></a> 713     <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<div class="comment">
      References to class loaders are weak references, so that they can be
      garbage collected when nobody else is using them. The ResourceBundle
      class has no reason to keep class loaders alive.</div>
<a id="L720" name="L720"></a> 720     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4675.html" title="Multiple referred from 3 places.">LoaderReference</a> <strong class="reserved">extends</strong> <a href="../S/1569.html#L48" title="Defined at 48 in src/java/lang/ref/WeakReference.java.">WeakReference</a>&lt;<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>&gt;
<a id="L721" name="L721"></a> 721                                          <strong class="reserved">implements</strong> <a href="../S/853.html#L711" title="Defined at 711 in src/java/util/ResourceBundle.java.">CacheKeyReference</a> <em class="brace">{</em>
<a id="L722" name="L722"></a> 722         <strong class="reserved">private</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey;
<a id="L723" name="L723"></a> 723 
<a id="L724" name="L724"></a> 724         LoaderReference(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> referent, <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; q, <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L725" name="L725"></a> 725             <strong class="reserved">super</strong>(referent, q);
<a id="L726" name="L726"></a> 726             cacheKey = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L727" name="L727"></a> 727         <em class="brace">}</em>
<a id="L728" name="L728"></a> 728 
<a id="L729" name="L729"></a> 729         <strong class="reserved">public</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../R/15407.html" title="Multiple referred from 2 places.">getCacheKey</a>() <em class="brace">{</em>
<a id="L730" name="L730"></a> 730             <strong class="reserved">return</strong> cacheKey;
<a id="L731" name="L731"></a> 731         <em class="brace">}</em>
<a id="L732" name="L732"></a> 732     <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<div class="comment">
      References to bundles are soft references so that they can be garbage
      collected when they have no hard references.</div>
<a id="L738" name="L738"></a> 738     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/937.html" title="Multiple referred from 6 places.">BundleReference</a> <strong class="reserved">extends</strong> <a href="../S/1564.html#L64" title="Defined at 64 in src/java/lang/ref/SoftReference.java.">SoftReference</a>&lt;<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a>&gt;
<a id="L739" name="L739"></a> 739                                          <strong class="reserved">implements</strong> <a href="../S/853.html#L711" title="Defined at 711 in src/java/util/ResourceBundle.java.">CacheKeyReference</a> <em class="brace">{</em>
<a id="L740" name="L740"></a> 740         <strong class="reserved">private</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey;
<a id="L741" name="L741"></a> 741 
<a id="L742" name="L742"></a> 742         BundleReference(<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> referent, <a href="../S/1565.html#L36" title="Defined at 36 in src/java/lang/ref/ReferenceQueue.java.">ReferenceQueue</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; q, <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L743" name="L743"></a> 743             <strong class="reserved">super</strong>(referent, q);
<a id="L744" name="L744"></a> 744             cacheKey = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L745" name="L745"></a> 745         <em class="brace">}</em>
<a id="L746" name="L746"></a> 746 
<a id="L747" name="L747"></a> 747         <strong class="reserved">public</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../R/15407.html" title="Multiple referred from 2 places.">getCacheKey</a>() <em class="brace">{</em>
<a id="L748" name="L748"></a> 748             <strong class="reserved">return</strong> cacheKey;
<a id="L749" name="L749"></a> 749         <em class="brace">}</em>
<a id="L750" name="L750"></a> 750     <em class="brace">}</em>
<a id="L751" name="L751"></a> 751 
<div class="comment">
      Gets a resource bundle using the specified base name, the default locale,
      and the caller's class loader. Calling this method is equivalent to calling
      <blockquote>
      <code>getBundle(baseName, Locale.getDefault(), this.getClass().getClassLoader())</code>,
      </blockquote>
      except that <code>getClassLoader()</code> is run with the security
      privileges of <code>ResourceBundle</code>.
      See {@link #getBundle(String, Locale, ClassLoader) getBundle}
      for a complete description of the search and instantiation strategy.
      @param baseName the base name of the resource bundle, a fully qualified class name
      @exception java.lang.NullPointerException
          if <code>baseName</code> is <code>null</code>
      @exception MissingResourceException
          if no resource bundle for the specified base name can be found
      @return a resource bundle for the given base name and the default locale</div>
<a id="L770" name="L770"></a> 770     @CallerSensitive
<a id="L771" name="L771"></a> 771     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15355.html" title="Multiple referred from 37 places.">getBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>)
<a id="L772" name="L772"></a> 772     <em class="brace">{</em>
<a id="L773" name="L773"></a> 773         <strong class="reserved">return</strong> <a href="../S/853.html#L1314" title="Defined at 1314 in src/java/util/ResourceBundle.java.">getBundleImpl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(),
<a id="L774" name="L774"></a> 774                              <a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(Reflection.getCallerClass()),
<a id="L775" name="L775"></a> 775                              <a href="../S/853.html#L1302" title="Defined at 1302 in src/java/util/ResourceBundle.java.">getDefaultControl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>));
<a id="L776" name="L776"></a> 776     <em class="brace">}</em>
<a id="L777" name="L777"></a> 777 
<div class="comment">
      Returns a resource bundle using the specified base name, the
      default locale and the specified control. Calling this method
      is equivalent to calling
      <pre>      getBundle(baseName, Locale.getDefault(),
                this.getClass().getClassLoader(), control),
      </pre>
      except that <code>getClassLoader()</code> is run with the security
      privileges of <code>ResourceBundle</code>.  See {@link
      #getBundle(String, Locale, ClassLoader, Control) getBundle} for the
      complete description of the resource bundle loading process with a
      <code>ResourceBundle.Control</code>.
      @param baseName
             the base name of the resource bundle, a fully qualified class
             name
      @param control
             the control which gives information for the resource bundle
             loading process
      @return a resource bundle for the given base name and the default
             locale
      @exception NullPointerException
             if <code>baseName</code> or <code>control</code> is
             <code>null</code>
      @exception MissingResourceException
             if no resource bundle for the specified base name can be found
      @exception IllegalArgumentException
             if the given <code>control</code> doesn't perform properly
             (e.g., <code>control.getCandidateLocales</code> returns null.)
             Note that validation of <code>control</code> is performed as
             needed.
      @since 1.6</div>
<a id="L812" name="L812"></a> 812     @CallerSensitive
<a id="L813" name="L813"></a> 813     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15355.html" title="Multiple referred from 37 places.">getBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>,
<a id="L814" name="L814"></a> 814                                                  <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L815" name="L815"></a> 815         <strong class="reserved">return</strong> <a href="../S/853.html#L1314" title="Defined at 1314 in src/java/util/ResourceBundle.java.">getBundleImpl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>(),
<a id="L816" name="L816"></a> 816                              <a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(Reflection.getCallerClass()),
<a id="L817" name="L817"></a> 817                              control);
<a id="L818" name="L818"></a> 818     <em class="brace">}</em>
<a id="L819" name="L819"></a> 819 
<div class="comment">
      Gets a resource bundle using the specified base name and locale,
      and the caller's class loader. Calling this method is equivalent to calling
      <blockquote>
      <code>getBundle(baseName, locale, this.getClass().getClassLoader())</code>,
      </blockquote>
      except that <code>getClassLoader()</code> is run with the security
      privileges of <code>ResourceBundle</code>.
      See {@link #getBundle(String, Locale, ClassLoader) getBundle}
      for a complete description of the search and instantiation strategy.
      @param baseName
             the base name of the resource bundle, a fully qualified class name
      @param locale
             the locale for which a resource bundle is desired
      @exception NullPointerException
             if <code>baseName</code> or <code>locale</code> is <code>null</code>
      @exception MissingResourceException
             if no resource bundle for the specified base name can be found
      @return a resource bundle for the given base name and locale</div>
<a id="L841" name="L841"></a> 841     @CallerSensitive
<a id="L842" name="L842"></a> 842     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15355.html" title="Multiple referred from 37 places.">getBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>,
<a id="L843" name="L843"></a> 843                                                  <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>)
<a id="L844" name="L844"></a> 844     <em class="brace">{</em>
<a id="L845" name="L845"></a> 845         <strong class="reserved">return</strong> <a href="../S/853.html#L1314" title="Defined at 1314 in src/java/util/ResourceBundle.java.">getBundleImpl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L846" name="L846"></a> 846                              <a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(Reflection.getCallerClass()),
<a id="L847" name="L847"></a> 847                              <a href="../S/853.html#L1302" title="Defined at 1302 in src/java/util/ResourceBundle.java.">getDefaultControl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>));
<a id="L848" name="L848"></a> 848     <em class="brace">}</em>
<a id="L849" name="L849"></a> 849 
<div class="comment">
      Returns a resource bundle using the specified base name, target
      locale and control, and the caller's class loader. Calling this
      method is equivalent to calling
      <pre>      getBundle(baseName, targetLocale, this.getClass().getClassLoader(),
                control),
      </pre>
      except that <code>getClassLoader()</code> is run with the security
      privileges of <code>ResourceBundle</code>.  See {@link
      #getBundle(String, Locale, ClassLoader, Control) getBundle} for the
      complete description of the resource bundle loading process with a
      <code>ResourceBundle.Control</code>.
      @param baseName
             the base name of the resource bundle, a fully qualified
             class name
      @param targetLocale
             the locale for which a resource bundle is desired
      @param control
             the control which gives information for the resource
             bundle loading process
      @return a resource bundle for the given base name and a
             <code>Locale</code> in <code>locales</code>
      @exception NullPointerException
             if <code>baseName</code>, <code>locales</code> or
             <code>control</code> is <code>null</code>
      @exception MissingResourceException
             if no resource bundle for the specified base name in any
             of the <code>locales</code> can be found.
      @exception IllegalArgumentException
             if the given <code>control</code> doesn't perform properly
             (e.g., <code>control.getCandidateLocales</code> returns null.)
             Note that validation of <code>control</code> is performed as
             needed.
      @since 1.6</div>
<a id="L887" name="L887"></a> 887     @CallerSensitive
<a id="L888" name="L888"></a> 888     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15355.html" title="Multiple referred from 37 places.">getBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> targetLocale,
<a id="L889" name="L889"></a> 889                                                  <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L890" name="L890"></a> 890         <strong class="reserved">return</strong> <a href="../S/853.html#L1314" title="Defined at 1314 in src/java/util/ResourceBundle.java.">getBundleImpl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, targetLocale,
<a id="L891" name="L891"></a> 891                              <a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(Reflection.getCallerClass()),
<a id="L892" name="L892"></a> 892                              control);
<a id="L893" name="L893"></a> 893     <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<div class="comment">
      Gets a resource bundle using the specified base name, locale, and class
      loader.
      <p>This method behaves the same as calling
      {@link #getBundle(String, Locale, ClassLoader, Control)} passing a
      default instance of <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> unless another <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> is
      provided with the <a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a> SPI. Refer to the
      description of <a href="#modify_default_behavior">modifying the default
      behavior</a>.
      </p><p><a name="default_behavior">The following describes the default
      behavior</a>.
      </p><p><code>getBundle</code> uses the base name, the specified locale, and
      the default locale (obtained from {@link java.util.Locale#getDefault()
      Locale.getDefault}) to generate a sequence of <a name="candidates"><em>candidate bundle names</em></a>.  If the specified
      locale's language, script, country, and variant are all empty strings,
      then the base name is the only candidate bundle name.  Otherwise, a list
      of candidate locales is generated from the attribute values of the
      specified locale (language, script, country and variant) and appended to
      the base name.  Typically, this will look like the following:
      </p><pre>          baseName + "_" + language + "_" + script + "_" + country + "_" + variant
          baseName + "_" + language + "_" + script + "_" + country
          baseName + "_" + language + "_" + script
          baseName + "_" + language + "_" + country + "_" + variant
          baseName + "_" + language + "_" + country
          baseName + "_" + language
      </pre>
      <p>Candidate bundle names where the final component is an empty string
      are omitted, along with the underscore.  For example, if country is an
      empty string, the second and the fifth candidate bundle names above
      would be omitted.  Also, if script is an empty string, the candidate names
      including script are omitted.  For example, a locale with language "de"
      and variant "JAVA" will produce candidate names with base name
      "MyResource" below.
      </p><pre>          MyResource_de__JAVA
          MyResource_de
      </pre>
      In the case that the variant contains one or more underscores ('_'), a
      sequence of bundle names generated by truncating the last underscore and
      the part following it is inserted after a candidate bundle name with the
      original variant.  For example, for a locale with language "en", script
      "Latn, country "US" and variant "WINDOWS_VISTA", and bundle base name
      "MyResource", the list of candidate bundle names below is generated:
      <pre>      MyResource_en_Latn_US_WINDOWS_VISTA
      MyResource_en_Latn_US_WINDOWS
      MyResource_en_Latn_US
      MyResource_en_Latn
      MyResource_en_US_WINDOWS_VISTA
      MyResource_en_US_WINDOWS
      MyResource_en_US
      MyResource_en
      </pre>
      <blockquote><b>Note:</b> For some <code>Locale</code>s, the list of
      candidate bundle names contains extra names, or the order of bundle names
      is slightly modified.  See the description of the default implementation
      of {@link Control#getCandidateLocales(String, Locale)
      getCandidateLocales} for details.</blockquote>
      <p><code>getBundle</code> then iterates over the candidate bundle names
      to find the first one for which it can <em>instantiate</em> an actual
      resource bundle. It uses the default controls' {@link Control#getFormats
      getFormats} method, which generates two bundle names for each generated
      name, the first a class name and the second a properties file name. For
      each candidate bundle name, it attempts to create a resource bundle:
      </p><ul><li>First, it attempts to load a class using the generated class name.
      If such a class can be found and loaded using the specified class
      loader, is assignment compatible with ResourceBundle, is accessible from
      ResourceBundle, and can be instantiated, <code>getBundle</code> creates a
      new instance of this class and uses it as the <em>result resource
      bundle</em>.
      </li><li>Otherwise, <code>getBundle</code> attempts to locate a property
      resource file using the generated properties file name.  It generates a
      path name from the candidate bundle name by replacing all "." characters
      with "/" and appending the string ".properties".  It attempts to find a
      "resource" with this name using {@link
      java.lang.ClassLoader#getResource(java.lang.String)
      ClassLoader.getResource}.  (Note that a "resource" in the sense of
      <code>getResource</code> has nothing to do with the contents of a
      resource bundle, it is just a container of data, such as a file.)  If it
      finds a "resource", it attempts to create a new {@link
      PropertyResourceBundle} instance from its contents.  If successful, this
      instance becomes the <em>result resource bundle</em>.  </li></ul>
      <p>This continues until a result resource bundle is instantiated or the
      list of candidate bundle names is exhausted.  If no matching resource
      bundle is found, the default control's {@link Control#getFallbackLocale
      getFallbackLocale} method is called, which returns the current default
      locale.  A new sequence of candidate locale names is generated using this
      locale and and searched again, as above.
      </p><p>If still no result bundle is found, the base name alone is looked up. If
      this still fails, a <code>MissingResourceException</code> is thrown.
      </p><p><a name="parent_chain"> Once a result resource bundle has been found,
      its <em>parent chain</em> is instantiated</a>.  If the result bundle already
      has a parent (perhaps because it was returned from a cache) the chain is
      complete.
      </p><p>Otherwise, <code>getBundle</code> examines the remainder of the
      candidate locale list that was used during the pass that generated the
      result resource bundle.  (As before, candidate bundle names where the
      final component is an empty string are omitted.)  When it comes to the
      end of the candidate list, it tries the plain bundle name.  With each of the
      candidate bundle names it attempts to instantiate a resource bundle (first
      looking for a class and then a properties file, as described above).
      </p><p>Whenever it succeeds, it calls the previously instantiated resource
      bundle's {@link #setParent(java.util.ResourceBundle) setParent} method
      with the new resource bundle.  This continues until the list of names
      is exhausted or the current bundle already has a non-null parent.
      </p><p>Once the parent chain is complete, the bundle is returned.
      </p><p><b>Note:</b> <code>getBundle</code> caches instantiated resource
      bundles and might return the same resource bundle instance multiple times.
      </p><p><b>Note:</b>The <code>baseName</code> argument should be a fully
      qualified class name. However, for compatibility with earlier versions,
      Sun's Java SE Runtime Environments do not verify this, and so it is
      possible to access <code>PropertyResourceBundle</code>s by specifying a
      path name (using "/") instead of a fully qualified class name (using
      ".").
      </p><p><a name="default_behavior_example">
      <strong>Example:</strong></a>
      </p><p>
      The following class and property files are provided:
      </p><pre>          MyResources.class
          MyResources.properties
          MyResources_fr.properties
          MyResources_fr_CH.class
          MyResources_fr_CH.properties
          MyResources_en.properties
          MyResources_es_ES.class
      </pre>
      The contents of all files are valid (that is, public non-abstract
      subclasses of <code>ResourceBundle</code> for the ".class" files,
      syntactically correct ".properties" files).  The default locale is
      <code>Locale("en", "GB")</code>.
      <p>Calling <code>getBundle</code> with the locale arguments below will
      instantiate resource bundles as follows:
      </p><table summary="getBundle() locale to resource bundle mapping">
      <tbody><tr><td>Locale("fr", "CH")</td><td>MyResources_fr_CH.class, parent MyResources_fr.properties, parent MyResources.class</td></tr>
      <tr><td>Locale("fr", "FR")</td><td>MyResources_fr.properties, parent MyResources.class</td></tr>
      <tr><td>Locale("de", "DE")</td><td>MyResources_en.properties, parent MyResources.class</td></tr>
      <tr><td>Locale("en", "US")</td><td>MyResources_en.properties, parent MyResources.class</td></tr>
      <tr><td>Locale("es", "ES")</td><td>MyResources_es_ES.class, parent MyResources.class</td></tr>
      </tbody></table>
      <p>The file MyResources_fr_CH.properties is never used because it is
      hidden by the MyResources_fr_CH.class. Likewise, MyResources.properties
      is also hidden by MyResources.class.
      @param baseName the base name of the resource bundle, a fully qualified class name
      @param locale the locale for which a resource bundle is desired
      @param loader the class loader from which to load the resource bundle
      @return a resource bundle for the given base name and locale
      @exception java.lang.NullPointerException
             if <code>baseName</code>, <code>locale</code>, or <code>loader</code> is <code>null</code>
      @exception MissingResourceException
             if no resource bundle for the specified base name can be found
      @since 1.2</p></div>
<a id="L1076" name="L1076"></a>1076     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15355.html" title="Multiple referred from 37 places.">getBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L1077" name="L1077"></a>1077                                            <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader)
<a id="L1078" name="L1078"></a>1078     <em class="brace">{</em>
<a id="L1079" name="L1079"></a>1079         <strong class="reserved">if</strong> (loader == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1080" name="L1080"></a>1080             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1081" name="L1081"></a>1081         <em class="brace">}</em>
<a id="L1082" name="L1082"></a>1082         <strong class="reserved">return</strong> <a href="../S/853.html#L1314" title="Defined at 1314 in src/java/util/ResourceBundle.java.">getBundleImpl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, loader, <a href="../S/853.html#L1302" title="Defined at 1302 in src/java/util/ResourceBundle.java.">getDefaultControl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>));
<a id="L1083" name="L1083"></a>1083     <em class="brace">}</em>
<a id="L1084" name="L1084"></a>1084 
<div class="comment">
      Returns a resource bundle using the specified base name, target
      locale, class loader and control. Unlike the {@linkplain
      #getBundle(String, Locale, ClassLoader) <code>getBundle</code>
      factory methods with no <code>control</code> argument}, the given
      <code>control</code> specifies how to locate and instantiate resource
      bundles. Conceptually, the bundle loading process with the given
      <code>control</code> is performed in the following steps.
      <ol>
      <li>This factory method looks up the resource bundle in the cache for
      the specified <code>baseName</code>, <code>targetLocale</code> and
      <code>loader</code>.  If the requested resource bundle instance is
      found in the cache and the time-to-live periods of the instance and
      all of its parent instances have not expired, the instance is returned
      to the caller. Otherwise, this factory method proceeds with the
      loading process below.</li><li>The {@link ResourceBundle.Control#getFormats(String)
      control.getFormats} method is called to get resource bundle formats
      to produce bundle or resource names. The strings
      <code>"java.class"</code> and <code>"java.properties"</code>
      designate class-based and {@linkplain PropertyResourceBundle
      property}-based resource bundles, respectively. Other strings
      starting with <code>"java."</code> are reserved for future extensions
      and must not be used for application-defined formats. Other strings
      designate application-defined formats.</li><li>The {@link ResourceBundle.Control#getCandidateLocales(String,
      Locale) control.getCandidateLocales} method is called with the target
      locale to get a list of <em>candidate <code>Locale</code>s</em> for
      which resource bundles are searched.</li><li>The {@link ResourceBundle.Control#newBundle(String, Locale,
      String, ClassLoader, boolean) control.newBundle} method is called to
      instantiate a <code>ResourceBundle</code> for the base bundle name, a
      candidate locale, and a format. (Refer to the note on the cache
      lookup below.) This step is iterated over all combinations of the
      candidate locales and formats until the <code>newBundle</code> method
      returns a <code>ResourceBundle</code> instance or the iteration has
      used up all the combinations. For example, if the candidate locales
      are <code>Locale("de", "DE")</code>, <code>Locale("de")</code> and
      <code>Locale("")</code> and the formats are <code>"java.class"</code>
      and <code>"java.properties"</code>, then the following is the
      sequence of locale-format combinations to be used to call
      <code>control.newBundle</code>.
      <table style="width: 50%; text-align: left; margin-left: 40px;" border="0" cellpadding="2" cellspacing="2" summary="locale-format combinations for newBundle">
      <tbody>
      <tr>
      <td style="vertical-align: top; text-align: left; font-weight: bold; width: 50%;"><code>Locale</code><br>
      </td>
      <td style="vertical-align: top; text-align: left; font-weight: bold; width: 50%;"><code>format</code><br>
      </td>
      </tr>
      <tr>
      <td style="vertical-align: top; width: 50%;"><code>Locale("de", "DE")</code><br>
      </td>
      <td style="vertical-align: top; width: 50%;"><code>java.class</code><br>
      </td>
      </tr>
      <tr>
      <td style="vertical-align: top; width: 50%;"><code>Locale("de", "DE")</code></td>
      <td style="vertical-align: top; width: 50%;"><code>java.properties</code><br>
      </td>
      </tr>
      <tr>
      <td style="vertical-align: top; width: 50%;"><code>Locale("de")</code></td>
      <td style="vertical-align: top; width: 50%;"><code>java.class</code></td>
      </tr>
      <tr>
      <td style="vertical-align: top; width: 50%;"><code>Locale("de")</code></td>
      <td style="vertical-align: top; width: 50%;"><code>java.properties</code></td>
      </tr>
      <tr>
      <td style="vertical-align: top; width: 50%;"><code>Locale("")</code><br>
      </td>
      <td style="vertical-align: top; width: 50%;"><code>java.class</code></td>
      </tr>
      <tr>
      <td style="vertical-align: top; width: 50%;"><code>Locale("")</code></td>
      <td style="vertical-align: top; width: 50%;"><code>java.properties</code></td>
      </tr>
      </tbody>
      </table>
      </li><li>If the previous step has found no resource bundle, proceed to
      Step 6. If a bundle has been found that is a base bundle (a bundle
      for <code>Locale("")</code>), and the candidate locale list only contained
      <code>Locale("")</code>, return the bundle to the caller. If a bundle
      has been found that is a base bundle, but the candidate locale list
      contained locales other than Locale(""), put the bundle on hold and
      proceed to Step 6. If a bundle has been found that is not a base
      bundle, proceed to Step 7.</li><li>The {@link ResourceBundle.Control#getFallbackLocale(String,
      Locale) control.getFallbackLocale} method is called to get a fallback
      locale (alternative to the current target locale) to try further
      finding a resource bundle. If the method returns a non-null locale,
      it becomes the next target locale and the loading process starts over
      from Step 3. Otherwise, if a base bundle was found and put on hold in
      a previous Step 5, it is returned to the caller now. Otherwise, a
      MissingResourceException is thrown.</li><li>At this point, we have found a resource bundle that's not the
      base bundle. If this bundle set its parent during its instantiation,
      it is returned to the caller. Otherwise, its <a href="./ResourceBundle.html#parent_chain">parent chain</a> is
      instantiated based on the list of candidate locales from which it was
      found. Finally, the bundle is returned to the caller.</li><li>Base bundle name: <code>foo.bar.Messages</code>
      </li><li>Requested <code>Locale</code>: {@link Locale#ITALY}</li><li>Default <code>Locale</code>: {@link Locale#FRENCH}</li><li>Available resource bundles:
      <code>foo/bar/Messages_fr.properties</code> and
      <code>foo/bar/Messages.properties</code></li>
      <p>First, <code>getBundle</code> tries loading a resource bundle in
      the following sequence.
      </p><ul><li>class <code>foo.bar.Messages_it_IT</code>
      </li><li>file <code>foo/bar/Messages_it_IT.properties</code>
      </li><li>class <code>foo.bar.Messages_it</code></li><li>file <code>foo/bar/Messages_it.properties</code></li><li>class <code>foo.bar.Messages</code></li><li>file <code>foo/bar/Messages.properties</code></li>
      </ul>
      <p>At this point, <code>getBundle</code> finds
      <code>foo/bar/Messages.properties</code>, which is put on hold
      because it's the base bundle.  <code>getBundle</code> calls {@link
      Control#getFallbackLocale(String, Locale)
      control.getFallbackLocale("foo.bar.Messages", Locale.ITALY)} which
      returns <code>Locale.FRENCH</code>. Next, <code>getBundle</code>
      tries loading a bundle in the following sequence.
      </p><ul><li>class <code>foo.bar.Messages_fr</code></li><li>file <code>foo/bar/Messages_fr.properties</code></li><li>class <code>foo.bar.Messages</code></li><li>file <code>foo/bar/Messages.properties</code></li>
      </ul>
      <p><code>getBundle</code> finds
      <code>foo/bar/Messages_fr.properties</code> and creates a
      <code>ResourceBundle</code> instance. Then, <code>getBundle</code>
      sets up its parent chain from the list of the candidate locales.  Only
      <code>foo/bar/Messages.properties</code> is found in the list and
      <code>getBundle</code> creates a <code>ResourceBundle</code> instance
      that becomes the parent of the instance for
      <code>foo/bar/Messages_fr.properties</code>.
      @param baseName
             the base name of the resource bundle, a fully qualified
             class name
      @param targetLocale
             the locale for which a resource bundle is desired
      @param loader
             the class loader from which to load the resource bundle
      @param control
             the control which gives information for the resource
             bundle loading process
      @return a resource bundle for the given base name and locale
      @exception NullPointerException
             if <code>baseName</code>, <code>targetLocale</code>,
             <code>loader</code>, or <code>control</code> is
             <code>null</code>
      @exception MissingResourceException
             if no resource bundle for the specified base name can be found
      @exception IllegalArgumentException
             if the given <code>control</code> doesn't perform properly
             (e.g., <code>control.getCandidateLocales</code> returns null.)
             Note that validation of <code>control</code> is performed as
             needed.
      @since 1.6</p></ol></div>
<a id="L1294" name="L1294"></a>1294     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15355.html" title="Multiple referred from 37 places.">getBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> targetLocale,
<a id="L1295" name="L1295"></a>1295                                            <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader, <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L1296" name="L1296"></a>1296         <strong class="reserved">if</strong> (loader == <strong class="reserved">null</strong> || control == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1297" name="L1297"></a>1297             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1298" name="L1298"></a>1298         <em class="brace">}</em>
<a id="L1299" name="L1299"></a>1299         <strong class="reserved">return</strong> <a href="../S/853.html#L1314" title="Defined at 1314 in src/java/util/ResourceBundle.java.">getBundleImpl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, targetLocale, loader, control);
<a id="L1300" name="L1300"></a>1300     <em class="brace">}</em>
<a id="L1301" name="L1301"></a>1301 
<a id="L1302" name="L1302"></a>1302     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> <a href="../R/16016.html" title="Multiple referred from 3 places.">getDefaultControl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>) <em class="brace">{</em>
<a id="L1303" name="L1303"></a>1303         <strong class="reserved">if</strong> (<a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1304" name="L1304"></a>1304             <strong class="reserved">for</strong> (<a href="../S/1031.html#L51" title="Defined at 51 in src/java/util/spi/ResourceBundleControlProvider.java.">ResourceBundleControlProvider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> : <a href="../S/2005.html#L337" title="Defined at 337 in src/java/nio/charset/Charset.java.">providers</a>) <em class="brace">{</em>
<a id="L1305" name="L1305"></a>1305                 <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control = <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/17994.html" title="Multiple defined in 5 places.">getControl</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>);
<a id="L1306" name="L1306"></a>1306                 <strong class="reserved">if</strong> (control != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1307" name="L1307"></a>1307                     <strong class="reserved">return</strong> control;
<a id="L1308" name="L1308"></a>1308                 <em class="brace">}</em>
<a id="L1309" name="L1309"></a>1309             <em class="brace">}</em>
<a id="L1310" name="L1310"></a>1310         <em class="brace">}</em>
<a id="L1311" name="L1311"></a>1311         <strong class="reserved">return</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.INSTANCE;
<a id="L1312" name="L1312"></a>1312     <em class="brace">}</em>
<a id="L1313" name="L1313"></a>1313 
<a id="L1314" name="L1314"></a>1314     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/15356.html" title="Multiple referred from 6 places.">getBundleImpl</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L1315" name="L1315"></a>1315                                                 <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader, <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L1316" name="L1316"></a>1316         <strong class="reserved">if</strong> (<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> == <strong class="reserved">null</strong> || control == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1317" name="L1317"></a>1317             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1318" name="L1318"></a>1318         <em class="brace">}</em>
<a id="L1319" name="L1319"></a>1319 
<a id="L1320" name="L1320"></a>1320         <em class="comment">// We create a CacheKey here for use by this call. The base</em>
<a id="L1321" name="L1321"></a>1321         <em class="comment">// name and loader will never change during the bundle loading</em>
<a id="L1322" name="L1322"></a>1322         <em class="comment">// process. We have to make sure that the locale is set before</em>
<a id="L1323" name="L1323"></a>1323         <em class="comment">// using it as a cache key.</em>
<a id="L1324" name="L1324"></a>1324         <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey = <strong class="reserved">new</strong> <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, loader);
<a id="L1325" name="L1325"></a>1325         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle = <strong class="reserved">null</strong>;
<a id="L1326" name="L1326"></a>1326 
<a id="L1327" name="L1327"></a>1327         <em class="comment">// Quick lookup of the cache.</em>
<a id="L1328" name="L1328"></a>1328         <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a> bundleRef = cacheList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(cacheKey);
<a id="L1329" name="L1329"></a>1329         <strong class="reserved">if</strong> (bundleRef != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1330" name="L1330"></a>1330             bundle = bundleRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1331" name="L1331"></a>1331             bundleRef = <strong class="reserved">null</strong>;
<a id="L1332" name="L1332"></a>1332         <em class="brace">}</em>
<a id="L1333" name="L1333"></a>1333 
<a id="L1334" name="L1334"></a>1334         <em class="comment">// If this bundle and all of its parents are valid (not expired),</em>
<a id="L1335" name="L1335"></a>1335         <em class="comment">// then return this bundle. If any of the bundles is expired, we</em>
<a id="L1336" name="L1336"></a>1336         <em class="comment">// don't call control.needsReload here but instead drop into the</em>
<a id="L1337" name="L1337"></a>1337         <em class="comment">// complete loading process below.</em>
<a id="L1338" name="L1338"></a>1338         <strong class="reserved">if</strong> (<a href="../S/853.html#L1527" title="Defined at 1527 in src/java/util/ResourceBundle.java.">isValidBundle</a>(bundle) &amp;&amp; <a href="../S/853.html#L1535" title="Defined at 1535 in src/java/util/ResourceBundle.java.">hasValidParentChain</a>(bundle)) <em class="brace">{</em>
<a id="L1339" name="L1339"></a>1339             <strong class="reserved">return</strong> bundle;
<a id="L1340" name="L1340"></a>1340         <em class="brace">}</em>
<a id="L1341" name="L1341"></a>1341 
<a id="L1342" name="L1342"></a>1342         <em class="comment">// No valid bundle was found in the cache, so we need to load the</em>
<a id="L1343" name="L1343"></a>1343         <em class="comment">// resource bundle and its parents.</em>
<a id="L1344" name="L1344"></a>1344 
<a id="L1345" name="L1345"></a>1345         <strong class="reserved">boolean</strong> isKnownControl = (control == <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.INSTANCE) ||
<a id="L1346" name="L1346"></a>1346                                    (control <strong class="reserved">instanceof</strong> <a href="../S/853.html#L2958" title="Defined at 2958 in src/java/util/ResourceBundle.java.">SingleFormatControl</a>);
<a id="L1347" name="L1347"></a>1347         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats = control.<a href="../D/19212.html" title="Multiple defined in 5 places.">getFormats</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>);
<a id="L1348" name="L1348"></a>1348         <strong class="reserved">if</strong> (!isKnownControl &amp;&amp; !<a href="../S/853.html#L1399" title="Defined at 1399 in src/java/util/ResourceBundle.java.">checkList</a>(formats)) <em class="brace">{</em>
<a id="L1349" name="L1349"></a>1349             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid Control: getFormats");
<a id="L1350" name="L1350"></a>1350         <em class="brace">}</em>
<a id="L1351" name="L1351"></a>1351 
<a id="L1352" name="L1352"></a>1352         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> baseBundle = <strong class="reserved">null</strong>;
<a id="L1353" name="L1353"></a>1353         <strong class="reserved">for</strong> (<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> targetLocale = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>;
<a id="L1354" name="L1354"></a>1354              targetLocale != <strong class="reserved">null</strong>;
<a id="L1355" name="L1355"></a>1355              targetLocale = control.<a href="../D/18988.html" title="Multiple defined in 2 places.">getFallbackLocale</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, targetLocale)) <em class="brace">{</em>
<a id="L1356" name="L1356"></a>1356             <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; candidateLocales = control.<a href="../S/853.html#L2363" title="Defined at 2363 in src/java/util/ResourceBundle.java.">getCandidateLocales</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, targetLocale);
<a id="L1357" name="L1357"></a>1357             <strong class="reserved">if</strong> (!isKnownControl &amp;&amp; !<a href="../S/853.html#L1399" title="Defined at 1399 in src/java/util/ResourceBundle.java.">checkList</a>(candidateLocales)) <em class="brace">{</em>
<a id="L1358" name="L1358"></a>1358                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid Control: getCandidateLocales");
<a id="L1359" name="L1359"></a>1359             <em class="brace">}</em>
<a id="L1360" name="L1360"></a>1360 
<a id="L1361" name="L1361"></a>1361             bundle = <a href="../S/853.html#L1410" title="Defined at 1410 in src/java/util/ResourceBundle.java.">findBundle</a>(cacheKey, candidateLocales, formats, 0, control, baseBundle);
<a id="L1362" name="L1362"></a>1362 
<a id="L1363" name="L1363"></a>1363             <em class="comment">// If the loaded bundle is the base bundle and exactly for the</em>
<a id="L1364" name="L1364"></a>1364             <em class="comment">// requested locale or the only candidate locale, then take the</em>
<a id="L1365" name="L1365"></a>1365             <em class="comment">// bundle as the resulting one. If the loaded bundle is the base</em>
<a id="L1366" name="L1366"></a>1366             <em class="comment">// bundle, it's put on hold until we finish processing all</em>
<a id="L1367" name="L1367"></a>1367             <em class="comment">// fallback locales.</em>
<a id="L1368" name="L1368"></a>1368             <strong class="reserved">if</strong> (<a href="../S/853.html#L1527" title="Defined at 1527 in src/java/util/ResourceBundle.java.">isValidBundle</a>(bundle)) <em class="brace">{</em>
<a id="L1369" name="L1369"></a>1369                 <strong class="reserved">boolean</strong> isBaseBundle = <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(bundle.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L1370" name="L1370"></a>1370                 <strong class="reserved">if</strong> (!isBaseBundle || bundle.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>)
<a id="L1371" name="L1371"></a>1371                     || (candidateLocales.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 1
<a id="L1372" name="L1372"></a>1372                         &amp;&amp; bundle.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(candidateLocales.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0)))) <em class="brace">{</em>
<a id="L1373" name="L1373"></a>1373                     <strong class="reserved">break</strong>;
<a id="L1374" name="L1374"></a>1374                 <em class="brace">}</em>
<a id="L1375" name="L1375"></a>1375 
<a id="L1376" name="L1376"></a>1376                 <em class="comment">// If the base bundle has been loaded, keep the reference in</em>
<a id="L1377" name="L1377"></a>1377                 <em class="comment">// baseBundle so that we can avoid any redundant loading in case</em>
<a id="L1378" name="L1378"></a>1378                 <em class="comment">// the control specify not to cache bundles.</em>
<a id="L1379" name="L1379"></a>1379                 <strong class="reserved">if</strong> (isBaseBundle &amp;&amp; baseBundle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1380" name="L1380"></a>1380                     baseBundle = bundle;
<a id="L1381" name="L1381"></a>1381                 <em class="brace">}</em>
<a id="L1382" name="L1382"></a>1382             <em class="brace">}</em>
<a id="L1383" name="L1383"></a>1383         <em class="brace">}</em>
<a id="L1384" name="L1384"></a>1384 
<a id="L1385" name="L1385"></a>1385         <strong class="reserved">if</strong> (bundle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1386" name="L1386"></a>1386             <strong class="reserved">if</strong> (baseBundle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1387" name="L1387"></a>1387                 <a href="../S/853.html#L1556" title="Defined at 1556 in src/java/util/ResourceBundle.java.">throwMissingResourceException</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, cacheKey.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>());
<a id="L1388" name="L1388"></a>1388             <em class="brace">}</em>
<a id="L1389" name="L1389"></a>1389             bundle = baseBundle;
<a id="L1390" name="L1390"></a>1390         <em class="brace">}</em>
<a id="L1391" name="L1391"></a>1391 
<a id="L1392" name="L1392"></a>1392         <strong class="reserved">return</strong> bundle;
<a id="L1393" name="L1393"></a>1393     <em class="brace">}</em>
<a id="L1394" name="L1394"></a>1394 
<div class="comment">
      Checks if the given <code>List</code> is not null, not empty,
      not having null in its elements.</div>
<a id="L1399" name="L1399"></a>1399     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/11228.html" title="Multiple referred from 2 places.">checkList</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;?&gt; <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L1400" name="L1400"></a>1400         <strong class="reserved">boolean</strong> <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a> = (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong> &amp;&amp; !<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>());
<a id="L1401" name="L1401"></a>1401         <strong class="reserved">if</strong> (<a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>) <em class="brace">{</em>
<a id="L1402" name="L1402"></a>1402             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1403" name="L1403"></a>1403             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a> &amp;&amp; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1404" name="L1404"></a>1404                 <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a> = (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i) != <strong class="reserved">null</strong>);
<a id="L1405" name="L1405"></a>1405             <em class="brace">}</em>
<a id="L1406" name="L1406"></a>1406         <em class="brace">}</em>
<a id="L1407" name="L1407"></a>1407         <strong class="reserved">return</strong> <a href="../D/36305.html" title="Multiple defined in 2 places.">valid</a>;
<a id="L1408" name="L1408"></a>1408     <em class="brace">}</em>
<a id="L1409" name="L1409"></a>1409 
<a id="L1410" name="L1410"></a>1410     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/14346.html" title="Multiple referred from 2 places.">findBundle</a>(<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey,
<a id="L1411" name="L1411"></a>1411                                              <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; candidateLocales,
<a id="L1412" name="L1412"></a>1412                                              <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats,
<a id="L1413" name="L1413"></a>1413                                              <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>,
<a id="L1414" name="L1414"></a>1414                                              <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control,
<a id="L1415" name="L1415"></a>1415                                              <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> baseBundle) <em class="brace">{</em>
<a id="L1416" name="L1416"></a>1416         <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> targetLocale = candidateLocales.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L1417" name="L1417"></a>1417         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <strong class="reserved">null</strong>;
<a id="L1418" name="L1418"></a>1418         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> != candidateLocales.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1) <em class="brace">{</em>
<a id="L1419" name="L1419"></a>1419             <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../S/853.html#L1410" title="Defined at 1410 in src/java/util/ResourceBundle.java.">findBundle</a>(cacheKey, candidateLocales, formats, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1,
<a id="L1420" name="L1420"></a>1420                                 control, baseBundle);
<a id="L1421" name="L1421"></a>1421         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (baseBundle != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(targetLocale)) <em class="brace">{</em>
<a id="L1422" name="L1422"></a>1422             <strong class="reserved">return</strong> baseBundle;
<a id="L1423" name="L1423"></a>1423         <em class="brace">}</em>
<a id="L1424" name="L1424"></a>1424 
<a id="L1425" name="L1425"></a>1425         <em class="comment">// Before we do the real loading work, see whether we need to</em>
<a id="L1426" name="L1426"></a>1426         <em class="comment">// do some housekeeping: If references to class loaders or</em>
<a id="L1427" name="L1427"></a>1427         <em class="comment">// resource bundles have been nulled out, remove all related</em>
<a id="L1428" name="L1428"></a>1428         <em class="comment">// information from the cache.</em>
<a id="L1429" name="L1429"></a>1429         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>;
<a id="L1430" name="L1430"></a>1430         <strong class="reserved">while</strong> ((<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = referenceQueue.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1431" name="L1431"></a>1431             cacheList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(((<a href="../S/853.html#L711" title="Defined at 711 in src/java/util/ResourceBundle.java.">CacheKeyReference</a>)<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>).<a href="../D/17443.html" title="Multiple defined in 3 places.">getCacheKey</a>());
<a id="L1432" name="L1432"></a>1432         <em class="brace">}</em>
<a id="L1433" name="L1433"></a>1433 
<a id="L1434" name="L1434"></a>1434         <em class="comment">// flag indicating the resource bundle has expired in the cache</em>
<a id="L1435" name="L1435"></a>1435         <strong class="reserved">boolean</strong> expiredBundle = <strong class="reserved">false</strong>;
<a id="L1436" name="L1436"></a>1436 
<a id="L1437" name="L1437"></a>1437         <em class="comment">// First, look up the cache to see if it's in the cache, without</em>
<a id="L1438" name="L1438"></a>1438         <em class="comment">// attempting to load bundle.</em>
<a id="L1439" name="L1439"></a>1439         cacheKey.<a href="../D/33132.html" title="Multiple defined in 36 places.">setLocale</a>(targetLocale);
<a id="L1440" name="L1440"></a>1440         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle = <a href="../S/853.html#L1581" title="Defined at 1581 in src/java/util/ResourceBundle.java.">findBundleInCache</a>(cacheKey, control);
<a id="L1441" name="L1441"></a>1441         <strong class="reserved">if</strong> (<a href="../S/853.html#L1527" title="Defined at 1527 in src/java/util/ResourceBundle.java.">isValidBundle</a>(bundle)) <em class="brace">{</em>
<a id="L1442" name="L1442"></a>1442             expiredBundle = bundle.expired;
<a id="L1443" name="L1443"></a>1443             <strong class="reserved">if</strong> (!expiredBundle) <em class="brace">{</em>
<a id="L1444" name="L1444"></a>1444                 <em class="comment">// If its parent is the one asked for by the candidate</em>
<a id="L1445" name="L1445"></a>1445                 <em class="comment">// locales (the runtime lookup path), we can take the cached</em>
<a id="L1446" name="L1446"></a>1446                 <em class="comment">// one. (If it's not identical, then we'd have to check the</em>
<a id="L1447" name="L1447"></a>1447                 <em class="comment">// parent's parents to be consistent with what's been</em>
<a id="L1448" name="L1448"></a>1448                 <em class="comment">// requested.)</em>
<a id="L1449" name="L1449"></a>1449                 <strong class="reserved">if</strong> (bundle.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1450" name="L1450"></a>1450                     <strong class="reserved">return</strong> bundle;
<a id="L1451" name="L1451"></a>1451                 <em class="brace">}</em>
<a id="L1452" name="L1452"></a>1452                 <em class="comment">// Otherwise, remove the cached one since we can't keep</em>
<a id="L1453" name="L1453"></a>1453                 <em class="comment">// the same bundles having different parents.</em>
<a id="L1454" name="L1454"></a>1454                 <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a> bundleRef = cacheList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(cacheKey);
<a id="L1455" name="L1455"></a>1455                 <strong class="reserved">if</strong> (bundleRef != <strong class="reserved">null</strong> &amp;&amp; bundleRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() == bundle) <em class="brace">{</em>
<a id="L1456" name="L1456"></a>1456                     cacheList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(cacheKey, bundleRef);
<a id="L1457" name="L1457"></a>1457                 <em class="brace">}</em>
<a id="L1458" name="L1458"></a>1458             <em class="brace">}</em>
<a id="L1459" name="L1459"></a>1459         <em class="brace">}</em>
<a id="L1460" name="L1460"></a>1460 
<a id="L1461" name="L1461"></a>1461         <strong class="reserved">if</strong> (bundle != NONEXISTENT_BUNDLE) <em class="brace">{</em>
<a id="L1462" name="L1462"></a>1462             <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> constKey = (<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>) cacheKey.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1463" name="L1463"></a>1463 
<a id="L1464" name="L1464"></a>1464             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1465" name="L1465"></a>1465                 bundle = <a href="../S/853.html#L1487" title="Defined at 1487 in src/java/util/ResourceBundle.java.">loadBundle</a>(cacheKey, formats, control, expiredBundle);
<a id="L1466" name="L1466"></a>1466                 <strong class="reserved">if</strong> (bundle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1467" name="L1467"></a>1467                     <strong class="reserved">if</strong> (bundle.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1468" name="L1468"></a>1468                         bundle.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L1469" name="L1469"></a>1469                     <em class="brace">}</em>
<a id="L1470" name="L1470"></a>1470                     bundle.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = targetLocale;
<a id="L1471" name="L1471"></a>1471                     bundle = <a href="../S/853.html#L1688" title="Defined at 1688 in src/java/util/ResourceBundle.java.">putBundleInCache</a>(cacheKey, bundle, control);
<a id="L1472" name="L1472"></a>1472                     <strong class="reserved">return</strong> bundle;
<a id="L1473" name="L1473"></a>1473                 <em class="brace">}</em>
<a id="L1474" name="L1474"></a>1474 
<a id="L1475" name="L1475"></a>1475                 <em class="comment">// Put NONEXISTENT_BUNDLE in the cache as a mark that there's no bundle</em>
<a id="L1476" name="L1476"></a>1476                 <em class="comment">// instance for the locale.</em>
<a id="L1477" name="L1477"></a>1477                 <a href="../S/853.html#L1688" title="Defined at 1688 in src/java/util/ResourceBundle.java.">putBundleInCache</a>(cacheKey, NONEXISTENT_BUNDLE, control);
<a id="L1478" name="L1478"></a>1478             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L1479" name="L1479"></a>1479                 <strong class="reserved">if</strong> (constKey.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>() <strong class="reserved">instanceof</strong> <a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a>) <em class="brace">{</em>
<a id="L1480" name="L1480"></a>1480                     <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>.<a href="../S/1769.html#L264" title="Defined at 264 in src/java/lang/Thread.java.">currentThread</a>().<a href="../D/24969.html" title="Multiple defined in 3 places.">interrupt</a>();
<a id="L1481" name="L1481"></a>1481                 <em class="brace">}</em>
<a id="L1482" name="L1482"></a>1482             <em class="brace">}</em>
<a id="L1483" name="L1483"></a>1483         <em class="brace">}</em>
<a id="L1484" name="L1484"></a>1484         <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1485" name="L1485"></a>1485     <em class="brace">}</em>
<a id="L1486" name="L1486"></a>1486 
<a id="L1487" name="L1487"></a>1487     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../S/853.html#L1465" title="Referred from 1465 in src/java/util/ResourceBundle.java.">loadBundle</a>(<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey,
<a id="L1488" name="L1488"></a>1488                                              <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats,
<a id="L1489" name="L1489"></a>1489                                              <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control,
<a id="L1490" name="L1490"></a>1490                                              <strong class="reserved">boolean</strong> <a href="../D/30663.html" title="Multiple defined in 3 places.">reload</a>) <em class="brace">{</em>
<a id="L1491" name="L1491"></a>1491 
<a id="L1492" name="L1492"></a>1492         <em class="comment">// Here we actually load the bundle in the order of formats</em>
<a id="L1493" name="L1493"></a>1493         <em class="comment">// specified by the getFormats() value.</em>
<a id="L1494" name="L1494"></a>1494         <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> targetLocale = cacheKey.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>();
<a id="L1495" name="L1495"></a>1495 
<a id="L1496" name="L1496"></a>1496         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle = <strong class="reserved">null</strong>;
<a id="L1497" name="L1497"></a>1497         <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = formats.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1498" name="L1498"></a>1498         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L1499" name="L1499"></a>1499             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = formats.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i);
<a id="L1500" name="L1500"></a>1500             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1501" name="L1501"></a>1501                 bundle = control.<a href="../S/853.html#L2631" title="Defined at 2631 in src/java/util/ResourceBundle.java.">newBundle</a>(cacheKey.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), targetLocale, <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>,
<a id="L1502" name="L1502"></a>1502                                            cacheKey.<a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(), <a href="../D/30663.html" title="Multiple defined in 3 places.">reload</a>);
<a id="L1503" name="L1503"></a>1503             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1739.html#L38" title="Defined at 38 in src/java/lang/LinkageError.java.">LinkageError</a> <a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>) <em class="brace">{</em>
<a id="L1504" name="L1504"></a>1504                 <em class="comment">// We need to handle the LinkageError case due to</em>
<a id="L1505" name="L1505"></a>1505                 <em class="comment">// inconsistent case-sensitivity in ClassLoader.</em>
<a id="L1506" name="L1506"></a>1506                 <em class="comment">// See 6572242 for details.</em>
<a id="L1507" name="L1507"></a>1507                 cacheKey.<a href="../S/853.html#L677" title="Defined at 677 in src/java/util/ResourceBundle.java.">setCause</a>(<a href="../D/15699.html" title="Multiple defined in 51 places.">error</a>);
<a id="L1508" name="L1508"></a>1508             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> cause) <em class="brace">{</em>
<a id="L1509" name="L1509"></a>1509                 cacheKey.<a href="../S/853.html#L677" title="Defined at 677 in src/java/util/ResourceBundle.java.">setCause</a>(cause);
<a id="L1510" name="L1510"></a>1510             <em class="brace">}</em>
<a id="L1511" name="L1511"></a>1511             <strong class="reserved">if</strong> (bundle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1512" name="L1512"></a>1512                 <em class="comment">// Set the format in the cache key so that it can be</em>
<a id="L1513" name="L1513"></a>1513                 <em class="comment">// used when calling needsReload later.</em>
<a id="L1514" name="L1514"></a>1514                 cacheKey.<a href="../D/32766.html" title="Multiple defined in 5 places.">setFormat</a>(<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L1515" name="L1515"></a>1515                 bundle.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = cacheKey.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L1516" name="L1516"></a>1516                 bundle.<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> = targetLocale;
<a id="L1517" name="L1517"></a>1517                 <em class="comment">// Bundle provider might reuse instances. So we should make</em>
<a id="L1518" name="L1518"></a>1518                 <em class="comment">// sure to clear the expired flag here.</em>
<a id="L1519" name="L1519"></a>1519                 bundle.expired = <strong class="reserved">false</strong>;
<a id="L1520" name="L1520"></a>1520                 <strong class="reserved">break</strong>;
<a id="L1521" name="L1521"></a>1521             <em class="brace">}</em>
<a id="L1522" name="L1522"></a>1522         <em class="brace">}</em>
<a id="L1523" name="L1523"></a>1523 
<a id="L1524" name="L1524"></a>1524         <strong class="reserved">return</strong> bundle;
<a id="L1525" name="L1525"></a>1525     <em class="brace">}</em>
<a id="L1526" name="L1526"></a>1526 
<a id="L1527" name="L1527"></a>1527     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/22165.html" title="Multiple referred from 3 places.">isValidBundle</a>(<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle) <em class="brace">{</em>
<a id="L1528" name="L1528"></a>1528         <strong class="reserved">return</strong> bundle != <strong class="reserved">null</strong> &amp;&amp; bundle != NONEXISTENT_BUNDLE;
<a id="L1529" name="L1529"></a>1529     <em class="brace">}</em>
<a id="L1530" name="L1530"></a>1530 
<div class="comment">
      Determines whether any of resource bundles in the parent chain,
      including the leaf, have expired.</div>
<a id="L1535" name="L1535"></a>1535     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/853.html#L1338" title="Referred from 1338 in src/java/util/ResourceBundle.java.">hasValidParentChain</a>(<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle) <em class="brace">{</em>
<a id="L1536" name="L1536"></a>1536         <strong class="reserved">long</strong> <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L1537" name="L1537"></a>1537         <strong class="reserved">while</strong> (bundle != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1538" name="L1538"></a>1538             <strong class="reserved">if</strong> (bundle.expired) <em class="brace">{</em>
<a id="L1539" name="L1539"></a>1539                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1540" name="L1540"></a>1540             <em class="brace">}</em>
<a id="L1541" name="L1541"></a>1541             <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = bundle.cacheKey;
<a id="L1542" name="L1542"></a>1542             <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1543" name="L1543"></a>1543                 <strong class="reserved">long</strong> expirationTime = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.expirationTime;
<a id="L1544" name="L1544"></a>1544                 <strong class="reserved">if</strong> (expirationTime &gt;= 0 &amp;&amp; expirationTime &lt;= <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a>) <em class="brace">{</em>
<a id="L1545" name="L1545"></a>1545                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1546" name="L1546"></a>1546                 <em class="brace">}</em>
<a id="L1547" name="L1547"></a>1547             <em class="brace">}</em>
<a id="L1548" name="L1548"></a>1548             bundle = bundle.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1549" name="L1549"></a>1549         <em class="brace">}</em>
<a id="L1550" name="L1550"></a>1550         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1551" name="L1551"></a>1551     <em class="brace">}</em>
<a id="L1552" name="L1552"></a>1552 
<div class="comment">
      Throw a MissingResourceException with proper message</div>
<a id="L1556" name="L1556"></a>1556     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/853.html#L1387" title="Referred from 1387 in src/java/util/ResourceBundle.java.">throwMissingResourceException</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>,
<a id="L1557" name="L1557"></a>1557                                                       <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L1558" name="L1558"></a>1558                                                       <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause) <em class="brace">{</em>
<a id="L1559" name="L1559"></a>1559         <em class="comment">// If the cause is a MissingResourceException, avoid creating</em>
<a id="L1560" name="L1560"></a>1560         <em class="comment">// a long chain. (6355009)</em>
<a id="L1561" name="L1561"></a>1561         <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a>) <em class="brace">{</em>
<a id="L1562" name="L1562"></a>1562             cause = <strong class="reserved">null</strong>;
<a id="L1563" name="L1563"></a>1563         <em class="brace">}</em>
<a id="L1564" name="L1564"></a>1564         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/845.html#L51" title="Defined at 51 in src/java/util/MissingResourceException.java.">MissingResourceException</a>("Can't find bundle for base name "
<a id="L1565" name="L1565"></a>1565                                            + <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> + ", locale " + <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L1566" name="L1566"></a>1566                                            <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> + "_" + <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <em class="comment">// className</em>
<a id="L1567" name="L1567"></a>1567                                            "",                      <em class="comment">// key</em>
<a id="L1568" name="L1568"></a>1568                                            cause);
<a id="L1569" name="L1569"></a>1569     <em class="brace">}</em>
<a id="L1570" name="L1570"></a>1570 
<div class="comment">
      Finds a bundle in the cache. Any expired bundles are marked as
      `expired' and removed from the cache upon return.
      @param cacheKey the key to look up the cache
      @param control the Control to be used for the expiration control
      @return the cached bundle, or null if the bundle is not found in the
      cache or its parent has expired. <code>bundle.expire</code> is true
      upon return if the bundle in the cache has expired.</div>
<a id="L1581" name="L1581"></a>1581     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../S/853.html#L1440" title="Referred from 1440 in src/java/util/ResourceBundle.java.">findBundleInCache</a>(<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey,
<a id="L1582" name="L1582"></a>1582                                                     <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583         <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a> bundleRef = cacheList.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(cacheKey);
<a id="L1584" name="L1584"></a>1584         <strong class="reserved">if</strong> (bundleRef == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1586" name="L1586"></a>1586         <em class="brace">}</em>
<a id="L1587" name="L1587"></a>1587         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle = bundleRef.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1588" name="L1588"></a>1588         <strong class="reserved">if</strong> (bundle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1589" name="L1589"></a>1589             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1590" name="L1590"></a>1590         <em class="brace">}</em>
<a id="L1591" name="L1591"></a>1591         <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> p = bundle.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L1592" name="L1592"></a>1592         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> p != NONEXISTENT_BUNDLE;
<a id="L1593" name="L1593"></a>1593         <em class="comment">// If the parent has expired, then this one must also expire. We</em>
<a id="L1594" name="L1594"></a>1594         <em class="comment">// check only the immediate parent because the actual loading is</em>
<a id="L1595" name="L1595"></a>1595         <em class="comment">// done from the root (base) to leaf (child) and the purpose of</em>
<a id="L1596" name="L1596"></a>1596         <em class="comment">// checking is to propagate expiration towards the leaf. For</em>
<a id="L1597" name="L1597"></a>1597         <em class="comment">// example, if the requested locale is ja_JP_JP and there are</em>
<a id="L1598" name="L1598"></a>1598         <em class="comment">// bundles for all of the candidates in the cache, we have a list,</em>
<a id="L1599" name="L1599"></a>1599         <em class="comment">//</em>
<a id="L1600" name="L1600"></a>1600         <em class="comment">// base &lt;- ja &lt;- ja_JP &lt;- ja_JP_JP</em>
<a id="L1601" name="L1601"></a>1601         <em class="comment">//</em>
<a id="L1602" name="L1602"></a>1602         <em class="comment">// If ja has expired, then it will reload ja and the list becomes a</em>
<a id="L1603" name="L1603"></a>1603         <em class="comment">// tree.</em>
<a id="L1604" name="L1604"></a>1604         <em class="comment">//</em>
<a id="L1605" name="L1605"></a>1605         <em class="comment">// base &lt;- ja (new)</em>
<a id="L1606" name="L1606"></a>1606         <em class="comment">//  "   &lt;- ja (expired) &lt;- ja_JP &lt;- ja_JP_JP</em>
<a id="L1607" name="L1607"></a>1607         <em class="comment">//</em>
<a id="L1608" name="L1608"></a>1608         <em class="comment">// When looking up ja_JP in the cache, it finds ja_JP in the cache</em>
<a id="L1609" name="L1609"></a>1609         <em class="comment">// which references to the expired ja. Then, ja_JP is marked as</em>
<a id="L1610" name="L1610"></a>1610         <em class="comment">// expired and removed from the cache. This will be propagated to</em>
<a id="L1611" name="L1611"></a>1611         <em class="comment">// ja_JP_JP.</em>
<a id="L1612" name="L1612"></a>1612         <em class="comment">//</em>
<a id="L1613" name="L1613"></a>1613         <em class="comment">// Now, it's possible, for example, that while loading new ja_JP,</em>
<a id="L1614" name="L1614"></a>1614         <em class="comment">// someone else has started loading the same bundle and finds the</em>
<a id="L1615" name="L1615"></a>1615         <em class="comment">// base bundle has expired. Then, what we get from the first</em>
<a id="L1616" name="L1616"></a>1616         <em class="comment">// getBundle call includes the expired base bundle. However, if</em>
<a id="L1617" name="L1617"></a>1617         <em class="comment">// someone else didn't start its loading, we wouldn't know if the</em>
<a id="L1618" name="L1618"></a>1618         <em class="comment">// base bundle has expired at the end of the loading process. The</em>
<a id="L1619" name="L1619"></a>1619         <em class="comment">// expiration control doesn't guarantee that the returned bundle and</em>
<a id="L1620" name="L1620"></a>1620         <em class="comment">// its parents haven't expired.</em>
<a id="L1621" name="L1621"></a>1621         <em class="comment">//</em>
<a id="L1622" name="L1622"></a>1622         <em class="comment">// We could check the entire parent chain to see if there's any in</em>
<a id="L1623" name="L1623"></a>1623         <em class="comment">// the chain that has expired. But this process may never end. An</em>
<a id="L1624" name="L1624"></a>1624         <em class="comment">// extreme case would be that getTimeToLive returns 0 and</em>
<a id="L1625" name="L1625"></a>1625         <em class="comment">// needsReload always returns true.</em>
<a id="L1626" name="L1626"></a>1626         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong> &amp;&amp; p.expired) <em class="brace">{</em>
<a id="L1627" name="L1627"></a>1627             <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> bundle != NONEXISTENT_BUNDLE;
<a id="L1628" name="L1628"></a>1628             bundle.expired = <strong class="reserved">true</strong>;
<a id="L1629" name="L1629"></a>1629             bundle.cacheKey = <strong class="reserved">null</strong>;
<a id="L1630" name="L1630"></a>1630             cacheList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(cacheKey, bundleRef);
<a id="L1631" name="L1631"></a>1631             bundle = <strong class="reserved">null</strong>;
<a id="L1632" name="L1632"></a>1632         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1633" name="L1633"></a>1633             <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = bundleRef.<a href="../D/17443.html" title="Multiple defined in 3 places.">getCacheKey</a>();
<a id="L1634" name="L1634"></a>1634             <strong class="reserved">long</strong> expirationTime = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.expirationTime;
<a id="L1635" name="L1635"></a>1635             <strong class="reserved">if</strong> (!bundle.expired &amp;&amp; expirationTime &gt;= 0 &amp;&amp;
<a id="L1636" name="L1636"></a>1636                 expirationTime &lt;= <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>()) <em class="brace">{</em>
<a id="L1637" name="L1637"></a>1637                 <em class="comment">// its TTL period has expired.</em>
<a id="L1638" name="L1638"></a>1638                 <strong class="reserved">if</strong> (bundle != NONEXISTENT_BUNDLE) <em class="brace">{</em>
<a id="L1639" name="L1639"></a>1639                     <em class="comment">// Synchronize here to call needsReload to avoid</em>
<a id="L1640" name="L1640"></a>1640                     <em class="comment">// redundant concurrent calls for the same bundle.</em>
<a id="L1641" name="L1641"></a>1641                     <strong class="reserved">synchronized</strong> (bundle) <em class="brace">{</em>
<a id="L1642" name="L1642"></a>1642                         expirationTime = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.expirationTime;
<a id="L1643" name="L1643"></a>1643                         <strong class="reserved">if</strong> (!bundle.expired &amp;&amp; expirationTime &gt;= 0 &amp;&amp;
<a id="L1644" name="L1644"></a>1644                             expirationTime &lt;= <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>()) <em class="brace">{</em>
<a id="L1645" name="L1645"></a>1645                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1646" name="L1646"></a>1646                                 bundle.expired = control.<a href="../S/853.html#L2799" title="Defined at 2799 in src/java/util/ResourceBundle.java.">needsReload</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L1647" name="L1647"></a>1647                                                                      <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>(),
<a id="L1648" name="L1648"></a>1648                                                                      <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>(),
<a id="L1649" name="L1649"></a>1649                                                                      <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(),
<a id="L1650" name="L1650"></a>1650                                                                      bundle,
<a id="L1651" name="L1651"></a>1651                                                                      <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.loadTime);
<a id="L1652" name="L1652"></a>1652                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1653" name="L1653"></a>1653                                 cacheKey.<a href="../S/853.html#L677" title="Defined at 677 in src/java/util/ResourceBundle.java.">setCause</a>(e);
<a id="L1654" name="L1654"></a>1654                             <em class="brace">}</em>
<a id="L1655" name="L1655"></a>1655                             <strong class="reserved">if</strong> (bundle.expired) <em class="brace">{</em>
<a id="L1656" name="L1656"></a>1656                                 <em class="comment">// If the bundle needs to be reloaded, then</em>
<a id="L1657" name="L1657"></a>1657                                 <em class="comment">// remove the bundle from the cache, but</em>
<a id="L1658" name="L1658"></a>1658                                 <em class="comment">// return the bundle with the expired flag</em>
<a id="L1659" name="L1659"></a>1659                                 <em class="comment">// on.</em>
<a id="L1660" name="L1660"></a>1660                                 bundle.cacheKey = <strong class="reserved">null</strong>;
<a id="L1661" name="L1661"></a>1661                                 cacheList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(cacheKey, bundleRef);
<a id="L1662" name="L1662"></a>1662                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1663" name="L1663"></a>1663                                 <em class="comment">// Update the expiration control info. and reuse</em>
<a id="L1664" name="L1664"></a>1664                                 <em class="comment">// the same bundle instance</em>
<a id="L1665" name="L1665"></a>1665                                 <a href="../S/853.html#L1721" title="Defined at 1721 in src/java/util/ResourceBundle.java.">setExpirationTime</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, control);
<a id="L1666" name="L1666"></a>1666                             <em class="brace">}</em>
<a id="L1667" name="L1667"></a>1667                         <em class="brace">}</em>
<a id="L1668" name="L1668"></a>1668                     <em class="brace">}</em>
<a id="L1669" name="L1669"></a>1669                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1670" name="L1670"></a>1670                     <em class="comment">// We just remove NONEXISTENT_BUNDLE from the cache.</em>
<a id="L1671" name="L1671"></a>1671                     cacheList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(cacheKey, bundleRef);
<a id="L1672" name="L1672"></a>1672                     bundle = <strong class="reserved">null</strong>;
<a id="L1673" name="L1673"></a>1673                 <em class="brace">}</em>
<a id="L1674" name="L1674"></a>1674             <em class="brace">}</em>
<a id="L1675" name="L1675"></a>1675         <em class="brace">}</em>
<a id="L1676" name="L1676"></a>1676         <strong class="reserved">return</strong> bundle;
<a id="L1677" name="L1677"></a>1677     <em class="brace">}</em>
<a id="L1678" name="L1678"></a>1678 
<div class="comment">
      Put a new bundle in the cache.
      @param cacheKey the key for the resource bundle
      @param bundle the resource bundle to be put in the cache
      @return the ResourceBundle for the cacheKey; if someone has put
      the bundle before this call, the one found in the cache is
      returned.</div>
<a id="L1688" name="L1688"></a>1688     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../R/25290.html" title="Multiple referred from 2 places.">putBundleInCache</a>(<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey,
<a id="L1689" name="L1689"></a>1689                                                    <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle,
<a id="L1690" name="L1690"></a>1690                                                    <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L1691" name="L1691"></a>1691         <a href="../S/853.html#L1721" title="Defined at 1721 in src/java/util/ResourceBundle.java.">setExpirationTime</a>(cacheKey, control);
<a id="L1692" name="L1692"></a>1692         <strong class="reserved">if</strong> (cacheKey.expirationTime != <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.TTL_DONT_CACHE) <em class="brace">{</em>
<a id="L1693" name="L1693"></a>1693             <a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = (<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>) cacheKey.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1694" name="L1694"></a>1694             <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a> bundleRef = <strong class="reserved">new</strong> <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a>(bundle, referenceQueue, <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1695" name="L1695"></a>1695             bundle.cacheKey = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L1696" name="L1696"></a>1696 
<a id="L1697" name="L1697"></a>1697             <em class="comment">// Put the bundle in the cache if it's not been in the cache.</em>
<a id="L1698" name="L1698"></a>1698             <a href="../S/853.html#L738" title="Defined at 738 in src/java/util/ResourceBundle.java.">BundleReference</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = cacheList.<a href="../D/30006.html" title="Multiple defined in 13 places.">putIfAbsent</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, bundleRef);
<a id="L1699" name="L1699"></a>1699 
<a id="L1700" name="L1700"></a>1700             <em class="comment">// If someone else has put the same bundle in the cache before</em>
<a id="L1701" name="L1701"></a>1701             <em class="comment">// us and it has not expired, we should use the one in the cache.</em>
<a id="L1702" name="L1702"></a>1702             <strong class="reserved">if</strong> (<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1703" name="L1703"></a>1703                 <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> rb = <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L1704" name="L1704"></a>1704                 <strong class="reserved">if</strong> (rb != <strong class="reserved">null</strong> &amp;&amp; !rb.expired) <em class="brace">{</em>
<a id="L1705" name="L1705"></a>1705                     <em class="comment">// Clear the back link to the cache key</em>
<a id="L1706" name="L1706"></a>1706                     bundle.cacheKey = <strong class="reserved">null</strong>;
<a id="L1707" name="L1707"></a>1707                     bundle = rb;
<a id="L1708" name="L1708"></a>1708                     <em class="comment">// Clear the reference in the BundleReference so that</em>
<a id="L1709" name="L1709"></a>1709                     <em class="comment">// it won't be enqueued.</em>
<a id="L1710" name="L1710"></a>1710                     bundleRef.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L1711" name="L1711"></a>1711                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1712" name="L1712"></a>1712                     <em class="comment">// Replace the invalid (garbage collected or expired)</em>
<a id="L1713" name="L1713"></a>1713                     <em class="comment">// instance with the valid one.</em>
<a id="L1714" name="L1714"></a>1714                     cacheList.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, bundleRef);
<a id="L1715" name="L1715"></a>1715                 <em class="brace">}</em>
<a id="L1716" name="L1716"></a>1716             <em class="brace">}</em>
<a id="L1717" name="L1717"></a>1717         <em class="brace">}</em>
<a id="L1718" name="L1718"></a>1718         <strong class="reserved">return</strong> bundle;
<a id="L1719" name="L1719"></a>1719     <em class="brace">}</em>
<a id="L1720" name="L1720"></a>1720 
<a id="L1721" name="L1721"></a>1721     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/27379.html" title="Multiple referred from 2 places.">setExpirationTime</a>(<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> cacheKey, <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> control) <em class="brace">{</em>
<a id="L1722" name="L1722"></a>1722         <strong class="reserved">long</strong> ttl = control.<a href="../D/23151.html" title="Multiple defined in 6 places.">getTimeToLive</a>(cacheKey.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L1723" name="L1723"></a>1723                                          cacheKey.<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L1724" name="L1724"></a>1724         <strong class="reserved">if</strong> (ttl &gt;= 0) <em class="brace">{</em>
<a id="L1725" name="L1725"></a>1725             <em class="comment">// If any expiration time is specified, set the time to be</em>
<a id="L1726" name="L1726"></a>1726             <em class="comment">// expired in the cache.</em>
<a id="L1727" name="L1727"></a>1727             <strong class="reserved">long</strong> <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L353" title="Defined at 353 in src/java/lang/System.java.">currentTimeMillis</a>();
<a id="L1728" name="L1728"></a>1728             cacheKey.loadTime = <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a>;
<a id="L1729" name="L1729"></a>1729             cacheKey.expirationTime = <a href="../D/28344.html" title="Multiple defined in 43 places.">now</a> + ttl;
<a id="L1730" name="L1730"></a>1730         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ttl &gt;= <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.TTL_NO_EXPIRATION_CONTROL) <em class="brace">{</em>
<a id="L1731" name="L1731"></a>1731             cacheKey.expirationTime = ttl;
<a id="L1732" name="L1732"></a>1732         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1733" name="L1733"></a>1733             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid Control: TTL=" + ttl);
<a id="L1734" name="L1734"></a>1734         <em class="brace">}</em>
<a id="L1735" name="L1735"></a>1735     <em class="brace">}</em>
<a id="L1736" name="L1736"></a>1736 
<div class="comment">
      Removes all resource bundles from the cache that have been loaded
      using the caller's class loader.
      @since 1.6
      @see ResourceBundle.Control#getTimeToLive(String,Locale)</div>
<a id="L1744" name="L1744"></a>1744     @CallerSensitive
<a id="L1745" name="L1745"></a>1745     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/853.html#L1746" title="Referred from 1746 in src/java/util/ResourceBundle.java.">clearCache</a>() <em class="brace">{</em>
<a id="L1746" name="L1746"></a>1746         <a href="../D/12826.html" title="Multiple defined in 3 places.">clearCache</a>(<a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>(Reflection.getCallerClass()));
<a id="L1747" name="L1747"></a>1747     <em class="brace">}</em>
<a id="L1748" name="L1748"></a>1748 
<div class="comment">
      Removes all resource bundles from the cache that have been loaded
      using the given class loader.
      @param loader the class loader
      @exception NullPointerException if <code>loader</code> is null
      @since 1.6
      @see ResourceBundle.Control#getTimeToLive(String,Locale)</div>
<a id="L1758" name="L1758"></a>1758     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/853.html#L1746" title="Referred from 1746 in src/java/util/ResourceBundle.java.">clearCache</a>(<a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader) <em class="brace">{</em>
<a id="L1759" name="L1759"></a>1759         <strong class="reserved">if</strong> (loader == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1760" name="L1760"></a>1760             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1761" name="L1761"></a>1761         <em class="brace">}</em>
<a id="L1762" name="L1762"></a>1762         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a>&gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = cacheList.<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>();
<a id="L1763" name="L1763"></a>1763         <strong class="reserved">for</strong> (<a href="../D/1235.html" title="Multiple defined in 4 places.">CacheKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> : <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L1764" name="L1764"></a>1764             <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>.<a href="../D/20183.html" title="Multiple defined in 3 places.">getLoader</a>() == loader) <em class="brace">{</em>
<a id="L1765" name="L1765"></a>1765                 <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1766" name="L1766"></a>1766             <em class="brace">}</em>
<a id="L1767" name="L1767"></a>1767         <em class="brace">}</em>
<a id="L1768" name="L1768"></a>1768     <em class="brace">}</em>
<a id="L1769" name="L1769"></a>1769 
<div class="comment">
      Gets an object for the given key from this resource bundle.
      Returns null if this resource bundle does not contain an
      object for the given key.
      @param key the key for the desired object
      @exception NullPointerException if <code>key</code> is <code>null</code>
      @return the object for the given key, or null</div>
<a id="L1779" name="L1779"></a>1779     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/20097.html" title="Multiple referred from 4 places.">handleGetObject</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1780" name="L1780"></a>1780 
<div class="comment">
      Returns an enumeration of the keys.
      @return an <code>Enumeration</code> of the keys contained in
              this <code>ResourceBundle</code> and its parent bundles.</div>
<a id="L1787" name="L1787"></a>1787     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/17256.html" title="Multiple referred from 14 places.">getKeys</a>();
<a id="L1788" name="L1788"></a>1788 
<div class="comment">
      Determines whether the given <code>key</code> is contained in
      this <code>ResourceBundle</code> or its parent bundles.
      @param key
             the resource <code>key</code>
      @return <code>true</code> if the given <code>key</code> is
             contained in this <code>ResourceBundle</code> or its
             parent bundles; <code>false</code> otherwise.
      @exception NullPointerException
              if <code>key</code> is <code>null</code>
      @since 1.6</div>
<a id="L1802" name="L1802"></a>1802     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11964.html" title="Multiple referred from 263 places.">containsKey</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803         <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1804" name="L1804"></a>1804             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L1805" name="L1805"></a>1805         <em class="brace">}</em>
<a id="L1806" name="L1806"></a>1806         <strong class="reserved">for</strong> (<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> rb = <strong class="reserved">this</strong>; rb != <strong class="reserved">null</strong>; rb = rb.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1807" name="L1807"></a>1807             <strong class="reserved">if</strong> (rb.<a href="../D/23996.html" title="Multiple defined in 3 places.">handleKeySet</a>().<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>)) <em class="brace">{</em>
<a id="L1808" name="L1808"></a>1808                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1809" name="L1809"></a>1809             <em class="brace">}</em>
<a id="L1810" name="L1810"></a>1810         <em class="brace">}</em>
<a id="L1811" name="L1811"></a>1811         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1812" name="L1812"></a>1812     <em class="brace">}</em>
<a id="L1813" name="L1813"></a>1813 
<div class="comment">
      Returns a <code>Set</code> of all keys contained in this
      <code>ResourceBundle</code> and its parent bundles.
      @return a <code>Set</code> of all keys contained in this
              <code>ResourceBundle</code> and its parent bundles.
      @since 1.6</div>
<a id="L1822" name="L1822"></a>1822     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/22393.html" title="Multiple referred from 182 places.">keySet</a>() <em class="brace">{</em>
<a id="L1823" name="L1823"></a>1823         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;();
<a id="L1824" name="L1824"></a>1824         <strong class="reserved">for</strong> (<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> rb = <strong class="reserved">this</strong>; rb != <strong class="reserved">null</strong>; rb = rb.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1825" name="L1825"></a>1825             <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/10646.html" title="Multiple defined in 78 places.">addAll</a>(rb.<a href="../D/23996.html" title="Multiple defined in 3 places.">handleKeySet</a>());
<a id="L1826" name="L1826"></a>1826         <em class="brace">}</em>
<a id="L1827" name="L1827"></a>1827         <strong class="reserved">return</strong> <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>;
<a id="L1828" name="L1828"></a>1828     <em class="brace">}</em>
<a id="L1829" name="L1829"></a>1829 
<div class="comment">
      Returns a <code>Set</code> of the keys contained <em>only</em>
      in this <code>ResourceBundle</code>.
      <p>The default implementation returns a <code>Set</code> of the
      keys returned by the {@link #getKeys() getKeys} method except
      for the ones for which the {@link #handleGetObject(String)
      handleGetObject} method returns <code>null</code>. Once the
      <code>Set</code> has been created, the value is kept in this
      <code>ResourceBundle</code> in order to avoid producing the
      same <code>Set</code> in subsequent calls. Subclasses can
      override this method for faster handling.
      @return a <code>Set</code> of the keys contained only in this
             <code>ResourceBundle</code>
      @since 1.6</p></div>
<a id="L1847" name="L1847"></a>1847     <strong class="reserved">protected</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/20110.html" title="Multiple referred from 2 places.">handleKeySet</a>() <em class="brace">{</em>
<a id="L1848" name="L1848"></a>1848         <strong class="reserved">if</strong> (<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1849" name="L1849"></a>1849             <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1850" name="L1850"></a>1850                 <strong class="reserved">if</strong> (<a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1851" name="L1851"></a>1851                     <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;&gt;();
<a id="L1852" name="L1852"></a>1852                     <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; enumKeys = <a href="../D/19965.html" title="Multiple defined in 6 places.">getKeys</a>();
<a id="L1853" name="L1853"></a>1853                     <strong class="reserved">while</strong> (enumKeys.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L1854" name="L1854"></a>1854                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = enumKeys.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L1855" name="L1855"></a>1855                         <strong class="reserved">if</strong> (<a href="../D/23982.html" title="Multiple defined in 3 places.">handleGetObject</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1856" name="L1856"></a>1856                             <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L1857" name="L1857"></a>1857                         <em class="brace">}</em>
<a id="L1858" name="L1858"></a>1858                     <em class="brace">}</em>
<a id="L1859" name="L1859"></a>1859                     <a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a> = <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>;
<a id="L1860" name="L1860"></a>1860                 <em class="brace">}</em>
<a id="L1861" name="L1861"></a>1861             <em class="brace">}</em>
<a id="L1862" name="L1862"></a>1862         <em class="brace">}</em>
<a id="L1863" name="L1863"></a>1863         <strong class="reserved">return</strong> <a href="../D/26719.html" title="Multiple defined in 33 places.">keySet</a>;
<a id="L1864" name="L1864"></a>1864     <em class="brace">}</em>
<a id="L1865" name="L1865"></a>1865 
<a id="L1866" name="L1866"></a>1866 
<a id="L1867" name="L1867"></a>1867 
<div class="comment">
      <code>ResourceBundle.Control</code> defines a set of callback methods
      that are invoked by the {@link ResourceBundle#getBundle(String,
      Locale, ClassLoader, Control) ResourceBundle.getBundle} factory
      methods during the bundle loading process. In other words, a
      <code>ResourceBundle.Control</code> collaborates with the factory
      methods for loading resource bundles. The default implementation of
      the callback methods provides the information necessary for the
      factory methods to perform the <a href="./ResourceBundle.html#default_behavior">default behavior</a>.
      <p>In addition to the callback methods, the {@link
      #toBundleName(String, Locale) toBundleName} and {@link
      #toResourceName(String, String) toResourceName} methods are defined
      primarily for convenience in implementing the callback
      methods. However, the <code>toBundleName</code> method could be
      overridden to provide different conventions in the organization and
      packaging of localized resources.  The <code>toResourceName</code>
      method is <code>final</code> to avoid use of wrong resource and class
      name separators.
      </p><p>Two factory methods, {@link #getControl(List)} and {@link
      #getNoFallbackControl(List)}, provide
      <code>ResourceBundle.Control</code> instances that implement common
      variations of the default bundle loading process.
      </p><p>The formats returned by the {@link Control#getFormats(String)
      getFormats} method and candidate locales returned by the {@link
      ResourceBundle.Control#getCandidateLocales(String, Locale)
      getCandidateLocales} method must be consistent in all
      <code>ResourceBundle.getBundle</code> invocations for the same base
      bundle. Otherwise, the <code>ResourceBundle.getBundle</code> methods
      may return unintended bundles. For example, if only
      <code>"java.class"</code> is returned by the <code>getFormats</code>
      method for the first call to <code>ResourceBundle.getBundle</code>
      and only <code>"java.properties"</code> for the second call, then the
      second call will return the class-based one that has been cached
      during the first call.
      </p><p>A <code>ResourceBundle.Control</code> instance must be thread-safe
      if it's simultaneously used by multiple threads.
      <code>ResourceBundle.getBundle</code> does not synchronize to call
      the <code>ResourceBundle.Control</code> methods. The default
      implementations of the methods are thread-safe.
      </p><p>Applications can specify <code>ResourceBundle.Control</code>
      instances returned by the <code>getControl</code> factory methods or
      created from a subclass of <code>ResourceBundle.Control</code> to
      customize the bundle loading process. The following are examples of
      changing the default bundle loading process.
      </p><p><b>Example 1</b>
      </p><p>The following code lets <code>ResourceBundle.getBundle</code> look
      up only properties-based resources.
      </p><pre>      import java.util.*;
      import static java.util.ResourceBundle.Control.*;
      ...
      ResourceBundle bundle =
        ResourceBundle.getBundle("MyResources", new Locale("fr", "CH"),
                                 ResourceBundle.Control.getControl(FORMAT_PROPERTIES));
      </pre>
      Given the resource bundles in the <a href="./ResourceBundle.html#default_behavior_example">example</a> in
      the <code>ResourceBundle.getBundle</code> description, this
      <code>ResourceBundle.getBundle</code> call loads
      <code>MyResources_fr_CH.properties</code> whose parent is
      <code>MyResources_fr.properties</code> whose parent is
      <code>MyResources.properties</code>. (<code>MyResources_fr_CH.properties</code>
      is not hidden, but <code>MyResources_fr_CH.class</code> is.)
      <p><b>Example 2</b>
      </p><p>The following is an example of loading XML-based bundles
      using {@link Properties#loadFromXML(java.io.InputStream)
      Properties.loadFromXML}.
      </p><pre>      ResourceBundle rb = ResourceBundle.getBundle("Messages",
          new ResourceBundle.Control() {
              public List&lt;String&gt; getFormats(String baseName) {
                  if (baseName == null)
                      throw new NullPointerException();
                  return Arrays.asList("xml");
              }
              public ResourceBundle newBundle(String baseName,
                                              Locale locale,
                                              String format,
                                              ClassLoader loader,
                                              boolean reload)
                               throws IllegalAccessException,
                                      InstantiationException,
                                      IOException {
                  if (baseName == null || locale == null
                        || format == null || loader == null)
                      throw new NullPointerException();
                  ResourceBundle bundle = null;
                  if (format.equals("xml")) {
                      String bundleName = toBundleName(baseName, locale);
                      String resourceName = toResourceName(bundleName, format);
                      InputStream stream = null;
                      if (reload) {
                          URL url = loader.getResource(resourceName);
                          if (url != null) {
                              URLConnection connection = url.openConnection();
                              if (connection != null) {
                                  // Disable caches to get fresh data for
                                  // reloading.
                                  connection.setUseCaches(false);
                                  stream = connection.getInputStream();
                              }
                          }
                      } else {
                          stream = loader.getResourceAsStream(resourceName);
                      }
                      if (stream != null) {
                          BufferedInputStream bis = new BufferedInputStream(stream);
                          bundle = new XMLResourceBundle(bis);
                          bis.close();
                      }
                  }
                  return bundle;
              }
          });
      ...
      private static class XMLResourceBundle extends ResourceBundle {
          private Properties props;
          XMLResourceBundle(InputStream stream) throws IOException {
              props = new Properties();
              props.loadFromXML(stream);
          }
          protected Object handleGetObject(String key) {
              return props.getProperty(key);
          }
          public Enumeration&lt;String&gt; getKeys() {
              ...
          }
      }
      </pre>
      @since 1.6</div>
<a id="L2015" name="L2015"></a>2015     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/1722.html" title="Multiple referred from 161 places.">Control</a> <em class="brace">{</em>
<div class="comment">
          The default format <code>List</code>, which contains the strings
          <code>"java.class"</code> and <code>"java.properties"</code>, in
          this order. This <code>List</code> is {@linkplain
          Collections#unmodifiableList(List) unmodifiable}.
          @see #getFormats(String)</div>
<a id="L2024" name="L2024"></a>2024         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; FORMAT_DEFAULT
<a id="L2025" name="L2025"></a>2025             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>("java.class",
<a id="L2026" name="L2026"></a>2026                                                          "java.properties"));
<a id="L2027" name="L2027"></a>2027 
<div class="comment">
          The class-only format <code>List</code> containing
          <code>"java.class"</code>. This <code>List</code> is {@linkplain
          Collections#unmodifiableList(List) unmodifiable}.
          @see #getFormats(String)</div>
<a id="L2035" name="L2035"></a>2035         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; FORMAT_CLASS
<a id="L2036" name="L2036"></a>2036             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>("java.class"));
<a id="L2037" name="L2037"></a>2037 
<div class="comment">
          The properties-only format <code>List</code> containing
          <code>"java.properties"</code>. This <code>List</code> is
          {@linkplain Collections#unmodifiableList(List) unmodifiable}.
          @see #getFormats(String)</div>
<a id="L2045" name="L2045"></a>2045         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; FORMAT_PROPERTIES
<a id="L2046" name="L2046"></a>2046             = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1286" title="Defined at 1286 in src/java/util/Collections.java.">unmodifiableList</a>(<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>("java.properties"));
<a id="L2047" name="L2047"></a>2047 
<div class="comment">
          The time-to-live constant for not caching loaded resource bundle
          instances.
          @see #getTimeToLive(String, Locale)</div>
<a id="L2054" name="L2054"></a>2054         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> TTL_DONT_CACHE = -1;
<a id="L2055" name="L2055"></a>2055 
<div class="comment">
          The time-to-live constant for disabling the expiration control
          for loaded resource bundle instances in the cache.
          @see #getTimeToLive(String, Locale)</div>
<a id="L2062" name="L2062"></a>2062         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> TTL_NO_EXPIRATION_CONTROL = -2;
<a id="L2063" name="L2063"></a>2063 
<a id="L2064" name="L2064"></a>2064         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> INSTANCE = <strong class="reserved">new</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>();
<a id="L2065" name="L2065"></a>2065 
<div class="comment">
          Sole constructor. (For invocation by subclass constructors,
          typically implicit.)</div>
<a id="L2070" name="L2070"></a>2070         <strong class="reserved">protected</strong> Control() <em class="brace">{</em>
<a id="L2071" name="L2071"></a>2071         <em class="brace">}</em>
<a id="L2072" name="L2072"></a>2072 
<div class="comment">
          Returns a <code>ResourceBundle.Control</code> in which the {@link
          #getFormats(String) getFormats} method returns the specified
          <code>formats</code>. The <code>formats</code> must be equal to
          one of {@link Control#FORMAT_PROPERTIES}, {@link
          Control#FORMAT_CLASS} or {@link
          Control#FORMAT_DEFAULT}. <code>ResourceBundle.Control</code>
          instances returned by this method are singletons and thread-safe.
          <p>Specifying {@link Control#FORMAT_DEFAULT} is equivalent to
          instantiating the <code>ResourceBundle.Control</code> class,
          except that this method returns a singleton.
          @param formats
                 the formats to be returned by the
                 <code>ResourceBundle.Control.getFormats</code> method
          @return a <code>ResourceBundle.Control</code> supporting the
                 specified <code>formats</code>
          @exception NullPointerException
                 if <code>formats</code> is <code>null</code>
          @exception IllegalArgumentException
                 if <code>formats</code> is unknown</p></div>
<a id="L2096" name="L2096"></a>2096         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> <a href="../R/15812.html" title="Multiple referred from 28 places.">getControl</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats) <em class="brace">{</em>
<a id="L2097" name="L2097"></a>2097             <strong class="reserved">if</strong> (formats.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.FORMAT_PROPERTIES)) <em class="brace">{</em>
<a id="L2098" name="L2098"></a>2098                 <strong class="reserved">return</strong> <a href="../S/853.html#L2958" title="Defined at 2958 in src/java/util/ResourceBundle.java.">SingleFormatControl</a>.PROPERTIES_ONLY;
<a id="L2099" name="L2099"></a>2099             <em class="brace">}</em>
<a id="L2100" name="L2100"></a>2100             <strong class="reserved">if</strong> (formats.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.FORMAT_CLASS)) <em class="brace">{</em>
<a id="L2101" name="L2101"></a>2101                 <strong class="reserved">return</strong> <a href="../S/853.html#L2958" title="Defined at 2958 in src/java/util/ResourceBundle.java.">SingleFormatControl</a>.CLASS_ONLY;
<a id="L2102" name="L2102"></a>2102             <em class="brace">}</em>
<a id="L2103" name="L2103"></a>2103             <strong class="reserved">if</strong> (formats.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.FORMAT_DEFAULT)) <em class="brace">{</em>
<a id="L2104" name="L2104"></a>2104                 <strong class="reserved">return</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.INSTANCE;
<a id="L2105" name="L2105"></a>2105             <em class="brace">}</em>
<a id="L2106" name="L2106"></a>2106             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L2107" name="L2107"></a>2107         <em class="brace">}</em>
<a id="L2108" name="L2108"></a>2108 
<div class="comment">
          Returns a <code>ResourceBundle.Control</code> in which the {@link
          #getFormats(String) getFormats} method returns the specified
          <code>formats</code> and the {@link
          Control#getFallbackLocale(String, Locale) getFallbackLocale}
          method returns <code>null</code>. The <code>formats</code> must
          be equal to one of {@link Control#FORMAT_PROPERTIES}, {@link
          Control#FORMAT_CLASS} or {@link Control#FORMAT_DEFAULT}.
          <code>ResourceBundle.Control</code> instances returned by this
          method are singletons and thread-safe.
          @param formats
                 the formats to be returned by the
                 <code>ResourceBundle.Control.getFormats</code> method
          @return a <code>ResourceBundle.Control</code> supporting the
                 specified <code>formats</code> with no fallback
                 <code>Locale</code> support
          @exception NullPointerException
                 if <code>formats</code> is <code>null</code>
          @exception IllegalArgumentException
                 if <code>formats</code> is unknown</div>
<a id="L2131" name="L2131"></a>2131         <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> <a href="../S/1027.html#L113" title="Referred from 113 in src/java/util/spi/CurrencyNameProvider.java.">getNoFallbackControl</a>(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats) <em class="brace">{</em>
<a id="L2132" name="L2132"></a>2132             <strong class="reserved">if</strong> (formats.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.FORMAT_DEFAULT)) <em class="brace">{</em>
<a id="L2133" name="L2133"></a>2133                 <strong class="reserved">return</strong> <a href="../S/853.html#L2979" title="Defined at 2979 in src/java/util/ResourceBundle.java.">NoFallbackControl</a>.NO_FALLBACK;
<a id="L2134" name="L2134"></a>2134             <em class="brace">}</em>
<a id="L2135" name="L2135"></a>2135             <strong class="reserved">if</strong> (formats.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.FORMAT_PROPERTIES)) <em class="brace">{</em>
<a id="L2136" name="L2136"></a>2136                 <strong class="reserved">return</strong> <a href="../S/853.html#L2979" title="Defined at 2979 in src/java/util/ResourceBundle.java.">NoFallbackControl</a>.PROPERTIES_ONLY_NO_FALLBACK;
<a id="L2137" name="L2137"></a>2137             <em class="brace">}</em>
<a id="L2138" name="L2138"></a>2138             <strong class="reserved">if</strong> (formats.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a>.FORMAT_CLASS)) <em class="brace">{</em>
<a id="L2139" name="L2139"></a>2139                 <strong class="reserved">return</strong> <a href="../S/853.html#L2979" title="Defined at 2979 in src/java/util/ResourceBundle.java.">NoFallbackControl</a>.CLASS_ONLY_NO_FALLBACK;
<a id="L2140" name="L2140"></a>2140             <em class="brace">}</em>
<a id="L2141" name="L2141"></a>2141             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L2142" name="L2142"></a>2142         <em class="brace">}</em>
<a id="L2143" name="L2143"></a>2143 
<div class="comment">
          Returns a <code>List</code> of <code>String</code>s containing
          formats to be used to load resource bundles for the given
          <code>baseName</code>. The <code>ResourceBundle.getBundle</code>
          factory method tries to load resource bundles with formats in the
          order specified by the list. The list returned by this method
          must have at least one <code>String</code>. The predefined
          formats are <code>"java.class"</code> for class-based resource
          bundles and <code>"java.properties"</code> for {@linkplain
          PropertyResourceBundle properties-based} ones. Strings starting
          with <code>"java."</code> are reserved for future extensions and
          must not be used by application-defined formats.
          <p>It is not a requirement to return an immutable (unmodifiable)
          <code>List</code>.  However, the returned <code>List</code> must
          not be mutated after it has been returned by
          <code>getFormats</code>.
          </p><p>The default implementation returns {@link #FORMAT_DEFAULT} so
          that the <code>ResourceBundle.getBundle</code> factory method
          looks up first class-based resource bundles, then
          properties-based ones.
          @param baseName
                 the base name of the resource bundle, a fully qualified class
                 name
          @return a <code>List</code> of <code>String</code>s containing
                 formats for loading resource bundles.
          @exception NullPointerException
                 if <code>baseName</code> is null
          @see #FORMAT_DEFAULT
          @see #FORMAT_CLASS
          @see #FORMAT_PROPERTIES</p></div>
<a id="L2178" name="L2178"></a>2178         <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/16698.html" title="Multiple referred from 4 places.">getFormats</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>) <em class="brace">{</em>
<a id="L2179" name="L2179"></a>2179             <strong class="reserved">if</strong> (<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2180" name="L2180"></a>2180                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2181" name="L2181"></a>2181             <em class="brace">}</em>
<a id="L2182" name="L2182"></a>2182             <strong class="reserved">return</strong> FORMAT_DEFAULT;
<a id="L2183" name="L2183"></a>2183         <em class="brace">}</em>
<a id="L2184" name="L2184"></a>2184 
<div class="comment">
          Returns a <code>List</code> of <code>Locale</code>s as candidate
          locales for <code>baseName</code> and <code>locale</code>. This
          method is called by the <code>ResourceBundle.getBundle</code>
          factory method each time the factory method tries finding a
          resource bundle for a target <code>Locale</code>.
          <p>The sequence of the candidate locales also corresponds to the
          runtime resource lookup path (also known as the <i>parent
          chain</i>), if the corresponding resource bundles for the
          candidate locales exist and their parents are not defined by
          loaded resource bundles themselves.  The last element of the list
          must be a {@linkplain Locale#ROOT root locale} if it is desired to
          have the base bundle as the terminal of the parent chain.
          </p><p>If the given locale is equal to <code>Locale.ROOT</code> (the
          root locale), a <code>List</code> containing only the root
          <code>Locale</code> must be returned. In this case, the
          <code>ResourceBundle.getBundle</code> factory method loads only
          the base bundle as the resulting resource bundle.
          </p><p>It is not a requirement to return an immutable (unmodifiable)
          <code>List</code>. However, the returned <code>List</code> must not
          be mutated after it has been returned by
          <code>getCandidateLocales</code>.
          </p><p>The default implementation returns a <code>List</code> containing
          <code>Locale</code>s using the rules described below.  In the
          description below, <em>L</em>, <em>S</em>, <em>C</em> and <em>V</em>
          respectively represent non-empty language, script, country, and
          variant.  For example, [<em>L</em>, <em>C</em>] represents a
          <code>Locale</code> that has non-empty values only for language and
          country.  The form <em>L</em>("xx") represents the (non-empty)
          language value is "xx".  For all cases, <code>Locale</code>s whose
          final component values are empty strings are omitted.
          </p><ol><li>For an input <code>Locale</code> with an empty script value,
          append candidate <code>Locale</code>s by omitting the final component
          one by one as below:
          <ul><li> [<em>L</em>, <em>C</em>, <em>V</em>] </li><li> [<em>L</em>, <em>C</em>] </li><li> [<em>L</em>] </li><li> <code>Locale.ROOT</code> </li>
          </ul></li><li>For an input <code>Locale</code> with a non-empty script value,
          append candidate <code>Locale</code>s by omitting the final component
          up to language, then append candidates generated from the
          <code>Locale</code> with country and variant restored:
          <ul><li> [<em>L</em>, <em>S</em>, <em>C</em>, <em>V</em>]</li><li> [<em>L</em>, <em>S</em>, <em>C</em>]</li><li> [<em>L</em>, <em>S</em>]</li><li> [<em>L</em>, <em>C</em>, <em>V</em>]</li><li> [<em>L</em>, <em>C</em>]</li><li> [<em>L</em>]</li><li> <code>Locale.ROOT</code></li>
          </ul></li><li>For an input <code>Locale</code> with a variant value consisting
          of multiple subtags separated by underscore, generate candidate
          <code>Locale</code>s by omitting the variant subtags one by one, then
          insert them after every occurrence of <code> Locale</code>s with the
          full variant value in the original list.  For example, if the
          the variant consists of two subtags <em>V1</em> and <em>V2</em>:
          <ul><li> [<em>L</em>, <em>S</em>, <em>C</em>, <em>V1</em>, <em>V2</em>]</li><li> [<em>L</em>, <em>S</em>, <em>C</em>, <em>V1</em>]</li><li> [<em>L</em>, <em>S</em>, <em>C</em>]</li><li> [<em>L</em>, <em>S</em>]</li><li> [<em>L</em>, <em>C</em>, <em>V1</em>, <em>V2</em>]</li><li> [<em>L</em>, <em>C</em>, <em>V1</em>]</li><li> [<em>L</em>, <em>C</em>]</li><li> [<em>L</em>]</li><li> <code>Locale.ROOT</code></li>
          </ul></li><li>Special cases for Chinese.  When an input <code>Locale</code> has the
          language "zh" (Chinese) and an empty script value, either "Hans" (Simplified) or
          "Hant" (Traditional) might be supplied, depending on the country.
          When the country is "CN" (China) or "SG" (Singapore), "Hans" is supplied.
          When the country is "HK" (Hong Kong SAR China), "MO" (Macau SAR China),
          or "TW" (Taiwan), "Hant" is supplied.  For all other countries or when the country
          is empty, no script is supplied.  For example, for <code>Locale("zh", "CN")
          </code>, the candidate list will be:
          <ul><li> [<em>L</em>("zh"), <em>S</em>("Hans"), <em>C</em>("CN")]</li><li> [<em>L</em>("zh"), <em>S</em>("Hans")]</li><li> [<em>L</em>("zh"), <em>C</em>("CN")]</li><li> [<em>L</em>("zh")]</li><li> <code>Locale.ROOT</code></li>
          </ul>
          For <code>Locale("zh", "TW")</code>, the candidate list will be:
          <ul><li> [<em>L</em>("zh"), <em>S</em>("Hant"), <em>C</em>("TW")]</li><li> [<em>L</em>("zh"), <em>S</em>("Hant")]</li><li> [<em>L</em>("zh"), <em>C</em>("TW")]</li><li> [<em>L</em>("zh")]</li><li> <code>Locale.ROOT</code></li>
          </ul></li><li>Special cases for Norwegian.  Both <code>Locale("no", "NO",
          "NY")</code> and <code>Locale("nn", "NO")</code> represent Norwegian
          Nynorsk.  When a locale's language is "nn", the standard candidate
          list is generated up to [<em>L</em>("nn")], and then the following
          candidates are added:
          <ul><li> [<em>L</em>("no"), <em>C</em>("NO"), <em>V</em>("NY")]</li><li> [<em>L</em>("no"), <em>C</em>("NO")]</li><li> [<em>L</em>("no")]</li><li> <code>Locale.ROOT</code></li>
          </ul>
          If the locale is exactly <code>Locale("no", "NO", "NY")</code>, it is first
          converted to <code>Locale("nn", "NO")</code> and then the above procedure is
          followed.
          <p>Also, Java treats the language "no" as a synonym of Norwegian
          Bokml "nb".  Except for the single case <code>Locale("no",
          "NO", "NY")</code> (handled above), when an input <code>Locale</code>
          has language "no" or "nb", candidate <code>Locale</code>s with
          language code "no" and "nb" are interleaved, first using the
          requested language, then using its synonym. For example,
          <code>Locale("nb", "NO", "POSIX")</code> generates the following
          candidate list:
          </p><ul><li> [<em>L</em>("nb"), <em>C</em>("NO"), <em>V</em>("POSIX")]</li><li> [<em>L</em>("no"), <em>C</em>("NO"), <em>V</em>("POSIX")]</li><li> [<em>L</em>("nb"), <em>C</em>("NO")]</li><li> [<em>L</em>("no"), <em>C</em>("NO")]</li><li> [<em>L</em>("nb")]</li><li> [<em>L</em>("no")]</li><li> <code>Locale.ROOT</code></li>
          </ul>
          <code>Locale("no", "NO", "POSIX")</code> would generate the same list
          except that locales with "no" would appear before the corresponding
          locales with "nb".</li>
          </ol>
          <p>The default implementation uses an <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> that
          overriding implementations may modify before returning it to the
          caller. However, a subclass must not modify it after it has
          been returned by <code>getCandidateLocales</code>.
          </p><p>For example, if the given <code>baseName</code> is "Messages"
          and the given <code>locale</code> is
          <code>Locale("ja",&nbsp;"",&nbsp;"XX")</code>, then a
          <code>List</code> of <code>Locale</code>s:
          </p><pre>              Locale("ja", "", "XX")
              Locale("ja")
              Locale.ROOT
          </pre>
          is returned. And if the resource bundles for the "ja" and
          "" <code>Locale</code>s are found, then the runtime resource
          lookup path (parent chain) is:
          <pre>{@code
              Messages_ja -&gt; Messages
          }</pre>
          @param baseName
                 the base name of the resource bundle, a fully
                 qualified class name
          @param locale
                 the locale for which a resource bundle is desired
          @return a <code>List</code> of candidate
                 <code>Locale</code>s for the given <code>locale</code>
          @exception NullPointerException
                 if <code>baseName</code> or <code>locale</code> is
                 <code>null</code></div>
<a id="L2363" name="L2363"></a>2363         <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; <a href="../R/15436.html" title="Multiple referred from 2 places.">getCandidateLocales</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2364" name="L2364"></a>2364             <strong class="reserved">if</strong> (<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2365" name="L2365"></a>2365                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2366" name="L2366"></a>2366             <em class="brace">}</em>
<a id="L2367" name="L2367"></a>2367             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;(CANDIDATES_CACHE.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1233" title="Defined at 1233 in src/java/util/Locale.java.">getBaseLocale</a>()));
<a id="L2368" name="L2368"></a>2368         <em class="brace">}</em>
<a id="L2369" name="L2369"></a>2369 
<a id="L2370" name="L2370"></a>2370         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/853.html#L2372" title="Defined at 2372 in src/java/util/ResourceBundle.java.">CandidateListCache</a> CANDIDATES_CACHE = <strong class="reserved">new</strong> <a href="../S/853.html#L2372" title="Defined at 2372 in src/java/util/ResourceBundle.java.">CandidateListCache</a>();
<a id="L2371" name="L2371"></a>2371 
<a id="L2372" name="L2372"></a>2372         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/853.html#L2370" title="Referred from 2370 in src/java/util/ResourceBundle.java.">CandidateListCache</a> <strong class="reserved">extends</strong> LocaleObjectCache&lt;BaseLocale, <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt;&gt; <em class="brace">{</em>
<a id="L2373" name="L2373"></a>2373             <strong class="reserved">protected</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; createObject(BaseLocale base) <em class="brace">{</em>
<a id="L2374" name="L2374"></a>2374                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language = base.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>();
<a id="L2375" name="L2375"></a>2375                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script = base.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>();
<a id="L2376" name="L2376"></a>2376                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a> = base.<a href="../D/21934.html" title="Multiple defined in 5 places.">getRegion</a>();
<a id="L2377" name="L2377"></a>2377                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = base.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>();
<a id="L2378" name="L2378"></a>2378 
<a id="L2379" name="L2379"></a>2379                 <em class="comment">// Special handling for Norwegian</em>
<a id="L2380" name="L2380"></a>2380                 <strong class="reserved">boolean</strong> isNorwegianBokmal = <strong class="reserved">false</strong>;
<a id="L2381" name="L2381"></a>2381                 <strong class="reserved">boolean</strong> isNorwegianNynorsk = <strong class="reserved">false</strong>;
<a id="L2382" name="L2382"></a>2382                 <strong class="reserved">if</strong> (language.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("no")) <em class="brace">{</em>
<a id="L2383" name="L2383"></a>2383                     <strong class="reserved">if</strong> (<a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("NO") &amp;&amp; <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("NY")) <em class="brace">{</em>
<a id="L2384" name="L2384"></a>2384                         <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = "";
<a id="L2385" name="L2385"></a>2385                         isNorwegianNynorsk = <strong class="reserved">true</strong>;
<a id="L2386" name="L2386"></a>2386                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2387" name="L2387"></a>2387                         isNorwegianBokmal = <strong class="reserved">true</strong>;
<a id="L2388" name="L2388"></a>2388                     <em class="brace">}</em>
<a id="L2389" name="L2389"></a>2389                 <em class="brace">}</em>
<a id="L2390" name="L2390"></a>2390                 <strong class="reserved">if</strong> (language.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("nb") || isNorwegianBokmal) <em class="brace">{</em>
<a id="L2391" name="L2391"></a>2391                     <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; tmpList = <a href="../S/853.html#L2445" title="Defined at 2445 in src/java/util/ResourceBundle.java.">getDefaultList</a>("nb", script, <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2392" name="L2392"></a>2392                     <em class="comment">// Insert a locale replacing "nb" with "no" for every list entry</em>
<a id="L2393" name="L2393"></a>2393                     <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; bokmalList = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;&gt;();
<a id="L2394" name="L2394"></a>2394                     <strong class="reserved">for</strong> (<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> l : tmpList) <em class="brace">{</em>
<a id="L2395" name="L2395"></a>2395                         bokmalList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(l);
<a id="L2396" name="L2396"></a>2396                         <strong class="reserved">if</strong> (l.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L2397" name="L2397"></a>2397                             <strong class="reserved">break</strong>;
<a id="L2398" name="L2398"></a>2398                         <em class="brace">}</em>
<a id="L2399" name="L2399"></a>2399                         bokmalList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("no", l.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>(), l.<a href="../S/1034.html#L1101" title="Defined at 1101 in src/java/util/Locale.java.">getCountry</a>(),
<a id="L2400" name="L2400"></a>2400                                 l.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>(), <strong class="reserved">null</strong>));
<a id="L2401" name="L2401"></a>2401                     <em class="brace">}</em>
<a id="L2402" name="L2402"></a>2402                     <strong class="reserved">return</strong> bokmalList;
<a id="L2403" name="L2403"></a>2403                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (language.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("nn") || isNorwegianNynorsk) <em class="brace">{</em>
<a id="L2404" name="L2404"></a>2404                     <em class="comment">// Insert no_NO_NY, no_NO, no after nn</em>
<a id="L2405" name="L2405"></a>2405                     <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; nynorskList = <a href="../S/853.html#L2445" title="Defined at 2445 in src/java/util/ResourceBundle.java.">getDefaultList</a>("nn", script, <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2406" name="L2406"></a>2406                     <strong class="reserved">int</strong> idx = nynorskList.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - 1;
<a id="L2407" name="L2407"></a>2407                     nynorskList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(idx++, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("no", "NO", "NY"));
<a id="L2408" name="L2408"></a>2408                     nynorskList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(idx++, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("no", "NO", ""));
<a id="L2409" name="L2409"></a>2409                     nynorskList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(idx++, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("no", "", ""));
<a id="L2410" name="L2410"></a>2410                     <strong class="reserved">return</strong> nynorskList;
<a id="L2411" name="L2411"></a>2411                 <em class="brace">}</em>
<a id="L2412" name="L2412"></a>2412                 <em class="comment">// Special handling for Chinese</em>
<a id="L2413" name="L2413"></a>2413                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (language.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("zh")) <em class="brace">{</em>
<a id="L2414" name="L2414"></a>2414                     <strong class="reserved">if</strong> (script.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0 &amp;&amp; <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2415" name="L2415"></a>2415                         <em class="comment">// Supply script for users who want to use zh_Hans/zh_Hant</em>
<a id="L2416" name="L2416"></a>2416                         <em class="comment">// as bundle names (recommended for Java7+)</em>
<a id="L2417" name="L2417"></a>2417                         <strong class="reserved">switch</strong> (<a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>) <em class="brace">{</em>
<a id="L2418" name="L2418"></a>2418                         <strong class="reserved">case</strong> "TW":
<a id="L2419" name="L2419"></a>2419                         <strong class="reserved">case</strong> "HK":
<a id="L2420" name="L2420"></a>2420                         <strong class="reserved">case</strong> "MO":
<a id="L2421" name="L2421"></a>2421                             script = "Hant";
<a id="L2422" name="L2422"></a>2422                             <strong class="reserved">break</strong>;
<a id="L2423" name="L2423"></a>2423                         <strong class="reserved">case</strong> "CN":
<a id="L2424" name="L2424"></a>2424                         <strong class="reserved">case</strong> "SG":
<a id="L2425" name="L2425"></a>2425                             script = "Hans";
<a id="L2426" name="L2426"></a>2426                             <strong class="reserved">break</strong>;
<a id="L2427" name="L2427"></a>2427                         <em class="brace">}</em>
<a id="L2428" name="L2428"></a>2428                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (script.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0 &amp;&amp; <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L2429" name="L2429"></a>2429                         <em class="comment">// Supply region(country) for users who still package Chinese</em>
<a id="L2430" name="L2430"></a>2430                         <em class="comment">// bundles using old convension.</em>
<a id="L2431" name="L2431"></a>2431                         <strong class="reserved">switch</strong> (script) <em class="brace">{</em>
<a id="L2432" name="L2432"></a>2432                         <strong class="reserved">case</strong> "Hans":
<a id="L2433" name="L2433"></a>2433                             <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a> = "CN";
<a id="L2434" name="L2434"></a>2434                             <strong class="reserved">break</strong>;
<a id="L2435" name="L2435"></a>2435                         <strong class="reserved">case</strong> "Hant":
<a id="L2436" name="L2436"></a>2436                             <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a> = "TW";
<a id="L2437" name="L2437"></a>2437                             <strong class="reserved">break</strong>;
<a id="L2438" name="L2438"></a>2438                         <em class="brace">}</em>
<a id="L2439" name="L2439"></a>2439                     <em class="brace">}</em>
<a id="L2440" name="L2440"></a>2440                 <em class="brace">}</em>
<a id="L2441" name="L2441"></a>2441 
<a id="L2442" name="L2442"></a>2442                 <strong class="reserved">return</strong> <a href="../S/853.html#L2445" title="Defined at 2445 in src/java/util/ResourceBundle.java.">getDefaultList</a>(language, script, <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2443" name="L2443"></a>2443             <em class="brace">}</em>
<a id="L2444" name="L2444"></a>2444 
<a id="L2445" name="L2445"></a>2445             <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; <a href="../R/16044.html" title="Multiple referred from 3 places.">getDefaultList</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>) <em class="brace">{</em>
<a id="L2446" name="L2446"></a>2446                 <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; variants = <strong class="reserved">null</strong>;
<a id="L2447" name="L2447"></a>2447 
<a id="L2448" name="L2448"></a>2448                 <strong class="reserved">if</strong> (<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2449" name="L2449"></a>2449                     variants = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;&gt;();
<a id="L2450" name="L2450"></a>2450                     <strong class="reserved">int</strong> idx = <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L2451" name="L2451"></a>2451                     <strong class="reserved">while</strong> (idx != -1) <em class="brace">{</em>
<a id="L2452" name="L2452"></a>2452                         variants.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, idx));
<a id="L2453" name="L2453"></a>2453                         idx = <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('_', --idx);
<a id="L2454" name="L2454"></a>2454                     <em class="brace">}</em>
<a id="L2455" name="L2455"></a>2455                 <em class="brace">}</em>
<a id="L2456" name="L2456"></a>2456 
<a id="L2457" name="L2457"></a>2457                 <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;&gt;();
<a id="L2458" name="L2458"></a>2458 
<a id="L2459" name="L2459"></a>2459                 <strong class="reserved">if</strong> (variants != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2460" name="L2460"></a>2460                     <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v : variants) <em class="brace">{</em>
<a id="L2461" name="L2461"></a>2461                         <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, script, <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, v, <strong class="reserved">null</strong>));
<a id="L2462" name="L2462"></a>2462                     <em class="brace">}</em>
<a id="L2463" name="L2463"></a>2463                 <em class="brace">}</em>
<a id="L2464" name="L2464"></a>2464                 <strong class="reserved">if</strong> (<a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2465" name="L2465"></a>2465                     <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, script, <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, "", <strong class="reserved">null</strong>));
<a id="L2466" name="L2466"></a>2466                 <em class="brace">}</em>
<a id="L2467" name="L2467"></a>2467                 <strong class="reserved">if</strong> (script.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2468" name="L2468"></a>2468                     <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, script, "", "", <strong class="reserved">null</strong>));
<a id="L2469" name="L2469"></a>2469 
<a id="L2470" name="L2470"></a>2470                     <em class="comment">// With script, after truncating variant, region and script,</em>
<a id="L2471" name="L2471"></a>2471                     <em class="comment">// start over without script.</em>
<a id="L2472" name="L2472"></a>2472                     <strong class="reserved">if</strong> (variants != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2473" name="L2473"></a>2473                         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> v : variants) <em class="brace">{</em>
<a id="L2474" name="L2474"></a>2474                             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, "", <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, v, <strong class="reserved">null</strong>));
<a id="L2475" name="L2475"></a>2475                         <em class="brace">}</em>
<a id="L2476" name="L2476"></a>2476                     <em class="brace">}</em>
<a id="L2477" name="L2477"></a>2477                     <strong class="reserved">if</strong> (<a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2478" name="L2478"></a>2478                         <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, "", <a href="../S/985.html#L1034" title="Defined at 1034 in src/java/util/regex/Matcher.java.">region</a>, "", <strong class="reserved">null</strong>));
<a id="L2479" name="L2479"></a>2479                     <em class="brace">}</em>
<a id="L2480" name="L2480"></a>2480                 <em class="brace">}</em>
<a id="L2481" name="L2481"></a>2481                 <strong class="reserved">if</strong> (language.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L2482" name="L2482"></a>2482                     <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(language, "", "", "", <strong class="reserved">null</strong>));
<a id="L2483" name="L2483"></a>2483                 <em class="brace">}</em>
<a id="L2484" name="L2484"></a>2484                 <em class="comment">// Add root locale at the end</em>
<a id="L2485" name="L2485"></a>2485                 <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT);
<a id="L2486" name="L2486"></a>2486 
<a id="L2487" name="L2487"></a>2487                 <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>;
<a id="L2488" name="L2488"></a>2488             <em class="brace">}</em>
<a id="L2489" name="L2489"></a>2489         <em class="brace">}</em>
<a id="L2490" name="L2490"></a>2490 
<div class="comment">
          Returns a <code>Locale</code> to be used as a fallback locale for
          further resource bundle searches by the
          <code>ResourceBundle.getBundle</code> factory method. This method
          is called from the factory method every time when no resulting
          resource bundle has been found for <code>baseName</code> and
          <code>locale</code>, where locale is either the parameter for
          <code>ResourceBundle.getBundle</code> or the previous fallback
          locale returned by this method.
          <p>The method returns <code>null</code> if no further fallback
          search is desired.
          </p><p>The default implementation returns the {@linkplain
          Locale#getDefault() default <code>Locale</code>} if the given
          <code>locale</code> isn't the default one.  Otherwise,
          <code>null</code> is returned.
          @param baseName
                 the base name of the resource bundle, a fully
                 qualified class name for which
                 <code>ResourceBundle.getBundle</code> has been
                 unable to find any resource bundles (except for the
                 base bundle)
          @param locale
                 the <code>Locale</code> for which
                 <code>ResourceBundle.getBundle</code> has been
                 unable to find any resource bundles (except for the
                 base bundle)
          @return a <code>Locale</code> for the fallback search,
                 or <code>null</code> if no further fallback search
                 is desired.
          @exception NullPointerException
                 if <code>baseName</code> or <code>locale</code>
                 is <code>null</code></p></div>
<a id="L2527" name="L2527"></a>2527         <strong class="reserved">public</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../S/853.html#L1355" title="Referred from 1355 in src/java/util/ResourceBundle.java.">getFallbackLocale</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2528" name="L2528"></a>2528             <strong class="reserved">if</strong> (<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2529" name="L2529"></a>2529                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2530" name="L2530"></a>2530             <em class="brace">}</em>
<a id="L2531" name="L2531"></a>2531             <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> defaultLocale = <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.<a href="../D/18273.html" title="Multiple defined in 13 places.">getDefault</a>();
<a id="L2532" name="L2532"></a>2532             <strong class="reserved">return</strong> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(defaultLocale) ? <strong class="reserved">null</strong> : defaultLocale;
<a id="L2533" name="L2533"></a>2533         <em class="brace">}</em>
<a id="L2534" name="L2534"></a>2534 
<div class="comment">
          Instantiates a resource bundle for the given bundle name of the
          given format and locale, using the given class loader if
          necessary. This method returns <code>null</code> if there is no
          resource bundle available for the given parameters. If a resource
          bundle can't be instantiated due to an unexpected error, the
          error must be reported by throwing an <code>Error</code> or
          <code>Exception</code> rather than simply returning
          <code>null</code>.
          <p>If the <code>reload</code> flag is <code>true</code>, it
          indicates that this method is being called because the previously
          loaded resource bundle has expired.
          </p><p>The default implementation instantiates a
          <code>ResourceBundle</code> as follows.
          </p><ul><li>The bundle name is obtained by calling {@link
          #toBundleName(String, Locale) toBundleName(baseName,
          locale)}.</li><li>If <code>format</code> is <code>"java.class"</code>, the
          <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> specified by the bundle name is loaded by calling
          {@link ClassLoader#loadClass(String)}. Then, a
          <code>ResourceBundle</code> is instantiated by calling {@link
          Class#newInstance()}.  Note that the <code>reload</code> flag is
          ignored for loading class-based resource bundles in this default
          implementation.</li><li>If <code>format</code> is <code>"java.properties"</code>,
          {@link #toResourceName(String, String) toResourceName(bundlename,
          "properties")} is called to get the resource name.
          If <code>reload</code> is <code>true</code>, {@link
          ClassLoader#getResource(String) load.getResource} is called
          to get a <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> for creating a {@link
          URLConnection}. This <code>URLConnection</code> is used to
          {@linkplain URLConnection#setUseCaches(boolean) disable the
          caches} of the underlying resource loading layers,
          and to {@linkplain URLConnection#getInputStream() get an
          <code>InputStream</code>}.
          Otherwise, {@link ClassLoader#getResourceAsStream(String)
          loader.getResourceAsStream} is called to get an {@link
          InputStream}. Then, a {@link
          PropertyResourceBundle} is constructed with the
          <code>InputStream</code>.</li><li>If <code>format</code> is neither <code>"java.class"</code>
          nor <code>"java.properties"</code>, an
          <code>IllegalArgumentException</code> is thrown.</li>
          </ul>
          @param baseName
                 the base bundle name of the resource bundle, a fully
                 qualified class name
          @param locale
                 the locale for which the resource bundle should be
                 instantiated
          @param format
                 the resource bundle format to be loaded
          @param loader
                 the <code>ClassLoader</code> to use to load the bundle
          @param reload
                 the flag to indicate bundle reloading; <code>true</code>
                 if reloading an expired resource bundle,
                 <code>false</code> otherwise
          @return the resource bundle instance,
                 or <code>null</code> if none could be found.
          @exception NullPointerException
                 if <code>bundleName</code>, <code>locale</code>,
                 <code>format</code>, or <code>loader</code> is
                 <code>null</code>, or if <code>null</code> is returned by
                 {@link #toBundleName(String, Locale) toBundleName}
          @exception IllegalArgumentException
                 if <code>format</code> is unknown, or if the resource
                 found for the given parameters contains malformed data.
          @exception ClassCastException
                 if the loaded class cannot be cast to <code>ResourceBundle</code>
          @exception IllegalAccessException
                 if the class or its nullary constructor is not
                 accessible.
          @exception InstantiationException
                 if the instantiation of a class fails for some other
                 reason.
          @exception ExceptionInInitializerError
                 if the initialization provoked by this method fails.
          @exception SecurityException
                 If a security manager is present and creation of new
                 instances is denied. See {@link Class#newInstance()}
                 for details.
          @exception IOException
                 if an error occurred when reading resources using
                 any I/O operations</div>
<a id="L2631" name="L2631"></a>2631         <strong class="reserved">public</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> <a href="../S/853.html#L1501" title="Referred from 1501 in src/java/util/ResourceBundle.java.">newBundle</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>,
<a id="L2632" name="L2632"></a>2632                                         <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader, <strong class="reserved">boolean</strong> <a href="../D/30663.html" title="Multiple defined in 3 places.">reload</a>)
<a id="L2633" name="L2633"></a>2633                     <strong class="reserved">throws</strong> <a href="../S/1574.html#L59" title="Defined at 59 in src/java/lang/IllegalAccessException.java.">IllegalAccessException</a>, <a href="../S/1743.html#L46" title="Defined at 46 in src/java/lang/InstantiationException.java.">InstantiationException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2634" name="L2634"></a>2634             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> bundleName = <a href="../S/853.html#L2885" title="Defined at 2885 in src/java/util/ResourceBundle.java.">toBundleName</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>);
<a id="L2635" name="L2635"></a>2635             <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle = <strong class="reserved">null</strong>;
<a id="L2636" name="L2636"></a>2636             <strong class="reserved">if</strong> (<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("java.class")) <em class="brace">{</em>
<a id="L2637" name="L2637"></a>2637                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2638" name="L2638"></a>2638                     @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L2639" name="L2639"></a>2639                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a>&gt; bundleClass
<a id="L2640" name="L2640"></a>2640                         = (<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a>&gt;)loader.<a href="../D/26901.html" title="Multiple defined in 49 places.">loadClass</a>(bundleName);
<a id="L2641" name="L2641"></a>2641 
<a id="L2642" name="L2642"></a>2642                     <em class="comment">// If the class isn't a ResourceBundle subclass, throw a</em>
<a id="L2643" name="L2643"></a>2643                     <em class="comment">// ClassCastException.</em>
<a id="L2644" name="L2644"></a>2644                     <strong class="reserved">if</strong> (<a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a>.<strong class="reserved">class</strong>.<a href="../D/25213.html" title="Multiple defined in 7 places.">isAssignableFrom</a>(bundleClass)) <em class="brace">{</em>
<a id="L2645" name="L2645"></a>2645                         bundle = bundleClass.<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>();
<a id="L2646" name="L2646"></a>2646                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2647" name="L2647"></a>2647                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a>(bundleClass.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()
<a id="L2648" name="L2648"></a>2648                                      + " cannot be cast to ResourceBundle");
<a id="L2649" name="L2649"></a>2649                     <em class="brace">}</em>
<a id="L2650" name="L2650"></a>2650                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> e) <em class="brace">{</em>
<a id="L2651" name="L2651"></a>2651                 <em class="brace">}</em>
<a id="L2652" name="L2652"></a>2652             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("java.properties")) <em class="brace">{</em>
<a id="L2653" name="L2653"></a>2653                 <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceName = <a href="../S/853.html#L2948" title="Defined at 2948 in src/java/util/ResourceBundle.java.">toResourceName0</a>(bundleName, "properties");
<a id="L2654" name="L2654"></a>2654                 <strong class="reserved">if</strong> (resourceName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2655" name="L2655"></a>2655                     <strong class="reserved">return</strong> bundle;
<a id="L2656" name="L2656"></a>2656                 <em class="brace">}</em>
<a id="L2657" name="L2657"></a>2657                 <strong class="reserved">final</strong> <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> classLoader = loader;
<a id="L2658" name="L2658"></a>2658                 <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> reloadFlag = <a href="../D/30663.html" title="Multiple defined in 3 places.">reload</a>;
<a id="L2659" name="L2659"></a>2659                 <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a> = <strong class="reserved">null</strong>;
<a id="L2660" name="L2660"></a>2660                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2661" name="L2661"></a>2661                     <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a> = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L2662" name="L2662"></a>2662                         <strong class="reserved">new</strong> <a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>&gt;() <em class="brace">{</em>
<a id="L2663" name="L2663"></a>2663                             <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L2664" name="L2664"></a>2664                                 <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <strong class="reserved">null</strong>;
<a id="L2665" name="L2665"></a>2665                                 <strong class="reserved">if</strong> (reloadFlag) <em class="brace">{</em>
<a id="L2666" name="L2666"></a>2666                                     <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = classLoader.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(resourceName);
<a id="L2667" name="L2667"></a>2667                                     <strong class="reserved">if</strong> (url != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2668" name="L2668"></a>2668                                         <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> <a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a> = url.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>();
<a id="L2669" name="L2669"></a>2669                                         <strong class="reserved">if</strong> (<a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2670" name="L2670"></a>2670                                             <em class="comment">// Disable caches to get fresh data for</em>
<a id="L2671" name="L2671"></a>2671                                             <em class="comment">// reloading.</em>
<a id="L2672" name="L2672"></a>2672                                             <a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a>.<a href="../S/758.html#L987" title="Defined at 987 in src/java/net/URLConnection.java.">setUseCaches</a>(<strong class="reserved">false</strong>);
<a id="L2673" name="L2673"></a>2673                                             <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a>.<a href="../D/19744.html" title="Multiple defined in 16 places.">getInputStream</a>();
<a id="L2674" name="L2674"></a>2674                                         <em class="brace">}</em>
<a id="L2675" name="L2675"></a>2675                                     <em class="brace">}</em>
<a id="L2676" name="L2676"></a>2676                                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2677" name="L2677"></a>2677                                     <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = classLoader.<a href="../D/22045.html" title="Multiple defined in 30 places.">getResourceAsStream</a>(resourceName);
<a id="L2678" name="L2678"></a>2678                                 <em class="brace">}</em>
<a id="L2679" name="L2679"></a>2679                                 <strong class="reserved">return</strong> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>;
<a id="L2680" name="L2680"></a>2680                             <em class="brace">}</em>
<a id="L2681" name="L2681"></a>2681                         <em class="brace">}</em>);
<a id="L2682" name="L2682"></a>2682                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L2683" name="L2683"></a>2683                     <strong class="reserved">throw</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>) e.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L2684" name="L2684"></a>2684                 <em class="brace">}</em>
<a id="L2685" name="L2685"></a>2685                 <strong class="reserved">if</strong> (<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2686" name="L2686"></a>2686                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2687" name="L2687"></a>2687                         bundle = <strong class="reserved">new</strong> <a href="../S/1163.html#L122" title="Defined at 122 in src/java/util/PropertyResourceBundle.java.">PropertyResourceBundle</a>(<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>);
<a id="L2688" name="L2688"></a>2688                     <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2689" name="L2689"></a>2689                         <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L2690" name="L2690"></a>2690                     <em class="brace">}</em>
<a id="L2691" name="L2691"></a>2691                 <em class="brace">}</em>
<a id="L2692" name="L2692"></a>2692             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2693" name="L2693"></a>2693                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("unknown format: " + <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L2694" name="L2694"></a>2694             <em class="brace">}</em>
<a id="L2695" name="L2695"></a>2695             <strong class="reserved">return</strong> bundle;
<a id="L2696" name="L2696"></a>2696         <em class="brace">}</em>
<a id="L2697" name="L2697"></a>2697 
<div class="comment">
          Returns the time-to-live (TTL) value for resource bundles that
          are loaded under this
          <code>ResourceBundle.Control</code>. Positive time-to-live values
          specify the number of milliseconds a bundle can remain in the
          cache without being validated against the source data from which
          it was constructed. The value 0 indicates that a bundle must be
          validated each time it is retrieved from the cache. {@link
          #TTL_DONT_CACHE} specifies that loaded resource bundles are not
          put in the cache. {@link #TTL_NO_EXPIRATION_CONTROL} specifies
          that loaded resource bundles are put in the cache with no
          expiration control.
          <p>The expiration affects only the bundle loading process by the
          <code>ResourceBundle.getBundle</code> factory method.  That is,
          if the factory method finds a resource bundle in the cache that
          has expired, the factory method calls the {@link
          #needsReload(String, Locale, String, ClassLoader, ResourceBundle,
          long) needsReload} method to determine whether the resource
          bundle needs to be reloaded. If <code>needsReload</code> returns
          <code>true</code>, the cached resource bundle instance is removed
          from the cache. Otherwise, the instance stays in the cache,
          updated with the new TTL value returned by this method.
          </p><p>All cached resource bundles are subject to removal from the
          cache due to memory constraints of the runtime environment.
          Returning a large positive value doesn't mean to lock loaded
          resource bundles in the cache.
          </p><p>The default implementation returns {@link #TTL_NO_EXPIRATION_CONTROL}.
          @param baseName
                 the base name of the resource bundle for which the
                 expiration value is specified.
          @param locale
                 the locale of the resource bundle for which the
                 expiration value is specified.
          @return the time (0 or a positive millisecond offset from the
                 cached time) to get loaded bundles expired in the cache,
                 {@link #TTL_NO_EXPIRATION_CONTROL} to disable the
                 expiration control, or {@link #TTL_DONT_CACHE} to disable
                 caching.
          @exception NullPointerException
                 if <code>baseName</code> or <code>locale</code> is
                 <code>null</code></p></div>
<a id="L2744" name="L2744"></a>2744         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/19498.html" title="Multiple referred from 3 places.">getTimeToLive</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2745" name="L2745"></a>2745             <strong class="reserved">if</strong> (<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> == <strong class="reserved">null</strong> || <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2746" name="L2746"></a>2746                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2747" name="L2747"></a>2747             <em class="brace">}</em>
<a id="L2748" name="L2748"></a>2748             <strong class="reserved">return</strong> TTL_NO_EXPIRATION_CONTROL;
<a id="L2749" name="L2749"></a>2749         <em class="brace">}</em>
<a id="L2750" name="L2750"></a>2750 
<div class="comment">
          Determines if the expired <code>bundle</code> in the cache needs
          to be reloaded based on the loading time given by
          <code>loadTime</code> or some other criteria. The method returns
          <code>true</code> if reloading is required; <code>false</code>
          otherwise. <code>loadTime</code> is a millisecond offset since
          the <a href="Calendar.html#Epoch"> <code>Calendar</code>
          Epoch</a>.
          The calling <code>ResourceBundle.getBundle</code> factory method
          calls this method on the <code>ResourceBundle.Control</code>
          instance used for its current invocation, not on the instance
          used in the invocation that originally loaded the resource
          bundle.
          <p>The default implementation compares <code>loadTime</code> and
          the last modified time of the source data of the resource
          bundle. If it's determined that the source data has been modified
          since <code>loadTime</code>, <code>true</code> is
          returned. Otherwise, <code>false</code> is returned. This
          implementation assumes that the given <code>format</code> is the
          same string as its file suffix if it's not one of the default
          formats, <code>"java.class"</code> or
          <code>"java.properties"</code>.
          @param baseName
                 the base bundle name of the resource bundle, a
                 fully qualified class name
          @param locale
                 the locale for which the resource bundle
                 should be instantiated
          @param format
                 the resource bundle format to be loaded
          @param loader
                 the <code>ClassLoader</code> to use to load the bundle
          @param bundle
                 the resource bundle instance that has been expired
                 in the cache
          @param loadTime
                 the time when <code>bundle</code> was loaded and put
                 in the cache
          @return <code>true</code> if the expired bundle needs to be
                 reloaded; <code>false</code> otherwise.
          @exception NullPointerException
                 if <code>baseName</code>, <code>locale</code>,
                 <code>format</code>, <code>loader</code>, or
                 <code>bundle</code> is <code>null</code></p></div>
<a id="L2799" name="L2799"></a>2799         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/853.html#L1646" title="Referred from 1646 in src/java/util/ResourceBundle.java.">needsReload</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>,
<a id="L2800" name="L2800"></a>2800                                    <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>, <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> loader,
<a id="L2801" name="L2801"></a>2801                                    <a href="../S/853.html#L287" title="Defined at 287 in src/java/util/ResourceBundle.java.">ResourceBundle</a> bundle, <strong class="reserved">long</strong> loadTime) <em class="brace">{</em>
<a id="L2802" name="L2802"></a>2802             <strong class="reserved">if</strong> (bundle == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2803" name="L2803"></a>2803                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2804" name="L2804"></a>2804             <em class="brace">}</em>
<a id="L2805" name="L2805"></a>2805             <strong class="reserved">if</strong> (<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("java.class") || <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("java.properties")) <em class="brace">{</em>
<a id="L2806" name="L2806"></a>2806                 <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(5);
<a id="L2807" name="L2807"></a>2807             <em class="brace">}</em>
<a id="L2808" name="L2808"></a>2808             <strong class="reserved">boolean</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">false</strong>;
<a id="L2809" name="L2809"></a>2809             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2810" name="L2810"></a>2810                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceName = <a href="../S/853.html#L2948" title="Defined at 2948 in src/java/util/ResourceBundle.java.">toResourceName0</a>(<a href="../S/853.html#L2885" title="Defined at 2885 in src/java/util/ResourceBundle.java.">toBundleName</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>), <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>);
<a id="L2811" name="L2811"></a>2811                 <strong class="reserved">if</strong> (resourceName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2812" name="L2812"></a>2812                     <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2813" name="L2813"></a>2813                 <em class="brace">}</em>
<a id="L2814" name="L2814"></a>2814                 <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> url = loader.<a href="../D/22044.html" title="Multiple defined in 15 places.">getResource</a>(resourceName);
<a id="L2815" name="L2815"></a>2815                 <strong class="reserved">if</strong> (url != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2816" name="L2816"></a>2816                     <strong class="reserved">long</strong> <a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a> = 0;
<a id="L2817" name="L2817"></a>2817                     <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> <a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a> = url.<a href="../D/28514.html" title="Multiple defined in 5 places.">openConnection</a>();
<a id="L2818" name="L2818"></a>2818                     <strong class="reserved">if</strong> (<a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2819" name="L2819"></a>2819                         <em class="comment">// disable caches to get the correct data</em>
<a id="L2820" name="L2820"></a>2820                         <a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a>.<a href="../S/758.html#L987" title="Defined at 987 in src/java/net/URLConnection.java.">setUseCaches</a>(<strong class="reserved">false</strong>);
<a id="L2821" name="L2821"></a>2821                         <strong class="reserved">if</strong> (<a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a> <strong class="reserved">instanceof</strong> <a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a>) <em class="brace">{</em>
<a id="L2822" name="L2822"></a>2822                             <a href="../S/923.html#L37" title="Defined at 37 in src/java/util/jar/JarEntry.java.">JarEntry</a> ent = ((<a href="../S/799.html#L137" title="Defined at 137 in src/java/net/JarURLConnection.java.">JarURLConnection</a>)<a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a>).<a href="../D/19882.html" title="Multiple defined in 2 places.">getJarEntry</a>();
<a id="L2823" name="L2823"></a>2823                             <strong class="reserved">if</strong> (ent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2824" name="L2824"></a>2824                                 <a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a> = ent.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>();
<a id="L2825" name="L2825"></a>2825                                 <strong class="reserved">if</strong> (<a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a> == -1) <em class="brace">{</em>
<a id="L2826" name="L2826"></a>2826                                     <a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a> = 0;
<a id="L2827" name="L2827"></a>2827                                 <em class="brace">}</em>
<a id="L2828" name="L2828"></a>2828                             <em class="brace">}</em>
<a id="L2829" name="L2829"></a>2829                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2830" name="L2830"></a>2830                             <a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a> = <a href="../D/13259.html" title="Multiple defined in 3 places.">connection</a>.<a href="../D/20007.html" title="Multiple defined in 11 places.">getLastModified</a>();
<a id="L2831" name="L2831"></a>2831                         <em class="brace">}</em>
<a id="L2832" name="L2832"></a>2832                     <em class="brace">}</em>
<a id="L2833" name="L2833"></a>2833                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a> &gt;= loadTime;
<a id="L2834" name="L2834"></a>2834                 <em class="brace">}</em>
<a id="L2835" name="L2835"></a>2835             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> npe) <em class="brace">{</em>
<a id="L2836" name="L2836"></a>2836                 <strong class="reserved">throw</strong> npe;
<a id="L2837" name="L2837"></a>2837             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L2838" name="L2838"></a>2838                 <em class="comment">// ignore other exceptions</em>
<a id="L2839" name="L2839"></a>2839             <em class="brace">}</em>
<a id="L2840" name="L2840"></a>2840             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L2841" name="L2841"></a>2841         <em class="brace">}</em>
<a id="L2842" name="L2842"></a>2842 
<div class="comment">
          Converts the given <code>baseName</code> and <code>locale</code>
          to the bundle name. This method is called from the default
          implementation of the {@link #newBundle(String, Locale, String,
          ClassLoader, boolean) newBundle} and {@link #needsReload(String,
          Locale, String, ClassLoader, ResourceBundle, long) needsReload}
          methods.
          <p>This implementation returns the following value:
          </p><pre>              baseName + "_" + language + "_" + script + "_" + country + "_" + variant
          </pre>
          where <code>language</code>, <code>script</code>, <code>country</code>,
          and <code>variant</code> are the language, script, country, and variant
          values of <code>locale</code>, respectively. Final component values that
          are empty Strings are omitted along with the preceding '_'.  When the
          script is empty, the script value is omitted along with the preceding '_'.
          If all of the values are empty strings, then <code>baseName</code>
          is returned.
          <p>For example, if <code>baseName</code> is
          <code>"baseName"</code> and <code>locale</code> is
          <code>Locale("ja",&nbsp;"",&nbsp;"XX")</code>, then
          <code>"baseName_ja__XX"</code> is returned. If the given
          locale is <code>Locale("en")</code>, then
          <code>"baseName_en"</code> is returned.
          </p><p>Overriding this method allows applications to use different
          conventions in the organization and packaging of localized
          resources.
          @param baseName
                 the base name of the resource bundle, a fully
                 qualified class name
          @param locale
                 the locale for which a resource bundle should be
                 loaded
          @return the bundle name for the resource bundle
          @exception NullPointerException
                 if <code>baseName</code> or <code>locale</code>
                 is <code>null</code></p></div>
<a id="L2885" name="L2885"></a>2885         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29223.html" title="Multiple referred from 2 places.">toBundleName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2886" name="L2886"></a>2886             <strong class="reserved">if</strong> (<a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> == <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a>.ROOT) <em class="brace">{</em>
<a id="L2887" name="L2887"></a>2887                 <strong class="reserved">return</strong> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>;
<a id="L2888" name="L2888"></a>2888             <em class="brace">}</em>
<a id="L2889" name="L2889"></a>2889 
<a id="L2890" name="L2890"></a>2890             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> language = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../D/19981.html" title="Multiple defined in 9 places.">getLanguage</a>();
<a id="L2891" name="L2891"></a>2891             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> script = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1089" title="Defined at 1089 in src/java/util/Locale.java.">getScript</a>();
<a id="L2892" name="L2892"></a>2892             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> country = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1101" title="Defined at 1101 in src/java/util/Locale.java.">getCountry</a>();
<a id="L2893" name="L2893"></a>2893             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> = <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>.<a href="../S/1034.html#L1111" title="Defined at 1111 in src/java/util/Locale.java.">getVariant</a>();
<a id="L2894" name="L2894"></a>2894 
<a id="L2895" name="L2895"></a>2895             <strong class="reserved">if</strong> (language == "" &amp;&amp; country == "" &amp;&amp; <a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> == "") <em class="brace">{</em>
<a id="L2896" name="L2896"></a>2896                 <strong class="reserved">return</strong> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>;
<a id="L2897" name="L2897"></a>2897             <em class="brace">}</em>
<a id="L2898" name="L2898"></a>2898 
<a id="L2899" name="L2899"></a>2899             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>);
<a id="L2900" name="L2900"></a>2900             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_');
<a id="L2901" name="L2901"></a>2901             <strong class="reserved">if</strong> (script != "") <em class="brace">{</em>
<a id="L2902" name="L2902"></a>2902                 <strong class="reserved">if</strong> (<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> != "") <em class="brace">{</em>
<a id="L2903" name="L2903"></a>2903                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(language).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(script).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(country).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2904" name="L2904"></a>2904                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (country != "") <em class="brace">{</em>
<a id="L2905" name="L2905"></a>2905                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(language).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(script).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(country);
<a id="L2906" name="L2906"></a>2906                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2907" name="L2907"></a>2907                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(language).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(script);
<a id="L2908" name="L2908"></a>2908                 <em class="brace">}</em>
<a id="L2909" name="L2909"></a>2909             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2910" name="L2910"></a>2910                 <strong class="reserved">if</strong> (<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a> != "") <em class="brace">{</em>
<a id="L2911" name="L2911"></a>2911                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(language).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(country).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/873.html#L265" title="Defined at 265 in src/java/util/UUID.java.">variant</a>);
<a id="L2912" name="L2912"></a>2912                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (country != "") <em class="brace">{</em>
<a id="L2913" name="L2913"></a>2913                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(language).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('_').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(country);
<a id="L2914" name="L2914"></a>2914                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2915" name="L2915"></a>2915                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(language);
<a id="L2916" name="L2916"></a>2916                 <em class="brace">}</em>
<a id="L2917" name="L2917"></a>2917             <em class="brace">}</em>
<a id="L2918" name="L2918"></a>2918             <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2919" name="L2919"></a>2919 
<a id="L2920" name="L2920"></a>2920         <em class="brace">}</em>
<a id="L2921" name="L2921"></a>2921 
<div class="comment">
          Converts the given <code>bundleName</code> to the form required
          by the {@link ClassLoader#getResource ClassLoader.getResource}
          method by replacing all occurrences of <code>'.'</code> in
          <code>bundleName</code> with <code>'/'</code> and appending a
          <code>'.'</code> and the given file <code>suffix</code>. For
          example, if <code>bundleName</code> is
          <code>"foo.bar.MyResources_ja_JP"</code> and <code>suffix</code>
          is <code>"properties"</code>, then
          <code>"foo/bar/MyResources_ja_JP.properties"</code> is returned.
          @param bundleName
                 the bundle name
          @param suffix
                 the file type suffix
          @return the converted resource name
          @exception NullPointerException
                  if <code>bundleName</code> or <code>suffix</code>
                  is <code>null</code></div>
<a id="L2942" name="L2942"></a>2942         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/853.html#L2953" title="Referred from 2953 in src/java/util/ResourceBundle.java.">toResourceName</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> bundleName, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix) <em class="brace">{</em>
<a id="L2943" name="L2943"></a>2943             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(bundleName.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() + 1 + suffix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L2944" name="L2944"></a>2944             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(bundleName.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('.', '/')).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('.').<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(suffix);
<a id="L2945" name="L2945"></a>2945             <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L2946" name="L2946"></a>2946         <em class="brace">}</em>
<a id="L2947" name="L2947"></a>2947 
<a id="L2948" name="L2948"></a>2948         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29323.html" title="Multiple referred from 2 places.">toResourceName0</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> bundleName, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix) <em class="brace">{</em>
<a id="L2949" name="L2949"></a>2949             <em class="comment">// application protocol check</em>
<a id="L2950" name="L2950"></a>2950             <strong class="reserved">if</strong> (bundleName.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>("://")) <em class="brace">{</em>
<a id="L2951" name="L2951"></a>2951                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2952" name="L2952"></a>2952             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2953" name="L2953"></a>2953                 <strong class="reserved">return</strong> <a href="../S/853.html#L2942" title="Defined at 2942 in src/java/util/ResourceBundle.java.">toResourceName</a>(bundleName, suffix);
<a id="L2954" name="L2954"></a>2954             <em class="brace">}</em>
<a id="L2955" name="L2955"></a>2955         <em class="brace">}</em>
<a id="L2956" name="L2956"></a>2956     <em class="brace">}</em>
<a id="L2957" name="L2957"></a>2957 
<a id="L2958" name="L2958"></a>2958     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/7274.html" title="Multiple referred from 6 places.">SingleFormatControl</a> <strong class="reserved">extends</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> <em class="brace">{</em>
<a id="L2959" name="L2959"></a>2959         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> PROPERTIES_ONLY
<a id="L2960" name="L2960"></a>2960             = <strong class="reserved">new</strong> <a href="../S/853.html#L2958" title="Defined at 2958 in src/java/util/ResourceBundle.java.">SingleFormatControl</a>(FORMAT_PROPERTIES);
<a id="L2961" name="L2961"></a>2961 
<a id="L2962" name="L2962"></a>2962         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> CLASS_ONLY
<a id="L2963" name="L2963"></a>2963             = <strong class="reserved">new</strong> <a href="../S/853.html#L2958" title="Defined at 2958 in src/java/util/ResourceBundle.java.">SingleFormatControl</a>(FORMAT_CLASS);
<a id="L2964" name="L2964"></a>2964 
<a id="L2965" name="L2965"></a>2965         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats;
<a id="L2966" name="L2966"></a>2966 
<a id="L2967" name="L2967"></a>2967         <strong class="reserved">protected</strong> SingleFormatControl(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats) <em class="brace">{</em>
<a id="L2968" name="L2968"></a>2968             <strong class="reserved">this</strong>.formats = formats;
<a id="L2969" name="L2969"></a>2969         <em class="brace">}</em>
<a id="L2970" name="L2970"></a>2970 
<a id="L2971" name="L2971"></a>2971         <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; <a href="../R/16698.html" title="Multiple referred from 4 places.">getFormats</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>) <em class="brace">{</em>
<a id="L2972" name="L2972"></a>2972             <strong class="reserved">if</strong> (<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2973" name="L2973"></a>2973                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2974" name="L2974"></a>2974             <em class="brace">}</em>
<a id="L2975" name="L2975"></a>2975             <strong class="reserved">return</strong> formats;
<a id="L2976" name="L2976"></a>2976         <em class="brace">}</em>
<a id="L2977" name="L2977"></a>2977     <em class="brace">}</em>
<a id="L2978" name="L2978"></a>2978 
<a id="L2979" name="L2979"></a>2979     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/5520.html" title="Multiple referred from 6 places.">NoFallbackControl</a> <strong class="reserved">extends</strong> <a href="../S/853.html#L2958" title="Defined at 2958 in src/java/util/ResourceBundle.java.">SingleFormatControl</a> <em class="brace">{</em>
<a id="L2980" name="L2980"></a>2980         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> NO_FALLBACK
<a id="L2981" name="L2981"></a>2981             = <strong class="reserved">new</strong> <a href="../S/853.html#L2979" title="Defined at 2979 in src/java/util/ResourceBundle.java.">NoFallbackControl</a>(FORMAT_DEFAULT);
<a id="L2982" name="L2982"></a>2982 
<a id="L2983" name="L2983"></a>2983         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> PROPERTIES_ONLY_NO_FALLBACK
<a id="L2984" name="L2984"></a>2984             = <strong class="reserved">new</strong> <a href="../S/853.html#L2979" title="Defined at 2979 in src/java/util/ResourceBundle.java.">NoFallbackControl</a>(FORMAT_PROPERTIES);
<a id="L2985" name="L2985"></a>2985 
<a id="L2986" name="L2986"></a>2986         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/1874.html" title="Multiple defined in 4 places.">Control</a> CLASS_ONLY_NO_FALLBACK
<a id="L2987" name="L2987"></a>2987             = <strong class="reserved">new</strong> <a href="../S/853.html#L2979" title="Defined at 2979 in src/java/util/ResourceBundle.java.">NoFallbackControl</a>(FORMAT_CLASS);
<a id="L2988" name="L2988"></a>2988 
<a id="L2989" name="L2989"></a>2989         <strong class="reserved">protected</strong> NoFallbackControl(<a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt; formats) <em class="brace">{</em>
<a id="L2990" name="L2990"></a>2990             <strong class="reserved">super</strong>(formats);
<a id="L2991" name="L2991"></a>2991         <em class="brace">}</em>
<a id="L2992" name="L2992"></a>2992 
<a id="L2993" name="L2993"></a>2993         <strong class="reserved">public</strong> <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../S/853.html#L1355" title="Referred from 1355 in src/java/util/ResourceBundle.java.">getFallbackLocale</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a>, <a href="../S/1034.html#L484" title="Defined at 484 in src/java/util/Locale.java.">Locale</a> <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a>) <em class="brace">{</em>
<a id="L2994" name="L2994"></a>2994             <strong class="reserved">if</strong> (<a href="../D/11780.html" title="Multiple defined in 2 places.">baseName</a> == <strong class="reserved">null</strong> || <a href="../D/27010.html" title="Multiple defined in 2 places.">locale</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2995" name="L2995"></a>2995                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>();
<a id="L2996" name="L2996"></a>2996             <em class="brace">}</em>
<a id="L2997" name="L2997"></a>2997             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2998" name="L2998"></a>2998         <em class="brace">}</em>
<a id="L2999" name="L2999"></a>2999     <em class="brace">}</em>
<a id="L3000" name="L3000"></a>3000 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L334">[^]</a><a href="#L2993">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>