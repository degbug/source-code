<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/stream/SpinedBuffer.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L95">[^]</a><a href="#L1045">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L95" title="Defined at 95.">SuppressWarnings</a></li>
<li><a href="#L104" title="Defined at 104.">SuppressWarnings</a></li>
<li><a href="#L113" title="Defined at 113.">capacity</a></li>
<li><a href="#L119" title="Defined at 119.">SuppressWarnings</a></li>
<li><a href="#L120" title="Defined at 120.">inflateSpine</a></li>
<li><a href="#L131" title="Defined at 131.">SuppressWarnings</a></li>
<li><a href="#L132" title="Defined at 132.">ensureCapacity</a></li>
<li><a href="#L153" title="Defined at 153.">increaseCapacity</a></li>
<li><a href="#L160" title="Defined at 160.">get</a></li>
<li><a href="#L187" title="Defined at 187.">copyInto</a></li>
<li><a href="#L210" title="Defined at 210.">asArray</a></li>
<li><a href="#L220" title="Defined at 220.">clear</a></li>
<li><a href="#L237" title="Defined at 237.">iterator</a></li>
<li><a href="#L242" title="Defined at 242.">forEach</a></li>
<li><a href="#L254" title="Defined at 254.">accept</a></li>
<li><a href="#L267" title="Defined at 267.">toString</a></li>
<li><a href="#L279" title="Defined at 279.">spliterator</a></li>
<li><a href="#L312" title="Defined at 312.">estimateSize</a></li>
<li><a href="#L322" title="Defined at 322.">characteristics</a></li>
<li><a href="#L327" title="Defined at 327.">tryAdvance</a></li>
<li><a href="#L346" title="Defined at 346.">forEachRemaining</a></li>
<li><a href="#L373" title="Defined at 373.">trySplit</a></li>
<li><a href="#L465" title="Defined at 465.">iterator</a></li>
<li><a href="#L468" title="Defined at 468.">forEach</a></li>
<li><a href="#L471" title="Defined at 471.">newArrayArray</a></li>
<li><a href="#L474" title="Defined at 474.">newArray</a></li>
<li><a href="#L477" title="Defined at 477.">arrayLength</a></li>
<li><a href="#L480" title="Defined at 480.">arrayForEach</a></li>
<li><a href="#L483" title="Defined at 483.">capacity</a></li>
<li><a href="#L489" title="Defined at 489.">inflateSpine</a></li>
<li><a href="#L497" title="Defined at 497.">ensureCapacity</a></li>
<li><a href="#L515" title="Defined at 515.">increaseCapacity</a></li>
<li><a href="#L519" title="Defined at 519.">chunkFor</a></li>
<li><a href="#L537" title="Defined at 537.">copyInto</a></li>
<li><a href="#L556" title="Defined at 556.">asPrimitiveArray</a></li>
<li><a href="#L565" title="Defined at 565.">preAccept</a></li>
<li><a href="#L576" title="Defined at 576.">clear</a></li>
<li><a href="#L586" title="Defined at 586.">SuppressWarnings</a></li>
<li><a href="#L587" title="Defined at 587.">forEach</a></li>
<li><a href="#L628" title="Defined at 628.">newSpliterator</a></li>
<li><a href="#L631" title="Defined at 631.">arrayForOne</a></li>
<li><a href="#L633" title="Defined at 633.">arraySpliterator</a></li>
<li><a href="#L636" title="Defined at 636.">estimateSize</a></li>
<li><a href="#L646" title="Defined at 646.">characteristics</a></li>
<li><a href="#L651" title="Defined at 651.">tryAdvance</a></li>
<li><a href="#L670" title="Defined at 670.">forEachRemaining</a></li>
<li><a href="#L692" title="Defined at 692.">trySplit</a></li>
<li><a href="#L732" title="Defined at 732.">forEach</a></li>
<li><a href="#L744" title="Defined at 744.">newArrayArray</a></li>
<li><a href="#L749" title="Defined at 749.">newArray</a></li>
<li><a href="#L754" title="Defined at 754.">arrayLength</a></li>
<li><a href="#L759" title="Defined at 759.">arrayForEach</a></li>
<li><a href="#L767" title="Defined at 767.">accept</a></li>
<li><a href="#L772" title="Defined at 772.">get</a></li>
<li><a href="#L783" title="Defined at 783.">iterator</a></li>
<li><a href="#L787" title="Defined at 787.">spliterator</a></li>
<li><a href="#L797" title="Defined at 797.">newSpliterator</a></li>
<li><a href="#L804" title="Defined at 804.">arrayForOne</a></li>
<li><a href="#L809" title="Defined at 809.">arraySpliterator</a></li>
<li><a href="#L817" title="Defined at 817.">toString</a></li>
<li><a href="#L845" title="Defined at 845.">forEach</a></li>
<li><a href="#L857" title="Defined at 857.">newArrayArray</a></li>
<li><a href="#L862" title="Defined at 862.">newArray</a></li>
<li><a href="#L867" title="Defined at 867.">arrayLength</a></li>
<li><a href="#L872" title="Defined at 872.">arrayForEach</a></li>
<li><a href="#L880" title="Defined at 880.">accept</a></li>
<li><a href="#L885" title="Defined at 885.">get</a></li>
<li><a href="#L896" title="Defined at 896.">iterator</a></li>
<li><a href="#L901" title="Defined at 901.">spliterator</a></li>
<li><a href="#L911" title="Defined at 911.">newSpliterator</a></li>
<li><a href="#L918" title="Defined at 918.">arrayForOne</a></li>
<li><a href="#L923" title="Defined at 923.">arraySpliterator</a></li>
<li><a href="#L931" title="Defined at 931.">toString</a></li>
<li><a href="#L960" title="Defined at 960.">forEach</a></li>
<li><a href="#L972" title="Defined at 972.">newArrayArray</a></li>
<li><a href="#L977" title="Defined at 977.">newArray</a></li>
<li><a href="#L982" title="Defined at 982.">arrayLength</a></li>
<li><a href="#L987" title="Defined at 987.">arrayForEach</a></li>
<li><a href="#L995" title="Defined at 995.">accept</a></li>
<li><a href="#L1000" title="Defined at 1000.">get</a></li>
<li><a href="#L1011" title="Defined at 1011.">iterator</a></li>
<li><a href="#L1015" title="Defined at 1015.">spliterator</a></li>
<li><a href="#L1025" title="Defined at 1025.">newSpliterator</a></li>
<li><a href="#L1032" title="Defined at 1032.">arrayForOne</a></li>
<li><a href="#L1037" title="Defined at 1037.">arraySpliterator</a></li>
<li><a href="#L1045" title="Defined at 1045.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.List;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Objects;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.PrimitiveIterator;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Spliterator;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.Spliterators;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.function.Consumer;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.function.DoubleConsumer;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.function.IntConsumer;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.function.IntFunction;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.function.LongConsumer;
<a id="L40" name="L40"></a>  40 
<div class="comment">
  An ordered collection of elements.  Elements can be added, but not removed.
  Goes through a building phase, during which elements can be added, and a
  traversal phase, during which elements can be traversed in order but no
  further modifications are possible.
  <p> One or more arrays are used to store elements. The use of a multiple
  arrays has better performance characteristics than a single array used by
  <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>, as when the capacity of the list needs to be increased
  no copying of elements is required.  This is usually beneficial in the case
  where the results will be traversed a small number of times.
  @param <e> the type of elements in this list
  @since 1.8</e></p></div>
<a id="L56" name="L56"></a>  56 <strong class="reserved">class</strong> <a href="../R/7508.html" title="Multiple referred from 29 places.">SpinedBuffer</a>&lt;E&gt;
<a id="L57" name="L57"></a>  57         <strong class="reserved">extends</strong> <a href="../S/898.html#L33" title="Defined at 33 in src/java/util/stream/AbstractSpinedBuffer.java.">AbstractSpinedBuffer</a>
<a id="L58" name="L58"></a>  58         <strong class="reserved">implements</strong> <a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;E&gt;, <a href="../S/1577.html#L45" title="Defined at 45 in src/java/lang/Iterable.java.">Iterable</a>&lt;E&gt; <em class="brace">{</em>
<a id="L59" name="L59"></a>  59 
<div class="comment">
      We optimistically hope that all the data will fit into the first chunk,
      so we try to avoid inflating the spine[] and priorElementCount[] arrays
      prematurely.  So methods must be prepared to deal with these arrays being
      null.  If spine is non-null, then spineIndex points to the current chunk
      within the spine, otherwise it is zero.  The spine and priorElementCount
      arrays are always the same size, and for any i &lt;= spineIndex,
      priorElementCount[i] is the sum of the sizes of all the prior chunks.
      The curChunk pointer is always valid.  The elementIndex is the index of
      the next element to be written in curChunk; this may be past the end of
      curChunk so we have to check before writing. When we inflate the spine
      array, curChunk becomes the first element in it.  When we clear the
      buffer, we discard all chunks except the first one, which we clear,
      restoring it to the initial single-chunk state.</div>
<a id="L76" name="L76"></a>  76 
<div class="comment">
      Chunk that we're currently writing into; may or may not be aliased with
      the first element of the spine.</div>
<a id="L81" name="L81"></a>  81     <strong class="reserved">protected</strong> E[] curChunk;
<a id="L82" name="L82"></a>  82 
<div class="comment">
      All chunks, or null if there is only one chunk.</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">protected</strong> E[][] spine;
<a id="L87" name="L87"></a>  87 
<div class="comment">
      Constructs an empty list with the specified initial capacity.
      @param  initialCapacity  the initial capacity of the list
      @throws IllegalArgumentException if the specified initial capacity
              is negative</div>
<a id="L95" name="L95"></a>  95     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L96" name="L96"></a>  96     SpinedBuffer(<strong class="reserved">int</strong> initialCapacity) <em class="brace">{</em>
<a id="L97" name="L97"></a>  97         <strong class="reserved">super</strong>(initialCapacity);
<a id="L98" name="L98"></a>  98         curChunk = (E[]) <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[1 &lt;&lt; initialChunkPower];
<a id="L99" name="L99"></a>  99     <em class="brace">}</em>
<a id="L100" name="L100"></a> 100 
<div class="comment">
      Constructs an empty list with an initial capacity of sixteen.</div>
<a id="L104" name="L104"></a> 104     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L105" name="L105"></a> 105     SpinedBuffer() <em class="brace">{</em>
<a id="L106" name="L106"></a> 106         <strong class="reserved">super</strong>();
<a id="L107" name="L107"></a> 107         curChunk = (E[]) <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[1 &lt;&lt; initialChunkPower];
<a id="L108" name="L108"></a> 108     <em class="brace">}</em>
<a id="L109" name="L109"></a> 109 
<div class="comment">
      Returns the current capacity of the buffer</div>
<a id="L113" name="L113"></a> 113     <strong class="reserved">protected</strong> <strong class="reserved">long</strong> <a href="../R/10967.html" title="Multiple referred from 306 places.">capacity</a>() <em class="brace">{</em>
<a id="L114" name="L114"></a> 114         <strong class="reserved">return</strong> (spineIndex == 0)
<a id="L115" name="L115"></a> 115                ? curChunk.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>
<a id="L116" name="L116"></a> 116                : priorElementCount[spineIndex] + spine[spineIndex].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L117" name="L117"></a> 117     <em class="brace">}</em>
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L120" name="L120"></a> 120     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20532.html" title="Multiple referred from 4 places.">inflateSpine</a>() <em class="brace">{</em>
<a id="L121" name="L121"></a> 121         <strong class="reserved">if</strong> (spine == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122             spine = (E[][]) <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[MIN_SPINE_SIZE][];
<a id="L123" name="L123"></a> 123             priorElementCount = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[MIN_SPINE_SIZE];
<a id="L124" name="L124"></a> 124             spine[0] = curChunk;
<a id="L125" name="L125"></a> 125         <em class="brace">}</em>
<a id="L126" name="L126"></a> 126     <em class="brace">}</em>
<a id="L127" name="L127"></a> 127 
<div class="comment">
      Ensure that the buffer has at least capacity to hold the target size</div>
<a id="L131" name="L131"></a> 131     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L132" name="L132"></a> 132     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13907.html" title="Multiple referred from 31 places.">ensureCapacity</a>(<strong class="reserved">long</strong> targetSize) <em class="brace">{</em>
<a id="L133" name="L133"></a> 133         <strong class="reserved">long</strong> <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> = <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>();
<a id="L134" name="L134"></a> 134         <strong class="reserved">if</strong> (targetSize &gt; <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>) <em class="brace">{</em>
<a id="L135" name="L135"></a> 135             <a href="../D/24490.html" title="Multiple defined in 2 places.">inflateSpine</a>();
<a id="L136" name="L136"></a> 136             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=spineIndex+1; targetSize &gt; <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>; i++) <em class="brace">{</em>
<a id="L137" name="L137"></a> 137                 <strong class="reserved">if</strong> (i &gt;= spine.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L138" name="L138"></a> 138                     <strong class="reserved">int</strong> newSpineSize = spine.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> * 2;
<a id="L139" name="L139"></a> 139                     spine = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(spine, newSpineSize);
<a id="L140" name="L140"></a> 140                     priorElementCount = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(priorElementCount, newSpineSize);
<a id="L141" name="L141"></a> 141                 <em class="brace">}</em>
<a id="L142" name="L142"></a> 142                 <strong class="reserved">int</strong> nextChunkSize = <a href="../S/898.html#L116" title="Defined at 116 in src/java/util/stream/AbstractSpinedBuffer.java.">chunkSize</a>(i);
<a id="L143" name="L143"></a> 143                 spine[i] = (E[]) <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[nextChunkSize];
<a id="L144" name="L144"></a> 144                 priorElementCount[i] = priorElementCount[i-1] + spine[i-1].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L145" name="L145"></a> 145                 <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> += nextChunkSize;
<a id="L146" name="L146"></a> 146             <em class="brace">}</em>
<a id="L147" name="L147"></a> 147         <em class="brace">}</em>
<a id="L148" name="L148"></a> 148     <em class="brace">}</em>
<a id="L149" name="L149"></a> 149 
<div class="comment">
      Force the buffer to increase its capacity.</div>
<a id="L153" name="L153"></a> 153     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20486.html" title="Multiple referred from 2 places.">increaseCapacity</a>() <em class="brace">{</em>
<a id="L154" name="L154"></a> 154         <a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(<a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>() + 1);
<a id="L155" name="L155"></a> 155     <em class="brace">}</em>
<a id="L156" name="L156"></a> 156 
<div class="comment">
      Retrieve the element at the specified index.</div>
<a id="L160" name="L160"></a> 160     <strong class="reserved">public</strong> E <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L161" name="L161"></a> 161         <em class="comment">// @@@ can further optimize by caching last seen spineIndex,</em>
<a id="L162" name="L162"></a> 162         <em class="comment">// which is going to be right most of the time</em>
<a id="L163" name="L163"></a> 163 
<a id="L164" name="L164"></a> 164         <em class="comment">// Casts to int are safe since the spine array index is the index minus</em>
<a id="L165" name="L165"></a> 165         <em class="comment">// the prior element count from the current spine</em>
<a id="L166" name="L166"></a> 166         <strong class="reserved">if</strong> (spineIndex == 0) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; elementIndex)
<a id="L168" name="L168"></a> 168                 <strong class="reserved">return</strong> curChunk[((<strong class="reserved">int</strong>) <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)];
<a id="L169" name="L169"></a> 169             <strong class="reserved">else</strong>
<a id="L170" name="L170"></a> 170                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L171" name="L171"></a> 171         <em class="brace">}</em>
<a id="L172" name="L172"></a> 172 
<a id="L173" name="L173"></a> 173         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>())
<a id="L174" name="L174"></a> 174             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L175" name="L175"></a> 175 
<a id="L176" name="L176"></a> 176         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j=0; j &lt;= spineIndex; j++)
<a id="L177" name="L177"></a> 177             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; priorElementCount[j] + spine[j].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L178" name="L178"></a> 178                 <strong class="reserved">return</strong> spine[j][((<strong class="reserved">int</strong>) (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - priorElementCount[j]))];
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<div class="comment">
      Copy the elements, starting at the specified offset, into the specified
      array.</div>
<a id="L187" name="L187"></a> 187     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12112.html" title="Multiple referred from 72 places.">copyInto</a>(E[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         <strong class="reserved">long</strong> finalOffset = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>();
<a id="L189" name="L189"></a> 189         <strong class="reserved">if</strong> (finalOffset &gt; <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || finalOffset &lt; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("does not fit");
<a id="L191" name="L191"></a> 191         <em class="brace">}</em>
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193         <strong class="reserved">if</strong> (spineIndex == 0)
<a id="L194" name="L194"></a> 194             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(curChunk, 0, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, elementIndex);
<a id="L195" name="L195"></a> 195         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L196" name="L196"></a> 196             <em class="comment">// full chunks</em>
<a id="L197" name="L197"></a> 197             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; spineIndex; i++) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(spine[i], 0, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, spine[i].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L199" name="L199"></a> 199                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> += spine[i].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L200" name="L200"></a> 200             <em class="brace">}</em>
<a id="L201" name="L201"></a> 201             <strong class="reserved">if</strong> (elementIndex &gt; 0)
<a id="L202" name="L202"></a> 202                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(curChunk, 0, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, elementIndex);
<a id="L203" name="L203"></a> 203         <em class="brace">}</em>
<a id="L204" name="L204"></a> 204     <em class="brace">}</em>
<a id="L205" name="L205"></a> 205 
<div class="comment">
      Create a new array using the specified array factory, and copy the
      elements into it.</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">public</strong> E[] <a href="../R/10332.html" title="Multiple referred from 3 places.">asArray</a>(<a href="../S/980.html#L41" title="Defined at 41 in src/java/util/function/IntFunction.java.">IntFunction</a>&lt;E[]&gt; arrayFactory) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211         <strong class="reserved">long</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>();
<a id="L212" name="L212"></a> 212         <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt;= <a href="../S/881.html#L52" title="Defined at 52 in src/java/util/stream/Nodes.java.">Nodes</a>.MAX_ARRAY_SIZE)
<a id="L213" name="L213"></a> 213             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../S/881.html#L52" title="Defined at 52 in src/java/util/stream/Nodes.java.">Nodes</a>.BAD_SIZE);
<a id="L214" name="L214"></a> 214         E[] <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = arrayFactory.<a href="../D/11441.html" title="Multiple defined in 32 places.">apply</a>((<strong class="reserved">int</strong>) <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L215" name="L215"></a> 215         <a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, 0);
<a id="L216" name="L216"></a> 216         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L217" name="L217"></a> 217     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L220" name="L220"></a> 220     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L221" name="L221"></a> 221         <strong class="reserved">if</strong> (spine != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L222" name="L222"></a> 222             curChunk = spine[0];
<a id="L223" name="L223"></a> 223             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;curChunk.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++)
<a id="L224" name="L224"></a> 224                 curChunk[i] = <strong class="reserved">null</strong>;
<a id="L225" name="L225"></a> 225             spine = <strong class="reserved">null</strong>;
<a id="L226" name="L226"></a> 226             priorElementCount = <strong class="reserved">null</strong>;
<a id="L227" name="L227"></a> 227         <em class="brace">}</em>
<a id="L228" name="L228"></a> 228         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;elementIndex; i++)
<a id="L230" name="L230"></a> 230                 curChunk[i] = <strong class="reserved">null</strong>;
<a id="L231" name="L231"></a> 231         <em class="brace">}</em>
<a id="L232" name="L232"></a> 232         elementIndex = 0;
<a id="L233" name="L233"></a> 233         spineIndex = 0;
<a id="L234" name="L234"></a> 234     <em class="brace">}</em>
<a id="L235" name="L235"></a> 235 
<a id="L236" name="L236"></a> 236     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L237" name="L237"></a> 237     <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L238" name="L238"></a> 238         <strong class="reserved">return</strong> <a href="../S/1188.html#L41" title="Defined at 41 in src/java/util/Spliterators.java.">Spliterators</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>());
<a id="L239" name="L239"></a> 239     <em class="brace">}</em>
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L242" name="L242"></a> 242     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; consumer) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243         <em class="comment">// completed chunks, if any</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; spineIndex; j++)
<a id="L245" name="L245"></a> 245             <strong class="reserved">for</strong> (E t : spine[j])
<a id="L246" name="L246"></a> 246                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(t);
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248         <em class="comment">// current chunk</em>
<a id="L249" name="L249"></a> 249         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;elementIndex; i++)
<a id="L250" name="L250"></a> 250             consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(curChunk[i]);
<a id="L251" name="L251"></a> 251     <em class="brace">}</em>
<a id="L252" name="L252"></a> 252 
<a id="L253" name="L253"></a> 253     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L254" name="L254"></a> 254     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9513.html" title="Multiple referred from 551 places.">accept</a>(E e) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">if</strong> (elementIndex == curChunk.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256             <a href="../D/24490.html" title="Multiple defined in 2 places.">inflateSpine</a>();
<a id="L257" name="L257"></a> 257             <strong class="reserved">if</strong> (spineIndex+1 &gt;= spine.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || spine[spineIndex+1] == <strong class="reserved">null</strong>)
<a id="L258" name="L258"></a> 258                 <a href="../D/24440.html" title="Multiple defined in 2 places.">increaseCapacity</a>();
<a id="L259" name="L259"></a> 259             elementIndex = 0;
<a id="L260" name="L260"></a> 260             ++spineIndex;
<a id="L261" name="L261"></a> 261             curChunk = spine[spineIndex];
<a id="L262" name="L262"></a> 262         <em class="brace">}</em>
<a id="L263" name="L263"></a> 263         curChunk[elementIndex++] = e;
<a id="L264" name="L264"></a> 264     <em class="brace">}</em>
<a id="L265" name="L265"></a> 265 
<a id="L266" name="L266"></a> 266     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L267" name="L267"></a> 267     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;E&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;&gt;();
<a id="L269" name="L269"></a> 269         <a href="../D/16509.html" title="Multiple defined in 84 places.">forEach</a>(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>::<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>);
<a id="L270" name="L270"></a> 270         <strong class="reserved">return</strong> "SpinedBuffer:" + <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L271" name="L271"></a> 271     <em class="brace">}</em>
<a id="L272" name="L272"></a> 272 
<a id="L273" name="L273"></a> 273     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> SPLITERATOR_CHARACTERISTICS
<a id="L274" name="L274"></a> 274             = <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L296" title="Defined at 296 in src/java/util/stream/StreamOpFlag.java.">SIZED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L281" title="Defined at 281 in src/java/util/stream/StreamOpFlag.java.">ORDERED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.SUBSIZED;
<a id="L275" name="L275"></a> 275 
<div class="comment">
      Return a <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a> describing the contents of the buffer.</div>
<a id="L279" name="L279"></a> 279     <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L280" name="L280"></a> 280         <strong class="reserved">class</strong> <a href="../R/7530.html" title="Multiple referred from 11 places.">Splitr</a> <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; <em class="brace">{</em>
<a id="L281" name="L281"></a> 281             <em class="comment">// The current spine index</em>
<a id="L282" name="L282"></a> 282             <strong class="reserved">int</strong> splSpineIndex;
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284             <em class="comment">// Last spine index</em>
<a id="L285" name="L285"></a> 285             <strong class="reserved">final</strong> <strong class="reserved">int</strong> lastSpineIndex;
<a id="L286" name="L286"></a> 286 
<a id="L287" name="L287"></a> 287             <em class="comment">// The current element index into the current spine</em>
<a id="L288" name="L288"></a> 288             <strong class="reserved">int</strong> splElementIndex;
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290             <em class="comment">// Last spine's last element index + 1</em>
<a id="L291" name="L291"></a> 291             <strong class="reserved">final</strong> <strong class="reserved">int</strong> lastSpineElementFence;
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293             <em class="comment">// When splSpineIndex &gt;= lastSpineIndex and</em>
<a id="L294" name="L294"></a> 294             <em class="comment">// splElementIndex &gt;= lastSpineElementFence then</em>
<a id="L295" name="L295"></a> 295             <em class="comment">// this spliterator is fully traversed</em>
<a id="L296" name="L296"></a> 296             <em class="comment">// tryAdvance can set splSpineIndex &gt; spineIndex if the last spine is full</em>
<a id="L297" name="L297"></a> 297 
<a id="L298" name="L298"></a> 298             <em class="comment">// The current spine array</em>
<a id="L299" name="L299"></a> 299             E[] splChunk;
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301             Splitr(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L302" name="L302"></a> 302                    <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303                 <strong class="reserved">this</strong>.splSpineIndex = firstSpineIndex;
<a id="L304" name="L304"></a> 304                 <strong class="reserved">this</strong>.lastSpineIndex = lastSpineIndex;
<a id="L305" name="L305"></a> 305                 <strong class="reserved">this</strong>.splElementIndex = firstSpineElementIndex;
<a id="L306" name="L306"></a> 306                 <strong class="reserved">this</strong>.lastSpineElementFence = lastSpineElementFence;
<a id="L307" name="L307"></a> 307                 <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> spine != <strong class="reserved">null</strong> || firstSpineIndex == 0 &amp;&amp; lastSpineIndex == 0;
<a id="L308" name="L308"></a> 308                 splChunk = (spine == <strong class="reserved">null</strong>) ? curChunk : spine[firstSpineIndex];
<a id="L309" name="L309"></a> 309             <em class="brace">}</em>
<a id="L310" name="L310"></a> 310 
<a id="L311" name="L311"></a> 311             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L312" name="L312"></a> 312             <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L313" name="L313"></a> 313                 <strong class="reserved">return</strong> (splSpineIndex == lastSpineIndex)
<a id="L314" name="L314"></a> 314                        ? (<strong class="reserved">long</strong>) lastSpineElementFence - splElementIndex
<a id="L315" name="L315"></a> 315                        : <em class="comment">// # of elements prior to end -</em>
<a id="L316" name="L316"></a> 316                        priorElementCount[lastSpineIndex] + lastSpineElementFence -
<a id="L317" name="L317"></a> 317                        <em class="comment">// # of elements prior to current</em>
<a id="L318" name="L318"></a> 318                        priorElementCount[splSpineIndex] - splElementIndex;
<a id="L319" name="L319"></a> 319             <em class="brace">}</em>
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L322" name="L322"></a> 322             <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L323" name="L323"></a> 323                 <strong class="reserved">return</strong> SPLITERATOR_CHARACTERISTICS;
<a id="L324" name="L324"></a> 324             <em class="brace">}</em>
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L327" name="L327"></a> 327             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; consumer) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328                 <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(consumer);
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330                 <strong class="reserved">if</strong> (splSpineIndex &lt; lastSpineIndex
<a id="L331" name="L331"></a> 331                     || (splSpineIndex == lastSpineIndex &amp;&amp; splElementIndex &lt; lastSpineElementFence)) <em class="brace">{</em>
<a id="L332" name="L332"></a> 332                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(splChunk[splElementIndex++]);
<a id="L333" name="L333"></a> 333 
<a id="L334" name="L334"></a> 334                     <strong class="reserved">if</strong> (splElementIndex == splChunk.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335                         splElementIndex = 0;
<a id="L336" name="L336"></a> 336                         ++splSpineIndex;
<a id="L337" name="L337"></a> 337                         <strong class="reserved">if</strong> (spine != <strong class="reserved">null</strong> &amp;&amp; splSpineIndex &lt;= lastSpineIndex)
<a id="L338" name="L338"></a> 338                             splChunk = spine[splSpineIndex];
<a id="L339" name="L339"></a> 339                     <em class="brace">}</em>
<a id="L340" name="L340"></a> 340                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L341" name="L341"></a> 341                 <em class="brace">}</em>
<a id="L342" name="L342"></a> 342                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L343" name="L343"></a> 343             <em class="brace">}</em>
<a id="L344" name="L344"></a> 344 
<a id="L345" name="L345"></a> 345             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L346" name="L346"></a> 346             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; consumer) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                 <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(consumer);
<a id="L348" name="L348"></a> 348 
<a id="L349" name="L349"></a> 349                 <strong class="reserved">if</strong> (splSpineIndex &lt; lastSpineIndex
<a id="L350" name="L350"></a> 350                     || (splSpineIndex == lastSpineIndex &amp;&amp; splElementIndex &lt; lastSpineElementFence)) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                     <strong class="reserved">int</strong> i = splElementIndex;
<a id="L352" name="L352"></a> 352                     <em class="comment">// completed chunks, if any</em>
<a id="L353" name="L353"></a> 353                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> sp = splSpineIndex; sp &lt; lastSpineIndex; sp++) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354                         E[] chunk = spine[sp];
<a id="L355" name="L355"></a> 355                         <strong class="reserved">for</strong> (; i &lt; chunk.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356                             consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(chunk[i]);
<a id="L357" name="L357"></a> 357                         <em class="brace">}</em>
<a id="L358" name="L358"></a> 358                         i = 0;
<a id="L359" name="L359"></a> 359                     <em class="brace">}</em>
<a id="L360" name="L360"></a> 360                     <em class="comment">// last (or current uncompleted) chunk</em>
<a id="L361" name="L361"></a> 361                     E[] chunk = (splSpineIndex == lastSpineIndex) ? splChunk : spine[lastSpineIndex];
<a id="L362" name="L362"></a> 362                     <strong class="reserved">int</strong> hElementIndex = lastSpineElementFence;
<a id="L363" name="L363"></a> 363                     <strong class="reserved">for</strong> (; i &lt; hElementIndex; i++) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364                         consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(chunk[i]);
<a id="L365" name="L365"></a> 365                     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366                     <em class="comment">// mark consumed</em>
<a id="L367" name="L367"></a> 367                     splSpineIndex = lastSpineIndex;
<a id="L368" name="L368"></a> 368                     splElementIndex = lastSpineElementFence;
<a id="L369" name="L369"></a> 369                 <em class="brace">}</em>
<a id="L370" name="L370"></a> 370             <em class="brace">}</em>
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L373" name="L373"></a> 373             <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L374" name="L374"></a> 374                 <strong class="reserved">if</strong> (splSpineIndex &lt; lastSpineIndex) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375                     <em class="comment">// split just before last chunk (if it is full this means 50:50 split)</em>
<a id="L376" name="L376"></a> 376                     <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; ret = <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(splSpineIndex, lastSpineIndex - 1,
<a id="L377" name="L377"></a> 377                                                     splElementIndex, spine[lastSpineIndex-1].<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L378" name="L378"></a> 378                     <em class="comment">// position to start of last chunk</em>
<a id="L379" name="L379"></a> 379                     splSpineIndex = lastSpineIndex;
<a id="L380" name="L380"></a> 380                     splElementIndex = 0;
<a id="L381" name="L381"></a> 381                     splChunk = spine[splSpineIndex];
<a id="L382" name="L382"></a> 382                     <strong class="reserved">return</strong> ret;
<a id="L383" name="L383"></a> 383                 <em class="brace">}</em>
<a id="L384" name="L384"></a> 384                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (splSpineIndex == lastSpineIndex) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385                     <strong class="reserved">int</strong> t = (lastSpineElementFence - splElementIndex) / 2;
<a id="L386" name="L386"></a> 386                     <strong class="reserved">if</strong> (t == 0)
<a id="L387" name="L387"></a> 387                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L388" name="L388"></a> 388                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L389" name="L389"></a> 389                         <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>&lt;E&gt; ret = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>(splChunk, splElementIndex, splElementIndex + t);
<a id="L390" name="L390"></a> 390                         splElementIndex += t;
<a id="L391" name="L391"></a> 391                         <strong class="reserved">return</strong> ret;
<a id="L392" name="L392"></a> 392                     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393                 <em class="brace">}</em>
<a id="L394" name="L394"></a> 394                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L395" name="L395"></a> 395                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L396" name="L396"></a> 396                 <em class="brace">}</em>
<a id="L397" name="L397"></a> 397             <em class="brace">}</em>
<a id="L398" name="L398"></a> 398         <em class="brace">}</em>
<a id="L399" name="L399"></a> 399         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(0, spineIndex, 0, elementIndex);
<a id="L400" name="L400"></a> 400     <em class="brace">}</em>
<a id="L401" name="L401"></a> 401 
<div class="comment">
      An ordered collection of primitive values.  Elements can be added, but
      not removed. Goes through a building phase, during which elements can be
      added, and a traversal phase, during which elements can be traversed in
      order but no further modifications are possible.
      <p> One or more arrays are used to store elements. The use of a multiple
      arrays has better performance characteristics than a single array used by
      <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>, as when the capacity of the list needs to be increased
      no copying of elements is required.  This is usually beneficial in the case
      where the results will be traversed a small number of times.
      @param <e> the wrapper type for this primitive type
      @param <t_arr> the array type for this primitive type
      @param <t_cons> the Consumer type for this primitive type</t_cons></t_arr></e></p></div>
<a id="L418" name="L418"></a> 418     <strong class="reserved">abstract</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5793.html" title="Multiple referred from 60 places.">OfPrimitive</a>&lt;E, T_ARR, T_CONS&gt;
<a id="L419" name="L419"></a> 419             <strong class="reserved">extends</strong> <a href="../S/898.html#L33" title="Defined at 33 in src/java/util/stream/AbstractSpinedBuffer.java.">AbstractSpinedBuffer</a> <strong class="reserved">implements</strong> <a href="../S/1577.html#L45" title="Defined at 45 in src/java/lang/Iterable.java.">Iterable</a>&lt;E&gt; <em class="brace">{</em>
<a id="L420" name="L420"></a> 420 
<div class="comment">
          We optimistically hope that all the data will fit into the first chunk,
          so we try to avoid inflating the spine[] and priorElementCount[] arrays
          prematurely.  So methods must be prepared to deal with these arrays being
          null.  If spine is non-null, then spineIndex points to the current chunk
          within the spine, otherwise it is zero.  The spine and priorElementCount
          arrays are always the same size, and for any i &lt;= spineIndex,
          priorElementCount[i] is the sum of the sizes of all the prior chunks.
          The curChunk pointer is always valid.  The elementIndex is the index of
          the next element to be written in curChunk; this may be past the end of
          curChunk so we have to check before writing. When we inflate the spine
          array, curChunk becomes the first element in it.  When we clear the
          buffer, we discard all chunks except the first one, which we clear,
          restoring it to the initial single-chunk state.</div>
<a id="L437" name="L437"></a> 437 
<a id="L438" name="L438"></a> 438         <em class="comment">// The chunk we're currently writing into</em>
<a id="L439" name="L439"></a> 439         T_ARR curChunk;
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <em class="comment">// All chunks, or null if there is only one chunk</em>
<a id="L442" name="L442"></a> 442         T_ARR[] spine;
<a id="L443" name="L443"></a> 443 
<div class="comment">
          Constructs an empty list with the specified initial capacity.
          @param  initialCapacity  the initial capacity of the list
          @throws IllegalArgumentException if the specified initial capacity
                  is negative</div>
<a id="L451" name="L451"></a> 451         OfPrimitive(<strong class="reserved">int</strong> initialCapacity) <em class="brace">{</em>
<a id="L452" name="L452"></a> 452             <strong class="reserved">super</strong>(initialCapacity);
<a id="L453" name="L453"></a> 453             curChunk = <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a>(1 &lt;&lt; initialChunkPower);
<a id="L454" name="L454"></a> 454         <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
          Constructs an empty list with an initial capacity of sixteen.</div>
<a id="L459" name="L459"></a> 459         OfPrimitive() <em class="brace">{</em>
<a id="L460" name="L460"></a> 460             <strong class="reserved">super</strong>();
<a id="L461" name="L461"></a> 461             curChunk = <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a>(1 &lt;&lt; initialChunkPower);
<a id="L462" name="L462"></a> 462         <em class="brace">}</em>
<a id="L463" name="L463"></a> 463 
<a id="L464" name="L464"></a> 464         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L465" name="L465"></a> 465         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>();
<a id="L466" name="L466"></a> 466 
<a id="L467" name="L467"></a> 467         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L468" name="L468"></a> 468         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> E&gt; consumer);
<a id="L469" name="L469"></a> 469 
<div class="comment">
         /** Create a new array-of-array of the proper type and size */</div>
<a id="L471" name="L471"></a> 471         <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> T_ARR[] <a href="../S/889.html#L491" title="Referred from 491 in src/java/util/stream/SpinedBuffer.java.">newArrayArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L472" name="L472"></a> 472 
<div class="comment">
         /** Create a new array of the proper type and size */</div>
<a id="L474" name="L474"></a> 474         <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> T_ARR <a href="../R/23517.html" title="Multiple referred from 138 places.">newArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L475" name="L475"></a> 475 
<div class="comment">
         /** Get the length of an array */</div>
<a id="L477" name="L477"></a> 477         <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">int</strong> <a href="../R/10323.html" title="Multiple referred from 65 places.">arrayLength</a>(T_ARR <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>);
<a id="L478" name="L478"></a> 478 
<div class="comment">
         /** Iterate an array with the provided consumer */</div>
<a id="L480" name="L480"></a> 480         <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/10318.html" title="Multiple referred from 4 places.">arrayForEach</a>(T_ARR <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>, <strong class="reserved">int</strong> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>,
<a id="L481" name="L481"></a> 481                                              T_CONS consumer);
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483         <strong class="reserved">protected</strong> <strong class="reserved">long</strong> <a href="../R/10967.html" title="Multiple referred from 306 places.">capacity</a>() <em class="brace">{</em>
<a id="L484" name="L484"></a> 484             <strong class="reserved">return</strong> (spineIndex == 0)
<a id="L485" name="L485"></a> 485                    ? <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(curChunk)
<a id="L486" name="L486"></a> 486                    : priorElementCount[spineIndex] + <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[spineIndex]);
<a id="L487" name="L487"></a> 487         <em class="brace">}</em>
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20532.html" title="Multiple referred from 4 places.">inflateSpine</a>() <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">if</strong> (spine == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                 spine = <a href="../D/27957.html" title="Multiple defined in 4 places.">newArrayArray</a>(MIN_SPINE_SIZE);
<a id="L492" name="L492"></a> 492                 priorElementCount = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[MIN_SPINE_SIZE];
<a id="L493" name="L493"></a> 493                 spine[0] = curChunk;
<a id="L494" name="L494"></a> 494             <em class="brace">}</em>
<a id="L495" name="L495"></a> 495         <em class="brace">}</em>
<a id="L496" name="L496"></a> 496 
<a id="L497" name="L497"></a> 497         <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/13907.html" title="Multiple referred from 31 places.">ensureCapacity</a>(<strong class="reserved">long</strong> targetSize) <em class="brace">{</em>
<a id="L498" name="L498"></a> 498             <strong class="reserved">long</strong> <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> = <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>();
<a id="L499" name="L499"></a> 499             <strong class="reserved">if</strong> (targetSize &gt; <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500                 <a href="../D/24490.html" title="Multiple defined in 2 places.">inflateSpine</a>();
<a id="L501" name="L501"></a> 501                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=spineIndex+1; targetSize &gt; <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>; i++) <em class="brace">{</em>
<a id="L502" name="L502"></a> 502                     <strong class="reserved">if</strong> (i &gt;= spine.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L503" name="L503"></a> 503                         <strong class="reserved">int</strong> newSpineSize = spine.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> * 2;
<a id="L504" name="L504"></a> 504                         spine = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(spine, newSpineSize);
<a id="L505" name="L505"></a> 505                         priorElementCount = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(priorElementCount, newSpineSize);
<a id="L506" name="L506"></a> 506                     <em class="brace">}</em>
<a id="L507" name="L507"></a> 507                     <strong class="reserved">int</strong> nextChunkSize = <a href="../S/898.html#L116" title="Defined at 116 in src/java/util/stream/AbstractSpinedBuffer.java.">chunkSize</a>(i);
<a id="L508" name="L508"></a> 508                     spine[i] = <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a>(nextChunkSize);
<a id="L509" name="L509"></a> 509                     priorElementCount[i] = priorElementCount[i-1] + <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[i - 1]);
<a id="L510" name="L510"></a> 510                     <a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a> += nextChunkSize;
<a id="L511" name="L511"></a> 511                 <em class="brace">}</em>
<a id="L512" name="L512"></a> 512             <em class="brace">}</em>
<a id="L513" name="L513"></a> 513         <em class="brace">}</em>
<a id="L514" name="L514"></a> 514 
<a id="L515" name="L515"></a> 515         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/20486.html" title="Multiple referred from 2 places.">increaseCapacity</a>() <em class="brace">{</em>
<a id="L516" name="L516"></a> 516             <a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(<a href="../D/12244.html" title="Multiple defined in 10 places.">capacity</a>() + 1);
<a id="L517" name="L517"></a> 517         <em class="brace">}</em>
<a id="L518" name="L518"></a> 518 
<a id="L519" name="L519"></a> 519         <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/11443.html" title="Multiple referred from 3 places.">chunkFor</a>(<strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520             <strong class="reserved">if</strong> (spineIndex == 0) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521                 <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; elementIndex)
<a id="L522" name="L522"></a> 522                     <strong class="reserved">return</strong> 0;
<a id="L523" name="L523"></a> 523                 <strong class="reserved">else</strong>
<a id="L524" name="L524"></a> 524                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L525" name="L525"></a> 525             <em class="brace">}</em>
<a id="L526" name="L526"></a> 526 
<a id="L527" name="L527"></a> 527             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>())
<a id="L528" name="L528"></a> 528                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j=0; j &lt;= spineIndex; j++)
<a id="L531" name="L531"></a> 531                 <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; priorElementCount[j] + <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[j]))
<a id="L532" name="L532"></a> 532                     <strong class="reserved">return</strong> j;
<a id="L533" name="L533"></a> 533 
<a id="L534" name="L534"></a> 534             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L535" name="L535"></a> 535         <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12112.html" title="Multiple referred from 72 places.">copyInto</a>(T_ARR <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538             <strong class="reserved">long</strong> finalOffset = <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>();
<a id="L539" name="L539"></a> 539             <strong class="reserved">if</strong> (finalOffset &gt; <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>) || finalOffset &lt; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L540" name="L540"></a> 540                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("does not fit");
<a id="L541" name="L541"></a> 541             <em class="brace">}</em>
<a id="L542" name="L542"></a> 542 
<a id="L543" name="L543"></a> 543             <strong class="reserved">if</strong> (spineIndex == 0)
<a id="L544" name="L544"></a> 544                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(curChunk, 0, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, elementIndex);
<a id="L545" name="L545"></a> 545             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L546" name="L546"></a> 546                 <em class="comment">// full chunks</em>
<a id="L547" name="L547"></a> 547                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i &lt; spineIndex; i++) <em class="brace">{</em>
<a id="L548" name="L548"></a> 548                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(spine[i], 0, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[i]));
<a id="L549" name="L549"></a> 549                     <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> += <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[i]);
<a id="L550" name="L550"></a> 550                 <em class="brace">}</em>
<a id="L551" name="L551"></a> 551                 <strong class="reserved">if</strong> (elementIndex &gt; 0)
<a id="L552" name="L552"></a> 552                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(curChunk, 0, <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, elementIndex);
<a id="L553" name="L553"></a> 553             <em class="brace">}</em>
<a id="L554" name="L554"></a> 554         <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556         <strong class="reserved">public</strong> T_ARR <a href="../R/10347.html" title="Multiple referred from 18 places.">asPrimitiveArray</a>() <em class="brace">{</em>
<a id="L557" name="L557"></a> 557             <strong class="reserved">long</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>();
<a id="L558" name="L558"></a> 558             <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt;= <a href="../S/881.html#L52" title="Defined at 52 in src/java/util/stream/Nodes.java.">Nodes</a>.MAX_ARRAY_SIZE)
<a id="L559" name="L559"></a> 559                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(<a href="../S/881.html#L52" title="Defined at 52 in src/java/util/stream/Nodes.java.">Nodes</a>.BAD_SIZE);
<a id="L560" name="L560"></a> 560             T_ARR <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <a href="../D/27956.html" title="Multiple defined in 13 places.">newArray</a>((<strong class="reserved">int</strong>) <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L561" name="L561"></a> 561             <a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(<a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, 0);
<a id="L562" name="L562"></a> 562             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L563" name="L563"></a> 563         <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 
<a id="L565" name="L565"></a> 565         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24880.html" title="Multiple referred from 3 places.">preAccept</a>() <em class="brace">{</em>
<a id="L566" name="L566"></a> 566             <strong class="reserved">if</strong> (elementIndex == <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(curChunk)) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567                 <a href="../D/24490.html" title="Multiple defined in 2 places.">inflateSpine</a>();
<a id="L568" name="L568"></a> 568                 <strong class="reserved">if</strong> (spineIndex+1 &gt;= spine.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || spine[spineIndex+1] == <strong class="reserved">null</strong>)
<a id="L569" name="L569"></a> 569                     <a href="../D/24440.html" title="Multiple defined in 2 places.">increaseCapacity</a>();
<a id="L570" name="L570"></a> 570                 elementIndex = 0;
<a id="L571" name="L571"></a> 571                 ++spineIndex;
<a id="L572" name="L572"></a> 572                 curChunk = spine[spineIndex];
<a id="L573" name="L573"></a> 573             <em class="brace">}</em>
<a id="L574" name="L574"></a> 574         <em class="brace">}</em>
<a id="L575" name="L575"></a> 575 
<a id="L576" name="L576"></a> 576         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L577" name="L577"></a> 577             <strong class="reserved">if</strong> (spine != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L578" name="L578"></a> 578                 curChunk = spine[0];
<a id="L579" name="L579"></a> 579                 spine = <strong class="reserved">null</strong>;
<a id="L580" name="L580"></a> 580                 priorElementCount = <strong class="reserved">null</strong>;
<a id="L581" name="L581"></a> 581             <em class="brace">}</em>
<a id="L582" name="L582"></a> 582             elementIndex = 0;
<a id="L583" name="L583"></a> 583             spineIndex = 0;
<a id="L584" name="L584"></a> 584         <em class="brace">}</em>
<a id="L585" name="L585"></a> 585 
<a id="L586" name="L586"></a> 586         @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("overloads")
<a id="L587" name="L587"></a> 587         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(T_CONS consumer) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588             <em class="comment">// completed chunks, if any</em>
<a id="L589" name="L589"></a> 589             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; spineIndex; j++)
<a id="L590" name="L590"></a> 590                 <a href="../D/11502.html" title="Multiple defined in 4 places.">arrayForEach</a>(spine[j], 0, <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[j]), consumer);
<a id="L591" name="L591"></a> 591 
<a id="L592" name="L592"></a> 592             <em class="comment">// current chunk</em>
<a id="L593" name="L593"></a> 593             <a href="../D/11502.html" title="Multiple defined in 4 places.">arrayForEach</a>(curChunk, 0, elementIndex, consumer);
<a id="L594" name="L594"></a> 594         <em class="brace">}</em>
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596         <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/658.html" title="Multiple referred from 3 places.">BaseSpliterator</a>&lt;T_SPLITR <strong class="reserved">extends</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6357.html" title="Multiple defined in 11 places.">OfPrimitive</a>&lt;E, T_CONS, T_SPLITR&gt;&gt;
<a id="L597" name="L597"></a> 597                 <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6357.html" title="Multiple defined in 11 places.">OfPrimitive</a>&lt;E, T_CONS, T_SPLITR&gt; <em class="brace">{</em>
<a id="L598" name="L598"></a> 598             <em class="comment">// The current spine index</em>
<a id="L599" name="L599"></a> 599             <strong class="reserved">int</strong> splSpineIndex;
<a id="L600" name="L600"></a> 600 
<a id="L601" name="L601"></a> 601             <em class="comment">// Last spine index</em>
<a id="L602" name="L602"></a> 602             <strong class="reserved">final</strong> <strong class="reserved">int</strong> lastSpineIndex;
<a id="L603" name="L603"></a> 603 
<a id="L604" name="L604"></a> 604             <em class="comment">// The current element index into the current spine</em>
<a id="L605" name="L605"></a> 605             <strong class="reserved">int</strong> splElementIndex;
<a id="L606" name="L606"></a> 606 
<a id="L607" name="L607"></a> 607             <em class="comment">// Last spine's last element index + 1</em>
<a id="L608" name="L608"></a> 608             <strong class="reserved">final</strong> <strong class="reserved">int</strong> lastSpineElementFence;
<a id="L609" name="L609"></a> 609 
<a id="L610" name="L610"></a> 610             <em class="comment">// When splSpineIndex &gt;= lastSpineIndex and</em>
<a id="L611" name="L611"></a> 611             <em class="comment">// splElementIndex &gt;= lastSpineElementFence then</em>
<a id="L612" name="L612"></a> 612             <em class="comment">// this spliterator is fully traversed</em>
<a id="L613" name="L613"></a> 613             <em class="comment">// tryAdvance can set splSpineIndex &gt; spineIndex if the last spine is full</em>
<a id="L614" name="L614"></a> 614 
<a id="L615" name="L615"></a> 615             <em class="comment">// The current spine array</em>
<a id="L616" name="L616"></a> 616             T_ARR splChunk;
<a id="L617" name="L617"></a> 617 
<a id="L618" name="L618"></a> 618             BaseSpliterator(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L619" name="L619"></a> 619                             <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620                 <strong class="reserved">this</strong>.splSpineIndex = firstSpineIndex;
<a id="L621" name="L621"></a> 621                 <strong class="reserved">this</strong>.lastSpineIndex = lastSpineIndex;
<a id="L622" name="L622"></a> 622                 <strong class="reserved">this</strong>.splElementIndex = firstSpineElementIndex;
<a id="L623" name="L623"></a> 623                 <strong class="reserved">this</strong>.lastSpineElementFence = lastSpineElementFence;
<a id="L624" name="L624"></a> 624                 <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a> spine != <strong class="reserved">null</strong> || firstSpineIndex == 0 &amp;&amp; lastSpineIndex == 0;
<a id="L625" name="L625"></a> 625                 splChunk = (spine == <strong class="reserved">null</strong>) ? curChunk : spine[firstSpineIndex];
<a id="L626" name="L626"></a> 626             <em class="brace">}</em>
<a id="L627" name="L627"></a> 627 
<a id="L628" name="L628"></a> 628             <strong class="reserved">abstract</strong> T_SPLITR <a href="../S/889.html#L695" title="Referred from 695 in src/java/util/stream/SpinedBuffer.java.">newSpliterator</a>(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L629" name="L629"></a> 629                                              <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence);
<a id="L630" name="L630"></a> 630 
<a id="L631" name="L631"></a> 631             <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../S/889.html#L656" title="Referred from 656 in src/java/util/stream/SpinedBuffer.java.">arrayForOne</a>(T_ARR <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, T_CONS consumer);
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633             <strong class="reserved">abstract</strong> T_SPLITR <a href="../S/889.html#L708" title="Referred from 708 in src/java/util/stream/SpinedBuffer.java.">arraySpliterator</a>(T_ARR <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> len);
<a id="L634" name="L634"></a> 634 
<a id="L635" name="L635"></a> 635             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L636" name="L636"></a> 636             <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14042.html" title="Multiple referred from 29 places.">estimateSize</a>() <em class="brace">{</em>
<a id="L637" name="L637"></a> 637                 <strong class="reserved">return</strong> (splSpineIndex == lastSpineIndex)
<a id="L638" name="L638"></a> 638                        ? (<strong class="reserved">long</strong>) lastSpineElementFence - splElementIndex
<a id="L639" name="L639"></a> 639                        : <em class="comment">// # of elements prior to end -</em>
<a id="L640" name="L640"></a> 640                        priorElementCount[lastSpineIndex] + lastSpineElementFence -
<a id="L641" name="L641"></a> 641                        <em class="comment">// # of elements prior to current</em>
<a id="L642" name="L642"></a> 642                        priorElementCount[splSpineIndex] - splElementIndex;
<a id="L643" name="L643"></a> 643             <em class="brace">}</em>
<a id="L644" name="L644"></a> 644 
<a id="L645" name="L645"></a> 645             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L646" name="L646"></a> 646             <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/11055.html" title="Multiple referred from 149 places.">characteristics</a>() <em class="brace">{</em>
<a id="L647" name="L647"></a> 647                 <strong class="reserved">return</strong> SPLITERATOR_CHARACTERISTICS;
<a id="L648" name="L648"></a> 648             <em class="brace">}</em>
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L651" name="L651"></a> 651             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/29541.html" title="Multiple referred from 73 places.">tryAdvance</a>(T_CONS consumer) <em class="brace">{</em>
<a id="L652" name="L652"></a> 652                 <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(consumer);
<a id="L653" name="L653"></a> 653 
<a id="L654" name="L654"></a> 654                 <strong class="reserved">if</strong> (splSpineIndex &lt; lastSpineIndex
<a id="L655" name="L655"></a> 655                     || (splSpineIndex == lastSpineIndex &amp;&amp; splElementIndex &lt; lastSpineElementFence)) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656                     <a href="../D/11503.html" title="Multiple defined in 4 places.">arrayForOne</a>(splChunk, splElementIndex++, consumer);
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658                     <strong class="reserved">if</strong> (splElementIndex == <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(splChunk)) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659                         splElementIndex = 0;
<a id="L660" name="L660"></a> 660                         ++splSpineIndex;
<a id="L661" name="L661"></a> 661                         <strong class="reserved">if</strong> (spine != <strong class="reserved">null</strong> &amp;&amp; splSpineIndex &lt;= lastSpineIndex)
<a id="L662" name="L662"></a> 662                             splChunk = spine[splSpineIndex];
<a id="L663" name="L663"></a> 663                     <em class="brace">}</em>
<a id="L664" name="L664"></a> 664                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L665" name="L665"></a> 665                 <em class="brace">}</em>
<a id="L666" name="L666"></a> 666                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L667" name="L667"></a> 667             <em class="brace">}</em>
<a id="L668" name="L668"></a> 668 
<a id="L669" name="L669"></a> 669             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L670" name="L670"></a> 670             <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14732.html" title="Multiple referred from 54 places.">forEachRemaining</a>(T_CONS consumer) <em class="brace">{</em>
<a id="L671" name="L671"></a> 671                 <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(consumer);
<a id="L672" name="L672"></a> 672 
<a id="L673" name="L673"></a> 673                 <strong class="reserved">if</strong> (splSpineIndex &lt; lastSpineIndex
<a id="L674" name="L674"></a> 674                     || (splSpineIndex == lastSpineIndex &amp;&amp; splElementIndex &lt; lastSpineElementFence)) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675                     <strong class="reserved">int</strong> i = splElementIndex;
<a id="L676" name="L676"></a> 676                     <em class="comment">// completed chunks, if any</em>
<a id="L677" name="L677"></a> 677                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> sp = splSpineIndex; sp &lt; lastSpineIndex; sp++) <em class="brace">{</em>
<a id="L678" name="L678"></a> 678                         T_ARR chunk = spine[sp];
<a id="L679" name="L679"></a> 679                         <a href="../D/11502.html" title="Multiple defined in 4 places.">arrayForEach</a>(chunk, i, <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(chunk), consumer);
<a id="L680" name="L680"></a> 680                         i = 0;
<a id="L681" name="L681"></a> 681                     <em class="brace">}</em>
<a id="L682" name="L682"></a> 682                     <em class="comment">// last (or current uncompleted) chunk</em>
<a id="L683" name="L683"></a> 683                     T_ARR chunk = (splSpineIndex == lastSpineIndex) ? splChunk : spine[lastSpineIndex];
<a id="L684" name="L684"></a> 684                     <a href="../D/11502.html" title="Multiple defined in 4 places.">arrayForEach</a>(chunk, i, lastSpineElementFence, consumer);
<a id="L685" name="L685"></a> 685                     <em class="comment">// mark consumed</em>
<a id="L686" name="L686"></a> 686                     splSpineIndex = lastSpineIndex;
<a id="L687" name="L687"></a> 687                     splElementIndex = lastSpineElementFence;
<a id="L688" name="L688"></a> 688                 <em class="brace">}</em>
<a id="L689" name="L689"></a> 689             <em class="brace">}</em>
<a id="L690" name="L690"></a> 690 
<a id="L691" name="L691"></a> 691             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L692" name="L692"></a> 692             <strong class="reserved">public</strong> T_SPLITR <a href="../R/29563.html" title="Multiple referred from 18 places.">trySplit</a>() <em class="brace">{</em>
<a id="L693" name="L693"></a> 693                 <strong class="reserved">if</strong> (splSpineIndex &lt; lastSpineIndex) <em class="brace">{</em>
<a id="L694" name="L694"></a> 694                     <em class="comment">// split just before last chunk (if it is full this means 50:50 split)</em>
<a id="L695" name="L695"></a> 695                     T_SPLITR ret = <a href="../D/28084.html" title="Multiple defined in 4 places.">newSpliterator</a>(splSpineIndex, lastSpineIndex - 1,
<a id="L696" name="L696"></a> 696                                                   splElementIndex, <a href="../D/11507.html" title="Multiple defined in 4 places.">arrayLength</a>(spine[lastSpineIndex - 1]));
<a id="L697" name="L697"></a> 697                     <em class="comment">// position us to start of last chunk</em>
<a id="L698" name="L698"></a> 698                     splSpineIndex = lastSpineIndex;
<a id="L699" name="L699"></a> 699                     splElementIndex = 0;
<a id="L700" name="L700"></a> 700                     splChunk = spine[splSpineIndex];
<a id="L701" name="L701"></a> 701                     <strong class="reserved">return</strong> ret;
<a id="L702" name="L702"></a> 702                 <em class="brace">}</em>
<a id="L703" name="L703"></a> 703                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (splSpineIndex == lastSpineIndex) <em class="brace">{</em>
<a id="L704" name="L704"></a> 704                     <strong class="reserved">int</strong> t = (lastSpineElementFence - splElementIndex) / 2;
<a id="L705" name="L705"></a> 705                     <strong class="reserved">if</strong> (t == 0)
<a id="L706" name="L706"></a> 706                         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L707" name="L707"></a> 707                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L708" name="L708"></a> 708                         T_SPLITR ret = <a href="../D/11510.html" title="Multiple defined in 4 places.">arraySpliterator</a>(splChunk, splElementIndex, t);
<a id="L709" name="L709"></a> 709                         splElementIndex += t;
<a id="L710" name="L710"></a> 710                         <strong class="reserved">return</strong> ret;
<a id="L711" name="L711"></a> 711                     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712                 <em class="brace">}</em>
<a id="L713" name="L713"></a> 713                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L714" name="L714"></a> 714                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L715" name="L715"></a> 715                 <em class="brace">}</em>
<a id="L716" name="L716"></a> 716             <em class="brace">}</em>
<a id="L717" name="L717"></a> 717         <em class="brace">}</em>
<a id="L718" name="L718"></a> 718     <em class="brace">}</em>
<a id="L719" name="L719"></a> 719 
<div class="comment">
      An ordered collection of <code>int</code> values.</div>
<a id="L723" name="L723"></a> 723     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5791.html" title="Multiple referred from 155 places.">OfInt</a> <strong class="reserved">extends</strong> <a href="../S/889.html#L56" title="Defined at 56 in src/java/util/stream/SpinedBuffer.java.">SpinedBuffer</a>.<a href="../D/6357.html" title="Multiple defined in 11 places.">OfPrimitive</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <strong class="reserved">int</strong>[], <a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a>&gt;
<a id="L724" name="L724"></a> 724             <strong class="reserved">implements</strong> <a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a> <em class="brace">{</em>
<a id="L725" name="L725"></a> 725         OfInt() <em class="brace">{</em> <em class="brace">}</em>
<a id="L726" name="L726"></a> 726 
<a id="L727" name="L727"></a> 727         OfInt(<strong class="reserved">int</strong> initialCapacity) <em class="brace">{</em>
<a id="L728" name="L728"></a> 728             <strong class="reserved">super</strong>(initialCapacity);
<a id="L729" name="L729"></a> 729         <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<a id="L731" name="L731"></a> 731         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L732" name="L732"></a> 732         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>&gt; consumer) <em class="brace">{</em>
<a id="L733" name="L733"></a> 733             <strong class="reserved">if</strong> (consumer <strong class="reserved">instanceof</strong> <a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a>) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734                 <a href="../D/16509.html" title="Multiple defined in 84 places.">forEach</a>((<a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a>) consumer);
<a id="L735" name="L735"></a> 735             <em class="brace">}</em>
<a id="L736" name="L736"></a> 736             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L737" name="L737"></a> 737                 <strong class="reserved">if</strong> (<a href="../D/9170.html" title="Multiple defined in 2 places.">Tripwire</a>.ENABLED)
<a id="L738" name="L738"></a> 738                     <a href="../D/9170.html" title="Multiple defined in 2 places.">Tripwire</a>.<a href="../D/35702.html" title="Multiple defined in 2 places.">trip</a>(<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>(), "{0} calling SpinedBuffer.OfInt.forEach(Consumer)");
<a id="L739" name="L739"></a> 739                 <a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>().<a href="../D/16513.html" title="Multiple defined in 101 places.">forEachRemaining</a>(consumer);
<a id="L740" name="L740"></a> 740             <em class="brace">}</em>
<a id="L741" name="L741"></a> 741         <em class="brace">}</em>
<a id="L742" name="L742"></a> 742 
<a id="L743" name="L743"></a> 743         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L744" name="L744"></a> 744         <strong class="reserved">protected</strong> <strong class="reserved">int</strong>[][] <a href="../S/889.html#L491" title="Referred from 491 in src/java/util/stream/SpinedBuffer.java.">newArrayArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L745" name="L745"></a> 745             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>][];
<a id="L746" name="L746"></a> 746         <em class="brace">}</em>
<a id="L747" name="L747"></a> 747 
<a id="L748" name="L748"></a> 748         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L749" name="L749"></a> 749         <strong class="reserved">public</strong> <strong class="reserved">int</strong>[] <a href="../R/23517.html" title="Multiple referred from 138 places.">newArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L750" name="L750"></a> 750             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">int</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>];
<a id="L751" name="L751"></a> 751         <em class="brace">}</em>
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L754" name="L754"></a> 754         <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/10323.html" title="Multiple referred from 65 places.">arrayLength</a>(<strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>) <em class="brace">{</em>
<a id="L755" name="L755"></a> 755             <strong class="reserved">return</strong> <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L756" name="L756"></a> 756         <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L759" name="L759"></a> 759         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/10318.html" title="Multiple referred from 4 places.">arrayForEach</a>(<strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>,
<a id="L760" name="L760"></a> 760                                     <strong class="reserved">int</strong> <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>, <strong class="reserved">int</strong> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>,
<a id="L761" name="L761"></a> 761                                     <a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a> consumer) <em class="brace">{</em>
<a id="L762" name="L762"></a> 762             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>; i &lt; <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>; i++)
<a id="L763" name="L763"></a> 763                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[i]);
<a id="L764" name="L764"></a> 764         <em class="brace">}</em>
<a id="L765" name="L765"></a> 765 
<a id="L766" name="L766"></a> 766         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L767" name="L767"></a> 767         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9513.html" title="Multiple referred from 551 places.">accept</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L768" name="L768"></a> 768             <a href="../S/889.html#L565" title="Defined at 565 in src/java/util/stream/SpinedBuffer.java.">preAccept</a>();
<a id="L769" name="L769"></a> 769             curChunk[elementIndex++] = i;
<a id="L770" name="L770"></a> 770         <em class="brace">}</em>
<a id="L771" name="L771"></a> 771 
<a id="L772" name="L772"></a> 772         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773             <em class="comment">// Casts to int are safe since the spine array index is the index minus</em>
<a id="L774" name="L774"></a> 774             <em class="comment">// the prior element count from the current spine</em>
<a id="L775" name="L775"></a> 775             <strong class="reserved">int</strong> ch = <a href="../S/889.html#L519" title="Defined at 519 in src/java/util/stream/SpinedBuffer.java.">chunkFor</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L776" name="L776"></a> 776             <strong class="reserved">if</strong> (spineIndex == 0 &amp;&amp; ch == 0)
<a id="L777" name="L777"></a> 777                 <strong class="reserved">return</strong> curChunk[(<strong class="reserved">int</strong>) <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L778" name="L778"></a> 778             <strong class="reserved">else</strong>
<a id="L779" name="L779"></a> 779                 <strong class="reserved">return</strong> spine[ch][(<strong class="reserved">int</strong>) (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - priorElementCount[ch])];
<a id="L780" name="L780"></a> 780         <em class="brace">}</em>
<a id="L781" name="L781"></a> 781 
<a id="L782" name="L782"></a> 782         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L783" name="L783"></a> 783         <strong class="reserved">public</strong> <a href="../S/1148.html#L68" title="Defined at 68 in src/java/util/PrimitiveIterator.java.">PrimitiveIterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a> <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L784" name="L784"></a> 784             <strong class="reserved">return</strong> <a href="../S/1188.html#L41" title="Defined at 41 in src/java/util/Spliterators.java.">Spliterators</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>());
<a id="L785" name="L785"></a> 785         <em class="brace">}</em>
<a id="L786" name="L786"></a> 786 
<a id="L787" name="L787"></a> 787         <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a> <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L788" name="L788"></a> 788             <strong class="reserved">class</strong> <a href="../R/7530.html" title="Multiple referred from 11 places.">Splitr</a> <strong class="reserved">extends</strong> <a href="../S/889.html#L596" title="Defined at 596 in src/java/util/stream/SpinedBuffer.java.">BaseSpliterator</a>&lt;<a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a>&gt;
<a id="L789" name="L789"></a> 789                     <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a> <em class="brace">{</em>
<a id="L790" name="L790"></a> 790                 Splitr(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L791" name="L791"></a> 791                        <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792                     <strong class="reserved">super</strong>(firstSpineIndex, lastSpineIndex,
<a id="L793" name="L793"></a> 793                           firstSpineElementIndex, lastSpineElementFence);
<a id="L794" name="L794"></a> 794                 <em class="brace">}</em>
<a id="L795" name="L795"></a> 795 
<a id="L796" name="L796"></a> 796                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L797" name="L797"></a> 797                 <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a> <a href="../S/889.html#L695" title="Referred from 695 in src/java/util/stream/SpinedBuffer.java.">newSpliterator</a>(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L798" name="L798"></a> 798                                       <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L799" name="L799"></a> 799                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(firstSpineIndex, lastSpineIndex,
<a id="L800" name="L800"></a> 800                                       firstSpineElementIndex, lastSpineElementFence);
<a id="L801" name="L801"></a> 801                 <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 
<a id="L803" name="L803"></a> 803                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L804" name="L804"></a> 804                 <strong class="reserved">void</strong> <a href="../S/889.html#L656" title="Referred from 656 in src/java/util/stream/SpinedBuffer.java.">arrayForOne</a>(<strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/962.html#L42" title="Defined at 42 in src/java/util/function/IntConsumer.java.">IntConsumer</a> consumer) <em class="brace">{</em>
<a id="L805" name="L805"></a> 805                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L806" name="L806"></a> 806                 <em class="brace">}</em>
<a id="L807" name="L807"></a> 807 
<a id="L808" name="L808"></a> 808                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L809" name="L809"></a> 809                 <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a> <a href="../S/889.html#L708" title="Referred from 708 in src/java/util/stream/SpinedBuffer.java.">arraySpliterator</a>(<strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L810" name="L810"></a> 810                     <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+len);
<a id="L811" name="L811"></a> 811                 <em class="brace">}</em>
<a id="L812" name="L812"></a> 812             <em class="brace">}</em>
<a id="L813" name="L813"></a> 813             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(0, spineIndex, 0, elementIndex);
<a id="L814" name="L814"></a> 814         <em class="brace">}</em>
<a id="L815" name="L815"></a> 815 
<a id="L816" name="L816"></a> 816         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L817" name="L817"></a> 817         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L818" name="L818"></a> 818             <strong class="reserved">int</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a> = <a href="../D/11554.html" title="Multiple defined in 12 places.">asPrimitiveArray</a>();
<a id="L819" name="L819"></a> 819             <strong class="reserved">if</strong> (<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 200) <em class="brace">{</em>
<a id="L820" name="L820"></a> 820                 <strong class="reserved">return</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("%s[length=%d, chunks=%d]%s",
<a id="L821" name="L821"></a> 821                                      <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/22519.html" title="Multiple defined in 7 places.">getSimpleName</a>(), <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L822" name="L822"></a> 822                                      spineIndex, <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>));
<a id="L823" name="L823"></a> 823             <em class="brace">}</em>
<a id="L824" name="L824"></a> 824             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L825" name="L825"></a> 825                 <strong class="reserved">int</strong>[] array2 = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, 200);
<a id="L826" name="L826"></a> 826                 <strong class="reserved">return</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("%s[length=%d, chunks=%d]%s...",
<a id="L827" name="L827"></a> 827                                      <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/22519.html" title="Multiple defined in 7 places.">getSimpleName</a>(), <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L828" name="L828"></a> 828                                      spineIndex, <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(array2));
<a id="L829" name="L829"></a> 829             <em class="brace">}</em>
<a id="L830" name="L830"></a> 830         <em class="brace">}</em>
<a id="L831" name="L831"></a> 831     <em class="brace">}</em>
<a id="L832" name="L832"></a> 832 
<div class="comment">
      An ordered collection of <code>long</code> values.</div>
<a id="L836" name="L836"></a> 836     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5792.html" title="Multiple referred from 150 places.">OfLong</a> <strong class="reserved">extends</strong> <a href="../S/889.html#L56" title="Defined at 56 in src/java/util/stream/SpinedBuffer.java.">SpinedBuffer</a>.<a href="../D/6357.html" title="Multiple defined in 11 places.">OfPrimitive</a>&lt;<a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>, <strong class="reserved">long</strong>[], <a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a>&gt;
<a id="L837" name="L837"></a> 837             <strong class="reserved">implements</strong> <a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a> <em class="brace">{</em>
<a id="L838" name="L838"></a> 838         OfLong() <em class="brace">{</em> <em class="brace">}</em>
<a id="L839" name="L839"></a> 839 
<a id="L840" name="L840"></a> 840         OfLong(<strong class="reserved">int</strong> initialCapacity) <em class="brace">{</em>
<a id="L841" name="L841"></a> 841             <strong class="reserved">super</strong>(initialCapacity);
<a id="L842" name="L842"></a> 842         <em class="brace">}</em>
<a id="L843" name="L843"></a> 843 
<a id="L844" name="L844"></a> 844         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L845" name="L845"></a> 845         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; consumer) <em class="brace">{</em>
<a id="L846" name="L846"></a> 846             <strong class="reserved">if</strong> (consumer <strong class="reserved">instanceof</strong> <a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a>) <em class="brace">{</em>
<a id="L847" name="L847"></a> 847                 <a href="../D/16509.html" title="Multiple defined in 84 places.">forEach</a>((<a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a>) consumer);
<a id="L848" name="L848"></a> 848             <em class="brace">}</em>
<a id="L849" name="L849"></a> 849             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L850" name="L850"></a> 850                 <strong class="reserved">if</strong> (<a href="../D/9170.html" title="Multiple defined in 2 places.">Tripwire</a>.ENABLED)
<a id="L851" name="L851"></a> 851                     <a href="../D/9170.html" title="Multiple defined in 2 places.">Tripwire</a>.<a href="../D/35702.html" title="Multiple defined in 2 places.">trip</a>(<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>(), "{0} calling SpinedBuffer.OfLong.forEach(Consumer)");
<a id="L852" name="L852"></a> 852                 <a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>().<a href="../D/16513.html" title="Multiple defined in 101 places.">forEachRemaining</a>(consumer);
<a id="L853" name="L853"></a> 853             <em class="brace">}</em>
<a id="L854" name="L854"></a> 854         <em class="brace">}</em>
<a id="L855" name="L855"></a> 855 
<a id="L856" name="L856"></a> 856         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L857" name="L857"></a> 857         <strong class="reserved">protected</strong> <strong class="reserved">long</strong>[][] <a href="../S/889.html#L491" title="Referred from 491 in src/java/util/stream/SpinedBuffer.java.">newArrayArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L858" name="L858"></a> 858             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">long</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>][];
<a id="L859" name="L859"></a> 859         <em class="brace">}</em>
<a id="L860" name="L860"></a> 860 
<a id="L861" name="L861"></a> 861         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L862" name="L862"></a> 862         <strong class="reserved">public</strong> <strong class="reserved">long</strong>[] <a href="../R/23517.html" title="Multiple referred from 138 places.">newArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L863" name="L863"></a> 863             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">long</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>];
<a id="L864" name="L864"></a> 864         <em class="brace">}</em>
<a id="L865" name="L865"></a> 865 
<a id="L866" name="L866"></a> 866         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L867" name="L867"></a> 867         <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/10323.html" title="Multiple referred from 65 places.">arrayLength</a>(<strong class="reserved">long</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>) <em class="brace">{</em>
<a id="L868" name="L868"></a> 868             <strong class="reserved">return</strong> <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L869" name="L869"></a> 869         <em class="brace">}</em>
<a id="L870" name="L870"></a> 870 
<a id="L871" name="L871"></a> 871         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L872" name="L872"></a> 872         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/10318.html" title="Multiple referred from 4 places.">arrayForEach</a>(<strong class="reserved">long</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>,
<a id="L873" name="L873"></a> 873                                     <strong class="reserved">int</strong> <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>, <strong class="reserved">int</strong> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>,
<a id="L874" name="L874"></a> 874                                     <a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a> consumer) <em class="brace">{</em>
<a id="L875" name="L875"></a> 875             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>; i &lt; <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>; i++)
<a id="L876" name="L876"></a> 876                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[i]);
<a id="L877" name="L877"></a> 877         <em class="brace">}</em>
<a id="L878" name="L878"></a> 878 
<a id="L879" name="L879"></a> 879         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L880" name="L880"></a> 880         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9513.html" title="Multiple referred from 551 places.">accept</a>(<strong class="reserved">long</strong> i) <em class="brace">{</em>
<a id="L881" name="L881"></a> 881             <a href="../S/889.html#L565" title="Defined at 565 in src/java/util/stream/SpinedBuffer.java.">preAccept</a>();
<a id="L882" name="L882"></a> 882             curChunk[elementIndex++] = i;
<a id="L883" name="L883"></a> 883         <em class="brace">}</em>
<a id="L884" name="L884"></a> 884 
<a id="L885" name="L885"></a> 885         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886             <em class="comment">// Casts to int are safe since the spine array index is the index minus</em>
<a id="L887" name="L887"></a> 887             <em class="comment">// the prior element count from the current spine</em>
<a id="L888" name="L888"></a> 888             <strong class="reserved">int</strong> ch = <a href="../S/889.html#L519" title="Defined at 519 in src/java/util/stream/SpinedBuffer.java.">chunkFor</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L889" name="L889"></a> 889             <strong class="reserved">if</strong> (spineIndex == 0 &amp;&amp; ch == 0)
<a id="L890" name="L890"></a> 890                 <strong class="reserved">return</strong> curChunk[(<strong class="reserved">int</strong>) <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L891" name="L891"></a> 891             <strong class="reserved">else</strong>
<a id="L892" name="L892"></a> 892                 <strong class="reserved">return</strong> spine[ch][(<strong class="reserved">int</strong>) (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - priorElementCount[ch])];
<a id="L893" name="L893"></a> 893         <em class="brace">}</em>
<a id="L894" name="L894"></a> 894 
<a id="L895" name="L895"></a> 895         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L896" name="L896"></a> 896         <strong class="reserved">public</strong> <a href="../S/1148.html#L68" title="Defined at 68 in src/java/util/PrimitiveIterator.java.">PrimitiveIterator</a>.<a href="../D/6356.html" title="Multiple defined in 22 places.">OfLong</a> <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L897" name="L897"></a> 897             <strong class="reserved">return</strong> <a href="../S/1188.html#L41" title="Defined at 41 in src/java/util/Spliterators.java.">Spliterators</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>());
<a id="L898" name="L898"></a> 898         <em class="brace">}</em>
<a id="L899" name="L899"></a> 899 
<a id="L900" name="L900"></a> 900 
<a id="L901" name="L901"></a> 901         <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6356.html" title="Multiple defined in 22 places.">OfLong</a> <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L902" name="L902"></a> 902             <strong class="reserved">class</strong> <a href="../R/7530.html" title="Multiple referred from 11 places.">Splitr</a> <strong class="reserved">extends</strong> <a href="../S/889.html#L596" title="Defined at 596 in src/java/util/stream/SpinedBuffer.java.">BaseSpliterator</a>&lt;<a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6356.html" title="Multiple defined in 22 places.">OfLong</a>&gt;
<a id="L903" name="L903"></a> 903                     <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6356.html" title="Multiple defined in 22 places.">OfLong</a> <em class="brace">{</em>
<a id="L904" name="L904"></a> 904                 Splitr(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L905" name="L905"></a> 905                        <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L906" name="L906"></a> 906                     <strong class="reserved">super</strong>(firstSpineIndex, lastSpineIndex,
<a id="L907" name="L907"></a> 907                           firstSpineElementIndex, lastSpineElementFence);
<a id="L908" name="L908"></a> 908                 <em class="brace">}</em>
<a id="L909" name="L909"></a> 909 
<a id="L910" name="L910"></a> 910                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L911" name="L911"></a> 911                 <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a> <a href="../S/889.html#L695" title="Referred from 695 in src/java/util/stream/SpinedBuffer.java.">newSpliterator</a>(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L912" name="L912"></a> 912                                       <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L913" name="L913"></a> 913                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(firstSpineIndex, lastSpineIndex,
<a id="L914" name="L914"></a> 914                                       firstSpineElementIndex, lastSpineElementFence);
<a id="L915" name="L915"></a> 915                 <em class="brace">}</em>
<a id="L916" name="L916"></a> 916 
<a id="L917" name="L917"></a> 917                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L918" name="L918"></a> 918                 <strong class="reserved">void</strong> <a href="../S/889.html#L656" title="Referred from 656 in src/java/util/stream/SpinedBuffer.java.">arrayForOne</a>(<strong class="reserved">long</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/947.html#L42" title="Defined at 42 in src/java/util/function/LongConsumer.java.">LongConsumer</a> consumer) <em class="brace">{</em>
<a id="L919" name="L919"></a> 919                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L920" name="L920"></a> 920                 <em class="brace">}</em>
<a id="L921" name="L921"></a> 921 
<a id="L922" name="L922"></a> 922                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L923" name="L923"></a> 923                 <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6356.html" title="Multiple defined in 22 places.">OfLong</a> <a href="../S/889.html#L708" title="Referred from 708 in src/java/util/stream/SpinedBuffer.java.">arraySpliterator</a>(<strong class="reserved">long</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924                     <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+len);
<a id="L925" name="L925"></a> 925                 <em class="brace">}</em>
<a id="L926" name="L926"></a> 926             <em class="brace">}</em>
<a id="L927" name="L927"></a> 927             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(0, spineIndex, 0, elementIndex);
<a id="L928" name="L928"></a> 928         <em class="brace">}</em>
<a id="L929" name="L929"></a> 929 
<a id="L930" name="L930"></a> 930         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L931" name="L931"></a> 931         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L932" name="L932"></a> 932             <strong class="reserved">long</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a> = <a href="../D/11554.html" title="Multiple defined in 12 places.">asPrimitiveArray</a>();
<a id="L933" name="L933"></a> 933             <strong class="reserved">if</strong> (<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 200) <em class="brace">{</em>
<a id="L934" name="L934"></a> 934                 <strong class="reserved">return</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("%s[length=%d, chunks=%d]%s",
<a id="L935" name="L935"></a> 935                                      <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/22519.html" title="Multiple defined in 7 places.">getSimpleName</a>(), <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L936" name="L936"></a> 936                                      spineIndex, <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>));
<a id="L937" name="L937"></a> 937             <em class="brace">}</em>
<a id="L938" name="L938"></a> 938             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L939" name="L939"></a> 939                 <strong class="reserved">long</strong>[] array2 = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, 200);
<a id="L940" name="L940"></a> 940                 <strong class="reserved">return</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("%s[length=%d, chunks=%d]%s...",
<a id="L941" name="L941"></a> 941                                      <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/22519.html" title="Multiple defined in 7 places.">getSimpleName</a>(), <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L942" name="L942"></a> 942                                      spineIndex, <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(array2));
<a id="L943" name="L943"></a> 943             <em class="brace">}</em>
<a id="L944" name="L944"></a> 944         <em class="brace">}</em>
<a id="L945" name="L945"></a> 945     <em class="brace">}</em>
<a id="L946" name="L946"></a> 946 
<div class="comment">
      An ordered collection of <code>double</code> values.</div>
<a id="L950" name="L950"></a> 950     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5790.html" title="Multiple referred from 148 places.">OfDouble</a>
<a id="L951" name="L951"></a> 951             <strong class="reserved">extends</strong> <a href="../S/889.html#L56" title="Defined at 56 in src/java/util/stream/SpinedBuffer.java.">SpinedBuffer</a>.<a href="../D/6357.html" title="Multiple defined in 11 places.">OfPrimitive</a>&lt;<a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>, <strong class="reserved">double</strong>[], <a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a>&gt;
<a id="L952" name="L952"></a> 952             <strong class="reserved">implements</strong> <a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a> <em class="brace">{</em>
<a id="L953" name="L953"></a> 953         OfDouble() <em class="brace">{</em> <em class="brace">}</em>
<a id="L954" name="L954"></a> 954 
<a id="L955" name="L955"></a> 955         OfDouble(<strong class="reserved">int</strong> initialCapacity) <em class="brace">{</em>
<a id="L956" name="L956"></a> 956             <strong class="reserved">super</strong>(initialCapacity);
<a id="L957" name="L957"></a> 957         <em class="brace">}</em>
<a id="L958" name="L958"></a> 958 
<a id="L959" name="L959"></a> 959         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L960" name="L960"></a> 960         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14730.html" title="Multiple referred from 50 places.">forEach</a>(<a href="../S/963.html#L42" title="Defined at 42 in src/java/util/function/Consumer.java.">Consumer</a>&lt;? <strong class="reserved">super</strong> <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a>&gt; consumer) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961             <strong class="reserved">if</strong> (consumer <strong class="reserved">instanceof</strong> <a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a>) <em class="brace">{</em>
<a id="L962" name="L962"></a> 962                 <a href="../D/16509.html" title="Multiple defined in 84 places.">forEach</a>((<a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a>) consumer);
<a id="L963" name="L963"></a> 963             <em class="brace">}</em>
<a id="L964" name="L964"></a> 964             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L965" name="L965"></a> 965                 <strong class="reserved">if</strong> (<a href="../D/9170.html" title="Multiple defined in 2 places.">Tripwire</a>.ENABLED)
<a id="L966" name="L966"></a> 966                     <a href="../D/9170.html" title="Multiple defined in 2 places.">Tripwire</a>.<a href="../D/35702.html" title="Multiple defined in 2 places.">trip</a>(<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>(), "{0} calling SpinedBuffer.OfDouble.forEach(Consumer)");
<a id="L967" name="L967"></a> 967                 <a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>().<a href="../D/16513.html" title="Multiple defined in 101 places.">forEachRemaining</a>(consumer);
<a id="L968" name="L968"></a> 968             <em class="brace">}</em>
<a id="L969" name="L969"></a> 969         <em class="brace">}</em>
<a id="L970" name="L970"></a> 970 
<a id="L971" name="L971"></a> 971         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L972" name="L972"></a> 972         <strong class="reserved">protected</strong> <strong class="reserved">double</strong>[][] <a href="../S/889.html#L491" title="Referred from 491 in src/java/util/stream/SpinedBuffer.java.">newArrayArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L973" name="L973"></a> 973             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">double</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>][];
<a id="L974" name="L974"></a> 974         <em class="brace">}</em>
<a id="L975" name="L975"></a> 975 
<a id="L976" name="L976"></a> 976         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L977" name="L977"></a> 977         <strong class="reserved">public</strong> <strong class="reserved">double</strong>[] <a href="../R/23517.html" title="Multiple referred from 138 places.">newArray</a>(<strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L978" name="L978"></a> 978             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">double</strong>[<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>];
<a id="L979" name="L979"></a> 979         <em class="brace">}</em>
<a id="L980" name="L980"></a> 980 
<a id="L981" name="L981"></a> 981         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L982" name="L982"></a> 982         <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/10323.html" title="Multiple referred from 65 places.">arrayLength</a>(<strong class="reserved">double</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>) <em class="brace">{</em>
<a id="L983" name="L983"></a> 983             <strong class="reserved">return</strong> <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L984" name="L984"></a> 984         <em class="brace">}</em>
<a id="L985" name="L985"></a> 985 
<a id="L986" name="L986"></a> 986         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L987" name="L987"></a> 987         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/10318.html" title="Multiple referred from 4 places.">arrayForEach</a>(<strong class="reserved">double</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>,
<a id="L988" name="L988"></a> 988                                     <strong class="reserved">int</strong> <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>, <strong class="reserved">int</strong> <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>,
<a id="L989" name="L989"></a> 989                                     <a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a> consumer) <em class="brace">{</em>
<a id="L990" name="L990"></a> 990             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>; i &lt; <a href="../D/35341.html" title="Multiple defined in 2 places.">to</a>; i++)
<a id="L991" name="L991"></a> 991                 consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[i]);
<a id="L992" name="L992"></a> 992         <em class="brace">}</em>
<a id="L993" name="L993"></a> 993 
<a id="L994" name="L994"></a> 994         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L995" name="L995"></a> 995         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9513.html" title="Multiple referred from 551 places.">accept</a>(<strong class="reserved">double</strong> i) <em class="brace">{</em>
<a id="L996" name="L996"></a> 996             <a href="../S/889.html#L565" title="Defined at 565 in src/java/util/stream/SpinedBuffer.java.">preAccept</a>();
<a id="L997" name="L997"></a> 997             curChunk[elementIndex++] = i;
<a id="L998" name="L998"></a> 998         <em class="brace">}</em>
<a id="L999" name="L999"></a> 999 
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">public</strong> <strong class="reserved">double</strong> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<strong class="reserved">long</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L1001" name="L1001"></a>1001             <em class="comment">// Casts to int are safe since the spine array index is the index minus</em>
<a id="L1002" name="L1002"></a>1002             <em class="comment">// the prior element count from the current spine</em>
<a id="L1003" name="L1003"></a>1003             <strong class="reserved">int</strong> ch = <a href="../S/889.html#L519" title="Defined at 519 in src/java/util/stream/SpinedBuffer.java.">chunkFor</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L1004" name="L1004"></a>1004             <strong class="reserved">if</strong> (spineIndex == 0 &amp;&amp; ch == 0)
<a id="L1005" name="L1005"></a>1005                 <strong class="reserved">return</strong> curChunk[(<strong class="reserved">int</strong>) <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L1006" name="L1006"></a>1006             <strong class="reserved">else</strong>
<a id="L1007" name="L1007"></a>1007                 <strong class="reserved">return</strong> spine[ch][(<strong class="reserved">int</strong>) (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - priorElementCount[ch])];
<a id="L1008" name="L1008"></a>1008         <em class="brace">}</em>
<a id="L1009" name="L1009"></a>1009 
<a id="L1010" name="L1010"></a>1010         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1011" name="L1011"></a>1011         <strong class="reserved">public</strong> <a href="../S/1148.html#L68" title="Defined at 68 in src/java/util/PrimitiveIterator.java.">PrimitiveIterator</a>.<a href="../D/6354.html" title="Multiple defined in 22 places.">OfDouble</a> <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L1012" name="L1012"></a>1012             <strong class="reserved">return</strong> <a href="../S/1188.html#L41" title="Defined at 41 in src/java/util/Spliterators.java.">Spliterators</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>());
<a id="L1013" name="L1013"></a>1013         <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014 
<a id="L1015" name="L1015"></a>1015         <strong class="reserved">public</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6354.html" title="Multiple defined in 22 places.">OfDouble</a> <a href="../R/28762.html" title="Multiple referred from 435 places.">spliterator</a>() <em class="brace">{</em>
<a id="L1016" name="L1016"></a>1016             <strong class="reserved">class</strong> <a href="../R/7530.html" title="Multiple referred from 11 places.">Splitr</a> <strong class="reserved">extends</strong> <a href="../S/889.html#L596" title="Defined at 596 in src/java/util/stream/SpinedBuffer.java.">BaseSpliterator</a>&lt;<a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6354.html" title="Multiple defined in 22 places.">OfDouble</a>&gt;
<a id="L1017" name="L1017"></a>1017                     <strong class="reserved">implements</strong> <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6354.html" title="Multiple defined in 22 places.">OfDouble</a> <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                 Splitr(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L1019" name="L1019"></a>1019                        <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L1020" name="L1020"></a>1020                     <strong class="reserved">super</strong>(firstSpineIndex, lastSpineIndex,
<a id="L1021" name="L1021"></a>1021                           firstSpineElementIndex, lastSpineElementFence);
<a id="L1022" name="L1022"></a>1022                 <em class="brace">}</em>
<a id="L1023" name="L1023"></a>1023 
<a id="L1024" name="L1024"></a>1024                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1025" name="L1025"></a>1025                 <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a> <a href="../S/889.html#L695" title="Referred from 695 in src/java/util/stream/SpinedBuffer.java.">newSpliterator</a>(<strong class="reserved">int</strong> firstSpineIndex, <strong class="reserved">int</strong> lastSpineIndex,
<a id="L1026" name="L1026"></a>1026                                       <strong class="reserved">int</strong> firstSpineElementIndex, <strong class="reserved">int</strong> lastSpineElementFence) <em class="brace">{</em>
<a id="L1027" name="L1027"></a>1027                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(firstSpineIndex, lastSpineIndex,
<a id="L1028" name="L1028"></a>1028                                       firstSpineElementIndex, lastSpineElementFence);
<a id="L1029" name="L1029"></a>1029                 <em class="brace">}</em>
<a id="L1030" name="L1030"></a>1030 
<a id="L1031" name="L1031"></a>1031                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1032" name="L1032"></a>1032                 <strong class="reserved">void</strong> <a href="../S/889.html#L656" title="Referred from 656 in src/java/util/stream/SpinedBuffer.java.">arrayForOne</a>(<strong class="reserved">double</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/978.html#L42" title="Defined at 42 in src/java/util/function/DoubleConsumer.java.">DoubleConsumer</a> consumer) <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033                     consumer.<a href="../D/10537.html" title="Multiple defined in 327 places.">accept</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L1034" name="L1034"></a>1034                 <em class="brace">}</em>
<a id="L1035" name="L1035"></a>1035 
<a id="L1036" name="L1036"></a>1036                 @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1037" name="L1037"></a>1037                 <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/6354.html" title="Multiple defined in 22 places.">OfDouble</a> <a href="../S/889.html#L708" title="Referred from 708 in src/java/util/stream/SpinedBuffer.java.">arraySpliterator</a>(<strong class="reserved">double</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> len) <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038                     <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>+len);
<a id="L1039" name="L1039"></a>1039                 <em class="brace">}</em>
<a id="L1040" name="L1040"></a>1040             <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8300.html" title="Multiple defined in 4 places.">Splitr</a>(0, spineIndex, 0, elementIndex);
<a id="L1042" name="L1042"></a>1042         <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043 
<a id="L1044" name="L1044"></a>1044         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1045" name="L1045"></a>1045         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L1046" name="L1046"></a>1046             <strong class="reserved">double</strong>[] <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a> = <a href="../D/11554.html" title="Multiple defined in 12 places.">asPrimitiveArray</a>();
<a id="L1047" name="L1047"></a>1047             <strong class="reserved">if</strong> (<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 200) <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048                 <strong class="reserved">return</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("%s[length=%d, chunks=%d]%s",
<a id="L1049" name="L1049"></a>1049                                      <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/22519.html" title="Multiple defined in 7 places.">getSimpleName</a>(), <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L1050" name="L1050"></a>1050                                      spineIndex, <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>));
<a id="L1051" name="L1051"></a>1051             <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1053" name="L1053"></a>1053                 <strong class="reserved">double</strong>[] array2 = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, 200);
<a id="L1054" name="L1054"></a>1054                 <strong class="reserved">return</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>("%s[length=%d, chunks=%d]%s...",
<a id="L1055" name="L1055"></a>1055                                      <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/22519.html" title="Multiple defined in 7 places.">getSimpleName</a>(), <a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L1056" name="L1056"></a>1056                                      spineIndex, <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(array2));
<a id="L1057" name="L1057"></a>1057             <em class="brace">}</em>
<a id="L1058" name="L1058"></a>1058         <em class="brace">}</em>
<a id="L1059" name="L1059"></a>1059     <em class="brace">}</em>
<a id="L1060" name="L1060"></a>1060 <em class="brace">}</em>
<a id="L1061" name="L1061"></a>1061 
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L95">[^]</a><a href="#L1045">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>