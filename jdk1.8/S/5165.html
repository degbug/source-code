<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/impl/XML11DocumentScannerImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L128">[^]</a><a href="#L584">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L128" title="Defined at 128.">scanContent</a></li>
<li><a href="#L194" title="Defined at 194.">scanAttributeValue</a></li>
<li><a href="#L440" title="Defined at 440.">scanPubidLiteral</a></li>
<li><a href="#L492" title="Defined at 492.">normalizeWhitespace</a></li>
<li><a href="#L506" title="Defined at 506.">normalizeWhitespace</a></li>
<li><a href="#L523" title="Defined at 523.">isUnchangedByNormalization</a></li>
<li><a href="#L537" title="Defined at 537.">isInvalid</a></li>
<li><a href="#L544" title="Defined at 544.">isInvalidLiteral</a></li>
<li><a href="#L551" title="Defined at 551.">isValidNameChar</a></li>
<li><a href="#L558" title="Defined at 558.">isValidNameStartChar</a></li>
<li><a href="#L565" title="Defined at 565.">isValidNCName</a></li>
<li><a href="#L573" title="Defined at 573.">isValidNameStartHighSurrogate</a></li>
<li><a href="#L577" title="Defined at 577.">versionSupported</a></li>
<li><a href="#L584" title="Defined at 584.">getVersionNotSupportedKey</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  The Apache Software License, Version 1.1
  Copyright (c) 1999-2004 The Apache Software Foundation.
  All rights reserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions
  are met:
  1. Redistributions of source code must retain the above copyright
     notice, this list of conditions and the following disclaimer.
  2. Redistributions in binary form must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in
     the documentation and/or other materials provided with the
     distribution.
  3. The end-user documentation included with the redistribution,
     if any, must include the following acknowledgment:
        "This product includes software developed by the
         Apache Software Foundation (http://www.apache.org/)."
     Alternately, this acknowledgment may appear in the software itself,
     if and wherever such third-party acknowledgments normally appear.
  4. The names "Xerces" and "Apache Software Foundation" must
     not be used to endorse or promote products derived from this
     software without prior written permission. For written
     permission, please contact apache@apache.org.
  5. Products derived from this software may not be called "Apache",
     nor may "Apache" appear in their name, without prior written
     permission of the Apache Software Foundation.
  THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
  ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
  USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
  OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
  SUCH DAMAGE.
  ====================================================================
  This software consists of voluntary contributions made by many
  individuals on behalf of the Apache Software Foundation and was
  originally based on software copyright (c) 1999, International
  Business Machines, Inc., http://www.apache.org.  For more
  information on the Apache Software Foundation, please see
  <http: www.apache.org />.</div>
<a id="L61" name="L61"></a>  61 
<a id="L62" name="L62"></a>  62 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> java.io.IOException;
<a id="L65" name="L65"></a>  65 
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.msg.XMLMessageFormatter;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XML11Char;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLChar;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLStringBuffer;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XMLString;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.XNIException;
<a id="L72" name="L72"></a>  72 
<div class="comment">
  This class is responsible for scanning XML document structure
  and content. The scanner acts as the source for the document
  information which is communicated to the document handler.
  <p>
  This component requires the following features and properties from the
  component manager that uses it:
  </p><ul><li>http://xml.org/sax/features/namespaces</li><li>http://xml.org/sax/features/validation</li><li>http://apache.org/xml/features/nonvalidating/load-external-dtd</li><li>http://apache.org/xml/features/scanner/notify-char-refs</li><li>http://apache.org/xml/features/scanner/notify-builtin-refs</li><li>http://apache.org/xml/properties/internal/symbol-table</li><li>http://apache.org/xml/properties/internal/error-reporter</li><li>http://apache.org/xml/properties/internal/entity-manager</li><li>http://apache.org/xml/properties/internal/dtd-scanner</li>
  </ul>
  @xerces.internal
  @author Glenn Marcy, IBM
  @author Andy Clark, IBM
  @author Arnaud  Le Hors, IBM
  @author Eric Ye, IBM
  @version $Id: XML11DocumentScannerImpl.java,v 1.5 2010/08/04 20:59:09 joehw Exp $</div>
<a id="L101" name="L101"></a> 101 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8947.html" title="Multiple referred from 10 places.">XML11DocumentScannerImpl</a>
<a id="L102" name="L102"></a> 102     <strong class="reserved">extends</strong> <a href="../S/5032.html#L70" title="Defined at 70 in src/com/sun/org/apache/xerces/internal/impl/XMLDocumentScannerImpl.java.">XMLDocumentScannerImpl</a> <em class="brace">{</em>
<a id="L103" name="L103"></a> 103 
<a id="L104" name="L104"></a> 104 
<div class="comment">
     /** String buffer. */</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a> fStringBuffer = <strong class="reserved">new</strong> <a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a>();
<a id="L107" name="L107"></a> 107     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a> fStringBuffer2 = <strong class="reserved">new</strong> <a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a>();
<a id="L108" name="L108"></a> 108     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a> fStringBuffer3 = <strong class="reserved">new</strong> <a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a>();
<a id="L109" name="L109"></a> 109 
<a id="L110" name="L110"></a> 110     <em class="comment">//</em>
<a id="L111" name="L111"></a> 111     <em class="comment">// Constructors</em>
<a id="L112" name="L112"></a> 112     <em class="comment">//</em>
<a id="L113" name="L113"></a> 113 
<div class="comment">
     /** Default constructor. */</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">public</strong> XML11DocumentScannerImpl() <em class="brace">{</em><strong class="reserved">super</strong>();<em class="brace">}</em> <em class="comment">// &lt;init&gt;()</em>
<a id="L116" name="L116"></a> 116 
<a id="L117" name="L117"></a> 117     <em class="comment">//</em>
<a id="L118" name="L118"></a> 118     <em class="comment">// overridden methods</em>
<a id="L119" name="L119"></a> 119     <em class="comment">//</em>
<a id="L120" name="L120"></a> 120 
<a id="L121" name="L121"></a> 121     <em class="comment">// XMLDocumentFragmentImpl methods</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Scans element content.
      @return Returns the next character on the stream.</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/26621.html" title="Multiple referred from 4 places.">scanContent</a>(<a href="../S/5310.html#L86" title="Defined at 86 in src/com/sun/org/apache/xerces/internal/util/XMLStringBuffer.java.">XMLStringBuffer</a> <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a> <em class="brace">{</em>
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130         fTempString.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = 0;
<a id="L131" name="L131"></a> 131         <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = fEntityScanner.<a href="../D/31572.html" title="Multiple defined in 4 places.">scanContent</a>(fTempString);
<a id="L132" name="L132"></a> 132         <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(fTempString);
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\r' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == 0x85 || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == 0x2028) <em class="brace">{</em>
<a id="L135" name="L135"></a> 135             <em class="comment">// happens when there is the character reference &amp;#13;</em>
<a id="L136" name="L136"></a> 136             <em class="comment">// but scanContent doesn't do entity expansions...</em>
<a id="L137" name="L137"></a> 137             <em class="comment">// is this *really* necessary???  - NG</em>
<a id="L138" name="L138"></a> 138             fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L139" name="L139"></a> 139             <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L140" name="L140"></a> 140             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = -1;
<a id="L141" name="L141"></a> 141         <em class="brace">}</em>
<div class="comment">
if (fDocumentHandler != null &amp;&amp; content.length &gt; 0) {
            fDocumentHandler.characters(content, null);
        } </div>
<a id="L145" name="L145"></a> 145 
<a id="L146" name="L146"></a> 146         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ']') <em class="brace">{</em>
<a id="L147" name="L147"></a> 147             <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>());
<a id="L148" name="L148"></a> 148             <em class="comment">// remember where we are in case we get an endEntity before we</em>
<a id="L149" name="L149"></a> 149             <em class="comment">// could flush the buffer out - this happens when we're parsing an</em>
<a id="L150" name="L150"></a> 150             <em class="comment">// entity which ends with a ]</em>
<a id="L151" name="L151"></a> 151             fInScanContent = <strong class="reserved">true</strong>;
<a id="L152" name="L152"></a> 152             <em class="comment">//</em>
<a id="L153" name="L153"></a> 153             <em class="comment">// We work on a single character basis to handle cases such as:</em>
<a id="L154" name="L154"></a> 154             <em class="comment">// ']]]&gt;' which we might otherwise miss.</em>
<a id="L155" name="L155"></a> 155             <em class="comment">//</em>
<a id="L156" name="L156"></a> 156             <strong class="reserved">if</strong> (fEntityScanner.<a href="../D/34601.html" title="Multiple defined in 2 places.">skipChar</a>(']')) <em class="brace">{</em>
<a id="L157" name="L157"></a> 157                 <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(']');
<a id="L158" name="L158"></a> 158                 <strong class="reserved">while</strong> (fEntityScanner.<a href="../D/34601.html" title="Multiple defined in 2 places.">skipChar</a>(']')) <em class="brace">{</em>
<a id="L159" name="L159"></a> 159                     <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(']');
<a id="L160" name="L160"></a> 160                 <em class="brace">}</em>
<a id="L161" name="L161"></a> 161                 <strong class="reserved">if</strong> (fEntityScanner.<a href="../D/34601.html" title="Multiple defined in 2 places.">skipChar</a>('&gt;')) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162                     <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("CDEndInContent", <strong class="reserved">null</strong>);
<a id="L163" name="L163"></a> 163                 <em class="brace">}</em>
<a id="L164" name="L164"></a> 164             <em class="brace">}</em>
<div class="comment">
if (fDocumentHandler != null &amp;&amp; fStringBuffer.length != 0) {
                fDocumentHandler.characters(fStringBuffer, null);
            }</div>
<a id="L168" name="L168"></a> 168             fInScanContent = <strong class="reserved">false</strong>;
<a id="L169" name="L169"></a> 169             <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = -1;
<a id="L170" name="L170"></a> 170         <em class="brace">}</em>
<a id="L171" name="L171"></a> 171         <strong class="reserved">return</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L172" name="L172"></a> 172 
<a id="L173" name="L173"></a> 173     <em class="brace">}</em> <em class="comment">// scanContent():int</em>
<a id="L174" name="L174"></a> 174 
<div class="comment">
      Scans an attribute value and normalizes whitespace converting all
      whitespace characters to space characters.
      [10] AttValue ::= '"' ([^&lt;&amp;"] | Reference)* '"' | "'" ([^&lt;&amp;'] | Reference)* "'"
      @param value The XMLString to fill in with the value.
      @param nonNormalizedValue The XMLString to fill in with the
                                non-normalized value.
      @param atName The name of the attribute being parsed (for error msgs).
      @param checkEntities true if undeclared entities should be reported as VC violation,
                           false if undeclared entities should be reported as WFC violation.
      @param eleName The name of element to which this attribute belongs.
      @return true if the non-normalized and normalized value are the same
      <strong>Note:</strong> This method uses fStringBuffer2, anything in it
      at the time of calling is lost.
     *</div>
<a id="L194" name="L194"></a> 194     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/26613.html" title="Multiple referred from 4 places.">scanAttributeValue</a>(<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L195" name="L195"></a> 195                                       <a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> nonNormalizedValue,
<a id="L196" name="L196"></a> 196                                       <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> atName,
<a id="L197" name="L197"></a> 197                                       <strong class="reserved">boolean</strong> checkEntities,<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> eleName)
<a id="L198" name="L198"></a> 198         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a>
<a id="L199" name="L199"></a> 199     <em class="brace">{</em>
<a id="L200" name="L200"></a> 200         <em class="comment">// quote</em>
<a id="L201" name="L201"></a> 201         <strong class="reserved">int</strong> <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> = fEntityScanner.<a href="../D/29289.html" title="Multiple defined in 2 places.">peekChar</a>();
<a id="L202" name="L202"></a> 202         <strong class="reserved">if</strong> (<a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> != '\'' &amp;&amp; <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> != '"') <em class="brace">{</em>
<a id="L203" name="L203"></a> 203             <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("OpenQuoteExpected", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>eleName,atName<em class="brace">}</em>);
<a id="L204" name="L204"></a> 204         <em class="brace">}</em>
<a id="L205" name="L205"></a> 205 
<a id="L206" name="L206"></a> 206         fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L207" name="L207"></a> 207         <strong class="reserved">int</strong> entityDepth = fEntityDepth;
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209         <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = fEntityScanner.<a href="../D/31595.html" title="Multiple defined in 2 places.">scanLiteral</a>(<a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L210" name="L210"></a> 210         <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** scanLiteral -&gt; \""
<a id="L212" name="L212"></a> 212                                + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\"");
<a id="L213" name="L213"></a> 213         <em class="brace">}</em>
<a id="L214" name="L214"></a> 214 
<a id="L215" name="L215"></a> 215         <strong class="reserved">int</strong> fromIndex = 0;
<a id="L216" name="L216"></a> 216         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> &amp;&amp; (fromIndex = <a href="../D/26392.html" title="Multiple defined in 2 places.">isUnchangedByNormalization</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)) == -1) <em class="brace">{</em>
<div class="comment">
             /** Both the non-normalized and normalized attribute values are equal. **/</div>
<a id="L218" name="L218"></a> 218             nonNormalizedValue.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L219" name="L219"></a> 219             <strong class="reserved">int</strong> cquote = fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L220" name="L220"></a> 220             <strong class="reserved">if</strong> (cquote != <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>) <em class="brace">{</em>
<a id="L221" name="L221"></a> 221                 <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("CloseQuoteExpected", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>eleName,atName<em class="brace">}</em>);
<a id="L222" name="L222"></a> 222             <em class="brace">}</em>
<a id="L223" name="L223"></a> 223             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L224" name="L224"></a> 224         <em class="brace">}</em>
<a id="L225" name="L225"></a> 225         fStringBuffer2.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L226" name="L226"></a> 226         fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L227" name="L227"></a> 227         <a href="../D/28298.html" title="Multiple defined in 7 places.">normalizeWhitespace</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, fromIndex);
<a id="L228" name="L228"></a> 228         <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** normalizeWhitespace -&gt; \""
<a id="L230" name="L230"></a> 230                                + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\"");
<a id="L231" name="L231"></a> 231         <em class="brace">}</em>
<a id="L232" name="L232"></a> 232         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>) <em class="brace">{</em>
<a id="L233" name="L233"></a> 233             fScanningAttribute = <strong class="reserved">true</strong>;
<a id="L234" name="L234"></a> 234             fStringBuffer.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L235" name="L235"></a> 235             <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L236" name="L236"></a> 236                 fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L237" name="L237"></a> 237                 <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L238" name="L238"></a> 238                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** value2: \""
<a id="L239" name="L239"></a> 239                                        + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\"");
<a id="L240" name="L240"></a> 240                 <em class="brace">}</em>
<a id="L241" name="L241"></a> 241                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '&amp;') <em class="brace">{</em>
<a id="L242" name="L242"></a> 242                     fEntityScanner.<a href="../D/34601.html" title="Multiple defined in 2 places.">skipChar</a>('&amp;');
<a id="L243" name="L243"></a> 243                     <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L244" name="L244"></a> 244                         fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('&amp;');
<a id="L245" name="L245"></a> 245                     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246                     <strong class="reserved">if</strong> (fEntityScanner.<a href="../D/34601.html" title="Multiple defined in 2 places.">skipChar</a>('#')) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247                         <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L248" name="L248"></a> 248                             fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('#');
<a id="L249" name="L249"></a> 249                         <em class="brace">}</em>
<a id="L250" name="L250"></a> 250                         <strong class="reserved">int</strong> ch = <a href="../S/5164.html#L1243" title="Defined at 1243 in src/com/sun/org/apache/xerces/internal/impl/XMLScanner.java.">scanCharReferenceValue</a>(fStringBuffer, fStringBuffer2);
<a id="L251" name="L251"></a> 251                         <strong class="reserved">if</strong> (ch != -1) <em class="brace">{</em>
<a id="L252" name="L252"></a> 252                             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** value3: \""
<a id="L254" name="L254"></a> 254                                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L255" name="L255"></a> 255                                                    + "\"");
<a id="L256" name="L256"></a> 256                             <em class="brace">}</em>
<a id="L257" name="L257"></a> 257                         <em class="brace">}</em>
<a id="L258" name="L258"></a> 258                     <em class="brace">}</em>
<a id="L259" name="L259"></a> 259                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L260" name="L260"></a> 260                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> entityName = fEntityScanner.<a href="../D/31598.html" title="Multiple defined in 2 places.">scanName</a>();
<a id="L261" name="L261"></a> 261                         <strong class="reserved">if</strong> (entityName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262                             <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("NameRequiredInReference", <strong class="reserved">null</strong>);
<a id="L263" name="L263"></a> 263                         <em class="brace">}</em>
<a id="L264" name="L264"></a> 264                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265                             fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(entityName);
<a id="L266" name="L266"></a> 266                         <em class="brace">}</em>
<a id="L267" name="L267"></a> 267                         <strong class="reserved">if</strong> (!fEntityScanner.<a href="../D/34601.html" title="Multiple defined in 2 places.">skipChar</a>(';')) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                             <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("SemicolonRequiredInReference",
<a id="L269" name="L269"></a> 269                                              <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> []<em class="brace">{</em>entityName<em class="brace">}</em>);
<a id="L270" name="L270"></a> 270                         <em class="brace">}</em>
<a id="L271" name="L271"></a> 271                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L272" name="L272"></a> 272                             fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(';');
<a id="L273" name="L273"></a> 273                         <em class="brace">}</em>
<a id="L274" name="L274"></a> 274                         <strong class="reserved">if</strong> (entityName == fAmpSymbol) <em class="brace">{</em>
<a id="L275" name="L275"></a> 275                             fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('&amp;');
<a id="L276" name="L276"></a> 276                             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L277" name="L277"></a> 277                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** value5: \""
<a id="L278" name="L278"></a> 278                                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L279" name="L279"></a> 279                                                    + "\"");
<a id="L280" name="L280"></a> 280                             <em class="brace">}</em>
<a id="L281" name="L281"></a> 281                         <em class="brace">}</em>
<a id="L282" name="L282"></a> 282                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityName == fAposSymbol) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283                             fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('\'');
<a id="L284" name="L284"></a> 284                             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** value7: \""
<a id="L286" name="L286"></a> 286                                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L287" name="L287"></a> 287                                                    + "\"");
<a id="L288" name="L288"></a> 288                             <em class="brace">}</em>
<a id="L289" name="L289"></a> 289                         <em class="brace">}</em>
<a id="L290" name="L290"></a> 290                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityName == fLtSymbol) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291                             fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('&lt;');
<a id="L292" name="L292"></a> 292                             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L293" name="L293"></a> 293                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** value9: \""
<a id="L294" name="L294"></a> 294                                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L295" name="L295"></a> 295                                                    + "\"");
<a id="L296" name="L296"></a> 296                             <em class="brace">}</em>
<a id="L297" name="L297"></a> 297                         <em class="brace">}</em>
<a id="L298" name="L298"></a> 298                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityName == fGtSymbol) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                             fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('&gt;');
<a id="L300" name="L300"></a> 300                             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L301" name="L301"></a> 301                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** valueB: \""
<a id="L302" name="L302"></a> 302                                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L303" name="L303"></a> 303                                                    + "\"");
<a id="L304" name="L304"></a> 304                             <em class="brace">}</em>
<a id="L305" name="L305"></a> 305                         <em class="brace">}</em>
<a id="L306" name="L306"></a> 306                         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (entityName == fQuotSymbol) <em class="brace">{</em>
<a id="L307" name="L307"></a> 307                             fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('"');
<a id="L308" name="L308"></a> 308                             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309                                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** valueD: \""
<a id="L310" name="L310"></a> 310                                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L311" name="L311"></a> 311                                                    + "\"");
<a id="L312" name="L312"></a> 312                             <em class="brace">}</em>
<a id="L313" name="L313"></a> 313                         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L315" name="L315"></a> 315                             <strong class="reserved">if</strong> (fEntityManager.<a href="../S/5242.html#L856" title="Defined at 856 in src/com/sun/org/apache/xerces/internal/impl/XMLEntityManager.java.">isExternalEntity</a>(entityName)) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316                                 <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("ReferenceToExternalEntity",
<a id="L317" name="L317"></a> 317                                                  <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> entityName <em class="brace">}</em>);
<a id="L318" name="L318"></a> 318                             <em class="brace">}</em>
<a id="L319" name="L319"></a> 319                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                                 <strong class="reserved">if</strong> (!fEntityManager.<a href="../S/5242.html#L903" title="Defined at 903 in src/com/sun/org/apache/xerces/internal/impl/XMLEntityManager.java.">isDeclaredEntity</a>(entityName)) <em class="brace">{</em>
<a id="L321" name="L321"></a> 321                                     <em class="comment">//WFC &amp; VC: Entity Declared</em>
<a id="L322" name="L322"></a> 322                                     <strong class="reserved">if</strong> (checkEntities) <em class="brace">{</em>
<a id="L323" name="L323"></a> 323                                         <strong class="reserved">if</strong> (fValidation) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                                             fErrorReporter.<a href="../D/31088.html" title="Multiple defined in 17 places.">reportError</a>(<a href="../S/5027.html#L39" title="Defined at 39 in src/com/sun/org/apache/xerces/internal/impl/msg/XMLMessageFormatter.java.">XMLMessageFormatter</a>.XML_DOMAIN,
<a id="L325" name="L325"></a> 325                                                                        "EntityNotDeclared",
<a id="L326" name="L326"></a> 326                                                                        <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>entityName<em class="brace">}</em>,
<a id="L327" name="L327"></a> 327                                                                        <a href="../S/5041.html#L116" title="Defined at 116 in src/com/sun/org/apache/xerces/internal/impl/XMLErrorReporter.java.">XMLErrorReporter</a>.SEVERITY_ERROR);
<a id="L328" name="L328"></a> 328                                         <em class="brace">}</em>
<a id="L329" name="L329"></a> 329                                     <em class="brace">}</em>
<a id="L330" name="L330"></a> 330                                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L331" name="L331"></a> 331                                         <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("EntityNotDeclared",
<a id="L332" name="L332"></a> 332                                                          <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>entityName<em class="brace">}</em>);
<a id="L333" name="L333"></a> 333                                     <em class="brace">}</em>
<a id="L334" name="L334"></a> 334                                 <em class="brace">}</em>
<a id="L335" name="L335"></a> 335                                 fEntityManager.<a href="../D/34782.html" title="Multiple defined in 25 places.">startEntity</a>(entityName, <strong class="reserved">true</strong>);
<a id="L336" name="L336"></a> 336                             <em class="brace">}</em>
<a id="L337" name="L337"></a> 337                         <em class="brace">}</em>
<a id="L338" name="L338"></a> 338                     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339                 <em class="brace">}</em>
<a id="L340" name="L340"></a> 340                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '&lt;') <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                     <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("LessthanInAttValue",
<a id="L342" name="L342"></a> 342                                      <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> eleName, atName <em class="brace">}</em>);
<a id="L343" name="L343"></a> 343                     fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L344" name="L344"></a> 344                     <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345                         fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L346" name="L346"></a> 346                     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347                 <em class="brace">}</em>
<a id="L348" name="L348"></a> 348                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '%' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ']') <em class="brace">{</em>
<a id="L349" name="L349"></a> 349                     fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L350" name="L350"></a> 350                     fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L351" name="L351"></a> 351                     <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352                         fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L353" name="L353"></a> 353                     <em class="brace">}</em>
<a id="L354" name="L354"></a> 354                     <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355                         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** valueF: \""
<a id="L356" name="L356"></a> 356                                            + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\"");
<a id="L357" name="L357"></a> 357                     <em class="brace">}</em>
<a id="L358" name="L358"></a> 358                 <em class="brace">}</em>
<a id="L359" name="L359"></a> 359                 <em class="comment">// note that none of these characters should ever get through</em>
<a id="L360" name="L360"></a> 360                 <em class="comment">// XML11EntityScanner.  Not sure why</em>
<a id="L361" name="L361"></a> 361                 <em class="comment">// this check was originally necessary.  - NG</em>
<a id="L362" name="L362"></a> 362                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\n' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\r' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == 0x85 || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == 0x2028) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363                     fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L364" name="L364"></a> 364                     fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(' ');
<a id="L365" name="L365"></a> 365                     <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366                         fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('\n');
<a id="L367" name="L367"></a> 367                     <em class="brace">}</em>
<a id="L368" name="L368"></a> 368                 <em class="brace">}</em>
<a id="L369" name="L369"></a> 369                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != -1 &amp;&amp; <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/25654.html" title="Multiple defined in 4 places.">isHighSurrogate</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370                     fStringBuffer3.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L371" name="L371"></a> 371                     <strong class="reserved">if</strong> (<a href="../S/5164.html#L1401" title="Defined at 1401 in src/com/sun/org/apache/xerces/internal/impl/XMLScanner.java.">scanSurrogates</a>(fStringBuffer3)) <em class="brace">{</em>
<a id="L372" name="L372"></a> 372                         fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(fStringBuffer3);
<a id="L373" name="L373"></a> 373                         <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L374" name="L374"></a> 374                             fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(fStringBuffer3);
<a id="L375" name="L375"></a> 375                         <em class="brace">}</em>
<a id="L376" name="L376"></a> 376                         <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** valueI: \""
<a id="L378" name="L378"></a> 378                                                + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()
<a id="L379" name="L379"></a> 379                                                + "\"");
<a id="L380" name="L380"></a> 380                         <em class="brace">}</em>
<a id="L381" name="L381"></a> 381                     <em class="brace">}</em>
<a id="L382" name="L382"></a> 382                 <em class="brace">}</em>
<a id="L383" name="L383"></a> 383                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != -1 &amp;&amp; <a href="../D/25741.html" title="Multiple defined in 3 places.">isInvalidLiteral</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L384" name="L384"></a> 384                     <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("InvalidCharInAttValue",
<a id="L385" name="L385"></a> 385                                      <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em>eleName, atName, <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>, 16)<em class="brace">}</em>);
<a id="L386" name="L386"></a> 386                     fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L387" name="L387"></a> 387                     <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L388" name="L388"></a> 388                         fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L389" name="L389"></a> 389                     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390                 <em class="brace">}</em>
<a id="L391" name="L391"></a> 391                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = fEntityScanner.<a href="../D/31595.html" title="Multiple defined in 2 places.">scanLiteral</a>(<a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L392" name="L392"></a> 392                 <strong class="reserved">if</strong> (entityDepth == fEntityDepth) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393                     fStringBuffer2.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L394" name="L394"></a> 394                 <em class="brace">}</em>
<a id="L395" name="L395"></a> 395                 <a href="../D/28298.html" title="Multiple defined in 7 places.">normalizeWhitespace</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L396" name="L396"></a> 396             <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> || entityDepth != fEntityDepth);
<a id="L397" name="L397"></a> 397             fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L398" name="L398"></a> 398             <strong class="reserved">if</strong> (DEBUG_ATTR_NORMALIZATION) <em class="brace">{</em>
<a id="L399" name="L399"></a> 399                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("** valueN: \""
<a id="L400" name="L400"></a> 400                                    + fStringBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + "\"");
<a id="L401" name="L401"></a> 401             <em class="brace">}</em>
<a id="L402" name="L402"></a> 402             <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(fStringBuffer);
<a id="L403" name="L403"></a> 403             fScanningAttribute = <strong class="reserved">false</strong>;
<a id="L404" name="L404"></a> 404         <em class="brace">}</em>
<a id="L405" name="L405"></a> 405         nonNormalizedValue.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(fStringBuffer2);
<a id="L406" name="L406"></a> 406 
<a id="L407" name="L407"></a> 407         <em class="comment">// quote</em>
<a id="L408" name="L408"></a> 408         <strong class="reserved">int</strong> cquote = fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L409" name="L409"></a> 409         <strong class="reserved">if</strong> (cquote != <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("CloseQuoteExpected", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>eleName,atName<em class="brace">}</em>);
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">return</strong> nonNormalizedValue.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.ch, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L413" name="L413"></a> 413     <em class="brace">}</em> <em class="comment">// scanAttributeValue()</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415     <em class="comment">//</em>
<a id="L416" name="L416"></a> 416     <em class="comment">// XMLScanner methods</em>
<a id="L417" name="L417"></a> 417     <em class="comment">//</em>
<a id="L418" name="L418"></a> 418     <em class="comment">// NOTE:  this is a carbon copy of the code in XML11DTDScannerImpl;</em>
<a id="L419" name="L419"></a> 419     <em class="comment">// we need to override these methods in both places.</em>
<a id="L420" name="L420"></a> 420     <em class="comment">// this needs to be refactored!!!  - NG</em>
<div class="comment">
      Scans public ID literal.
      [12] PubidLiteral ::= '"' PubidChar* '"' | "'" (PubidChar - "'")* "'"
      [13] PubidChar::= #x20 | #xD | #xA | [a-zA-Z0-9] | [-'()+,./:=?;!*#@$_%]
      The returned string is normalized according to the following rule,
      from http://www.w3.org/TR/REC-xml#dt-pubid:
      Before a match is attempted, all strings of white space in the public
      identifier must be normalized to single space characters (#x20), and
      leading and trailing white space must be removed.
      @param literal The string to fill in with the public ID literal.
      @return True on success.
      <strong>Note:</strong> This method uses fStringBuffer, anything in it at
      the time of calling is lost.</div>
<a id="L440" name="L440"></a> 440     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/5164.html#L1045" title="Referred from 1045 in src/com/sun/org/apache/xerces/internal/impl/XMLScanner.java.">scanPubidLiteral</a>(<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>)
<a id="L441" name="L441"></a> 441         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/5491.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/xni/XNIException.java.">XNIException</a>
<a id="L442" name="L442"></a> 442     <em class="brace">{</em>
<a id="L443" name="L443"></a> 443         <strong class="reserved">int</strong> <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> = fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L444" name="L444"></a> 444         <strong class="reserved">if</strong> (<a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> != '\'' &amp;&amp; <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a> != '"') <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("QuoteRequiredInPublicID", <strong class="reserved">null</strong>);
<a id="L446" name="L446"></a> 446             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L447" name="L447"></a> 447         <em class="brace">}</em>
<a id="L448" name="L448"></a> 448 
<a id="L449" name="L449"></a> 449         fStringBuffer.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L450" name="L450"></a> 450         <em class="comment">// skip leading whitespace</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">boolean</strong> <a href="../D/34621.html" title="Multiple defined in 3 places.">skipSpace</a> = <strong class="reserved">true</strong>;
<a id="L452" name="L452"></a> 452         <strong class="reserved">boolean</strong> dataok = <strong class="reserved">true</strong>;
<a id="L453" name="L453"></a> 453         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L454" name="L454"></a> 454             <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = fEntityScanner.<a href="../D/31566.html" title="Multiple defined in 2 places.">scanChar</a>();
<a id="L455" name="L455"></a> 455             <em class="comment">// REVISIT:  none of these except \n and 0x20 should make it past the entity scanner</em>
<a id="L456" name="L456"></a> 456             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == ' ' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\n' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == '\r' || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == 0x85 || <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == 0x2028) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457                 <strong class="reserved">if</strong> (!<a href="../D/34621.html" title="Multiple defined in 3 places.">skipSpace</a>) <em class="brace">{</em>
<a id="L458" name="L458"></a> 458                     <em class="comment">// take the first whitespace as a space and skip the others</em>
<a id="L459" name="L459"></a> 459                     fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(' ');
<a id="L460" name="L460"></a> 460                     <a href="../D/34621.html" title="Multiple defined in 3 places.">skipSpace</a> = <strong class="reserved">true</strong>;
<a id="L461" name="L461"></a> 461                 <em class="brace">}</em>
<a id="L462" name="L462"></a> 462             <em class="brace">}</em>
<a id="L463" name="L463"></a> 463             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <a href="../D/30085.html" title="Multiple defined in 6 places.">quote</a>) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464                 <strong class="reserved">if</strong> (<a href="../D/34621.html" title="Multiple defined in 3 places.">skipSpace</a>) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465                     <em class="comment">// if we finished on a space let's trim it</em>
<a id="L466" name="L466"></a> 466                     fStringBuffer.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>--;
<a id="L467" name="L467"></a> 467                 <em class="brace">}</em>
<a id="L468" name="L468"></a> 468                 <a href="../D/26885.html" title="Multiple defined in 4 places.">literal</a>.<a href="../D/34272.html" title="Multiple defined in 29 places.">setValues</a>(fStringBuffer);
<a id="L469" name="L469"></a> 469                 <strong class="reserved">break</strong>;
<a id="L470" name="L470"></a> 470             <em class="brace">}</em>
<a id="L471" name="L471"></a> 471             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26116.html" title="Multiple defined in 2 places.">isPubid</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L472" name="L472"></a> 472                 fStringBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>((<strong class="reserved">char</strong>)<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L473" name="L473"></a> 473                 <a href="../D/34621.html" title="Multiple defined in 3 places.">skipSpace</a> = <strong class="reserved">false</strong>;
<a id="L474" name="L474"></a> 474             <em class="brace">}</em>
<a id="L475" name="L475"></a> 475             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == -1) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476                 <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("PublicIDUnterminated", <strong class="reserved">null</strong>);
<a id="L477" name="L477"></a> 477                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L478" name="L478"></a> 478             <em class="brace">}</em>
<a id="L479" name="L479"></a> 479             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L480" name="L480"></a> 480                 dataok = <strong class="reserved">false</strong>;
<a id="L481" name="L481"></a> 481                 <a href="../D/31090.html" title="Multiple defined in 5 places.">reportFatalError</a>("InvalidCharInPublicID",
<a id="L482" name="L482"></a> 482                                  <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)<em class="brace">}</em>);
<a id="L483" name="L483"></a> 483             <em class="brace">}</em>
<a id="L484" name="L484"></a> 484         <em class="brace">}</em>
<a id="L485" name="L485"></a> 485         <strong class="reserved">return</strong> dataok;
<a id="L486" name="L486"></a> 486    <em class="brace">}</em>
<a id="L487" name="L487"></a> 487 
<div class="comment">
      Normalize whitespace in an XMLString converting all whitespace
      characters to space characters.</div>
<a id="L492" name="L492"></a> 492     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/23797.html" title="Multiple referred from 6 places.">normalizeWhitespace</a>(<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493         <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L494" name="L494"></a> 494             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>; i &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; ++i) <em class="brace">{</em>
<a id="L495" name="L495"></a> 495            <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.ch[i];
<a id="L496" name="L496"></a> 496            <strong class="reserved">if</strong> (<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26261.html" title="Multiple defined in 9 places.">isSpace</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497                <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.ch[i] = ' ';
<a id="L498" name="L498"></a> 498            <em class="brace">}</em>
<a id="L499" name="L499"></a> 499        <em class="brace">}</em>
<a id="L500" name="L500"></a> 500     <em class="brace">}</em>
<a id="L501" name="L501"></a> 501 
<div class="comment">
      Normalize whitespace in an XMLString converting all whitespace
      characters to space characters.</div>
<a id="L506" name="L506"></a> 506     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/23797.html" title="Multiple referred from 6 places.">normalizeWhitespace</a>(<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L508" name="L508"></a> 508         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + fromIndex; i &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; ++i) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.ch[i];
<a id="L510" name="L510"></a> 510             <strong class="reserved">if</strong> (<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26261.html" title="Multiple defined in 9 places.">isSpace</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511                 <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.ch[i] = ' ';
<a id="L512" name="L512"></a> 512             <em class="brace">}</em>
<a id="L513" name="L513"></a> 513         <em class="brace">}</em>
<a id="L514" name="L514"></a> 514     <em class="brace">}</em>
<a id="L515" name="L515"></a> 515 
<div class="comment">
      Checks whether this string would be unchanged by normalization.
      @return -1 if the value would be unchanged by normalization,
      otherwise the index of the first whitespace character which
      would be transformed.</div>
<a id="L523" name="L523"></a> 523     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../S/5165.html#L216" title="Referred from 216 in src/com/sun/org/apache/xerces/internal/impl/XML11DocumentScannerImpl.java.">isUnchangedByNormalization</a>(<a href="../D/10017.html" title="Multiple defined in 2 places.">XMLString</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524         <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L525" name="L525"></a> 525         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>; i &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; ++i) <em class="brace">{</em>
<a id="L526" name="L526"></a> 526             <strong class="reserved">int</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.ch[i];
<a id="L527" name="L527"></a> 527             <strong class="reserved">if</strong> (<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26261.html" title="Multiple defined in 9 places.">isSpace</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L528" name="L528"></a> 528                 <strong class="reserved">return</strong> i - <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L529" name="L529"></a> 529             <em class="brace">}</em>
<a id="L530" name="L530"></a> 530         <em class="brace">}</em>
<a id="L531" name="L531"></a> 531         <strong class="reserved">return</strong> -1;
<a id="L532" name="L532"></a> 532     <em class="brace">}</em>
<a id="L533" name="L533"></a> 533 
<a id="L534" name="L534"></a> 534     <em class="comment">// returns true if the given character is not</em>
<a id="L535" name="L535"></a> 535     <em class="comment">// valid with respect to the version of</em>
<a id="L536" name="L536"></a> 536     <em class="comment">// XML understood by this scanner.</em>
<a id="L537" name="L537"></a> 537     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21608.html" title="Multiple referred from 37 places.">isInvalid</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L538" name="L538"></a> 538         <strong class="reserved">return</strong> (<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26529.html" title="Multiple defined in 2 places.">isXML11Invalid</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L539" name="L539"></a> 539     <em class="brace">}</em> <em class="comment">// isInvalid(int):  boolean</em>
<a id="L540" name="L540"></a> 540 
<a id="L541" name="L541"></a> 541     <em class="comment">// returns true if the given character is not</em>
<a id="L542" name="L542"></a> 542     <em class="comment">// valid or may not be used outside a character reference</em>
<a id="L543" name="L543"></a> 543     <em class="comment">// with respect to the version of XML understood by this scanner.</em>
<a id="L544" name="L544"></a> 544     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21609.html" title="Multiple referred from 9 places.">isInvalidLiteral</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L545" name="L545"></a> 545         <strong class="reserved">return</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L546" name="L546"></a> 546     <em class="brace">}</em> <em class="comment">// isInvalidLiteral(int):  boolean</em>
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548     <em class="comment">// returns true if the given character is</em>
<a id="L549" name="L549"></a> 549     <em class="comment">// a valid nameChar with respect to the version of</em>
<a id="L550" name="L550"></a> 550     <em class="comment">// XML understood by this scanner.</em>
<a id="L551" name="L551"></a> 551     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/22184.html" title="Multiple referred from 4 places.">isValidNameChar</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L552" name="L552"></a> 552         <strong class="reserved">return</strong> (<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26532.html" title="Multiple defined in 2 places.">isXML11Name</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L553" name="L553"></a> 553     <em class="brace">}</em> <em class="comment">// isValidNameChar(int):  boolean</em>
<a id="L554" name="L554"></a> 554 
<a id="L555" name="L555"></a> 555     <em class="comment">// returns true if the given character is</em>
<a id="L556" name="L556"></a> 556     <em class="comment">// a valid nameStartChar with respect to the version of</em>
<a id="L557" name="L557"></a> 557     <em class="comment">// XML understood by this scanner.</em>
<a id="L558" name="L558"></a> 558     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/22185.html" title="Multiple referred from 4 places.">isValidNameStartChar</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559         <strong class="reserved">return</strong> (<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26534.html" title="Multiple defined in 2 places.">isXML11NameStart</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L560" name="L560"></a> 560     <em class="brace">}</em> <em class="comment">// isValidNameStartChar(int):  boolean</em>
<a id="L561" name="L561"></a> 561 
<a id="L562" name="L562"></a> 562     <em class="comment">// returns true if the given character is</em>
<a id="L563" name="L563"></a> 563     <em class="comment">// a valid NCName character with respect to the version of</em>
<a id="L564" name="L564"></a> 564     <em class="comment">// XML understood by this scanner.</em>
<a id="L565" name="L565"></a> 565     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/22182.html" title="Multiple referred from 15 places.">isValidNCName</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566         <strong class="reserved">return</strong> (<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26530.html" title="Multiple defined in 2 places.">isXML11NCName</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>));
<a id="L567" name="L567"></a> 567     <em class="brace">}</em> <em class="comment">// isValidNCName(int):  boolean</em>
<a id="L568" name="L568"></a> 568 
<a id="L569" name="L569"></a> 569     <em class="comment">// returns true if the given character is</em>
<a id="L570" name="L570"></a> 570     <em class="comment">// a valid high surrogate for a nameStartChar</em>
<a id="L571" name="L571"></a> 571     <em class="comment">// with respect to the version of XML understood</em>
<a id="L572" name="L572"></a> 572     <em class="comment">// by this scanner.</em>
<a id="L573" name="L573"></a> 573     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/22186.html" title="Multiple referred from 2 places.">isValidNameStartHighSurrogate</a>(<strong class="reserved">int</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L574" name="L574"></a> 574         <strong class="reserved">return</strong> <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26533.html" title="Multiple defined in 2 places.">isXML11NameHighSurrogate</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L575" name="L575"></a> 575     <em class="brace">}</em> <em class="comment">// isValidNameStartHighSurrogate(int):  boolean</em>
<a id="L576" name="L576"></a> 576 
<a id="L577" name="L577"></a> 577     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/5164.html#L447" title="Referred from 447 in src/com/sun/org/apache/xerces/internal/impl/XMLScanner.java.">versionSupported</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>) <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <strong class="reserved">return</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("1.1") || <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("1.0"));
<a id="L579" name="L579"></a> 579     <em class="brace">}</em> <em class="comment">// versionSupported(String):  boolean</em>
<a id="L580" name="L580"></a> 580 
<a id="L581" name="L581"></a> 581     <em class="comment">// returns the error message key for unsupported</em>
<a id="L582" name="L582"></a> 582     <em class="comment">// versions of XML with respect to the version of</em>
<a id="L583" name="L583"></a> 583     <em class="comment">// XML understood by this scanner.</em>
<a id="L584" name="L584"></a> 584     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getVersionNotSupportedKey () <em class="brace">{</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">return</strong> "VersionNotSupported11";
<a id="L586" name="L586"></a> 586     <em class="brace">}</em> <em class="comment">// getVersionNotSupportedKey: String</em>
<a id="L587" name="L587"></a> 587 
<a id="L588" name="L588"></a> 588 <em class="brace">}</em> <em class="comment">// class XML11DocumentScannerImpl</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L128">[^]</a><a href="#L584">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>