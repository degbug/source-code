<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/net/URLStreamHandler.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L71">[^]</a><a href="#L557">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L71" title="Defined at 71.">openConnection</a></li>
<li><a href="#L95" title="Defined at 95.">openConnection</a></li>
<li><a href="#L124" title="Defined at 124.">parseURL</a></li>
<li><a href="#L313" title="Defined at 313.">getDefaultPort</a></li>
<li><a href="#L329" title="Defined at 329.">equals</a></li>
<li><a href="#L344" title="Defined at 344.">hashCode</a></li>
<li><a href="#L392" title="Defined at 392.">sameFile</a></li>
<li><a href="#L427" title="Defined at 427.">getHostAddress</a></li>
<li><a href="#L454" title="Defined at 454.">hostsEqual</a></li>
<li><a href="#L474" title="Defined at 474.">toExternalForm</a></li>
<li><a href="#L529" title="Defined at 529.">setURL</a></li>
<li><a href="#L557" title="Defined at 557.">setURL</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.net;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.IOException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.File;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> sun.net.util.IPAddressUtil;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> sun.net.www.ParseUtil;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  The abstract class <code>URLStreamHandler</code> is the common
  superclass for all stream protocol handlers. A stream protocol
  handler knows how to make a connection for a particular protocol
  type, such as <code>http</code> or <code>https</code>.
  <p>
  In most cases, an instance of a <code>URLStreamHandler</code>
  subclass is not created directly by an application. Rather, the
  first time a protocol name is encountered when constructing a
  <code>URL</code>, the appropriate stream protocol handler is
  automatically loaded.
  @author  James Gosling
  @see     java.net.URL#URL(java.lang.String, java.lang.String, int, java.lang.String)
  @since   JDK1.0</p></div>
<a id="L52" name="L52"></a>  52 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/8414.html" title="Multiple referred from 9 places.">URLStreamHandler</a> <em class="brace">{</em>
<div class="comment">
      Opens a connection to the object referenced by the
      <code>URL</code> argument.
      This method should be overridden by a subclass.
      <p>If for the handler's protocol (such as HTTP or JAR), there
      exists a public, specialized URLConnection subclass belonging
      to one of the following packages or one of their subpackages:
      java.lang, java.io, java.util, java.net, the connection
      returned will be of that subclass. For example, for HTTP an
      HttpURLConnection will be returned, and for JAR a
      JarURLConnection will be returned.
      @param      u   the URL that this connects to.
      @return     a <code>URLConnection</code> object for the <code>URL</code>.
      @exception  IOException  if an I/O error occurs while opening the
                    connection.</p></div>
<a id="L71" name="L71"></a>  71     <strong class="reserved">abstract</strong> <strong class="reserved">protected</strong> <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> <a href="../R/23975.html" title="Multiple referred from 31 places.">openConnection</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>;
<a id="L72" name="L72"></a>  72 
<div class="comment">
      Same as openConnection(URL), except that the connection will be
      made through the specified proxy; Protocol handlers that do not
      support proxying will ignore the proxy parameter and make a
      normal connection.
      Calling this method preempts the system's default ProxySelector
      settings.
      @param      u   the URL that this connects to.
      @param      p   the proxy through which the connection will be made.
                      If direct connection is desired, Proxy.NO_PROXY
                      should be specified.
      @return     a <code>URLConnection</code> object for the <code>URL</code>.
      @exception  IOException  if an I/O error occurs while opening the
                    connection.
      @exception  IllegalArgumentException if either u or p is null,
                    or p has the wrong type.
      @exception  UnsupportedOperationException if the subclass that
                    implements the protocol doesn't support this method.
      @since      1.5</div>
<a id="L95" name="L95"></a>  95     <strong class="reserved">protected</strong> <a href="../S/758.html#L160" title="Defined at 160 in src/java/net/URLConnection.java.">URLConnection</a> <a href="../R/23975.html" title="Multiple referred from 31 places.">openConnection</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>, <a href="../D/6957.html" title="Multiple defined in 2 places.">Proxy</a> p) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L96" name="L96"></a>  96         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1777.html#L38" title="Defined at 38 in src/java/lang/UnsupportedOperationException.java.">UnsupportedOperationException</a>("Method not implemented.");
<a id="L97" name="L97"></a>  97     <em class="brace">}</em>
<a id="L98" name="L98"></a>  98 
<div class="comment">
      Parses the string representation of a <code>URL</code> into a
      <code>URL</code> object.
      <p>
      If there is any inherited context, then it has already been
      copied into the <code>URL</code> argument.
      </p><p>
      The <code>parseURL</code> method of <code>URLStreamHandler</code>
      parses the string representation as if it were an
      <code>http</code> specification. Most URL protocol families have a
      similar parsing. A stream protocol handler for a protocol that has
      a different syntax must override this routine.
      @param   u       the <code>URL</code> to receive the result of parsing
                       the spec.
      @param   spec    the <code>String</code> representing the URL that
                       must be parsed.
      @param   start   the character index at which to begin parsing. This is
                       just past the '<code>:</code>' (if there is one) that
                       specifies the determination of the protocol name.
      @param   limit   the character position to stop parsing at. This is the
                       end of the string or the position of the
                       "<code>#</code>" character, if present. All information
                       after the sharp sign indicates an anchor.</p></div>
<a id="L124" name="L124"></a> 124     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24637.html" title="Multiple referred from 11 places.">parseURL</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> spec, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) <em class="brace">{</em>
<a id="L125" name="L125"></a> 125         <em class="comment">// These fields may receive context content if this was relative URL</em>
<a id="L126" name="L126"></a> 126         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>();
<a id="L127" name="L127"></a> 127         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authority = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>();
<a id="L128" name="L128"></a> 128         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> userInfo = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/23491.html" title="Multiple defined in 2 places.">getUserInfo</a>();
<a id="L129" name="L129"></a> 129         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>();
<a id="L130" name="L130"></a> 130         <strong class="reserved">int</strong> port = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L131" name="L131"></a> 131         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>();
<a id="L132" name="L132"></a> 132         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21802.html" title="Multiple defined in 3 places.">getQuery</a>();
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134         <em class="comment">// This field has already been parsed</em>
<a id="L135" name="L135"></a> 135         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>();
<a id="L136" name="L136"></a> 136 
<a id="L137" name="L137"></a> 137         <strong class="reserved">boolean</strong> isRelPath = <strong class="reserved">false</strong>;
<a id="L138" name="L138"></a> 138         <strong class="reserved">boolean</strong> queryOnly = <strong class="reserved">false</strong>;
<a id="L139" name="L139"></a> 139 
<a id="L140" name="L140"></a> 140 <em class="comment">// FIX: should not assume query if opaque</em>
<a id="L141" name="L141"></a> 141         <em class="comment">// Strip off the query part</em>
<a id="L142" name="L142"></a> 142         <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) <em class="brace">{</em>
<a id="L143" name="L143"></a> 143             <strong class="reserved">int</strong> queryStart = spec.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('?');
<a id="L144" name="L144"></a> 144             queryOnly = queryStart == <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L145" name="L145"></a> 145             <strong class="reserved">if</strong> ((queryStart != -1) &amp;&amp; (queryStart &lt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>)) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146                 <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(queryStart+1, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L147" name="L147"></a> 147                 <strong class="reserved">if</strong> (<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> &gt; queryStart)
<a id="L148" name="L148"></a> 148                     <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = queryStart;
<a id="L149" name="L149"></a> 149                 spec = spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, queryStart);
<a id="L150" name="L150"></a> 150             <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153         <strong class="reserved">int</strong> i = 0;
<a id="L154" name="L154"></a> 154         <em class="comment">// Parse the authority part if any</em>
<a id="L155" name="L155"></a> 155         <strong class="reserved">boolean</strong> isUNCName = (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt;= <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> - 4) &amp;&amp;
<a id="L156" name="L156"></a> 156                         (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) == '/') &amp;&amp;
<a id="L157" name="L157"></a> 157                         (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 1) == '/') &amp;&amp;
<a id="L158" name="L158"></a> 158                         (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 2) == '/') &amp;&amp;
<a id="L159" name="L159"></a> 159                         (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 3) == '/');
<a id="L160" name="L160"></a> 160         <strong class="reserved">if</strong> (!isUNCName &amp;&amp; (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt;= <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> - 2) &amp;&amp; (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) == '/') &amp;&amp;
<a id="L161" name="L161"></a> 161             (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + 1) == '/')) <em class="brace">{</em>
<a id="L162" name="L162"></a> 162             <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> += 2;
<a id="L163" name="L163"></a> 163             i = spec.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('/', <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L164" name="L164"></a> 164             <strong class="reserved">if</strong> (i &lt; 0) <em class="brace">{</em>
<a id="L165" name="L165"></a> 165                 i = spec.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('?', <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L166" name="L166"></a> 166                 <strong class="reserved">if</strong> (i &lt; 0)
<a id="L167" name="L167"></a> 167                     i = <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>;
<a id="L168" name="L168"></a> 168             <em class="brace">}</em>
<a id="L169" name="L169"></a> 169 
<a id="L170" name="L170"></a> 170             host = authority = spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, i);
<a id="L171" name="L171"></a> 171 
<a id="L172" name="L172"></a> 172             <strong class="reserved">int</strong> ind = authority.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('@');
<a id="L173" name="L173"></a> 173             <strong class="reserved">if</strong> (ind != -1) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174                 userInfo = authority.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ind);
<a id="L175" name="L175"></a> 175                 host = authority.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(ind+1);
<a id="L176" name="L176"></a> 176             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L177" name="L177"></a> 177                 userInfo = <strong class="reserved">null</strong>;
<a id="L178" name="L178"></a> 178             <em class="brace">}</em>
<a id="L179" name="L179"></a> 179             <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L180" name="L180"></a> 180                 <em class="comment">// If the host is surrounded by [ and ] then its an IPv6</em>
<a id="L181" name="L181"></a> 181                 <em class="comment">// literal address as specified in RFC2732</em>
<a id="L182" name="L182"></a> 182                 <strong class="reserved">if</strong> (host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()&gt;0 &amp;&amp; (host.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '[')) <em class="brace">{</em>
<a id="L183" name="L183"></a> 183                     <strong class="reserved">if</strong> ((ind = host.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(']')) &gt; 2) <em class="brace">{</em>
<a id="L184" name="L184"></a> 184 
<a id="L185" name="L185"></a> 185                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nhost = host ;
<a id="L186" name="L186"></a> 186                         host = nhost.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0,ind+1);
<a id="L187" name="L187"></a> 187                         <strong class="reserved">if</strong> (!IPAddressUtil.
<a id="L188" name="L188"></a> 188                             isIPv6LiteralAddress(host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1, ind))) <em class="brace">{</em>
<a id="L189" name="L189"></a> 189                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L190" name="L190"></a> 190                                 "Invalid host: "+ host);
<a id="L191" name="L191"></a> 191                         <em class="brace">}</em>
<a id="L192" name="L192"></a> 192 
<a id="L193" name="L193"></a> 193                         port = -1 ;
<a id="L194" name="L194"></a> 194                         <strong class="reserved">if</strong> (nhost.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; ind+1) <em class="brace">{</em>
<a id="L195" name="L195"></a> 195                             <strong class="reserved">if</strong> (nhost.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(ind+1) == ':') <em class="brace">{</em>
<a id="L196" name="L196"></a> 196                                 ++ind ;
<a id="L197" name="L197"></a> 197                                 <em class="comment">// port can be null according to RFC2396</em>
<a id="L198" name="L198"></a> 198                                 <strong class="reserved">if</strong> (nhost.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; (ind + 1)) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199                                     port = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(nhost.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(ind+1));
<a id="L200" name="L200"></a> 200                                 <em class="brace">}</em>
<a id="L201" name="L201"></a> 201                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L203" name="L203"></a> 203                                     "Invalid authority field: " + authority);
<a id="L204" name="L204"></a> 204                             <em class="brace">}</em>
<a id="L205" name="L205"></a> 205                         <em class="brace">}</em>
<a id="L206" name="L206"></a> 206                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L207" name="L207"></a> 207                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(
<a id="L208" name="L208"></a> 208                             "Invalid authority field: " + authority);
<a id="L209" name="L209"></a> 209                     <em class="brace">}</em>
<a id="L210" name="L210"></a> 210                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L211" name="L211"></a> 211                     ind = host.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>(':');
<a id="L212" name="L212"></a> 212                     port = -1;
<a id="L213" name="L213"></a> 213                     <strong class="reserved">if</strong> (ind &gt;= 0) <em class="brace">{</em>
<a id="L214" name="L214"></a> 214                         <em class="comment">// port can be null according to RFC2396</em>
<a id="L215" name="L215"></a> 215                         <strong class="reserved">if</strong> (host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; (ind + 1)) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216                             port = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/29148.html" title="Multiple defined in 9 places.">parseInt</a>(host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(ind + 1));
<a id="L217" name="L217"></a> 217                         <em class="brace">}</em>
<a id="L218" name="L218"></a> 218                         host = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ind);
<a id="L219" name="L219"></a> 219                     <em class="brace">}</em>
<a id="L220" name="L220"></a> 220                 <em class="brace">}</em>
<a id="L221" name="L221"></a> 221             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L222" name="L222"></a> 222                 host = "";
<a id="L223" name="L223"></a> 223             <em class="brace">}</em>
<a id="L224" name="L224"></a> 224             <strong class="reserved">if</strong> (port &lt; -1)
<a id="L225" name="L225"></a> 225                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid port number :" +
<a id="L226" name="L226"></a> 226                                                    port);
<a id="L227" name="L227"></a> 227             <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = i;
<a id="L228" name="L228"></a> 228             <em class="comment">// If the authority is defined then the path is defined by the</em>
<a id="L229" name="L229"></a> 229             <em class="comment">// spec only; See RFC 2396 Section 5.2.4.</em>
<a id="L230" name="L230"></a> 230             <strong class="reserved">if</strong> (authority != <strong class="reserved">null</strong> &amp;&amp; authority.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L231" name="L231"></a> 231                 path = "";
<a id="L232" name="L232"></a> 232         <em class="brace">}</em>
<a id="L233" name="L233"></a> 233 
<a id="L234" name="L234"></a> 234         <strong class="reserved">if</strong> (host == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L235" name="L235"></a> 235             host = "";
<a id="L236" name="L236"></a> 236         <em class="brace">}</em>
<a id="L237" name="L237"></a> 237 
<a id="L238" name="L238"></a> 238         <em class="comment">// Parse the file path if any</em>
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240             <strong class="reserved">if</strong> (spec.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>) == '/') <em class="brace">{</em>
<a id="L241" name="L241"></a> 241                 path = spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L242" name="L242"></a> 242             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (path != <strong class="reserved">null</strong> &amp;&amp; path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L243" name="L243"></a> 243                 isRelPath = <strong class="reserved">true</strong>;
<a id="L244" name="L244"></a> 244                 <strong class="reserved">int</strong> ind = path.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('/');
<a id="L245" name="L245"></a> 245                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> seperator = "";
<a id="L246" name="L246"></a> 246                 <strong class="reserved">if</strong> (ind == -1 &amp;&amp; authority != <strong class="reserved">null</strong>)
<a id="L247" name="L247"></a> 247                     seperator = "/";
<a id="L248" name="L248"></a> 248                 path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ind + 1) + seperator +
<a id="L249" name="L249"></a> 249                          spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L250" name="L250"></a> 250 
<a id="L251" name="L251"></a> 251             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L252" name="L252"></a> 252                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> seperator = (authority != <strong class="reserved">null</strong>) ? "/" : "";
<a id="L253" name="L253"></a> 253                 path = seperator + spec.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>);
<a id="L254" name="L254"></a> 254             <em class="brace">}</em>
<a id="L255" name="L255"></a> 255         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (queryOnly &amp;&amp; path != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L256" name="L256"></a> 256             <strong class="reserved">int</strong> ind = path.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('/');
<a id="L257" name="L257"></a> 257             <strong class="reserved">if</strong> (ind &lt; 0)
<a id="L258" name="L258"></a> 258                 ind = 0;
<a id="L259" name="L259"></a> 259             path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, ind) + "/";
<a id="L260" name="L260"></a> 260         <em class="brace">}</em>
<a id="L261" name="L261"></a> 261         <strong class="reserved">if</strong> (path == <strong class="reserved">null</strong>)
<a id="L262" name="L262"></a> 262             path = "";
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264         <strong class="reserved">if</strong> (isRelPath) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265             <em class="comment">// Remove embedded /./</em>
<a id="L266" name="L266"></a> 266             <strong class="reserved">while</strong> ((i = path.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("/./")) &gt;= 0) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267                 path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, i) + path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(i + 2);
<a id="L268" name="L268"></a> 268             <em class="brace">}</em>
<a id="L269" name="L269"></a> 269             <em class="comment">// Remove embedded /../ if possible</em>
<a id="L270" name="L270"></a> 270             i = 0;
<a id="L271" name="L271"></a> 271             <strong class="reserved">while</strong> ((i = path.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("/../", i)) &gt;= 0) <em class="brace">{</em>
<div class="comment">
                  A "/../" will cancel the previous segment and itself,
                  unless that segment is a "/../" itself
                  i.e. "/a/b/../c" becomes "/a/c"
                  but "/../../a" should stay unchanged</div>
<a id="L278" name="L278"></a> 278                 <strong class="reserved">if</strong> (i &gt; 0 &amp;&amp; (<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = path.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('/', i - 1)) &gt;= 0 &amp;&amp;
<a id="L279" name="L279"></a> 279                     (path.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("/../", <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) != 0)) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280                     path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>) + path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(i + 3);
<a id="L281" name="L281"></a> 281                     i = 0;
<a id="L282" name="L282"></a> 282                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L283" name="L283"></a> 283                     i = i + 3;
<a id="L284" name="L284"></a> 284                 <em class="brace">}</em>
<a id="L285" name="L285"></a> 285             <em class="brace">}</em>
<a id="L286" name="L286"></a> 286             <em class="comment">// Remove trailing .. if possible</em>
<a id="L287" name="L287"></a> 287             <strong class="reserved">while</strong> (path.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("/..")) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288                 i = path.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("/..");
<a id="L289" name="L289"></a> 289                 <strong class="reserved">if</strong> ((<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a> = path.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('/', i - 1)) &gt;= 0) <em class="brace">{</em>
<a id="L290" name="L290"></a> 290                     path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>+1);
<a id="L291" name="L291"></a> 291                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L292" name="L292"></a> 292                     <strong class="reserved">break</strong>;
<a id="L293" name="L293"></a> 293                 <em class="brace">}</em>
<a id="L294" name="L294"></a> 294             <em class="brace">}</em>
<a id="L295" name="L295"></a> 295             <em class="comment">// Remove starting .</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">if</strong> (path.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("./") &amp;&amp; path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 2)
<a id="L297" name="L297"></a> 297                 path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(2);
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299             <em class="comment">// Remove trailing .</em>
<a id="L300" name="L300"></a> 300             <strong class="reserved">if</strong> (path.<a href="../D/15495.html" title="Multiple defined in 12 places.">endsWith</a>("/."))
<a id="L301" name="L301"></a> 301                 path = path.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, path.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() -1);
<a id="L302" name="L302"></a> 302         <em class="brace">}</em>
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304         <a href="../D/34209.html" title="Multiple defined in 7 places.">setURL</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>, protocol, host, port, authority, userInfo, path, <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>);
<a id="L305" name="L305"></a> 305     <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<div class="comment">
      Returns the default port for a URL parsed by this handler. This method
      is meant to be overidden by handlers with default port numbers.
      @return the default port for a <code>URL</code> parsed by this handler.
      @since 1.3</div>
<a id="L313" name="L313"></a> 313     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/16058.html" title="Multiple referred from 5 places.">getDefaultPort</a>() <em class="brace">{</em>
<a id="L314" name="L314"></a> 314         <strong class="reserved">return</strong> -1;
<a id="L315" name="L315"></a> 315     <em class="brace">}</em>
<a id="L316" name="L316"></a> 316 
<div class="comment">
      Provides the default equals calculation. May be overidden by handlers
      for other protocols that have different requirements for equals().
      This method requires that none of its arguments is null. This is
      guaranteed by the fact that it is only called by java.net.URL class.
      @param u1 a URL object
      @param u2 a URL object
      @return <code>true</code> if the two urls are
      considered equal, ie. they refer to the same
      fragment in the same file.
      @since 1.3</div>
<a id="L329" name="L329"></a> 329     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u1, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u2) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ref1 = u1.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>();
<a id="L331" name="L331"></a> 331         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ref2 = u2.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>();
<a id="L332" name="L332"></a> 332         <strong class="reserved">return</strong> (ref1 == ref2 || (ref1 != <strong class="reserved">null</strong> &amp;&amp; ref1.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(ref2))) &amp;&amp;
<a id="L333" name="L333"></a> 333                <a href="../D/31527.html" title="Multiple defined in 2 places.">sameFile</a>(u1, u2);
<a id="L334" name="L334"></a> 334     <em class="brace">}</em>
<a id="L335" name="L335"></a> 335 
<div class="comment">
      Provides the default hash calculation. May be overidden by handlers for
      other protocols that have different requirements for hashCode
      calculation.
      @param u a URL object
      @return an <code>int</code> suitable for hash table indexing
      @since 1.3</div>
<a id="L344" name="L344"></a> 344     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">int</strong> h = 0;
<a id="L346" name="L346"></a> 346 
<a id="L347" name="L347"></a> 347         <em class="comment">// Generate the protocol part.</em>
<a id="L348" name="L348"></a> 348         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>();
<a id="L349" name="L349"></a> 349         <strong class="reserved">if</strong> (protocol != <strong class="reserved">null</strong>)
<a id="L350" name="L350"></a> 350             h += protocol.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L351" name="L351"></a> 351 
<a id="L352" name="L352"></a> 352         <em class="comment">// Generate the host part.</em>
<a id="L353" name="L353"></a> 353         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> addr = <a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>);
<a id="L354" name="L354"></a> 354         <strong class="reserved">if</strong> (addr != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355             h += addr.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L356" name="L356"></a> 356         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L357" name="L357"></a> 357             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>();
<a id="L358" name="L358"></a> 358             <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong>)
<a id="L359" name="L359"></a> 359                 h += host.<a href="../D/35437.html" title="Multiple defined in 19 places.">toLowerCase</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362         <em class="comment">// Generate the file part.</em>
<a id="L363" name="L363"></a> 363         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>();
<a id="L364" name="L364"></a> 364         <strong class="reserved">if</strong> (<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> != <strong class="reserved">null</strong>)
<a id="L365" name="L365"></a> 365             h += <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L366" name="L366"></a> 366 
<a id="L367" name="L367"></a> 367         <em class="comment">// Generate the port part.</em>
<a id="L368" name="L368"></a> 368         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() == -1)
<a id="L369" name="L369"></a> 369             h += <a href="../D/18340.html" title="Multiple defined in 2 places.">getDefaultPort</a>();
<a id="L370" name="L370"></a> 370         <strong class="reserved">else</strong>
<a id="L371" name="L371"></a> 371             h += <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>();
<a id="L372" name="L372"></a> 372 
<a id="L373" name="L373"></a> 373         <em class="comment">// Generate the ref part.</em>
<a id="L374" name="L374"></a> 374         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>();
<a id="L375" name="L375"></a> 375         <strong class="reserved">if</strong> (<a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a> != <strong class="reserved">null</strong>)
<a id="L376" name="L376"></a> 376             h += <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L377" name="L377"></a> 377 
<a id="L378" name="L378"></a> 378         <strong class="reserved">return</strong> h;
<a id="L379" name="L379"></a> 379     <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<div class="comment">
      Compare two urls to see whether they refer to the same file,
      i.e., having the same protocol, host, port, and path.
      This method requires that none of its arguments is null. This is
      guaranteed by the fact that it is only called indirectly
      by java.net.URL class.
      @param u1 a URL object
      @param u2 a URL object
      @return true if u1 and u2 refer to the same file
      @since 1.3</div>
<a id="L392" name="L392"></a> 392     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/26581.html" title="Multiple referred from 3 places.">sameFile</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u1, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u2) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393         <em class="comment">// Compare the protocols.</em>
<a id="L394" name="L394"></a> 394         <strong class="reserved">if</strong> (!((u1.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>() == u2.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>()) ||
<a id="L395" name="L395"></a> 395               (u1.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>() != <strong class="reserved">null</strong> &amp;&amp;
<a id="L396" name="L396"></a> 396                u1.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>().<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(u2.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>()))))
<a id="L397" name="L397"></a> 397             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L398" name="L398"></a> 398 
<a id="L399" name="L399"></a> 399         <em class="comment">// Compare the files.</em>
<a id="L400" name="L400"></a> 400         <strong class="reserved">if</strong> (!(u1.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>() == u2.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>() ||
<a id="L401" name="L401"></a> 401               (u1.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>() != <strong class="reserved">null</strong> &amp;&amp; u1.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(u2.<a href="../D/19040.html" title="Multiple defined in 3 places.">getFile</a>()))))
<a id="L402" name="L402"></a> 402             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L403" name="L403"></a> 403 
<a id="L404" name="L404"></a> 404         <em class="comment">// Compare the ports.</em>
<a id="L405" name="L405"></a> 405         <strong class="reserved">int</strong> port1, port2;
<a id="L406" name="L406"></a> 406         port1 = (u1.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() != -1) ? u1.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() : u1.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/18340.html" title="Multiple defined in 2 places.">getDefaultPort</a>();
<a id="L407" name="L407"></a> 407         port2 = (u2.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() != -1) ? u2.<a href="../D/21541.html" title="Multiple defined in 42 places.">getPort</a>() : u2.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>.<a href="../D/18340.html" title="Multiple defined in 2 places.">getDefaultPort</a>();
<a id="L408" name="L408"></a> 408         <strong class="reserved">if</strong> (port1 != port2)
<a id="L409" name="L409"></a> 409             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L410" name="L410"></a> 410 
<a id="L411" name="L411"></a> 411         <em class="comment">// Compare the hosts.</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">if</strong> (!<a href="../S/780.html#L454" title="Defined at 454 in src/java/net/URLStreamHandler.java.">hostsEqual</a>(u1, u2))
<a id="L413" name="L413"></a> 413             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L416" name="L416"></a> 416     <em class="brace">}</em>
<a id="L417" name="L417"></a> 417 
<div class="comment">
      Get the IP address of our host. An empty host field or a DNS failure
      will result in a null return.
      @param u a URL object
      @return an <code>InetAddress</code> representing the host
      IP address.
      @since 1.3</div>
<a id="L427" name="L427"></a> 427     <strong class="reserved">protected</strong> <strong class="reserved">synchronized</strong> <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../R/16911.html" title="Multiple referred from 34 places.">getHostAddress</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>) <em class="brace">{</em>
<a id="L428" name="L428"></a> 428         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.hostAddress != <strong class="reserved">null</strong>)
<a id="L429" name="L429"></a> 429             <strong class="reserved">return</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.hostAddress;
<a id="L430" name="L430"></a> 430 
<a id="L431" name="L431"></a> 431         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>();
<a id="L432" name="L432"></a> 432         <strong class="reserved">if</strong> (host == <strong class="reserved">null</strong> || host.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>("")) <em class="brace">{</em>
<a id="L433" name="L433"></a> 433             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L434" name="L434"></a> 434         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L435" name="L435"></a> 435             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L436" name="L436"></a> 436                 <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.hostAddress = <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a>.<a href="../D/17396.html" title="Multiple defined in 3 places.">getByName</a>(host);
<a id="L437" name="L437"></a> 437             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/9351.html" title="Multiple defined in 2 places.">UnknownHostException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L439" name="L439"></a> 439             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L441" name="L441"></a> 441             <em class="brace">}</em>
<a id="L442" name="L442"></a> 442         <em class="brace">}</em>
<a id="L443" name="L443"></a> 443         <strong class="reserved">return</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.hostAddress;
<a id="L444" name="L444"></a> 444     <em class="brace">}</em>
<a id="L445" name="L445"></a> 445 
<div class="comment">
      Compares the host components of two URLs.
      @param u1 the URL of the first host to compare
      @param u2 the URL of the second host to compare
      @return  <code>true</code> if and only if they
      are equal, <code>false</code> otherwise.
      @since 1.3</div>
<a id="L454" name="L454"></a> 454     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/780.html#L412" title="Referred from 412 in src/java/net/URLStreamHandler.java.">hostsEqual</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u1, <a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> u2) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> a1 = <a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(u1);
<a id="L456" name="L456"></a> 456         <a href="../S/826.html#L189" title="Defined at 189 in src/java/net/InetAddress.java.">InetAddress</a> <a href="../S/1166.html#L50" title="Defined at 50 in src/java/util/logging/XMLFormatter.java.">a2</a> = <a href="../D/19491.html" title="Multiple defined in 5 places.">getHostAddress</a>(u2);
<a id="L457" name="L457"></a> 457         <em class="comment">// if we have internet address for both, compare them</em>
<a id="L458" name="L458"></a> 458         <strong class="reserved">if</strong> (a1 != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1166.html#L50" title="Defined at 50 in src/java/util/logging/XMLFormatter.java.">a2</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459             <strong class="reserved">return</strong> a1.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1166.html#L50" title="Defined at 50 in src/java/util/logging/XMLFormatter.java.">a2</a>);
<a id="L460" name="L460"></a> 460         <em class="comment">// else, if both have host names, compare them</em>
<a id="L461" name="L461"></a> 461         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (u1.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>() != <strong class="reserved">null</strong> &amp;&amp; u2.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>() != <strong class="reserved">null</strong>)
<a id="L462" name="L462"></a> 462             <strong class="reserved">return</strong> u1.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>().<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(u2.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>());
<a id="L463" name="L463"></a> 463          <strong class="reserved">else</strong>
<a id="L464" name="L464"></a> 464             <strong class="reserved">return</strong> u1.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>() == <strong class="reserved">null</strong> &amp;&amp; u2.<a href="../D/19490.html" title="Multiple defined in 17 places.">getHost</a>() == <strong class="reserved">null</strong>;
<a id="L465" name="L465"></a> 465     <em class="brace">}</em>
<a id="L466" name="L466"></a> 466 
<div class="comment">
      Converts a <code>URL</code> of a specific protocol to a
      <code>String</code>.
      @param   u   the URL.
      @return  a string representation of the <code>URL</code> argument.</div>
<a id="L474" name="L474"></a> 474     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29254.html" title="Multiple referred from 9 places.">toExternalForm</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>) <em class="brace">{</em>
<a id="L475" name="L475"></a> 475 
<a id="L476" name="L476"></a> 476         <em class="comment">// pre-compute length of StringBuffer</em>
<a id="L477" name="L477"></a> 477         <strong class="reserved">int</strong> len = <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() + 1;
<a id="L478" name="L478"></a> 478         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>() != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0)
<a id="L479" name="L479"></a> 479             len += 2 + <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L480" name="L480"></a> 480         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481             len += <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L482" name="L482"></a> 482         <em class="brace">}</em>
<a id="L483" name="L483"></a> 483         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21802.html" title="Multiple defined in 3 places.">getQuery</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484             len += 1 + <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21802.html" title="Multiple defined in 3 places.">getQuery</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L485" name="L485"></a> 485         <em class="brace">}</em>
<a id="L486" name="L486"></a> 486         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>() != <strong class="reserved">null</strong>)
<a id="L487" name="L487"></a> 487             len += 1 + <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(len);
<a id="L490" name="L490"></a> 490         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>());
<a id="L491" name="L491"></a> 491         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(":");
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>() != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("//");
<a id="L494" name="L494"></a> 494             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/17127.html" title="Multiple defined in 3 places.">getAuthority</a>());
<a id="L495" name="L495"></a> 495         <em class="brace">}</em>
<a id="L496" name="L496"></a> 496         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>());
<a id="L498" name="L498"></a> 498         <em class="brace">}</em>
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21802.html" title="Multiple defined in 3 places.">getQuery</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('?');
<a id="L501" name="L501"></a> 501             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21802.html" title="Multiple defined in 3 places.">getQuery</a>());
<a id="L502" name="L502"></a> 502         <em class="brace">}</em>
<a id="L503" name="L503"></a> 503         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("#");
<a id="L505" name="L505"></a> 505             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21910.html" title="Multiple defined in 7 places.">getRef</a>());
<a id="L506" name="L506"></a> 506         <em class="brace">}</em>
<a id="L507" name="L507"></a> 507         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L508" name="L508"></a> 508     <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<div class="comment">
      Sets the fields of the <code>URL</code> argument to the indicated values.
      Only classes derived from URLStreamHandler are able
      to use this method to set the values of the URL fields.
      @param   u         the URL to modify.
      @param   protocol  the protocol name.
      @param   host      the remote host value for the URL.
      @param   port      the port on the remote machine.
      @param   authority the authority part for the URL.
      @param   userInfo the userInfo part of the URL.
      @param   path      the path component of the URL.
      @param   query     the query part for the URL.
      @param   ref       the reference.
      @exception       SecurityException       if the protocol handler of the URL is
                                       different from this one
      @see     java.net.URL#set(java.lang.String, java.lang.String, int, java.lang.String, java.lang.String)
      @since 1.3</div>
<a id="L529" name="L529"></a> 529        <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28341.html" title="Multiple referred from 2 places.">setURL</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port,
<a id="L530" name="L530"></a> 530                              <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authority, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> userInfo, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path,
<a id="L531" name="L531"></a> 531                              <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>) <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> != <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>) <em class="brace">{</em>
<a id="L533" name="L533"></a> 533             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>("handler for url different from " +
<a id="L534" name="L534"></a> 534                                         "this handler");
<a id="L535" name="L535"></a> 535         <em class="brace">}</em>
<a id="L536" name="L536"></a> 536         <em class="comment">// ensure that no one can reset the protocol on a given URL.</em>
<a id="L537" name="L537"></a> 537         <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>.<a href="../D/21751.html" title="Multiple defined in 10 places.">getProtocol</a>(), host, port, authority, userInfo, path, <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>);
<a id="L538" name="L538"></a> 538     <em class="brace">}</em>
<a id="L539" name="L539"></a> 539 
<div class="comment">
      Sets the fields of the <code>URL</code> argument to the indicated values.
      Only classes derived from URLStreamHandler are able
      to use this method to set the values of the URL fields.
      @param   u         the URL to modify.
      @param   protocol  the protocol name. This value is ignored since 1.2.
      @param   host      the remote host value for the URL.
      @param   port      the port on the remote machine.
      @param   file      the file.
      @param   ref       the reference.
      @exception       SecurityException       if the protocol handler of the URL is
                                       different from this one
      @deprecated Use setURL(URL, String, String, int, String, String, String,
                  String);</div>
<a id="L556" name="L556"></a> 556     @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L557" name="L557"></a> 557     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/28341.html" title="Multiple referred from 2 places.">setURL</a>(<a href="../D/9256.html" title="Multiple defined in 2 places.">URL</a> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> protocol, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> host, <strong class="reserved">int</strong> port,
<a id="L558" name="L558"></a> 558                           <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>) <em class="brace">{</em>
<div class="comment">
          Only old URL handlers call this, so assume that the host
          field might contain "user:passwd@host". Fix as necessary.</div>
<a id="L563" name="L563"></a> 563         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> authority = <strong class="reserved">null</strong>;
<a id="L564" name="L564"></a> 564         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> userInfo = <strong class="reserved">null</strong>;
<a id="L565" name="L565"></a> 565         <strong class="reserved">if</strong> (host != <strong class="reserved">null</strong> &amp;&amp; host.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566             authority = (port == -1) ? host : host + ":" + port;
<a id="L567" name="L567"></a> 567             <strong class="reserved">int</strong> <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> = host.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('@');
<a id="L568" name="L568"></a> 568             <strong class="reserved">if</strong> (<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a> != -1) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569                 userInfo = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, <a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>);
<a id="L570" name="L570"></a> 570                 host = host.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/11601.html" title="Multiple defined in 3 places.">at</a>+1);
<a id="L571" name="L571"></a> 571             <em class="brace">}</em>
<a id="L572" name="L572"></a> 572         <em class="brace">}</em>
<a id="L573" name="L573"></a> 573 
<div class="comment">
          Assume file might contain query part. Fix as necessary.</div>
<a id="L577" name="L577"></a> 577         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> path = <strong class="reserved">null</strong>;
<a id="L578" name="L578"></a> 578         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <strong class="reserved">null</strong>;
<a id="L579" name="L579"></a> 579         <strong class="reserved">if</strong> (<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L580" name="L580"></a> 580             <strong class="reserved">int</strong> q = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/26748.html" title="Multiple defined in 44 places.">lastIndexOf</a>('?');
<a id="L581" name="L581"></a> 581             <strong class="reserved">if</strong> (q != -1) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582                 <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(q+1);
<a id="L583" name="L583"></a> 583                 path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, q);
<a id="L584" name="L584"></a> 584             <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L585" name="L585"></a> 585                 path = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>;
<a id="L586" name="L586"></a> 586         <em class="brace">}</em>
<a id="L587" name="L587"></a> 587         <a href="../D/34209.html" title="Multiple defined in 7 places.">setURL</a>(<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>, protocol, host, port, authority, userInfo, path, <a href="../D/30057.html" title="Multiple defined in 20 places.">query</a>, <a href="../S/986.html#L2252" title="Defined at 2252 in src/java/util/regex/Pattern.java.">ref</a>);
<a id="L588" name="L588"></a> 588     <em class="brace">}</em>
<a id="L589" name="L589"></a> 589 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L71">[^]</a><a href="#L557">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>