<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/JTextComponent.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L320">[^]</a><a href="#L5023">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L320" title="Defined at 320.">getUI</a></li>
<li><a href="#L327" title="Defined at 327.">setUI</a></li>
<li><a href="#L337" title="Defined at 337.">updateUI</a></li>
<li><a href="#L349" title="Defined at 349.">addCaretListener</a></li>
<li><a href="#L359" title="Defined at 359.">removeCaretListener</a></li>
<li><a href="#L376" title="Defined at 376.">getCaretListeners</a></li>
<li><a href="#L390" title="Defined at 390.">fireCaretUpdate</a></li>
<li><a href="#L415" title="Defined at 415.">setDocument</a></li>
<li><a href="#L470" title="Defined at 470.">getDocument</a></li>
<li><a href="#L475" title="Defined at 475.">setComponentOrientation</a></li>
<li><a href="#L497" title="Defined at 497.">getActions</a></li>
<li><a href="#L516" title="Defined at 516.">setMargin</a></li>
<li><a href="#L529" title="Defined at 529.">getMargin</a></li>
<li><a href="#L540" title="Defined at 540.">setNavigationFilter</a></li>
<li><a href="#L553" title="Defined at 553.">getNavigationFilter</a></li>
<li><a href="#L564" title="Defined at 564.">getCaret</a></li>
<li><a href="#L581" title="Defined at 581.">setCaret</a></li>
<li><a href="#L600" title="Defined at 600.">getHighlighter</a></li>
<li><a href="#L619" title="Defined at 619.">setHighlighter</a></li>
<li><a href="#L644" title="Defined at 644.">setKeymap</a></li>
<li><a href="#L684" title="Defined at 684.">setDragEnabled</a></li>
<li><a href="#L698" title="Defined at 698.">getDragEnabled</a></li>
<li><a href="#L728" title="Defined at 728.">setDropMode</a></li>
<li><a href="#L748" title="Defined at 748.">getDropMode</a></li>
<li><a href="#L783" title="Defined at 783.">dropLocationForPoint</a></li>
<li><a href="#L835" title="Defined at 835.">setDropLocation</a></li>
<li><a href="#L947" title="Defined at 947.">getDropLocation</a></li>
<li><a href="#L958" title="Defined at 958.">updateInputMap</a></li>
<li><a href="#L1040" title="Defined at 1040.">getKeymap</a></li>
<li><a href="#L1059" title="Defined at 1059.">addKeymap</a></li>
<li><a href="#L1075" title="Defined at 1075.">removeKeymap</a></li>
<li><a href="#L1086" title="Defined at 1086.">getKeymap</a></li>
<li><a href="#L1090" title="Defined at 1090.">getKeymapTable</a></li>
<li><a href="#L1178" title="Defined at 1178.">loadKeymap</a></li>
<li><a href="#L1198" title="Defined at 1198.">getCaretColor</a></li>
<li><a href="#L1215" title="Defined at 1215.">setCaretColor</a></li>
<li><a href="#L1227" title="Defined at 1227.">getSelectionColor</a></li>
<li><a href="#L1244" title="Defined at 1244.">setSelectionColor</a></li>
<li><a href="#L1256" title="Defined at 1256.">getSelectedTextColor</a></li>
<li><a href="#L1273" title="Defined at 1273.">setSelectedTextColor</a></li>
<li><a href="#L1285" title="Defined at 1285.">getDisabledTextColor</a></li>
<li><a href="#L1301" title="Defined at 1301.">setDisabledTextColor</a></li>
<li><a href="#L1320" title="Defined at 1320.">replaceSelection</a></li>
<li><a href="#L1356" title="Defined at 1356.">getText</a></li>
<li><a href="#L1376" title="Defined at 1376.">modelToView</a></li>
<li><a href="#L1394" title="Defined at 1394.">viewToModel</a></li>
<li><a href="#L1407" title="Defined at 1407.">cut</a></li>
<li><a href="#L1422" title="Defined at 1422.">copy</a></li>
<li><a href="#L1438" title="Defined at 1438.">paste</a></li>
<li><a href="#L1451" title="Defined at 1451.">invokeAction</a></li>
<li><a href="#L1473" title="Defined at 1473.">installDefaultTransferHandlerIfNecessary</a></li>
<li><a href="#L1496" title="Defined at 1496.">moveCaretPosition</a></li>
<li><a href="#L1529" title="Defined at 1529.">setFocusAccelerator</a></li>
<li><a href="#L1547" title="Defined at 1547.">getFocusAccelerator</a></li>
<li><a href="#L1570" title="Defined at 1570.">read</a></li>
<li><a href="#L1592" title="Defined at 1592.">write</a></li>
<li><a href="#L1601" title="Defined at 1601.">removeNotify</a></li>
<li><a href="#L1625" title="Defined at 1625.">setCaretPosition</a></li>
<li><a href="#L1643" title="Defined at 1643.">getCaretPosition</a></li>
<li><a href="#L1665" title="Defined at 1665.">setText</a></li>
<li><a href="#L1693" title="Defined at 1693.">getText</a></li>
<li><a href="#L1714" title="Defined at 1714.">getSelectedText</a></li>
<li><a href="#L1736" title="Defined at 1736.">isEditable</a></li>
<li><a href="#L1752" title="Defined at 1752.">setEditable</a></li>
<li><a href="#L1769" title="Defined at 1769.">getSelectionStart</a></li>
<li><a href="#L1788" title="Defined at 1788.">setSelectionStart</a></li>
<li><a href="#L1802" title="Defined at 1802.">getSelectionEnd</a></li>
<li><a href="#L1821" title="Defined at 1821.">setSelectionEnd</a></li>
<li><a href="#L1856" title="Defined at 1856.">select</a></li>
<li><a href="#L1881" title="Defined at 1881.">selectAll</a></li>
<li><a href="#L1913" title="Defined at 1913.">getToolTipText</a></li>
<li><a href="#L1936" title="Defined at 1936.">getPreferredScrollableViewportSize</a></li>
<li><a href="#L1961" title="Defined at 1961.">getScrollableUnitIncrement</a></li>
<li><a href="#L1991" title="Defined at 1991.">getScrollableBlockIncrement</a></li>
<li><a href="#L2019" title="Defined at 2019.">getScrollableTracksViewportWidth</a></li>
<li><a href="#L2040" title="Defined at 2040.">getScrollableTracksViewportHeight</a></li>
<li><a href="#L2075" title="Defined at 2075.">print</a></li>
<li><a href="#L2104" title="Defined at 2104.">print</a></li>
<li><a href="#L2219" title="Defined at 2219.">print</a></li>
<li><a href="#L2450" title="Defined at 2450.">getPrintable</a></li>
<li><a href="#L2474" title="Defined at 2474.">getAccessibleContext</a></li>
<li><a href="#L2549" title="Defined at 2549.">caretUpdate</a></li>
<li><a href="#L2579" title="Defined at 2579.">insertUpdate</a></li>
<li><a href="#L2601" title="Defined at 2601.">removeUpdate</a></li>
<li><a href="#L2623" title="Defined at 2623.">changedUpdate</a></li>
<li><a href="#L2651" title="Defined at 2651.">getAccessibleStateSet</a></li>
<li><a href="#L2667" title="Defined at 2667.">getAccessibleRole</a></li>
<li><a href="#L2679" title="Defined at 2679.">getAccessibleText</a></li>
<li><a href="#L2699" title="Defined at 2699.">getIndexAtPoint</a></li>
<li><a href="#L2713" title="Defined at 2713.">getRootEditorRect</a></li>
<li><a href="#L2755" title="Defined at 2755.">getCharacterBounds</a></li>
<li><a href="#L2798" title="Defined at 2798.">getCharCount</a></li>
<li><a href="#L2811" title="Defined at 2811.">getCaretPosition</a></li>
<li><a href="#L2821" title="Defined at 2821.">getCharacterAttribute</a></li>
<li><a href="#L2849" title="Defined at 2849.">getSelectionStart</a></li>
<li><a href="#L2862" title="Defined at 2862.">getSelectionEnd</a></li>
<li><a href="#L2871" title="Defined at 2871.">getSelectedText</a></li>
<li><a href="#L2897" title="Defined at 2897.">getAtIndex</a></li>
<li><a href="#L2910" title="Defined at 2910.">getAfterIndex</a></li>
<li><a href="#L2923" title="Defined at 2923.">getBeforeIndex</a></li>
<li><a href="#L2933" title="Defined at 2933.">getAtIndex</a></li>
<li><a href="#L2995" title="Defined at 2995.">getParagraphElement</a></li>
<li><a href="#L3020" title="Defined at 3020.">getParagraphElementText</a></li>
<li><a href="#L3048" title="Defined at 3048.">getSegmentAt</a></li>
<li><a href="#L3094" title="Defined at 3094.">getAccessibleEditableText</a></li>
<li><a href="#L3104" title="Defined at 3104.">setTextContents</a></li>
<li><a href="#L3116" title="Defined at 3116.">insertTextAtIndex</a></li>
<li><a href="#L3141" title="Defined at 3141.">getTextRange</a></li>
<li><a href="#L3163" title="Defined at 3163.">delete</a></li>
<li><a href="#L3186" title="Defined at 3186.">cut</a></li>
<li><a href="#L3198" title="Defined at 3198.">paste</a></li>
<li><a href="#L3212" title="Defined at 3212.">replaceText</a></li>
<li><a href="#L3224" title="Defined at 3224.">selectText</a></li>
<li><a href="#L3237" title="Defined at 3237.">setAttributes</a></li>
<li><a href="#L3282" title="Defined at 3282.">getSequenceAtIndex</a></li>
<li><a href="#L3499" title="Defined at 3499.">getRunEdge</a></li>
<li><a href="#L3574" title="Defined at 3574.">getTextSequenceAt</a></li>
<li><a href="#L3598" title="Defined at 3598.">getTextSequenceAfter</a></li>
<li><a href="#L3622" title="Defined at 3622.">getTextSequenceBefore</a></li>
<li><a href="#L3637" title="Defined at 3637.">getTextBounds</a></li>
<li><a href="#L3680" title="Defined at 3680.">getAccessibleAction</a></li>
<li><a href="#L3692" title="Defined at 3692.">getAccessibleActionCount</a></li>
<li><a href="#L3705" title="Defined at 3705.">getAccessibleActionDescription</a></li>
<li><a href="#L3721" title="Defined at 3721.">doAccessibleAction</a></li>
<li><a href="#L3743" title="Defined at 3743.">readObject</a></li>
<li><a href="#L3835" title="Defined at 3835.">getIndex</a></li>
<li><a href="#L3844" title="Defined at 3844.">getBias</a></li>
<li><a href="#L3856" title="Defined at 3856.">toString</a></li>
<li><a href="#L3913" title="Defined at 3913.">paramString</a></li>
<li><a href="#L3945" title="Defined at 3945.">exportToClipboard</a></li>
<li><a href="#L3969" title="Defined at 3969.">importData</a></li>
<li><a href="#L3990" title="Defined at 3990.">canImport</a></li>
<li><a href="#L3998" title="Defined at 3998.">getSourceActions</a></li>
<li><a href="#L4001" title="Defined at 4001.">getFlavor</a></li>
<li><a href="#L4017" title="Defined at 4017.">getFocusedComponent</a></li>
<li><a href="#L4022" title="Defined at 4022.">getCurrentEventModifiers</a></li>
<li><a href="#L4072" title="Defined at 4072.">getDefaultAction</a></li>
<li><a href="#L4082" title="Defined at 4082.">setDefaultAction</a></li>
<li><a href="#L4086" title="Defined at 4086.">getName</a></li>
<li><a href="#L4090" title="Defined at 4090.">getAction</a></li>
<li><a href="#L4098" title="Defined at 4098.">getBoundKeyStrokes</a></li>
<li><a href="#L4107" title="Defined at 4107.">getBoundActions</a></li>
<li><a href="#L4116" title="Defined at 4116.">getKeyStrokesForAction</a></li>
<li><a href="#L4179" title="Defined at 4179.">isLocallyDefined</a></li>
<li><a href="#L4183" title="Defined at 4183.">addActionForKeyStroke</a></li>
<li><a href="#L4187" title="Defined at 4187.">removeKeyStrokeBinding</a></li>
<li><a href="#L4191" title="Defined at 4191.">removeBindings</a></li>
<li><a href="#L4195" title="Defined at 4195.">getResolveParent</a></li>
<li><a href="#L4199" title="Defined at 4199.">setResolveParent</a></li>
<li><a href="#L4207" title="Defined at 4207.">toString</a></li>
<li><a href="#L4242" title="Defined at 4242.">keys</a></li>
<li><a href="#L4260" title="Defined at 4260.">size</a></li>
<li><a href="#L4268" title="Defined at 4268.">get</a></li>
<li><a href="#L4298" title="Defined at 4298.">keys</a></li>
<li><a href="#L4339" title="Defined at 4339.">size</a></li>
<li><a href="#L4349" title="Defined at 4349.">get</a></li>
<li><a href="#L4388" title="Defined at 4388.">fire</a></li>
<li><a href="#L4398" title="Defined at 4398.">toString</a></li>
<li><a href="#L4404" title="Defined at 4404.">getDot</a></li>
<li><a href="#L4408" title="Defined at 4408.">getMark</a></li>
<li><a href="#L4414" title="Defined at 4414.">stateChanged</a></li>
<li><a href="#L4421" title="Defined at 4421.">focusGained</a></li>
<li><a href="#L4426" title="Defined at 4426.">focusLost</a></li>
<li><a href="#L4438" title="Defined at 4438.">mousePressed</a></li>
<li><a href="#L4448" title="Defined at 4448.">mouseReleased</a></li>
<li><a href="#L4453" title="Defined at 4453.">mouseClicked</a></li>
<li><a href="#L4456" title="Defined at 4456.">mouseEntered</a></li>
<li><a href="#L4459" title="Defined at 4459.">mouseExited</a></li>
<li><a href="#L4473" title="Defined at 4473.">processInputMethodEvent</a></li>
<li><a href="#L4500" title="Defined at 4500.">getInputMethodRequests</a></li>
<li><a href="#L4515" title="Defined at 4515.">addInputMethodListener</a></li>
<li><a href="#L4531" title="Defined at 4531.">cancelLatestCommittedText</a></li>
<li><a href="#L4548" title="Defined at 4548.">getCommittedText</a></li>
<li><a href="#L4577" title="Defined at 4577.">getCommittedTextLength</a></li>
<li><a href="#L4602" title="Defined at 4602.">getInsertPositionOffset</a></li>
<li><a href="#L4620" title="Defined at 4620.">getLocationOffset</a></li>
<li><a href="#L4637" title="Defined at 4637.">getTextLocation</a></li>
<li><a href="#L4656" title="Defined at 4656.">getSelectedText</a></li>
<li><a href="#L4668" title="Defined at 4668.">changedUpdate</a></li>
<li><a href="#L4672" title="Defined at 4672.">insertUpdate</a></li>
<li><a href="#L4676" title="Defined at 4676.">removeUpdate</a></li>
<li><a href="#L4686" title="Defined at 4686.">replaceInputMethodText</a></li>
<li><a href="#L4775" title="Defined at 4775.">createComposedTextAttribute</a></li>
<li><a href="#L4804" title="Defined at 4804.">saveComposedText</a></li>
<li><a href="#L4828" title="Defined at 4828.">restoreComposedText</a></li>
<li><a href="#L4845" title="Defined at 4845.">mapCommittedTextToAction</a></li>
<li><a href="#L4873" title="Defined at 4873.">setInputMethodCaretPosition</a></li>
<li><a href="#L4912" title="Defined at 4912.">exchangeCaret</a></li>
<li><a href="#L4922" title="Defined at 4922.">shouldSynthensizeKeyEvents</a></li>
<li><a href="#L4936" title="Defined at 4936.">composedTextExists</a></li>
<li><a href="#L4949" title="Defined at 4949.">install</a></li>
<li><a href="#L4968" title="Defined at 4968.">paint</a></li>
<li><a href="#L4986" title="Defined at 4986.">positionCaret</a></li>
<li><a href="#L5023" title="Defined at 5023.">run</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.beans.util.Cache;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.beans.Transient;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.Vector;
<a id="L37" name="L37"></a>  37 
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.concurrent.*;
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.io.*;
<a id="L41" name="L41"></a>  41 
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.awt.*;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.awt.event.*;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.awt.print.*;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.awt.datatransfer.*;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.awt.im.InputContext;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> java.awt.im.InputMethodRequests;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> java.awt.font.TextHitInfo;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> java.awt.font.TextAttribute;
<a id="L50" name="L50"></a>  50 
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.awt.print.Printable;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.awt.print.PrinterException;
<a id="L53" name="L53"></a>  53 
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> javax.print.PrintService;
<a id="L55" name="L55"></a>  55 <strong class="reserved">import</strong> javax.print.attribute.PrintRequestAttributeSet;
<a id="L56" name="L56"></a>  56 
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> java.text.*;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> java.text.AttributedCharacterIterator.Attribute;
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> javax.swing.*;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> javax.swing.event.*;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> javax.swing.plaf.*;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> javax.accessibility.*;
<a id="L65" name="L65"></a>  65 
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> javax.print.attribute.*;
<a id="L67" name="L67"></a>  67 
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> sun.awt.AppContext;
<a id="L69" name="L69"></a>  69 
<a id="L70" name="L70"></a>  70 
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> sun.swing.PrintingStatus;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> sun.swing.SwingUtilities2;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> sun.swing.text.TextComponentPrintable;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> sun.swing.SwingAccessor;
<a id="L75" name="L75"></a>  75 
<div class="comment">
  <code>JTextComponent</code> is the base class for swing text
  components.  It tries to be compatible with the
  <code>java.awt.TextComponent</code> class
  where it can reasonably do so.  Also provided are other services
  for additional flexibility (beyond the pluggable UI and bean
  support).
  You can find information on how to use the functionality
  this class provides in
  <a href="https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html">General Rules for Using Text Components</a>,
  a section in <em>The Java Tutorial.</em>
  <dl>
  <dt><b><font size="+1">Caret Changes</font></b>
  </dt><dd>
  The caret is a pluggable object in swing text components.
  Notification of changes to the caret position and the selection
  are sent to implementations of the <code>CaretListener</code>
  interface that have been registered with the text component.
  The UI will install a default caret unless a customized caret
  has been set. <br>
  By default the caret tracks all the document changes
  performed on the Event Dispatching Thread and updates it's position
  accordingly if an insertion occurs before or at the caret position
  or a removal occurs before the caret position. <code>DefaultCaret</code>
  tries to make itself visible which may lead to scrolling
  of a text component within <code>JScrollPane</code>. The default caret
  behavior can be changed by the {@link DefaultCaret#setUpdatePolicy} method.
  <br>
  <b>Note</b>: Non-editable text components also have a caret though
  it may not be painted.
  </dd><dt><b><font size="+1">Commands</font></b>
  </dt><dd>
  Text components provide a number of commands that can be used
  to manipulate the component.  This is essentially the way that
  the component expresses its capabilities.  These are expressed
  in terms of the swing <code>Action</code> interface,
  using the <code>TextAction</code> implementation.
  The set of commands supported by the text component can be
  found with the {@link #getActions} method.  These actions
  can be bound to key events, fired from buttons, etc.
  </dd><dt><b><font size="+1">Text Input</font></b>
  </dt><dd>
  The text components support flexible and internationalized text input, using
  keymaps and the input method framework, while maintaining compatibility with
  the AWT listener model.
  <p>
  A {@link javax.swing.text.Keymap} lets an application bind key
  strokes to actions.
  In order to allow keymaps to be shared across multiple text components, they
  can use actions that extend <code>TextAction</code>.
  <code>TextAction</code> can determine which <code>JTextComponent</code>
  most recently has or had focus and therefore is the subject of
  the action (In the case that the <code>ActionEvent</code>
  sent to the action doesn't contain the target text component as its source).
  </p><p>
  The <a href="../../../../technotes/guides/imf/spec.html">input method framework</a>
  lets text components interact with input methods, separate software
  components that preprocess events to let users enter thousands of
  different characters using keyboards with far fewer keys.
  <code>JTextComponent</code> is an <em>active client</em> of
  the framework, so it implements the preferred user interface for interacting
  with input methods. As a consequence, some key events do not reach the text
  component because they are handled by an input method, and some text input
  reaches the text component as committed text within an {@link
  java.awt.event.InputMethodEvent} instead of as a key event.
  The complete text input is the combination of the characters in
  <code>keyTyped</code> key events and committed text in input method events.
  </p><p>
  The AWT listener model lets applications attach event listeners to
  components in order to bind events to actions. Swing encourages the
  use of keymaps instead of listeners, but maintains compatibility
  with listeners by giving the listeners a chance to steal an event
  by consuming it.
  </p><p>
  Keyboard event and input method events are handled in the following stages,
  with each stage capable of consuming the event:
  </p><table border="1" summary="Stages of keyboard and input method event handling">
  <tbody><tr>
  <th id="stage"><p style="text-align:left">Stage</p></th>
  <th id="ke"><p style="text-align:left">KeyEvent</p></th>
  <th id="ime"><p style="text-align:left">InputMethodEvent</p></th></tr>
  <tr><td headers="stage">1.   </td>
      <td headers="ke">input methods </td>
      <td headers="ime">(generated here)</td></tr>
  <tr><td headers="stage">2.   </td>
      <td headers="ke">focus manager </td>
      <td headers="ime"></td>
  </tr>
  <tr>
      <td headers="stage">3.   </td>
      <td headers="ke">registered key listeners</td>
      <td headers="ime">registered input method listeners</td></tr>
  <tr>
      <td headers="stage">4.   </td>
      <td headers="ke"></td>
      <td headers="ime">input method handling in JTextComponent</td></tr>
  <tr>
      <td headers="stage">5.   </td><td headers="ke ime" colspan="2">keymap handling using the current keymap</td></tr>
  <tr><td headers="stage">6.   </td><td headers="ke">keyboard handling in JComponent (e.g. accelerators, component navigation, etc.)</td>
      <td headers="ime"></td></tr>
  </tbody></table>
  <p>
  To maintain compatibility with applications that listen to key
  events but are not aware of input method events, the input
  method handling in stage 4 provides a compatibility mode for
  components that do not process input method events. For these
  components, the committed text is converted to keyTyped key events
  and processed in the key event pipeline starting at stage 3
  instead of in the input method event pipeline.
  </p><p>
  By default the component will create a keymap (named <b>DEFAULT_KEYMAP</b>)
  that is shared by all JTextComponent instances as the default keymap.
  Typically a look-and-feel implementation will install a different keymap
  that resolves to the default keymap for those bindings not found in the
  different keymap. The minimal bindings include:
  </p><ul><li>inserting content into the editor for the
   printable keys.
  </li><li>removing content with the backspace and del
   keys.
  </li><li>caret movement forward and backward
  </li></ul>
  </dd><dt><b><font size="+1">Model/View Split</font></b>
  </dt><dd>
  The text components have a model-view split.  A text component pulls
  together the objects used to represent the model, view, and controller.
  The text document model may be shared by other views which act as observers
  of the model (e.g. a document may be shared by multiple components).
  <p style="text-align:center"><img src="doc-files/editor.gif" alt="Diagram showing interaction between Controller, Document, events, and ViewFactory" HEIGHT="358" WIDTH="587"></p>
  <p>
  The model is defined by the {@link Document} interface.
  This is intended to provide a flexible text storage mechanism
  that tracks change during edits and can be extended to more sophisticated
  models.  The model interfaces are meant to capture the capabilities of
  expression given by SGML, a system used to express a wide variety of
  content.
  Each modification to the document causes notification of the
  details of the change to be sent to all observers in the form of a
  {@link DocumentEvent} which allows the views to stay up to date with the model.
  This event is sent to observers that have implemented the
  {@link DocumentListener}
  interface and registered interest with the model being observed.
  </p></dd><dt><b><font size="+1">Location Information</font></b>
  </dt><dd>
  The capability of determining the location of text in
  the view is provided.  There are two methods, {@link #modelToView}
  and {@link #viewToModel} for determining this information.
  </dd><dt><b><font size="+1">Undo/Redo support</font></b>
  </dt><dd>
  Support for an edit history mechanism is provided to allow
  undo/redo operations.  The text component does not itself
  provide the history buffer by default, but does provide
  the <code>UndoableEdit</code> records that can be used in conjunction
  with a history buffer to provide the undo/redo support.
  The support is provided by the Document model, which allows
  one to attach UndoableEditListener implementations.
  </dd><dt><b><font size="+1">Thread Safety</font></b>
  </dt><dd>
  The swing text components provide some support of thread
  safe operations.  Because of the high level of configurability
  of the text components, it is possible to circumvent the
  protection provided.  The protection primarily comes from
  the model, so the documentation of <code>AbstractDocument</code>
  describes the assumptions of the protection provided.
  The methods that are safe to call asynchronously are marked
  with comments.
  </dd><dt><b><font size="+1">Newlines</font></b>
  </dt><dd>
  For a discussion on how newlines are handled, see
  <a href="DefaultEditorKit.html">DefaultEditorKit</a>.
  </dd><dt><b><font size="+1">Printing support</font></b>
  </dt><dd>
  Several {@link #print print} methods are provided for basic
  document printing.  If more advanced printing is needed, use the
  {@link #getPrintable} method.
  </dd></dl>
  <p>
  <strong>Warning:</strong>
  Serialized objects of this class will not be compatible with
  future Swing releases. The current serialization support is
  appropriate for short term storage or RMI between applications running
  the same version of Swing.  As of 1.4, support for long term storage
  of all JavaBeans™
  has been added to the <code>java.beans</code> package.
  Please see {@link java.beans.XMLEncoder}.
  @beaninfo
      attribute: isContainer false
  @author  Timothy Prinzing
  @author Igor Kushnirskiy (printing support)
  @see Document
  @see DocumentEvent
  @see DocumentListener
  @see Caret
  @see CaretEvent
  @see CaretListener
  @see TextUI
  @see View
  @see ViewFactory</p></div>
<a id="L293" name="L293"></a> 293 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/4259.html" title="Multiple referred from 315 places.">JTextComponent</a> <strong class="reserved">extends</strong> <a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <strong class="reserved">implements</strong> <a href="../S/2769.html#L43" title="Defined at 43 in src/javax/swing/Scrollable.java.">Scrollable</a>, <a href="../S/4356.html#L39" title="Defined at 39 in src/javax/accessibility/Accessible.java.">Accessible</a>
<a id="L294" name="L294"></a> 294 <em class="brace">{</em>
<div class="comment">
      Creates a new <code>JTextComponent</code>.
      Listeners for caret events are established, and the pluggable
      UI installed.  The component is marked as editable.  No layout manager
      is used, because layout is managed by the view subsystem of text.
      The document model is set to <code>null</code>.</div>
<a id="L302" name="L302"></a> 302     <strong class="reserved">public</strong> JTextComponent() <em class="brace">{</em>
<a id="L303" name="L303"></a> 303         <strong class="reserved">super</strong>();
<a id="L304" name="L304"></a> 304         <em class="comment">// enable InputMethodEvent for on-the-spot pre-editing</em>
<a id="L305" name="L305"></a> 305         <a href="../D/15376.html" title="Multiple defined in 3 places.">enableEvents</a>(<a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a>.KEY_EVENT_MASK | <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a>.INPUT_METHOD_EVENT_MASK);
<a id="L306" name="L306"></a> 306         caretEvent = <strong class="reserved">new</strong> <a href="../S/3351.html#L4382" title="Defined at 4382 in src/javax/swing/text/JTextComponent.java.">MutableCaretEvent</a>(<strong class="reserved">this</strong>);
<a id="L307" name="L307"></a> 307         <a href="../D/10945.html" title="Multiple defined in 2 places.">addMouseListener</a>(caretEvent);
<a id="L308" name="L308"></a> 308         <a href="../D/10812.html" title="Multiple defined in 12 places.">addFocusListener</a>(caretEvent);
<a id="L309" name="L309"></a> 309         <a href="../D/32538.html" title="Multiple defined in 6 places.">setEditable</a>(<strong class="reserved">true</strong>);
<a id="L310" name="L310"></a> 310         <a href="../D/32514.html" title="Multiple defined in 6 places.">setDragEnabled</a>(<strong class="reserved">false</strong>);
<a id="L311" name="L311"></a> 311         <a href="../D/33061.html" title="Multiple defined in 12 places.">setLayout</a>(<strong class="reserved">null</strong>); <em class="comment">// layout is managed by View hierarchy</em>
<a id="L312" name="L312"></a> 312         <a href="../D/36236.html" title="Multiple defined in 47 places.">updateUI</a>();
<a id="L313" name="L313"></a> 313     <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<div class="comment">
      Fetches the user-interface factory for this text-oriented editor.
      @return the factory</div>
<a id="L320" name="L320"></a> 320     <strong class="reserved">public</strong> <a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a> <a href="../R/19643.html" title="Multiple referred from 193 places.">getUI</a>() <em class="brace">{</em> <strong class="reserved">return</strong> (<a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a>)ui; <em class="brace">}</em>
<a id="L321" name="L321"></a> 321 
<div class="comment">
      Sets the user-interface factory for this text-oriented editor.
      @param ui the factory</div>
<a id="L327" name="L327"></a> 327     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28337.html" title="Multiple referred from 69 places.">setUI</a>(<a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a> ui) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328         <strong class="reserved">super</strong>.<a href="../D/34204.html" title="Multiple defined in 30 places.">setUI</a>(ui);
<a id="L329" name="L329"></a> 329     <em class="brace">}</em>
<a id="L330" name="L330"></a> 330 
<div class="comment">
      Reloads the pluggable UI.  The key used to fetch the
      new interface is <code>getUIClassID()</code>.  The type of
      the UI is <code>TextUI</code>.  <code>invalidate</code>
      is called after setting the UI.</div>
<a id="L337" name="L337"></a> 337     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29979.html" title="Multiple referred from 53 places.">updateUI</a>() <em class="brace">{</em>
<a id="L338" name="L338"></a> 338         <a href="../D/34204.html" title="Multiple defined in 30 places.">setUI</a>((<a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a>)<a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>(<strong class="reserved">this</strong>));
<a id="L339" name="L339"></a> 339         <a href="../D/25024.html" title="Multiple defined in 16 places.">invalidate</a>();
<a id="L340" name="L340"></a> 340     <em class="brace">}</em>
<a id="L341" name="L341"></a> 341 
<div class="comment">
      Adds a caret listener for notification of any changes
      to the caret.
      @param listener the listener to be added
      @see javax.swing.event.CaretEvent</div>
<a id="L349" name="L349"></a> 349     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9633.html" title="Multiple referred from 3 places.">addCaretListener</a>(<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a> listener) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         listenerList.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L351" name="L351"></a> 351     <em class="brace">}</em>
<a id="L352" name="L352"></a> 352 
<div class="comment">
      Removes a caret listener.
      @param listener the listener to be removed
      @see javax.swing.event.CaretEvent</div>
<a id="L359" name="L359"></a> 359     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25917.html" title="Multiple referred from 2 places.">removeCaretListener</a>(<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a> listener) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360         listenerList.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>.<strong class="reserved">class</strong>, listener);
<a id="L361" name="L361"></a> 361     <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<div class="comment">
      Returns an array of all the caret listeners
      registered on this text component.
      @return all of this component's <code>CaretListener</code>s
              or an empty
              array if no caret listeners are currently registered
      @see #addCaretListener
      @see #removeCaretListener
      @since 1.4</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>[] getCaretListeners() <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">return</strong> listenerList.<a href="../D/20173.html" title="Multiple defined in 32 places.">getListeners</a>(<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>.<strong class="reserved">class</strong>);
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<div class="comment">
      Notifies all listeners that have registered interest for
      notification on this event type.  The event instance
      is lazily created using the parameters passed into
      the fire method.  The listener list is processed in a
      last-to-first manner.
      @param e the event
      @see EventListenerList</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L4394" title="Referred from 4394 in src/javax/swing/text/JTextComponent.java.">fireCaretUpdate</a>(<a href="../S/3409.html#L45" title="Defined at 45 in src/javax/swing/event/CaretEvent.java.">CaretEvent</a> e) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <em class="comment">// Guaranteed to return a non-null array</em>
<a id="L392" name="L392"></a> 392         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] listeners = listenerList.<a href="../S/3406.html#L124" title="Defined at 124 in src/javax/swing/event/EventListenerList.java.">getListenerList</a>();
<a id="L393" name="L393"></a> 393         <em class="comment">// Process the listeners last to first, notifying</em>
<a id="L394" name="L394"></a> 394         <em class="comment">// those that are interested in this event</em>
<a id="L395" name="L395"></a> 395         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = listeners.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-2; i&gt;=0; i-=2) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396             <strong class="reserved">if</strong> (listeners[i]==<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                 ((<a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>)listeners[i+1]).<a href="../D/12254.html" title="Multiple defined in 4 places.">caretUpdate</a>(e);
<a id="L398" name="L398"></a> 398             <em class="brace">}</em>
<a id="L399" name="L399"></a> 399         <em class="brace">}</em>
<a id="L400" name="L400"></a> 400     <em class="brace">}</em>
<a id="L401" name="L401"></a> 401 
<div class="comment">
      Associates the editor with a text document.
      The currently registered factory is used to build a view for
      the document, which gets displayed by the editor after revalidation.
      A PropertyChange event ("document") is propagated to each listener.
      @param doc  the document to display/edit
      @see #getDocument
      @beaninfo
       description: the text document model
             bound: true
            expert: true</div>
<a id="L415" name="L415"></a> 415     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27263.html" title="Multiple referred from 19 places.">setDocument</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> old = model;
<a id="L417" name="L417"></a> 417 
<div class="comment">
          acquire a read lock on the old model to prevent notification of
          mutations while we disconnecting the old model.</div>
<a id="L422" name="L422"></a> 422         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L423" name="L423"></a> 423             <strong class="reserved">if</strong> (old <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)old).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L425" name="L425"></a> 425             <em class="brace">}</em>
<a id="L426" name="L426"></a> 426             <strong class="reserved">if</strong> (accessibleContext != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L427" name="L427"></a> 427                 model.<a href="../D/30761.html" title="Multiple defined in 3 places.">removeDocumentListener</a>(
<a id="L428" name="L428"></a> 428                     ((<a href="../S/3351.html#L2495" title="Defined at 2495 in src/javax/swing/text/JTextComponent.java.">AccessibleJTextComponent</a>)accessibleContext));
<a id="L429" name="L429"></a> 429             <em class="brace">}</em>
<a id="L430" name="L430"></a> 430             <strong class="reserved">if</strong> (inputMethodRequestsHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431                 model.<a href="../D/30761.html" title="Multiple defined in 3 places.">removeDocumentListener</a>((<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>)inputMethodRequestsHandler);
<a id="L432" name="L432"></a> 432             <em class="brace">}</em>
<a id="L433" name="L433"></a> 433             model = doc;
<a id="L434" name="L434"></a> 434 
<a id="L435" name="L435"></a> 435             <em class="comment">// Set the document's run direction property to match the</em>
<a id="L436" name="L436"></a> 436             <em class="comment">// component's ComponentOrientation property.</em>
<a id="L437" name="L437"></a> 437             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> runDir = <a href="../S/2177.html#L8910" title="Defined at 8910 in src/java/awt/Component.java.">getComponentOrientation</a>().<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>()
<a id="L438" name="L438"></a> 438                              ? <a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_LTR
<a id="L439" name="L439"></a> 439                              : <a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_RTL;
<a id="L440" name="L440"></a> 440             <strong class="reserved">if</strong> (runDir != doc.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION)) <em class="brace">{</em>
<a id="L441" name="L441"></a> 441                 doc.<a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(<a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION, runDir );
<a id="L442" name="L442"></a> 442             <em class="brace">}</em>
<a id="L443" name="L443"></a> 443             <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("document", old, doc);
<a id="L444" name="L444"></a> 444         <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L445" name="L445"></a> 445             <strong class="reserved">if</strong> (old <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)old).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L447" name="L447"></a> 447             <em class="brace">}</em>
<a id="L448" name="L448"></a> 448         <em class="brace">}</em>
<a id="L449" name="L449"></a> 449 
<a id="L450" name="L450"></a> 450         <a href="../D/31406.html" title="Multiple defined in 9 places.">revalidate</a>();
<a id="L451" name="L451"></a> 451         <a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L452" name="L452"></a> 452         <strong class="reserved">if</strong> (accessibleContext != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453             model.<a href="../D/10761.html" title="Multiple defined in 3 places.">addDocumentListener</a>(
<a id="L454" name="L454"></a> 454                 ((<a href="../S/3351.html#L2495" title="Defined at 2495 in src/javax/swing/text/JTextComponent.java.">AccessibleJTextComponent</a>)accessibleContext));
<a id="L455" name="L455"></a> 455         <em class="brace">}</em>
<a id="L456" name="L456"></a> 456         <strong class="reserved">if</strong> (inputMethodRequestsHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             model.<a href="../D/10761.html" title="Multiple defined in 3 places.">addDocumentListener</a>((<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>)inputMethodRequestsHandler);
<a id="L458" name="L458"></a> 458         <em class="brace">}</em>
<a id="L459" name="L459"></a> 459     <em class="brace">}</em>
<a id="L460" name="L460"></a> 460 
<div class="comment">
      Fetches the model associated with the editor.  This is
      primarily for the UI to get at the minimal amount of
      state required to be a text editor.  Subclasses will
      return the actual type of the model which will typically
      be something that extends Document.
      @return the model</div>
<a id="L470" name="L470"></a> 470     <strong class="reserved">public</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/16214.html" title="Multiple referred from 348 places.">getDocument</a>() <em class="brace">{</em>
<a id="L471" name="L471"></a> 471         <strong class="reserved">return</strong> model;
<a id="L472" name="L472"></a> 472     <em class="brace">}</em>
<a id="L473" name="L473"></a> 473 
<a id="L474" name="L474"></a> 474     <em class="comment">// Override of Component.setComponentOrientation</em>
<a id="L475" name="L475"></a> 475     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27079.html" title="Multiple referred from 29 places.">setComponentOrientation</a>( <a href="../S/2305.html#L91" title="Defined at 91 in src/java/awt/ComponentOrientation.java.">ComponentOrientation</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> ) <em class="brace">{</em>
<a id="L476" name="L476"></a> 476         <em class="comment">// Set the document's run direction property to match the</em>
<a id="L477" name="L477"></a> 477         <em class="comment">// ComponentOrientation property.</em>
<a id="L478" name="L478"></a> 478         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L479" name="L479"></a> 479         <strong class="reserved">if</strong>( doc !=  <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L480" name="L480"></a> 480             <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> runDir = <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/25785.html" title="Multiple defined in 18 places.">isLeftToRight</a>()
<a id="L481" name="L481"></a> 481                              ? <a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_LTR
<a id="L482" name="L482"></a> 482                              : <a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION_RTL;
<a id="L483" name="L483"></a> 483             doc.<a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>( <a href="../S/2367.html#L255" title="Defined at 255 in src/java/awt/font/TextAttribute.java.">TextAttribute</a>.RUN_DIRECTION, runDir );
<a id="L484" name="L484"></a> 484         <em class="brace">}</em>
<a id="L485" name="L485"></a> 485         <strong class="reserved">super</strong>.<a href="../D/32216.html" title="Multiple defined in 5 places.">setComponentOrientation</a>( <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> );
<a id="L486" name="L486"></a> 486     <em class="brace">}</em>
<a id="L487" name="L487"></a> 487 
<div class="comment">
      Fetches the command list for the editor.  This is
      the list of commands supported by the plugged-in UI
      augmented by the collection of commands that the
      editor itself supports.  These are useful for binding
      to events, such as in a keymap.
      @return the command list</div>
<a id="L497" name="L497"></a> 497     <strong class="reserved">public</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <a href="../R/14955.html" title="Multiple referred from 33 places.">getActions</a>() <em class="brace">{</em>
<a id="L498" name="L498"></a> 498         <strong class="reserved">return</strong> <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<strong class="reserved">this</strong>).<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>();
<a id="L499" name="L499"></a> 499     <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<div class="comment">
      Sets margin space between the text component's border
      and its text.  The text component's default <code>Border</code>
      object will use this value to create the proper margin.
      However, if a non-default border is set on the text component,
      it is that <code>Border</code> object's responsibility to create the
      appropriate margin space (else this property will effectively
      be ignored).  This causes a redraw of the component.
      A PropertyChange event ("margin") is sent to all listeners.
      @param m the space between the border and the text
      @beaninfo
       description: desired space between the border and text area
             bound: true</div>
<a id="L516" name="L516"></a> 516     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27714.html" title="Multiple referred from 29 places.">setMargin</a>(<a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> m) <em class="brace">{</em>
<a id="L517" name="L517"></a> 517         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> old = margin;
<a id="L518" name="L518"></a> 518         margin = m;
<a id="L519" name="L519"></a> 519         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("margin", old, m);
<a id="L520" name="L520"></a> 520         <a href="../D/25024.html" title="Multiple defined in 16 places.">invalidate</a>();
<a id="L521" name="L521"></a> 521     <em class="brace">}</em>
<a id="L522" name="L522"></a> 522 
<div class="comment">
      Returns the margin between the text component's border and
      its text.
      @return the margin</div>
<a id="L529" name="L529"></a> 529     <strong class="reserved">public</strong> <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> <a href="../R/17554.html" title="Multiple referred from 42 places.">getMargin</a>() <em class="brace">{</em>
<a id="L530" name="L530"></a> 530         <strong class="reserved">return</strong> margin;
<a id="L531" name="L531"></a> 531     <em class="brace">}</em>
<a id="L532" name="L532"></a> 532 
<div class="comment">
      Sets the <code>NavigationFilter</code>. <code>NavigationFilter</code>
      is used by <code>DefaultCaret</code> and the default cursor movement
      actions as a way to restrict the cursor movement.
      @since 1.4</div>
<a id="L540" name="L540"></a> 540     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27807.html" title="Multiple referred from 2 places.">setNavigationFilter</a>(<a href="../S/3347.html#L51" title="Defined at 51 in src/javax/swing/text/NavigationFilter.java.">NavigationFilter</a> <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         navigationFilter = <a href="../D/16061.html" title="Multiple defined in 29 places.">filter</a>;
<a id="L542" name="L542"></a> 542     <em class="brace">}</em>
<a id="L543" name="L543"></a> 543 
<div class="comment">
      Returns the <code>NavigationFilter</code>. <code>NavigationFilter</code>
      is used by <code>DefaultCaret</code> and the default cursor movement
      actions as a way to restrict the cursor movement. A null return value
      implies the cursor movement and selection should not be restricted.
      @since 1.4
      @return the NavigationFilter</div>
<a id="L553" name="L553"></a> 553     <strong class="reserved">public</strong> <a href="../S/3347.html#L51" title="Defined at 51 in src/javax/swing/text/NavigationFilter.java.">NavigationFilter</a> <a href="../R/17879.html" title="Multiple referred from 4 places.">getNavigationFilter</a>() <em class="brace">{</em>
<a id="L554" name="L554"></a> 554         <strong class="reserved">return</strong> navigationFilter;
<a id="L555" name="L555"></a> 555     <em class="brace">}</em>
<a id="L556" name="L556"></a> 556 
<div class="comment">
      Fetches the caret that allows text-oriented navigation over
      the view.
      @return the caret</div>
<a id="L563" name="L563"></a> 563     @<a href="../S/1819.html#L66" title="Defined at 66 in src/java/beans/Transient.java.">Transient</a>
<a id="L564" name="L564"></a> 564     <strong class="reserved">public</strong> <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> <a href="../R/15446.html" title="Multiple referred from 23 places.">getCaret</a>() <em class="brace">{</em>
<a id="L565" name="L565"></a> 565         <strong class="reserved">return</strong> caret;
<a id="L566" name="L566"></a> 566     <em class="brace">}</em>
<a id="L567" name="L567"></a> 567 
<div class="comment">
      Sets the caret to be used.  By default this will be set
      by the UI that gets installed.  This can be changed to
      a custom caret if desired.  Setting the caret results in a
      PropertyChange event ("caret") being fired.
      @param c the caret
      @see #getCaret
      @beaninfo
       description: the caret used to select/navigate
             bound: true
            expert: true</div>
<a id="L581" name="L581"></a> 581     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27005.html" title="Multiple referred from 3 places.">setCaret</a>(<a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <strong class="reserved">if</strong> (caret != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L583" name="L583"></a> 583             caret.<a href="../D/30730.html" title="Multiple defined in 23 places.">removeChangeListener</a>(caretEvent);
<a id="L584" name="L584"></a> 584             caret.<a href="../D/14783.html" title="Multiple defined in 7 places.">deinstall</a>(<strong class="reserved">this</strong>);
<a id="L585" name="L585"></a> 585         <em class="brace">}</em>
<a id="L586" name="L586"></a> 586         <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> old = caret;
<a id="L587" name="L587"></a> 587         caret = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L588" name="L588"></a> 588         <strong class="reserved">if</strong> (caret != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L589" name="L589"></a> 589             caret.<a href="../D/24817.html" title="Multiple defined in 32 places.">install</a>(<strong class="reserved">this</strong>);
<a id="L590" name="L590"></a> 590             caret.<a href="../D/10697.html" title="Multiple defined in 23 places.">addChangeListener</a>(caretEvent);
<a id="L591" name="L591"></a> 591         <em class="brace">}</em>
<a id="L592" name="L592"></a> 592         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("caret", old, caret);
<a id="L593" name="L593"></a> 593     <em class="brace">}</em>
<a id="L594" name="L594"></a> 594 
<div class="comment">
      Fetches the object responsible for making highlights.
      @return the highlighter</div>
<a id="L600" name="L600"></a> 600     <strong class="reserved">public</strong> <a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> <a href="../R/16893.html" title="Multiple referred from 17 places.">getHighlighter</a>() <em class="brace">{</em>
<a id="L601" name="L601"></a> 601         <strong class="reserved">return</strong> highlighter;
<a id="L602" name="L602"></a> 602     <em class="brace">}</em>
<a id="L603" name="L603"></a> 603 
<div class="comment">
      Sets the highlighter to be used.  By default this will be set
      by the UI that gets installed.  This can be changed to
      a custom highlighter if desired.  The highlighter can be set to
      <code>null</code> to disable it.
      A PropertyChange event ("highlighter") is fired
      when a new highlighter is installed.
      @param h the highlighter
      @see #getHighlighter
      @beaninfo
       description: object responsible for background highlights
             bound: true
            expert: true</div>
<a id="L619" name="L619"></a> 619     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27501.html" title="Multiple referred from 2 places.">setHighlighter</a>(<a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> h) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620         <strong class="reserved">if</strong> (highlighter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L621" name="L621"></a> 621             highlighter.<a href="../D/14783.html" title="Multiple defined in 7 places.">deinstall</a>(<strong class="reserved">this</strong>);
<a id="L622" name="L622"></a> 622         <em class="brace">}</em>
<a id="L623" name="L623"></a> 623         <a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> old = highlighter;
<a id="L624" name="L624"></a> 624         highlighter = h;
<a id="L625" name="L625"></a> 625         <strong class="reserved">if</strong> (highlighter != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626             highlighter.<a href="../D/24817.html" title="Multiple defined in 32 places.">install</a>(<strong class="reserved">this</strong>);
<a id="L627" name="L627"></a> 627         <em class="brace">}</em>
<a id="L628" name="L628"></a> 628         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("highlighter", old, h);
<a id="L629" name="L629"></a> 629     <em class="brace">}</em>
<a id="L630" name="L630"></a> 630 
<div class="comment">
      Sets the keymap to use for binding events to
      actions.  Setting to <code>null</code> effectively disables
      keyboard input.
      A PropertyChange event ("keymap") is fired when a new keymap
      is installed.
      @param map the keymap
      @see #getKeymap
      @beaninfo
       description: set of key event to action bindings to use
             bound: true</div>
<a id="L644" name="L644"></a> 644     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27628.html" title="Multiple referred from 2 places.">setKeymap</a>(<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645         <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> old = keymap;
<a id="L646" name="L646"></a> 646         keymap = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L647" name="L647"></a> 647         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("keymap", old, keymap);
<a id="L648" name="L648"></a> 648         <a href="../S/3351.html#L958" title="Defined at 958 in src/javax/swing/text/JTextComponent.java.">updateInputMap</a>(old, <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L649" name="L649"></a> 649     <em class="brace">}</em>
<a id="L650" name="L650"></a> 650 
<div class="comment">
      Turns on or off automatic drag handling. In order to enable automatic
      drag handling, this property should be set to <code>true</code>, and the
      component's <code>TransferHandler</code> needs to be <code>non-null</code>.
      The default value of the <code>dragEnabled</code> property is <code>false</code>.
      <p>
      The job of honoring this property, and recognizing a user drag gesture,
      lies with the look and feel implementation, and in particular, the component's
      <code>TextUI</code>. When automatic drag handling is enabled, most look and
      feels (including those that subclass <code>BasicLookAndFeel</code>) begin a
      drag and drop operation whenever the user presses the mouse button over
      a selection and then moves the mouse a few pixels. Setting this property to
      <code>true</code> can therefore have a subtle effect on how selections behave.
      </p><p>
      If a look and feel is used that ignores this property, you can still
      begin a drag and drop operation by calling <code>exportAsDrag</code> on the
      component's <code>TransferHandler</code>.
      @param b whether or not to enable automatic drag handling
      @exception HeadlessException if
                 <code>b</code> is <code>true</code> and
                 <code>GraphicsEnvironment.isHeadless()</code>
                 returns <code>true</code>
      @see java.awt.GraphicsEnvironment#isHeadless
      @see #getDragEnabled
      @see #setTransferHandler
      @see TransferHandler
      @since 1.4
      @beaninfo
       description: determines whether automatic drag handling is enabled
             bound: false</p></div>
<a id="L684" name="L684"></a> 684     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27281.html" title="Multiple referred from 3 places.">setDragEnabled</a>(<strong class="reserved">boolean</strong> b) <em class="brace">{</em>
<a id="L685" name="L685"></a> 685         <strong class="reserved">if</strong> (b &amp;&amp; <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a>.<a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a>()) <em class="brace">{</em>
<a id="L686" name="L686"></a> 686             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2385.html#L36" title="Defined at 36 in src/java/awt/HeadlessException.java.">HeadlessException</a>();
<a id="L687" name="L687"></a> 687         <em class="brace">}</em>
<a id="L688" name="L688"></a> 688         dragEnabled = b;
<a id="L689" name="L689"></a> 689     <em class="brace">}</em>
<a id="L690" name="L690"></a> 690 
<div class="comment">
      Returns whether or not automatic drag handling is enabled.
      @return the value of the <code>dragEnabled</code> property
      @see #setDragEnabled
      @since 1.4</div>
<a id="L698" name="L698"></a> 698     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/16247.html" title="Multiple referred from 19 places.">getDragEnabled</a>() <em class="brace">{</em>
<a id="L699" name="L699"></a> 699         <strong class="reserved">return</strong> dragEnabled;
<a id="L700" name="L700"></a> 700     <em class="brace">}</em>
<a id="L701" name="L701"></a> 701 
<div class="comment">
      Sets the drop mode for this component. For backward compatibility,
      the default for this property is <code>DropMode.USE_SELECTION</code>.
      Usage of <code>DropMode.INSERT</code> is recommended, however,
      for an improved user experience. It offers similar behavior of dropping
      between text locations, but does so without affecting the actual text
      selection and caret location.
      <p>
      <code>JTextComponents</code> support the following drop modes:
      </p><ul><li><code>DropMode.USE_SELECTION</code></li><li><code>DropMode.INSERT</code></li>
      </ul>
      <p>
      The drop mode is only meaningful if this component has a
      <code>TransferHandler</code> that accepts drops.
      @param dropMode the drop mode to use
      @throws IllegalArgumentException if the drop mode is unsupported
              or <code>null</code>
      @see #getDropMode
      @see #getDropLocation
      @see #setTransferHandler
      @see javax.swing.TransferHandler
      @since 1.6</p></div>
<a id="L728" name="L728"></a> 728     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> setDropMode(<a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a> dropMode) <em class="brace">{</em>
<a id="L729" name="L729"></a> 729         <strong class="reserved">if</strong> (dropMode != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L730" name="L730"></a> 730             <strong class="reserved">switch</strong> (dropMode) <em class="brace">{</em>
<a id="L731" name="L731"></a> 731                 <strong class="reserved">case</strong> USE_SELECTION:
<a id="L732" name="L732"></a> 732                 <strong class="reserved">case</strong> INSERT:
<a id="L733" name="L733"></a> 733                     <strong class="reserved">this</strong>.dropMode = dropMode;
<a id="L734" name="L734"></a> 734                     <strong class="reserved">return</strong>;
<a id="L735" name="L735"></a> 735             <em class="brace">}</em>
<a id="L736" name="L736"></a> 736         <em class="brace">}</em>
<a id="L737" name="L737"></a> 737 
<a id="L738" name="L738"></a> 738         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(dropMode + ": Unsupported drop mode for text");
<a id="L739" name="L739"></a> 739     <em class="brace">}</em>
<a id="L740" name="L740"></a> 740 
<div class="comment">
      Returns the drop mode for this component.
      @return the drop mode for this component
      @see #setDropMode
      @since 1.6</div>
<a id="L748" name="L748"></a> 748     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a> <a href="../R/16268.html" title="Multiple referred from 2 places.">getDropMode</a>() <em class="brace">{</em>
<a id="L749" name="L749"></a> 749         <strong class="reserved">return</strong> dropMode;
<a id="L750" name="L750"></a> 750     <em class="brace">}</em>
<a id="L751" name="L751"></a> 751 
<a id="L752" name="L752"></a> 752     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L753" name="L753"></a> 753         SwingAccessor.setJTextComponentAccessor(
<a id="L754" name="L754"></a> 754             <strong class="reserved">new</strong> SwingAccessor.JTextComponentAccessor() <em class="brace">{</em>
<a id="L755" name="L755"></a> 755                 <strong class="reserved">public</strong> <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> <a href="../D/15239.html" title="Multiple defined in 5 places.">dropLocationForPoint</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> textComp,
<a id="L756" name="L756"></a> 756                                                                          <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p)
<a id="L757" name="L757"></a> 757                 <em class="brace">{</em>
<a id="L758" name="L758"></a> 758                     <strong class="reserved">return</strong> textComp.<a href="../D/15239.html" title="Multiple defined in 5 places.">dropLocationForPoint</a>(p);
<a id="L759" name="L759"></a> 759                 <em class="brace">}</em>
<a id="L760" name="L760"></a> 760                 <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/32524.html" title="Multiple defined in 5 places.">setDropLocation</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> textComp,
<a id="L761" name="L761"></a> 761                                               <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> <a href="../D/27026.html" title="Multiple defined in 4 places.">location</a>,
<a id="L762" name="L762"></a> 762                                               <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>, <strong class="reserved">boolean</strong> forDrop)
<a id="L763" name="L763"></a> 763                 <em class="brace">{</em>
<a id="L764" name="L764"></a> 764                     <strong class="reserved">return</strong> textComp.<a href="../D/32524.html" title="Multiple defined in 5 places.">setDropLocation</a>(<a href="../D/27026.html" title="Multiple defined in 4 places.">location</a>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>, forDrop);
<a id="L765" name="L765"></a> 765                 <em class="brace">}</em>
<a id="L766" name="L766"></a> 766             <em class="brace">}</em>);
<a id="L767" name="L767"></a> 767     <em class="brace">}</em>
<a id="L768" name="L768"></a> 768 
<a id="L769" name="L769"></a> 769 
<div class="comment">
      Calculates a drop location in this component, representing where a
      drop at the given point should insert data.
      <p>
      Note: This method is meant to override
      <code>JComponent.dropLocationForPoint()</code>, which is package-private
      in javax.swing. <code>TransferHandler</code> will detect text components
      and call this method instead via reflection. It's name should therefore
      not be changed.
      @param p the point to calculate a drop location for
      @return the drop location, or <code>null</code></p></div>
<a id="L783" name="L783"></a> 783     <a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> <a href="../R/13590.html" title="Multiple referred from 4 places.">dropLocationForPoint</a>(<a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p) <em class="brace">{</em>
<a id="L784" name="L784"></a> 784         <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[] bias = <strong class="reserved">new</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>[1];
<a id="L785" name="L785"></a> 785         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(<strong class="reserved">this</strong>, p, bias);
<a id="L786" name="L786"></a> 786 
<a id="L787" name="L787"></a> 787         <em class="comment">// viewToModel currently returns null for some HTML content</em>
<a id="L788" name="L788"></a> 788         <em class="comment">// when the point is within the component's top inset</em>
<a id="L789" name="L789"></a> 789         <strong class="reserved">if</strong> (bias[0] == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L790" name="L790"></a> 790             bias[0] = <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward;
<a id="L791" name="L791"></a> 791         <em class="brace">}</em>
<a id="L792" name="L792"></a> 792 
<a id="L793" name="L793"></a> 793         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a>(p, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, bias[0]);
<a id="L794" name="L794"></a> 794     <em class="brace">}</em>
<a id="L795" name="L795"></a> 795 
<div class="comment">
      Called to set or clear the drop location during a DnD operation.
      In some cases, the component may need to use it's internal selection
      temporarily to indicate the drop location. To help facilitate this,
      this method returns and accepts as a parameter a state object.
      This state object can be used to store, and later restore, the selection
      state. Whatever this method returns will be passed back to it in
      future calls, as the state parameter. If it wants the DnD system to
      continue storing the same state, it must pass it back every time.
      Here's how this is used:
      <p>
      Let's say that on the first call to this method the component decides
      to save some state (because it is about to use the selection to show
      a drop index). It can return a state object to the caller encapsulating
      any saved selection state. On a second call, let's say the drop location
      is being changed to something else. The component doesn't need to
      restore anything yet, so it simply passes back the same state object
      to have the DnD system continue storing it. Finally, let's say this
      method is messaged with <code>null</code>. This means DnD
      is finished with this component for now, meaning it should restore
      state. At this point, it can use the state parameter to restore
      said state, and of course return <code>null</code> since there's
      no longer anything to store.
      </p><p>
      Note: This method is meant to override
      <code>JComponent.setDropLocation()</code>, which is package-private
      in javax.swing. <code>TransferHandler</code> will detect text components
      and call this method instead via reflection. It's name should therefore
      not be changed.
      @param location the drop location (as calculated by
             <code>dropLocationForPoint</code>) or <code>null</code>
             if there's no longer a valid drop location
      @param state the state object saved earlier for this component,
             or <code>null</code>
      @param forDrop whether or not the method is being called because an
             actual drop occurred
      @return any saved state for this component, or <code>null</code> if none</p></div>
<a id="L835" name="L835"></a> 835     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/27287.html" title="Multiple referred from 4 places.">setDropLocation</a>(<a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> <a href="../D/27026.html" title="Multiple defined in 4 places.">location</a>,
<a id="L836" name="L836"></a> 836                            <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>,
<a id="L837" name="L837"></a> 837                            <strong class="reserved">boolean</strong> forDrop) <em class="brace">{</em>
<a id="L838" name="L838"></a> 838 
<a id="L839" name="L839"></a> 839         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> retVal = <strong class="reserved">null</strong>;
<a id="L840" name="L840"></a> 840         <a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> textLocation = (<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a>)<a href="../D/27026.html" title="Multiple defined in 4 places.">location</a>;
<a id="L841" name="L841"></a> 841 
<a id="L842" name="L842"></a> 842         <strong class="reserved">if</strong> (dropMode == <a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a>.USE_SELECTION) <em class="brace">{</em>
<a id="L843" name="L843"></a> 843             <strong class="reserved">if</strong> (textLocation == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L844" name="L844"></a> 844                 <strong class="reserved">if</strong> (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<div class="comment">
                      This object represents the state saved earlier.
                          If the caret is a DefaultCaret it will be
                          an Object array containing, in order:
                              - the saved caret mark (Integer)
                              - the saved caret dot (Integer)
                              - the saved caret visibility (Boolean)
                              - the saved mark bias (Position.Bias)
                              - the saved dot bias (Position.Bias)
                          If the caret is not a DefaultCaret it will
                          be similar, but will not contain the dot
                          or mark bias.</div>
<a id="L858" name="L858"></a> 858                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] vals = (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[])<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L859" name="L859"></a> 859 
<a id="L860" name="L860"></a> 860                     <strong class="reserved">if</strong> (!forDrop) <em class="brace">{</em>
<a id="L861" name="L861"></a> 861                         <strong class="reserved">if</strong> (caret <strong class="reserved">instanceof</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>) <em class="brace">{</em>
<a id="L862" name="L862"></a> 862                             ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)vals[0]).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>(),
<a id="L863" name="L863"></a> 863                                                          (<a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>)vals[3]);
<a id="L864" name="L864"></a> 864                             ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/27808.html" title="Multiple defined in 8 places.">moveDot</a>(((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)vals[1]).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>(),
<a id="L865" name="L865"></a> 865                                                          (<a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>)vals[4]);
<a id="L866" name="L866"></a> 866                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L867" name="L867"></a> 867                             caret.<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)vals[0]).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L868" name="L868"></a> 868                             caret.<a href="../D/27808.html" title="Multiple defined in 8 places.">moveDot</a>(((<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>)vals[1]).<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>());
<a id="L869" name="L869"></a> 869                         <em class="brace">}</em>
<a id="L870" name="L870"></a> 870                     <em class="brace">}</em>
<a id="L871" name="L871"></a> 871 
<a id="L872" name="L872"></a> 872                     caret.<a href="../D/34303.html" title="Multiple defined in 23 places.">setVisible</a>(((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)vals[2]).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>());
<a id="L873" name="L873"></a> 873                 <em class="brace">}</em>
<a id="L874" name="L874"></a> 874             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L875" name="L875"></a> 875                 <strong class="reserved">if</strong> (dropLocation == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L876" name="L876"></a> 876                     <strong class="reserved">boolean</strong> visible;
<a id="L877" name="L877"></a> 877 
<a id="L878" name="L878"></a> 878                     <strong class="reserved">if</strong> (caret <strong class="reserved">instanceof</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>) <em class="brace">{</em>
<a id="L879" name="L879"></a> 879                         <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a> dc = (<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret;
<a id="L880" name="L880"></a> 880                         visible = dc.<a href="../D/25158.html" title="Multiple defined in 19 places.">isActive</a>();
<a id="L881" name="L881"></a> 881                         retVal = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em><a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(dc.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>()),
<a id="L882" name="L882"></a> 882                                                <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(dc.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>()),
<a id="L883" name="L883"></a> 883                                                <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(visible),
<a id="L884" name="L884"></a> 884                                                dc.<a href="../S/3356.html#L1200" title="Defined at 1200 in src/javax/swing/text/DefaultCaret.java.">getMarkBias</a>(),
<a id="L885" name="L885"></a> 885                                                dc.<a href="../S/3356.html#L1190" title="Defined at 1190 in src/javax/swing/text/DefaultCaret.java.">getDotBias</a>()<em class="brace">}</em>;
<a id="L886" name="L886"></a> 886                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L887" name="L887"></a> 887                         visible = caret.<a href="../D/26487.html" title="Multiple defined in 29 places.">isVisible</a>();
<a id="L888" name="L888"></a> 888                         retVal = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em><a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>()),
<a id="L889" name="L889"></a> 889                                                <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>()),
<a id="L890" name="L890"></a> 890                                                <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(visible)<em class="brace">}</em>;
<a id="L891" name="L891"></a> 891                     <em class="brace">}</em>
<a id="L892" name="L892"></a> 892 
<a id="L893" name="L893"></a> 893                     caret.<a href="../D/34303.html" title="Multiple defined in 23 places.">setVisible</a>(<strong class="reserved">true</strong>);
<a id="L894" name="L894"></a> 894                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L895" name="L895"></a> 895                     retVal = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L896" name="L896"></a> 896                 <em class="brace">}</em>
<a id="L897" name="L897"></a> 897 
<a id="L898" name="L898"></a> 898                 <strong class="reserved">if</strong> (caret <strong class="reserved">instanceof</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>) <em class="brace">{</em>
<a id="L899" name="L899"></a> 899                     ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(textLocation.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>(), textLocation.<a href="../S/3351.html#L3844" title="Defined at 3844 in src/javax/swing/text/JTextComponent.java.">getBias</a>());
<a id="L900" name="L900"></a> 900                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L901" name="L901"></a> 901                     caret.<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(textLocation.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>());
<a id="L902" name="L902"></a> 902                 <em class="brace">}</em>
<a id="L903" name="L903"></a> 903             <em class="brace">}</em>
<a id="L904" name="L904"></a> 904         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L905" name="L905"></a> 905             <strong class="reserved">if</strong> (textLocation == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L906" name="L906"></a> 906                 <strong class="reserved">if</strong> (<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L907" name="L907"></a> 907                     caret.<a href="../D/34303.html" title="Multiple defined in 23 places.">setVisible</a>(((<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>)<a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>).<a href="../D/11892.html" title="Multiple defined in 3 places.">booleanValue</a>());
<a id="L908" name="L908"></a> 908                 <em class="brace">}</em>
<a id="L909" name="L909"></a> 909             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L910" name="L910"></a> 910                 <strong class="reserved">if</strong> (dropLocation == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L911" name="L911"></a> 911                     <strong class="reserved">boolean</strong> visible = caret <strong class="reserved">instanceof</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>
<a id="L912" name="L912"></a> 912                                       ? ((<a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a>)caret).<a href="../D/25158.html" title="Multiple defined in 19 places.">isActive</a>()
<a id="L913" name="L913"></a> 913                                       : caret.<a href="../D/26487.html" title="Multiple defined in 29 places.">isVisible</a>();
<a id="L914" name="L914"></a> 914                     retVal = <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(visible);
<a id="L915" name="L915"></a> 915                     caret.<a href="../D/34303.html" title="Multiple defined in 23 places.">setVisible</a>(<strong class="reserved">false</strong>);
<a id="L916" name="L916"></a> 916                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L917" name="L917"></a> 917                     retVal = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L918" name="L918"></a> 918                 <em class="brace">}</em>
<a id="L919" name="L919"></a> 919             <em class="brace">}</em>
<a id="L920" name="L920"></a> 920         <em class="brace">}</em>
<a id="L921" name="L921"></a> 921 
<a id="L922" name="L922"></a> 922         <a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> old = dropLocation;
<a id="L923" name="L923"></a> 923         dropLocation = textLocation;
<a id="L924" name="L924"></a> 924         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("dropLocation", old, dropLocation);
<a id="L925" name="L925"></a> 925 
<a id="L926" name="L926"></a> 926         <strong class="reserved">return</strong> retVal;
<a id="L927" name="L927"></a> 927     <em class="brace">}</em>
<a id="L928" name="L928"></a> 928 
<div class="comment">
      Returns the location that this component should visually indicate
      as the drop location during a DnD operation over the component,
      or <code>null</code> if no location is to currently be shown.
      <p>
      This method is not meant for querying the drop location
      from a <code>TransferHandler</code>, as the drop location is only
      set after the <code>TransferHandler</code>'s <code>canImport</code>
      has returned and has allowed for the location to be shown.
      </p><p>
      When this property changes, a property change event with
      name "dropLocation" is fired by the component.
      @return the drop location
      @see #setDropMode
      @see TransferHandler#canImport(TransferHandler.TransferSupport)
      @since 1.6</p></div>
<a id="L947" name="L947"></a> 947     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> <a href="../R/16267.html" title="Multiple referred from 17 places.">getDropLocation</a>() <em class="brace">{</em>
<a id="L948" name="L948"></a> 948         <strong class="reserved">return</strong> dropLocation;
<a id="L949" name="L949"></a> 949     <em class="brace">}</em>
<a id="L950" name="L950"></a> 950 
<a id="L951" name="L951"></a> 951 
<div class="comment">
      Updates the <code>InputMap</code>s in response to a
      <code>Keymap</code> change.
      @param oldKm  the old <code>Keymap</code>
      @param newKm  the new <code>Keymap</code></div>
<a id="L958" name="L958"></a> 958     <strong class="reserved">void</strong> <a href="../S/3351.html#L648" title="Referred from 648 in src/javax/swing/text/JTextComponent.java.">updateInputMap</a>(<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> oldKm, <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> newKm) <em class="brace">{</em>
<a id="L959" name="L959"></a> 959         <em class="comment">// Locate the current KeymapWrapper.</em>
<a id="L960" name="L960"></a> 960         <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> km = <a href="../D/19735.html" title="Multiple defined in 23 places.">getInputMap</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.WHEN_FOCUSED);
<a id="L961" name="L961"></a> 961         <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = km;
<a id="L962" name="L962"></a> 962         <strong class="reserved">while</strong> (km != <strong class="reserved">null</strong> &amp;&amp; !(km <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L4233" title="Defined at 4233 in src/javax/swing/text/JTextComponent.java.">KeymapWrapper</a>)) <em class="brace">{</em>
<a id="L963" name="L963"></a> 963             <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> = km;
<a id="L964" name="L964"></a> 964             km = km.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L965" name="L965"></a> 965         <em class="brace">}</em>
<a id="L966" name="L966"></a> 966         <strong class="reserved">if</strong> (km != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967             <em class="comment">// Found it, tweak the InputMap that points to it, as well</em>
<a id="L968" name="L968"></a> 968             <em class="comment">// as anything it points to.</em>
<a id="L969" name="L969"></a> 969             <strong class="reserved">if</strong> (newKm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L970" name="L970"></a> 970                 <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> != km) <em class="brace">{</em>
<a id="L971" name="L971"></a> 971                     <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(km.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>());
<a id="L972" name="L972"></a> 972                 <em class="brace">}</em>
<a id="L973" name="L973"></a> 973                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L974" name="L974"></a> 974                     <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">null</strong>);
<a id="L975" name="L975"></a> 975                 <em class="brace">}</em>
<a id="L976" name="L976"></a> 976             <em class="brace">}</em>
<a id="L977" name="L977"></a> 977             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L978" name="L978"></a> 978                 <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> newKM = <strong class="reserved">new</strong> <a href="../S/3351.html#L4233" title="Defined at 4233 in src/javax/swing/text/JTextComponent.java.">KeymapWrapper</a>(newKm);
<a id="L979" name="L979"></a> 979                 <a href="../D/26739.html" title="Multiple defined in 19 places.">last</a>.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(newKM);
<a id="L980" name="L980"></a> 980                 <strong class="reserved">if</strong> (<a href="../D/26739.html" title="Multiple defined in 19 places.">last</a> != km) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981                     newKM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(km.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>());
<a id="L982" name="L982"></a> 982                 <em class="brace">}</em>
<a id="L983" name="L983"></a> 983             <em class="brace">}</em>
<a id="L984" name="L984"></a> 984         <em class="brace">}</em>
<a id="L985" name="L985"></a> 985         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (newKm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L986" name="L986"></a> 986             km = <a href="../D/19735.html" title="Multiple defined in 23 places.">getInputMap</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a>.WHEN_FOCUSED);
<a id="L987" name="L987"></a> 987             <strong class="reserved">if</strong> (km != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L988" name="L988"></a> 988                 <em class="comment">// Couldn't find it.</em>
<a id="L989" name="L989"></a> 989                 <em class="comment">// Set the parent of WHEN_FOCUSED InputMap to be the new one.</em>
<a id="L990" name="L990"></a> 990                 <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> newKM = <strong class="reserved">new</strong> <a href="../S/3351.html#L4233" title="Defined at 4233 in src/javax/swing/text/JTextComponent.java.">KeymapWrapper</a>(newKm);
<a id="L991" name="L991"></a> 991                 newKM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(km.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>());
<a id="L992" name="L992"></a> 992                 km.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(newKM);
<a id="L993" name="L993"></a> 993             <em class="brace">}</em>
<a id="L994" name="L994"></a> 994         <em class="brace">}</em>
<a id="L995" name="L995"></a> 995 
<a id="L996" name="L996"></a> 996         <em class="comment">// Do the same thing with the ActionMap</em>
<a id="L997" name="L997"></a> 997         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> am = <a href="../D/16787.html" title="Multiple defined in 9 places.">getActionMap</a>();
<a id="L998" name="L998"></a> 998         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> lastAM = am;
<a id="L999" name="L999"></a> 999         <strong class="reserved">while</strong> (am != <strong class="reserved">null</strong> &amp;&amp; !(am <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L4291" title="Defined at 4291 in src/javax/swing/text/JTextComponent.java.">KeymapActionMap</a>)) <em class="brace">{</em>
<a id="L1000" name="L1000"></a>1000             lastAM = am;
<a id="L1001" name="L1001"></a>1001             am = am.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L1002" name="L1002"></a>1002         <em class="brace">}</em>
<a id="L1003" name="L1003"></a>1003         <strong class="reserved">if</strong> (am != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1004" name="L1004"></a>1004             <em class="comment">// Found it, tweak the Actionap that points to it, as well</em>
<a id="L1005" name="L1005"></a>1005             <em class="comment">// as anything it points to.</em>
<a id="L1006" name="L1006"></a>1006             <strong class="reserved">if</strong> (newKm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007                 <strong class="reserved">if</strong> (lastAM != am) <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008                     lastAM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(am.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>());
<a id="L1009" name="L1009"></a>1009                 <em class="brace">}</em>
<a id="L1010" name="L1010"></a>1010                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011                     lastAM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(<strong class="reserved">null</strong>);
<a id="L1012" name="L1012"></a>1012                 <em class="brace">}</em>
<a id="L1013" name="L1013"></a>1013             <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1015" name="L1015"></a>1015                 <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> newAM = <strong class="reserved">new</strong> <a href="../S/3351.html#L4291" title="Defined at 4291 in src/javax/swing/text/JTextComponent.java.">KeymapActionMap</a>(newKm);
<a id="L1016" name="L1016"></a>1016                 lastAM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(newAM);
<a id="L1017" name="L1017"></a>1017                 <strong class="reserved">if</strong> (lastAM != am) <em class="brace">{</em>
<a id="L1018" name="L1018"></a>1018                     newAM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(am.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>());
<a id="L1019" name="L1019"></a>1019                 <em class="brace">}</em>
<a id="L1020" name="L1020"></a>1020             <em class="brace">}</em>
<a id="L1021" name="L1021"></a>1021         <em class="brace">}</em>
<a id="L1022" name="L1022"></a>1022         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (newKm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1023" name="L1023"></a>1023             am = <a href="../D/16787.html" title="Multiple defined in 9 places.">getActionMap</a>();
<a id="L1024" name="L1024"></a>1024             <strong class="reserved">if</strong> (am != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025                 <em class="comment">// Couldn't find it.</em>
<a id="L1026" name="L1026"></a>1026                 <em class="comment">// Set the parent of ActionMap to be the new one.</em>
<a id="L1027" name="L1027"></a>1027                 <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> newAM = <strong class="reserved">new</strong> <a href="../S/3351.html#L4291" title="Defined at 4291 in src/javax/swing/text/JTextComponent.java.">KeymapActionMap</a>(newKm);
<a id="L1028" name="L1028"></a>1028                 newAM.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(am.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>());
<a id="L1029" name="L1029"></a>1029                 am.<a href="../D/33509.html" title="Multiple defined in 44 places.">setParent</a>(newAM);
<a id="L1030" name="L1030"></a>1030             <em class="brace">}</em>
<a id="L1031" name="L1031"></a>1031         <em class="brace">}</em>
<a id="L1032" name="L1032"></a>1032     <em class="brace">}</em>
<a id="L1033" name="L1033"></a>1033 
<div class="comment">
      Fetches the keymap currently active in this text
      component.
      @return the keymap</div>
<a id="L1040" name="L1040"></a>1040     <strong class="reserved">public</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../R/17253.html" title="Multiple referred from 3 places.">getKeymap</a>() <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041         <strong class="reserved">return</strong> keymap;
<a id="L1042" name="L1042"></a>1042     <em class="brace">}</em>
<a id="L1043" name="L1043"></a>1043 
<div class="comment">
      Adds a new keymap into the keymap hierarchy.  Keymap bindings
      resolve from bottom up so an attribute specified in a child
      will override an attribute specified in the parent.
      @param nm   the name of the keymap (must be unique within the
        collection of named keymaps in the document); the name may
        be <code>null</code> if the keymap is unnamed,
        but the caller is responsible for managing the reference
        returned as an unnamed keymap can't
        be fetched by name
      @param parent the parent keymap; this may be <code>null</code> if
        unspecified bindings need not be resolved in some other keymap
      @return the keymap</div>
<a id="L1059" name="L1059"></a>1059     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../R/9818.html" title="Multiple referred from 2 places.">addKeymap</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm, <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L1060" name="L1060"></a>1060         <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <strong class="reserved">new</strong> <a href="../S/3351.html#L4056" title="Defined at 4056 in src/javax/swing/text/JTextComponent.java.">DefaultKeymap</a>(nm, <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>);
<a id="L1061" name="L1061"></a>1061         <strong class="reserved">if</strong> (nm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1062" name="L1062"></a>1062             <em class="comment">// add a named keymap, a class of bindings</em>
<a id="L1063" name="L1063"></a>1063             <a href="../S/3351.html#L1090" title="Defined at 1090 in src/javax/swing/text/JTextComponent.java.">getKeymapTable</a>().<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(nm, <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>);
<a id="L1064" name="L1064"></a>1064         <em class="brace">}</em>
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">return</strong> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1066" name="L1066"></a>1066     <em class="brace">}</em>
<a id="L1067" name="L1067"></a>1067 
<div class="comment">
      Removes a named keymap previously added to the document.  Keymaps
      with <code>null</code> names may not be removed in this way.
      @param nm  the name of the keymap to remove
      @return the keymap that was removed</div>
<a id="L1075" name="L1075"></a>1075     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> removeKeymap(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm) <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076         <strong class="reserved">return</strong> <a href="../S/3351.html#L1090" title="Defined at 1090 in src/javax/swing/text/JTextComponent.java.">getKeymapTable</a>().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(nm);
<a id="L1077" name="L1077"></a>1077     <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078 
<div class="comment">
      Fetches a named keymap previously added to the document.
      This does not work with <code>null</code>-named keymaps.
      @param nm  the name of the keymap
      @return the keymap</div>
<a id="L1086" name="L1086"></a>1086     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../R/17253.html" title="Multiple referred from 3 places.">getKeymap</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm) <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087         <strong class="reserved">return</strong> <a href="../S/3351.html#L1090" title="Defined at 1090 in src/javax/swing/text/JTextComponent.java.">getKeymapTable</a>().<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(nm);
<a id="L1088" name="L1088"></a>1088     <em class="brace">}</em>
<a id="L1089" name="L1089"></a>1089 
<a id="L1090" name="L1090"></a>1090     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a>&gt; <a href="../R/17255.html" title="Multiple referred from 3 places.">getKeymapTable</a>() <em class="brace">{</em>
<a id="L1091" name="L1091"></a>1091         <strong class="reserved">synchronized</strong> (KEYMAP_TABLE) <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092             AppContext appContext = AppContext.getAppContext();
<a id="L1093" name="L1093"></a>1093             <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a>&gt; keymapTable =
<a id="L1094" name="L1094"></a>1094                 (<a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a>&gt;)appContext.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(KEYMAP_TABLE);
<a id="L1095" name="L1095"></a>1095             <strong class="reserved">if</strong> (keymapTable == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1096" name="L1096"></a>1096                 keymapTable = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>,<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a>&gt;(17);
<a id="L1097" name="L1097"></a>1097                 appContext.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(KEYMAP_TABLE, keymapTable);
<a id="L1098" name="L1098"></a>1098                 <em class="comment">//initialize default keymap</em>
<a id="L1099" name="L1099"></a>1099                 <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> binding = <a href="../S/3351.html#L1059" title="Defined at 1059 in src/javax/swing/text/JTextComponent.java.">addKeymap</a>(DEFAULT_KEYMAP, <strong class="reserved">null</strong>);
<a id="L1100" name="L1100"></a>1100                 binding.<a href="../D/32377.html" title="Multiple defined in 5 places.">setDefaultAction</a>(<strong class="reserved">new</strong>
<a id="L1101" name="L1101"></a>1101                                          <a href="../S/3360.html#L73" title="Defined at 73 in src/javax/swing/text/DefaultEditorKit.java.">DefaultEditorKit</a>.<a href="../S/3360.html#L852" title="Defined at 852 in src/javax/swing/text/DefaultEditorKit.java.">DefaultKeyTypedAction</a>());
<a id="L1102" name="L1102"></a>1102             <em class="brace">}</em>
<a id="L1103" name="L1103"></a>1103             <strong class="reserved">return</strong> keymapTable;
<a id="L1104" name="L1104"></a>1104         <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105     <em class="brace">}</em>
<a id="L1106" name="L1106"></a>1106 
<div class="comment">
      Binding record for creating key bindings.
      <p>
      <strong>Warning:</strong>
      Serialized objects of this class will not be compatible with
      future Swing releases. The current serialization support is
      appropriate for short term storage or RMI between applications running
      the same version of Swing.  As of 1.4, support for long term storage
      of all JavaBeans™
      has been added to the <code>java.beans</code> package.
      Please see {@link java.beans.XMLEncoder}.</p></div>
<a id="L1119" name="L1119"></a>1119     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4351.html" title="Multiple referred from 13 places.">KeyBinding</a> <em class="brace">{</em>
<a id="L1120" name="L1120"></a>1120 
<div class="comment">
          The key.</div>
<a id="L1124" name="L1124"></a>1124         <strong class="reserved">public</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L1125" name="L1125"></a>1125 
<div class="comment">
          The name of the action for the key.</div>
<a id="L1129" name="L1129"></a>1129         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> actionName;
<a id="L1130" name="L1130"></a>1130 
<div class="comment">
          Creates a new key binding.
          @param key the key
          @param actionName the name of the action for the key</div>
<a id="L1137" name="L1137"></a>1137         <strong class="reserved">public</strong> KeyBinding(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> actionName) <em class="brace">{</em>
<a id="L1138" name="L1138"></a>1138             <strong class="reserved">this</strong>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L1139" name="L1139"></a>1139             <strong class="reserved">this</strong>.actionName = actionName;
<a id="L1140" name="L1140"></a>1140         <em class="brace">}</em>
<a id="L1141" name="L1141"></a>1141     <em class="brace">}</em>
<a id="L1142" name="L1142"></a>1142 
<div class="comment">
      <p>
      Loads a keymap with a bunch of
      bindings.  This can be used to take a static table of
      definitions and load them into some keymap.  The following
      example illustrates an example of binding some keys to
      the cut, copy, and paste actions associated with a
      JTextComponent.  A code fragment to accomplish
      this might look as follows:
      </p><pre><code>
        static final JTextComponent.KeyBinding[] defaultBindings = {
          new JTextComponent.KeyBinding(
            KeyStroke.getKeyStroke(KeyEvent.VK_C, InputEvent.CTRL_MASK),
            DefaultEditorKit.copyAction),
          new JTextComponent.KeyBinding(
            KeyStroke.getKeyStroke(KeyEvent.VK_V, InputEvent.CTRL_MASK),
            DefaultEditorKit.pasteAction),
          new JTextComponent.KeyBinding(
            KeyStroke.getKeyStroke(KeyEvent.VK_X, InputEvent.CTRL_MASK),
            DefaultEditorKit.cutAction),
        };
        JTextComponent c = new JTextPane();
        Keymap k = c.getKeymap();
        JTextComponent.loadKeymap(k, defaultBindings, c.getActions());
      </code></pre>
      The sets of bindings and actions may be empty but must be
      non-<code>null</code>.
      @param map the keymap
      @param bindings the bindings
      @param actions the set of actions</div>
<a id="L1178" name="L1178"></a>1178     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/2895.html#L181" title="Referred from 181 in src/javax/swing/plaf/basic/BasicTextUI.java.">loadKeymap</a>(<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>, <a href="../S/3351.html#L1119" title="Defined at 1119 in src/javax/swing/text/JTextComponent.java.">KeyBinding</a>[] bindings, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L1179" name="L1179"></a>1179         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>&gt; h = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>&gt;();
<a id="L1180" name="L1180"></a>1180         <strong class="reserved">for</strong> (<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> : <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>) <em class="brace">{</em>
<a id="L1181" name="L1181"></a>1181             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME);
<a id="L1182" name="L1182"></a>1182             h.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>((<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>!=<strong class="reserved">null</strong> ? <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>:""), <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1183" name="L1183"></a>1183         <em class="brace">}</em>
<a id="L1184" name="L1184"></a>1184         <strong class="reserved">for</strong> (<a href="../S/3351.html#L1119" title="Defined at 1119 in src/javax/swing/text/JTextComponent.java.">KeyBinding</a> binding : bindings) <em class="brace">{</em>
<a id="L1185" name="L1185"></a>1185             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = h.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(binding.actionName);
<a id="L1186" name="L1186"></a>1186             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1187" name="L1187"></a>1187                 <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/10638.html" title="Multiple defined in 2 places.">addActionForKeyStroke</a>(binding.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L1188" name="L1188"></a>1188             <em class="brace">}</em>
<a id="L1189" name="L1189"></a>1189         <em class="brace">}</em>
<a id="L1190" name="L1190"></a>1190     <em class="brace">}</em>
<a id="L1191" name="L1191"></a>1191 
<div class="comment">
      Fetches the current color used to render the
      caret.
      @return the color</div>
<a id="L1198" name="L1198"></a>1198     <strong class="reserved">public</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../R/15447.html" title="Multiple referred from 5 places.">getCaretColor</a>() <em class="brace">{</em>
<a id="L1199" name="L1199"></a>1199         <strong class="reserved">return</strong> caretColor;
<a id="L1200" name="L1200"></a>1200     <em class="brace">}</em>
<a id="L1201" name="L1201"></a>1201 
<div class="comment">
      Sets the current color used to render the caret.
      Setting to <code>null</code> effectively restores the default color.
      Setting the color results in a PropertyChange event ("caretColor")
      being fired.
      @param c the color
      @see #getCaretColor
      @beaninfo
       description: the color used to render the caret
             bound: true
         preferred: true</div>
<a id="L1215" name="L1215"></a>1215     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27006.html" title="Multiple referred from 3 places.">setCaretColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1216" name="L1216"></a>1216         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> old = caretColor;
<a id="L1217" name="L1217"></a>1217         caretColor = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1218" name="L1218"></a>1218         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("caretColor", old, caretColor);
<a id="L1219" name="L1219"></a>1219     <em class="brace">}</em>
<a id="L1220" name="L1220"></a>1220 
<div class="comment">
      Fetches the current color used to render the
      selection.
      @return the color</div>
<a id="L1227" name="L1227"></a>1227     <strong class="reserved">public</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../R/18935.html" title="Multiple referred from 8 places.">getSelectionColor</a>() <em class="brace">{</em>
<a id="L1228" name="L1228"></a>1228         <strong class="reserved">return</strong> selectionColor;
<a id="L1229" name="L1229"></a>1229     <em class="brace">}</em>
<a id="L1230" name="L1230"></a>1230 
<div class="comment">
      Sets the current color used to render the selection.
      Setting the color to <code>null</code> is the same as setting
      <code>Color.white</code>.  Setting the color results in a
      PropertyChange event ("selectionColor").
      @param c the color
      @see #getSelectionColor
      @beaninfo
       description: color used to render selection background
             bound: true
         preferred: true</div>
<a id="L1244" name="L1244"></a>1244     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28142.html" title="Multiple referred from 3 places.">setSelectionColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1245" name="L1245"></a>1245         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> old = selectionColor;
<a id="L1246" name="L1246"></a>1246         selectionColor = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1247" name="L1247"></a>1247         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("selectionColor", old, selectionColor);
<a id="L1248" name="L1248"></a>1248     <em class="brace">}</em>
<a id="L1249" name="L1249"></a>1249 
<div class="comment">
      Fetches the current color used to render the
      selected text.
      @return the color</div>
<a id="L1256" name="L1256"></a>1256     <strong class="reserved">public</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../R/18929.html" title="Multiple referred from 6 places.">getSelectedTextColor</a>() <em class="brace">{</em>
<a id="L1257" name="L1257"></a>1257         <strong class="reserved">return</strong> selectedTextColor;
<a id="L1258" name="L1258"></a>1258     <em class="brace">}</em>
<a id="L1259" name="L1259"></a>1259 
<div class="comment">
      Sets the current color used to render the selected text.
      Setting the color to <code>null</code> is the same as
      <code>Color.black</code>. Setting the color results in a
      PropertyChange event ("selectedTextColor") being fired.
      @param c the color
      @see #getSelectedTextColor
      @beaninfo
       description: color used to render selected text
             bound: true
         preferred: true</div>
<a id="L1273" name="L1273"></a>1273     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28137.html" title="Multiple referred from 3 places.">setSelectedTextColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1274" name="L1274"></a>1274         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> old = selectedTextColor;
<a id="L1275" name="L1275"></a>1275         selectedTextColor = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1276" name="L1276"></a>1276         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("selectedTextColor", old, selectedTextColor);
<a id="L1277" name="L1277"></a>1277     <em class="brace">}</em>
<a id="L1278" name="L1278"></a>1278 
<div class="comment">
      Fetches the current color used to render the
      disabled text.
      @return the color</div>
<a id="L1285" name="L1285"></a>1285     <strong class="reserved">public</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../R/16181.html" title="Multiple referred from 12 places.">getDisabledTextColor</a>() <em class="brace">{</em>
<a id="L1286" name="L1286"></a>1286         <strong class="reserved">return</strong> disabledTextColor;
<a id="L1287" name="L1287"></a>1287     <em class="brace">}</em>
<a id="L1288" name="L1288"></a>1288 
<div class="comment">
      Sets the current color used to render the
      disabled text.  Setting the color fires off a
      PropertyChange event ("disabledTextColor").
      @param c the color
      @see #getDisabledTextColor
      @beaninfo
       description: color used to render disabled text
             bound: true
         preferred: true</div>
<a id="L1301" name="L1301"></a>1301     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27245.html" title="Multiple referred from 3 places.">setDisabledTextColor</a>(<a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1302" name="L1302"></a>1302         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> old = disabledTextColor;
<a id="L1303" name="L1303"></a>1303         disabledTextColor = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1304" name="L1304"></a>1304         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("disabledTextColor", old, disabledTextColor);
<a id="L1305" name="L1305"></a>1305     <em class="brace">}</em>
<a id="L1306" name="L1306"></a>1306 
<div class="comment">
      Replaces the currently selected content with new content
      represented by the given string.  If there is no selection
      this amounts to an insert of the given text.  If there
      is no replacement text this amounts to a removal of the
      current selection.
      <p>
      This is the method that is used by the default implementation
      of the action for inserting content that gets bound to the
      keymap actions.
      @param content  the content to replace the selection with</p></div>
<a id="L1320" name="L1320"></a>1320     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26164.html" title="Multiple referred from 14 places.">replaceSelection</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>) <em class="brace">{</em>
<a id="L1321" name="L1321"></a>1321         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1322" name="L1322"></a>1322         <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1323" name="L1323"></a>1323             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1324" name="L1324"></a>1324                 <strong class="reserved">boolean</strong> composedTextSaved = <a href="../S/3351.html#L4804" title="Defined at 4804 in src/javax/swing/text/JTextComponent.java.">saveComposedText</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>());
<a id="L1325" name="L1325"></a>1325                 <strong class="reserved">int</strong> p0 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>());
<a id="L1326" name="L1326"></a>1326                 <strong class="reserved">int</strong> p1 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>());
<a id="L1327" name="L1327"></a>1327                 <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1328" name="L1328"></a>1328                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(p0, p1 - p0, <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>,<strong class="reserved">null</strong>);
<a id="L1329" name="L1329"></a>1329                 <em class="brace">}</em>
<a id="L1330" name="L1330"></a>1330                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1331" name="L1331"></a>1331                     <strong class="reserved">if</strong> (p0 != p1) <em class="brace">{</em>
<a id="L1332" name="L1332"></a>1332                         doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(p0, p1 - p0);
<a id="L1333" name="L1333"></a>1333                     <em class="brace">}</em>
<a id="L1334" name="L1334"></a>1334                     <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1335" name="L1335"></a>1335                         doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(p0, <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, <strong class="reserved">null</strong>);
<a id="L1336" name="L1336"></a>1336                     <em class="brace">}</em>
<a id="L1337" name="L1337"></a>1337                 <em class="brace">}</em>
<a id="L1338" name="L1338"></a>1338                 <strong class="reserved">if</strong> (composedTextSaved) <em class="brace">{</em>
<a id="L1339" name="L1339"></a>1339                     <a href="../S/3351.html#L4828" title="Defined at 4828 in src/javax/swing/text/JTextComponent.java.">restoreComposedText</a>();
<a id="L1340" name="L1340"></a>1340                 <em class="brace">}</em>
<a id="L1341" name="L1341"></a>1341             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1342" name="L1342"></a>1342                 <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../S/3125.html#L491" title="Defined at 491 in src/javax/swing/UIManager.java.">getLookAndFeel</a>().<a href="../D/29904.html" title="Multiple defined in 3 places.">provideErrorFeedback</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>);
<a id="L1343" name="L1343"></a>1343             <em class="brace">}</em>
<a id="L1344" name="L1344"></a>1344         <em class="brace">}</em>
<a id="L1345" name="L1345"></a>1345     <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346 
<div class="comment">
      Fetches a portion of the text represented by the
      component.  Returns an empty string if length is 0.
      @param offs the offset ≥ 0
      @param len the length ≥ 0
      @return the text
      @exception BadLocationException if the offset or length are invalid</div>
<a id="L1356" name="L1356"></a>1356     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19424.html" title="Multiple referred from 339 places.">getText</a>(<strong class="reserved">int</strong> offs, <strong class="reserved">int</strong> len) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1357" name="L1357"></a>1357         <strong class="reserved">return</strong> <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(offs, len);
<a id="L1358" name="L1358"></a>1358     <em class="brace">}</em>
<a id="L1359" name="L1359"></a>1359 
<div class="comment">
      Converts the given location in the model to a place in
      the view coordinate system.
      The component must have a positive size for
      this translation to be computed (i.e. layout cannot
      be computed until the component has been sized).  The
      component does not have to be visible or painted.
      @param pos the position ≥ 0
      @return the coordinates as a rectangle, with (r.x, r.y) as the location
        in the coordinate system, or null if the component does
        not yet have a positive size.
      @exception BadLocationException if the given position does not
        represent a valid location in the associated document
      @see TextUI#modelToView</div>
<a id="L1376" name="L1376"></a>1376     <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/23332.html" title="Multiple referred from 109 places.">modelToView</a>(<strong class="reserved">int</strong> pos) <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L1377" name="L1377"></a>1377         <strong class="reserved">return</strong> <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<strong class="reserved">this</strong>, pos);
<a id="L1378" name="L1378"></a>1378     <em class="brace">}</em>
<a id="L1379" name="L1379"></a>1379 
<div class="comment">
      Converts the given place in the view coordinate system
      to the nearest representative location in the model.
      The component must have a positive size for
      this translation to be computed (i.e. layout cannot
      be computed until the component has been sized).  The
      component does not have to be visible or painted.
      @param pt the location in the view to translate
      @return the offset ≥ 0 from the start of the document,
        or -1 if the component does not yet have a positive
        size.
      @see TextUI#viewToModel</div>
<a id="L1394" name="L1394"></a>1394     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/30138.html" title="Multiple referred from 99 places.">viewToModel</a>(<a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> pt) <em class="brace">{</em>
<a id="L1395" name="L1395"></a>1395         <strong class="reserved">return</strong> <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(<strong class="reserved">this</strong>, pt);
<a id="L1396" name="L1396"></a>1396     <em class="brace">}</em>
<a id="L1397" name="L1397"></a>1397 
<div class="comment">
      Transfers the currently selected range in the associated
      text model to the system clipboard, removing the contents
      from the model.  The current selection is reset.  Does nothing
      for <code>null</code> selections.
      @see java.awt.Toolkit#getSystemClipboard
      @see java.awt.datatransfer.Clipboard</div>
<a id="L1407" name="L1407"></a>1407     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12886.html" title="Multiple referred from 4 places.">cut</a>() <em class="brace">{</em>
<a id="L1408" name="L1408"></a>1408         <strong class="reserved">if</strong> (<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>() &amp;&amp; <a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L1409" name="L1409"></a>1409             <a href="../S/3351.html#L1451" title="Defined at 1451 in src/javax/swing/text/JTextComponent.java.">invokeAction</a>("cut", <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L591" title="Defined at 591 in src/javax/swing/TransferHandler.java.">getCutAction</a>());
<a id="L1410" name="L1410"></a>1410         <em class="brace">}</em>
<a id="L1411" name="L1411"></a>1411     <em class="brace">}</em>
<a id="L1412" name="L1412"></a>1412 
<div class="comment">
      Transfers the currently selected range in the associated
      text model to the system clipboard, leaving the contents
      in the text model.  The current selection remains intact.
      Does nothing for <code>null</code> selections.
      @see java.awt.Toolkit#getSystemClipboard
      @see java.awt.datatransfer.Clipboard</div>
<a id="L1422" name="L1422"></a>1422     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12088.html" title="Multiple referred from 272 places.">copy</a>() <em class="brace">{</em>
<a id="L1423" name="L1423"></a>1423         <a href="../S/3351.html#L1451" title="Defined at 1451 in src/javax/swing/text/JTextComponent.java.">invokeAction</a>("copy", <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L603" title="Defined at 603 in src/javax/swing/TransferHandler.java.">getCopyAction</a>());
<a id="L1424" name="L1424"></a>1424     <em class="brace">}</em>
<a id="L1425" name="L1425"></a>1425 
<div class="comment">
      Transfers the contents of the system clipboard into the
      associated text model.  If there is a selection in the
      associated view, it is replaced with the contents of the
      clipboard.  If there is no selection, the clipboard contents
      are inserted in front of the current insert position in
      the associated view.  If the clipboard is empty, does nothing.
      @see #replaceSelection
      @see java.awt.Toolkit#getSystemClipboard
      @see java.awt.datatransfer.Clipboard</div>
<a id="L1438" name="L1438"></a>1438     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24678.html" title="Multiple referred from 3 places.">paste</a>() <em class="brace">{</em>
<a id="L1439" name="L1439"></a>1439         <strong class="reserved">if</strong> (<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>() &amp;&amp; <a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L1440" name="L1440"></a>1440             <a href="../S/3351.html#L1451" title="Defined at 1451 in src/javax/swing/text/JTextComponent.java.">invokeAction</a>("paste", <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../S/3192.html#L615" title="Defined at 615 in src/javax/swing/TransferHandler.java.">getPasteAction</a>());
<a id="L1441" name="L1441"></a>1441         <em class="brace">}</em>
<a id="L1442" name="L1442"></a>1442     <em class="brace">}</em>
<a id="L1443" name="L1443"></a>1443 
<div class="comment">
      This is a convenience method that is only useful for
      <code>cut</code>, <code>copy</code> and <code>paste</code>.  If
      an <code>Action</code> with the name <code>name</code> does not
      exist in the <code>ActionMap</code>, this will attempt to install a
      <code>TransferHandler</code> and then use <code>altAction</code>.</div>
<a id="L1451" name="L1451"></a>1451     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/21053.html" title="Multiple referred from 3 places.">invokeAction</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> altAction) <em class="brace">{</em>
<a id="L1452" name="L1452"></a>1452         <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> = <a href="../D/16787.html" title="Multiple defined in 9 places.">getActionMap</a>();
<a id="L1453" name="L1453"></a>1453         <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = <strong class="reserved">null</strong>;
<a id="L1454" name="L1454"></a>1454 
<a id="L1455" name="L1455"></a>1455         <strong class="reserved">if</strong> (<a href="../D/27441.html" title="Multiple defined in 12 places.">map</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1456" name="L1456"></a>1456             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L1457" name="L1457"></a>1457         <em class="brace">}</em>
<a id="L1458" name="L1458"></a>1458         <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1459" name="L1459"></a>1459             <a href="../S/3351.html#L1473" title="Defined at 1473 in src/javax/swing/text/JTextComponent.java.">installDefaultTransferHandlerIfNecessary</a>();
<a id="L1460" name="L1460"></a>1460             <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> = altAction;
<a id="L1461" name="L1461"></a>1461         <em class="brace">}</em>
<a id="L1462" name="L1462"></a>1462         <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.<a href="../D/10592.html" title="Multiple defined in 159 places.">actionPerformed</a>(<strong class="reserved">new</strong> <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>(<strong class="reserved">this</strong>,
<a id="L1463" name="L1463"></a>1463                                <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>.ACTION_PERFORMED, (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>.
<a id="L1464" name="L1464"></a>1464                                <a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME),
<a id="L1465" name="L1465"></a>1465                                <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../S/2178.html#L803" title="Defined at 803 in src/java/awt/EventQueue.java.">getMostRecentEventTime</a>(),
<a id="L1466" name="L1466"></a>1466                                <a href="../S/3351.html#L4022" title="Defined at 4022 in src/javax/swing/text/JTextComponent.java.">getCurrentEventModifiers</a>()));
<a id="L1467" name="L1467"></a>1467     <em class="brace">}</em>
<a id="L1468" name="L1468"></a>1468 
<div class="comment">
      If the current <code>TransferHandler</code> is null, this will
      install a new one.</div>
<a id="L1473" name="L1473"></a>1473     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L1459" title="Referred from 1459 in src/javax/swing/text/JTextComponent.java.">installDefaultTransferHandlerIfNecessary</a>() <em class="brace">{</em>
<a id="L1474" name="L1474"></a>1474         <strong class="reserved">if</strong> (<a href="../D/23244.html" title="Multiple defined in 7 places.">getTransferHandler</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1475" name="L1475"></a>1475             <strong class="reserved">if</strong> (defaultTransferHandler == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1476" name="L1476"></a>1476                 defaultTransferHandler = <strong class="reserved">new</strong> <a href="../S/3351.html#L3943" title="Defined at 3943 in src/javax/swing/text/JTextComponent.java.">DefaultTransferHandler</a>();
<a id="L1477" name="L1477"></a>1477             <em class="brace">}</em>
<a id="L1478" name="L1478"></a>1478             <a href="../D/34181.html" title="Multiple defined in 5 places.">setTransferHandler</a>(defaultTransferHandler);
<a id="L1479" name="L1479"></a>1479         <em class="brace">}</em>
<a id="L1480" name="L1480"></a>1480     <em class="brace">}</em>
<a id="L1481" name="L1481"></a>1481 
<div class="comment">
      Moves the caret to a new position, leaving behind a mark
      defined by the last time <code>setCaretPosition</code> was
      called.  This forms a selection.
      If the document is <code>null</code>, does nothing. The position
      must be between 0 and the length of the component's text or else
      an exception is thrown.
      @param pos the position
      @exception    IllegalArgumentException if the value supplied
                    for <code>position</code> is less than zero or greater
                    than the component's text length
      @see #setCaretPosition</div>
<a id="L1496" name="L1496"></a>1496     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23376.html" title="Multiple referred from 19 places.">moveCaretPosition</a>(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L1497" name="L1497"></a>1497         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1498" name="L1498"></a>1498         <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1499" name="L1499"></a>1499             <strong class="reserved">if</strong> (pos &gt; doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() || pos &lt; 0) <em class="brace">{</em>
<a id="L1500" name="L1500"></a>1500                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("bad position: " + pos);
<a id="L1501" name="L1501"></a>1501             <em class="brace">}</em>
<a id="L1502" name="L1502"></a>1502             caret.<a href="../D/27808.html" title="Multiple defined in 8 places.">moveDot</a>(pos);
<a id="L1503" name="L1503"></a>1503         <em class="brace">}</em>
<a id="L1504" name="L1504"></a>1504     <em class="brace">}</em>
<a id="L1505" name="L1505"></a>1505 
<div class="comment">
      The bound property name for the focus accelerator.</div>
<a id="L1509" name="L1509"></a>1509     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> FOCUS_ACCELERATOR_KEY = "focusAcceleratorKey";
<a id="L1510" name="L1510"></a>1510 
<div class="comment">
      Sets the key accelerator that will cause the receiving text
      component to get the focus.  The accelerator will be the
      key combination of the platform-specific modifier key and
      the character given (converted to upper case).  For example,
      the ALT key is used as a modifier on Windows and the CTRL+ALT
      combination is used on Mac.  By default, there is no focus
      accelerator key.  Any previous key accelerator setting will be
      superseded.  A '\0' key setting will be registered, and has the
      effect of turning off the focus accelerator.  When the new key
      is set, a PropertyChange event (FOCUS_ACCELERATOR_KEY) will be fired.
      @param aKey the key
      @see #getFocusAccelerator
      @beaninfo
       description: accelerator character used to grab focus
             bound: true</div>
<a id="L1529" name="L1529"></a>1529     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setFocusAccelerator(<strong class="reserved">char</strong> aKey) <em class="brace">{</em>
<a id="L1530" name="L1530"></a>1530         aKey = <a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/35514.html" title="Multiple defined in 18 places.">toUpperCase</a>(aKey);
<a id="L1531" name="L1531"></a>1531         <strong class="reserved">char</strong> old = focusAccelerator;
<a id="L1532" name="L1532"></a>1532         focusAccelerator = aKey;
<a id="L1533" name="L1533"></a>1533         <em class="comment">// Fix for 4341002: value of FOCUS_ACCELERATOR_KEY is wrong.</em>
<a id="L1534" name="L1534"></a>1534         <em class="comment">// So we fire both FOCUS_ACCELERATOR_KEY, for compatibility,</em>
<a id="L1535" name="L1535"></a>1535         <em class="comment">// and the correct event here.</em>
<a id="L1536" name="L1536"></a>1536         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(FOCUS_ACCELERATOR_KEY, old, focusAccelerator);
<a id="L1537" name="L1537"></a>1537         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("focusAccelerator", old, focusAccelerator);
<a id="L1538" name="L1538"></a>1538     <em class="brace">}</em>
<a id="L1539" name="L1539"></a>1539 
<div class="comment">
      Returns the key accelerator that will cause the receiving
      text component to get the focus.  Return '\0' if no focus
      accelerator has been set.
      @return the key</div>
<a id="L1547" name="L1547"></a>1547     <strong class="reserved">public</strong> <strong class="reserved">char</strong> <a href="../S/2895.html#L484" title="Referred from 484 in src/javax/swing/plaf/basic/BasicTextUI.java.">getFocusAccelerator</a>() <em class="brace">{</em>
<a id="L1548" name="L1548"></a>1548         <strong class="reserved">return</strong> focusAccelerator;
<a id="L1549" name="L1549"></a>1549     <em class="brace">}</em>
<a id="L1550" name="L1550"></a>1550 
<div class="comment">
      Initializes from a stream.  This creates a
      model of the type appropriate for the component
      and initializes the model from the stream.
      By default this will load the model as plain
      text.  Previous contents of the model are discarded.
      @param in the stream to read from
      @param desc an object describing the stream; this
        might be a string, a File, a URL, etc.  Some kinds
        of documents (such as html for example) might be
        able to make use of this information; if non-<code>null</code>,
        it is added as a property of the document
      @exception IOException as thrown by the stream being
       used to initialize
      @see EditorKit#createDefaultDocument
      @see #setDocument
      @see PlainDocument</div>
<a id="L1570" name="L1570"></a>1570     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25407.html" title="Multiple referred from 1300 places.">read</a>(<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> desc) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1571" name="L1571"></a>1571         <a href="../S/3357.html#L48" title="Defined at 48 in src/javax/swing/text/EditorKit.java.">EditorKit</a> kit = <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<strong class="reserved">this</strong>);
<a id="L1572" name="L1572"></a>1572         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = kit.<a href="../D/13765.html" title="Multiple defined in 5 places.">createDefaultDocument</a>();
<a id="L1573" name="L1573"></a>1573         <strong class="reserved">if</strong> (desc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1574" name="L1574"></a>1574             doc.<a href="../D/30036.html" title="Multiple defined in 2 places.">putProperty</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>.StreamDescriptionProperty, desc);
<a id="L1575" name="L1575"></a>1575         <em class="brace">}</em>
<a id="L1576" name="L1576"></a>1576         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1577" name="L1577"></a>1577             kit.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, doc, 0);
<a id="L1578" name="L1578"></a>1578             <a href="../D/32493.html" title="Multiple defined in 6 places.">setDocument</a>(doc);
<a id="L1579" name="L1579"></a>1579         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1580" name="L1580"></a>1580             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L1581" name="L1581"></a>1581         <em class="brace">}</em>
<a id="L1582" name="L1582"></a>1582     <em class="brace">}</em>
<a id="L1583" name="L1583"></a>1583 
<div class="comment">
      Stores the contents of the model into the given
      stream.  By default this will store the model as plain
      text.
      @param out the output stream
      @exception IOException on any I/O error</div>
<a id="L1592" name="L1592"></a>1592     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/30544.html" title="Multiple referred from 1880 places.">write</a>(<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1593" name="L1593"></a>1593         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1594" name="L1594"></a>1594         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1595" name="L1595"></a>1595             <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>().<a href="../D/18648.html" title="Multiple defined in 5 places.">getEditorKit</a>(<strong class="reserved">this</strong>).<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>, doc, 0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L1596" name="L1596"></a>1596         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1597" name="L1597"></a>1597             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L1598" name="L1598"></a>1598         <em class="brace">}</em>
<a id="L1599" name="L1599"></a>1599     <em class="brace">}</em>
<a id="L1600" name="L1600"></a>1600 
<a id="L1601" name="L1601"></a>1601     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26038.html" title="Multiple referred from 40 places.">removeNotify</a>() <em class="brace">{</em>
<a id="L1602" name="L1602"></a>1602         <strong class="reserved">super</strong>.<a href="../D/30903.html" title="Multiple defined in 23 places.">removeNotify</a>();
<a id="L1603" name="L1603"></a>1603         <strong class="reserved">if</strong> (<a href="../D/19174.html" title="Multiple defined in 2 places.">getFocusedComponent</a>() == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L1604" name="L1604"></a>1604             AppContext.getAppContext().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(FOCUSED_COMPONENT);
<a id="L1605" name="L1605"></a>1605         <em class="brace">}</em>
<a id="L1606" name="L1606"></a>1606     <em class="brace">}</em>
<a id="L1607" name="L1607"></a>1607 
<a id="L1608" name="L1608"></a>1608     <em class="comment">// --- java.awt.TextComponent methods ------------------------</em>
<a id="L1609" name="L1609"></a>1609 
<div class="comment">
      Sets the position of the text insertion caret for the
      <code>TextComponent</code>.  Note that the caret tracks change,
      so this may move if the underlying text of the component is changed.
      If the document is <code>null</code>, does nothing. The position
      must be between 0 and the length of the component's text or else
      an exception is thrown.
      @param position the position
      @exception    IllegalArgumentException if the value supplied
                    for <code>position</code> is less than zero or greater
                    than the component's text length
      @beaninfo
      description: the caret position</div>
<a id="L1625" name="L1625"></a>1625     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27007.html" title="Multiple referred from 27 places.">setCaretPosition</a>(<strong class="reserved">int</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>) <em class="brace">{</em>
<a id="L1626" name="L1626"></a>1626         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1627" name="L1627"></a>1627         <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1628" name="L1628"></a>1628             <strong class="reserved">if</strong> (<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &gt; doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() || <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a> &lt; 0) <em class="brace">{</em>
<a id="L1629" name="L1629"></a>1629                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("bad position: " + <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L1630" name="L1630"></a>1630             <em class="brace">}</em>
<a id="L1631" name="L1631"></a>1631             caret.<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(<a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>);
<a id="L1632" name="L1632"></a>1632         <em class="brace">}</em>
<a id="L1633" name="L1633"></a>1633     <em class="brace">}</em>
<a id="L1634" name="L1634"></a>1634 
<div class="comment">
      Returns the position of the text insertion caret for the
      text component.
      @return the position of the text insertion caret for the
       text component ≥ 0</div>
<a id="L1642" name="L1642"></a>1642     @<a href="../S/1819.html#L66" title="Defined at 66 in src/java/beans/Transient.java.">Transient</a>
<a id="L1643" name="L1643"></a>1643     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15451.html" title="Multiple referred from 31 places.">getCaretPosition</a>() <em class="brace">{</em>
<a id="L1644" name="L1644"></a>1644         <strong class="reserved">return</strong> caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L1645" name="L1645"></a>1645     <em class="brace">}</em>
<a id="L1646" name="L1646"></a>1646 
<div class="comment">
      Sets the text of this <code>TextComponent</code>
      to the specified text.  If the text is <code>null</code>
      or empty, has the effect of simply deleting the old text.
      When text has been inserted, the resulting caret location
      is determined by the implementation of the caret class.
      <p>
      Note that text is not a bound property, so no <code>PropertyChangeEvent
      </code> is fired when it changes. To listen for changes to the text,
      use <code>DocumentListener</code>.
      @param t the new text to be set
      @see #getText
      @see DefaultCaret
      @beaninfo
      description: the text of this component</p></div>
<a id="L1665" name="L1665"></a>1665     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28273.html" title="Multiple referred from 137 places.">setText</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> t) <em class="brace">{</em>
<a id="L1666" name="L1666"></a>1666         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1667" name="L1667"></a>1667             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1668" name="L1668"></a>1668             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L1669" name="L1669"></a>1669                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)doc).<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>(0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(), t,<strong class="reserved">null</strong>);
<a id="L1670" name="L1670"></a>1670             <em class="brace">}</em>
<a id="L1671" name="L1671"></a>1671             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1672" name="L1672"></a>1672                 doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L1673" name="L1673"></a>1673                 doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(0, t, <strong class="reserved">null</strong>);
<a id="L1674" name="L1674"></a>1674             <em class="brace">}</em>
<a id="L1675" name="L1675"></a>1675         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1676" name="L1676"></a>1676             <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../S/3125.html#L491" title="Defined at 491 in src/javax/swing/UIManager.java.">getLookAndFeel</a>().<a href="../D/29904.html" title="Multiple defined in 3 places.">provideErrorFeedback</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>);
<a id="L1677" name="L1677"></a>1677         <em class="brace">}</em>
<a id="L1678" name="L1678"></a>1678     <em class="brace">}</em>
<a id="L1679" name="L1679"></a>1679 
<div class="comment">
      Returns the text contained in this <code>TextComponent</code>.
      If the underlying document is <code>null</code>,
      will give a <code>NullPointerException</code>.
      Note that text is not a bound property, so no <code>PropertyChangeEvent
      </code> is fired when it changes. To listen for changes to the text,
      use <code>DocumentListener</code>.
      @return the text
      @exception NullPointerException if the document is <code>null</code>
      @see #setText</div>
<a id="L1693" name="L1693"></a>1693     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19424.html" title="Multiple referred from 339 places.">getText</a>() <em class="brace">{</em>
<a id="L1694" name="L1694"></a>1694         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1695" name="L1695"></a>1695         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> txt;
<a id="L1696" name="L1696"></a>1696         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1697" name="L1697"></a>1697             txt = doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(0, doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L1698" name="L1698"></a>1698         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1699" name="L1699"></a>1699             txt = <strong class="reserved">null</strong>;
<a id="L1700" name="L1700"></a>1700         <em class="brace">}</em>
<a id="L1701" name="L1701"></a>1701         <strong class="reserved">return</strong> txt;
<a id="L1702" name="L1702"></a>1702     <em class="brace">}</em>
<a id="L1703" name="L1703"></a>1703 
<div class="comment">
      Returns the selected text contained in this
      <code>TextComponent</code>.  If the selection is
      <code>null</code> or the document empty, returns <code>null</code>.
      @return the text
      @exception IllegalArgumentException if the selection doesn't
       have a valid mapping into the document for some reason
      @see #setText</div>
<a id="L1714" name="L1714"></a>1714     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18928.html" title="Multiple referred from 11 places.">getSelectedText</a>() <em class="brace">{</em>
<a id="L1715" name="L1715"></a>1715         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> txt = <strong class="reserved">null</strong>;
<a id="L1716" name="L1716"></a>1716         <strong class="reserved">int</strong> p0 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>());
<a id="L1717" name="L1717"></a>1717         <strong class="reserved">int</strong> p1 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>());
<a id="L1718" name="L1718"></a>1718         <strong class="reserved">if</strong> (p0 != p1) <em class="brace">{</em>
<a id="L1719" name="L1719"></a>1719             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1720" name="L1720"></a>1720                 <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1721" name="L1721"></a>1721                 txt = doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(p0, p1 - p0);
<a id="L1722" name="L1722"></a>1722             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L1723" name="L1723"></a>1723                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L1724" name="L1724"></a>1724             <em class="brace">}</em>
<a id="L1725" name="L1725"></a>1725         <em class="brace">}</em>
<a id="L1726" name="L1726"></a>1726         <strong class="reserved">return</strong> txt;
<a id="L1727" name="L1727"></a>1727     <em class="brace">}</em>
<a id="L1728" name="L1728"></a>1728 
<div class="comment">
      Returns the boolean indicating whether this
      <code>TextComponent</code> is editable or not.
      @return the boolean value
      @see #setEditable</div>
<a id="L1736" name="L1736"></a>1736     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21398.html" title="Multiple referred from 110 places.">isEditable</a>() <em class="brace">{</em>
<a id="L1737" name="L1737"></a>1737         <strong class="reserved">return</strong> editable;
<a id="L1738" name="L1738"></a>1738     <em class="brace">}</em>
<a id="L1739" name="L1739"></a>1739 
<div class="comment">
      Sets the specified boolean to indicate whether or not this
      <code>TextComponent</code> should be editable.
      A PropertyChange event ("editable") is fired when the
      state is changed.
      @param b the boolean to be set
      @see #isEditable
      @beaninfo
      description: specifies if the text can be edited
            bound: true</div>
<a id="L1752" name="L1752"></a>1752     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27298.html" title="Multiple referred from 11 places.">setEditable</a>(<strong class="reserved">boolean</strong> b) <em class="brace">{</em>
<a id="L1753" name="L1753"></a>1753         <strong class="reserved">if</strong> (b != editable) <em class="brace">{</em>
<a id="L1754" name="L1754"></a>1754             <strong class="reserved">boolean</strong> oldVal = editable;
<a id="L1755" name="L1755"></a>1755             editable = b;
<a id="L1756" name="L1756"></a>1756             <a href="../D/15377.html" title="Multiple defined in 2 places.">enableInputMethods</a>(editable);
<a id="L1757" name="L1757"></a>1757             <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>("editable", <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(oldVal), <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(editable));
<a id="L1758" name="L1758"></a>1758             <a href="../D/31014.html" title="Multiple defined in 22 places.">repaint</a>();
<a id="L1759" name="L1759"></a>1759         <em class="brace">}</em>
<a id="L1760" name="L1760"></a>1760     <em class="brace">}</em>
<a id="L1761" name="L1761"></a>1761 
<div class="comment">
      Returns the selected text's start position.  Return 0 for an
      empty document, or the value of dot if no selection.
      @return the start position ≥ 0</div>
<a id="L1768" name="L1768"></a>1768     @<a href="../S/1819.html#L66" title="Defined at 66 in src/java/beans/Transient.java.">Transient</a>
<a id="L1769" name="L1769"></a>1769     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18946.html" title="Multiple referred from 34 places.">getSelectionStart</a>() <em class="brace">{</em>
<a id="L1770" name="L1770"></a>1770         <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>());
<a id="L1771" name="L1771"></a>1771         <strong class="reserved">return</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L1772" name="L1772"></a>1772     <em class="brace">}</em>
<a id="L1773" name="L1773"></a>1773 
<div class="comment">
      Sets the selection start to the specified position.  The new
      starting point is constrained to be before or at the current
      selection end.
      <p>
      This is available for backward compatibility to code
      that called this method on <code>java.awt.TextComponent</code>.
      This is implemented to forward to the <code>Caret</code>
      implementation which is where the actual selection is maintained.
      @param selectionStart the start position of the text ≥ 0
      @beaninfo
      description: starting location of the selection.</p></div>
<a id="L1788" name="L1788"></a>1788     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2878.html#L490" title="Referred from 490 in src/javax/swing/plaf/basic/BasicOptionPaneUI.java.">setSelectionStart</a>(<strong class="reserved">int</strong> selectionStart) <em class="brace">{</em>
<div class="comment">
 Route through select method to enforce consistent policy
          between selectionStart and selectionEnd.</div>
<a id="L1792" name="L1792"></a>1792         <a href="../D/31672.html" title="Multiple defined in 17 places.">select</a>(selectionStart, <a href="../D/22371.html" title="Multiple defined in 11 places.">getSelectionEnd</a>());
<a id="L1793" name="L1793"></a>1793     <em class="brace">}</em>
<a id="L1794" name="L1794"></a>1794 
<div class="comment">
      Returns the selected text's end position.  Return 0 if the document
      is empty, or the value of dot if there is no selection.
      @return the end position ≥ 0</div>
<a id="L1801" name="L1801"></a>1801     @<a href="../S/1819.html#L66" title="Defined at 66 in src/java/beans/Transient.java.">Transient</a>
<a id="L1802" name="L1802"></a>1802     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18937.html" title="Multiple referred from 24 places.">getSelectionEnd</a>() <em class="brace">{</em>
<a id="L1803" name="L1803"></a>1803         <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>());
<a id="L1804" name="L1804"></a>1804         <strong class="reserved">return</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>;
<a id="L1805" name="L1805"></a>1805     <em class="brace">}</em>
<a id="L1806" name="L1806"></a>1806 
<div class="comment">
      Sets the selection end to the specified position.  The new
      end point is constrained to be at or after the current
      selection start.
      <p>
      This is available for backward compatibility to code
      that called this method on <code>java.awt.TextComponent</code>.
      This is implemented to forward to the <code>Caret</code>
      implementation which is where the actual selection is maintained.
      @param selectionEnd the end position of the text ≥ 0
      @beaninfo
      description: ending location of the selection.</p></div>
<a id="L1821" name="L1821"></a>1821     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2878.html#L491" title="Referred from 491 in src/javax/swing/plaf/basic/BasicOptionPaneUI.java.">setSelectionEnd</a>(<strong class="reserved">int</strong> selectionEnd) <em class="brace">{</em>
<div class="comment">
 Route through select method to enforce consistent policy
          between selectionStart and selectionEnd.</div>
<a id="L1825" name="L1825"></a>1825         <a href="../D/31672.html" title="Multiple defined in 17 places.">select</a>(<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>(), selectionEnd);
<a id="L1826" name="L1826"></a>1826     <em class="brace">}</em>
<a id="L1827" name="L1827"></a>1827 
<div class="comment">
      Selects the text between the specified start and end positions.
      <p>
      This method sets the start and end positions of the
      selected text, enforcing the restriction that the start position
      must be greater than or equal to zero.  The end position must be
      greater than or equal to the start position, and less than or
      equal to the length of the text component's text.
      </p><p>
      If the caller supplies values that are inconsistent or out of
      bounds, the method enforces these constraints silently, and
      without failure. Specifically, if the start position or end
      position is greater than the length of the text, it is reset to
      equal the text length. If the start position is less than zero,
      it is reset to zero, and if the end position is less than the
      start position, it is reset to the start position.
      </p><p>
      This call is provided for backward compatibility.
      It is routed to a call to <code>setCaretPosition</code>
      followed by a call to <code>moveCaretPosition</code>.
      The preferred way to manage selection is by calling
      those methods directly.
      @param selectionStart the start position of the text
      @param selectionEnd the end position of the text
      @see #setCaretPosition
      @see #moveCaretPosition</p></div>
<a id="L1856" name="L1856"></a>1856     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26712.html" title="Multiple referred from 97 places.">select</a>(<strong class="reserved">int</strong> selectionStart, <strong class="reserved">int</strong> selectionEnd) <em class="brace">{</em>
<a id="L1857" name="L1857"></a>1857         <em class="comment">// argument adjustment done by java.awt.TextComponent</em>
<a id="L1858" name="L1858"></a>1858         <strong class="reserved">int</strong> docLength = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L1859" name="L1859"></a>1859 
<a id="L1860" name="L1860"></a>1860         <strong class="reserved">if</strong> (selectionStart &lt; 0) <em class="brace">{</em>
<a id="L1861" name="L1861"></a>1861             selectionStart = 0;
<a id="L1862" name="L1862"></a>1862         <em class="brace">}</em>
<a id="L1863" name="L1863"></a>1863         <strong class="reserved">if</strong> (selectionStart &gt; docLength) <em class="brace">{</em>
<a id="L1864" name="L1864"></a>1864             selectionStart = docLength;
<a id="L1865" name="L1865"></a>1865         <em class="brace">}</em>
<a id="L1866" name="L1866"></a>1866         <strong class="reserved">if</strong> (selectionEnd &gt; docLength) <em class="brace">{</em>
<a id="L1867" name="L1867"></a>1867             selectionEnd = docLength;
<a id="L1868" name="L1868"></a>1868         <em class="brace">}</em>
<a id="L1869" name="L1869"></a>1869         <strong class="reserved">if</strong> (selectionEnd &lt; selectionStart) <em class="brace">{</em>
<a id="L1870" name="L1870"></a>1870             selectionEnd = selectionStart;
<a id="L1871" name="L1871"></a>1871         <em class="brace">}</em>
<a id="L1872" name="L1872"></a>1872 
<a id="L1873" name="L1873"></a>1873         <a href="../D/32097.html" title="Multiple defined in 3 places.">setCaretPosition</a>(selectionStart);
<a id="L1874" name="L1874"></a>1874         <a href="../D/27805.html" title="Multiple defined in 2 places.">moveCaretPosition</a>(selectionEnd);
<a id="L1875" name="L1875"></a>1875     <em class="brace">}</em>
<a id="L1876" name="L1876"></a>1876 
<div class="comment">
      Selects all the text in the <code>TextComponent</code>.
      Does nothing on a <code>null</code> or empty document.</div>
<a id="L1881" name="L1881"></a>1881     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26714.html" title="Multiple referred from 19 places.">selectAll</a>() <em class="brace">{</em>
<a id="L1882" name="L1882"></a>1882         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L1883" name="L1883"></a>1883         <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1884" name="L1884"></a>1884             <a href="../D/32097.html" title="Multiple defined in 3 places.">setCaretPosition</a>(0);
<a id="L1885" name="L1885"></a>1885             <a href="../D/27805.html" title="Multiple defined in 2 places.">moveCaretPosition</a>(doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>());
<a id="L1886" name="L1886"></a>1886         <em class="brace">}</em>
<a id="L1887" name="L1887"></a>1887     <em class="brace">}</em>
<a id="L1888" name="L1888"></a>1888 
<a id="L1889" name="L1889"></a>1889     <em class="comment">// --- Tooltip Methods ---------------------------------------------</em>
<a id="L1890" name="L1890"></a>1890 
<div class="comment">
      Returns the string to be used as the tooltip for <code>event</code>.
      This will return one of:
      <ol>
       <li>If <code>setToolTipText</code> has been invoked with a
           non-<code>null</code>
           value, it will be returned, otherwise
       </li><li>The value from invoking <code>getToolTipText</code> on
           the UI will be returned.
      </li></ol>
      By default <code>JTextComponent</code> does not register
      itself with the <code>ToolTipManager</code>.
      This means that tooltips will NOT be shown from the
      <code>TextUI</code> unless <code>registerComponent</code> has
      been invoked on the <code>ToolTipManager</code>.
      @param event the event in question
      @return the string to be used as the tooltip for <code>event</code>
      @see javax.swing.JComponent#setToolTipText
      @see javax.swing.plaf.TextUI#getToolTipText
      @see javax.swing.ToolTipManager#registerComponent</div>
<a id="L1913" name="L1913"></a>1913     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19537.html" title="Multiple referred from 37 places.">getToolTipText</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> event) <em class="brace">{</em>
<a id="L1914" name="L1914"></a>1914         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> retValue = <strong class="reserved">super</strong>.<a href="../D/23198.html" title="Multiple defined in 18 places.">getToolTipText</a>(event);
<a id="L1915" name="L1915"></a>1915 
<a id="L1916" name="L1916"></a>1916         <strong class="reserved">if</strong> (retValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1917" name="L1917"></a>1917             <a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a> ui = <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>();
<a id="L1918" name="L1918"></a>1918             <strong class="reserved">if</strong> (ui != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1919" name="L1919"></a>1919                 retValue = ui.<a href="../D/23198.html" title="Multiple defined in 18 places.">getToolTipText</a>(<strong class="reserved">this</strong>, <strong class="reserved">new</strong> <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a>(event.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(),
<a id="L1920" name="L1920"></a>1920                                                              event.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>()));
<a id="L1921" name="L1921"></a>1921             <em class="brace">}</em>
<a id="L1922" name="L1922"></a>1922         <em class="brace">}</em>
<a id="L1923" name="L1923"></a>1923         <strong class="reserved">return</strong> retValue;
<a id="L1924" name="L1924"></a>1924     <em class="brace">}</em>
<a id="L1925" name="L1925"></a>1925 
<a id="L1926" name="L1926"></a>1926     <em class="comment">// --- Scrollable methods ---------------------------------------------</em>
<a id="L1927" name="L1927"></a>1927 
<div class="comment">
      Returns the preferred size of the viewport for a view component.
      This is implemented to do the default behavior of returning
      the preferred size of the component.
      @return the <code>preferredSize</code> of a <code>JViewport</code>
      whose view is this <code>Scrollable</code></div>
<a id="L1936" name="L1936"></a>1936     <strong class="reserved">public</strong> <a href="../S/2344.html#L54" title="Defined at 54 in src/java/awt/Dimension.java.">Dimension</a> <a href="../R/18409.html" title="Multiple referred from 3 places.">getPreferredScrollableViewportSize</a>() <em class="brace">{</em>
<a id="L1937" name="L1937"></a>1937         <strong class="reserved">return</strong> <a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>();
<a id="L1938" name="L1938"></a>1938     <em class="brace">}</em>
<a id="L1939" name="L1939"></a>1939 
<a id="L1940" name="L1940"></a>1940 
<div class="comment">
      Components that display logical rows or columns should compute
      the scroll increment that will completely expose one new row
      or column, depending on the value of orientation.  Ideally,
      components should handle a partially exposed row or column by
      returning the distance required to completely expose the item.
      <p>
      The default implementation of this is to simply return 10% of
      the visible area.  Subclasses are likely to be able to provide
      a much more reasonable value.
      @param visibleRect the view area visible within the viewport
      @param orientation either <code>SwingConstants.VERTICAL</code> or
        <code>SwingConstants.HORIZONTAL</code>
      @param direction less than zero to scroll up/left, greater than
        zero for down/right
      @return the "unit" increment for scrolling in the specified direction
      @exception IllegalArgumentException for an invalid orientation
      @see JScrollBar#setUnitIncrement</p></div>
<a id="L1961" name="L1961"></a>1961     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18886.html" title="Multiple referred from 8 places.">getScrollableUnitIncrement</a>(<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> visibleRect, <strong class="reserved">int</strong> orientation, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L1962" name="L1962"></a>1962         <strong class="reserved">switch</strong>(orientation) <em class="brace">{</em>
<a id="L1963" name="L1963"></a>1963         <strong class="reserved">case</strong> <a href="../S/2750.html#L35" title="Defined at 35 in src/javax/swing/SwingConstants.java.">SwingConstants</a>.VERTICAL:
<a id="L1964" name="L1964"></a>1964             <strong class="reserved">return</strong> visibleRect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> / 10;
<a id="L1965" name="L1965"></a>1965         <strong class="reserved">case</strong> <a href="../S/2750.html#L35" title="Defined at 35 in src/javax/swing/SwingConstants.java.">SwingConstants</a>.HORIZONTAL:
<a id="L1966" name="L1966"></a>1966             <strong class="reserved">return</strong> visibleRect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> / 10;
<a id="L1967" name="L1967"></a>1967         <strong class="reserved">default</strong>:
<a id="L1968" name="L1968"></a>1968             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid orientation: " + orientation);
<a id="L1969" name="L1969"></a>1969         <em class="brace">}</em>
<a id="L1970" name="L1970"></a>1970     <em class="brace">}</em>
<a id="L1971" name="L1971"></a>1971 
<a id="L1972" name="L1972"></a>1972 
<div class="comment">
      Components that display logical rows or columns should compute
      the scroll increment that will completely expose one block
      of rows or columns, depending on the value of orientation.
      <p>
      The default implementation of this is to simply return the visible
      area.  Subclasses will likely be able to provide a much more
      reasonable value.
      @param visibleRect the view area visible within the viewport
      @param orientation either <code>SwingConstants.VERTICAL</code> or
        <code>SwingConstants.HORIZONTAL</code>
      @param direction less than zero to scroll up/left, greater than zero
       for down/right
      @return the "block" increment for scrolling in the specified direction
      @exception IllegalArgumentException for an invalid orientation
      @see JScrollBar#setBlockIncrement</p></div>
<a id="L1991" name="L1991"></a>1991     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18883.html" title="Multiple referred from 5 places.">getScrollableBlockIncrement</a>(<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> visibleRect, <strong class="reserved">int</strong> orientation, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L1992" name="L1992"></a>1992         <strong class="reserved">switch</strong>(orientation) <em class="brace">{</em>
<a id="L1993" name="L1993"></a>1993         <strong class="reserved">case</strong> <a href="../S/2750.html#L35" title="Defined at 35 in src/javax/swing/SwingConstants.java.">SwingConstants</a>.VERTICAL:
<a id="L1994" name="L1994"></a>1994             <strong class="reserved">return</strong> visibleRect.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L1995" name="L1995"></a>1995         <strong class="reserved">case</strong> <a href="../S/2750.html#L35" title="Defined at 35 in src/javax/swing/SwingConstants.java.">SwingConstants</a>.HORIZONTAL:
<a id="L1996" name="L1996"></a>1996             <strong class="reserved">return</strong> visibleRect.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L1997" name="L1997"></a>1997         <strong class="reserved">default</strong>:
<a id="L1998" name="L1998"></a>1998             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid orientation: " + orientation);
<a id="L1999" name="L1999"></a>1999         <em class="brace">}</em>
<a id="L2000" name="L2000"></a>2000     <em class="brace">}</em>
<a id="L2001" name="L2001"></a>2001 
<a id="L2002" name="L2002"></a>2002 
<div class="comment">
      Returns true if a viewport should always force the width of this
      <code>Scrollable</code> to match the width of the viewport.
      For example a normal text view that supported line wrapping
      would return true here, since it would be undesirable for
      wrapped lines to disappear beyond the right
      edge of the viewport.  Note that returning true for a
      <code>Scrollable</code> whose ancestor is a <code>JScrollPane</code>
      effectively disables horizontal scrolling.
      <p>
      Scrolling containers, like <code>JViewport</code>,
      will use this method each time they are validated.
      @return true if a viewport should force the <code>Scrollable</code>s
        width to match its own</p></div>
<a id="L2019" name="L2019"></a>2019     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/18885.html" title="Multiple referred from 7 places.">getScrollableTracksViewportWidth</a>() <em class="brace">{</em>
<a id="L2020" name="L2020"></a>2020         <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L2001" title="Defined at 2001 in src/javax/swing/SwingUtilities.java.">getUnwrappedParent</a>(<strong class="reserved">this</strong>);
<a id="L2021" name="L2021"></a>2021         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> <strong class="reserved">instanceof</strong> <a href="../S/2746.html#L101" title="Defined at 101 in src/javax/swing/JViewport.java.">JViewport</a>) <em class="brace">{</em>
<a id="L2022" name="L2022"></a>2022             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/23687.html" title="Multiple defined in 56 places.">getWidth</a>() &gt; <a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>().<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>;
<a id="L2023" name="L2023"></a>2023         <em class="brace">}</em>
<a id="L2024" name="L2024"></a>2024         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2025" name="L2025"></a>2025     <em class="brace">}</em>
<a id="L2026" name="L2026"></a>2026 
<div class="comment">
      Returns true if a viewport should always force the height of this
      <code>Scrollable</code> to match the height of the viewport.
      For example a columnar text view that flowed text in left to
      right columns could effectively disable vertical scrolling by
      returning true here.
      <p>
      Scrolling containers, like <code>JViewport</code>,
      will use this method each time they are validated.
      @return true if a viewport should force the Scrollables height
        to match its own</p></div>
<a id="L2040" name="L2040"></a>2040     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/18884.html" title="Multiple referred from 6 places.">getScrollableTracksViewportHeight</a>() <em class="brace">{</em>
<a id="L2041" name="L2041"></a>2041         <a href="../D/1840.html" title="Multiple defined in 2 places.">Container</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L2001" title="Defined at 2001 in src/javax/swing/SwingUtilities.java.">getUnwrappedParent</a>(<strong class="reserved">this</strong>);
<a id="L2042" name="L2042"></a>2042         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> <strong class="reserved">instanceof</strong> <a href="../S/2746.html#L101" title="Defined at 101 in src/javax/swing/JViewport.java.">JViewport</a>) <em class="brace">{</em>
<a id="L2043" name="L2043"></a>2043             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/19442.html" title="Multiple defined in 56 places.">getHeight</a>() &gt; <a href="../D/21582.html" title="Multiple defined in 121 places.">getPreferredSize</a>().<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>;
<a id="L2044" name="L2044"></a>2044         <em class="brace">}</em>
<a id="L2045" name="L2045"></a>2045         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2046" name="L2046"></a>2046     <em class="brace">}</em>
<a id="L2047" name="L2047"></a>2047 
<a id="L2048" name="L2048"></a>2048 
<a id="L2049" name="L2049"></a>2049 <em class="comment">//////////////////</em>
<a id="L2050" name="L2050"></a>2050 <em class="comment">// Printing Support</em>
<a id="L2051" name="L2051"></a>2051 <em class="comment">//////////////////</em>
<a id="L2052" name="L2052"></a>2052 
<div class="comment">
      A convenience print method that displays a print dialog, and then
      prints this <code>JTextComponent</code> in <i>interactive</i> mode with no
      header or footer text. Note: this method
      blocks until printing is done.
      <p>
      Note: In <i>headless</i> mode, no dialogs will be shown.
      </p><p> This method calls the full featured
      {@link #print(MessageFormat, MessageFormat, boolean, PrintService, PrintRequestAttributeSet, boolean)
      print} method to perform printing.
      @return <code>true</code>, unless printing is canceled by the user
      @throws PrinterException if an error in the print system causes the job
              to be aborted
      @throws SecurityException if this thread is not allowed to
                                initiate a print job request
      @see #print(MessageFormat, MessageFormat, boolean, PrintService, PrintRequestAttributeSet, boolean)
      @since 1.6</p></div>
<a id="L2074" name="L2074"></a>2074 
<a id="L2075" name="L2075"></a>2075     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/24978.html" title="Multiple referred from 1157 places.">print</a>() <strong class="reserved">throws</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a> <em class="brace">{</em>
<a id="L2076" name="L2076"></a>2076         <strong class="reserved">return</strong> <a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">true</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">true</strong>);
<a id="L2077" name="L2077"></a>2077     <em class="brace">}</em>
<a id="L2078" name="L2078"></a>2078 
<div class="comment">
      A convenience print method that displays a print dialog, and then
      prints this <code>JTextComponent</code> in <i>interactive</i> mode with
      the specified header and footer text. Note: this method
      blocks until printing is done.
      <p>
      Note: In <i>headless</i> mode, no dialogs will be shown.
      </p><p> This method calls the full featured
      {@link #print(MessageFormat, MessageFormat, boolean, PrintService, PrintRequestAttributeSet, boolean)
      print} method to perform printing.
      @param headerFormat the text, in <code>MessageFormat</code>, to be
             used as the header, or <code>null</code> for no header
      @param footerFormat the text, in <code>MessageFormat</code>, to be
             used as the footer, or <code>null</code> for no footer
      @return <code>true</code>, unless printing is canceled by the user
      @throws PrinterException if an error in the print system causes the job
              to be aborted
      @throws SecurityException if this thread is not allowed to
                                initiate a print job request
      @see #print(MessageFormat, MessageFormat, boolean, PrintService, PrintRequestAttributeSet, boolean)
      @see java.text.MessageFormat
      @since 1.6</p></div>
<a id="L2104" name="L2104"></a>2104     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/24978.html" title="Multiple referred from 1157 places.">print</a>(<strong class="reserved">final</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> headerFormat,
<a id="L2105" name="L2105"></a>2105             <strong class="reserved">final</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> footerFormat) <strong class="reserved">throws</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a> <em class="brace">{</em>
<a id="L2106" name="L2106"></a>2106         <strong class="reserved">return</strong> <a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(headerFormat, footerFormat, <strong class="reserved">true</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">true</strong>);
<a id="L2107" name="L2107"></a>2107     <em class="brace">}</em>
<a id="L2108" name="L2108"></a>2108 
<div class="comment">
      Prints the content of this <code>JTextComponent</code>. Note: this method
      blocks until printing is done.
      <p>
      Page header and footer text can be added to the output by providing
      <code>MessageFormat</code> arguments. The printing code requests
      <code>Strings</code> from the formats, providing a single item which may be
      included in the formatted string: an <code>Integer</code> representing the
      current page number.
      </p><p>
      <code>showPrintDialog boolean</code> parameter allows you to specify whether
      a print dialog is displayed to the user. When it is, the user
      may use the dialog to change printing attributes or even cancel the
      print.
      </p><p>
      <code>service</code> allows you to provide the initial
      <code>PrintService</code> for the print dialog, or to specify
      <code>PrintService</code> to print to when the dialog is not shown.
      </p><p>
      <code>attributes</code> can be used to provide the
      initial values for the print dialog, or to supply any needed
      attributes when the dialog is not shown. <code>attributes</code> can
      be used to control how the job will print, for example
      <i>duplex</i> or <i>single-sided</i>.
      </p><p>
      <code>interactive boolean</code> parameter allows you to specify
      whether to perform printing in <i>interactive</i>
      mode. If <code>true</code>, a progress dialog, with an abort option,
      is displayed for the duration of printing.  This dialog is
      <i>modal</i> when <code>print</code> is invoked on the <i>Event Dispatch
      Thread</i> and <i>non-modal</i> otherwise. <b>Warning</b>:
      calling this method on the <i>Event Dispatch Thread</i> with {@code
      interactive false} blocks <i>all</i> events, including repaints, from
      being processed until printing is complete. It is only
      recommended when printing from an application with no
      visible GUI.
      </p><p>
      Note: In <i>headless</i> mode, <code>showPrintDialog</code> and
      <code>interactive</code> parameters are ignored and no dialogs are
      shown.
      </p><p>
      This method ensures the <code>document</code> is not mutated during printing.
      To indicate it visually, <code>setEnabled(false)</code> is set for the
      duration of printing.
      </p><p>
      This method uses {@link #getPrintable} to render document content.
      </p><p>
      This method is thread-safe, although most Swing methods are not. Please
      see <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">
      Concurrency in Swing</a> for more information.
      </p><p>
      <b>Sample Usage</b>. This code snippet shows a cross-platform print
      dialog and then prints the <code>JTextComponent</code> in <i>interactive</i> mode
      unless the user cancels the dialog:
      </p><pre>      textComponent.print(new MessageFormat("My text component header"),
          new MessageFormat("Footer. Page - {0}"), true, null, null, true);
      </pre>
      <p>
      Executing this code off the <i>Event Dispatch Thread</i>
      performs printing on the <i>background</i>.
      The following pattern might be used for <i>background</i>
      printing:
      </p><pre>          FutureTask&lt;Boolean&gt; future =
              new FutureTask&lt;Boolean&gt;(
                  new Callable&lt;Boolean&gt;() {
                      public Boolean call() {
                          return textComponent.print(.....);
                      }
                  });
          executor.execute(future);
      </pre>
      @param headerFormat the text, in <code>MessageFormat</code>, to be
             used as the header, or <code>null</code> for no header
      @param footerFormat the text, in <code>MessageFormat</code>, to be
             used as the footer, or <code>null</code> for no footer
      @param showPrintDialog <code>true</code> to display a print dialog,
             <code>false</code> otherwise
      @param service initial <code>PrintService</code>, or <code>null</code> for the
             default
      @param attributes the job attributes to be applied to the print job, or
             <code>null</code> for none
      @param interactive whether to print in an interactive mode
      @return <code>true</code>, unless printing is canceled by the user
      @throws PrinterException if an error in the print system causes the job
              to be aborted
      @throws SecurityException if this thread is not allowed to
                                initiate a print job request
      @see #getPrintable
      @see java.text.MessageFormat
      @see java.awt.GraphicsEnvironment#isHeadless
      @see java.util.concurrent.FutureTask
      @since 1.6</div>
<a id="L2219" name="L2219"></a>2219     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/24978.html" title="Multiple referred from 1157 places.">print</a>(<strong class="reserved">final</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> headerFormat,
<a id="L2220" name="L2220"></a>2220             <strong class="reserved">final</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> footerFormat,
<a id="L2221" name="L2221"></a>2221             <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> showPrintDialog,
<a id="L2222" name="L2222"></a>2222             <strong class="reserved">final</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a> service,
<a id="L2223" name="L2223"></a>2223             <strong class="reserved">final</strong> <a href="../S/3756.html#L47" title="Defined at 47 in src/javax/print/attribute/PrintRequestAttributeSet.java.">PrintRequestAttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>,
<a id="L2224" name="L2224"></a>2224             <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> interactive)
<a id="L2225" name="L2225"></a>2225             <strong class="reserved">throws</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a> <em class="brace">{</em>
<a id="L2226" name="L2226"></a>2226 
<a id="L2227" name="L2227"></a>2227         <strong class="reserved">final</strong> <a href="../S/2220.html#L51" title="Defined at 51 in src/java/awt/print/PrinterJob.java.">PrinterJob</a> job = <a href="../S/2220.html#L51" title="Defined at 51 in src/java/awt/print/PrinterJob.java.">PrinterJob</a>.<a href="../D/21673.html" title="Multiple defined in 2 places.">getPrinterJob</a>();
<a id="L2228" name="L2228"></a>2228         <strong class="reserved">final</strong> <a href="../S/2215.html#L102" title="Defined at 102 in src/java/awt/print/Printable.java.">Printable</a> printable;
<a id="L2229" name="L2229"></a>2229         <strong class="reserved">final</strong> PrintingStatus printingStatus;
<a id="L2230" name="L2230"></a>2230         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a> = <a href="../S/2120.html#L56" title="Defined at 56 in src/java/awt/GraphicsEnvironment.java.">GraphicsEnvironment</a>.<a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a>();
<a id="L2231" name="L2231"></a>2231         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a> =
<a id="L2232" name="L2232"></a>2232             <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>();
<a id="L2233" name="L2233"></a>2233         <strong class="reserved">final</strong> <a href="../S/2215.html#L102" title="Defined at 102 in src/java/awt/print/Printable.java.">Printable</a> textPrintable = <a href="../D/21670.html" title="Multiple defined in 5 places.">getPrintable</a>(headerFormat, footerFormat);
<a id="L2234" name="L2234"></a>2234         <strong class="reserved">if</strong> (interactive &amp;&amp; ! <a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a>) <em class="brace">{</em>
<a id="L2235" name="L2235"></a>2235             printingStatus =
<a id="L2236" name="L2236"></a>2236                 PrintingStatus.createPrintingStatus(<strong class="reserved">this</strong>, job);
<a id="L2237" name="L2237"></a>2237             printable =
<a id="L2238" name="L2238"></a>2238                 printingStatus.createNotificationPrintable(textPrintable);
<a id="L2239" name="L2239"></a>2239         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2240" name="L2240"></a>2240             printingStatus = <strong class="reserved">null</strong>;
<a id="L2241" name="L2241"></a>2241             printable = textPrintable;
<a id="L2242" name="L2242"></a>2242         <em class="brace">}</em>
<a id="L2243" name="L2243"></a>2243 
<a id="L2244" name="L2244"></a>2244         <strong class="reserved">if</strong> (service != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2245" name="L2245"></a>2245             job.<a href="../S/2220.html#L193" title="Defined at 193 in src/java/awt/print/PrinterJob.java.">setPrintService</a>(service);
<a id="L2246" name="L2246"></a>2246         <em class="brace">}</em>
<a id="L2247" name="L2247"></a>2247 
<a id="L2248" name="L2248"></a>2248         job.<a href="../D/33603.html" title="Multiple defined in 2 places.">setPrintable</a>(printable);
<a id="L2249" name="L2249"></a>2249 
<a id="L2250" name="L2250"></a>2250         <strong class="reserved">final</strong> <a href="../S/3756.html#L47" title="Defined at 47 in src/javax/print/attribute/PrintRequestAttributeSet.java.">PrintRequestAttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>)
<a id="L2251" name="L2251"></a>2251             ? <strong class="reserved">new</strong> <a href="../S/3662.html#L40" title="Defined at 40 in src/javax/print/attribute/HashPrintRequestAttributeSet.java.">HashPrintRequestAttributeSet</a>()
<a id="L2252" name="L2252"></a>2252             : <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>;
<a id="L2253" name="L2253"></a>2253 
<a id="L2254" name="L2254"></a>2254         <strong class="reserved">if</strong> (showPrintDialog &amp;&amp; ! <a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a> &amp;&amp; ! job.<a href="../D/29651.html" title="Multiple defined in 3 places.">printDialog</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>)) <em class="brace">{</em>
<a id="L2255" name="L2255"></a>2255             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2256" name="L2256"></a>2256         <em class="brace">}</em>
<a id="L2257" name="L2257"></a>2257 
<div class="comment">
          there are three cases for printing:
          1. print non interactively (! interactive || isHeadless)
          2. print interactively off EDT
          3. print interactively on EDT
          1 and 2 prints on the current thread (3 prints on another thread)
          2 and 3 deal with PrintingStatusDialog</div>
<a id="L2267" name="L2267"></a>2267         <strong class="reserved">final</strong> <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; doPrint =
<a id="L2268" name="L2268"></a>2268             <strong class="reserved">new</strong> <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L2269" name="L2269"></a>2269                 <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/12109.html" title="Multiple defined in 7 places.">call</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L2270" name="L2270"></a>2270                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2271" name="L2271"></a>2271                         job.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L2272" name="L2272"></a>2272                     <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2273" name="L2273"></a>2273                         <strong class="reserved">if</strong> (printingStatus != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2274" name="L2274"></a>2274                             printingStatus.<a href="../D/14970.html" title="Multiple defined in 65 places.">dispose</a>();
<a id="L2275" name="L2275"></a>2275                         <em class="brace">}</em>
<a id="L2276" name="L2276"></a>2276                     <em class="brace">}</em>
<a id="L2277" name="L2277"></a>2277                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2278" name="L2278"></a>2278                 <em class="brace">}</em>
<a id="L2279" name="L2279"></a>2279             <em class="brace">}</em>;
<a id="L2280" name="L2280"></a>2280 
<a id="L2281" name="L2281"></a>2281         <strong class="reserved">final</strong> <a href="../S/1127.html#L63" title="Defined at 63 in src/java/util/concurrent/FutureTask.java.">FutureTask</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; futurePrinting =
<a id="L2282" name="L2282"></a>2282             <strong class="reserved">new</strong> <a href="../S/1127.html#L63" title="Defined at 63 in src/java/util/concurrent/FutureTask.java.">FutureTask</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(doPrint);
<a id="L2283" name="L2283"></a>2283 
<a id="L2284" name="L2284"></a>2284         <strong class="reserved">final</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> runnablePrinting =
<a id="L2285" name="L2285"></a>2285             <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L2286" name="L2286"></a>2286                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L2287" name="L2287"></a>2287                     <em class="comment">//disable component</em>
<a id="L2288" name="L2288"></a>2288                     <strong class="reserved">boolean</strong> wasEnabled = <strong class="reserved">false</strong>;
<a id="L2289" name="L2289"></a>2289                     <strong class="reserved">if</strong> (<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>) <em class="brace">{</em>
<a id="L2290" name="L2290"></a>2290                         <strong class="reserved">if</strong> (<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L2291" name="L2291"></a>2291                             wasEnabled = <strong class="reserved">true</strong>;
<a id="L2292" name="L2292"></a>2292                             <a href="../D/32569.html" title="Multiple defined in 31 places.">setEnabled</a>(<strong class="reserved">false</strong>);
<a id="L2293" name="L2293"></a>2293                         <em class="brace">}</em>
<a id="L2294" name="L2294"></a>2294                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2295" name="L2295"></a>2295                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2296" name="L2296"></a>2296                             wasEnabled = SwingUtilities2.<a href="../D/35001.html" title="Multiple defined in 23 places.">submit</a>(
<a id="L2297" name="L2297"></a>2297                                 <strong class="reserved">new</strong> <a href="../S/1040.html#L58" title="Defined at 58 in src/java/util/concurrent/Callable.java.">Callable</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;() <em class="brace">{</em>
<a id="L2298" name="L2298"></a>2298                                     <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/12109.html" title="Multiple defined in 7 places.">call</a>() <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L2299" name="L2299"></a>2299                                         <strong class="reserved">boolean</strong> rv = <a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>();
<a id="L2300" name="L2300"></a>2300                                         <strong class="reserved">if</strong> (rv) <em class="brace">{</em>
<a id="L2301" name="L2301"></a>2301                                             <a href="../D/32569.html" title="Multiple defined in 31 places.">setEnabled</a>(<strong class="reserved">false</strong>);
<a id="L2302" name="L2302"></a>2302                                         <em class="brace">}</em>
<a id="L2303" name="L2303"></a>2303                                         <strong class="reserved">return</strong> rv;
<a id="L2304" name="L2304"></a>2304                                     <em class="brace">}</em>
<a id="L2305" name="L2305"></a>2305                                 <em class="brace">}</em>).<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L2306" name="L2306"></a>2306                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> e) <em class="brace">{</em>
<a id="L2307" name="L2307"></a>2307                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(e);
<a id="L2308" name="L2308"></a>2308                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a> e) <em class="brace">{</em>
<a id="L2309" name="L2309"></a>2309                             <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L2310" name="L2310"></a>2310                             <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) <em class="brace">{</em>
<a id="L2311" name="L2311"></a>2311                                 <strong class="reserved">throw</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) cause;
<a id="L2312" name="L2312"></a>2312                             <em class="brace">}</em>
<a id="L2313" name="L2313"></a>2313                             <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) <em class="brace">{</em>
<a id="L2314" name="L2314"></a>2314                                 <strong class="reserved">throw</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) cause;
<a id="L2315" name="L2315"></a>2315                             <em class="brace">}</em>
<a id="L2316" name="L2316"></a>2316                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(cause);
<a id="L2317" name="L2317"></a>2317                         <em class="brace">}</em>
<a id="L2318" name="L2318"></a>2318                     <em class="brace">}</em>
<a id="L2319" name="L2319"></a>2319 
<a id="L2320" name="L2320"></a>2320                     <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/31011.html" title="Multiple defined in 2 places.">render</a>(futurePrinting);
<a id="L2321" name="L2321"></a>2321 
<a id="L2322" name="L2322"></a>2322                     <em class="comment">//enable component</em>
<a id="L2323" name="L2323"></a>2323                     <strong class="reserved">if</strong> (wasEnabled) <em class="brace">{</em>
<a id="L2324" name="L2324"></a>2324                         <strong class="reserved">if</strong> (<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>) <em class="brace">{</em>
<a id="L2325" name="L2325"></a>2325                             <a href="../D/32569.html" title="Multiple defined in 31 places.">setEnabled</a>(<strong class="reserved">true</strong>);
<a id="L2326" name="L2326"></a>2326                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2327" name="L2327"></a>2327                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2328" name="L2328"></a>2328                                 SwingUtilities2.<a href="../D/35001.html" title="Multiple defined in 23 places.">submit</a>(
<a id="L2329" name="L2329"></a>2329                                     <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L2330" name="L2330"></a>2330                                         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L2331" name="L2331"></a>2331                                             <a href="../D/32569.html" title="Multiple defined in 31 places.">setEnabled</a>(<strong class="reserved">true</strong>);
<a id="L2332" name="L2332"></a>2332                                         <em class="brace">}</em>
<a id="L2333" name="L2333"></a>2333                                     <em class="brace">}</em>, <strong class="reserved">null</strong>).<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L2334" name="L2334"></a>2334                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> e) <em class="brace">{</em>
<a id="L2335" name="L2335"></a>2335                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(e);
<a id="L2336" name="L2336"></a>2336                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a> e) <em class="brace">{</em>
<a id="L2337" name="L2337"></a>2337                                 <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L2338" name="L2338"></a>2338                                 <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) <em class="brace">{</em>
<a id="L2339" name="L2339"></a>2339                                     <strong class="reserved">throw</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) cause;
<a id="L2340" name="L2340"></a>2340                                 <em class="brace">}</em>
<a id="L2341" name="L2341"></a>2341                                 <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) <em class="brace">{</em>
<a id="L2342" name="L2342"></a>2342                                     <strong class="reserved">throw</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) cause;
<a id="L2343" name="L2343"></a>2343                                 <em class="brace">}</em>
<a id="L2344" name="L2344"></a>2344                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(cause);
<a id="L2345" name="L2345"></a>2345                             <em class="brace">}</em>
<a id="L2346" name="L2346"></a>2346                         <em class="brace">}</em>
<a id="L2347" name="L2347"></a>2347                     <em class="brace">}</em>
<a id="L2348" name="L2348"></a>2348                 <em class="brace">}</em>
<a id="L2349" name="L2349"></a>2349             <em class="brace">}</em>;
<a id="L2350" name="L2350"></a>2350 
<a id="L2351" name="L2351"></a>2351         <strong class="reserved">if</strong> (! interactive || <a href="../D/25646.html" title="Multiple defined in 2 places.">isHeadless</a>) <em class="brace">{</em>
<a id="L2352" name="L2352"></a>2352             runnablePrinting.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L2353" name="L2353"></a>2353         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2354" name="L2354"></a>2354             <strong class="reserved">if</strong> (<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>) <em class="brace">{</em>
<a id="L2355" name="L2355"></a>2355                 (<strong class="reserved">new</strong> <a href="../S/1769.html#L141" title="Defined at 141 in src/java/lang/Thread.java.">Thread</a>(runnablePrinting)).<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>();
<a id="L2356" name="L2356"></a>2356                 printingStatus.showModal(<strong class="reserved">true</strong>);
<a id="L2357" name="L2357"></a>2357             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2358" name="L2358"></a>2358                 printingStatus.showModal(<strong class="reserved">false</strong>);
<a id="L2359" name="L2359"></a>2359                 runnablePrinting.<a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>();
<a id="L2360" name="L2360"></a>2360             <em class="brace">}</em>
<a id="L2361" name="L2361"></a>2361         <em class="brace">}</em>
<a id="L2362" name="L2362"></a>2362 
<a id="L2363" name="L2363"></a>2363         <em class="comment">//the printing is done successfully or otherwise.</em>
<a id="L2364" name="L2364"></a>2364         <em class="comment">//dialog is hidden if needed.</em>
<a id="L2365" name="L2365"></a>2365         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2366" name="L2366"></a>2366             futurePrinting.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L2367" name="L2367"></a>2367         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1730.html#L50" title="Defined at 50 in src/java/lang/InterruptedException.java.">InterruptedException</a> e) <em class="brace">{</em>
<a id="L2368" name="L2368"></a>2368             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(e);
<a id="L2369" name="L2369"></a>2369         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1069.html#L47" title="Defined at 47 in src/java/util/concurrent/ExecutionException.java.">ExecutionException</a> e) <em class="brace">{</em>
<a id="L2370" name="L2370"></a>2370             <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = e.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L2371" name="L2371"></a>2371             <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/2217.html#L35" title="Defined at 35 in src/java/awt/print/PrinterAbortException.java.">PrinterAbortException</a>) <em class="brace">{</em>
<a id="L2372" name="L2372"></a>2372                 <strong class="reserved">if</strong> (printingStatus != <strong class="reserved">null</strong>
<a id="L2373" name="L2373"></a>2373                     &amp;&amp; printingStatus.<a href="../S/6457.html#L273" title="Defined at 273 in src/com/sun/jmx/snmp/daemon/SnmpInformRequest.java.">isAborted</a>()) <em class="brace">{</em>
<a id="L2374" name="L2374"></a>2374                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L2375" name="L2375"></a>2375                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2376" name="L2376"></a>2376                     <strong class="reserved">throw</strong> (<a href="../S/2217.html#L35" title="Defined at 35 in src/java/awt/print/PrinterAbortException.java.">PrinterAbortException</a>) cause;
<a id="L2377" name="L2377"></a>2377                 <em class="brace">}</em>
<a id="L2378" name="L2378"></a>2378             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a>) <em class="brace">{</em>
<a id="L2379" name="L2379"></a>2379                 <strong class="reserved">throw</strong> (<a href="../S/2214.html#L34" title="Defined at 34 in src/java/awt/print/PrinterException.java.">PrinterException</a>) cause;
<a id="L2380" name="L2380"></a>2380             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) <em class="brace">{</em>
<a id="L2381" name="L2381"></a>2381                 <strong class="reserved">throw</strong> (<a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>) cause;
<a id="L2382" name="L2382"></a>2382             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) <em class="brace">{</em>
<a id="L2383" name="L2383"></a>2383                 <strong class="reserved">throw</strong> (<a href="../S/1772.html#L49" title="Defined at 49 in src/java/lang/Error.java.">Error</a>) cause;
<a id="L2384" name="L2384"></a>2384             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2385" name="L2385"></a>2385                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(cause);
<a id="L2386" name="L2386"></a>2386             <em class="brace">}</em>
<a id="L2387" name="L2387"></a>2387         <em class="brace">}</em>
<a id="L2388" name="L2388"></a>2388         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L2389" name="L2389"></a>2389     <em class="brace">}</em>
<a id="L2390" name="L2390"></a>2390 
<a id="L2391" name="L2391"></a>2391 
<div class="comment">
      Returns a <code>Printable</code> to use for printing the content of this
      <code>JTextComponent</code>. The returned <code>Printable</code> prints
      the document as it looks on the screen except being reformatted
      to fit the paper.
      The returned <code>Printable</code> can be wrapped inside another
      <code>Printable</code> in order to create complex reports and
      documents.
      <p>
      The returned <code>Printable</code> shares the <code>document</code> with this
      <code>JTextComponent</code>. It is the responsibility of the developer to
      ensure that the <code>document</code> is not mutated while this <code>Printable</code>
      is used. Printing behavior is undefined when the <code>document</code> is
      mutated during printing.
      </p><p>
      Page header and footer text can be added to the output by providing
      <code>MessageFormat</code> arguments. The printing code requests
      <code>Strings</code> from the formats, providing a single item which may be
      included in the formatted string: an <code>Integer</code> representing the
      current page number.
      </p><p>
      The returned <code>Printable</code> when printed, formats the
      document content appropriately for the page size. For correct
      line wrapping the <code>imageable width</code> of all pages must be the
      same. See {@link java.awt.print.PageFormat#getImageableWidth}.
      </p><p>
      This method is thread-safe, although most Swing methods are not. Please
      see <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html">
      Concurrency in Swing</a> for more information.
      </p><p>
      The returned <code>Printable</code> can be printed on any thread.
      </p><p>
      This implementation returned <code>Printable</code> performs all painting on
      the <i>Event Dispatch Thread</i>, regardless of what thread it is
      used on.
      @param headerFormat the text, in <code>MessageFormat</code>, to be
             used as the header, or <code>null</code> for no header
      @param footerFormat the text, in <code>MessageFormat</code>, to be
             used as the footer, or <code>null</code> for no footer
      @return a <code>Printable</code> for use in printing content of this
              <code>JTextComponent</code>
      @see java.awt.print.Printable
      @see java.awt.print.PageFormat
      @see javax.swing.text.Document#render(java.lang.Runnable)
      @since 1.6</p></div>
<a id="L2450" name="L2450"></a>2450     <strong class="reserved">public</strong> <a href="../S/2215.html#L102" title="Defined at 102 in src/java/awt/print/Printable.java.">Printable</a> <a href="../R/18477.html" title="Multiple referred from 4 places.">getPrintable</a>(<strong class="reserved">final</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> headerFormat,
<a id="L2451" name="L2451"></a>2451                                   <strong class="reserved">final</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> footerFormat) <em class="brace">{</em>
<a id="L2452" name="L2452"></a>2452         <strong class="reserved">return</strong> TextComponentPrintable.<a href="../D/21670.html" title="Multiple defined in 5 places.">getPrintable</a>(
<a id="L2453" name="L2453"></a>2453                    <strong class="reserved">this</strong>, headerFormat, footerFormat);
<a id="L2454" name="L2454"></a>2454     <em class="brace">}</em>
<a id="L2455" name="L2455"></a>2455 
<a id="L2456" name="L2456"></a>2456 
<a id="L2457" name="L2457"></a>2457 <em class="comment">/////////////////</em>
<a id="L2458" name="L2458"></a>2458 <em class="comment">// Accessibility support</em>
<a id="L2459" name="L2459"></a>2459 <em class="comment">////////////////</em>
<a id="L2460" name="L2460"></a>2460 
<a id="L2461" name="L2461"></a>2461 
<div class="comment">
      Gets the <code>AccessibleContext</code> associated with this
      <code>JTextComponent</code>. For text components,
      the <code>AccessibleContext</code> takes the form of an
      <code>AccessibleJTextComponent</code>.
      A new <code>AccessibleJTextComponent</code> instance
      is created if necessary.
      @return an <code>AccessibleJTextComponent</code> that serves as the
              <code>AccessibleContext</code> of this
              <code>JTextComponent</code></div>
<a id="L2474" name="L2474"></a>2474     <strong class="reserved">public</strong> <a href="../S/4363.html#L83" title="Defined at 83 in src/javax/accessibility/AccessibleContext.java.">AccessibleContext</a> <a href="../R/14926.html" title="Multiple referred from 77 places.">getAccessibleContext</a>() <em class="brace">{</em>
<a id="L2475" name="L2475"></a>2475         <strong class="reserved">if</strong> (accessibleContext == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2476" name="L2476"></a>2476             accessibleContext = <strong class="reserved">new</strong> <a href="../S/3351.html#L2495" title="Defined at 2495 in src/javax/swing/text/JTextComponent.java.">AccessibleJTextComponent</a>();
<a id="L2477" name="L2477"></a>2477         <em class="brace">}</em>
<a id="L2478" name="L2478"></a>2478         <strong class="reserved">return</strong> accessibleContext;
<a id="L2479" name="L2479"></a>2479     <em class="brace">}</em>
<a id="L2480" name="L2480"></a>2480 
<div class="comment">
      This class implements accessibility support for the
      <code>JTextComponent</code> class.  It provides an implementation of
      the Java Accessibility API appropriate to menu user-interface elements.
      <p>
      <strong>Warning:</strong>
      Serialized objects of this class will not be compatible with
      future Swing releases. The current serialization support is
      appropriate for short term storage or RMI between applications running
      the same version of Swing.  As of 1.4, support for long term storage
      of all JavaBeans™
      has been added to the <code>java.beans</code> package.
      Please see {@link java.beans.XMLEncoder}.</p></div>
<a id="L2495" name="L2495"></a>2495     <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/240.html" title="Multiple referred from 6 places.">AccessibleJTextComponent</a> <strong class="reserved">extends</strong> <a href="../S/3152.html#L3663" title="Defined at 3663 in src/javax/swing/JComponent.java.">AccessibleJComponent</a>
<a id="L2496" name="L2496"></a>2496     <strong class="reserved">implements</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>, <a href="../S/3402.html#L36" title="Defined at 36 in src/javax/swing/event/CaretListener.java.">CaretListener</a>, <a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>,
<a id="L2497" name="L2497"></a>2497                <a href="../S/4373.html#L49" title="Defined at 49 in src/javax/accessibility/AccessibleAction.java.">AccessibleAction</a>, <a href="../S/4354.html#L54" title="Defined at 54 in src/javax/accessibility/AccessibleEditableText.java.">AccessibleEditableText</a>,
<a id="L2498" name="L2498"></a>2498                <a href="../S/4369.html#L53" title="Defined at 53 in src/javax/accessibility/AccessibleExtendedText.java.">AccessibleExtendedText</a> <em class="brace">{</em>
<a id="L2499" name="L2499"></a>2499 
<a id="L2500" name="L2500"></a>2500         <strong class="reserved">int</strong> caretPos;
<a id="L2501" name="L2501"></a>2501         <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> oldLocationOnScreen;
<a id="L2502" name="L2502"></a>2502 
<div class="comment">
          Constructs an AccessibleJTextComponent.  Adds a listener to track
          caret change.</div>
<a id="L2507" name="L2507"></a>2507         <strong class="reserved">public</strong> AccessibleJTextComponent() <em class="brace">{</em>
<a id="L2508" name="L2508"></a>2508             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L2509" name="L2509"></a>2509             <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2510" name="L2510"></a>2510                 doc.<a href="../D/10761.html" title="Multiple defined in 3 places.">addDocumentListener</a>(<strong class="reserved">this</strong>);
<a id="L2511" name="L2511"></a>2511             <em class="brace">}</em>
<a id="L2512" name="L2512"></a>2512             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../S/3351.html#L349" title="Defined at 349 in src/javax/swing/text/JTextComponent.java.">addCaretListener</a>(<strong class="reserved">this</strong>);
<a id="L2513" name="L2513"></a>2513             caretPos = <a href="../D/17501.html" title="Multiple defined in 11 places.">getCaretPosition</a>();
<a id="L2514" name="L2514"></a>2514 
<a id="L2515" name="L2515"></a>2515             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2516" name="L2516"></a>2516                 oldLocationOnScreen = <a href="../D/20244.html" title="Multiple defined in 14 places.">getLocationOnScreen</a>();
<a id="L2517" name="L2517"></a>2517             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2308.html#L34" title="Defined at 34 in src/java/awt/IllegalComponentStateException.java.">IllegalComponentStateException</a> iae) <em class="brace">{</em>
<a id="L2518" name="L2518"></a>2518             <em class="brace">}</em>
<a id="L2519" name="L2519"></a>2519 
<a id="L2520" name="L2520"></a>2520             <em class="comment">// Fire a ACCESSIBLE_VISIBLE_DATA_PROPERTY PropertyChangeEvent</em>
<a id="L2521" name="L2521"></a>2521             <em class="comment">// when the text component moves (e.g., when scrolling).</em>
<a id="L2522" name="L2522"></a>2522             <em class="comment">// Using an anonymous class since making AccessibleJTextComponent</em>
<a id="L2523" name="L2523"></a>2523             <em class="comment">// implement ComponentListener would be an API change.</em>
<a id="L2524" name="L2524"></a>2524             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../S/2177.html#L5228" title="Defined at 5228 in src/java/awt/Component.java.">addComponentListener</a>(<strong class="reserved">new</strong> <a href="../S/2435.html#L52" title="Defined at 52 in src/java/awt/event/ComponentAdapter.java.">ComponentAdapter</a>() <em class="brace">{</em>
<a id="L2525" name="L2525"></a>2525 
<a id="L2526" name="L2526"></a>2526                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/13141.html" title="Multiple defined in 12 places.">componentMoved</a>(<a href="../S/2431.html#L68" title="Defined at 68 in src/java/awt/event/ComponentEvent.java.">ComponentEvent</a> e) <em class="brace">{</em>
<a id="L2527" name="L2527"></a>2527                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2528" name="L2528"></a>2528                         <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> newLocationOnScreen = <a href="../D/20244.html" title="Multiple defined in 14 places.">getLocationOnScreen</a>();
<a id="L2529" name="L2529"></a>2529                         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_VISIBLE_DATA_PROPERTY,
<a id="L2530" name="L2530"></a>2530                                            oldLocationOnScreen,
<a id="L2531" name="L2531"></a>2531                                            newLocationOnScreen);
<a id="L2532" name="L2532"></a>2532 
<a id="L2533" name="L2533"></a>2533                         oldLocationOnScreen = newLocationOnScreen;
<a id="L2534" name="L2534"></a>2534                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2308.html#L34" title="Defined at 34 in src/java/awt/IllegalComponentStateException.java.">IllegalComponentStateException</a> iae) <em class="brace">{</em>
<a id="L2535" name="L2535"></a>2535                     <em class="brace">}</em>
<a id="L2536" name="L2536"></a>2536                 <em class="brace">}</em>
<a id="L2537" name="L2537"></a>2537             <em class="brace">}</em>);
<a id="L2538" name="L2538"></a>2538         <em class="brace">}</em>
<a id="L2539" name="L2539"></a>2539 
<div class="comment">
          Handles caret updates (fire appropriate property change event,
          which are AccessibleContext.ACCESSIBLE_CARET_PROPERTY and
          AccessibleContext.ACCESSIBLE_SELECTION_PROPERTY).
          This keeps track of the dot position internally.  When the caret
          moves, the internal position is updated after firing the event.
          @param e the CaretEvent</div>
<a id="L2549" name="L2549"></a>2549         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L397" title="Referred from 397 in src/javax/swing/text/JTextComponent.java.">caretUpdate</a>(<a href="../S/3409.html#L45" title="Defined at 45 in src/javax/swing/event/CaretEvent.java.">CaretEvent</a> e) <em class="brace">{</em>
<a id="L2550" name="L2550"></a>2550             <strong class="reserved">int</strong> dot = e.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L2551" name="L2551"></a>2551             <strong class="reserved">int</strong> <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a> = e.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>();
<a id="L2552" name="L2552"></a>2552             <strong class="reserved">if</strong> (caretPos != dot) <em class="brace">{</em>
<a id="L2553" name="L2553"></a>2553                 <em class="comment">// the caret moved</em>
<a id="L2554" name="L2554"></a>2554                 <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_CARET_PROPERTY,
<a id="L2555" name="L2555"></a>2555                     <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(caretPos), <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>(dot));
<a id="L2556" name="L2556"></a>2556                 caretPos = dot;
<a id="L2557" name="L2557"></a>2557 
<a id="L2558" name="L2558"></a>2558                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2559" name="L2559"></a>2559                     oldLocationOnScreen = <a href="../D/20244.html" title="Multiple defined in 14 places.">getLocationOnScreen</a>();
<a id="L2560" name="L2560"></a>2560                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2308.html#L34" title="Defined at 34 in src/java/awt/IllegalComponentStateException.java.">IllegalComponentStateException</a> iae) <em class="brace">{</em>
<a id="L2561" name="L2561"></a>2561                 <em class="brace">}</em>
<a id="L2562" name="L2562"></a>2562             <em class="brace">}</em>
<a id="L2563" name="L2563"></a>2563             <strong class="reserved">if</strong> (<a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a> != dot) <em class="brace">{</em>
<a id="L2564" name="L2564"></a>2564                 <em class="comment">// there is a selection</em>
<a id="L2565" name="L2565"></a>2565                 <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_SELECTION_PROPERTY, <strong class="reserved">null</strong>,
<a id="L2566" name="L2566"></a>2566                     <a href="../D/22360.html" title="Multiple defined in 12 places.">getSelectedText</a>());
<a id="L2567" name="L2567"></a>2567             <em class="brace">}</em>
<a id="L2568" name="L2568"></a>2568         <em class="brace">}</em>
<a id="L2569" name="L2569"></a>2569 
<a id="L2570" name="L2570"></a>2570         <em class="comment">// DocumentListener methods</em>
<a id="L2571" name="L2571"></a>2571 
<div class="comment">
          Handles document insert (fire appropriate property change event
          which is AccessibleContext.ACCESSIBLE_TEXT_PROPERTY).
          This tracks the changed offset via the event.
          @param e the DocumentEvent</div>
<a id="L2579" name="L2579"></a>2579         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L2580" name="L2580"></a>2580             <strong class="reserved">final</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> pos = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> (e.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2581" name="L2581"></a>2581             <strong class="reserved">if</strong> (<a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>()) <em class="brace">{</em>
<a id="L2582" name="L2582"></a>2582                 <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_TEXT_PROPERTY, <strong class="reserved">null</strong>, pos);
<a id="L2583" name="L2583"></a>2583             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2584" name="L2584"></a>2584                 <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> doFire = <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L2585" name="L2585"></a>2585                     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L2586" name="L2586"></a>2586                         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_TEXT_PROPERTY,
<a id="L2587" name="L2587"></a>2587                                            <strong class="reserved">null</strong>, pos);
<a id="L2588" name="L2588"></a>2588                     <em class="brace">}</em>
<a id="L2589" name="L2589"></a>2589                 <em class="brace">}</em>;
<a id="L2590" name="L2590"></a>2590                 <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../D/25068.html" title="Multiple defined in 2 places.">invokeLater</a>(doFire);
<a id="L2591" name="L2591"></a>2591             <em class="brace">}</em>
<a id="L2592" name="L2592"></a>2592         <em class="brace">}</em>
<a id="L2593" name="L2593"></a>2593 
<div class="comment">
          Handles document remove (fire appropriate property change event,
          which is AccessibleContext.ACCESSIBLE_TEXT_PROPERTY).
          This tracks the changed offset via the event.
          @param e the DocumentEvent</div>
<a id="L2601" name="L2601"></a>2601         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L2602" name="L2602"></a>2602             <strong class="reserved">final</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> pos = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> (e.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2603" name="L2603"></a>2603             <strong class="reserved">if</strong> (<a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>()) <em class="brace">{</em>
<a id="L2604" name="L2604"></a>2604                 <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_TEXT_PROPERTY, <strong class="reserved">null</strong>, pos);
<a id="L2605" name="L2605"></a>2605             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2606" name="L2606"></a>2606                 <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> doFire = <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L2607" name="L2607"></a>2607                     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L2608" name="L2608"></a>2608                         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_TEXT_PROPERTY,
<a id="L2609" name="L2609"></a>2609                                            <strong class="reserved">null</strong>, pos);
<a id="L2610" name="L2610"></a>2610                     <em class="brace">}</em>
<a id="L2611" name="L2611"></a>2611                 <em class="brace">}</em>;
<a id="L2612" name="L2612"></a>2612                 <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../D/25068.html" title="Multiple defined in 2 places.">invokeLater</a>(doFire);
<a id="L2613" name="L2613"></a>2613             <em class="brace">}</em>
<a id="L2614" name="L2614"></a>2614         <em class="brace">}</em>
<a id="L2615" name="L2615"></a>2615 
<div class="comment">
          Handles document remove (fire appropriate property change event,
          which is AccessibleContext.ACCESSIBLE_TEXT_PROPERTY).
          This tracks the changed offset via the event.
          @param e the DocumentEvent</div>
<a id="L2623" name="L2623"></a>2623         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L2624" name="L2624"></a>2624             <strong class="reserved">final</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> pos = <strong class="reserved">new</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a> (e.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L2625" name="L2625"></a>2625             <strong class="reserved">if</strong> (<a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../S/3164.html#L1359" title="Defined at 1359 in src/javax/swing/SwingUtilities.java.">isEventDispatchThread</a>()) <em class="brace">{</em>
<a id="L2626" name="L2626"></a>2626                 <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_TEXT_PROPERTY, <strong class="reserved">null</strong>, pos);
<a id="L2627" name="L2627"></a>2627             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2628" name="L2628"></a>2628                 <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> doFire = <strong class="reserved">new</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a>() <em class="brace">{</em>
<a id="L2629" name="L2629"></a>2629                     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L2630" name="L2630"></a>2630                         <a href="../D/16359.html" title="Multiple defined in 54 places.">firePropertyChange</a>(ACCESSIBLE_TEXT_PROPERTY,
<a id="L2631" name="L2631"></a>2631                                            <strong class="reserved">null</strong>, pos);
<a id="L2632" name="L2632"></a>2632                     <em class="brace">}</em>
<a id="L2633" name="L2633"></a>2633                 <em class="brace">}</em>;
<a id="L2634" name="L2634"></a>2634                 <a href="../S/3164.html#L53" title="Defined at 53 in src/javax/swing/SwingUtilities.java.">SwingUtilities</a>.<a href="../D/25068.html" title="Multiple defined in 2 places.">invokeLater</a>(doFire);
<a id="L2635" name="L2635"></a>2635             <em class="brace">}</em>
<a id="L2636" name="L2636"></a>2636         <em class="brace">}</em>
<a id="L2637" name="L2637"></a>2637 
<div class="comment">
          Gets the state set of the JTextComponent.
          The AccessibleStateSet of an object is composed of a set of
          unique AccessibleState's.  A change in the AccessibleStateSet
          of an object will cause a PropertyChangeEvent to be fired
          for the AccessibleContext.ACCESSIBLE_STATE_PROPERTY property.
          @return an instance of AccessibleStateSet containing the
          current state set of the object
          @see AccessibleStateSet
          @see AccessibleState
          @see #addPropertyChangeListener</div>
<a id="L2651" name="L2651"></a>2651         <strong class="reserved">public</strong> <a href="../S/4359.html#L43" title="Defined at 43 in src/javax/accessibility/AccessibleStateSet.java.">AccessibleStateSet</a> <a href="../R/14943.html" title="Multiple referred from 39 places.">getAccessibleStateSet</a>() <em class="brace">{</em>
<a id="L2652" name="L2652"></a>2652             <a href="../S/4359.html#L43" title="Defined at 43 in src/javax/accessibility/AccessibleStateSet.java.">AccessibleStateSet</a> states = <strong class="reserved">super</strong>.<a href="../D/16773.html" title="Multiple defined in 43 places.">getAccessibleStateSet</a>();
<a id="L2653" name="L2653"></a>2653             <strong class="reserved">if</strong> (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) <em class="brace">{</em>
<a id="L2654" name="L2654"></a>2654                 states.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/4349.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleState.java.">AccessibleState</a>.EDITABLE);
<a id="L2655" name="L2655"></a>2655             <em class="brace">}</em>
<a id="L2656" name="L2656"></a>2656             <strong class="reserved">return</strong> states;
<a id="L2657" name="L2657"></a>2657         <em class="brace">}</em>
<a id="L2658" name="L2658"></a>2658 
<a id="L2659" name="L2659"></a>2659 
<div class="comment">
          Gets the role of this object.
          @return an instance of AccessibleRole describing the role of the
          object (AccessibleRole.TEXT)
          @see AccessibleRole</div>
<a id="L2667" name="L2667"></a>2667         <strong class="reserved">public</strong> <a href="../S/4372.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleRole.java.">AccessibleRole</a> <a href="../R/14938.html" title="Multiple referred from 8 places.">getAccessibleRole</a>() <em class="brace">{</em>
<a id="L2668" name="L2668"></a>2668             <strong class="reserved">return</strong> <a href="../S/4372.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleRole.java.">AccessibleRole</a>.TEXT;
<a id="L2669" name="L2669"></a>2669         <em class="brace">}</em>
<a id="L2670" name="L2670"></a>2670 
<div class="comment">
          Get the AccessibleText associated with this object.  In the
          implementation of the Java Accessibility API for this class,
          return this object, which is responsible for implementing the
          AccessibleText interface on behalf of itself.
          @return this object</div>
<a id="L2679" name="L2679"></a>2679         <strong class="reserved">public</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a> <a href="../R/14945.html" title="Multiple referred from 8 places.">getAccessibleText</a>() <em class="brace">{</em>
<a id="L2680" name="L2680"></a>2680             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L2681" name="L2681"></a>2681         <em class="brace">}</em>
<a id="L2682" name="L2682"></a>2682 
<a id="L2683" name="L2683"></a>2683 
<a id="L2684" name="L2684"></a>2684         <em class="comment">// --- interface AccessibleText methods ------------------------</em>
<a id="L2685" name="L2685"></a>2685 
<div class="comment">
          Many of these methods are just convenience methods; they
          just call the equivalent on the parent</div>
<a id="L2690" name="L2690"></a>2690 
<div class="comment">
          Given a point in local coordinates, return the zero-based index
          of the character under that Point.  If the point is invalid,
          this method returns -1.
          @param p the Point in local coordinates
          @return the zero-based index of the character under Point p.</div>
<a id="L2699" name="L2699"></a>2699         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17038.html" title="Multiple referred from 2 places.">getIndexAtPoint</a>(<a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p) <em class="brace">{</em>
<a id="L2700" name="L2700"></a>2700             <strong class="reserved">if</strong> (p == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2701" name="L2701"></a>2701                 <strong class="reserved">return</strong> -1;
<a id="L2702" name="L2702"></a>2702             <em class="brace">}</em>
<a id="L2703" name="L2703"></a>2703             <strong class="reserved">return</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(p);
<a id="L2704" name="L2704"></a>2704         <em class="brace">}</em>
<a id="L2705" name="L2705"></a>2705 
<div class="comment">
              Gets the editor's drawing rectangle.  Stolen
              from the unfortunately named
              BasicTextUI.getVisibleEditorRect()
              @return the bounding box for the root view</div>
<a id="L2713" name="L2713"></a>2713             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/18761.html" title="Multiple referred from 3 places.">getRootEditorRect</a>() <em class="brace">{</em>
<a id="L2714" name="L2714"></a>2714                 <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L2715" name="L2715"></a>2715                 <strong class="reserved">if</strong> ((alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> &gt; 0) &amp;&amp; (alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> &gt; 0)) <em class="brace">{</em>
<a id="L2716" name="L2716"></a>2716                         alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = alloc.y = 0;
<a id="L2717" name="L2717"></a>2717                         <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/19755.html" title="Multiple defined in 21 places.">getInsets</a>();
<a id="L2718" name="L2718"></a>2718                         alloc.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.left;
<a id="L2719" name="L2719"></a>2719                         alloc.y += <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>;
<a id="L2720" name="L2720"></a>2720                         alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a> -= <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.left + <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.right;
<a id="L2721" name="L2721"></a>2721                         alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> -= <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> + <a href="../S/2224.html#L390" title="Defined at 390 in src/java/awt/Container.java.">insets</a>.bottom;
<a id="L2722" name="L2722"></a>2722                         <strong class="reserved">return</strong> alloc;
<a id="L2723" name="L2723"></a>2723                 <em class="brace">}</em>
<a id="L2724" name="L2724"></a>2724                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2725" name="L2725"></a>2725             <em class="brace">}</em>
<a id="L2726" name="L2726"></a>2726 
<div class="comment">
          Determines the bounding box of the character at the given
          index into the string.  The bounds are returned in local
          coordinates.  If the index is invalid a null rectangle
          is returned.
          The screen coordinates returned are "unscrolled coordinates"
          if the JTextComponent is contained in a JScrollPane in which
          case the resulting rectangle should be composed with the parent
          coordinates.  A good algorithm to use is:
          <pre>          Accessible a:
          AccessibleText at = a.getAccessibleText();
          AccessibleComponent ac = a.getAccessibleComponent();
          Rectangle r = at.getCharacterBounds();
          Point p = ac.getLocation();
          r.x += p.x;
          r.y += p.y;
          </pre>
          Note: the JTextComponent must have a valid size (e.g. have
          been added to a parent container whose ancestor container
          is a valid top-level window) for this method to be able
          to return a meaningful (non-null) value.
          @param i the index into the String ≥ 0
          @return the screen coordinates of the character's bounding box</div>
<a id="L2755" name="L2755"></a>2755         <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../R/15522.html" title="Multiple referred from 2 places.">getCharacterBounds</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L2756" name="L2756"></a>2756             <strong class="reserved">if</strong> (i &lt; 0 || i &gt; model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()-1) <em class="brace">{</em>
<a id="L2757" name="L2757"></a>2757                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2758" name="L2758"></a>2758             <em class="brace">}</em>
<a id="L2759" name="L2759"></a>2759             <a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a> ui = <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>();
<a id="L2760" name="L2760"></a>2760             <strong class="reserved">if</strong> (ui == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2761" name="L2761"></a>2761                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2762" name="L2762"></a>2762             <em class="brace">}</em>
<a id="L2763" name="L2763"></a>2763             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> rect = <strong class="reserved">null</strong>;
<a id="L2764" name="L2764"></a>2764             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../D/22127.html" title="Multiple defined in 2 places.">getRootEditorRect</a>();
<a id="L2765" name="L2765"></a>2765             <strong class="reserved">if</strong> (alloc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2766" name="L2766"></a>2766                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2767" name="L2767"></a>2767             <em class="brace">}</em>
<a id="L2768" name="L2768"></a>2768             <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L2769" name="L2769"></a>2769                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L2770" name="L2770"></a>2770             <em class="brace">}</em>
<a id="L2771" name="L2771"></a>2771             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2772" name="L2772"></a>2772                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> rootView = ui.<a href="../D/22146.html" title="Multiple defined in 5 places.">getRootView</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>);
<a id="L2773" name="L2773"></a>2773                 <strong class="reserved">if</strong> (rootView != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2774" name="L2774"></a>2774                     rootView.<a href="../D/33924.html" title="Multiple defined in 54 places.">setSize</a>(alloc.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>, alloc.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a>);
<a id="L2775" name="L2775"></a>2775 
<a id="L2776" name="L2776"></a>2776                     <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> = rootView.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(i,
<a id="L2777" name="L2777"></a>2777                                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward, i+1,
<a id="L2778" name="L2778"></a>2778                                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward, alloc);
<a id="L2779" name="L2779"></a>2779 
<a id="L2780" name="L2780"></a>2780                     rect = (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L2781" name="L2781"></a>2781                      (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> : <a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L2782" name="L2782"></a>2782 
<a id="L2783" name="L2783"></a>2783                 <em class="brace">}</em>
<a id="L2784" name="L2784"></a>2784             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L2785" name="L2785"></a>2785             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2786" name="L2786"></a>2786                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L2787" name="L2787"></a>2787                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L2788" name="L2788"></a>2788                 <em class="brace">}</em>
<a id="L2789" name="L2789"></a>2789             <em class="brace">}</em>
<a id="L2790" name="L2790"></a>2790             <strong class="reserved">return</strong> rect;
<a id="L2791" name="L2791"></a>2791         <em class="brace">}</em>
<a id="L2792" name="L2792"></a>2792 
<div class="comment">
          Returns the number of characters (valid indices)
          @return the number of characters ≥ 0</div>
<a id="L2798" name="L2798"></a>2798         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15506.html" title="Multiple referred from 22 places.">getCharCount</a>() <em class="brace">{</em>
<a id="L2799" name="L2799"></a>2799             <strong class="reserved">return</strong> model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L2800" name="L2800"></a>2800         <em class="brace">}</em>
<a id="L2801" name="L2801"></a>2801 
<div class="comment">
          Returns the zero-based offset of the caret.
          Note: The character to the right of the caret will have the
          same index value as the offset (the caret is between
          two characters).
          @return the zero-based offset of the caret.</div>
<a id="L2811" name="L2811"></a>2811         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/15451.html" title="Multiple referred from 31 places.">getCaretPosition</a>() <em class="brace">{</em>
<a id="L2812" name="L2812"></a>2812             <strong class="reserved">return</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/17501.html" title="Multiple defined in 11 places.">getCaretPosition</a>();
<a id="L2813" name="L2813"></a>2813         <em class="brace">}</em>
<a id="L2814" name="L2814"></a>2814 
<div class="comment">
          Returns the AttributeSet for a given character (at a given index).
          @param i the zero-based index into the text
          @return the AttributeSet of the character</div>
<a id="L2821" name="L2821"></a>2821         <strong class="reserved">public</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../R/15521.html" title="Multiple referred from 2 places.">getCharacterAttribute</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L2822" name="L2822"></a>2822             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e = <strong class="reserved">null</strong>;
<a id="L2823" name="L2823"></a>2823             <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L2824" name="L2824"></a>2824                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L2825" name="L2825"></a>2825             <em class="brace">}</em>
<a id="L2826" name="L2826"></a>2826             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2827" name="L2827"></a>2827                 <strong class="reserved">for</strong> (e = model.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>(); ! e.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>(); ) <em class="brace">{</em>
<a id="L2828" name="L2828"></a>2828                     <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = e.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(i);
<a id="L2829" name="L2829"></a>2829                     e = e.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2830" name="L2830"></a>2830                 <em class="brace">}</em>
<a id="L2831" name="L2831"></a>2831             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2832" name="L2832"></a>2832                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L2833" name="L2833"></a>2833                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L2834" name="L2834"></a>2834                 <em class="brace">}</em>
<a id="L2835" name="L2835"></a>2835             <em class="brace">}</em>
<a id="L2836" name="L2836"></a>2836             <strong class="reserved">return</strong> e.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L2837" name="L2837"></a>2837         <em class="brace">}</em>
<a id="L2838" name="L2838"></a>2838 
<a id="L2839" name="L2839"></a>2839 
<div class="comment">
          Returns the start offset within the selected text.
          If there is no selection, but there is
          a caret, the start and end offsets will be the same.
          Return 0 if the text is empty, or the caret position
          if no selection.
          @return the index into the text of the start of the selection ≥ 0</div>
<a id="L2849" name="L2849"></a>2849         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18946.html" title="Multiple referred from 34 places.">getSelectionStart</a>() <em class="brace">{</em>
<a id="L2850" name="L2850"></a>2850             <strong class="reserved">return</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>();
<a id="L2851" name="L2851"></a>2851         <em class="brace">}</em>
<a id="L2852" name="L2852"></a>2852 
<div class="comment">
          Returns the end offset within the selected text.
          If there is no selection, but there is
          a caret, the start and end offsets will be the same.
          Return 0 if the text is empty, or the caret position
          if no selection.
          @return the index into the text of the end of the selection ≥ 0</div>
<a id="L2862" name="L2862"></a>2862         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/18937.html" title="Multiple referred from 24 places.">getSelectionEnd</a>() <em class="brace">{</em>
<a id="L2863" name="L2863"></a>2863             <strong class="reserved">return</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/22371.html" title="Multiple defined in 11 places.">getSelectionEnd</a>();
<a id="L2864" name="L2864"></a>2864         <em class="brace">}</em>
<a id="L2865" name="L2865"></a>2865 
<div class="comment">
          Returns the portion of the text that is selected.
          @return the text, null if no selection</div>
<a id="L2871" name="L2871"></a>2871         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18928.html" title="Multiple referred from 11 places.">getSelectedText</a>() <em class="brace">{</em>
<a id="L2872" name="L2872"></a>2872             <strong class="reserved">return</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/22360.html" title="Multiple defined in 12 places.">getSelectedText</a>();
<a id="L2873" name="L2873"></a>2873         <em class="brace">}</em>
<a id="L2874" name="L2874"></a>2874 
<div class="comment">
          IndexedSegment extends Segment adding the offset into the
          the model the <code>Segment</code> was asked for.</div>
<a id="L2879" name="L2879"></a>2879         <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/3783.html" title="Multiple referred from 11 places.">IndexedSegment</a> <strong class="reserved">extends</strong> <a href="../D/7688.html" title="Multiple defined in 2 places.">Segment</a> <em class="brace">{</em>
<div class="comment">
              Offset into the model that the position represents.</div>
<a id="L2883" name="L2883"></a>2883             <strong class="reserved">public</strong> <strong class="reserved">int</strong> modelOffset;
<a id="L2884" name="L2884"></a>2884         <em class="brace">}</em>
<a id="L2885" name="L2885"></a>2885 
<a id="L2886" name="L2886"></a>2886 
<a id="L2887" name="L2887"></a>2887         <em class="comment">// TIGER - 4170173</em>
<div class="comment">
          Returns the String at a given index. Whitespace
          between words is treated as a word.
          @param part the CHARACTER, WORD, or SENTENCE to retrieve
          @param index an index within the text
          @return the letter, word, or sentence.</div>
<a id="L2897" name="L2897"></a>2897         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15131.html" title="Multiple referred from 9 places.">getAtIndex</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L2898" name="L2898"></a>2898             <strong class="reserved">return</strong> <a href="../D/17048.html" title="Multiple defined in 11 places.">getAtIndex</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, 0);
<a id="L2899" name="L2899"></a>2899         <em class="brace">}</em>
<a id="L2900" name="L2900"></a>2900 
<a id="L2901" name="L2901"></a>2901 
<div class="comment">
          Returns the String after a given index. Whitespace
          between words is treated as a word.
          @param part the CHARACTER, WORD, or SENTENCE to retrieve
          @param index an index within the text
          @return the letter, word, or sentence.</div>
<a id="L2910" name="L2910"></a>2910         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14997.html" title="Multiple referred from 3 places.">getAfterIndex</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L2911" name="L2911"></a>2911             <strong class="reserved">return</strong> <a href="../D/17048.html" title="Multiple defined in 11 places.">getAtIndex</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, 1);
<a id="L2912" name="L2912"></a>2912         <em class="brace">}</em>
<a id="L2913" name="L2913"></a>2913 
<a id="L2914" name="L2914"></a>2914 
<div class="comment">
          Returns the String before a given index. Whitespace
          between words is treated a word.
          @param part the CHARACTER, WORD, or SENTENCE to retrieve
          @param index an index within the text
          @return the letter, word, or sentence.</div>
<a id="L2923" name="L2923"></a>2923         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15257.html" title="Multiple referred from 3 places.">getBeforeIndex</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L2924" name="L2924"></a>2924             <strong class="reserved">return</strong> <a href="../D/17048.html" title="Multiple defined in 11 places.">getAtIndex</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, -1);
<a id="L2925" name="L2925"></a>2925         <em class="brace">}</em>
<a id="L2926" name="L2926"></a>2926 
<a id="L2927" name="L2927"></a>2927 
<div class="comment">
          Gets the word, sentence, or character at <code>index</code>.
          If <code>direction</code> is non-null this will find the
          next/previous word/sentence/character.</div>
<a id="L2933" name="L2933"></a>2933         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15131.html" title="Multiple referred from 9 places.">getAtIndex</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L2934" name="L2934"></a>2934             <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L2935" name="L2935"></a>2935                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L2936" name="L2936"></a>2936             <em class="brace">}</em>
<a id="L2937" name="L2937"></a>2937             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L2938" name="L2938"></a>2938                 <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0 || <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L2939" name="L2939"></a>2939                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2940" name="L2940"></a>2940                 <em class="brace">}</em>
<a id="L2941" name="L2941"></a>2941                 <strong class="reserved">switch</strong> (part) <em class="brace">{</em>
<a id="L2942" name="L2942"></a>2942                 <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.CHARACTER:
<a id="L2943" name="L2943"></a>2943                     <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction &lt; model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &amp;&amp;
<a id="L2944" name="L2944"></a>2944                         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction &gt;= 0) <em class="brace">{</em>
<a id="L2945" name="L2945"></a>2945                         <strong class="reserved">return</strong> model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction, 1);
<a id="L2946" name="L2946"></a>2946                     <em class="brace">}</em>
<a id="L2947" name="L2947"></a>2947                     <strong class="reserved">break</strong>;
<a id="L2948" name="L2948"></a>2948 
<a id="L2949" name="L2949"></a>2949 
<a id="L2950" name="L2950"></a>2950                 <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.WORD:
<a id="L2951" name="L2951"></a>2951                 <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.SENTENCE:
<a id="L2952" name="L2952"></a>2952                     <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a> seg = <a href="../D/22331.html" title="Multiple defined in 2 places.">getSegmentAt</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2953" name="L2953"></a>2953                     <strong class="reserved">if</strong> (seg != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2954" name="L2954"></a>2954                         <strong class="reserved">if</strong> (direction != 0) <em class="brace">{</em>
<a id="L2955" name="L2955"></a>2955                             <strong class="reserved">int</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L2956" name="L2956"></a>2956 
<a id="L2957" name="L2957"></a>2957 
<a id="L2958" name="L2958"></a>2958                             <strong class="reserved">if</strong> (direction &lt; 0) <em class="brace">{</em>
<a id="L2959" name="L2959"></a>2959                                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = seg.modelOffset - 1;
<a id="L2960" name="L2960"></a>2960                             <em class="brace">}</em>
<a id="L2961" name="L2961"></a>2961                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2962" name="L2962"></a>2962                                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = seg.modelOffset + direction * seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L2963" name="L2963"></a>2963                             <em class="brace">}</em>
<a id="L2964" name="L2964"></a>2964                             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> &gt;= 0 &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> &lt;= model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L2965" name="L2965"></a>2965                                 seg = <a href="../D/22331.html" title="Multiple defined in 2 places.">getSegmentAt</a>(part, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>);
<a id="L2966" name="L2966"></a>2966                             <em class="brace">}</em>
<a id="L2967" name="L2967"></a>2967                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L2968" name="L2968"></a>2968                                 seg = <strong class="reserved">null</strong>;
<a id="L2969" name="L2969"></a>2969                             <em class="brace">}</em>
<a id="L2970" name="L2970"></a>2970                         <em class="brace">}</em>
<a id="L2971" name="L2971"></a>2971                         <strong class="reserved">if</strong> (seg != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L2972" name="L2972"></a>2972                             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(seg.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>,
<a id="L2973" name="L2973"></a>2973                                                   seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>);
<a id="L2974" name="L2974"></a>2974                         <em class="brace">}</em>
<a id="L2975" name="L2975"></a>2975                     <em class="brace">}</em>
<a id="L2976" name="L2976"></a>2976                     <strong class="reserved">break</strong>;
<a id="L2977" name="L2977"></a>2977 
<a id="L2978" name="L2978"></a>2978 
<a id="L2979" name="L2979"></a>2979                 <strong class="reserved">default</strong>:
<a id="L2980" name="L2980"></a>2980                     <strong class="reserved">break</strong>;
<a id="L2981" name="L2981"></a>2981                 <em class="brace">}</em>
<a id="L2982" name="L2982"></a>2982             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L2983" name="L2983"></a>2983             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L2984" name="L2984"></a>2984                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L2985" name="L2985"></a>2985                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L2986" name="L2986"></a>2986                 <em class="brace">}</em>
<a id="L2987" name="L2987"></a>2987             <em class="brace">}</em>
<a id="L2988" name="L2988"></a>2988             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L2989" name="L2989"></a>2989         <em class="brace">}</em>
<a id="L2990" name="L2990"></a>2990 
<a id="L2991" name="L2991"></a>2991 
<div class="comment">
          Returns the paragraph element for the specified index.</div>
<a id="L2995" name="L2995"></a>2995         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/18247.html" title="Multiple referred from 33 places.">getParagraphElement</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L2996" name="L2996"></a>2996             <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3340.html#L59" title="Defined at 59 in src/javax/swing/text/PlainDocument.java.">PlainDocument</a> ) <em class="brace">{</em>
<a id="L2997" name="L2997"></a>2997                 <a href="../S/3340.html#L59" title="Defined at 59 in src/javax/swing/text/PlainDocument.java.">PlainDocument</a> sdoc = (<a href="../S/3340.html#L59" title="Defined at 59 in src/javax/swing/text/PlainDocument.java.">PlainDocument</a>)model;
<a id="L2998" name="L2998"></a>2998                 <strong class="reserved">return</strong> sdoc.<a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L2999" name="L2999"></a>2999             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a>) <em class="brace">{</em>
<a id="L3000" name="L3000"></a>3000                 <a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a> sdoc = (<a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a>)model;
<a id="L3001" name="L3001"></a>3001                 <strong class="reserved">return</strong> sdoc.<a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3002" name="L3002"></a>3002             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3003" name="L3003"></a>3003                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> para;
<a id="L3004" name="L3004"></a>3004                 <strong class="reserved">for</strong> (para = model.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>(); ! para.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>(); ) <em class="brace">{</em>
<a id="L3005" name="L3005"></a>3005                     <strong class="reserved">int</strong> pos = para.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3006" name="L3006"></a>3006                     para = para.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(pos);
<a id="L3007" name="L3007"></a>3007                 <em class="brace">}</em>
<a id="L3008" name="L3008"></a>3008                 <strong class="reserved">if</strong> (para == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3009" name="L3009"></a>3009                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3010" name="L3010"></a>3010                 <em class="brace">}</em>
<a id="L3011" name="L3011"></a>3011                 <strong class="reserved">return</strong> para.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L3012" name="L3012"></a>3012             <em class="brace">}</em>
<a id="L3013" name="L3013"></a>3013         <em class="brace">}</em>
<a id="L3014" name="L3014"></a>3014 
<div class="comment">
          Returns a <code>Segment</code> containing the paragraph text
          at <code>index</code>, or null if <code>index</code> isn't
          valid.</div>
<a id="L3020" name="L3020"></a>3020         <strong class="reserved">private</strong> <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a> <a href="../R/18248.html" title="Multiple referred from 2 places.">getParagraphElementText</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)
<a id="L3021" name="L3021"></a>3021                                   <strong class="reserved">throws</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3022" name="L3022"></a>3022             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> para = <a href="../D/21359.html" title="Multiple defined in 7 places.">getParagraphElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3023" name="L3023"></a>3023 
<a id="L3024" name="L3024"></a>3024 
<a id="L3025" name="L3025"></a>3025             <strong class="reserved">if</strong> (para != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3026" name="L3026"></a>3026                 <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a> segment = <strong class="reserved">new</strong> <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a>();
<a id="L3027" name="L3027"></a>3027                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3028" name="L3028"></a>3028                     <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = para.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>() - para.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L3029" name="L3029"></a>3029                     model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(para.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>(), <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, segment);
<a id="L3030" name="L3030"></a>3030                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3031" name="L3031"></a>3031                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3032" name="L3032"></a>3032                 <em class="brace">}</em>
<a id="L3033" name="L3033"></a>3033                 segment.modelOffset = para.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L3034" name="L3034"></a>3034                 <strong class="reserved">return</strong> segment;
<a id="L3035" name="L3035"></a>3035             <em class="brace">}</em>
<a id="L3036" name="L3036"></a>3036             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3037" name="L3037"></a>3037         <em class="brace">}</em>
<a id="L3038" name="L3038"></a>3038 
<a id="L3039" name="L3039"></a>3039 
<div class="comment">
          Returns the Segment at <code>index</code> representing either
          the paragraph or sentence as identified by <code>part</code>, or
          null if a valid paragraph/sentence can't be found. The offset
          will point to the start of the word/sentence in the array, and
          the modelOffset will point to the location of the word/sentence
          in the model.</div>
<a id="L3048" name="L3048"></a>3048         <strong class="reserved">private</strong> <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a> <a href="../R/18904.html" title="Multiple referred from 6 places.">getSegmentAt</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <strong class="reserved">throws</strong>
<a id="L3049" name="L3049"></a>3049                                   <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3050" name="L3050"></a>3050             <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a> seg = <a href="../D/21360.html" title="Multiple defined in 2 places.">getParagraphElementText</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3051" name="L3051"></a>3051             <strong class="reserved">if</strong> (seg == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3052" name="L3052"></a>3052                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3053" name="L3053"></a>3053             <em class="brace">}</em>
<a id="L3054" name="L3054"></a>3054             <a href="../S/2468.html#L228" title="Defined at 228 in src/java/text/BreakIterator.java.">BreakIterator</a> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>;
<a id="L3055" name="L3055"></a>3055             <strong class="reserved">switch</strong> (part) <em class="brace">{</em>
<a id="L3056" name="L3056"></a>3056             <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.WORD:
<a id="L3057" name="L3057"></a>3057                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../S/2468.html#L228" title="Defined at 228 in src/java/text/BreakIterator.java.">BreakIterator</a>.<a href="../D/23714.html" title="Multiple defined in 3 places.">getWordInstance</a>(<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3058" name="L3058"></a>3058                 <strong class="reserved">break</strong>;
<a id="L3059" name="L3059"></a>3059             <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.SENTENCE:
<a id="L3060" name="L3060"></a>3060                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../S/2468.html#L228" title="Defined at 228 in src/java/text/BreakIterator.java.">BreakIterator</a>.<a href="../D/22389.html" title="Multiple defined in 3 places.">getSentenceInstance</a>(<a href="../D/20224.html" title="Multiple defined in 51 places.">getLocale</a>());
<a id="L3061" name="L3061"></a>3061                 <strong class="reserved">break</strong>;
<a id="L3062" name="L3062"></a>3062             <strong class="reserved">default</strong>:
<a id="L3063" name="L3063"></a>3063                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3064" name="L3064"></a>3064             <em class="brace">}</em>
<a id="L3065" name="L3065"></a>3065             seg.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L3066" name="L3066"></a>3066             <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/34097.html" title="Multiple defined in 21 places.">setText</a>(seg);
<a id="L3067" name="L3067"></a>3067             <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/16506.html" title="Multiple defined in 2 places.">following</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> - seg.modelOffset + seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L3068" name="L3068"></a>3068             <strong class="reserved">if</strong> (<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> == <a href="../S/2468.html#L228" title="Defined at 228 in src/java/text/BreakIterator.java.">BreakIterator</a>.DONE) <em class="brace">{</em>
<a id="L3069" name="L3069"></a>3069                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3070" name="L3070"></a>3070             <em class="brace">}</em>
<a id="L3071" name="L3071"></a>3071             <strong class="reserved">if</strong> (<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &gt; seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L3072" name="L3072"></a>3072                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3073" name="L3073"></a>3073             <em class="brace">}</em>
<a id="L3074" name="L3074"></a>3074             <strong class="reserved">int</strong> <a href="../D/11808.html" title="Multiple defined in 37 places.">begin</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/29600.html" title="Multiple defined in 22 places.">previous</a>();
<a id="L3075" name="L3075"></a>3075             <strong class="reserved">if</strong> (<a href="../D/11808.html" title="Multiple defined in 37 places.">begin</a> == <a href="../S/2468.html#L228" title="Defined at 228 in src/java/text/BreakIterator.java.">BreakIterator</a>.DONE ||
<a id="L3076" name="L3076"></a>3076                          <a href="../D/11808.html" title="Multiple defined in 37 places.">begin</a> &gt;= seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) <em class="brace">{</em>
<a id="L3077" name="L3077"></a>3077                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3078" name="L3078"></a>3078             <em class="brace">}</em>
<a id="L3079" name="L3079"></a>3079             seg.modelOffset = seg.modelOffset + <a href="../D/11808.html" title="Multiple defined in 37 places.">begin</a> - seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L3080" name="L3080"></a>3080             seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../D/11808.html" title="Multiple defined in 37 places.">begin</a>;
<a id="L3081" name="L3081"></a>3081             seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a> = <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> - <a href="../D/11808.html" title="Multiple defined in 37 places.">begin</a>;
<a id="L3082" name="L3082"></a>3082             <strong class="reserved">return</strong> seg;
<a id="L3083" name="L3083"></a>3083         <em class="brace">}</em>
<a id="L3084" name="L3084"></a>3084 
<a id="L3085" name="L3085"></a>3085         <em class="comment">// begin AccessibleEditableText methods -----</em>
<a id="L3086" name="L3086"></a>3086 
<div class="comment">
          Returns the AccessibleEditableText interface for
          this text component.
          @return the AccessibleEditableText interface
          @since 1.4</div>
<a id="L3094" name="L3094"></a>3094         <strong class="reserved">public</strong> <a href="../S/4354.html#L54" title="Defined at 54 in src/javax/accessibility/AccessibleEditableText.java.">AccessibleEditableText</a> <a href="../S/3168.html#L2358" title="Referred from 2358 in src/javax/swing/JComboBox.java.">getAccessibleEditableText</a>() <em class="brace">{</em>
<a id="L3095" name="L3095"></a>3095             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L3096" name="L3096"></a>3096         <em class="brace">}</em>
<a id="L3097" name="L3097"></a>3097 
<div class="comment">
          Sets the text contents to the specified string.
          @param s the string to set the text contents
          @since 1.4</div>
<a id="L3104" name="L3104"></a>3104         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2751.html#L1926" title="Referred from 1926 in src/javax/swing/JSpinner.java.">setTextContents</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <em class="brace">{</em>
<a id="L3105" name="L3105"></a>3105             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/34097.html" title="Multiple defined in 21 places.">setText</a>(s);
<a id="L3106" name="L3106"></a>3106         <em class="brace">}</em>
<a id="L3107" name="L3107"></a>3107 
<div class="comment">
          Inserts the specified string at the given index
          @param index the index in the text where the string will
          be inserted
          @param s the string to insert in the text
          @since 1.4</div>
<a id="L3116" name="L3116"></a>3116         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2751.html#L1940" title="Referred from 1940 in src/javax/swing/JSpinner.java.">insertTextAtIndex</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <em class="brace">{</em>
<a id="L3117" name="L3117"></a>3117             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L3118" name="L3118"></a>3118             <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3119" name="L3119"></a>3119                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3120" name="L3120"></a>3120                     <strong class="reserved">if</strong> (s != <strong class="reserved">null</strong> &amp;&amp; s.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L3121" name="L3121"></a>3121                         <strong class="reserved">boolean</strong> composedTextSaved = <a href="../S/3351.html#L4804" title="Defined at 4804 in src/javax/swing/text/JTextComponent.java.">saveComposedText</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3122" name="L3122"></a>3122                         doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, s, <strong class="reserved">null</strong>);
<a id="L3123" name="L3123"></a>3123                         <strong class="reserved">if</strong> (composedTextSaved) <em class="brace">{</em>
<a id="L3124" name="L3124"></a>3124                             <a href="../S/3351.html#L4828" title="Defined at 4828 in src/javax/swing/text/JTextComponent.java.">restoreComposedText</a>();
<a id="L3125" name="L3125"></a>3125                         <em class="brace">}</em>
<a id="L3126" name="L3126"></a>3126                     <em class="brace">}</em>
<a id="L3127" name="L3127"></a>3127                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3128" name="L3128"></a>3128                     <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../S/3125.html#L491" title="Defined at 491 in src/javax/swing/UIManager.java.">getLookAndFeel</a>().<a href="../D/29904.html" title="Multiple defined in 3 places.">provideErrorFeedback</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>);
<a id="L3129" name="L3129"></a>3129                 <em class="brace">}</em>
<a id="L3130" name="L3130"></a>3130             <em class="brace">}</em>
<a id="L3131" name="L3131"></a>3131         <em class="brace">}</em>
<a id="L3132" name="L3132"></a>3132 
<div class="comment">
          Returns the text string between two indices.
          @param startIndex the starting index in the text
          @param endIndex the ending index in the text
          @return the text string between the indices
          @since 1.4</div>
<a id="L3141" name="L3141"></a>3141         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19440.html" title="Multiple referred from 2 places.">getTextRange</a>(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex) <em class="brace">{</em>
<a id="L3142" name="L3142"></a>3142             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> txt = <strong class="reserved">null</strong>;
<a id="L3143" name="L3143"></a>3143             <strong class="reserved">int</strong> p0 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(startIndex, endIndex);
<a id="L3144" name="L3144"></a>3144             <strong class="reserved">int</strong> p1 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(startIndex, endIndex);
<a id="L3145" name="L3145"></a>3145             <strong class="reserved">if</strong> (p0 != p1) <em class="brace">{</em>
<a id="L3146" name="L3146"></a>3146                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3147" name="L3147"></a>3147                     <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L3148" name="L3148"></a>3148                     txt = doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(p0, p1 - p0);
<a id="L3149" name="L3149"></a>3149                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3150" name="L3150"></a>3150                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>(e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L3151" name="L3151"></a>3151                 <em class="brace">}</em>
<a id="L3152" name="L3152"></a>3152             <em class="brace">}</em>
<a id="L3153" name="L3153"></a>3153             <strong class="reserved">return</strong> txt;
<a id="L3154" name="L3154"></a>3154         <em class="brace">}</em>
<a id="L3155" name="L3155"></a>3155 
<div class="comment">
          Deletes the text between two indices
          @param startIndex the starting index in the text
          @param endIndex the ending index in the text
          @since 1.4</div>
<a id="L3163" name="L3163"></a>3163         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13204.html" title="Multiple referred from 51 places.">delete</a>(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex) <em class="brace">{</em>
<a id="L3164" name="L3164"></a>3164             <strong class="reserved">if</strong> (<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>() &amp;&amp; <a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>()) <em class="brace">{</em>
<a id="L3165" name="L3165"></a>3165                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3166" name="L3166"></a>3166                     <strong class="reserved">int</strong> p0 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(startIndex, endIndex);
<a id="L3167" name="L3167"></a>3167                     <strong class="reserved">int</strong> p1 = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(startIndex, endIndex);
<a id="L3168" name="L3168"></a>3168                     <strong class="reserved">if</strong> (p0 != p1) <em class="brace">{</em>
<a id="L3169" name="L3169"></a>3169                         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L3170" name="L3170"></a>3170                         doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(p0, p1 - p0);
<a id="L3171" name="L3171"></a>3171                     <em class="brace">}</em>
<a id="L3172" name="L3172"></a>3172                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3173" name="L3173"></a>3173                 <em class="brace">}</em>
<a id="L3174" name="L3174"></a>3174             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3175" name="L3175"></a>3175                 <a href="../S/3125.html#L177" title="Defined at 177 in src/javax/swing/UIManager.java.">UIManager</a>.<a href="../S/3125.html#L491" title="Defined at 491 in src/javax/swing/UIManager.java.">getLookAndFeel</a>().<a href="../D/29904.html" title="Multiple defined in 3 places.">provideErrorFeedback</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>);
<a id="L3176" name="L3176"></a>3176             <em class="brace">}</em>
<a id="L3177" name="L3177"></a>3177         <em class="brace">}</em>
<a id="L3178" name="L3178"></a>3178 
<div class="comment">
          Cuts the text between two indices into the system clipboard.
          @param startIndex the starting index in the text
          @param endIndex the ending index in the text
          @since 1.4</div>
<a id="L3186" name="L3186"></a>3186         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/12886.html" title="Multiple referred from 4 places.">cut</a>(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex) <em class="brace">{</em>
<a id="L3187" name="L3187"></a>3187             <a href="../D/31715.html" title="Multiple defined in 3 places.">selectText</a>(startIndex, endIndex);
<a id="L3188" name="L3188"></a>3188             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/14448.html" title="Multiple defined in 5 places.">cut</a>();
<a id="L3189" name="L3189"></a>3189         <em class="brace">}</em>
<a id="L3190" name="L3190"></a>3190 
<div class="comment">
          Pastes the text from the system clipboard into the text
          starting at the specified index.
          @param startIndex the starting index in the text
          @since 1.4</div>
<a id="L3198" name="L3198"></a>3198         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24678.html" title="Multiple referred from 3 places.">paste</a>(<strong class="reserved">int</strong> startIndex) <em class="brace">{</em>
<a id="L3199" name="L3199"></a>3199             <a href="../D/32097.html" title="Multiple defined in 3 places.">setCaretPosition</a>(startIndex);
<a id="L3200" name="L3200"></a>3200             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/29272.html" title="Multiple defined in 4 places.">paste</a>();
<a id="L3201" name="L3201"></a>3201         <em class="brace">}</em>
<a id="L3202" name="L3202"></a>3202 
<div class="comment">
          Replaces the text between two indices with the specified
          string.
          @param startIndex the starting index in the text
          @param endIndex the ending index in the text
          @param s the string to replace the text between two indices
          @since 1.4</div>
<a id="L3212" name="L3212"></a>3212         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26166.html" title="Multiple referred from 2 places.">replaceText</a>(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s) <em class="brace">{</em>
<a id="L3213" name="L3213"></a>3213             <a href="../D/31715.html" title="Multiple defined in 3 places.">selectText</a>(startIndex, endIndex);
<a id="L3214" name="L3214"></a>3214             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/31064.html" title="Multiple defined in 4 places.">replaceSelection</a>(s);
<a id="L3215" name="L3215"></a>3215         <em class="brace">}</em>
<a id="L3216" name="L3216"></a>3216 
<div class="comment">
          Selects the text between two indices.
          @param startIndex the starting index in the text
          @param endIndex the ending index in the text
          @since 1.4</div>
<a id="L3224" name="L3224"></a>3224         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26746.html" title="Multiple referred from 3 places.">selectText</a>(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex) <em class="brace">{</em>
<a id="L3225" name="L3225"></a>3225             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/31672.html" title="Multiple defined in 17 places.">select</a>(startIndex, endIndex);
<a id="L3226" name="L3226"></a>3226         <em class="brace">}</em>
<a id="L3227" name="L3227"></a>3227 
<div class="comment">
          Sets attributes for the text between two indices.
          @param startIndex the starting index in the text
          @param endIndex the ending index in the text
          @param as the attribute set
          @see AttributeSet
          @since 1.4</div>
<a id="L3237" name="L3237"></a>3237         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26924.html" title="Multiple referred from 25 places.">setAttributes</a>(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex,
<a id="L3238" name="L3238"></a>3238             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> as) <em class="brace">{</em>
<a id="L3239" name="L3239"></a>3239 
<a id="L3240" name="L3240"></a>3240             <em class="comment">// Fixes bug 4487492</em>
<a id="L3241" name="L3241"></a>3241             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L3242" name="L3242"></a>3242             <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong> &amp;&amp; doc <strong class="reserved">instanceof</strong> <a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a>) <em class="brace">{</em>
<a id="L3243" name="L3243"></a>3243                 <a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a> sDoc = (<a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a>)doc;
<a id="L3244" name="L3244"></a>3244                 <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = startIndex;
<a id="L3245" name="L3245"></a>3245                 <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = endIndex - startIndex;
<a id="L3246" name="L3246"></a>3246                 sDoc.<a href="../D/32132.html" title="Multiple defined in 4 places.">setCharacterAttributes</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, as, <strong class="reserved">true</strong>);
<a id="L3247" name="L3247"></a>3247             <em class="brace">}</em>
<a id="L3248" name="L3248"></a>3248         <em class="brace">}</em>
<a id="L3249" name="L3249"></a>3249 
<a id="L3250" name="L3250"></a>3250         <em class="comment">// ----- end AccessibleEditableText methods</em>
<a id="L3251" name="L3251"></a>3251 
<a id="L3252" name="L3252"></a>3252 
<a id="L3253" name="L3253"></a>3253         <em class="comment">// ----- begin AccessibleExtendedText methods</em>
<a id="L3254" name="L3254"></a>3254 
<a id="L3255" name="L3255"></a>3255 <em class="comment">// Probably should replace the helper method getAtIndex() to return</em>
<a id="L3256" name="L3256"></a>3256 <em class="comment">// instead an AccessibleTextSequence also for LINE &amp; ATTRIBUTE_RUN</em>
<a id="L3257" name="L3257"></a>3257 <em class="comment">// and then make the AccessibleText methods get[At|After|Before]Point</em>
<a id="L3258" name="L3258"></a>3258 <em class="comment">// call this new method instead and return only the string portion</em>
<a id="L3259" name="L3259"></a>3259 
<div class="comment">
          Returns the AccessibleTextSequence at a given <code>index</code>.
          If <code>direction</code> is non-null this will find the
          next/previous word/sentence/character.
          @param part the <code>CHARACTER</code>, <code>WORD</code>,
          <code>SENTENCE</code>, <code>LINE</code> or
          <code>ATTRIBUTE_RUN</code> to retrieve
          @param index an index within the text
          @param direction is either -1, 0, or 1
          @return an <code>AccessibleTextSequence</code> specifying the text
          if <code>part</code> and <code>index</code> are valid.  Otherwise,
          <code>null</code> is returned.
          @see javax.accessibility.AccessibleText#CHARACTER
          @see javax.accessibility.AccessibleText#WORD
          @see javax.accessibility.AccessibleText#SENTENCE
          @see javax.accessibility.AccessibleExtendedText#LINE
          @see javax.accessibility.AccessibleExtendedText#ATTRIBUTE_RUN
          @since 1.6</div>
<a id="L3282" name="L3282"></a>3282         <strong class="reserved">private</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> <a href="../R/18957.html" title="Multiple referred from 3 places.">getSequenceAtIndex</a>(<strong class="reserved">int</strong> part,
<a id="L3283" name="L3283"></a>3283             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> direction) <em class="brace">{</em>
<a id="L3284" name="L3284"></a>3284             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0 || <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L3285" name="L3285"></a>3285                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3286" name="L3286"></a>3286             <em class="brace">}</em>
<a id="L3287" name="L3287"></a>3287             <strong class="reserved">if</strong> (direction &lt; -1 || direction &gt; 1) <em class="brace">{</em>
<a id="L3288" name="L3288"></a>3288                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;    <em class="comment">// direction must be 1, 0, or -1</em>
<a id="L3289" name="L3289"></a>3289             <em class="brace">}</em>
<a id="L3290" name="L3290"></a>3290 
<a id="L3291" name="L3291"></a>3291             <strong class="reserved">switch</strong> (part) <em class="brace">{</em>
<a id="L3292" name="L3292"></a>3292             <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.CHARACTER:
<a id="L3293" name="L3293"></a>3293                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3294" name="L3294"></a>3294                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L3295" name="L3295"></a>3295                 <em class="brace">}</em>
<a id="L3296" name="L3296"></a>3296                 <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> charSequence = <strong class="reserved">null</strong>;
<a id="L3297" name="L3297"></a>3297                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3298" name="L3298"></a>3298                     <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction &lt; model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>() &amp;&amp;
<a id="L3299" name="L3299"></a>3299                         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction &gt;= 0) <em class="brace">{</em>
<a id="L3300" name="L3300"></a>3300                         charSequence =
<a id="L3301" name="L3301"></a>3301                             <strong class="reserved">new</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction,
<a id="L3302" name="L3302"></a>3302                             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction + 1,
<a id="L3303" name="L3303"></a>3303                             model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + direction, 1));
<a id="L3304" name="L3304"></a>3304                     <em class="brace">}</em>
<a id="L3305" name="L3305"></a>3305 
<a id="L3306" name="L3306"></a>3306                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3307" name="L3307"></a>3307                     <em class="comment">// we are intentionally silent; our contract says we return</em>
<a id="L3308" name="L3308"></a>3308                     <em class="comment">// null if there is any failure in this method</em>
<a id="L3309" name="L3309"></a>3309                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L3310" name="L3310"></a>3310                     <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3311" name="L3311"></a>3311                         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L3312" name="L3312"></a>3312                     <em class="brace">}</em>
<a id="L3313" name="L3313"></a>3313                 <em class="brace">}</em>
<a id="L3314" name="L3314"></a>3314                 <strong class="reserved">return</strong> charSequence;
<a id="L3315" name="L3315"></a>3315 
<a id="L3316" name="L3316"></a>3316             <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.WORD:
<a id="L3317" name="L3317"></a>3317             <strong class="reserved">case</strong> <a href="../S/4350.html#L52" title="Defined at 52 in src/javax/accessibility/AccessibleText.java.">AccessibleText</a>.SENTENCE:
<a id="L3318" name="L3318"></a>3318                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3319" name="L3319"></a>3319                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L3320" name="L3320"></a>3320                 <em class="brace">}</em>
<a id="L3321" name="L3321"></a>3321                 <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> rangeSequence = <strong class="reserved">null</strong>;
<a id="L3322" name="L3322"></a>3322                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3323" name="L3323"></a>3323                     <a href="../D/4159.html" title="Multiple defined in 2 places.">IndexedSegment</a> seg = <a href="../D/22331.html" title="Multiple defined in 2 places.">getSegmentAt</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3324" name="L3324"></a>3324                     <strong class="reserved">if</strong> (seg != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3325" name="L3325"></a>3325                         <strong class="reserved">if</strong> (direction != 0) <em class="brace">{</em>
<a id="L3326" name="L3326"></a>3326                             <strong class="reserved">int</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L3327" name="L3327"></a>3327 
<a id="L3328" name="L3328"></a>3328                             <strong class="reserved">if</strong> (direction &lt; 0) <em class="brace">{</em>
<a id="L3329" name="L3329"></a>3329                                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = seg.modelOffset - 1;
<a id="L3330" name="L3330"></a>3330                             <em class="brace">}</em>
<a id="L3331" name="L3331"></a>3331                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3332" name="L3332"></a>3332                                 <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = seg.modelOffset + seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>;
<a id="L3333" name="L3333"></a>3333                             <em class="brace">}</em>
<a id="L3334" name="L3334"></a>3334                             <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> &gt;= 0 &amp;&amp; <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> &lt;= model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L3335" name="L3335"></a>3335                                 seg = <a href="../D/22331.html" title="Multiple defined in 2 places.">getSegmentAt</a>(part, <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>);
<a id="L3336" name="L3336"></a>3336                             <em class="brace">}</em>
<a id="L3337" name="L3337"></a>3337                             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L3338" name="L3338"></a>3338                                 seg = <strong class="reserved">null</strong>;
<a id="L3339" name="L3339"></a>3339                             <em class="brace">}</em>
<a id="L3340" name="L3340"></a>3340                         <em class="brace">}</em>
<a id="L3341" name="L3341"></a>3341                         <strong class="reserved">if</strong> (seg != <strong class="reserved">null</strong> &amp;&amp;
<a id="L3342" name="L3342"></a>3342                             (seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>) &lt;= model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L3343" name="L3343"></a>3343                             rangeSequence =
<a id="L3344" name="L3344"></a>3344                                 <strong class="reserved">new</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> (seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>,
<a id="L3345" name="L3345"></a>3345                                 seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>,
<a id="L3346" name="L3346"></a>3346                                 <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(seg.<a href="../D/11496.html" title="Multiple defined in 19 places.">array</a>, seg.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, seg.<a href="../D/13557.html" title="Multiple defined in 24 places.">count</a>));
<a id="L3347" name="L3347"></a>3347                         <em class="brace">}</em> <em class="comment">// else we leave rangeSequence set to null</em>
<a id="L3348" name="L3348"></a>3348                     <em class="brace">}</em>
<a id="L3349" name="L3349"></a>3349                 <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3350" name="L3350"></a>3350                     <em class="comment">// we are intentionally silent; our contract says we return</em>
<a id="L3351" name="L3351"></a>3351                     <em class="comment">// null if there is any failure in this method</em>
<a id="L3352" name="L3352"></a>3352                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L3353" name="L3353"></a>3353                     <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3354" name="L3354"></a>3354                         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L3355" name="L3355"></a>3355                     <em class="brace">}</em>
<a id="L3356" name="L3356"></a>3356                 <em class="brace">}</em>
<a id="L3357" name="L3357"></a>3357                 <strong class="reserved">return</strong> rangeSequence;
<a id="L3358" name="L3358"></a>3358 
<a id="L3359" name="L3359"></a>3359             <strong class="reserved">case</strong> <a href="../S/4369.html#L53" title="Defined at 53 in src/javax/accessibility/AccessibleExtendedText.java.">AccessibleExtendedText</a>.LINE:
<a id="L3360" name="L3360"></a>3360                 <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> lineSequence = <strong class="reserved">null</strong>;
<a id="L3361" name="L3361"></a>3361                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3362" name="L3362"></a>3362                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L3363" name="L3363"></a>3363                 <em class="brace">}</em>
<a id="L3364" name="L3364"></a>3364                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3365" name="L3365"></a>3365                     <strong class="reserved">int</strong> startIndex =
<a id="L3366" name="L3366"></a>3366                         <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L496" title="Defined at 496 in src/javax/swing/text/Utilities.java.">getRowStart</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3367" name="L3367"></a>3367                     <strong class="reserved">int</strong> endIndex =
<a id="L3368" name="L3368"></a>3368                         <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L526" title="Defined at 526 in src/javax/swing/text/Utilities.java.">getRowEnd</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3369" name="L3369"></a>3369                     <strong class="reserved">if</strong> (startIndex &gt;= 0 &amp;&amp; endIndex &gt;= startIndex) <em class="brace">{</em>
<a id="L3370" name="L3370"></a>3370                         <strong class="reserved">if</strong> (direction == 0) <em class="brace">{</em>
<a id="L3371" name="L3371"></a>3371                             lineSequence =
<a id="L3372" name="L3372"></a>3372                                 <strong class="reserved">new</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a>(startIndex, endIndex,
<a id="L3373" name="L3373"></a>3373                                     model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(startIndex,
<a id="L3374" name="L3374"></a>3374                                         endIndex - startIndex + 1));
<a id="L3375" name="L3375"></a>3375                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (direction == -1 &amp;&amp; startIndex &gt; 0) <em class="brace">{</em>
<a id="L3376" name="L3376"></a>3376                             endIndex =
<a id="L3377" name="L3377"></a>3377                                 <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L526" title="Defined at 526 in src/javax/swing/text/Utilities.java.">getRowEnd</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>,
<a id="L3378" name="L3378"></a>3378                                     startIndex - 1);
<a id="L3379" name="L3379"></a>3379                             startIndex =
<a id="L3380" name="L3380"></a>3380                                 <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L496" title="Defined at 496 in src/javax/swing/text/Utilities.java.">getRowStart</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>,
<a id="L3381" name="L3381"></a>3381                                     startIndex - 1);
<a id="L3382" name="L3382"></a>3382                             <strong class="reserved">if</strong> (startIndex &gt;= 0 &amp;&amp; endIndex &gt;= startIndex) <em class="brace">{</em>
<a id="L3383" name="L3383"></a>3383                                 lineSequence =
<a id="L3384" name="L3384"></a>3384                                     <strong class="reserved">new</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a>(startIndex,
<a id="L3385" name="L3385"></a>3385                                         endIndex,
<a id="L3386" name="L3386"></a>3386                                         model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(startIndex,
<a id="L3387" name="L3387"></a>3387                                             endIndex - startIndex + 1));
<a id="L3388" name="L3388"></a>3388                             <em class="brace">}</em>
<a id="L3389" name="L3389"></a>3389                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (direction == 1 &amp;&amp;
<a id="L3390" name="L3390"></a>3390                          endIndex &lt; model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L3391" name="L3391"></a>3391                             startIndex =
<a id="L3392" name="L3392"></a>3392                                 <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L496" title="Defined at 496 in src/javax/swing/text/Utilities.java.">getRowStart</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>,
<a id="L3393" name="L3393"></a>3393                                     endIndex + 1);
<a id="L3394" name="L3394"></a>3394                             endIndex =
<a id="L3395" name="L3395"></a>3395                                 <a href="../S/3270.html#L52" title="Defined at 52 in src/javax/swing/text/Utilities.java.">Utilities</a>.<a href="../S/3270.html#L526" title="Defined at 526 in src/javax/swing/text/Utilities.java.">getRowEnd</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>,
<a id="L3396" name="L3396"></a>3396                                     endIndex + 1);
<a id="L3397" name="L3397"></a>3397                             <strong class="reserved">if</strong> (startIndex &gt;= 0 &amp;&amp; endIndex &gt;= startIndex) <em class="brace">{</em>
<a id="L3398" name="L3398"></a>3398                                 lineSequence =
<a id="L3399" name="L3399"></a>3399                                     <strong class="reserved">new</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a>(startIndex,
<a id="L3400" name="L3400"></a>3400                                         endIndex, model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(startIndex,
<a id="L3401" name="L3401"></a>3401                                             endIndex - startIndex + 1));
<a id="L3402" name="L3402"></a>3402                             <em class="brace">}</em>
<a id="L3403" name="L3403"></a>3403                         <em class="brace">}</em>
<a id="L3404" name="L3404"></a>3404                         <em class="comment">// already validated 'direction' above...</em>
<a id="L3405" name="L3405"></a>3405                     <em class="brace">}</em>
<a id="L3406" name="L3406"></a>3406                 <em class="brace">}</em> <strong class="reserved">catch</strong>(<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3407" name="L3407"></a>3407                     <em class="comment">// we are intentionally silent; our contract says we return</em>
<a id="L3408" name="L3408"></a>3408                     <em class="comment">// null if there is any failure in this method</em>
<a id="L3409" name="L3409"></a>3409                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L3410" name="L3410"></a>3410                     <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3411" name="L3411"></a>3411                         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L3412" name="L3412"></a>3412                     <em class="brace">}</em>
<a id="L3413" name="L3413"></a>3413                 <em class="brace">}</em>
<a id="L3414" name="L3414"></a>3414                 <strong class="reserved">return</strong> lineSequence;
<a id="L3415" name="L3415"></a>3415 
<a id="L3416" name="L3416"></a>3416             <strong class="reserved">case</strong> <a href="../S/4369.html#L53" title="Defined at 53 in src/javax/accessibility/AccessibleExtendedText.java.">AccessibleExtendedText</a>.ATTRIBUTE_RUN:
<a id="L3417" name="L3417"></a>3417                 <em class="comment">// assumptions: (1) that all characters in a single element</em>
<a id="L3418" name="L3418"></a>3418                 <em class="comment">// share the same attribute set; (2) that adjacent elements</em>
<a id="L3419" name="L3419"></a>3419                 <em class="comment">// *may* share the same attribute set</em>
<a id="L3420" name="L3420"></a>3420 
<a id="L3421" name="L3421"></a>3421                 <strong class="reserved">int</strong> attributeRunStartIndex, attributeRunEndIndex;
<a id="L3422" name="L3422"></a>3422                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> runText = <strong class="reserved">null</strong>;
<a id="L3423" name="L3423"></a>3423                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3424" name="L3424"></a>3424                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L3425" name="L3425"></a>3425                 <em class="brace">}</em>
<a id="L3426" name="L3426"></a>3426 
<a id="L3427" name="L3427"></a>3427                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3428" name="L3428"></a>3428                     attributeRunStartIndex = attributeRunEndIndex =
<a id="L3429" name="L3429"></a>3429                      <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L3430" name="L3430"></a>3430                     <strong class="reserved">int</strong> tempIndex = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3431" name="L3431"></a>3431                     <strong class="reserved">switch</strong> (direction) <em class="brace">{</em>
<a id="L3432" name="L3432"></a>3432                     <strong class="reserved">case</strong> -1:
<a id="L3433" name="L3433"></a>3433                         <em class="comment">// going backwards, so find left edge of this run -</em>
<a id="L3434" name="L3434"></a>3434                         <em class="comment">// that'll be the end of the previous run</em>
<a id="L3435" name="L3435"></a>3435                         <em class="comment">// (off-by-one counting)</em>
<a id="L3436" name="L3436"></a>3436                         attributeRunEndIndex = <a href="../S/3351.html#L3499" title="Defined at 3499 in src/javax/swing/text/JTextComponent.java.">getRunEdge</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, direction);
<a id="L3437" name="L3437"></a>3437                         <em class="comment">// now set ourselves up to find the left edge of the</em>
<a id="L3438" name="L3438"></a>3438                         <em class="comment">// prev. run</em>
<a id="L3439" name="L3439"></a>3439                         tempIndex = attributeRunEndIndex - 1;
<a id="L3440" name="L3440"></a>3440                         <strong class="reserved">break</strong>;
<a id="L3441" name="L3441"></a>3441                     <strong class="reserved">case</strong> 1:
<a id="L3442" name="L3442"></a>3442                         <em class="comment">// going forward, so find right edge of this run -</em>
<a id="L3443" name="L3443"></a>3443                         <em class="comment">// that'll be the start of the next run</em>
<a id="L3444" name="L3444"></a>3444                         <em class="comment">// (off-by-one counting)</em>
<a id="L3445" name="L3445"></a>3445                         attributeRunStartIndex = <a href="../S/3351.html#L3499" title="Defined at 3499 in src/javax/swing/text/JTextComponent.java.">getRunEdge</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, direction);
<a id="L3446" name="L3446"></a>3446                         <em class="comment">// now set ourselves up to find the right edge of the</em>
<a id="L3447" name="L3447"></a>3447                         <em class="comment">// next run</em>
<a id="L3448" name="L3448"></a>3448                         tempIndex = attributeRunStartIndex;
<a id="L3449" name="L3449"></a>3449                         <strong class="reserved">break</strong>;
<a id="L3450" name="L3450"></a>3450                     <strong class="reserved">case</strong> 0:
<a id="L3451" name="L3451"></a>3451                         <em class="comment">// interested in the current run, so nothing special to</em>
<a id="L3452" name="L3452"></a>3452                         <em class="comment">// set up in advance...</em>
<a id="L3453" name="L3453"></a>3453                         <strong class="reserved">break</strong>;
<a id="L3454" name="L3454"></a>3454                     <strong class="reserved">default</strong>:
<a id="L3455" name="L3455"></a>3455                         <em class="comment">// only those three values of direction allowed...</em>
<a id="L3456" name="L3456"></a>3456                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(direction);
<a id="L3457" name="L3457"></a>3457                     <em class="brace">}</em>
<a id="L3458" name="L3458"></a>3458 
<a id="L3459" name="L3459"></a>3459                     <em class="comment">// set the unset edge; if neither set then we're getting</em>
<a id="L3460" name="L3460"></a>3460                     <em class="comment">// both edges of the current run around our 'index'</em>
<a id="L3461" name="L3461"></a>3461                     attributeRunStartIndex =
<a id="L3462" name="L3462"></a>3462                         (attributeRunStartIndex != <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE) ?
<a id="L3463" name="L3463"></a>3463                         attributeRunStartIndex : <a href="../S/3351.html#L3499" title="Defined at 3499 in src/javax/swing/text/JTextComponent.java.">getRunEdge</a>(tempIndex, -1);
<a id="L3464" name="L3464"></a>3464                     attributeRunEndIndex =
<a id="L3465" name="L3465"></a>3465                         (attributeRunEndIndex != <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE) ?
<a id="L3466" name="L3466"></a>3466                         attributeRunEndIndex : <a href="../S/3351.html#L3499" title="Defined at 3499 in src/javax/swing/text/JTextComponent.java.">getRunEdge</a>(tempIndex, 1);
<a id="L3467" name="L3467"></a>3467 
<a id="L3468" name="L3468"></a>3468                     runText = model.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(attributeRunStartIndex,
<a id="L3469" name="L3469"></a>3469                                             attributeRunEndIndex -
<a id="L3470" name="L3470"></a>3470                                             attributeRunStartIndex);
<a id="L3471" name="L3471"></a>3471                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3472" name="L3472"></a>3472                     <em class="comment">// we are intentionally silent; our contract says we return</em>
<a id="L3473" name="L3473"></a>3473                     <em class="comment">// null if there is any failure in this method</em>
<a id="L3474" name="L3474"></a>3474                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3475" name="L3475"></a>3475                 <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L3476" name="L3476"></a>3476                     <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3477" name="L3477"></a>3477                         ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L3478" name="L3478"></a>3478                     <em class="brace">}</em>
<a id="L3479" name="L3479"></a>3479                 <em class="brace">}</em>
<a id="L3480" name="L3480"></a>3480                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a>(attributeRunStartIndex,
<a id="L3481" name="L3481"></a>3481                                                   attributeRunEndIndex,
<a id="L3482" name="L3482"></a>3482                                                   runText);
<a id="L3483" name="L3483"></a>3483 
<a id="L3484" name="L3484"></a>3484             <strong class="reserved">default</strong>:
<a id="L3485" name="L3485"></a>3485                 <strong class="reserved">break</strong>;
<a id="L3486" name="L3486"></a>3486             <em class="brace">}</em>
<a id="L3487" name="L3487"></a>3487             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3488" name="L3488"></a>3488         <em class="brace">}</em>
<a id="L3489" name="L3489"></a>3489 
<a id="L3490" name="L3490"></a>3490 
<div class="comment">
          Starting at text position <code>index</code>, and going in
          <code>direction</code>, return the edge of run that shares the
          same <code>AttributeSet</code> and parent element as those at
          <code>index</code>.
          Note: we assume the document is already locked...</div>
<a id="L3499" name="L3499"></a>3499         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/18810.html" title="Multiple referred from 4 places.">getRunEdge</a>(<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <strong class="reserved">int</strong> direction) <strong class="reserved">throws</strong>
<a id="L3500" name="L3500"></a>3500          <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> <em class="brace">{</em>
<a id="L3501" name="L3501"></a>3501             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; 0 || <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()) <em class="brace">{</em>
<a id="L3502" name="L3502"></a>3502                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a>("Location out of bounds", <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3503" name="L3503"></a>3503             <em class="brace">}</em>
<a id="L3504" name="L3504"></a>3504             <em class="comment">// locate the Element at index</em>
<a id="L3505" name="L3505"></a>3505             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> indexElement;
<a id="L3506" name="L3506"></a>3506             <em class="comment">// locate the Element at our index/offset</em>
<a id="L3507" name="L3507"></a>3507             <strong class="reserved">int</strong> elementIndex = -1;        <em class="comment">// test for initialization</em>
<a id="L3508" name="L3508"></a>3508             <strong class="reserved">for</strong> (indexElement = model.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L3509" name="L3509"></a>3509                  ! indexElement.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>(); ) <em class="brace">{</em>
<a id="L3510" name="L3510"></a>3510                 elementIndex = indexElement.<a href="../D/18685.html" title="Multiple defined in 4 places.">getElementIndex</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3511" name="L3511"></a>3511                 indexElement = indexElement.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(elementIndex);
<a id="L3512" name="L3512"></a>3512             <em class="brace">}</em>
<a id="L3513" name="L3513"></a>3513             <strong class="reserved">if</strong> (elementIndex == -1) <em class="brace">{</em>
<a id="L3514" name="L3514"></a>3514                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L3515" name="L3515"></a>3515             <em class="brace">}</em>
<a id="L3516" name="L3516"></a>3516             <em class="comment">// cache the AttributeSet and parentElement atindex</em>
<a id="L3517" name="L3517"></a>3517             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> indexAS = indexElement.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L3518" name="L3518"></a>3518             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = indexElement.<a href="../D/21398.html" title="Multiple defined in 3 places.">getParentElement</a>();
<a id="L3519" name="L3519"></a>3519 
<a id="L3520" name="L3520"></a>3520             <em class="comment">// find the first Element before/after ours w/the same AttributeSet</em>
<a id="L3521" name="L3521"></a>3521             <em class="comment">// if we are already at edge of the first element in our parent</em>
<a id="L3522" name="L3522"></a>3522             <em class="comment">// then return that edge</em>
<a id="L3523" name="L3523"></a>3523             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> edgeElement;
<a id="L3524" name="L3524"></a>3524             <strong class="reserved">switch</strong> (direction) <em class="brace">{</em>
<a id="L3525" name="L3525"></a>3525             <strong class="reserved">case</strong> -1:
<a id="L3526" name="L3526"></a>3526             <strong class="reserved">case</strong> 1:
<a id="L3527" name="L3527"></a>3527                 <strong class="reserved">int</strong> edgeElementIndex = elementIndex;
<a id="L3528" name="L3528"></a>3528                 <strong class="reserved">int</strong> <a href="../S/6076.html#L830" title="Defined at 830 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/SyntaxTreeNode.java.">elementCount</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L3529" name="L3529"></a>3529                 <strong class="reserved">while</strong> ((edgeElementIndex + direction) &gt; 0 &amp;&amp;
<a id="L3530" name="L3530"></a>3530                        ((edgeElementIndex + direction) &lt; <a href="../S/6076.html#L830" title="Defined at 830 in src/com/sun/org/apache/xalan/internal/xsltc/compiler/SyntaxTreeNode.java.">elementCount</a>) &amp;&amp;
<a id="L3531" name="L3531"></a>3531                        <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(edgeElementIndex
<a id="L3532" name="L3532"></a>3532                        + direction).<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>().<a href="../D/25513.html" title="Multiple defined in 25 places.">isEqual</a>(indexAS)) <em class="brace">{</em>
<a id="L3533" name="L3533"></a>3533                     edgeElementIndex += direction;
<a id="L3534" name="L3534"></a>3534                 <em class="brace">}</em>
<a id="L3535" name="L3535"></a>3535                 edgeElement = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(edgeElementIndex);
<a id="L3536" name="L3536"></a>3536                 <strong class="reserved">break</strong>;
<a id="L3537" name="L3537"></a>3537             <strong class="reserved">default</strong>:
<a id="L3538" name="L3538"></a>3538                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1575.html#L43" title="Defined at 43 in src/java/lang/AssertionError.java.">AssertionError</a>(direction);
<a id="L3539" name="L3539"></a>3539             <em class="brace">}</em>
<a id="L3540" name="L3540"></a>3540             <strong class="reserved">switch</strong> (direction) <em class="brace">{</em>
<a id="L3541" name="L3541"></a>3541             <strong class="reserved">case</strong> -1:
<a id="L3542" name="L3542"></a>3542                 <strong class="reserved">return</strong> edgeElement.<a href="../D/22718.html" title="Multiple defined in 18 places.">getStartOffset</a>();
<a id="L3543" name="L3543"></a>3543             <strong class="reserved">case</strong> 1:
<a id="L3544" name="L3544"></a>3544                 <strong class="reserved">return</strong> edgeElement.<a href="../D/18771.html" title="Multiple defined in 18 places.">getEndOffset</a>();
<a id="L3545" name="L3545"></a>3545             <strong class="reserved">default</strong>:
<a id="L3546" name="L3546"></a>3546                 <em class="comment">// we already caught this case earlier; this is to satisfy</em>
<a id="L3547" name="L3547"></a>3547                 <em class="comment">// the compiler...</em>
<a id="L3548" name="L3548"></a>3548                 <strong class="reserved">return</strong> <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L3549" name="L3549"></a>3549             <em class="brace">}</em>
<a id="L3550" name="L3550"></a>3550         <em class="brace">}</em>
<a id="L3551" name="L3551"></a>3551 
<a id="L3552" name="L3552"></a>3552         <em class="comment">// getTextRange() not needed; defined in AccessibleEditableText</em>
<a id="L3553" name="L3553"></a>3553 
<div class="comment">
          Returns the <code>AccessibleTextSequence</code> at a given
          <code>index</code>.
          @param part the <code>CHARACTER</code>, <code>WORD</code>,
          <code>SENTENCE</code>, <code>LINE</code> or
          <code>ATTRIBUTE_RUN</code> to retrieve
          @param index an index within the text
          @return an <code>AccessibleTextSequence</code> specifying the text if
          <code>part</code> and <code>index</code> are valid.  Otherwise,
          <code>null</code> is returned
          @see javax.accessibility.AccessibleText#CHARACTER
          @see javax.accessibility.AccessibleText#WORD
          @see javax.accessibility.AccessibleText#SENTENCE
          @see javax.accessibility.AccessibleExtendedText#LINE
          @see javax.accessibility.AccessibleExtendedText#ATTRIBUTE_RUN
          @since 1.6</div>
<a id="L3574" name="L3574"></a>3574         <strong class="reserved">public</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> <a href="../S/2755.html#L575" title="Referred from 575 in src/javax/swing/JPasswordField.java.">getTextSequenceAt</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L3575" name="L3575"></a>3575             <strong class="reserved">return</strong> <a href="../S/3351.html#L3282" title="Defined at 3282 in src/javax/swing/text/JTextComponent.java.">getSequenceAtIndex</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, 0);
<a id="L3576" name="L3576"></a>3576         <em class="brace">}</em>
<a id="L3577" name="L3577"></a>3577 
<div class="comment">
          Returns the <code>AccessibleTextSequence</code> after a given
          <code>index</code>.
          @param part the <code>CHARACTER</code>, <code>WORD</code>,
          <code>SENTENCE</code>, <code>LINE</code> or
          <code>ATTRIBUTE_RUN</code> to retrieve
          @param index an index within the text
          @return an <code>AccessibleTextSequence</code> specifying the text
          if <code>part</code> and <code>index</code> are valid.  Otherwise,
          <code>null</code> is returned
          @see javax.accessibility.AccessibleText#CHARACTER
          @see javax.accessibility.AccessibleText#WORD
          @see javax.accessibility.AccessibleText#SENTENCE
          @see javax.accessibility.AccessibleExtendedText#LINE
          @see javax.accessibility.AccessibleExtendedText#ATTRIBUTE_RUN
          @since 1.6</div>
<a id="L3598" name="L3598"></a>3598         <strong class="reserved">public</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> <a href="../S/2755.html#L617" title="Referred from 617 in src/javax/swing/JPasswordField.java.">getTextSequenceAfter</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L3599" name="L3599"></a>3599             <strong class="reserved">return</strong> <a href="../S/3351.html#L3282" title="Defined at 3282 in src/javax/swing/text/JTextComponent.java.">getSequenceAtIndex</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, 1);
<a id="L3600" name="L3600"></a>3600         <em class="brace">}</em>
<a id="L3601" name="L3601"></a>3601 
<div class="comment">
          Returns the <code>AccessibleTextSequence</code> before a given
          <code>index</code>.
          @param part the <code>CHARACTER</code>, <code>WORD</code>,
          <code>SENTENCE</code>, <code>LINE</code> or
          <code>ATTRIBUTE_RUN</code> to retrieve
          @param index an index within the text
          @return an <code>AccessibleTextSequence</code> specifying the text
          if <code>part</code> and <code>index</code> are valid.  Otherwise,
          <code>null</code> is returned
          @see javax.accessibility.AccessibleText#CHARACTER
          @see javax.accessibility.AccessibleText#WORD
          @see javax.accessibility.AccessibleText#SENTENCE
          @see javax.accessibility.AccessibleExtendedText#LINE
          @see javax.accessibility.AccessibleExtendedText#ATTRIBUTE_RUN
          @since 1.6</div>
<a id="L3622" name="L3622"></a>3622         <strong class="reserved">public</strong> <a href="../S/4366.html#L50" title="Defined at 50 in src/javax/accessibility/AccessibleTextSequence.java.">AccessibleTextSequence</a> <a href="../S/2755.html#L652" title="Referred from 652 in src/javax/swing/JPasswordField.java.">getTextSequenceBefore</a>(<strong class="reserved">int</strong> part, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L3623" name="L3623"></a>3623             <strong class="reserved">return</strong> <a href="../S/3351.html#L3282" title="Defined at 3282 in src/javax/swing/text/JTextComponent.java.">getSequenceAtIndex</a>(part, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, -1);
<a id="L3624" name="L3624"></a>3624         <em class="brace">}</em>
<a id="L3625" name="L3625"></a>3625 
<div class="comment">
          Returns the <code>Rectangle</code> enclosing the text between
          two indicies.
          @param startIndex the start index in the text
          @param endIndex the end index in the text
          @return the bounding rectangle of the text if the indices are valid.
          Otherwise, <code>null</code> is returned
          @since 1.6</div>
<a id="L3637" name="L3637"></a>3637         <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> getTextBounds(<strong class="reserved">int</strong> startIndex, <strong class="reserved">int</strong> endIndex) <em class="brace">{</em>
<a id="L3638" name="L3638"></a>3638             <strong class="reserved">if</strong> (startIndex &lt; 0 || startIndex &gt; model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()-1 ||
<a id="L3639" name="L3639"></a>3639                 endIndex &lt; 0 || endIndex &gt; model.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>()-1 ||
<a id="L3640" name="L3640"></a>3640                 startIndex &gt; endIndex) <em class="brace">{</em>
<a id="L3641" name="L3641"></a>3641                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3642" name="L3642"></a>3642             <em class="brace">}</em>
<a id="L3643" name="L3643"></a>3643             <a href="../S/2930.html#L39" title="Defined at 39 in src/javax/swing/plaf/TextUI.java.">TextUI</a> ui = <a href="../D/23358.html" title="Multiple defined in 33 places.">getUI</a>();
<a id="L3644" name="L3644"></a>3644             <strong class="reserved">if</strong> (ui == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3645" name="L3645"></a>3645                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3646" name="L3646"></a>3646             <em class="brace">}</em>
<a id="L3647" name="L3647"></a>3647             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> rect = <strong class="reserved">null</strong>;
<a id="L3648" name="L3648"></a>3648             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> alloc = <a href="../D/22127.html" title="Multiple defined in 2 places.">getRootEditorRect</a>();
<a id="L3649" name="L3649"></a>3649             <strong class="reserved">if</strong> (alloc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3650" name="L3650"></a>3650                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3651" name="L3651"></a>3651             <em class="brace">}</em>
<a id="L3652" name="L3652"></a>3652             <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3653" name="L3653"></a>3653                 ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../D/30215.html" title="Multiple defined in 5 places.">readLock</a>();
<a id="L3654" name="L3654"></a>3654             <em class="brace">}</em>
<a id="L3655" name="L3655"></a>3655             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3656" name="L3656"></a>3656                 <a href="../S/3338.html#L191" title="Defined at 191 in src/javax/swing/text/View.java.">View</a> rootView = ui.<a href="../D/22146.html" title="Multiple defined in 5 places.">getRootView</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>);
<a id="L3657" name="L3657"></a>3657                 <strong class="reserved">if</strong> (rootView != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3658" name="L3658"></a>3658                     <a href="../S/2445.html#L78" title="Defined at 78 in src/java/awt/Shape.java.">Shape</a> <a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> = rootView.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(startIndex,
<a id="L3659" name="L3659"></a>3659                                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Forward, endIndex,
<a id="L3660" name="L3660"></a>3660                                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a>.Backward, alloc);
<a id="L3661" name="L3661"></a>3661 
<a id="L3662" name="L3662"></a>3662                     rect = (<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> <strong class="reserved">instanceof</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>) ?
<a id="L3663" name="L3663"></a>3663                      (<a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>)<a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a> : <a href="../D/11902.html" title="Multiple defined in 2 places.">bounds</a>.<a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L3664" name="L3664"></a>3664 
<a id="L3665" name="L3665"></a>3665                 <em class="brace">}</em>
<a id="L3666" name="L3666"></a>3666             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L3667" name="L3667"></a>3667             <em class="brace">}</em> <strong class="reserved">finally</strong> <em class="brace">{</em>
<a id="L3668" name="L3668"></a>3668                 <strong class="reserved">if</strong> (model <strong class="reserved">instanceof</strong> <a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>) <em class="brace">{</em>
<a id="L3669" name="L3669"></a>3669                     ((<a href="../S/3268.html#L99" title="Defined at 99 in src/javax/swing/text/AbstractDocument.java.">AbstractDocument</a>)model).<a href="../S/3268.html#L1413" title="Defined at 1413 in src/javax/swing/text/AbstractDocument.java.">readUnlock</a>();
<a id="L3670" name="L3670"></a>3670                 <em class="brace">}</em>
<a id="L3671" name="L3671"></a>3671             <em class="brace">}</em>
<a id="L3672" name="L3672"></a>3672             <strong class="reserved">return</strong> rect;
<a id="L3673" name="L3673"></a>3673         <em class="brace">}</em>
<a id="L3674" name="L3674"></a>3674 
<a id="L3675" name="L3675"></a>3675         <em class="comment">// ----- end AccessibleExtendedText methods</em>
<a id="L3676" name="L3676"></a>3676 
<a id="L3677" name="L3677"></a>3677 
<a id="L3678" name="L3678"></a>3678         <em class="comment">// --- interface AccessibleAction methods ------------------------</em>
<a id="L3679" name="L3679"></a>3679 
<a id="L3680" name="L3680"></a>3680         <strong class="reserved">public</strong> <a href="../S/4373.html#L49" title="Defined at 49 in src/javax/accessibility/AccessibleAction.java.">AccessibleAction</a> <a href="../R/14915.html" title="Multiple referred from 9 places.">getAccessibleAction</a>() <em class="brace">{</em>
<a id="L3681" name="L3681"></a>3681             <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L3682" name="L3682"></a>3682         <em class="brace">}</em>
<a id="L3683" name="L3683"></a>3683 
<div class="comment">
          Returns the number of accessible actions available in this object
          If there are more than one, the first one is considered the
          "default" action of the object.
          @return the zero-based number of Actions in this object
          @since 1.4</div>
<a id="L3692" name="L3692"></a>3692         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/14916.html" title="Multiple referred from 3 places.">getAccessibleActionCount</a>() <em class="brace">{</em>
<a id="L3693" name="L3693"></a>3693             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> [] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>();
<a id="L3694" name="L3694"></a>3694             <strong class="reserved">return</strong> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L3695" name="L3695"></a>3695         <em class="brace">}</em>
<a id="L3696" name="L3696"></a>3696 
<div class="comment">
          Returns a description of the specified action of the object.
          @param i zero-based index of the actions
          @return a String description of the action
          @see #getAccessibleActionCount
          @since 1.4</div>
<a id="L3705" name="L3705"></a>3705         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14917.html" title="Multiple referred from 2 places.">getAccessibleActionDescription</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L3706" name="L3706"></a>3706             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> [] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>();
<a id="L3707" name="L3707"></a>3707             <strong class="reserved">if</strong> (i &lt; 0 || i &gt;= <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3708" name="L3708"></a>3708                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L3709" name="L3709"></a>3709             <em class="brace">}</em>
<a id="L3710" name="L3710"></a>3710             <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>[i].<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>.NAME);
<a id="L3711" name="L3711"></a>3711         <em class="brace">}</em>
<a id="L3712" name="L3712"></a>3712 
<div class="comment">
          Performs the specified Action on the object
          @param i zero-based index of actions
          @return true if the action was performed; otherwise false.
          @see #getAccessibleActionCount
          @since 1.4</div>
<a id="L3721" name="L3721"></a>3721         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13370.html" title="Multiple referred from 2 places.">doAccessibleAction</a>(<strong class="reserved">int</strong> i) <em class="brace">{</em>
<a id="L3722" name="L3722"></a>3722             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> [] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/16788.html" title="Multiple defined in 25 places.">getActions</a>();
<a id="L3723" name="L3723"></a>3723             <strong class="reserved">if</strong> (i &lt; 0 || i &gt;= <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L3724" name="L3724"></a>3724                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3725" name="L3725"></a>3725             <em class="brace">}</em>
<a id="L3726" name="L3726"></a>3726             <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> ae =
<a id="L3727" name="L3727"></a>3727                 <strong class="reserved">new</strong> <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>,
<a id="L3728" name="L3728"></a>3728                                 <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>.ACTION_PERFORMED, <strong class="reserved">null</strong>,
<a id="L3729" name="L3729"></a>3729                                 <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../S/2178.html#L803" title="Defined at 803 in src/java/awt/EventQueue.java.">getMostRecentEventTime</a>(),
<a id="L3730" name="L3730"></a>3730                                 <a href="../S/3351.html#L4022" title="Defined at 4022 in src/javax/swing/text/JTextComponent.java.">getCurrentEventModifiers</a>());
<a id="L3731" name="L3731"></a>3731             <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>[i].<a href="../D/10592.html" title="Multiple defined in 159 places.">actionPerformed</a>(ae);
<a id="L3732" name="L3732"></a>3732             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3733" name="L3733"></a>3733         <em class="brace">}</em>
<a id="L3734" name="L3734"></a>3734 
<a id="L3735" name="L3735"></a>3735         <em class="comment">// ----- end AccessibleAction methods</em>
<a id="L3736" name="L3736"></a>3736 
<a id="L3737" name="L3737"></a>3737 
<a id="L3738" name="L3738"></a>3738     <em class="brace">}</em>
<a id="L3739" name="L3739"></a>3739 
<a id="L3740" name="L3740"></a>3740 
<a id="L3741" name="L3741"></a>3741     <em class="comment">// --- serialization ---------------------------------------------</em>
<a id="L3742" name="L3742"></a>3742 
<a id="L3743" name="L3743"></a>3743     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L3744" name="L3744"></a>3744         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L3745" name="L3745"></a>3745     <em class="brace">{</em>
<a id="L3746" name="L3746"></a>3746         s.<a href="../D/14746.html" title="Multiple defined in 2 places.">defaultReadObject</a>();
<a id="L3747" name="L3747"></a>3747         caretEvent = <strong class="reserved">new</strong> <a href="../S/3351.html#L4382" title="Defined at 4382 in src/javax/swing/text/JTextComponent.java.">MutableCaretEvent</a>(<strong class="reserved">this</strong>);
<a id="L3748" name="L3748"></a>3748         <a href="../D/10945.html" title="Multiple defined in 2 places.">addMouseListener</a>(caretEvent);
<a id="L3749" name="L3749"></a>3749         <a href="../D/10812.html" title="Multiple defined in 12 places.">addFocusListener</a>(caretEvent);
<a id="L3750" name="L3750"></a>3750     <em class="brace">}</em>
<a id="L3751" name="L3751"></a>3751 
<a id="L3752" name="L3752"></a>3752     <em class="comment">// --- member variables ----------------------------------</em>
<a id="L3753" name="L3753"></a>3753 
<div class="comment">
      The document model.</div>
<a id="L3757" name="L3757"></a>3757     <strong class="reserved">private</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> model;
<a id="L3758" name="L3758"></a>3758 
<div class="comment">
      The caret used to display the insert position
      and navigate throughout the document.
      PENDING(prinz)
      This should be serializable, default installed
      by UI.</div>
<a id="L3767" name="L3767"></a>3767     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret;
<a id="L3768" name="L3768"></a>3768 
<div class="comment">
      Object responsible for restricting the cursor navigation.</div>
<a id="L3772" name="L3772"></a>3772     <strong class="reserved">private</strong> <a href="../S/3347.html#L51" title="Defined at 51 in src/javax/swing/text/NavigationFilter.java.">NavigationFilter</a> navigationFilter;
<a id="L3773" name="L3773"></a>3773 
<div class="comment">
      The object responsible for managing highlights.
      PENDING(prinz)
      This should be serializable, default installed
      by UI.</div>
<a id="L3781" name="L3781"></a>3781     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3239.html#L37" title="Defined at 37 in src/javax/swing/text/Highlighter.java.">Highlighter</a> highlighter;
<a id="L3782" name="L3782"></a>3782 
<div class="comment">
      The current key bindings in effect.
      PENDING(prinz)
      This should be serializable, default installed
      by UI.</div>
<a id="L3790" name="L3790"></a>3790     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> keymap;
<a id="L3791" name="L3791"></a>3791 
<a id="L3792" name="L3792"></a>3792     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/3351.html#L4382" title="Defined at 4382 in src/javax/swing/text/JTextComponent.java.">MutableCaretEvent</a> caretEvent;
<a id="L3793" name="L3793"></a>3793     <strong class="reserved">private</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> caretColor;
<a id="L3794" name="L3794"></a>3794     <strong class="reserved">private</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> selectionColor;
<a id="L3795" name="L3795"></a>3795     <strong class="reserved">private</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> selectedTextColor;
<a id="L3796" name="L3796"></a>3796     <strong class="reserved">private</strong> <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> disabledTextColor;
<a id="L3797" name="L3797"></a>3797     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> editable;
<a id="L3798" name="L3798"></a>3798     <strong class="reserved">private</strong> <a href="../S/2154.html#L40" title="Defined at 40 in src/java/awt/Insets.java.">Insets</a> margin;
<a id="L3799" name="L3799"></a>3799     <strong class="reserved">private</strong> <strong class="reserved">char</strong> focusAccelerator;
<a id="L3800" name="L3800"></a>3800     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> dragEnabled;
<a id="L3801" name="L3801"></a>3801 
<div class="comment">
      The drop mode for this component.</div>
<a id="L3805" name="L3805"></a>3805     <strong class="reserved">private</strong> <a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a> dropMode = <a href="../S/2738.html#L38" title="Defined at 38 in src/javax/swing/DropMode.java.">DropMode</a>.USE_SELECTION;
<a id="L3806" name="L3806"></a>3806 
<div class="comment">
      The drop location.</div>
<a id="L3810" name="L3810"></a>3810     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> dropLocation;
<a id="L3811" name="L3811"></a>3811 
<div class="comment">
      Represents a drop location for <code>JTextComponent</code>s.
      @see #getDropLocation
      @since 1.6</div>
<a id="L3818" name="L3818"></a>3818     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/2435.html" title="Multiple referred from 106 places.">DropLocation</a> <strong class="reserved">extends</strong> <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.<a href="../D/2642.html" title="Multiple defined in 5 places.">DropLocation</a> <em class="brace">{</em>
<a id="L3819" name="L3819"></a>3819         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3820" name="L3820"></a>3820         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> bias;
<a id="L3821" name="L3821"></a>3821 
<a id="L3822" name="L3822"></a>3822         <strong class="reserved">private</strong> DropLocation(<a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p, <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> bias) <em class="brace">{</em>
<a id="L3823" name="L3823"></a>3823             <strong class="reserved">super</strong>(p);
<a id="L3824" name="L3824"></a>3824             <strong class="reserved">this</strong>.<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3825" name="L3825"></a>3825             <strong class="reserved">this</strong>.bias = bias;
<a id="L3826" name="L3826"></a>3826         <em class="brace">}</em>
<a id="L3827" name="L3827"></a>3827 
<div class="comment">
          Returns the index where dropped data should be inserted into the
          associated component. This index represents a position between
          characters, as would be interpreted by a caret.
          @return the drop index</div>
<a id="L3835" name="L3835"></a>3835         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/17035.html" title="Multiple referred from 302 places.">getIndex</a>() <em class="brace">{</em>
<a id="L3836" name="L3836"></a>3836             <strong class="reserved">return</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L3837" name="L3837"></a>3837         <em class="brace">}</em>
<a id="L3838" name="L3838"></a>3838 
<div class="comment">
          Returns the bias for the drop index.
          @return the drop bias</div>
<a id="L3844" name="L3844"></a>3844         <strong class="reserved">public</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a>.<a href="../S/3329.html#L66" title="Defined at 66 in src/javax/swing/text/Position.java.">Bias</a> <a href="../R/15267.html" title="Multiple referred from 3 places.">getBias</a>() <em class="brace">{</em>
<a id="L3845" name="L3845"></a>3845             <strong class="reserved">return</strong> bias;
<a id="L3846" name="L3846"></a>3846         <em class="brace">}</em>
<a id="L3847" name="L3847"></a>3847 
<div class="comment">
          Returns a string representation of this drop location.
          This method is intended to be used for debugging purposes,
          and the content and format of the returned string may vary
          between implementations.
          @return a string representation of this drop location</div>
<a id="L3856" name="L3856"></a>3856         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L3857" name="L3857"></a>3857             <strong class="reserved">return</strong> <a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()
<a id="L3858" name="L3858"></a>3858                    + "[dropPoint=" + <a href="../S/3192.html#L176" title="Defined at 176 in src/javax/swing/TransferHandler.java.">getDropPoint</a>() + ","
<a id="L3859" name="L3859"></a>3859                    + "index=" + <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + ","
<a id="L3860" name="L3860"></a>3860                    + "bias=" + bias + "]";
<a id="L3861" name="L3861"></a>3861         <em class="brace">}</em>
<a id="L3862" name="L3862"></a>3862     <em class="brace">}</em>
<a id="L3863" name="L3863"></a>3863 
<div class="comment">
      TransferHandler used if one hasn't been supplied by the UI.</div>
<a id="L3867" name="L3867"></a>3867     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/3351.html#L3943" title="Defined at 3943 in src/javax/swing/text/JTextComponent.java.">DefaultTransferHandler</a> defaultTransferHandler;
<a id="L3868" name="L3868"></a>3868 
<div class="comment">
      Maps from class name to Boolean indicating if
      <code>processInputMethodEvent</code> has been overriden.</div>
<a id="L3873" name="L3873"></a>3873     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>&lt;<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;,<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt; METHOD_OVERRIDDEN
<a id="L3874" name="L3874"></a>3874             = <strong class="reserved">new</strong> <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>&lt;<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt;,<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;(<a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>.<a href="../D/4856.html" title="Multiple defined in 7 places.">Kind</a>.WEAK, <a href="../D/1231.html" title="Multiple defined in 4 places.">Cache</a>.<a href="../D/4856.html" title="Multiple defined in 7 places.">Kind</a>.STRONG) <em class="brace">{</em>
<div class="comment">
          Returns <code>true</code> if the specified <code>type</code> extends {@link JTextComponent}
          and the {@link JTextComponent#processInputMethodEvent} method is overridden.</div>
<a id="L3879" name="L3879"></a>3879         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L3880" name="L3880"></a>3880         <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(<strong class="reserved">final</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;?&gt; <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L3881" name="L3881"></a>3881             <strong class="reserved">if</strong> (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">class</strong> == <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L3882" name="L3882"></a>3882                 <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE;
<a id="L3883" name="L3883"></a>3883             <em class="brace">}</em>
<a id="L3884" name="L3884"></a>3884             <strong class="reserved">if</strong> (<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/22863.html" title="Multiple defined in 4 places.">getSuperclass</a>())) <em class="brace">{</em>
<a id="L3885" name="L3885"></a>3885                 <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE;
<a id="L3886" name="L3886"></a>3886             <em class="brace">}</em>
<a id="L3887" name="L3887"></a>3887             <strong class="reserved">return</strong> <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L3888" name="L3888"></a>3888                     <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;() <em class="brace">{</em>
<a id="L3889" name="L3889"></a>3889                         <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L3890" name="L3890"></a>3890                             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3891" name="L3891"></a>3891                                 <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/18255.html" title="Multiple defined in 2 places.">getDeclaredMethod</a>("processInputMethodEvent", <a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a>.<strong class="reserved">class</strong>);
<a id="L3892" name="L3892"></a>3892                                 <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.TRUE;
<a id="L3893" name="L3893"></a>3893                             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1776.html#L35" title="Defined at 35 in src/java/lang/NoSuchMethodException.java.">NoSuchMethodException</a> <a href="../D/15769.html" title="Multiple defined in 5 places.">exception</a>) <em class="brace">{</em>
<a id="L3894" name="L3894"></a>3894                                 <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE;
<a id="L3895" name="L3895"></a>3895                             <em class="brace">}</em>
<a id="L3896" name="L3896"></a>3896                         <em class="brace">}</em>
<a id="L3897" name="L3897"></a>3897                     <em class="brace">}</em>);
<a id="L3898" name="L3898"></a>3898         <em class="brace">}</em>
<a id="L3899" name="L3899"></a>3899     <em class="brace">}</em>;
<a id="L3900" name="L3900"></a>3900 
<div class="comment">
      Returns a string representation of this <code>JTextComponent</code>.
      This method is intended to be used only for debugging purposes, and the
      content and format of the returned string may vary between
      implementations. The returned string may be empty but may not
      be <code>null</code>.
      <p>
      Overriding <code>paramString</code> to provide information about the
      specific new aspects of the JFC components.
      @return  a string representation of this <code>JTextComponent</code></p></div>
<a id="L3913" name="L3913"></a>3913     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/24469.html" title="Multiple referred from 72 places.">paramString</a>() <em class="brace">{</em>
<a id="L3914" name="L3914"></a>3914         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> editableString = (editable ?
<a id="L3915" name="L3915"></a>3915                                  "true" : "false");
<a id="L3916" name="L3916"></a>3916         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> caretColorString = (caretColor != <strong class="reserved">null</strong> ?
<a id="L3917" name="L3917"></a>3917                                    caretColor.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : "");
<a id="L3918" name="L3918"></a>3918         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> selectionColorString = (selectionColor != <strong class="reserved">null</strong> ?
<a id="L3919" name="L3919"></a>3919                                        selectionColor.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : "");
<a id="L3920" name="L3920"></a>3920         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> selectedTextColorString = (selectedTextColor != <strong class="reserved">null</strong> ?
<a id="L3921" name="L3921"></a>3921                                           selectedTextColor.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : "");
<a id="L3922" name="L3922"></a>3922         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> disabledTextColorString = (disabledTextColor != <strong class="reserved">null</strong> ?
<a id="L3923" name="L3923"></a>3923                                           disabledTextColor.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : "");
<a id="L3924" name="L3924"></a>3924         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> marginString = (margin != <strong class="reserved">null</strong> ?
<a id="L3925" name="L3925"></a>3925                                margin.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() : "");
<a id="L3926" name="L3926"></a>3926 
<a id="L3927" name="L3927"></a>3927         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/29048.html" title="Multiple defined in 87 places.">paramString</a>() +
<a id="L3928" name="L3928"></a>3928         ",caretColor=" + caretColorString +
<a id="L3929" name="L3929"></a>3929         ",disabledTextColor=" + disabledTextColorString +
<a id="L3930" name="L3930"></a>3930         ",editable=" + editableString +
<a id="L3931" name="L3931"></a>3931         ",margin=" + marginString +
<a id="L3932" name="L3932"></a>3932         ",selectedTextColor=" + selectedTextColorString +
<a id="L3933" name="L3933"></a>3933         ",selectionColor=" + selectionColorString;
<a id="L3934" name="L3934"></a>3934     <em class="brace">}</em>
<a id="L3935" name="L3935"></a>3935 
<a id="L3936" name="L3936"></a>3936 
<div class="comment">
      A Simple TransferHandler that exports the data as a String, and
      imports the data from the String clipboard.  This is only used
      if the UI hasn't supplied one, which would only happen if someone
      hasn't subclassed Basic.</div>
<a id="L3943" name="L3943"></a>3943     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/2140.html" title="Multiple referred from 2 places.">DefaultTransferHandler</a> <strong class="reserved">extends</strong> <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a> <strong class="reserved">implements</strong>
<a id="L3944" name="L3944"></a>3944                                         <a href="../D/9231.html" title="Multiple defined in 8 places.">UIResource</a> <em class="brace">{</em>
<a id="L3945" name="L3945"></a>3945         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14164.html" title="Multiple referred from 2 places.">exportToClipboard</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> comp, <a href="../S/2291.html#L53" title="Defined at 53 in src/java/awt/datatransfer/Clipboard.java.">Clipboard</a> clipboard,
<a id="L3946" name="L3946"></a>3946                                       <strong class="reserved">int</strong> <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <strong class="reserved">throws</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> <em class="brace">{</em>
<a id="L3947" name="L3947"></a>3947             <strong class="reserved">if</strong> (comp <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <em class="brace">{</em>
<a id="L3948" name="L3948"></a>3948                 <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)comp;
<a id="L3949" name="L3949"></a>3949                 <strong class="reserved">int</strong> p0 = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/22380.html" title="Multiple defined in 11 places.">getSelectionStart</a>();
<a id="L3950" name="L3950"></a>3950                 <strong class="reserved">int</strong> p1 = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/22371.html" title="Multiple defined in 11 places.">getSelectionEnd</a>();
<a id="L3951" name="L3951"></a>3951                 <strong class="reserved">if</strong> (p0 != p1) <em class="brace">{</em>
<a id="L3952" name="L3952"></a>3952                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3953" name="L3953"></a>3953                         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L3954" name="L3954"></a>3954                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> srcData = doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(p0, p1 - p0);
<a id="L3955" name="L3955"></a>3955                         <a href="../S/2295.html#L45" title="Defined at 45 in src/java/awt/datatransfer/StringSelection.java.">StringSelection</a> contents =<strong class="reserved">new</strong> <a href="../S/2295.html#L45" title="Defined at 45 in src/java/awt/datatransfer/StringSelection.java.">StringSelection</a>(srcData);
<a id="L3956" name="L3956"></a>3956 
<a id="L3957" name="L3957"></a>3957                         <em class="comment">// this may throw an IllegalStateException,</em>
<a id="L3958" name="L3958"></a>3958                         <em class="comment">// but it will be caught and handled in the</em>
<a id="L3959" name="L3959"></a>3959                         <em class="comment">// action that invoked this method</em>
<a id="L3960" name="L3960"></a>3960                         clipboard.<a href="../S/2291.html#L119" title="Defined at 119 in src/java/awt/datatransfer/Clipboard.java.">setContents</a>(contents, <strong class="reserved">null</strong>);
<a id="L3961" name="L3961"></a>3961 
<a id="L3962" name="L3962"></a>3962                         <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <a href="../S/3192.html#L88" title="Defined at 88 in src/javax/swing/TransferHandler.java.">TransferHandler</a>.MOVE) <em class="brace">{</em>
<a id="L3963" name="L3963"></a>3963                             doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(p0, p1 - p0);
<a id="L3964" name="L3964"></a>3964                         <em class="brace">}</em>
<a id="L3965" name="L3965"></a>3965                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L3966" name="L3966"></a>3966                 <em class="brace">}</em>
<a id="L3967" name="L3967"></a>3967             <em class="brace">}</em>
<a id="L3968" name="L3968"></a>3968         <em class="brace">}</em>
<a id="L3969" name="L3969"></a>3969         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20442.html" title="Multiple referred from 5 places.">importData</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> comp, <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> t) <em class="brace">{</em>
<a id="L3970" name="L3970"></a>3970             <strong class="reserved">if</strong> (comp <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <em class="brace">{</em>
<a id="L3971" name="L3971"></a>3971                 <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> flavor = <a href="../S/3351.html#L4001" title="Defined at 4001 in src/javax/swing/text/JTextComponent.java.">getFlavor</a>(t.<a href="../D/23243.html" title="Multiple defined in 6 places.">getTransferDataFlavors</a>());
<a id="L3972" name="L3972"></a>3972 
<a id="L3973" name="L3973"></a>3973                 <strong class="reserved">if</strong> (flavor != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3974" name="L3974"></a>3974                     <a href="../S/2355.html#L76" title="Defined at 76 in src/java/awt/im/InputContext.java.">InputContext</a> ic = comp.<a href="../D/19730.html" title="Multiple defined in 2 places.">getInputContext</a>();
<a id="L3975" name="L3975"></a>3975                     <strong class="reserved">if</strong> (ic != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L3976" name="L3976"></a>3976                         ic.<a href="../D/15438.html" title="Multiple defined in 2 places.">endComposition</a>();
<a id="L3977" name="L3977"></a>3977                     <em class="brace">}</em>
<a id="L3978" name="L3978"></a>3978                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L3979" name="L3979"></a>3979                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)t.<a href="../D/23242.html" title="Multiple defined in 5 places.">getTransferData</a>(flavor);
<a id="L3980" name="L3980"></a>3980 
<a id="L3981" name="L3981"></a>3981                         ((<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)comp).<a href="../D/31064.html" title="Multiple defined in 4 places.">replaceSelection</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L3982" name="L3982"></a>3982                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L3983" name="L3983"></a>3983                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/2293.html#L34" title="Defined at 34 in src/java/awt/datatransfer/UnsupportedFlavorException.java.">UnsupportedFlavorException</a> ufe) <em class="brace">{</em>
<a id="L3984" name="L3984"></a>3984                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L3985" name="L3985"></a>3985                     <em class="brace">}</em>
<a id="L3986" name="L3986"></a>3986                 <em class="brace">}</em>
<a id="L3987" name="L3987"></a>3987             <em class="brace">}</em>
<a id="L3988" name="L3988"></a>3988             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3989" name="L3989"></a>3989         <em class="brace">}</em>
<a id="L3990" name="L3990"></a>3990         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/10885.html" title="Multiple referred from 7 places.">canImport</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> comp,
<a id="L3991" name="L3991"></a>3991                                  <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] transferFlavors) <em class="brace">{</em>
<a id="L3992" name="L3992"></a>3992             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)comp;
<a id="L3993" name="L3993"></a>3993             <strong class="reserved">if</strong> (!(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>() &amp;&amp; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25496.html" title="Multiple defined in 50 places.">isEnabled</a>())) <em class="brace">{</em>
<a id="L3994" name="L3994"></a>3994                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L3995" name="L3995"></a>3995             <em class="brace">}</em>
<a id="L3996" name="L3996"></a>3996             <strong class="reserved">return</strong> (<a href="../S/3351.html#L4001" title="Defined at 4001 in src/javax/swing/text/JTextComponent.java.">getFlavor</a>(transferFlavors) != <strong class="reserved">null</strong>);
<a id="L3997" name="L3997"></a>3997         <em class="brace">}</em>
<a id="L3998" name="L3998"></a>3998         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/19087.html" title="Multiple referred from 12 places.">getSourceActions</a>(<a href="../S/3152.html#L184" title="Defined at 184 in src/javax/swing/JComponent.java.">JComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L3999" name="L3999"></a>3999             <strong class="reserved">return</strong> <a href="../D/5884.html" title="Multiple defined in 2 places.">NONE</a>;
<a id="L4000" name="L4000"></a>4000         <em class="brace">}</em>
<a id="L4001" name="L4001"></a>4001         <strong class="reserved">private</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> <a href="../R/16644.html" title="Multiple referred from 2 places.">getFlavor</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] flavors) <em class="brace">{</em>
<a id="L4002" name="L4002"></a>4002             <strong class="reserved">if</strong> (flavors != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4003" name="L4003"></a>4003                 <strong class="reserved">for</strong> (<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> flavor : flavors) <em class="brace">{</em>
<a id="L4004" name="L4004"></a>4004                     <strong class="reserved">if</strong> (flavor.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>.stringFlavor)) <em class="brace">{</em>
<a id="L4005" name="L4005"></a>4005                         <strong class="reserved">return</strong> flavor;
<a id="L4006" name="L4006"></a>4006                     <em class="brace">}</em>
<a id="L4007" name="L4007"></a>4007                 <em class="brace">}</em>
<a id="L4008" name="L4008"></a>4008             <em class="brace">}</em>
<a id="L4009" name="L4009"></a>4009             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4010" name="L4010"></a>4010         <em class="brace">}</em>
<a id="L4011" name="L4011"></a>4011     <em class="brace">}</em>
<a id="L4012" name="L4012"></a>4012 
<div class="comment">
      Returns the JTextComponent that most recently had focus. The returned
      value may currently have focus.</div>
<a id="L4017" name="L4017"></a>4017     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../R/16673.html" title="Multiple referred from 9 places.">getFocusedComponent</a>() <em class="brace">{</em>
<a id="L4018" name="L4018"></a>4018         <strong class="reserved">return</strong> (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>)AppContext.getAppContext().
<a id="L4019" name="L4019"></a>4019             <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(FOCUSED_COMPONENT);
<a id="L4020" name="L4020"></a>4020     <em class="brace">}</em>
<a id="L4021" name="L4021"></a>4021 
<a id="L4022" name="L4022"></a>4022     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/15885.html" title="Multiple referred from 3 places.">getCurrentEventModifiers</a>() <em class="brace">{</em>
<a id="L4023" name="L4023"></a>4023         <strong class="reserved">int</strong> <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a> = 0;
<a id="L4024" name="L4024"></a>4024         <a href="../S/2213.html#L80" title="Defined at 80 in src/java/awt/AWTEvent.java.">AWTEvent</a> currentEvent = <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../S/2178.html#L841" title="Defined at 841 in src/java/awt/EventQueue.java.">getCurrentEvent</a>();
<a id="L4025" name="L4025"></a>4025         <strong class="reserved">if</strong> (currentEvent <strong class="reserved">instanceof</strong> <a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a>) <em class="brace">{</em>
<a id="L4026" name="L4026"></a>4026             <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a> = ((<a href="../S/2412.html#L59" title="Defined at 59 in src/java/awt/event/InputEvent.java.">InputEvent</a>)currentEvent).<a href="../D/20712.html" title="Multiple defined in 18 places.">getModifiers</a>();
<a id="L4027" name="L4027"></a>4027         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (currentEvent <strong class="reserved">instanceof</strong> <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>) <em class="brace">{</em>
<a id="L4028" name="L4028"></a>4028             <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a> = ((<a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>)currentEvent).<a href="../D/20712.html" title="Multiple defined in 18 places.">getModifiers</a>();
<a id="L4029" name="L4029"></a>4029         <em class="brace">}</em>
<a id="L4030" name="L4030"></a>4030         <strong class="reserved">return</strong> <a href="../S/7693.html#L86" title="Defined at 86 in src/com/sun/javadoc/ProgramElementDoc.java.">modifiers</a>;
<a id="L4031" name="L4031"></a>4031     <em class="brace">}</em>
<a id="L4032" name="L4032"></a>4032 
<a id="L4033" name="L4033"></a>4033     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> KEYMAP_TABLE =
<a id="L4034" name="L4034"></a>4034         <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>("JTextComponent_KeymapTable");
<a id="L4035" name="L4035"></a>4035 
<a id="L4036" name="L4036"></a>4036     <em class="comment">//</em>
<a id="L4037" name="L4037"></a>4037     <em class="comment">// member variables used for on-the-spot input method</em>
<a id="L4038" name="L4038"></a>4038     <em class="comment">// editing style support</em>
<a id="L4039" name="L4039"></a>4039     <em class="comment">//</em>
<a id="L4040" name="L4040"></a>4040     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/2349.html#L64" title="Defined at 64 in src/java/awt/im/InputMethodRequests.java.">InputMethodRequests</a> inputMethodRequestsHandler;
<a id="L4041" name="L4041"></a>4041     <strong class="reserved">private</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a> composedTextAttribute;
<a id="L4042" name="L4042"></a>4042     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> composedTextContent;
<a id="L4043" name="L4043"></a>4043     <strong class="reserved">private</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> composedTextStart;
<a id="L4044" name="L4044"></a>4044     <strong class="reserved">private</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> composedTextEnd;
<a id="L4045" name="L4045"></a>4045     <strong class="reserved">private</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> latestCommittedTextStart;
<a id="L4046" name="L4046"></a>4046     <strong class="reserved">private</strong> <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> latestCommittedTextEnd;
<a id="L4047" name="L4047"></a>4047     <strong class="reserved">private</strong> <a href="../S/3351.html#L4943" title="Defined at 4943 in src/javax/swing/text/JTextComponent.java.">ComposedTextCaret</a> composedTextCaret;
<a id="L4048" name="L4048"></a>4048     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> originalCaret;
<div class="comment">
      Set to true after the check for the override of processInputMethodEvent
      has been checked.</div>
<a id="L4053" name="L4053"></a>4053     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> checkedInputOverride;
<a id="L4054" name="L4054"></a>4054     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> needToSendKeyTypedEvent;
<a id="L4055" name="L4055"></a>4055 
<a id="L4056" name="L4056"></a>4056     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/3351.html#L1060" title="Referred from 1060 in src/javax/swing/text/JTextComponent.java.">DefaultKeymap</a> <strong class="reserved">implements</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <em class="brace">{</em>
<a id="L4057" name="L4057"></a>4057 
<a id="L4058" name="L4058"></a>4058         DefaultKeymap(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm, <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L4059" name="L4059"></a>4059             <strong class="reserved">this</strong>.nm = nm;
<a id="L4060" name="L4060"></a>4060             <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L4061" name="L4061"></a>4061             bindings = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>&gt;();
<a id="L4062" name="L4062"></a>4062         <em class="brace">}</em>
<a id="L4063" name="L4063"></a>4063 
<div class="comment">
          Fetch the default action to fire if a
          key is typed (ie a KEY_TYPED KeyEvent is received)
          and there is no binding for it.  Typically this
          would be some action that inserts text so that
          the keymap doesn't require an action for each
          possible key.</div>
<a id="L4072" name="L4072"></a>4072         <strong class="reserved">public</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../R/16005.html" title="Multiple referred from 8 places.">getDefaultAction</a>() <em class="brace">{</em>
<a id="L4073" name="L4073"></a>4073             <strong class="reserved">if</strong> (<a href="../D/14732.html" title="Multiple defined in 5 places.">defaultAction</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4074" name="L4074"></a>4074                 <strong class="reserved">return</strong> <a href="../D/14732.html" title="Multiple defined in 5 places.">defaultAction</a>;
<a id="L4075" name="L4075"></a>4075             <em class="brace">}</em>
<a id="L4076" name="L4076"></a>4076             <strong class="reserved">return</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) ? <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18275.html" title="Multiple defined in 4 places.">getDefaultAction</a>() : <strong class="reserved">null</strong>;
<a id="L4077" name="L4077"></a>4077         <em class="brace">}</em>
<a id="L4078" name="L4078"></a>4078 
<div class="comment">
          Set the default action to fire if a key is typed.</div>
<a id="L4082" name="L4082"></a>4082         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27183.html" title="Multiple referred from 2 places.">setDefaultAction</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L4083" name="L4083"></a>4083             <a href="../D/14732.html" title="Multiple defined in 5 places.">defaultAction</a> = <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L4084" name="L4084"></a>4084         <em class="brace">}</em>
<a id="L4085" name="L4085"></a>4085 
<a id="L4086" name="L4086"></a>4086         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L4087" name="L4087"></a>4087             <strong class="reserved">return</strong> nm;
<a id="L4088" name="L4088"></a>4088         <em class="brace">}</em>
<a id="L4089" name="L4089"></a>4089 
<a id="L4090" name="L4090"></a>4090         <strong class="reserved">public</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../R/14950.html" title="Multiple referred from 24 places.">getAction</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L4091" name="L4091"></a>4091             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = bindings.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4092" name="L4092"></a>4092             <strong class="reserved">if</strong> ((<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L4093" name="L4093"></a>4093                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/16782.html" title="Multiple defined in 10 places.">getAction</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4094" name="L4094"></a>4094             <em class="brace">}</em>
<a id="L4095" name="L4095"></a>4095             <strong class="reserved">return</strong> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>;
<a id="L4096" name="L4096"></a>4096         <em class="brace">}</em>
<a id="L4097" name="L4097"></a>4097 
<a id="L4098" name="L4098"></a>4098         <strong class="reserved">public</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] <a href="../R/15318.html" title="Multiple referred from 2 places.">getBoundKeyStrokes</a>() <em class="brace">{</em>
<a id="L4099" name="L4099"></a>4099             <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = <strong class="reserved">new</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[bindings.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L4100" name="L4100"></a>4100             <strong class="reserved">int</strong> i = 0;
<a id="L4101" name="L4101"></a>4101             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>&gt; e = bindings.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>() ; e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() ;) <em class="brace">{</em>
<a id="L4102" name="L4102"></a>4102                 <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>[i++] = e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L4103" name="L4103"></a>4103             <em class="brace">}</em>
<a id="L4104" name="L4104"></a>4104             <strong class="reserved">return</strong> <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>;
<a id="L4105" name="L4105"></a>4105         <em class="brace">}</em>
<a id="L4106" name="L4106"></a>4106 
<a id="L4107" name="L4107"></a>4107         <strong class="reserved">public</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <a href="../R/15317.html" title="Multiple referred from 2 places.">getBoundActions</a>() <em class="brace">{</em>
<a id="L4108" name="L4108"></a>4108             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = <strong class="reserved">new</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>[bindings.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L4109" name="L4109"></a>4109             <strong class="reserved">int</strong> i = 0;
<a id="L4110" name="L4110"></a>4110             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>&gt; e = bindings.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>() ; e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() ;) <em class="brace">{</em>
<a id="L4111" name="L4111"></a>4111                 <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>[i++] = e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L4112" name="L4112"></a>4112             <em class="brace">}</em>
<a id="L4113" name="L4113"></a>4113             <strong class="reserved">return</strong> <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>;
<a id="L4114" name="L4114"></a>4114         <em class="brace">}</em>
<a id="L4115" name="L4115"></a>4115 
<a id="L4116" name="L4116"></a>4116         <strong class="reserved">public</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] <a href="../S/3351.html#L4134" title="Referred from 4134 in src/javax/swing/text/JTextComponent.java.">getKeyStrokesForAction</a>(<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L4117" name="L4117"></a>4117             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4118" name="L4118"></a>4118                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4119" name="L4119"></a>4119             <em class="brace">}</em>
<a id="L4120" name="L4120"></a>4120             <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] retValue = <strong class="reserved">null</strong>;
<a id="L4121" name="L4121"></a>4121             <em class="comment">// Determine local bindings first.</em>
<a id="L4122" name="L4122"></a>4122             <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>&gt; keyStrokes = <strong class="reserved">null</strong>;
<a id="L4123" name="L4123"></a>4123             <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>&gt; <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a> = bindings.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>(); <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>();) <em class="brace">{</em>
<a id="L4124" name="L4124"></a>4124                 <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = <a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L4125" name="L4125"></a>4125                 <strong class="reserved">if</strong> (bindings.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) == <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L4126" name="L4126"></a>4126                     <strong class="reserved">if</strong> (keyStrokes == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4127" name="L4127"></a>4127                         keyStrokes = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>&gt;();
<a id="L4128" name="L4128"></a>4128                     <em class="brace">}</em>
<a id="L4129" name="L4129"></a>4129                     keyStrokes.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4130" name="L4130"></a>4130                 <em class="brace">}</em>
<a id="L4131" name="L4131"></a>4131             <em class="brace">}</em>
<a id="L4132" name="L4132"></a>4132             <em class="comment">// See if the parent has any.</em>
<a id="L4133" name="L4133"></a>4133             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4134" name="L4134"></a>4134                 <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] pStrokes = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/19955.html" title="Multiple defined in 2 places.">getKeyStrokesForAction</a>(<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L4135" name="L4135"></a>4135                 <strong class="reserved">if</strong> (pStrokes != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4136" name="L4136"></a>4136                     <em class="comment">// Remove any bindings defined in the parent that</em>
<a id="L4137" name="L4137"></a>4137                     <em class="comment">// are locally defined.</em>
<a id="L4138" name="L4138"></a>4138                     <strong class="reserved">int</strong> rCount = 0;
<a id="L4139" name="L4139"></a>4139                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = pStrokes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1; counter &gt;= 0;
<a id="L4140" name="L4140"></a>4140                          counter--) <em class="brace">{</em>
<a id="L4141" name="L4141"></a>4141                         <strong class="reserved">if</strong> (<a href="../D/25828.html" title="Multiple defined in 2 places.">isLocallyDefined</a>(pStrokes[counter])) <em class="brace">{</em>
<a id="L4142" name="L4142"></a>4142                             pStrokes[counter] = <strong class="reserved">null</strong>;
<a id="L4143" name="L4143"></a>4143                             rCount++;
<a id="L4144" name="L4144"></a>4144                         <em class="brace">}</em>
<a id="L4145" name="L4145"></a>4145                     <em class="brace">}</em>
<a id="L4146" name="L4146"></a>4146                     <strong class="reserved">if</strong> (rCount &gt; 0 &amp;&amp; rCount &lt; pStrokes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L4147" name="L4147"></a>4147                         <strong class="reserved">if</strong> (keyStrokes == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4148" name="L4148"></a>4148                             keyStrokes = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>&gt;();
<a id="L4149" name="L4149"></a>4149                         <em class="brace">}</em>
<a id="L4150" name="L4150"></a>4150                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> counter = pStrokes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1; counter &gt;= 0;
<a id="L4151" name="L4151"></a>4151                              counter--) <em class="brace">{</em>
<a id="L4152" name="L4152"></a>4152                             <strong class="reserved">if</strong> (pStrokes[counter] != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4153" name="L4153"></a>4153                                 keyStrokes.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(pStrokes[counter]);
<a id="L4154" name="L4154"></a>4154                             <em class="brace">}</em>
<a id="L4155" name="L4155"></a>4155                         <em class="brace">}</em>
<a id="L4156" name="L4156"></a>4156                     <em class="brace">}</em>
<a id="L4157" name="L4157"></a>4157                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> (rCount == 0) <em class="brace">{</em>
<a id="L4158" name="L4158"></a>4158                         <strong class="reserved">if</strong> (keyStrokes == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4159" name="L4159"></a>4159                             retValue = pStrokes;
<a id="L4160" name="L4160"></a>4160                         <em class="brace">}</em>
<a id="L4161" name="L4161"></a>4161                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4162" name="L4162"></a>4162                             retValue = <strong class="reserved">new</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[keyStrokes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() +
<a id="L4163" name="L4163"></a>4163                                                     pStrokes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>];
<a id="L4164" name="L4164"></a>4164                             keyStrokes.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(retValue);
<a id="L4165" name="L4165"></a>4165                             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(pStrokes, 0, retValue,
<a id="L4166" name="L4166"></a>4166                                         keyStrokes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(), pStrokes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L4167" name="L4167"></a>4167                             keyStrokes = <strong class="reserved">null</strong>;
<a id="L4168" name="L4168"></a>4168                         <em class="brace">}</em>
<a id="L4169" name="L4169"></a>4169                     <em class="brace">}</em>
<a id="L4170" name="L4170"></a>4170                 <em class="brace">}</em>
<a id="L4171" name="L4171"></a>4171             <em class="brace">}</em>
<a id="L4172" name="L4172"></a>4172             <strong class="reserved">if</strong> (keyStrokes != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4173" name="L4173"></a>4173                 retValue = <strong class="reserved">new</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[keyStrokes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()];
<a id="L4174" name="L4174"></a>4174                 keyStrokes.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(retValue);
<a id="L4175" name="L4175"></a>4175             <em class="brace">}</em>
<a id="L4176" name="L4176"></a>4176             <strong class="reserved">return</strong> retValue;
<a id="L4177" name="L4177"></a>4177         <em class="brace">}</em>
<a id="L4178" name="L4178"></a>4178 
<a id="L4179" name="L4179"></a>4179         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/3351.html#L4141" title="Referred from 4141 in src/javax/swing/text/JTextComponent.java.">isLocallyDefined</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L4180" name="L4180"></a>4180             <strong class="reserved">return</strong> bindings.<a href="../D/13333.html" title="Multiple defined in 42 places.">containsKey</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4181" name="L4181"></a>4181         <em class="brace">}</em>
<a id="L4182" name="L4182"></a>4182 
<a id="L4183" name="L4183"></a>4183         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L1187" title="Referred from 1187 in src/javax/swing/text/JTextComponent.java.">addActionForKeyStroke</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>) <em class="brace">{</em>
<a id="L4184" name="L4184"></a>4184             bindings.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>);
<a id="L4185" name="L4185"></a>4185         <em class="brace">}</em>
<a id="L4186" name="L4186"></a>4186 
<a id="L4187" name="L4187"></a>4187         <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeKeyStrokeBinding(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L4188" name="L4188"></a>4188             bindings.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4189" name="L4189"></a>4189         <em class="brace">}</em>
<a id="L4190" name="L4190"></a>4190 
<a id="L4191" name="L4191"></a>4191         <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeBindings() <em class="brace">{</em>
<a id="L4192" name="L4192"></a>4192             bindings.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L4193" name="L4193"></a>4193         <em class="brace">}</em>
<a id="L4194" name="L4194"></a>4194 
<a id="L4195" name="L4195"></a>4195         <strong class="reserved">public</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../R/18705.html" title="Multiple referred from 15 places.">getResolveParent</a>() <em class="brace">{</em>
<a id="L4196" name="L4196"></a>4196             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L4197" name="L4197"></a>4197         <em class="brace">}</em>
<a id="L4198" name="L4198"></a>4198 
<a id="L4199" name="L4199"></a>4199         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28036.html" title="Multiple referred from 9 places.">setResolveParent</a>(<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L4200" name="L4200"></a>4200             <strong class="reserved">this</strong>.<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L4201" name="L4201"></a>4201         <em class="brace">}</em>
<a id="L4202" name="L4202"></a>4202 
<div class="comment">
          String representation of the keymap... potentially
          a very long string.</div>
<a id="L4207" name="L4207"></a>4207         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L4208" name="L4208"></a>4208             <strong class="reserved">return</strong> "Keymap[" + nm + "]" + bindings;
<a id="L4209" name="L4209"></a>4209         <em class="brace">}</em>
<a id="L4210" name="L4210"></a>4210 
<a id="L4211" name="L4211"></a>4211         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nm;
<a id="L4212" name="L4212"></a>4212         <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L4213" name="L4213"></a>4213         <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>&lt;<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>, <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>&gt; bindings;
<a id="L4214" name="L4214"></a>4214         <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/14732.html" title="Multiple defined in 5 places.">defaultAction</a>;
<a id="L4215" name="L4215"></a>4215     <em class="brace">}</em>
<a id="L4216" name="L4216"></a>4216 
<a id="L4217" name="L4217"></a>4217 
<div class="comment">
      KeymapWrapper wraps a Keymap inside an InputMap. For KeymapWrapper
      to be useful it must be used with a KeymapActionMap.
      KeymapWrapper for the most part, is an InputMap with two parents.
      The first parent visited is ALWAYS the Keymap, with the second
      parent being the parent inherited from InputMap. If
      <code>keymap.getAction</code> returns null, implying the Keymap
      does not have a binding for the KeyStroke,
      the parent is then visited. If the Keymap has a binding, the
      Action is returned, if not and the KeyStroke represents a
      KeyTyped event and the Keymap has a defaultAction,
      <code>DefaultActionKey</code> is returned.
      <p>KeymapActionMap is then able to transate the object passed in
      to either message the Keymap, or message its default implementation.</p></div>
<a id="L4233" name="L4233"></a>4233     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4415.html" title="Multiple referred from 6 places.">KeymapWrapper</a> <strong class="reserved">extends</strong> <a href="../S/3371.html#L56" title="Defined at 56 in src/javax/swing/InputMap.java.">InputMap</a> <em class="brace">{</em>
<a id="L4234" name="L4234"></a>4234         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> DefaultActionKey = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>();
<a id="L4235" name="L4235"></a>4235 
<a id="L4236" name="L4236"></a>4236         <strong class="reserved">private</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> keymap;
<a id="L4237" name="L4237"></a>4237 
<a id="L4238" name="L4238"></a>4238         KeymapWrapper(<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> keymap) <em class="brace">{</em>
<a id="L4239" name="L4239"></a>4239             <strong class="reserved">this</strong>.keymap = keymap;
<a id="L4240" name="L4240"></a>4240         <em class="brace">}</em>
<a id="L4241" name="L4241"></a>4241 
<a id="L4242" name="L4242"></a>4242         <strong class="reserved">public</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] <a href="../R/22399.html" title="Multiple referred from 606 places.">keys</a>() <em class="brace">{</em>
<a id="L4243" name="L4243"></a>4243             <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] sKeys = <strong class="reserved">super</strong>.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L4244" name="L4244"></a>4244             <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] keymapKeys = keymap.<a href="../D/17331.html" title="Multiple defined in 2 places.">getBoundKeyStrokes</a>();
<a id="L4245" name="L4245"></a>4245             <strong class="reserved">int</strong> sCount = (sKeys == <strong class="reserved">null</strong>) ? 0 : sKeys.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4246" name="L4246"></a>4246             <strong class="reserved">int</strong> keymapCount = (keymapKeys == <strong class="reserved">null</strong>) ? 0 : keymapKeys.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4247" name="L4247"></a>4247             <strong class="reserved">if</strong> (sCount == 0) <em class="brace">{</em>
<a id="L4248" name="L4248"></a>4248                 <strong class="reserved">return</strong> keymapKeys;
<a id="L4249" name="L4249"></a>4249             <em class="brace">}</em>
<a id="L4250" name="L4250"></a>4250             <strong class="reserved">if</strong> (keymapCount == 0) <em class="brace">{</em>
<a id="L4251" name="L4251"></a>4251                 <strong class="reserved">return</strong> sKeys;
<a id="L4252" name="L4252"></a>4252             <em class="brace">}</em>
<a id="L4253" name="L4253"></a>4253             <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] retValue = <strong class="reserved">new</strong> <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[sCount + keymapCount];
<a id="L4254" name="L4254"></a>4254             <em class="comment">// There may be some duplication here...</em>
<a id="L4255" name="L4255"></a>4255             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(sKeys, 0, retValue, 0, sCount);
<a id="L4256" name="L4256"></a>4256             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(keymapKeys, 0, retValue, sCount, keymapCount);
<a id="L4257" name="L4257"></a>4257             <strong class="reserved">return</strong> retValue;
<a id="L4258" name="L4258"></a>4258         <em class="brace">}</em>
<a id="L4259" name="L4259"></a>4259 
<a id="L4260" name="L4260"></a>4260         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L4261" name="L4261"></a>4261             <em class="comment">// There may be some duplication here...</em>
<a id="L4262" name="L4262"></a>4262             <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>[] keymapStrokes = keymap.<a href="../D/17331.html" title="Multiple defined in 2 places.">getBoundKeyStrokes</a>();
<a id="L4263" name="L4263"></a>4263             <strong class="reserved">int</strong> keymapCount = (keymapStrokes == <strong class="reserved">null</strong>) ? 0:
<a id="L4264" name="L4264"></a>4264                                keymapStrokes.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4265" name="L4265"></a>4265             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() + keymapCount;
<a id="L4266" name="L4266"></a>4266         <em class="brace">}</em>
<a id="L4267" name="L4267"></a>4267 
<a id="L4268" name="L4268"></a>4268         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> keyStroke) <em class="brace">{</em>
<a id="L4269" name="L4269"></a>4269             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> retValue = keymap.<a href="../D/16782.html" title="Multiple defined in 10 places.">getAction</a>(keyStroke);
<a id="L4270" name="L4270"></a>4270             <strong class="reserved">if</strong> (retValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4271" name="L4271"></a>4271                 retValue = <strong class="reserved">super</strong>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(keyStroke);
<a id="L4272" name="L4272"></a>4272                 <strong class="reserved">if</strong> (retValue == <strong class="reserved">null</strong> &amp;&amp;
<a id="L4273" name="L4273"></a>4273                     keyStroke.<a href="../D/19920.html" title="Multiple defined in 2 places.">getKeyChar</a>() != <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.CHAR_UNDEFINED &amp;&amp;
<a id="L4274" name="L4274"></a>4274                     keymap.<a href="../D/18275.html" title="Multiple defined in 4 places.">getDefaultAction</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4275" name="L4275"></a>4275                     <em class="comment">// Implies this is a KeyTyped event, use the default</em>
<a id="L4276" name="L4276"></a>4276                     <em class="comment">// action.</em>
<a id="L4277" name="L4277"></a>4277                     retValue = DefaultActionKey;
<a id="L4278" name="L4278"></a>4278                 <em class="brace">}</em>
<a id="L4279" name="L4279"></a>4279             <em class="brace">}</em>
<a id="L4280" name="L4280"></a>4280             <strong class="reserved">return</strong> retValue;
<a id="L4281" name="L4281"></a>4281         <em class="brace">}</em>
<a id="L4282" name="L4282"></a>4282     <em class="brace">}</em>
<a id="L4283" name="L4283"></a>4283 
<a id="L4284" name="L4284"></a>4284 
<div class="comment">
      Wraps a Keymap inside an ActionMap. This is used with
      a KeymapWrapper. If <code>get</code> is passed in
      <code>KeymapWrapper.DefaultActionKey</code>, the default action is
      returned, otherwise if the key is an Action, it is returned.</div>
<a id="L4291" name="L4291"></a>4291     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/4414.html" title="Multiple referred from 3 places.">KeymapActionMap</a> <strong class="reserved">extends</strong> <a href="../S/3374.html#L59" title="Defined at 59 in src/javax/swing/ActionMap.java.">ActionMap</a> <em class="brace">{</em>
<a id="L4292" name="L4292"></a>4292         <strong class="reserved">private</strong> <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> keymap;
<a id="L4293" name="L4293"></a>4293 
<a id="L4294" name="L4294"></a>4294         KeymapActionMap(<a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> keymap) <em class="brace">{</em>
<a id="L4295" name="L4295"></a>4295             <strong class="reserved">this</strong>.keymap = keymap;
<a id="L4296" name="L4296"></a>4296         <em class="brace">}</em>
<a id="L4297" name="L4297"></a>4297 
<a id="L4298" name="L4298"></a>4298         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../R/22399.html" title="Multiple referred from 606 places.">keys</a>() <em class="brace">{</em>
<a id="L4299" name="L4299"></a>4299             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] sKeys = <strong class="reserved">super</strong>.<a href="../D/26726.html" title="Multiple defined in 22 places.">keys</a>();
<a id="L4300" name="L4300"></a>4300             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] keymapKeys = keymap.<a href="../D/17330.html" title="Multiple defined in 2 places.">getBoundActions</a>();
<a id="L4301" name="L4301"></a>4301             <strong class="reserved">int</strong> sCount = (sKeys == <strong class="reserved">null</strong>) ? 0 : sKeys.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4302" name="L4302"></a>4302             <strong class="reserved">int</strong> keymapCount = (keymapKeys == <strong class="reserved">null</strong>) ? 0 : keymapKeys.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4303" name="L4303"></a>4303             <strong class="reserved">boolean</strong> hasDefault = (keymap.<a href="../D/18275.html" title="Multiple defined in 4 places.">getDefaultAction</a>() != <strong class="reserved">null</strong>);
<a id="L4304" name="L4304"></a>4304             <strong class="reserved">if</strong> (hasDefault) <em class="brace">{</em>
<a id="L4305" name="L4305"></a>4305                 keymapCount++;
<a id="L4306" name="L4306"></a>4306             <em class="brace">}</em>
<a id="L4307" name="L4307"></a>4307             <strong class="reserved">if</strong> (sCount == 0) <em class="brace">{</em>
<a id="L4308" name="L4308"></a>4308                 <strong class="reserved">if</strong> (hasDefault) <em class="brace">{</em>
<a id="L4309" name="L4309"></a>4309                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] retValue = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[keymapCount];
<a id="L4310" name="L4310"></a>4310                     <strong class="reserved">if</strong> (keymapCount &gt; 1) <em class="brace">{</em>
<a id="L4311" name="L4311"></a>4311                         <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(keymapKeys, 0, retValue, 0,
<a id="L4312" name="L4312"></a>4312                                          keymapCount - 1);
<a id="L4313" name="L4313"></a>4313                     <em class="brace">}</em>
<a id="L4314" name="L4314"></a>4314                     retValue[keymapCount - 1] = <a href="../S/3351.html#L4233" title="Defined at 4233 in src/javax/swing/text/JTextComponent.java.">KeymapWrapper</a>.DefaultActionKey;
<a id="L4315" name="L4315"></a>4315                     <strong class="reserved">return</strong> retValue;
<a id="L4316" name="L4316"></a>4316                 <em class="brace">}</em>
<a id="L4317" name="L4317"></a>4317                 <strong class="reserved">return</strong> keymapKeys;
<a id="L4318" name="L4318"></a>4318             <em class="brace">}</em>
<a id="L4319" name="L4319"></a>4319             <strong class="reserved">if</strong> (keymapCount == 0) <em class="brace">{</em>
<a id="L4320" name="L4320"></a>4320                 <strong class="reserved">return</strong> sKeys;
<a id="L4321" name="L4321"></a>4321             <em class="brace">}</em>
<a id="L4322" name="L4322"></a>4322             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] retValue = <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[sCount + keymapCount];
<a id="L4323" name="L4323"></a>4323             <em class="comment">// There may be some duplication here...</em>
<a id="L4324" name="L4324"></a>4324             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(sKeys, 0, retValue, 0, sCount);
<a id="L4325" name="L4325"></a>4325             <strong class="reserved">if</strong> (hasDefault) <em class="brace">{</em>
<a id="L4326" name="L4326"></a>4326                 <strong class="reserved">if</strong> (keymapCount &gt; 1) <em class="brace">{</em>
<a id="L4327" name="L4327"></a>4327                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(keymapKeys, 0, retValue, sCount,
<a id="L4328" name="L4328"></a>4328                                      keymapCount - 1);
<a id="L4329" name="L4329"></a>4329                 <em class="brace">}</em>
<a id="L4330" name="L4330"></a>4330                 retValue[sCount + keymapCount - 1] = <a href="../S/3351.html#L4233" title="Defined at 4233 in src/javax/swing/text/JTextComponent.java.">KeymapWrapper</a>.
<a id="L4331" name="L4331"></a>4331                                                  DefaultActionKey;
<a id="L4332" name="L4332"></a>4332             <em class="brace">}</em>
<a id="L4333" name="L4333"></a>4333             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4334" name="L4334"></a>4334                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(keymapKeys, 0, retValue, sCount, keymapCount);
<a id="L4335" name="L4335"></a>4335             <em class="brace">}</em>
<a id="L4336" name="L4336"></a>4336             <strong class="reserved">return</strong> retValue;
<a id="L4337" name="L4337"></a>4337         <em class="brace">}</em>
<a id="L4338" name="L4338"></a>4338 
<a id="L4339" name="L4339"></a>4339         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L4340" name="L4340"></a>4340             <em class="comment">// There may be some duplication here...</em>
<a id="L4341" name="L4341"></a>4341             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> = keymap.<a href="../D/17330.html" title="Multiple defined in 2 places.">getBoundActions</a>();
<a id="L4342" name="L4342"></a>4342             <strong class="reserved">int</strong> keymapCount = (<a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a> == <strong class="reserved">null</strong>) ? 0 : <a href="../D/10596.html" title="Multiple defined in 2 places.">actions</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4343" name="L4343"></a>4343             <strong class="reserved">if</strong> (keymap.<a href="../D/18275.html" title="Multiple defined in 4 places.">getDefaultAction</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4344" name="L4344"></a>4344                 keymapCount++;
<a id="L4345" name="L4345"></a>4345             <em class="brace">}</em>
<a id="L4346" name="L4346"></a>4346             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() + keymapCount;
<a id="L4347" name="L4347"></a>4347         <em class="brace">}</em>
<a id="L4348" name="L4348"></a>4348 
<a id="L4349" name="L4349"></a>4349         <strong class="reserved">public</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../R/14874.html" title="Multiple referred from 4230 places.">get</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L4350" name="L4350"></a>4350             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> retValue = <strong class="reserved">super</strong>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L4351" name="L4351"></a>4351             <strong class="reserved">if</strong> (retValue == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4352" name="L4352"></a>4352                 <em class="comment">// Try the Keymap.</em>
<a id="L4353" name="L4353"></a>4353                 <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> == <a href="../S/3351.html#L4233" title="Defined at 4233 in src/javax/swing/text/JTextComponent.java.">KeymapWrapper</a>.DefaultActionKey) <em class="brace">{</em>
<a id="L4354" name="L4354"></a>4354                     retValue = keymap.<a href="../D/18275.html" title="Multiple defined in 4 places.">getDefaultAction</a>();
<a id="L4355" name="L4355"></a>4355                 <em class="brace">}</em>
<a id="L4356" name="L4356"></a>4356                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> <strong class="reserved">instanceof</strong> <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>) <em class="brace">{</em>
<a id="L4357" name="L4357"></a>4357                     <em class="comment">// This is a little iffy, technically an Action is</em>
<a id="L4358" name="L4358"></a>4358                     <em class="comment">// a valid Key. We're assuming the Action came from</em>
<a id="L4359" name="L4359"></a>4359                     <em class="comment">// the InputMap though.</em>
<a id="L4360" name="L4360"></a>4360                     retValue = (<a href="../D/306.html" title="Multiple defined in 5 places.">Action</a>)<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L4361" name="L4361"></a>4361                 <em class="brace">}</em>
<a id="L4362" name="L4362"></a>4362             <em class="brace">}</em>
<a id="L4363" name="L4363"></a>4363             <strong class="reserved">return</strong> retValue;
<a id="L4364" name="L4364"></a>4364         <em class="brace">}</em>
<a id="L4365" name="L4365"></a>4365     <em class="brace">}</em>
<a id="L4366" name="L4366"></a>4366 
<a id="L4367" name="L4367"></a>4367     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> FOCUSED_COMPONENT =
<a id="L4368" name="L4368"></a>4368         <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>("JTextComponent_FocusedComponent");
<a id="L4369" name="L4369"></a>4369 
<div class="comment">
      The default keymap that will be shared by all
      <code>JTextComponent</code> instances unless they
      have had a different keymap set.</div>
<a id="L4375" name="L4375"></a>4375     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> DEFAULT_KEYMAP = "default";
<a id="L4376" name="L4376"></a>4376 
<div class="comment">
      Event to use when firing a notification of change to caret
      position.  This is mutable so that the event can be reused
      since caret events can be fairly high in bandwidth.</div>
<a id="L4382" name="L4382"></a>4382     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/5346.html" title="Multiple referred from 3 places.">MutableCaretEvent</a> <strong class="reserved">extends</strong> <a href="../S/3409.html#L45" title="Defined at 45 in src/javax/swing/event/CaretEvent.java.">CaretEvent</a> <strong class="reserved">implements</strong> <a href="../S/3411.html#L36" title="Defined at 36 in src/javax/swing/event/ChangeListener.java.">ChangeListener</a>, <a href="../S/2436.html#L50" title="Defined at 50 in src/java/awt/event/FocusListener.java.">FocusListener</a>, <a href="../S/2395.html#L57" title="Defined at 57 in src/java/awt/event/MouseListener.java.">MouseListener</a> <em class="brace">{</em>
<a id="L4383" name="L4383"></a>4383 
<a id="L4384" name="L4384"></a>4384         MutableCaretEvent(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L4385" name="L4385"></a>4385             <strong class="reserved">super</strong>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L4386" name="L4386"></a>4386         <em class="brace">}</em>
<a id="L4387" name="L4387"></a>4387 
<a id="L4388" name="L4388"></a>4388         <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/14541.html" title="Multiple referred from 4 places.">fire</a>() <em class="brace">{</em>
<a id="L4389" name="L4389"></a>4389             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = (<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>) <a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>();
<a id="L4390" name="L4390"></a>4390             <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4391" name="L4391"></a>4391                 <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> caret = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L4392" name="L4392"></a>4392                 dot = caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L4393" name="L4393"></a>4393                 <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a> = caret.<a href="../D/20387.html" title="Multiple defined in 4 places.">getMark</a>();
<a id="L4394" name="L4394"></a>4394                 <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../S/3351.html#L390" title="Defined at 390 in src/javax/swing/text/JTextComponent.java.">fireCaretUpdate</a>(<strong class="reserved">this</strong>);
<a id="L4395" name="L4395"></a>4395             <em class="brace">}</em>
<a id="L4396" name="L4396"></a>4396         <em class="brace">}</em>
<a id="L4397" name="L4397"></a>4397 
<a id="L4398" name="L4398"></a>4398         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L4399" name="L4399"></a>4399             <strong class="reserved">return</strong> "dot=" + dot + "," + "mark=" + <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a>;
<a id="L4400" name="L4400"></a>4400         <em class="brace">}</em>
<a id="L4401" name="L4401"></a>4401 
<a id="L4402" name="L4402"></a>4402         <em class="comment">// --- CaretEvent methods -----------------------</em>
<a id="L4403" name="L4403"></a>4403 
<a id="L4404" name="L4404"></a>4404         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/16240.html" title="Multiple referred from 43 places.">getDot</a>() <em class="brace">{</em>
<a id="L4405" name="L4405"></a>4405             <strong class="reserved">return</strong> dot;
<a id="L4406" name="L4406"></a>4406         <em class="brace">}</em>
<a id="L4407" name="L4407"></a>4407 
<a id="L4408" name="L4408"></a>4408         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../R/17555.html" title="Multiple referred from 21 places.">getMark</a>() <em class="brace">{</em>
<a id="L4409" name="L4409"></a>4409             <strong class="reserved">return</strong> <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a>;
<a id="L4410" name="L4410"></a>4410         <em class="brace">}</em>
<a id="L4411" name="L4411"></a>4411 
<a id="L4412" name="L4412"></a>4412         <em class="comment">// --- ChangeListener methods -------------------</em>
<a id="L4413" name="L4413"></a>4413 
<a id="L4414" name="L4414"></a>4414         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/28874.html" title="Multiple referred from 23 places.">stateChanged</a>(<a href="../S/3414.html#L46" title="Defined at 46 in src/javax/swing/event/ChangeEvent.java.">ChangeEvent</a> e) <em class="brace">{</em>
<a id="L4415" name="L4415"></a>4415             <strong class="reserved">if</strong> (! dragActive) <em class="brace">{</em>
<a id="L4416" name="L4416"></a>4416                 <a href="../D/16303.html" title="Multiple defined in 2 places.">fire</a>();
<a id="L4417" name="L4417"></a>4417             <em class="brace">}</em>
<a id="L4418" name="L4418"></a>4418         <em class="brace">}</em>
<a id="L4419" name="L4419"></a>4419 
<a id="L4420" name="L4420"></a>4420         <em class="comment">// --- FocusListener methods -----------------------------------</em>
<a id="L4421" name="L4421"></a>4421         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14715.html" title="Multiple referred from 20 places.">focusGained</a>(<a href="../S/2416.html#L66" title="Defined at 66 in src/java/awt/event/FocusEvent.java.">FocusEvent</a> fe) <em class="brace">{</em>
<a id="L4422" name="L4422"></a>4422             AppContext.getAppContext().<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(FOCUSED_COMPONENT,
<a id="L4423" name="L4423"></a>4423                                            fe.<a href="../D/22603.html" title="Multiple defined in 11 places.">getSource</a>());
<a id="L4424" name="L4424"></a>4424         <em class="brace">}</em>
<a id="L4425" name="L4425"></a>4425 
<a id="L4426" name="L4426"></a>4426         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14716.html" title="Multiple referred from 16 places.">focusLost</a>(<a href="../S/2416.html#L66" title="Defined at 66 in src/java/awt/event/FocusEvent.java.">FocusEvent</a> fe) <em class="brace">{</em>
<a id="L4427" name="L4427"></a>4427         <em class="brace">}</em>
<a id="L4428" name="L4428"></a>4428 
<a id="L4429" name="L4429"></a>4429         <em class="comment">// --- MouseListener methods -----------------------------------</em>
<a id="L4430" name="L4430"></a>4430 
<div class="comment">
          Requests focus on the associated
          text component, and try to set the cursor position.
          @param e the mouse event
          @see MouseListener#mousePressed</div>
<a id="L4438" name="L4438"></a>4438         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/23363.html" title="Multiple referred from 30 places.">mousePressed</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L4439" name="L4439"></a>4439             dragActive = <strong class="reserved">true</strong>;
<a id="L4440" name="L4440"></a>4440         <em class="brace">}</em>
<a id="L4441" name="L4441"></a>4441 
<div class="comment">
          Called when the mouse is released.
          @param e the mouse event
          @see MouseListener#mouseReleased</div>
<a id="L4448" name="L4448"></a>4448         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/23367.html" title="Multiple referred from 25 places.">mouseReleased</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L4449" name="L4449"></a>4449             dragActive = <strong class="reserved">false</strong>;
<a id="L4450" name="L4450"></a>4450             <a href="../D/16303.html" title="Multiple defined in 2 places.">fire</a>();
<a id="L4451" name="L4451"></a>4451         <em class="brace">}</em>
<a id="L4452" name="L4452"></a>4452 
<a id="L4453" name="L4453"></a>4453         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/23351.html" title="Multiple referred from 20 places.">mouseClicked</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L4454" name="L4454"></a>4454         <em class="brace">}</em>
<a id="L4455" name="L4455"></a>4455 
<a id="L4456" name="L4456"></a>4456         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/23357.html" title="Multiple referred from 19 places.">mouseEntered</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L4457" name="L4457"></a>4457         <em class="brace">}</em>
<a id="L4458" name="L4458"></a>4458 
<a id="L4459" name="L4459"></a>4459         <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/23359.html" title="Multiple referred from 18 places.">mouseExited</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> e) <em class="brace">{</em>
<a id="L4460" name="L4460"></a>4460         <em class="brace">}</em>
<a id="L4461" name="L4461"></a>4461 
<a id="L4462" name="L4462"></a>4462         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> dragActive;
<a id="L4463" name="L4463"></a>4463         <strong class="reserved">private</strong> <strong class="reserved">int</strong> dot;
<a id="L4464" name="L4464"></a>4464         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/27489.html" title="Multiple defined in 38 places.">mark</a>;
<a id="L4465" name="L4465"></a>4465     <em class="brace">}</em>
<a id="L4466" name="L4466"></a>4466 
<a id="L4467" name="L4467"></a>4467     <em class="comment">//</em>
<a id="L4468" name="L4468"></a>4468     <em class="comment">// Process any input method events that the component itself</em>
<a id="L4469" name="L4469"></a>4469     <em class="comment">// recognizes. The default on-the-spot handling for input method</em>
<a id="L4470" name="L4470"></a>4470     <em class="comment">// composed(uncommitted) text is done here after all input</em>
<a id="L4471" name="L4471"></a>4471     <em class="comment">// method listeners get called for stealing the events.</em>
<a id="L4472" name="L4472"></a>4472     <em class="comment">//</em>
<a id="L4473" name="L4473"></a>4473     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25148.html" title="Multiple referred from 4 places.">processInputMethodEvent</a>(<a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a> e) <em class="brace">{</em>
<a id="L4474" name="L4474"></a>4474         <em class="comment">// let listeners handle the events</em>
<a id="L4475" name="L4475"></a>4475         <strong class="reserved">super</strong>.<a href="../D/29817.html" title="Multiple defined in 4 places.">processInputMethodEvent</a>(e);
<a id="L4476" name="L4476"></a>4476 
<a id="L4477" name="L4477"></a>4477         <strong class="reserved">if</strong> (!e.<a href="../D/25364.html" title="Multiple defined in 4 places.">isConsumed</a>()) <em class="brace">{</em>
<a id="L4478" name="L4478"></a>4478             <strong class="reserved">if</strong> (! <a href="../D/25485.html" title="Multiple defined in 5 places.">isEditable</a>()) <em class="brace">{</em>
<a id="L4479" name="L4479"></a>4479                 <strong class="reserved">return</strong>;
<a id="L4480" name="L4480"></a>4480             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4481" name="L4481"></a>4481                 <strong class="reserved">switch</strong> (e.<a href="../D/19513.html" title="Multiple defined in 26 places.">getID</a>()) <em class="brace">{</em>
<a id="L4482" name="L4482"></a>4482                 <strong class="reserved">case</strong> <a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a>.INPUT_METHOD_TEXT_CHANGED:
<a id="L4483" name="L4483"></a>4483                     <a href="../S/3351.html#L4686" title="Defined at 4686 in src/javax/swing/text/JTextComponent.java.">replaceInputMethodText</a>(e);
<a id="L4484" name="L4484"></a>4484 
<a id="L4485" name="L4485"></a>4485                     <em class="comment">// fall through</em>
<a id="L4486" name="L4486"></a>4486 
<a id="L4487" name="L4487"></a>4487                 <strong class="reserved">case</strong> <a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a>.CARET_POSITION_CHANGED:
<a id="L4488" name="L4488"></a>4488                     <a href="../S/3351.html#L4873" title="Defined at 4873 in src/javax/swing/text/JTextComponent.java.">setInputMethodCaretPosition</a>(e);
<a id="L4489" name="L4489"></a>4489                     <strong class="reserved">break</strong>;
<a id="L4490" name="L4490"></a>4490                 <em class="brace">}</em>
<a id="L4491" name="L4491"></a>4491             <em class="brace">}</em>
<a id="L4492" name="L4492"></a>4492 
<a id="L4493" name="L4493"></a>4493             e.<a href="../D/13298.html" title="Multiple defined in 4 places.">consume</a>();
<a id="L4494" name="L4494"></a>4494         <em class="brace">}</em>
<a id="L4495" name="L4495"></a>4495     <em class="brace">}</em>
<a id="L4496" name="L4496"></a>4496 
<a id="L4497" name="L4497"></a>4497     <em class="comment">//</em>
<a id="L4498" name="L4498"></a>4498     <em class="comment">// Overrides this method to become an active input method client.</em>
<a id="L4499" name="L4499"></a>4499     <em class="comment">//</em>
<a id="L4500" name="L4500"></a>4500     <strong class="reserved">public</strong> <a href="../S/2349.html#L64" title="Defined at 64 in src/java/awt/im/InputMethodRequests.java.">InputMethodRequests</a> <a href="../S/2303.html#L184" title="Referred from 184 in src/java/awt/TextComponent.java.">getInputMethodRequests</a>() <em class="brace">{</em>
<a id="L4501" name="L4501"></a>4501         <strong class="reserved">if</strong> (inputMethodRequestsHandler == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4502" name="L4502"></a>4502             inputMethodRequestsHandler = <strong class="reserved">new</strong> <a href="../S/3351.html#L4527" title="Defined at 4527 in src/javax/swing/text/JTextComponent.java.">InputMethodRequestsHandler</a>();
<a id="L4503" name="L4503"></a>4503             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4504" name="L4504"></a>4504             <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4505" name="L4505"></a>4505                 doc.<a href="../D/10761.html" title="Multiple defined in 3 places.">addDocumentListener</a>((<a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a>)inputMethodRequestsHandler);
<a id="L4506" name="L4506"></a>4506             <em class="brace">}</em>
<a id="L4507" name="L4507"></a>4507         <em class="brace">}</em>
<a id="L4508" name="L4508"></a>4508 
<a id="L4509" name="L4509"></a>4509         <strong class="reserved">return</strong> inputMethodRequestsHandler;
<a id="L4510" name="L4510"></a>4510     <em class="brace">}</em>
<a id="L4511" name="L4511"></a>4511 
<a id="L4512" name="L4512"></a>4512     <em class="comment">//</em>
<a id="L4513" name="L4513"></a>4513     <em class="comment">// Overrides this method to watch the listener installed.</em>
<a id="L4514" name="L4514"></a>4514     <em class="comment">//</em>
<a id="L4515" name="L4515"></a>4515     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9794.html" title="Multiple referred from 2 places.">addInputMethodListener</a>(<a href="../S/2433.html#L44" title="Defined at 44 in src/java/awt/event/InputMethodListener.java.">InputMethodListener</a> l) <em class="brace">{</em>
<a id="L4516" name="L4516"></a>4516         <strong class="reserved">super</strong>.<a href="../D/10869.html" title="Multiple defined in 2 places.">addInputMethodListener</a>(l);
<a id="L4517" name="L4517"></a>4517         <strong class="reserved">if</strong> (l != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4518" name="L4518"></a>4518             needToSendKeyTypedEvent = <strong class="reserved">false</strong>;
<a id="L4519" name="L4519"></a>4519             checkedInputOverride = <strong class="reserved">true</strong>;
<a id="L4520" name="L4520"></a>4520         <em class="brace">}</em>
<a id="L4521" name="L4521"></a>4521     <em class="brace">}</em>
<a id="L4522" name="L4522"></a>4522 
<a id="L4523" name="L4523"></a>4523 
<a id="L4524" name="L4524"></a>4524     <em class="comment">//</em>
<a id="L4525" name="L4525"></a>4525     <em class="comment">// Default implementation of the InputMethodRequests interface.</em>
<a id="L4526" name="L4526"></a>4526     <em class="comment">//</em>
<a id="L4527" name="L4527"></a>4527     <strong class="reserved">class</strong> <a href="../S/3351.html#L4502" title="Referred from 4502 in src/javax/swing/text/JTextComponent.java.">InputMethodRequestsHandler</a> <strong class="reserved">implements</strong> <a href="../S/2349.html#L64" title="Defined at 64 in src/java/awt/im/InputMethodRequests.java.">InputMethodRequests</a>, <a href="../S/3408.html#L53" title="Defined at 53 in src/javax/swing/event/DocumentListener.java.">DocumentListener</a> <em class="brace">{</em>
<a id="L4528" name="L4528"></a>4528 
<a id="L4529" name="L4529"></a>4529         <em class="comment">// --- InputMethodRequests methods ---</em>
<a id="L4530" name="L4530"></a>4530 
<a id="L4531" name="L4531"></a>4531         <strong class="reserved">public</strong> <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> cancelLatestCommittedText(
<a id="L4532" name="L4532"></a>4532                                                 <a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>[] <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L4533" name="L4533"></a>4533             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4534" name="L4534"></a>4534             <strong class="reserved">if</strong> ((doc != <strong class="reserved">null</strong>) &amp;&amp; (latestCommittedTextStart != <strong class="reserved">null</strong>)
<a id="L4535" name="L4535"></a>4535                 &amp;&amp; (!latestCommittedTextStart.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(latestCommittedTextEnd))) <em class="brace">{</em>
<a id="L4536" name="L4536"></a>4536                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4537" name="L4537"></a>4537                     <strong class="reserved">int</strong> startIndex = latestCommittedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4538" name="L4538"></a>4538                     <strong class="reserved">int</strong> endIndex = latestCommittedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4539" name="L4539"></a>4539                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> latestCommittedText =
<a id="L4540" name="L4540"></a>4540                         doc.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(startIndex, endIndex - startIndex);
<a id="L4541" name="L4541"></a>4541                     doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(startIndex, endIndex - startIndex);
<a id="L4542" name="L4542"></a>4542                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2484.html#L50" title="Defined at 50 in src/java/text/AttributedString.java.">AttributedString</a>(latestCommittedText).<a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L4543" name="L4543"></a>4543                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L4544" name="L4544"></a>4544             <em class="brace">}</em>
<a id="L4545" name="L4545"></a>4545             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4546" name="L4546"></a>4546         <em class="brace">}</em>
<a id="L4547" name="L4547"></a>4547 
<a id="L4548" name="L4548"></a>4548         <strong class="reserved">public</strong> <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> getCommittedText(<strong class="reserved">int</strong> beginIndex,
<a id="L4549" name="L4549"></a>4549                                         <strong class="reserved">int</strong> endIndex, <a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>[] <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L4550" name="L4550"></a>4550             <strong class="reserved">int</strong> composedStartIndex = 0;
<a id="L4551" name="L4551"></a>4551             <strong class="reserved">int</strong> composedEndIndex = 0;
<a id="L4552" name="L4552"></a>4552             <strong class="reserved">if</strong> (<a href="../S/3351.html#L4936" title="Defined at 4936 in src/javax/swing/text/JTextComponent.java.">composedTextExists</a>()) <em class="brace">{</em>
<a id="L4553" name="L4553"></a>4553                 composedStartIndex = composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4554" name="L4554"></a>4554                 composedEndIndex = composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4555" name="L4555"></a>4555             <em class="brace">}</em>
<a id="L4556" name="L4556"></a>4556 
<a id="L4557" name="L4557"></a>4557             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> committed;
<a id="L4558" name="L4558"></a>4558             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4559" name="L4559"></a>4559                 <strong class="reserved">if</strong> (beginIndex &lt; composedStartIndex) <em class="brace">{</em>
<a id="L4560" name="L4560"></a>4560                     <strong class="reserved">if</strong> (endIndex &lt;= composedStartIndex) <em class="brace">{</em>
<a id="L4561" name="L4561"></a>4561                         committed = <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(beginIndex, endIndex - beginIndex);
<a id="L4562" name="L4562"></a>4562                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4563" name="L4563"></a>4563                         <strong class="reserved">int</strong> firstPartLength = composedStartIndex - beginIndex;
<a id="L4564" name="L4564"></a>4564                         committed = <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(beginIndex, firstPartLength) +
<a id="L4565" name="L4565"></a>4565                             <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(composedEndIndex, endIndex - beginIndex - firstPartLength);
<a id="L4566" name="L4566"></a>4566                     <em class="brace">}</em>
<a id="L4567" name="L4567"></a>4567                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4568" name="L4568"></a>4568                     committed = <a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>(beginIndex + (composedEndIndex - composedStartIndex),
<a id="L4569" name="L4569"></a>4569                                         endIndex - beginIndex);
<a id="L4570" name="L4570"></a>4570                 <em class="brace">}</em>
<a id="L4571" name="L4571"></a>4571             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L4572" name="L4572"></a>4572                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid range");
<a id="L4573" name="L4573"></a>4573             <em class="brace">}</em>
<a id="L4574" name="L4574"></a>4574             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2484.html#L50" title="Defined at 50 in src/java/text/AttributedString.java.">AttributedString</a>(committed).<a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L4575" name="L4575"></a>4575         <em class="brace">}</em>
<a id="L4576" name="L4576"></a>4576 
<a id="L4577" name="L4577"></a>4577         <strong class="reserved">public</strong> <strong class="reserved">int</strong> getCommittedTextLength() <em class="brace">{</em>
<a id="L4578" name="L4578"></a>4578             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4579" name="L4579"></a>4579             <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = 0;
<a id="L4580" name="L4580"></a>4580             <strong class="reserved">if</strong> (doc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4581" name="L4581"></a>4581                 <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = doc.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L4582" name="L4582"></a>4582                 <strong class="reserved">if</strong> (composedTextContent != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4583" name="L4583"></a>4583                     <strong class="reserved">if</strong> (composedTextEnd == <strong class="reserved">null</strong>
<a id="L4584" name="L4584"></a>4584                           || composedTextStart == <strong class="reserved">null</strong>) <em class="brace">{</em>
<div class="comment">
                          fix for : 6355666
                          this is the case when this method is invoked
                          from DocumentListener. At this point
                          composedTextEnd and composedTextStart are
                          not defined yet.</div>
<a id="L4592" name="L4592"></a>4592                         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> -= composedTextContent.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L4593" name="L4593"></a>4593                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4594" name="L4594"></a>4594                         <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> -= composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() -
<a id="L4595" name="L4595"></a>4595                             composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4596" name="L4596"></a>4596                     <em class="brace">}</em>
<a id="L4597" name="L4597"></a>4597                 <em class="brace">}</em>
<a id="L4598" name="L4598"></a>4598             <em class="brace">}</em>
<a id="L4599" name="L4599"></a>4599             <strong class="reserved">return</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L4600" name="L4600"></a>4600         <em class="brace">}</em>
<a id="L4601" name="L4601"></a>4601 
<a id="L4602" name="L4602"></a>4602         <strong class="reserved">public</strong> <strong class="reserved">int</strong> getInsertPositionOffset() <em class="brace">{</em>
<a id="L4603" name="L4603"></a>4603             <strong class="reserved">int</strong> composedStartIndex = 0;
<a id="L4604" name="L4604"></a>4604             <strong class="reserved">int</strong> composedEndIndex = 0;
<a id="L4605" name="L4605"></a>4605             <strong class="reserved">if</strong> (<a href="../S/3351.html#L4936" title="Defined at 4936 in src/javax/swing/text/JTextComponent.java.">composedTextExists</a>()) <em class="brace">{</em>
<a id="L4606" name="L4606"></a>4606                 composedStartIndex = composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4607" name="L4607"></a>4607                 composedEndIndex = composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4608" name="L4608"></a>4608             <em class="brace">}</em>
<a id="L4609" name="L4609"></a>4609             <strong class="reserved">int</strong> caretIndex = <a href="../D/17501.html" title="Multiple defined in 11 places.">getCaretPosition</a>();
<a id="L4610" name="L4610"></a>4610 
<a id="L4611" name="L4611"></a>4611             <strong class="reserved">if</strong> (caretIndex &lt; composedStartIndex) <em class="brace">{</em>
<a id="L4612" name="L4612"></a>4612                 <strong class="reserved">return</strong> caretIndex;
<a id="L4613" name="L4613"></a>4613             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (caretIndex &lt; composedEndIndex) <em class="brace">{</em>
<a id="L4614" name="L4614"></a>4614                 <strong class="reserved">return</strong> composedStartIndex;
<a id="L4615" name="L4615"></a>4615             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4616" name="L4616"></a>4616                 <strong class="reserved">return</strong> caretIndex - (composedEndIndex - composedStartIndex);
<a id="L4617" name="L4617"></a>4617             <em class="brace">}</em>
<a id="L4618" name="L4618"></a>4618         <em class="brace">}</em>
<a id="L4619" name="L4619"></a>4619 
<a id="L4620" name="L4620"></a>4620         <strong class="reserved">public</strong> <a href="../S/2364.html#L88" title="Defined at 88 in src/java/awt/font/TextHitInfo.java.">TextHitInfo</a> getLocationOffset(<strong class="reserved">int</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, <strong class="reserved">int</strong> y) <em class="brace">{</em>
<a id="L4621" name="L4621"></a>4621             <strong class="reserved">if</strong> (composedTextAttribute == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4622" name="L4622"></a>4622                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4623" name="L4623"></a>4623             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4624" name="L4624"></a>4624                 <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p = <a href="../D/20244.html" title="Multiple defined in 14 places.">getLocationOnScreen</a>();
<a id="L4625" name="L4625"></a>4625                 p.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> - p.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>;
<a id="L4626" name="L4626"></a>4626                 p.y = y - p.y;
<a id="L4627" name="L4627"></a>4627                 <strong class="reserved">int</strong> pos = <a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(p);
<a id="L4628" name="L4628"></a>4628                 <strong class="reserved">if</strong> ((pos &gt;= composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>()) &amp;&amp;
<a id="L4629" name="L4629"></a>4629                     (pos &lt;= composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>())) <em class="brace">{</em>
<a id="L4630" name="L4630"></a>4630                     <strong class="reserved">return</strong> <a href="../S/2364.html#L88" title="Defined at 88 in src/java/awt/font/TextHitInfo.java.">TextHitInfo</a>.<a href="../D/26791.html" title="Multiple defined in 2 places.">leading</a>(pos - composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L4631" name="L4631"></a>4631                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4632" name="L4632"></a>4632                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4633" name="L4633"></a>4633                 <em class="brace">}</em>
<a id="L4634" name="L4634"></a>4634             <em class="brace">}</em>
<a id="L4635" name="L4635"></a>4635         <em class="brace">}</em>
<a id="L4636" name="L4636"></a>4636 
<a id="L4637" name="L4637"></a>4637         <strong class="reserved">public</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> getTextLocation(<a href="../S/2364.html#L88" title="Defined at 88 in src/java/awt/font/TextHitInfo.java.">TextHitInfo</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) <em class="brace">{</em>
<a id="L4638" name="L4638"></a>4638             <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r;
<a id="L4639" name="L4639"></a>4639 
<a id="L4640" name="L4640"></a>4640             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4641" name="L4641"></a>4641                 r = <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../D/17501.html" title="Multiple defined in 11 places.">getCaretPosition</a>());
<a id="L4642" name="L4642"></a>4642                 <strong class="reserved">if</strong> (r != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4643" name="L4643"></a>4643                     <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> p = <a href="../D/20244.html" title="Multiple defined in 14 places.">getLocationOnScreen</a>();
<a id="L4644" name="L4644"></a>4644                     r.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>(p.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, p.y);
<a id="L4645" name="L4645"></a>4645                 <em class="brace">}</em>
<a id="L4646" name="L4646"></a>4646             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L4647" name="L4647"></a>4647                 r = <strong class="reserved">null</strong>;
<a id="L4648" name="L4648"></a>4648             <em class="brace">}</em>
<a id="L4649" name="L4649"></a>4649 
<a id="L4650" name="L4650"></a>4650             <strong class="reserved">if</strong> (r == <strong class="reserved">null</strong>)
<a id="L4651" name="L4651"></a>4651                 r = <strong class="reserved">new</strong> <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a>();
<a id="L4652" name="L4652"></a>4652 
<a id="L4653" name="L4653"></a>4653             <strong class="reserved">return</strong> r;
<a id="L4654" name="L4654"></a>4654         <em class="brace">}</em>
<a id="L4655" name="L4655"></a>4655 
<a id="L4656" name="L4656"></a>4656         <strong class="reserved">public</strong> <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../R/18928.html" title="Multiple referred from 11 places.">getSelectedText</a>(
<a id="L4657" name="L4657"></a>4657                                                 <a href="../D/567.html" title="Multiple defined in 12 places.">Attribute</a>[] <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L4658" name="L4658"></a>4658             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> selection = <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a>.<strong class="reserved">this</strong>.<a href="../D/22360.html" title="Multiple defined in 12 places.">getSelectedText</a>();
<a id="L4659" name="L4659"></a>4659             <strong class="reserved">if</strong> (selection != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4660" name="L4660"></a>4660                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2484.html#L50" title="Defined at 50 in src/java/text/AttributedString.java.">AttributedString</a>(selection).<a href="../D/19862.html" title="Multiple defined in 18 places.">getIterator</a>();
<a id="L4661" name="L4661"></a>4661             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4662" name="L4662"></a>4662                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L4663" name="L4663"></a>4663             <em class="brace">}</em>
<a id="L4664" name="L4664"></a>4664         <em class="brace">}</em>
<a id="L4665" name="L4665"></a>4665 
<a id="L4666" name="L4666"></a>4666         <em class="comment">// --- DocumentListener methods ---</em>
<a id="L4667" name="L4667"></a>4667 
<a id="L4668" name="L4668"></a>4668         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11034.html" title="Multiple referred from 17 places.">changedUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L4669" name="L4669"></a>4669             latestCommittedTextStart = latestCommittedTextEnd = <strong class="reserved">null</strong>;
<a id="L4670" name="L4670"></a>4670         <em class="brace">}</em>
<a id="L4671" name="L4671"></a>4671 
<a id="L4672" name="L4672"></a>4672         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20799.html" title="Multiple referred from 23 places.">insertUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L4673" name="L4673"></a>4673             latestCommittedTextStart = latestCommittedTextEnd = <strong class="reserved">null</strong>;
<a id="L4674" name="L4674"></a>4674         <em class="brace">}</em>
<a id="L4675" name="L4675"></a>4675 
<a id="L4676" name="L4676"></a>4676         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26095.html" title="Multiple referred from 20 places.">removeUpdate</a>(<a href="../D/2552.html" title="Multiple defined in 2 places.">DocumentEvent</a> e) <em class="brace">{</em>
<a id="L4677" name="L4677"></a>4677             latestCommittedTextStart = latestCommittedTextEnd = <strong class="reserved">null</strong>;
<a id="L4678" name="L4678"></a>4678         <em class="brace">}</em>
<a id="L4679" name="L4679"></a>4679     <em class="brace">}</em>
<a id="L4680" name="L4680"></a>4680 
<a id="L4681" name="L4681"></a>4681     <em class="comment">//</em>
<a id="L4682" name="L4682"></a>4682     <em class="comment">// Replaces the current input method (composed) text according to</em>
<a id="L4683" name="L4683"></a>4683     <em class="comment">// the passed input method event. This method also inserts the</em>
<a id="L4684" name="L4684"></a>4684     <em class="comment">// committed text into the document.</em>
<a id="L4685" name="L4685"></a>4685     <em class="comment">//</em>
<a id="L4686" name="L4686"></a>4686     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L4483" title="Referred from 4483 in src/javax/swing/text/JTextComponent.java.">replaceInputMethodText</a>(<a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a> e) <em class="brace">{</em>
<a id="L4687" name="L4687"></a>4687         <strong class="reserved">int</strong> commitCount = e.<a href="../S/2405.html#L288" title="Defined at 288 in src/java/awt/event/InputMethodEvent.java.">getCommittedCharacterCount</a>();
<a id="L4688" name="L4688"></a>4688         <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = e.<a href="../D/23044.html" title="Multiple defined in 43 places.">getText</a>();
<a id="L4689" name="L4689"></a>4689         <strong class="reserved">int</strong> composedTextIndex;
<a id="L4690" name="L4690"></a>4690 
<a id="L4691" name="L4691"></a>4691         <em class="comment">// old composed text deletion</em>
<a id="L4692" name="L4692"></a>4692         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4693" name="L4693"></a>4693         <strong class="reserved">if</strong> (<a href="../S/3351.html#L4936" title="Defined at 4936 in src/javax/swing/text/JTextComponent.java.">composedTextExists</a>()) <em class="brace">{</em>
<a id="L4694" name="L4694"></a>4694             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4695" name="L4695"></a>4695                 doc.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(),
<a id="L4696" name="L4696"></a>4696                            composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() -
<a id="L4697" name="L4697"></a>4697                            composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L4698" name="L4698"></a>4698             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L4699" name="L4699"></a>4699             composedTextStart = composedTextEnd = <strong class="reserved">null</strong>;
<a id="L4700" name="L4700"></a>4700             composedTextAttribute = <strong class="reserved">null</strong>;
<a id="L4701" name="L4701"></a>4701             composedTextContent = <strong class="reserved">null</strong>;
<a id="L4702" name="L4702"></a>4702         <em class="brace">}</em>
<a id="L4703" name="L4703"></a>4703 
<a id="L4704" name="L4704"></a>4704         <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4705" name="L4705"></a>4705             <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L4706" name="L4706"></a>4706             <strong class="reserved">int</strong> committedTextStartIndex = 0;
<a id="L4707" name="L4707"></a>4707             <strong class="reserved">int</strong> committedTextEndIndex = 0;
<a id="L4708" name="L4708"></a>4708 
<a id="L4709" name="L4709"></a>4709             <em class="comment">// committed text insertion</em>
<a id="L4710" name="L4710"></a>4710             <strong class="reserved">if</strong> (commitCount &gt; 0) <em class="brace">{</em>
<a id="L4711" name="L4711"></a>4711                 <em class="comment">// Remember latest committed text start index</em>
<a id="L4712" name="L4712"></a>4712                 committedTextStartIndex = caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L4713" name="L4713"></a>4713 
<a id="L4714" name="L4714"></a>4714                 <em class="comment">// Need to generate KeyTyped events for the committed text for components</em>
<a id="L4715" name="L4715"></a>4715                 <em class="comment">// that are not aware they are active input method clients.</em>
<a id="L4716" name="L4716"></a>4716                 <strong class="reserved">if</strong> (<a href="../S/3351.html#L4922" title="Defined at 4922 in src/javax/swing/text/JTextComponent.java.">shouldSynthensizeKeyEvents</a>()) <em class="brace">{</em>
<a id="L4717" name="L4717"></a>4717                     <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>(); commitCount &gt; 0;
<a id="L4718" name="L4718"></a>4718                          <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(), commitCount--) <em class="brace">{</em>
<a id="L4719" name="L4719"></a>4719                         <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a> ke = <strong class="reserved">new</strong> <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>(<strong class="reserved">this</strong>, <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.KEY_TYPED,
<a id="L4720" name="L4720"></a>4720                                                    <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../S/2178.html#L803" title="Defined at 803 in src/java/awt/EventQueue.java.">getMostRecentEventTime</a>(),
<a id="L4721" name="L4721"></a>4721                                                    0, <a href="../S/2425.html#L152" title="Defined at 152 in src/java/awt/event/KeyEvent.java.">KeyEvent</a>.VK_UNDEFINED, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L4722" name="L4722"></a>4722                         <a href="../D/29824.html" title="Multiple defined in 14 places.">processKeyEvent</a>(ke);
<a id="L4723" name="L4723"></a>4723                     <em class="brace">}</em>
<a id="L4724" name="L4724"></a>4724                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4725" name="L4725"></a>4725                     <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> strBuf = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L4726" name="L4726"></a>4726                     <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/14417.html" title="Multiple defined in 10 places.">current</a>(); commitCount &gt; 0;
<a id="L4727" name="L4727"></a>4727                          <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>(), commitCount--) <em class="brace">{</em>
<a id="L4728" name="L4728"></a>4728                         strBuf.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L4729" name="L4729"></a>4729                     <em class="brace">}</em>
<a id="L4730" name="L4730"></a>4730 
<a id="L4731" name="L4731"></a>4731                     <em class="comment">// map it to an ActionEvent</em>
<a id="L4732" name="L4732"></a>4732                     <a href="../S/3351.html#L4845" title="Defined at 4845 in src/javax/swing/text/JTextComponent.java.">mapCommittedTextToAction</a>(strBuf.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>());
<a id="L4733" name="L4733"></a>4733                 <em class="brace">}</em>
<a id="L4734" name="L4734"></a>4734 
<a id="L4735" name="L4735"></a>4735                 <em class="comment">// Remember latest committed text end index</em>
<a id="L4736" name="L4736"></a>4736                 committedTextEndIndex = caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L4737" name="L4737"></a>4737             <em class="brace">}</em>
<a id="L4738" name="L4738"></a>4738 
<a id="L4739" name="L4739"></a>4739             <em class="comment">// new composed text insertion</em>
<a id="L4740" name="L4740"></a>4740             composedTextIndex = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L4741" name="L4741"></a>4741             <strong class="reserved">if</strong> (composedTextIndex &lt; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/18768.html" title="Multiple defined in 8 places.">getEndIndex</a>()) <em class="brace">{</em>
<a id="L4742" name="L4742"></a>4742                 <a href="../S/3351.html#L4775" title="Defined at 4775 in src/javax/swing/text/JTextComponent.java.">createComposedTextAttribute</a>(composedTextIndex, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L4743" name="L4743"></a>4743                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4744" name="L4744"></a>4744                     <a href="../D/31064.html" title="Multiple defined in 4 places.">replaceSelection</a>(<strong class="reserved">null</strong>);
<a id="L4745" name="L4745"></a>4745                     doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(), composedTextContent,
<a id="L4746" name="L4746"></a>4746                                         composedTextAttribute);
<a id="L4747" name="L4747"></a>4747                     composedTextStart = doc.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>() -
<a id="L4748" name="L4748"></a>4748                                                 composedTextContent.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L4749" name="L4749"></a>4749                     composedTextEnd = doc.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>());
<a id="L4750" name="L4750"></a>4750                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L4751" name="L4751"></a>4751                     composedTextStart = composedTextEnd = <strong class="reserved">null</strong>;
<a id="L4752" name="L4752"></a>4752                     composedTextAttribute = <strong class="reserved">null</strong>;
<a id="L4753" name="L4753"></a>4753                     composedTextContent = <strong class="reserved">null</strong>;
<a id="L4754" name="L4754"></a>4754                 <em class="brace">}</em>
<a id="L4755" name="L4755"></a>4755             <em class="brace">}</em>
<a id="L4756" name="L4756"></a>4756 
<a id="L4757" name="L4757"></a>4757             <em class="comment">// Save the latest committed text information</em>
<a id="L4758" name="L4758"></a>4758             <strong class="reserved">if</strong> (committedTextStartIndex != committedTextEndIndex) <em class="brace">{</em>
<a id="L4759" name="L4759"></a>4759                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4760" name="L4760"></a>4760                     latestCommittedTextStart = doc.
<a id="L4761" name="L4761"></a>4761                         <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(committedTextStartIndex);
<a id="L4762" name="L4762"></a>4762                     latestCommittedTextEnd = doc.
<a id="L4763" name="L4763"></a>4763                         <a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(committedTextEndIndex);
<a id="L4764" name="L4764"></a>4764                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L4765" name="L4765"></a>4765                     latestCommittedTextStart =
<a id="L4766" name="L4766"></a>4766                         latestCommittedTextEnd = <strong class="reserved">null</strong>;
<a id="L4767" name="L4767"></a>4767                 <em class="brace">}</em>
<a id="L4768" name="L4768"></a>4768             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L4769" name="L4769"></a>4769                 latestCommittedTextStart =
<a id="L4770" name="L4770"></a>4770                     latestCommittedTextEnd = <strong class="reserved">null</strong>;
<a id="L4771" name="L4771"></a>4771             <em class="brace">}</em>
<a id="L4772" name="L4772"></a>4772         <em class="brace">}</em>
<a id="L4773" name="L4773"></a>4773     <em class="brace">}</em>
<a id="L4774" name="L4774"></a>4774 
<a id="L4775" name="L4775"></a>4775     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L4742" title="Referred from 4742 in src/javax/swing/text/JTextComponent.java.">createComposedTextAttribute</a>(<strong class="reserved">int</strong> composedIndex,
<a id="L4776" name="L4776"></a>4776                                         <a href="../S/2454.html#L79" title="Defined at 79 in src/java/text/AttributedCharacterIterator.java.">AttributedCharacterIterator</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>) <em class="brace">{</em>
<a id="L4777" name="L4777"></a>4777         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4778" name="L4778"></a>4778         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> strBuf = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L4779" name="L4779"></a>4779 
<a id="L4780" name="L4780"></a>4780         <em class="comment">// create attributed string with no attributes</em>
<a id="L4781" name="L4781"></a>4781         <strong class="reserved">for</strong> (<strong class="reserved">char</strong> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/32925.html" title="Multiple defined in 28 places.">setIndex</a>(composedIndex);
<a id="L4782" name="L4782"></a>4782              <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <a href="../D/1412.html" title="Multiple defined in 2 places.">CharacterIterator</a>.DONE; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>()) <em class="brace">{</em>
<a id="L4783" name="L4783"></a>4783             strBuf.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L4784" name="L4784"></a>4784         <em class="brace">}</em>
<a id="L4785" name="L4785"></a>4785 
<a id="L4786" name="L4786"></a>4786         composedTextContent = strBuf.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L4787" name="L4787"></a>4787         composedTextAttribute = <strong class="reserved">new</strong> <a href="../S/3236.html#L51" title="Defined at 51 in src/javax/swing/text/SimpleAttributeSet.java.">SimpleAttributeSet</a>();
<a id="L4788" name="L4788"></a>4788         composedTextAttribute.<a href="../D/10660.html" title="Multiple defined in 56 places.">addAttribute</a>(<a href="../S/3337.html#L49" title="Defined at 49 in src/javax/swing/text/StyleConstants.java.">StyleConstants</a>.ComposedTextAttribute,
<a id="L4789" name="L4789"></a>4789                 <strong class="reserved">new</strong> <a href="../S/2484.html#L50" title="Defined at 50 in src/java/text/AttributedString.java.">AttributedString</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, composedIndex, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/18768.html" title="Multiple defined in 8 places.">getEndIndex</a>()));
<a id="L4790" name="L4790"></a>4790     <em class="brace">}</em>
<a id="L4791" name="L4791"></a>4791 
<div class="comment">
      Saves composed text around the specified position.
      The composed text (if any) around the specified position is saved
      in a backing store and removed from the document.
      @param pos  document position to identify the composed text location
      @return  <code>true</code> if the composed text exists and is saved,
               <code>false</code> otherwise
      @see #restoreComposedText
      @since 1.7</div>
<a id="L4804" name="L4804"></a>4804     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/26591.html" title="Multiple referred from 4 places.">saveComposedText</a>(<strong class="reserved">int</strong> pos) <em class="brace">{</em>
<a id="L4805" name="L4805"></a>4805         <strong class="reserved">if</strong> (<a href="../S/3351.html#L4936" title="Defined at 4936 in src/javax/swing/text/JTextComponent.java.">composedTextExists</a>()) <em class="brace">{</em>
<a id="L4806" name="L4806"></a>4806             <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> = composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4807" name="L4807"></a>4807             <strong class="reserved">int</strong> len = composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() -
<a id="L4808" name="L4808"></a>4808                 composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4809" name="L4809"></a>4809             <strong class="reserved">if</strong> (pos &gt;= <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &amp;&amp; pos &lt;= <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + len) <em class="brace">{</em>
<a id="L4810" name="L4810"></a>4810                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4811" name="L4811"></a>4811                     <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, len);
<a id="L4812" name="L4812"></a>4812                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L4813" name="L4813"></a>4813                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L4814" name="L4814"></a>4814             <em class="brace">}</em>
<a id="L4815" name="L4815"></a>4815         <em class="brace">}</em>
<a id="L4816" name="L4816"></a>4816         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L4817" name="L4817"></a>4817     <em class="brace">}</em>
<a id="L4818" name="L4818"></a>4818 
<div class="comment">
      Restores composed text previously saved by <code>saveComposedText</code>.
      The saved composed text is inserted back into the document. This method
      should be invoked only if <code>saveComposedText</code> returns <code>true</code>.
      @see #saveComposedText
      @since 1.7</div>
<a id="L4828" name="L4828"></a>4828     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26423.html" title="Multiple referred from 4 places.">restoreComposedText</a>() <em class="brace">{</em>
<a id="L4829" name="L4829"></a>4829         <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4830" name="L4830"></a>4830         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4831" name="L4831"></a>4831             doc.<a href="../D/24774.html" title="Multiple defined in 12 places.">insertString</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>(),
<a id="L4832" name="L4832"></a>4832                              composedTextContent,
<a id="L4833" name="L4833"></a>4833                              composedTextAttribute);
<a id="L4834" name="L4834"></a>4834             composedTextStart = doc.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>() -
<a id="L4835" name="L4835"></a>4835                                 composedTextContent.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L4836" name="L4836"></a>4836             composedTextEnd = doc.<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>());
<a id="L4837" name="L4837"></a>4837         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L4838" name="L4838"></a>4838     <em class="brace">}</em>
<a id="L4839" name="L4839"></a>4839 
<a id="L4840" name="L4840"></a>4840     <em class="comment">//</em>
<a id="L4841" name="L4841"></a>4841     <em class="comment">// Map committed text to an ActionEvent. If the committed text length is 1,</em>
<a id="L4842" name="L4842"></a>4842     <em class="comment">// treat it as a KeyStroke, otherwise or there is no KeyStroke defined,</em>
<a id="L4843" name="L4843"></a>4843     <em class="comment">// treat it just as a default action.</em>
<a id="L4844" name="L4844"></a>4844     <em class="comment">//</em>
<a id="L4845" name="L4845"></a>4845     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L4732" title="Referred from 4732 in src/javax/swing/text/JTextComponent.java.">mapCommittedTextToAction</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> committedText) <em class="brace">{</em>
<a id="L4846" name="L4846"></a>4846         <a href="../S/3362.html#L37" title="Defined at 37 in src/javax/swing/text/Keymap.java.">Keymap</a> binding = <a href="../D/19962.html" title="Multiple defined in 2 places.">getKeymap</a>();
<a id="L4847" name="L4847"></a>4847         <strong class="reserved">if</strong> (binding != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4848" name="L4848"></a>4848             <a href="../D/306.html" title="Multiple defined in 5 places.">Action</a> <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = <strong class="reserved">null</strong>;
<a id="L4849" name="L4849"></a>4849             <strong class="reserved">if</strong> (committedText.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 1) <em class="brace">{</em>
<a id="L4850" name="L4850"></a>4850                 <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a> k = <a href="../S/3133.html#L64" title="Defined at 64 in src/javax/swing/KeyStroke.java.">KeyStroke</a>.<a href="../D/19953.html" title="Multiple defined in 6 places.">getKeyStroke</a>(committedText.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0));
<a id="L4851" name="L4851"></a>4851                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = binding.<a href="../D/16782.html" title="Multiple defined in 10 places.">getAction</a>(k);
<a id="L4852" name="L4852"></a>4852             <em class="brace">}</em>
<a id="L4853" name="L4853"></a>4853 
<a id="L4854" name="L4854"></a>4854             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4855" name="L4855"></a>4855                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> = binding.<a href="../D/18275.html" title="Multiple defined in 4 places.">getDefaultAction</a>();
<a id="L4856" name="L4856"></a>4856             <em class="brace">}</em>
<a id="L4857" name="L4857"></a>4857 
<a id="L4858" name="L4858"></a>4858             <strong class="reserved">if</strong> (<a href="../D/10513.html" title="Multiple defined in 3 places.">a</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4859" name="L4859"></a>4859                 <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a> ae =
<a id="L4860" name="L4860"></a>4860                     <strong class="reserved">new</strong> <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>(<strong class="reserved">this</strong>, <a href="../S/2432.html#L60" title="Defined at 60 in src/java/awt/event/ActionEvent.java.">ActionEvent</a>.ACTION_PERFORMED,
<a id="L4861" name="L4861"></a>4861                                     committedText,
<a id="L4862" name="L4862"></a>4862                                     <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../S/2178.html#L803" title="Defined at 803 in src/java/awt/EventQueue.java.">getMostRecentEventTime</a>(),
<a id="L4863" name="L4863"></a>4863                                     <a href="../S/3351.html#L4022" title="Defined at 4022 in src/javax/swing/text/JTextComponent.java.">getCurrentEventModifiers</a>());
<a id="L4864" name="L4864"></a>4864                 <a href="../D/10513.html" title="Multiple defined in 3 places.">a</a>.<a href="../D/10592.html" title="Multiple defined in 159 places.">actionPerformed</a>(ae);
<a id="L4865" name="L4865"></a>4865             <em class="brace">}</em>
<a id="L4866" name="L4866"></a>4866         <em class="brace">}</em>
<a id="L4867" name="L4867"></a>4867     <em class="brace">}</em>
<a id="L4868" name="L4868"></a>4868 
<a id="L4869" name="L4869"></a>4869     <em class="comment">//</em>
<a id="L4870" name="L4870"></a>4870     <em class="comment">// Sets the caret position according to the passed input method</em>
<a id="L4871" name="L4871"></a>4871     <em class="comment">// event. Also, sets/resets composed text caret appropriately.</em>
<a id="L4872" name="L4872"></a>4872     <em class="comment">//</em>
<a id="L4873" name="L4873"></a>4873     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/3351.html#L4488" title="Referred from 4488 in src/javax/swing/text/JTextComponent.java.">setInputMethodCaretPosition</a>(<a href="../S/2405.html#L63" title="Defined at 63 in src/java/awt/event/InputMethodEvent.java.">InputMethodEvent</a> e) <em class="brace">{</em>
<a id="L4874" name="L4874"></a>4874         <strong class="reserved">int</strong> dot;
<a id="L4875" name="L4875"></a>4875 
<a id="L4876" name="L4876"></a>4876         <strong class="reserved">if</strong> (<a href="../S/3351.html#L4936" title="Defined at 4936 in src/javax/swing/text/JTextComponent.java.">composedTextExists</a>()) <em class="brace">{</em>
<a id="L4877" name="L4877"></a>4877             dot = composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4878" name="L4878"></a>4878             <strong class="reserved">if</strong> (!(caret <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L4943" title="Defined at 4943 in src/javax/swing/text/JTextComponent.java.">ComposedTextCaret</a>)) <em class="brace">{</em>
<a id="L4879" name="L4879"></a>4879                 <strong class="reserved">if</strong> (composedTextCaret == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4880" name="L4880"></a>4880                     composedTextCaret = <strong class="reserved">new</strong> <a href="../S/3351.html#L4943" title="Defined at 4943 in src/javax/swing/text/JTextComponent.java.">ComposedTextCaret</a>();
<a id="L4881" name="L4881"></a>4881                 <em class="brace">}</em>
<a id="L4882" name="L4882"></a>4882                 originalCaret = caret;
<a id="L4883" name="L4883"></a>4883                 <em class="comment">// Sets composed text caret</em>
<a id="L4884" name="L4884"></a>4884                 <a href="../S/3351.html#L4912" title="Defined at 4912 in src/javax/swing/text/JTextComponent.java.">exchangeCaret</a>(originalCaret, composedTextCaret);
<a id="L4885" name="L4885"></a>4885             <em class="brace">}</em>
<a id="L4886" name="L4886"></a>4886 
<a id="L4887" name="L4887"></a>4887             <a href="../S/2364.html#L88" title="Defined at 88 in src/java/awt/font/TextHitInfo.java.">TextHitInfo</a> caretPos = e.<a href="../D/17495.html" title="Multiple defined in 4 places.">getCaret</a>();
<a id="L4888" name="L4888"></a>4888             <strong class="reserved">if</strong> (caretPos != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4889" name="L4889"></a>4889                 <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = caretPos.<a href="../S/2364.html#L127" title="Defined at 127 in src/java/awt/font/TextHitInfo.java.">getInsertionIndex</a>();
<a id="L4890" name="L4890"></a>4890                 dot += <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L4891" name="L4891"></a>4891                 <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == 0) <em class="brace">{</em>
<a id="L4892" name="L4892"></a>4892                     <em class="comment">// Scroll the component if needed so that the composed text</em>
<a id="L4893" name="L4893"></a>4893                     <em class="comment">// becomes visible.</em>
<a id="L4894" name="L4894"></a>4894                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4895" name="L4895"></a>4895                         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> d = <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(dot);
<a id="L4896" name="L4896"></a>4896                         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L4897" name="L4897"></a>4897                         <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> b = <a href="../D/17335.html" title="Multiple defined in 41 places.">getBounds</a>();
<a id="L4898" name="L4898"></a>4898                         d.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> += <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> - d.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, b.<a href="../D/36863.html" title="Multiple defined in 3 places.">width</a>);
<a id="L4899" name="L4899"></a>4899                         <a href="../D/31645.html" title="Multiple defined in 3 places.">scrollRectToVisible</a>(d);
<a id="L4900" name="L4900"></a>4900                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em><em class="brace">}</em>
<a id="L4901" name="L4901"></a>4901                 <em class="brace">}</em>
<a id="L4902" name="L4902"></a>4902             <em class="brace">}</em>
<a id="L4903" name="L4903"></a>4903             caret.<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(dot);
<a id="L4904" name="L4904"></a>4904         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (caret <strong class="reserved">instanceof</strong> <a href="../S/3351.html#L4943" title="Defined at 4943 in src/javax/swing/text/JTextComponent.java.">ComposedTextCaret</a>) <em class="brace">{</em>
<a id="L4905" name="L4905"></a>4905             dot = caret.<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>();
<a id="L4906" name="L4906"></a>4906             <em class="comment">// Restores original caret</em>
<a id="L4907" name="L4907"></a>4907             <a href="../S/3351.html#L4912" title="Defined at 4912 in src/javax/swing/text/JTextComponent.java.">exchangeCaret</a>(caret, originalCaret);
<a id="L4908" name="L4908"></a>4908             caret.<a href="../D/32508.html" title="Multiple defined in 8 places.">setDot</a>(dot);
<a id="L4909" name="L4909"></a>4909         <em class="brace">}</em>
<a id="L4910" name="L4910"></a>4910     <em class="brace">}</em>
<a id="L4911" name="L4911"></a>4911 
<a id="L4912" name="L4912"></a>4912     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/14084.html" title="Multiple referred from 2 places.">exchangeCaret</a>(<a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> oldCaret, <a href="../D/1302.html" title="Multiple defined in 2 places.">Caret</a> newCaret) <em class="brace">{</em>
<a id="L4913" name="L4913"></a>4913         <strong class="reserved">int</strong> blinkRate = oldCaret.<a href="../D/17270.html" title="Multiple defined in 2 places.">getBlinkRate</a>();
<a id="L4914" name="L4914"></a>4914         <a href="../S/3351.html#L581" title="Defined at 581 in src/javax/swing/text/JTextComponent.java.">setCaret</a>(newCaret);
<a id="L4915" name="L4915"></a>4915         caret.<a href="../D/32003.html" title="Multiple defined in 2 places.">setBlinkRate</a>(blinkRate);
<a id="L4916" name="L4916"></a>4916         caret.<a href="../D/34303.html" title="Multiple defined in 23 places.">setVisible</a>(<a href="../S/2177.html#L8034" title="Defined at 8034 in src/java/awt/Component.java.">hasFocus</a>());
<a id="L4917" name="L4917"></a>4917     <em class="brace">}</em>
<a id="L4918" name="L4918"></a>4918 
<div class="comment">
      Returns true if KeyEvents should be synthesized from an InputEvent.</div>
<a id="L4922" name="L4922"></a>4922     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/3351.html#L4716" title="Referred from 4716 in src/javax/swing/text/JTextComponent.java.">shouldSynthensizeKeyEvents</a>() <em class="brace">{</em>
<a id="L4923" name="L4923"></a>4923         <strong class="reserved">if</strong> (!checkedInputOverride) <em class="brace">{</em>
<a id="L4924" name="L4924"></a>4924             <em class="comment">// Checks whether the client code overrides processInputMethodEvent.</em>
<a id="L4925" name="L4925"></a>4925             <em class="comment">// If it is overridden, need not to generate KeyTyped events for committed text.</em>
<a id="L4926" name="L4926"></a>4926             <em class="comment">// If it's not, behave as an passive input method client.</em>
<a id="L4927" name="L4927"></a>4927             needToSendKeyTypedEvent = !METHOD_OVERRIDDEN.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>());
<a id="L4928" name="L4928"></a>4928             checkedInputOverride = <strong class="reserved">true</strong>;
<a id="L4929" name="L4929"></a>4929         <em class="brace">}</em>
<a id="L4930" name="L4930"></a>4930         <strong class="reserved">return</strong> needToSendKeyTypedEvent;
<a id="L4931" name="L4931"></a>4931     <em class="brace">}</em>
<a id="L4932" name="L4932"></a>4932 
<a id="L4933" name="L4933"></a>4933     <em class="comment">//</em>
<a id="L4934" name="L4934"></a>4934     <em class="comment">// Checks whether a composed text in this text component</em>
<a id="L4935" name="L4935"></a>4935     <em class="comment">//</em>
<a id="L4936" name="L4936"></a>4936     <strong class="reserved">boolean</strong> <a href="../R/11805.html" title="Multiple referred from 15 places.">composedTextExists</a>() <em class="brace">{</em>
<a id="L4937" name="L4937"></a>4937         <strong class="reserved">return</strong> (composedTextStart != <strong class="reserved">null</strong>);
<a id="L4938" name="L4938"></a>4938     <em class="brace">}</em>
<a id="L4939" name="L4939"></a>4939 
<a id="L4940" name="L4940"></a>4940     <em class="comment">//</em>
<a id="L4941" name="L4941"></a>4941     <em class="comment">// Caret implementation for editing the composed text.</em>
<a id="L4942" name="L4942"></a>4942     <em class="comment">//</em>
<a id="L4943" name="L4943"></a>4943     <strong class="reserved">class</strong> <a href="../R/1594.html" title="Multiple referred from 4 places.">ComposedTextCaret</a> <strong class="reserved">extends</strong> <a href="../S/3356.html#L108" title="Defined at 108 in src/javax/swing/text/DefaultCaret.java.">DefaultCaret</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L4944" name="L4944"></a>4944         <a href="../S/2447.html#L60" title="Defined at 60 in src/java/awt/Color.java.">Color</a> bg;
<a id="L4945" name="L4945"></a>4945 
<a id="L4946" name="L4946"></a>4946         <em class="comment">//</em>
<a id="L4947" name="L4947"></a>4947         <em class="comment">// Get the background color of the component</em>
<a id="L4948" name="L4948"></a>4948         <em class="comment">//</em>
<a id="L4949" name="L4949"></a>4949         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20832.html" title="Multiple referred from 32 places.">install</a>(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L4950" name="L4950"></a>4950             <strong class="reserved">super</strong>.<a href="../D/24817.html" title="Multiple defined in 32 places.">install</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L4951" name="L4951"></a>4951 
<a id="L4952" name="L4952"></a>4952             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>();
<a id="L4953" name="L4953"></a>4953             <strong class="reserved">if</strong> (doc <strong class="reserved">instanceof</strong> <a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a>) <em class="brace">{</em>
<a id="L4954" name="L4954"></a>4954                 <a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a> sDoc = (<a href="../S/3252.html#L35" title="Defined at 35 in src/javax/swing/text/StyledDocument.java.">StyledDocument</a>)doc;
<a id="L4955" name="L4955"></a>4955                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = sDoc.<a href="../D/17608.html" title="Multiple defined in 2 places.">getCharacterElement</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L4956" name="L4956"></a>4956                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L4957" name="L4957"></a>4957                 bg = sDoc.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>);
<a id="L4958" name="L4958"></a>4958             <em class="brace">}</em>
<a id="L4959" name="L4959"></a>4959 
<a id="L4960" name="L4960"></a>4960             <strong class="reserved">if</strong> (bg == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L4961" name="L4961"></a>4961                 bg = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/17172.html" title="Multiple defined in 24 places.">getBackground</a>();
<a id="L4962" name="L4962"></a>4962             <em class="brace">}</em>
<a id="L4963" name="L4963"></a>4963         <em class="brace">}</em>
<a id="L4964" name="L4964"></a>4964 
<a id="L4965" name="L4965"></a>4965         <em class="comment">//</em>
<a id="L4966" name="L4966"></a>4966         <em class="comment">// Draw caret in XOR mode.</em>
<a id="L4967" name="L4967"></a>4967         <em class="comment">//</em>
<a id="L4968" name="L4968"></a>4968         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/24094.html" title="Multiple referred from 414 places.">paint</a>(<a href="../S/2313.html#L104" title="Defined at 104 in src/java/awt/Graphics.java.">Graphics</a> g) <em class="brace">{</em>
<a id="L4969" name="L4969"></a>4969             <strong class="reserved">if</strong>(<a href="../D/26487.html" title="Multiple defined in 29 places.">isVisible</a>()) <em class="brace">{</em>
<a id="L4970" name="L4970"></a>4970                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4971" name="L4971"></a>4971                     <a href="../S/2314.html#L119" title="Defined at 119 in src/java/awt/Rectangle.java.">Rectangle</a> r = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>.<a href="../D/27746.html" title="Multiple defined in 34 places.">modelToView</a>(<a href="../D/18581.html" title="Multiple defined in 4 places.">getDot</a>());
<a id="L4972" name="L4972"></a>4972                     g.<a href="../D/34353.html" title="Multiple defined in 2 places.">setXORMode</a>(bg);
<a id="L4973" name="L4973"></a>4973                     g.<a href="../D/15201.html" title="Multiple defined in 7 places.">drawLine</a>(r.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, r.y, r.<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a>, r.y + r.<a href="../S/3196.html#L677" title="Defined at 677 in src/javax/swing/Spring.java.">height</a> - 1);
<a id="L4974" name="L4974"></a>4974                     g.<a href="../D/33494.html" title="Multiple defined in 2 places.">setPaintMode</a>();
<a id="L4975" name="L4975"></a>4975                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> e) <em class="brace">{</em>
<a id="L4976" name="L4976"></a>4976                     <em class="comment">// can't render I guess</em>
<a id="L4977" name="L4977"></a>4977                     <em class="comment">//System.err.println("Can't render cursor");</em>
<a id="L4978" name="L4978"></a>4978                 <em class="brace">}</em>
<a id="L4979" name="L4979"></a>4979             <em class="brace">}</em>
<a id="L4980" name="L4980"></a>4980         <em class="brace">}</em>
<a id="L4981" name="L4981"></a>4981 
<a id="L4982" name="L4982"></a>4982         <em class="comment">//</em>
<a id="L4983" name="L4983"></a>4983         <em class="comment">// If some area other than the composed text is clicked by mouse,</em>
<a id="L4984" name="L4984"></a>4984         <em class="comment">// issue endComposition() to force commit the composed text.</em>
<a id="L4985" name="L4985"></a>4985         <em class="comment">//</em>
<a id="L4986" name="L4986"></a>4986         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24842.html" title="Multiple referred from 2 places.">positionCaret</a>(<a href="../D/5776.html" title="Multiple defined in 2 places.">MouseEvent</a> me) <em class="brace">{</em>
<a id="L4987" name="L4987"></a>4987             <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> host = <a href="../S/6658.html#L277" title="Defined at 277 in src/com/sun/java/swing/plaf/motif/MotifBorders.java.">component</a>;
<a id="L4988" name="L4988"></a>4988             <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> pt = <strong class="reserved">new</strong> <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a>(me.<a href="../D/23738.html" title="Multiple defined in 24 places.">getX</a>(), me.<a href="../D/23797.html" title="Multiple defined in 24 places.">getY</a>());
<a id="L4989" name="L4989"></a>4989             <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = host.<a href="../D/36416.html" title="Multiple defined in 28 places.">viewToModel</a>(pt);
<a id="L4990" name="L4990"></a>4990             <strong class="reserved">int</strong> composedStartIndex = host.composedTextStart.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>();
<a id="L4991" name="L4991"></a>4991             <strong class="reserved">if</strong> ((<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; composedStartIndex) ||
<a id="L4992" name="L4992"></a>4992                 (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; composedTextEnd.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>())) <em class="brace">{</em>
<a id="L4993" name="L4993"></a>4993                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L4994" name="L4994"></a>4994                     <em class="comment">// Issue endComposition</em>
<a id="L4995" name="L4995"></a>4995                     <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> newPos = host.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>().<a href="../D/14122.html" title="Multiple defined in 5 places.">createPosition</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L4996" name="L4996"></a>4996                     host.<a href="../D/19730.html" title="Multiple defined in 2 places.">getInputContext</a>().<a href="../D/15438.html" title="Multiple defined in 2 places.">endComposition</a>();
<a id="L4997" name="L4997"></a>4997 
<a id="L4998" name="L4998"></a>4998                     <em class="comment">// Post a caret positioning runnable to assure that the positioning</em>
<a id="L4999" name="L4999"></a>4999                     <em class="comment">// occurs *after* committing the composed text.</em>
<a id="L5000" name="L5000"></a>5000                     <a href="../S/2178.html#L97" title="Defined at 97 in src/java/awt/EventQueue.java.">EventQueue</a>.<a href="../D/25068.html" title="Multiple defined in 2 places.">invokeLater</a>(<strong class="reserved">new</strong> <a href="../S/3351.html#L5014" title="Defined at 5014 in src/javax/swing/text/JTextComponent.java.">DoSetCaretPosition</a>(host, newPos));
<a id="L5001" name="L5001"></a>5001                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3359.html#L43" title="Defined at 43 in src/javax/swing/text/BadLocationException.java.">BadLocationException</a> ble) <em class="brace">{</em>
<a id="L5002" name="L5002"></a>5002                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.err.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(ble);
<a id="L5003" name="L5003"></a>5003                 <em class="brace">}</em>
<a id="L5004" name="L5004"></a>5004             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L5005" name="L5005"></a>5005                 <em class="comment">// Normal processing</em>
<a id="L5006" name="L5006"></a>5006                 <strong class="reserved">super</strong>.<a href="../D/29465.html" title="Multiple defined in 2 places.">positionCaret</a>(me);
<a id="L5007" name="L5007"></a>5007             <em class="brace">}</em>
<a id="L5008" name="L5008"></a>5008         <em class="brace">}</em>
<a id="L5009" name="L5009"></a>5009     <em class="brace">}</em>
<a id="L5010" name="L5010"></a>5010 
<a id="L5011" name="L5011"></a>5011     <em class="comment">//</em>
<a id="L5012" name="L5012"></a>5012     <em class="comment">// Runnable class for invokeLater() to set caret position later.</em>
<a id="L5013" name="L5013"></a>5013     <em class="comment">//</em>
<a id="L5014" name="L5014"></a>5014     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../S/3351.html#L5000" title="Referred from 5000 in src/javax/swing/text/JTextComponent.java.">DoSetCaretPosition</a> <strong class="reserved">implements</strong> <a href="../S/1758.html#L56" title="Defined at 56 in src/java/lang/Runnable.java.">Runnable</a> <em class="brace">{</em>
<a id="L5015" name="L5015"></a>5015         <a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> host;
<a id="L5016" name="L5016"></a>5016         <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> newPos;
<a id="L5017" name="L5017"></a>5017 
<a id="L5018" name="L5018"></a>5018         DoSetCaretPosition(<a href="../S/3351.html#L293" title="Defined at 293 in src/javax/swing/text/JTextComponent.java.">JTextComponent</a> host, <a href="../S/3329.html#L49" title="Defined at 49 in src/javax/swing/text/Position.java.">Position</a> newPos) <em class="brace">{</em>
<a id="L5019" name="L5019"></a>5019             <strong class="reserved">this</strong>.host = host;
<a id="L5020" name="L5020"></a>5020             <strong class="reserved">this</strong>.newPos = newPos;
<a id="L5021" name="L5021"></a>5021         <em class="brace">}</em>
<a id="L5022" name="L5022"></a>5022 
<a id="L5023" name="L5023"></a>5023         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26539.html" title="Multiple referred from 715 places.">run</a>() <em class="brace">{</em>
<a id="L5024" name="L5024"></a>5024             host.<a href="../D/32097.html" title="Multiple defined in 3 places.">setCaretPosition</a>(newPos.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>());
<a id="L5025" name="L5025"></a>5025         <em class="brace">}</em>
<a id="L5026" name="L5026"></a>5026     <em class="brace">}</em>
<a id="L5027" name="L5027"></a>5027 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L320">[^]</a><a href="#L5023">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>