<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xpath/internal/jaxp/XPathExpressionImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L103">[^]</a><a href="#L348">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L103" title="Defined at 103.">setXPath</a></li>
<li><a href="#L107" title="Defined at 107.">eval</a></li>
<li><a href="#L113" title="Defined at 113.">eval</a></li>
<li><a href="#L172" title="Defined at 172.">evaluate</a></li>
<li><a href="#L234" title="Defined at 234.">evaluate</a></li>
<li><a href="#L279" title="Defined at 279.">evaluate</a></li>
<li><a href="#L330" title="Defined at 330.">evaluate</a></li>
<li><a href="#L335" title="Defined at 335.">isSupported</a></li>
<li><a href="#L348" title="Defined at 348.">getResultAsType</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 <em class="comment">// $Id: XPathExpressionImpl.java,v 1.3 2005/09/27 09:40:43 sunithareddy Exp $</em>
<a id="L21" name="L21"></a>  21 
<a id="L22" name="L22"></a>  22 <strong class="reserved">package</strong> com.sun.org.apache.xpath.internal.jaxp;
<a id="L23" name="L23"></a>  23 
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> com.sun.org.apache.xpath.internal.*;
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> javax.xml.transform.TransformerException;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xpath.internal.objects.XObject;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.dtm.DTM;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.utils.PrefixResolver;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xpath.internal.res.XPATHErrorResources;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.res.XSLMessages;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.FactoryImpl;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xalan.internal.utils.FeatureManager;
<a id="L34" name="L34"></a>  34 
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> javax.xml.namespace.NamespaceContext;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> javax.xml.namespace.QName;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> javax.xml.xpath.XPathExpressionException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> javax.xml.xpath.XPathConstants;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> javax.xml.xpath.XPathFunctionResolver;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> javax.xml.xpath.XPathVariableResolver;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> javax.xml.xpath.XPathConstants;
<a id="L42" name="L42"></a>  42 
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> org.w3c.dom.DOMImplementation;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> org.w3c.dom.traversal.NodeIterator;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> javax.xml.parsers.DocumentBuilderFactory;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> javax.xml.parsers.DocumentBuilder;
<a id="L49" name="L49"></a>  49 
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> org.xml.sax.InputSource;
<a id="L51" name="L51"></a>  51 
<div class="comment">
  The XPathExpression interface encapsulates a (compiled) XPath expression.
  @version $Revision: 1.10 $
  @author  Ramesh Mandava</div>
<a id="L58" name="L58"></a>  58 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/9126.html" title="Multiple referred from 2 places.">XPathExpressionImpl</a>  <strong class="reserved">implements</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.xpath.<a href="../D/10083.html" title="Multiple defined in 2 places.">XPathExpression</a><em class="brace">{</em>
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60     <strong class="reserved">private</strong> <a href="../S/3863.html#L52" title="Defined at 52 in src/javax/xml/xpath/XPathFunctionResolver.java.">XPathFunctionResolver</a> functionResolver;
<a id="L61" name="L61"></a>  61     <strong class="reserved">private</strong> <a href="../S/3864.html#L44" title="Defined at 44 in src/javax/xml/xpath/XPathVariableResolver.java.">XPathVariableResolver</a> variableResolver;
<a id="L62" name="L62"></a>  62     <strong class="reserved">private</strong> <a href="../S/4937.html#L37" title="Defined at 37 in src/com/sun/org/apache/xpath/internal/jaxp/JAXPPrefixResolver.java.">JAXPPrefixResolver</a> prefixResolver;
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> com.sun.org.apache.xpath.internal.<a href="../D/10071.html" title="Multiple defined in 5 places.">XPath</a> xpath;
<a id="L64" name="L64"></a>  64 
<a id="L65" name="L65"></a>  65     <em class="comment">// By default Extension Functions are allowed in XPath Expressions. If</em>
<a id="L66" name="L66"></a>  66     <em class="comment">// Secure Processing Feature is set on XPathFactory then the invocation of</em>
<a id="L67" name="L67"></a>  67     <em class="comment">// extensions function need to throw XPathFunctionException</em>
<a id="L68" name="L68"></a>  68     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> featureSecureProcessing = <strong class="reserved">false</strong>;
<a id="L69" name="L69"></a>  69 
<a id="L70" name="L70"></a>  70     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a> = <strong class="reserved">true</strong>;
<a id="L71" name="L71"></a>  71 
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/6249.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">FeatureManager</a> featureManager;
<a id="L73" name="L73"></a>  73 
<div class="comment">
 Protected constructor to prevent direct instantiation; use compile()
      from the context.</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">protected</strong> XPathExpressionImpl() <em class="brace">{</em>
<a id="L78" name="L78"></a>  78         <strong class="reserved">this</strong>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>, <strong class="reserved">null</strong>,
<a id="L79" name="L79"></a>  79              <strong class="reserved">false</strong>, <strong class="reserved">true</strong>, <strong class="reserved">new</strong> <a href="../S/6249.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">FeatureManager</a>());
<a id="L80" name="L80"></a>  80     <em class="brace">}</em>;
<a id="L81" name="L81"></a>  81 
<a id="L82" name="L82"></a>  82     <strong class="reserved">protected</strong> XPathExpressionImpl(com.sun.org.apache.xpath.internal.<a href="../D/10071.html" title="Multiple defined in 5 places.">XPath</a> xpath,
<a id="L83" name="L83"></a>  83             <a href="../S/4937.html#L37" title="Defined at 37 in src/com/sun/org/apache/xpath/internal/jaxp/JAXPPrefixResolver.java.">JAXPPrefixResolver</a> prefixResolver,
<a id="L84" name="L84"></a>  84             <a href="../S/3863.html#L52" title="Defined at 52 in src/javax/xml/xpath/XPathFunctionResolver.java.">XPathFunctionResolver</a> functionResolver,
<a id="L85" name="L85"></a>  85             <a href="../S/3864.html#L44" title="Defined at 44 in src/javax/xml/xpath/XPathVariableResolver.java.">XPathVariableResolver</a> variableResolver ) <em class="brace">{</em>
<a id="L86" name="L86"></a>  86         <strong class="reserved">this</strong>(xpath, prefixResolver, functionResolver, variableResolver,
<a id="L87" name="L87"></a>  87              <strong class="reserved">false</strong>, <strong class="reserved">true</strong>, <strong class="reserved">new</strong> <a href="../S/6249.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">FeatureManager</a>());
<a id="L88" name="L88"></a>  88     <em class="brace">}</em>;
<a id="L89" name="L89"></a>  89 
<a id="L90" name="L90"></a>  90     <strong class="reserved">protected</strong> XPathExpressionImpl(com.sun.org.apache.xpath.internal.<a href="../D/10071.html" title="Multiple defined in 5 places.">XPath</a> xpath,
<a id="L91" name="L91"></a>  91             <a href="../S/4937.html#L37" title="Defined at 37 in src/com/sun/org/apache/xpath/internal/jaxp/JAXPPrefixResolver.java.">JAXPPrefixResolver</a> prefixResolver,<a href="../S/3863.html#L52" title="Defined at 52 in src/javax/xml/xpath/XPathFunctionResolver.java.">XPathFunctionResolver</a> functionResolver,
<a id="L92" name="L92"></a>  92             <a href="../S/3864.html#L44" title="Defined at 44 in src/javax/xml/xpath/XPathVariableResolver.java.">XPathVariableResolver</a> variableResolver, <strong class="reserved">boolean</strong> featureSecureProcessing,
<a id="L93" name="L93"></a>  93             <strong class="reserved">boolean</strong> <a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>, <a href="../S/6249.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FeatureManager.java.">FeatureManager</a> featureManager ) <em class="brace">{</em>
<a id="L94" name="L94"></a>  94         <strong class="reserved">this</strong>.xpath = xpath;
<a id="L95" name="L95"></a>  95         <strong class="reserved">this</strong>.prefixResolver = prefixResolver;
<a id="L96" name="L96"></a>  96         <strong class="reserved">this</strong>.functionResolver = functionResolver;
<a id="L97" name="L97"></a>  97         <strong class="reserved">this</strong>.variableResolver = variableResolver;
<a id="L98" name="L98"></a>  98         <strong class="reserved">this</strong>.featureSecureProcessing = featureSecureProcessing;
<a id="L99" name="L99"></a>  99         <strong class="reserved">this</strong>.<a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a> = <a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>;
<a id="L100" name="L100"></a> 100         <strong class="reserved">this</strong>.featureManager = featureManager;
<a id="L101" name="L101"></a> 101     <em class="brace">}</em>;
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setXPath (com.sun.org.apache.xpath.internal.<a href="../D/10071.html" title="Multiple defined in 5 places.">XPath</a> xpath ) <em class="brace">{</em>
<a id="L104" name="L104"></a> 104         <strong class="reserved">this</strong>.xpath = xpath;
<a id="L105" name="L105"></a> 105     <em class="brace">}</em>
<a id="L106" name="L106"></a> 106 
<a id="L107" name="L107"></a> 107     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/14047.html" title="Multiple referred from 19 places.">eval</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>, <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>)
<a id="L108" name="L108"></a> 108             <strong class="reserved">throws</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>.<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> <em class="brace">{</em>
<a id="L109" name="L109"></a> 109         <a href="../S/4899.html#L50" title="Defined at 50 in src/com/sun/org/apache/xpath/internal/objects/XObject.java.">XObject</a> resultObject = <a href="../D/15744.html" title="Multiple defined in 23 places.">eval</a> ( <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> );
<a id="L110" name="L110"></a> 110         <strong class="reserved">return</strong> <a href="../D/22066.html" title="Multiple defined in 2 places.">getResultAsType</a>( resultObject, <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> );
<a id="L111" name="L111"></a> 111     <em class="brace">}</em>
<a id="L112" name="L112"></a> 112 
<a id="L113" name="L113"></a> 113     <strong class="reserved">private</strong> <a href="../S/4899.html#L50" title="Defined at 50 in src/com/sun/org/apache/xpath/internal/objects/XObject.java.">XObject</a> <a href="../R/14047.html" title="Multiple referred from 19 places.">eval</a> ( <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> contextItem )
<a id="L114" name="L114"></a> 114             <strong class="reserved">throws</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>.<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> <em class="brace">{</em>
<a id="L115" name="L115"></a> 115         com.sun.org.apache.xpath.internal.<a href="../S/4946.html#L61" title="Defined at 61 in src/com/sun/org/apache/xpath/internal/XPathContext.java.">XPathContext</a> xpathSupport = <strong class="reserved">null</strong>;
<a id="L116" name="L116"></a> 116         <strong class="reserved">if</strong> ( functionResolver != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L117" name="L117"></a> 117             <a href="../S/4938.html#L47" title="Defined at 47 in src/com/sun/org/apache/xpath/internal/jaxp/JAXPExtensionsProvider.java.">JAXPExtensionsProvider</a> jep = <strong class="reserved">new</strong> <a href="../S/4938.html#L47" title="Defined at 47 in src/com/sun/org/apache/xpath/internal/jaxp/JAXPExtensionsProvider.java.">JAXPExtensionsProvider</a>(
<a id="L118" name="L118"></a> 118                     functionResolver, featureSecureProcessing, featureManager );
<a id="L119" name="L119"></a> 119             xpathSupport = <strong class="reserved">new</strong> com.sun.org.apache.xpath.internal.<a href="../S/4946.html#L61" title="Defined at 61 in src/com/sun/org/apache/xpath/internal/XPathContext.java.">XPathContext</a>( jep );
<a id="L120" name="L120"></a> 120         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L121" name="L121"></a> 121             xpathSupport = <strong class="reserved">new</strong> com.sun.org.apache.xpath.internal.<a href="../S/4946.html#L61" title="Defined at 61 in src/com/sun/org/apache/xpath/internal/XPathContext.java.">XPathContext</a>();
<a id="L122" name="L122"></a> 122         <em class="brace">}</em>
<a id="L123" name="L123"></a> 123 
<a id="L124" name="L124"></a> 124         xpathSupport.<a href="../S/4946.html#L478" title="Defined at 478 in src/com/sun/org/apache/xpath/internal/XPathContext.java.">setVarStack</a>(<strong class="reserved">new</strong> <a href="../S/4940.html#L42" title="Defined at 42 in src/com/sun/org/apache/xpath/internal/jaxp/JAXPVariableStack.java.">JAXPVariableStack</a>(variableResolver));
<a id="L125" name="L125"></a> 125         <a href="../S/4899.html#L50" title="Defined at 50 in src/com/sun/org/apache/xpath/internal/objects/XObject.java.">XObject</a> xobj = <strong class="reserved">null</strong>;
<a id="L126" name="L126"></a> 126 
<a id="L127" name="L127"></a> 127         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> contextNode = (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>)contextItem;
<a id="L128" name="L128"></a> 128         <em class="comment">// We always need to have a ContextNode with Xalan XPath implementation</em>
<a id="L129" name="L129"></a> 129         <em class="comment">// To allow simple expression evaluation like 1+1 we are setting</em>
<a id="L130" name="L130"></a> 130         <em class="comment">// dummy Document as Context Node</em>
<a id="L131" name="L131"></a> 131 
<a id="L132" name="L132"></a> 132         <strong class="reserved">if</strong> ( contextNode == <strong class="reserved">null</strong> )
<a id="L133" name="L133"></a> 133             xobj = xpath.<a href="../D/15800.html" title="Multiple defined in 82 places.">execute</a>(xpathSupport, <a href="../S/5924.html#L80" title="Defined at 80 in src/com/sun/org/apache/xml/internal/dtm/DTM.java.">DTM</a>.<a href="../S/2603.html#L115" title="Defined at 115 in src/java/sql/JDBCType.java.">NULL</a>, prefixResolver);
<a id="L134" name="L134"></a> 134         <strong class="reserved">else</strong>
<a id="L135" name="L135"></a> 135             xobj = xpath.<a href="../D/15800.html" title="Multiple defined in 82 places.">execute</a>(xpathSupport, contextNode, prefixResolver);
<a id="L136" name="L136"></a> 136 
<a id="L137" name="L137"></a> 137         <strong class="reserved">return</strong> xobj;
<a id="L138" name="L138"></a> 138     <em class="brace">}</em>
<a id="L139" name="L139"></a> 139 
<a id="L140" name="L140"></a> 140 
<div class="comment">
      <p>Evaluate the compiled XPath expression in the specified context and
       return the result as the specified type.</p>
      <p>See "Evaluation of XPath Expressions" section of JAXP 1.3 spec
      for context item evaluation,
      variable, function and QName resolution and return type conversion.</p>
      <p>If <code>returnType</code> is not one of the types defined
      in <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>,
      then an <code>IllegalArgumentException</code> is thrown.</p>
      <p>If a <code>null</code> value is provided for
      <code>item</code>, an empty document will be used for the
      context.
      If <code>returnType</code> is <code>null</code>, then a
      <code>NullPointerException</code> is thrown.</p>
      @param item The starting context (node or node list, for example).
      @param returnType The desired return type.
      @return The <code>Object</code> that is the result of evaluating the
      expression and converting the result to
        <code>returnType</code>.
      @throws XPathExpressionException If the expression cannot be evaluated.
      @throws IllegalArgumentException If <code>returnType</code> is not one
      of the types defined in <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.
      @throws NullPointerException If  <code>returnType</code> is
      <code>null</code>.</div>
<a id="L172" name="L172"></a> 172     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/14049.html" title="Multiple referred from 144 places.">evaluate</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>, <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>)
<a id="L173" name="L173"></a> 173         <strong class="reserved">throws</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a> <em class="brace">{</em>
<a id="L174" name="L174"></a> 174         <em class="comment">//Validating parameters to enforce constraints defined by JAXP spec</em>
<a id="L175" name="L175"></a> 175         <strong class="reserved">if</strong> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176            <em class="comment">//Throwing NullPointerException as defined in spec</em>
<a id="L177" name="L177"></a> 177             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fmsg = <a href="../S/5961.html#L36" title="Defined at 36 in src/com/sun/org/apache/xalan/internal/res/XSLMessages.java.">XSLMessages</a>.<a href="../S/4842.html#L56" title="Defined at 56 in src/com/sun/org/apache/xpath/internal/res/XPATHMessages.java.">createXPATHMessage</a>(
<a id="L178" name="L178"></a> 178                     <a href="../S/4836.html#L34" title="Defined at 34 in src/com/sun/org/apache/xpath/internal/res/XPATHErrorResources.java.">XPATHErrorResources</a>.ER_ARG_CANNOT_BE_NULL,
<a id="L179" name="L179"></a> 179                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em>"returnType"<em class="brace">}</em> );
<a id="L180" name="L180"></a> 180             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>( fmsg );
<a id="L181" name="L181"></a> 181         <em class="brace">}</em>
<a id="L182" name="L182"></a> 182         <em class="comment">// Checking if requested returnType is supported. returnType need to be</em>
<a id="L183" name="L183"></a> 183         <em class="comment">// defined in XPathConstants</em>
<a id="L184" name="L184"></a> 184         <strong class="reserved">if</strong> ( !<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> ) ) <em class="brace">{</em>
<a id="L185" name="L185"></a> 185             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fmsg = <a href="../S/5961.html#L36" title="Defined at 36 in src/com/sun/org/apache/xalan/internal/res/XSLMessages.java.">XSLMessages</a>.<a href="../S/4842.html#L56" title="Defined at 56 in src/com/sun/org/apache/xpath/internal/res/XPATHMessages.java.">createXPATHMessage</a>(
<a id="L186" name="L186"></a> 186                     <a href="../S/4836.html#L34" title="Defined at 34 in src/com/sun/org/apache/xpath/internal/res/XPATHErrorResources.java.">XPATHErrorResources</a>.ER_UNSUPPORTED_RETURN_TYPE,
<a id="L187" name="L187"></a> 187                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() <em class="brace">}</em> );
<a id="L188" name="L188"></a> 188             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> ( fmsg );
<a id="L189" name="L189"></a> 189         <em class="brace">}</em>
<a id="L190" name="L190"></a> 190         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L191" name="L191"></a> 191             <strong class="reserved">return</strong> <a href="../D/15744.html" title="Multiple defined in 23 places.">eval</a>( <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>, <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>);
<a id="L192" name="L192"></a> 192         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> npe ) <em class="brace">{</em>
<a id="L193" name="L193"></a> 193             <em class="comment">// If VariableResolver returns null Or if we get</em>
<a id="L194" name="L194"></a> 194             <em class="comment">// NullPointerException at this stage for some other reason</em>
<a id="L195" name="L195"></a> 195             <em class="comment">// then we have to reurn XPathException</em>
<a id="L196" name="L196"></a> 196             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a> ( npe );
<a id="L197" name="L197"></a> 197         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>.<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> te ) <em class="brace">{</em>
<a id="L198" name="L198"></a> 198             <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> nestedException = te.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L199" name="L199"></a> 199             <strong class="reserved">if</strong> ( nestedException <strong class="reserved">instanceof</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.xpath.<a href="../S/3857.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathFunctionException.java.">XPathFunctionException</a> ) <em class="brace">{</em>
<a id="L200" name="L200"></a> 200                 <strong class="reserved">throw</strong> (<a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.xpath.<a href="../S/3857.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathFunctionException.java.">XPathFunctionException</a>)nestedException;
<a id="L201" name="L201"></a> 201             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                 <em class="comment">// For any other exceptions we need to throw</em>
<a id="L203" name="L203"></a> 203                 <em class="comment">// XPathExpressionException ( as per spec )</em>
<a id="L204" name="L204"></a> 204                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a>( te);
<a id="L205" name="L205"></a> 205             <em class="brace">}</em>
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<a id="L208" name="L208"></a> 208     <em class="brace">}</em>
<a id="L209" name="L209"></a> 209 
<div class="comment">
      <p>Evaluate the compiled XPath expression in the specified context and
      return the result as a <code>String</code>.</p>
      <p>This method calls {@link #evaluate(Object item, QName returnType)}
      with a <code>returnType</code> of
      {@link XPathConstants#STRING}.</p>
      <p>See "Evaluation of XPath Expressions" section of JAXP 1.3 spec
       for context item evaluation,
      variable, function and QName resolution and return type conversion.</p>
      <p>If a <code>null</code> value is provided for
      <code>item</code>, an empty document will be used for the
      context.
      @param item The starting context (node or node list, for example).
      @return The <code>String</code> that is the result of evaluating the
      expression and converting the result to a
        <code>String</code>.
      @throws XPathExpressionException If the expression cannot be evaluated.</p></div>
<a id="L234" name="L234"></a> 234     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14049.html" title="Multiple referred from 144 places.">evaluate</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>)
<a id="L235" name="L235"></a> 235         <strong class="reserved">throws</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a> <em class="brace">{</em>
<a id="L236" name="L236"></a> 236         <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<strong class="reserved">this</strong>.<a href="../D/15746.html" title="Multiple defined in 42 places.">evaluate</a>( <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>, <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.<a href="../S/3764.html#L1289" title="Defined at 1289 in src/javax/print/DocFlavor.java.">STRING</a> );
<a id="L237" name="L237"></a> 237     <em class="brace">}</em>
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241     <strong class="reserved">static</strong> <a href="../S/3849.html#L41" title="Defined at 41 in src/javax/xml/parsers/DocumentBuilderFactory.java.">DocumentBuilderFactory</a> dbf = <strong class="reserved">null</strong>;
<a id="L242" name="L242"></a> 242     <strong class="reserved">static</strong> <a href="../S/3846.html#L62" title="Defined at 62 in src/javax/xml/parsers/DocumentBuilder.java.">DocumentBuilder</a> db = <strong class="reserved">null</strong>;
<a id="L243" name="L243"></a> 243     <strong class="reserved">static</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> d = <strong class="reserved">null</strong>;
<a id="L244" name="L244"></a> 244 
<div class="comment">
      <p>Evaluate the compiled XPath expression in the context of the
      specified <code>InputSource</code> and return the result as the
       specified type.</p>
      <p>This method builds a data model for the <a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> and calls
      {@link #evaluate(Object item, QName returnType)} on the resulting
      document object.</p>
      <p>See "Evaluation of XPath Expressions" section of JAXP 1.3 spec
       for context item evaluation,
      variable, function and QName resolution and return type conversion.</p>
      <p>If <code>returnType</code> is not one of the types defined in
      <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>,
      then an <code>IllegalArgumentException</code> is thrown.</p>
     <p>If <code>source</code> or <code>returnType</code> is <code>null</code>,
      then a <code>NullPointerException</code> is thrown.</p>
      @param source The <code>InputSource</code> of the document to evaluate
      over.
      @param returnType The desired return type.
      @return The <code>Object</code> that is the result of evaluating the
      expression and converting the result to
        <code>returnType</code>.
      @throws XPathExpressionException If the expression cannot be evaluated.
      @throws IllegalArgumentException If <code>returnType</code> is not one
      of the types defined in <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.
      @throws NullPointerException If  <code>source</code> or
      <code>returnType</code> is <code>null</code>.</div>
<a id="L279" name="L279"></a> 279     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/14049.html" title="Multiple referred from 144 places.">evaluate</a>(<a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>)
<a id="L280" name="L280"></a> 280         <strong class="reserved">throws</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a> <em class="brace">{</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">if</strong> ( ( <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> == <strong class="reserved">null</strong> ) || ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> == <strong class="reserved">null</strong> ) ) <em class="brace">{</em>
<a id="L282" name="L282"></a> 282             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fmsg = <a href="../S/5961.html#L36" title="Defined at 36 in src/com/sun/org/apache/xalan/internal/res/XSLMessages.java.">XSLMessages</a>.<a href="../S/4842.html#L56" title="Defined at 56 in src/com/sun/org/apache/xpath/internal/res/XPATHMessages.java.">createXPATHMessage</a>(
<a id="L283" name="L283"></a> 283                     <a href="../S/4836.html#L34" title="Defined at 34 in src/com/sun/org/apache/xpath/internal/res/XPATHErrorResources.java.">XPATHErrorResources</a>.ER_SOURCE_RETURN_TYPE_CANNOT_BE_NULL,
<a id="L284" name="L284"></a> 284                     <strong class="reserved">null</strong> );
<a id="L285" name="L285"></a> 285             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> ( fmsg );
<a id="L286" name="L286"></a> 286         <em class="brace">}</em>
<a id="L287" name="L287"></a> 287         <em class="comment">// Checking if requested returnType is supported. returnType need to be</em>
<a id="L288" name="L288"></a> 288         <em class="comment">// defined in XPathConstants</em>
<a id="L289" name="L289"></a> 289         <strong class="reserved">if</strong> ( !<a href="../D/26316.html" title="Multiple defined in 54 places.">isSupported</a> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> ) ) <em class="brace">{</em>
<a id="L290" name="L290"></a> 290             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fmsg = <a href="../S/5961.html#L36" title="Defined at 36 in src/com/sun/org/apache/xalan/internal/res/XSLMessages.java.">XSLMessages</a>.<a href="../S/4842.html#L56" title="Defined at 56 in src/com/sun/org/apache/xpath/internal/res/XPATHMessages.java.">createXPATHMessage</a>(
<a id="L291" name="L291"></a> 291                     <a href="../S/4836.html#L34" title="Defined at 34 in src/com/sun/org/apache/xpath/internal/res/XPATHErrorResources.java.">XPATHErrorResources</a>.ER_UNSUPPORTED_RETURN_TYPE,
<a id="L292" name="L292"></a> 292                     <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() <em class="brace">}</em> );
<a id="L293" name="L293"></a> 293             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> ( fmsg );
<a id="L294" name="L294"></a> 294         <em class="brace">}</em>
<a id="L295" name="L295"></a> 295         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L296" name="L296"></a> 296             <strong class="reserved">if</strong> ( dbf == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297                 dbf = <a href="../S/6247.html#L35" title="Defined at 35 in src/com/sun/org/apache/xalan/internal/utils/FactoryImpl.java.">FactoryImpl</a>.<a href="../D/18157.html" title="Multiple defined in 2 places.">getDOMFactory</a>(<a href="../S/5933.html#L781" title="Defined at 781 in src/com/sun/org/apache/xml/internal/resolver/CatalogManager.java.">useServicesMechanism</a>);
<a id="L298" name="L298"></a> 298                 dbf.<a href="../D/33323.html" title="Multiple defined in 3 places.">setNamespaceAware</a>( <strong class="reserved">true</strong> );
<a id="L299" name="L299"></a> 299                 dbf.<a href="../D/34262.html" title="Multiple defined in 5 places.">setValidating</a>( <strong class="reserved">false</strong> );
<a id="L300" name="L300"></a> 300             <em class="brace">}</em>
<a id="L301" name="L301"></a> 301             db = dbf.<a href="../D/27987.html" title="Multiple defined in 2 places.">newDocumentBuilder</a>();
<a id="L302" name="L302"></a> 302             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../D/15104.html" title="Multiple defined in 4 places.">document</a> = db.<a href="../D/29076.html" title="Multiple defined in 178 places.">parse</a>( <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> );
<a id="L303" name="L303"></a> 303             <strong class="reserved">return</strong> <a href="../D/15744.html" title="Multiple defined in 23 places.">eval</a>(  <a href="../D/15104.html" title="Multiple defined in 4 places.">document</a>, <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> );
<a id="L304" name="L304"></a> 304         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e ) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a> ( e );
<a id="L306" name="L306"></a> 306         <em class="brace">}</em>
<a id="L307" name="L307"></a> 307     <em class="brace">}</em>
<a id="L308" name="L308"></a> 308 
<div class="comment">
      <p>Evaluate the compiled XPath expression in the context of the specified <code>InputSource</code> and return the result as a
      <code>String</code>.</p>
      <p>This method calls {@link #evaluate(InputSource source, QName returnType)} with a <code>returnType</code> of
      {@link XPathConstants#STRING}.</p>
      <p>See "Evaluation of XPath Expressions" section of JAXP 1.3 spec
      for context item evaluation,
      variable, function and QName resolution and return type conversion.</p>
      <p>If <code>source</code> is <code>null</code>, then a <code>NullPointerException</code> is thrown.</p>
      @param source The <code>InputSource</code> of the document to evaluate over.
      @return The <code>String</code> that is the result of evaluating the expression and converting the result to a
        <code>String</code>.
      @throws XPathExpressionException If the expression cannot be evaluated.
      @throws NullPointerException If  <code>source</code> is <code>null</code>.</div>
<a id="L330" name="L330"></a> 330     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14049.html" title="Multiple referred from 144 places.">evaluate</a>(<a href="../S/711.html#L84" title="Defined at 84 in src/org/xml/sax/InputSource.java.">InputSource</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>)
<a id="L331" name="L331"></a> 331         <strong class="reserved">throws</strong> <a href="../S/3858.html#L35" title="Defined at 35 in src/javax/xml/xpath/XPathExpressionException.java.">XPathExpressionException</a> <em class="brace">{</em>
<a id="L332" name="L332"></a> 332         <strong class="reserved">return</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<strong class="reserved">this</strong>.<a href="../D/15746.html" title="Multiple defined in 42 places.">evaluate</a>( <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>, <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.<a href="../S/3764.html#L1289" title="Defined at 1289 in src/javax/print/DocFlavor.java.">STRING</a> );
<a id="L333" name="L333"></a> 333     <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/22081.html" title="Multiple referred from 65 places.">isSupported</a>( <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> ) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336         <em class="comment">// XPathConstants.STRING</em>
<a id="L337" name="L337"></a> 337         <strong class="reserved">if</strong> ( ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.<a href="../S/3764.html#L1289" title="Defined at 1289 in src/javax/print/DocFlavor.java.">STRING</a> ) ) ||
<a id="L338" name="L338"></a> 338              ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.NUMBER ) ) ||
<a id="L339" name="L339"></a> 339              ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.<a href="../S/2603.html#L159" title="Defined at 159 in src/java/sql/JDBCType.java.">BOOLEAN</a> ) ) ||
<a id="L340" name="L340"></a> 340              ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.NODE ) ) ||
<a id="L341" name="L341"></a> 341              ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.NODESET ) )  ) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L344" name="L344"></a> 344         <em class="brace">}</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L346" name="L346"></a> 346      <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<a id="L348" name="L348"></a> 348      <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/18723.html" title="Multiple referred from 3 places.">getResultAsType</a>( <a href="../S/4899.html#L50" title="Defined at 50 in src/com/sun/org/apache/xpath/internal/objects/XObject.java.">XObject</a> resultObject, <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a> )
<a id="L349" name="L349"></a> 349         <strong class="reserved">throws</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.xml.<a href="../D/35592.html" title="Multiple defined in 22 places.">transform</a>.<a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a> <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <em class="comment">// XPathConstants.STRING</em>
<a id="L351" name="L351"></a> 351         <strong class="reserved">if</strong> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.<a href="../S/3764.html#L1289" title="Defined at 1289 in src/javax/print/DocFlavor.java.">STRING</a> ) ) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352             <strong class="reserved">return</strong> resultObject.<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>();
<a id="L353" name="L353"></a> 353         <em class="brace">}</em>
<a id="L354" name="L354"></a> 354         <em class="comment">// XPathConstants.NUMBER</em>
<a id="L355" name="L355"></a> 355         <strong class="reserved">if</strong> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.NUMBER ) ) <em class="brace">{</em>
<a id="L356" name="L356"></a> 356             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/2585.html" title="Multiple defined in 10 places.">Double</a> ( resultObject.<a href="../D/28365.html" title="Multiple defined in 17 places.">num</a>());
<a id="L357" name="L357"></a> 357         <em class="brace">}</em>
<a id="L358" name="L358"></a> 358         <em class="comment">// XPathConstants.BOOLEAN</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.<a href="../S/2603.html#L159" title="Defined at 159 in src/java/sql/JDBCType.java.">BOOLEAN</a> ) ) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>( resultObject.<a href="../D/11887.html" title="Multiple defined in 15 places.">bool</a>());
<a id="L361" name="L361"></a> 361         <em class="brace">}</em>
<a id="L362" name="L362"></a> 362         <em class="comment">// XPathConstants.NODESET ---ORdered, UNOrdered???</em>
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.NODESET ) ) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364             <strong class="reserved">return</strong> resultObject.<a href="../D/28253.html" title="Multiple defined in 3 places.">nodelist</a>();
<a id="L365" name="L365"></a> 365         <em class="brace">}</em>
<a id="L366" name="L366"></a> 366         <em class="comment">// XPathConstants.NODE</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong> ( <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>( <a href="../S/3852.html#L38" title="Defined at 38 in src/javax/xml/xpath/XPathConstants.java.">XPathConstants</a>.NODE ) ) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368             <a href="../D/6090.html" title="Multiple defined in 2 places.">NodeIterator</a> ni = resultObject.<a href="../D/28257.html" title="Multiple defined in 4 places.">nodeset</a>();
<a id="L369" name="L369"></a> 369             <em class="comment">//Return the first node, or null</em>
<a id="L370" name="L370"></a> 370             <strong class="reserved">return</strong> ni.<a href="../D/28170.html" title="Multiple defined in 34 places.">nextNode</a>();
<a id="L371" name="L371"></a> 371         <em class="brace">}</em>
<a id="L372" name="L372"></a> 372         <em class="comment">// If isSupported check is already done then the execution path</em>
<a id="L373" name="L373"></a> 373         <em class="comment">// shouldn't come here. Being defensive</em>
<a id="L374" name="L374"></a> 374         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> fmsg = <a href="../S/5961.html#L36" title="Defined at 36 in src/com/sun/org/apache/xalan/internal/res/XSLMessages.java.">XSLMessages</a>.<a href="../S/4842.html#L56" title="Defined at 56 in src/com/sun/org/apache/xpath/internal/res/XPATHMessages.java.">createXPATHMessage</a>(
<a id="L375" name="L375"></a> 375                 <a href="../S/4836.html#L34" title="Defined at 34 in src/com/sun/org/apache/xpath/internal/res/XPATHErrorResources.java.">XPATHErrorResources</a>.ER_UNSUPPORTED_RETURN_TYPE,
<a id="L376" name="L376"></a> 376                 <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <em class="brace">{</em> <a href="../D/31403.html" title="Multiple defined in 4 places.">returnType</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>);
<a id="L377" name="L377"></a> 377         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> ( fmsg );
<a id="L378" name="L378"></a> 378     <em class="brace">}</em>
<a id="L379" name="L379"></a> 379 
<a id="L380" name="L380"></a> 380  <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L103">[^]</a><a href="#L348">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>