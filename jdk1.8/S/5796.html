<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/serialize/XML11Serializer.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L183">[^]</a><a href="#L531">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L183" title="Defined at 183.">characters</a></li>
<li><a href="#L265" title="Defined at 265.">printEscaped</a></li>
<li><a href="#L293" title="Defined at 293.">printCDATAText</a></li>
<li><a href="#L373" title="Defined at 373.">printXMLChar</a></li>
<li><a href="#L394" title="Defined at 394.">surrogates</a></li>
<li><a href="#L424" title="Defined at 424.">printText</a></li>
<li><a href="#L478" title="Defined at 478.">printText</a></li>
<li><a href="#L531" title="Defined at 531.">reset</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2002,2004,2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <em class="comment">// Sep 14, 2000:</em>
<a id="L24" name="L24"></a>  24 <em class="comment">//  Fixed problem with namespace handling. Contributed by</em>
<a id="L25" name="L25"></a>  25 <em class="comment">//  David Blondeau &lt;blondeau@intalio.com&gt;</em>
<a id="L26" name="L26"></a>  26 <em class="comment">// Sep 14, 2000:</em>
<a id="L27" name="L27"></a>  27 <em class="comment">//  Fixed serializer to report IO exception directly, instead at</em>
<a id="L28" name="L28"></a>  28 <em class="comment">//  the end of document processing.</em>
<a id="L29" name="L29"></a>  29 <em class="comment">//  Reported by Patrick Higgins &lt;phiggins@transzap.com&gt;</em>
<a id="L30" name="L30"></a>  30 <em class="comment">// Aug 21, 2000:</em>
<a id="L31" name="L31"></a>  31 <em class="comment">//  Fixed bug in startDocument not calling prepare.</em>
<a id="L32" name="L32"></a>  32 <em class="comment">//  Reported by Mikael Staldal &lt;d96-mst-ingen-reklam@d.kth.se&gt;</em>
<a id="L33" name="L33"></a>  33 <em class="comment">// Aug 21, 2000:</em>
<a id="L34" name="L34"></a>  34 <em class="comment">//  Added ability to omit DOCTYPE declaration.</em>
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.<a href="../D/31785.html" title="Multiple defined in 18 places.">serialize</a>;
<a id="L38" name="L38"></a>  38 
<a id="L39" name="L39"></a>  39 
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.io.IOException;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.io.Writer;
<a id="L43" name="L43"></a>  43 
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMMessageFormatter;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.Constants;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.NamespaceSupport;
<a id="L47" name="L47"></a>  47 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.SymbolTable;
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XML11Char;
<a id="L49" name="L49"></a>  49 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLChar;
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> org.w3c.dom.DOMError;
<a id="L52" name="L52"></a>  52 
<div class="comment">
  Implements an XML serializer supporting both DOM and SAX pretty
  serializing. For usage instructions see {@link Serializer}.
  <p>
  If an output stream is used, the encoding is taken from the
  output format (defaults to <tt>UTF-8</tt>). If a writer is
  used, make sure the writer uses the same encoding (if applies)
  as specified in the output format.
  </p><p>
  The serializer supports both DOM and SAX. SAX serializing is done by firing
  SAX events and using the serializer as a document handler. DOM serializing is done
  by calling {@link #serialize(Document)} or by using DOM Level 3
  {@link org.w3c.dom.ls.DOMSerializer} and
  serializing with {@link org.w3c.dom.ls.DOMSerializer#write},
  {@link org.w3c.dom.ls.DOMSerializer#writeToString}.
  </p><p>
  If an I/O exception occurs while serializing, the serializer
  will not throw an exception directly, but only throw it
  at the end of serializing (either DOM or SAX's {@link
  org.xml.sax.DocumentHandler#endDocument}.
  </p><p>
  For elements that are not specified as whitespace preserving,
  the serializer will potentially break long text lines at space
  boundaries, indent lines, and serialize elements on separate
  lines. Line terminators will be regarded as spaces, and
  spaces at beginning of line will be stripped.
  @author <a href="mailto:arkin@intalio.com">Assaf Arkin</a>
  @author <a href="mailto:rahul.srivastava@sun.com">Rahul Srivastava</a>
  @author Elena Litani IBM
  @see Serializer</p></div>
<a id="L84" name="L84"></a>  84 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8954.html" title="Multiple referred from 4 places.">XML11Serializer</a>
<a id="L85" name="L85"></a>  85 <strong class="reserved">extends</strong> <a href="../S/5793.html#L93" title="Defined at 93 in src/com/sun/org/apache/xml/internal/serialize/XMLSerializer.java.">XMLSerializer</a> <em class="brace">{</em>
<a id="L86" name="L86"></a>  86 
<a id="L87" name="L87"></a>  87     <em class="comment">//</em>
<a id="L88" name="L88"></a>  88     <em class="comment">// constants</em>
<a id="L89" name="L89"></a>  89     <em class="comment">//</em>
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> DEBUG = <strong class="reserved">false</strong>;
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93     <em class="comment">//</em>
<a id="L94" name="L94"></a>  94     <em class="comment">// data</em>
<a id="L95" name="L95"></a>  95     <em class="comment">//</em>
<a id="L96" name="L96"></a>  96 
<a id="L97" name="L97"></a>  97     <em class="comment">//</em>
<a id="L98" name="L98"></a>  98     <em class="comment">// DOM Level 3 implementation: variables intialized in DOMSerializerImpl</em>
<a id="L99" name="L99"></a>  99     <em class="comment">//</em>
<a id="L100" name="L100"></a> 100 
<div class="comment">
     /** stores namespaces in scope */</div>
<a id="L102" name="L102"></a> 102     <strong class="reserved">protected</strong> <a href="../D/5978.html" title="Multiple defined in 2 places.">NamespaceSupport</a> fNSBinder;
<a id="L103" name="L103"></a> 103 
<div class="comment">
     /** stores all namespace bindings on the current element */</div>
<a id="L105" name="L105"></a> 105     <strong class="reserved">protected</strong> <a href="../D/5978.html" title="Multiple defined in 2 places.">NamespaceSupport</a> fLocalNSBinder;
<a id="L106" name="L106"></a> 106 
<div class="comment">
     /** symbol table for serialization */</div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">protected</strong> <a href="../D/8572.html" title="Multiple defined in 2 places.">SymbolTable</a> fSymbolTable;
<a id="L109" name="L109"></a> 109 
<a id="L110" name="L110"></a> 110     <em class="comment">// is node dom level 1 node?</em>
<a id="L111" name="L111"></a> 111     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fDOML1 = <strong class="reserved">false</strong>;
<a id="L112" name="L112"></a> 112     <em class="comment">// counter for new prefix names</em>
<a id="L113" name="L113"></a> 113     <strong class="reserved">protected</strong> <strong class="reserved">int</strong> fNamespaceCounter = 1;
<a id="L114" name="L114"></a> 114     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> PREFIX = "NS";
<a id="L115" name="L115"></a> 115 
<div class="comment">
      Controls whether namespace fixup should be performed during
      the serialization.
      NOTE: if this field is set to true the following
      fields need to be initialized: fNSBinder, fLocalNSBinder, fSymbolTable,
      XMLSymbols.EMPTY_STRING, fXmlSymbol, fXmlnsSymbol, fNamespaceCounter.</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> fNamespaces = <strong class="reserved">false</strong>;
<a id="L124" name="L124"></a> 124 
<a id="L125" name="L125"></a> 125 
<a id="L126" name="L126"></a> 126     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> fPreserveSpace;
<a id="L127" name="L127"></a> 127 
<a id="L128" name="L128"></a> 128 
<div class="comment">
      Constructs a new serializer. The serializer cannot be used without
      calling {@link #setOutputCharStream} or {@link #setOutputByteStream}
      first.</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">public</strong> XML11Serializer() <em class="brace">{</em>
<a id="L135" name="L135"></a> 135         <strong class="reserved">super</strong>( );
<a id="L136" name="L136"></a> 136         _format.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>("1.1");
<a id="L137" name="L137"></a> 137     <em class="brace">}</em>
<a id="L138" name="L138"></a> 138 
<a id="L139" name="L139"></a> 139 
<div class="comment">
      Constructs a new serializer. The serializer cannot be used without
      calling {@link #setOutputCharStream} or {@link #setOutputByteStream}
      first.</div>
<a id="L145" name="L145"></a> 145     <strong class="reserved">public</strong> XML11Serializer( <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> ) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146         <strong class="reserved">super</strong>( <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> );
<a id="L147" name="L147"></a> 147         _format.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>("1.1");
<a id="L148" name="L148"></a> 148     <em class="brace">}</em>
<a id="L149" name="L149"></a> 149 
<a id="L150" name="L150"></a> 150 
<div class="comment">
      Constructs a new serializer that writes to the specified writer
      using the specified output format. If <tt>format</tt> is null,
      will use a default output format.
      @param writer The writer to use
      @param format The output format to use, null for the default</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">public</strong> XML11Serializer( <a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>, <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> ) <em class="brace">{</em>
<a id="L160" name="L160"></a> 160         <strong class="reserved">super</strong>( <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>, <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> );
<a id="L161" name="L161"></a> 161         _format.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>("1.1");
<a id="L162" name="L162"></a> 162     <em class="brace">}</em>
<a id="L163" name="L163"></a> 163 
<a id="L164" name="L164"></a> 164 
<div class="comment">
      Constructs a new serializer that writes to the specified output
      stream using the specified output format. If <tt>format</tt>
      is null, will use a default output format.
      @param output The output stream to use
      @param format The output format to use, null for the default</div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">public</strong> XML11Serializer( <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>, <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> ) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174         <strong class="reserved">super</strong>( <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>, <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> != <strong class="reserved">null</strong> ? <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> : <strong class="reserved">new</strong> <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a>( <a href="../D/5605.html" title="Multiple defined in 4 places.">Method</a>.XML, <strong class="reserved">null</strong>, <strong class="reserved">false</strong> ) );
<a id="L175" name="L175"></a> 175         _format.<a href="../D/34284.html" title="Multiple defined in 13 places.">setVersion</a>("1.1");
<a id="L176" name="L176"></a> 176     <em class="brace">}</em>
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178     <em class="comment">//-----------------------------------------//</em>
<a id="L179" name="L179"></a> 179     <em class="comment">// SAX content handler serializing methods //</em>
<a id="L180" name="L180"></a> 180     <em class="comment">//-----------------------------------------//</em>
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11056.html" title="Multiple referred from 150 places.">characters</a>( <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> )
<a id="L184" name="L184"></a> 184         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L185" name="L185"></a> 185     <em class="brace">{</em>
<a id="L186" name="L186"></a> 186         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L189" name="L189"></a> 189             <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L190" name="L190"></a> 190 
<a id="L191" name="L191"></a> 191             <em class="comment">// Check if text should be print as CDATA section or unescaped</em>
<a id="L192" name="L192"></a> 192             <em class="comment">// based on elements listed in the output format (the element</em>
<a id="L193" name="L193"></a> 193             <em class="comment">// state) or whether we are inside a CDATA section or entity.</em>
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195             <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData || <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData ) <em class="brace">{</em>
<a id="L196" name="L196"></a> 196                 <strong class="reserved">int</strong>          saveIndent;
<a id="L197" name="L197"></a> 197 
<a id="L198" name="L198"></a> 198                 <em class="comment">// Print a CDATA section. The text is not escaped, but ']]&gt;'</em>
<a id="L199" name="L199"></a> 199                 <em class="comment">// appearing in the code must be identified and dealt with.</em>
<a id="L200" name="L200"></a> 200                 <em class="comment">// The contents of a text node is considered space preserving.</em>
<a id="L201" name="L201"></a> 201                 <strong class="reserved">if</strong> ( ! <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData ) <em class="brace">{</em>
<a id="L202" name="L202"></a> 202                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;![CDATA[" );
<a id="L203" name="L203"></a> 203                     <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData = <strong class="reserved">true</strong>;
<a id="L204" name="L204"></a> 204                 <em class="brace">}</em>
<a id="L205" name="L205"></a> 205                 saveIndent = _printer.<a href="../D/20911.html" title="Multiple defined in 2 places.">getNextIndent</a>();
<a id="L206" name="L206"></a> 206                 _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( 0 );
<a id="L207" name="L207"></a> 207                 <strong class="reserved">char</strong> ch;
<a id="L208" name="L208"></a> 208                 <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L209" name="L209"></a> 209                 <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210                     ch = <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L211" name="L211"></a> 211                     <strong class="reserved">if</strong> ( ch == ']' &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp;
<a id="L212" name="L212"></a> 212                         <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1 ] == ']' &amp;&amp; <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2 ] == '&gt;' ) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]]]&gt;&lt;![CDATA[&gt;");
<a id="L214" name="L214"></a> 214                         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> +=2;
<a id="L215" name="L215"></a> 215                         <strong class="reserved">continue</strong>;
<a id="L216" name="L216"></a> 216                     <em class="brace">}</em>
<a id="L217" name="L217"></a> 217                     <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218                         <em class="comment">// check if it is surrogate</em>
<a id="L219" name="L219"></a> 219                         <strong class="reserved">if</strong> (++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L220" name="L220"></a> 220                             <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L221" name="L221"></a> 221                         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L223" name="L223"></a> 223                             <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L224" name="L224"></a> 224                         <em class="brace">}</em>
<a id="L225" name="L225"></a> 225                         <strong class="reserved">continue</strong>;
<a id="L226" name="L226"></a> 226                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L227" name="L227"></a> 227                         <strong class="reserved">if</strong> ( _encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>)ch) &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch)) <em class="brace">{</em>
<a id="L228" name="L228"></a> 228                             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)ch);
<a id="L229" name="L229"></a> 229                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L230" name="L230"></a> 230                             <em class="comment">// The character is not printable -- split CDATA section</em>
<a id="L231" name="L231"></a> 231                             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]&gt;&amp;#x");
<a id="L232" name="L232"></a> 232                             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(ch));
<a id="L233" name="L233"></a> 233                             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";&lt;![CDATA[");
<a id="L234" name="L234"></a> 234                         <em class="brace">}</em>
<a id="L235" name="L235"></a> 235                     <em class="brace">}</em>
<a id="L236" name="L236"></a> 236                 <em class="brace">}</em>
<a id="L237" name="L237"></a> 237                 _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( saveIndent );
<a id="L238" name="L238"></a> 238 
<a id="L239" name="L239"></a> 239             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241                 <strong class="reserved">int</strong> saveIndent;
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243                 <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace ) <em class="brace">{</em>
<a id="L244" name="L244"></a> 244                     <em class="comment">// If preserving space then hold of indentation so no</em>
<a id="L245" name="L245"></a> 245                     <em class="comment">// excessive spaces are printed at line breaks, escape</em>
<a id="L246" name="L246"></a> 246                     <em class="comment">// the text content without replacing spaces and print</em>
<a id="L247" name="L247"></a> 247                     <em class="comment">// the text breaking only at line breaks.</em>
<a id="L248" name="L248"></a> 248                     saveIndent = _printer.<a href="../D/20911.html" title="Multiple defined in 2 places.">getNextIndent</a>();
<a id="L249" name="L249"></a> 249                     _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( 0 );
<a id="L250" name="L250"></a> 250                     <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <strong class="reserved">true</strong>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped );
<a id="L251" name="L251"></a> 251                     _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( saveIndent );
<a id="L252" name="L252"></a> 252                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                     <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <strong class="reserved">false</strong>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped );
<a id="L254" name="L254"></a> 254                 <em class="brace">}</em>
<a id="L255" name="L255"></a> 255             <em class="brace">}</em>
<a id="L256" name="L256"></a> 256         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L258" name="L258"></a> 258         <em class="brace">}</em>
<a id="L259" name="L259"></a> 259     <em class="brace">}</em>
<a id="L260" name="L260"></a> 260 
<a id="L261" name="L261"></a> 261 
<a id="L262" name="L262"></a> 262     <em class="comment">//</em>
<a id="L263" name="L263"></a> 263     <em class="comment">// overwrite printing functions to make sure serializer prints out valid XML</em>
<a id="L264" name="L264"></a> 264     <em class="comment">//</em>
<a id="L265" name="L265"></a> 265     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25012.html" title="Multiple referred from 21 places.">printEscaped</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> ) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L266" name="L266"></a> 266         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L267" name="L267"></a> 267         <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> i = 0 ; i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; ++i ) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268             <strong class="reserved">int</strong> ch = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L269" name="L269"></a> 269             <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270                 <strong class="reserved">if</strong> (++i &lt;<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L271" name="L271"></a> 271                     <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i));
<a id="L272" name="L272"></a> 272                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L273" name="L273"></a> 273                     <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L274" name="L274"></a> 274                 <em class="brace">}</em>
<a id="L275" name="L275"></a> 275                 <strong class="reserved">continue</strong>;
<a id="L276" name="L276"></a> 276             <em class="brace">}</em>
<a id="L277" name="L277"></a> 277             <strong class="reserved">if</strong> (ch == '\n' || ch == '\r' || ch == '\t' || ch == 0x0085 || ch == 0x2028)<em class="brace">{</em>
<a id="L278" name="L278"></a> 278                                 <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(ch);
<a id="L279" name="L279"></a> 279                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ch == '&lt;') <em class="brace">{</em>
<a id="L280" name="L280"></a> 280                                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;lt;");
<a id="L281" name="L281"></a> 281                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ch == '&amp;') <em class="brace">{</em>
<a id="L282" name="L282"></a> 282                                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;amp;");
<a id="L283" name="L283"></a> 283                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ch == '"') <em class="brace">{</em>
<a id="L284" name="L284"></a> 284                                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;quot;");
<a id="L285" name="L285"></a> 285                         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((ch &gt;= ' ' &amp;&amp; _encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>) ch))) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286                                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>) ch);
<a id="L287" name="L287"></a> 287                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L288" name="L288"></a> 288                                 <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(ch);
<a id="L289" name="L289"></a> 289                         <em class="brace">}</em>
<a id="L290" name="L290"></a> 290         <em class="brace">}</em>
<a id="L291" name="L291"></a> 291     <em class="brace">}</em>
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../S/5797.html#L1445" title="Referred from 1445 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printCDATAText</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L294" name="L294"></a> 294         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L295" name="L295"></a> 295         <strong class="reserved">char</strong> ch;
<a id="L296" name="L296"></a> 296 
<a id="L297" name="L297"></a> 297         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300             <strong class="reserved">if</strong> (ch == ']'
<a id="L301" name="L301"></a> 301                 &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2 &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>
<a id="L302" name="L302"></a> 302                 &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1) == ']'
<a id="L303" name="L303"></a> 303                 &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2) == '&gt;') <em class="brace">{</em> <em class="comment">// check for ']]&gt;'</em>
<a id="L304" name="L304"></a> 304                 <strong class="reserved">if</strong> (fDOMErrorHandler != <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L305" name="L305"></a> 305                     <em class="comment">// REVISIT: this means that if DOM Error handler is not registered we don't report any</em>
<a id="L306" name="L306"></a> 306                     <em class="comment">// fatal errors and might serialize not wellformed document</em>
<a id="L307" name="L307"></a> 307                 <strong class="reserved">if</strong> ((features &amp; <a href="../S/5808.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/serialize/DOMSerializerImpl.java.">DOMSerializerImpl</a>.SPLITCDATA) == 0
<a id="L308" name="L308"></a> 308                     &amp;&amp; (features &amp; <a href="../S/5808.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/serialize/DOMSerializerImpl.java.">DOMSerializerImpl</a>.WELLFORMED) == 0) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309                     <em class="comment">// issue fatal error</em>
<a id="L310" name="L310"></a> 310                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L311" name="L311"></a> 311                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L312" name="L312"></a> 312                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L313" name="L313"></a> 313                             "EndingCDATA",
<a id="L314" name="L314"></a> 314                             <strong class="reserved">null</strong>);
<a id="L315" name="L315"></a> 315                     <a href="../S/5797.html#L1938" title="Defined at 1938 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">modifyDOMError</a>(
<a id="L316" name="L316"></a> 316                         <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>,
<a id="L317" name="L317"></a> 317                         <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_FATAL_ERROR,
<a id="L318" name="L318"></a> 318                         <strong class="reserved">null</strong>, fCurrentNode);
<a id="L319" name="L319"></a> 319                     <strong class="reserved">boolean</strong> continueProcess =
<a id="L320" name="L320"></a> 320                         fDOMErrorHandler.<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a>(fDOMError);
<a id="L321" name="L321"></a> 321                     <strong class="reserved">if</strong> (!continueProcess) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>();
<a id="L323" name="L323"></a> 323                     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L325" name="L325"></a> 325                     <em class="comment">// issue warning</em>
<a id="L326" name="L326"></a> 326                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L327" name="L327"></a> 327                         <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L328" name="L328"></a> 328                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L329" name="L329"></a> 329                             "SplittingCDATA",
<a id="L330" name="L330"></a> 330                             <strong class="reserved">null</strong>);
<a id="L331" name="L331"></a> 331                     <a href="../S/5797.html#L1938" title="Defined at 1938 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">modifyDOMError</a>(
<a id="L332" name="L332"></a> 332                         <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>,
<a id="L333" name="L333"></a> 333                         <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_WARNING,
<a id="L334" name="L334"></a> 334                         <strong class="reserved">null</strong>, fCurrentNode);
<a id="L335" name="L335"></a> 335                     fDOMErrorHandler.<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a>(fDOMError);
<a id="L336" name="L336"></a> 336                 <em class="brace">}</em>
<a id="L337" name="L337"></a> 337                 <em class="brace">}</em>
<a id="L338" name="L338"></a> 338                 <em class="comment">// split CDATA section</em>
<a id="L339" name="L339"></a> 339                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]]]&gt;&lt;![CDATA[&gt;");
<a id="L340" name="L340"></a> 340                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += 2;
<a id="L341" name="L341"></a> 341                 <strong class="reserved">continue</strong>;
<a id="L342" name="L342"></a> 342             <em class="brace">}</em>
<a id="L343" name="L343"></a> 343 
<a id="L344" name="L344"></a> 344             <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345                 <em class="comment">// check if it is surrogate</em>
<a id="L346" name="L346"></a> 346                 <strong class="reserved">if</strong> (++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                     <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L348" name="L348"></a> 348                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L349" name="L349"></a> 349                     <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>(
<a id="L350" name="L350"></a> 350                         "The character '"
<a id="L351" name="L351"></a> 351                             + (<strong class="reserved">char</strong>) ch
<a id="L352" name="L352"></a> 352                             + "' is an invalid XML character");
<a id="L353" name="L353"></a> 353                 <em class="brace">}</em>
<a id="L354" name="L354"></a> 354                 <strong class="reserved">continue</strong>;
<a id="L355" name="L355"></a> 355             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L356" name="L356"></a> 356                 <strong class="reserved">if</strong> (_encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>) ch)
<a id="L357" name="L357"></a> 357                     &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch)) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>) ch);
<a id="L359" name="L359"></a> 359                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360 
<a id="L361" name="L361"></a> 361                     <em class="comment">// The character is not printable -- split CDATA section</em>
<a id="L362" name="L362"></a> 362                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]&gt;&amp;#x");
<a id="L363" name="L363"></a> 363                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(ch));
<a id="L364" name="L364"></a> 364                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";&lt;![CDATA[");
<a id="L365" name="L365"></a> 365                 <em class="brace">}</em>
<a id="L366" name="L366"></a> 366             <em class="brace">}</em>
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370 
<a id="L371" name="L371"></a> 371     <em class="comment">// note that this "int" should, in all cases, be a char.</em>
<a id="L372" name="L372"></a> 372     <em class="comment">// REVISIT:  make it a char...</em>
<a id="L373" name="L373"></a> 373     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25059.html" title="Multiple referred from 8 places.">printXMLChar</a>( <strong class="reserved">int</strong> ch ) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374 
<a id="L375" name="L375"></a> 375         <strong class="reserved">if</strong> (ch == '\r' || ch == 0x0085 || ch == 0x2028) <em class="brace">{</em>
<a id="L376" name="L376"></a> 376                         <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(ch);
<a id="L377" name="L377"></a> 377         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( ch == '&lt;') <em class="brace">{</em>
<a id="L378" name="L378"></a> 378             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;lt;");
<a id="L379" name="L379"></a> 379         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ch == '&amp;') <em class="brace">{</em>
<a id="L380" name="L380"></a> 380             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;amp;");
<a id="L381" name="L381"></a> 381                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (ch == '&gt;')<em class="brace">{</em>
<a id="L382" name="L382"></a> 382                         <em class="comment">// character sequence "]]&gt;" can't appear in content, therefore</em>
<a id="L383" name="L383"></a> 383                         <em class="comment">// we should escape '&gt;'</em>
<a id="L384" name="L384"></a> 384                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;gt;");
<a id="L385" name="L385"></a> 385         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( _encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>)ch) &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch)) <em class="brace">{</em>
<a id="L386" name="L386"></a> 386             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)ch);
<a id="L387" name="L387"></a> 387         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L388" name="L388"></a> 388              <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(ch);
<a id="L389" name="L389"></a> 389         <em class="brace">}</em>
<a id="L390" name="L390"></a> 390     <em class="brace">}</em>
<a id="L391" name="L391"></a> 391 
<a id="L392" name="L392"></a> 392 
<a id="L393" name="L393"></a> 393 
<a id="L394" name="L394"></a> 394     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/29052.html" title="Multiple referred from 14 places.">surrogates</a>(<strong class="reserved">int</strong> high, <strong class="reserved">int</strong> low) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a><em class="brace">{</em>
<a id="L395" name="L395"></a> 395         <strong class="reserved">if</strong> (<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/25654.html" title="Multiple defined in 4 places.">isHighSurrogate</a>(high)) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396             <strong class="reserved">if</strong> (!<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/25841.html" title="Multiple defined in 4 places.">isLowSurrogate</a>(low)) <em class="brace">{</em>
<a id="L397" name="L397"></a> 397                 <em class="comment">//Invalid XML</em>
<a id="L398" name="L398"></a> 398                 <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)low+"' is an invalid XML character");
<a id="L399" name="L399"></a> 399             <em class="brace">}</em>
<a id="L400" name="L400"></a> 400             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L401" name="L401"></a> 401                 <strong class="reserved">int</strong> <a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a> = <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>((<strong class="reserved">char</strong>)high, (<strong class="reserved">char</strong>)low);
<a id="L402" name="L402"></a> 402                 <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>)) <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                     <em class="comment">//Invalid XML</em>
<a id="L404" name="L404"></a> 404                     <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>+"' is an invalid XML character");
<a id="L405" name="L405"></a> 405                 <em class="brace">}</em>
<a id="L406" name="L406"></a> 406                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L407" name="L407"></a> 407                     <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>().inCData ) <em class="brace">{</em>
<a id="L408" name="L408"></a> 408                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]&gt;&amp;#x");
<a id="L409" name="L409"></a> 409                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>));
<a id="L410" name="L410"></a> 410                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";&lt;![CDATA[");
<a id="L411" name="L411"></a> 411                     <em class="brace">}</em>
<a id="L412" name="L412"></a> 412                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L413" name="L413"></a> 413                                                 <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>);
<a id="L414" name="L414"></a> 414                     <em class="brace">}</em>
<a id="L415" name="L415"></a> 415                 <em class="brace">}</em>
<a id="L416" name="L416"></a> 416             <em class="brace">}</em>
<a id="L417" name="L417"></a> 417         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L418" name="L418"></a> 418             <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)high+"' is an invalid XML character");
<a id="L419" name="L419"></a> 419         <em class="brace">}</em>
<a id="L420" name="L420"></a> 420 
<a id="L421" name="L421"></a> 421     <em class="brace">}</em>
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25050.html" title="Multiple referred from 288 places.">printText</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">boolean</strong> preserveSpace, <strong class="reserved">boolean</strong> unescaped )
<a id="L425" name="L425"></a> 425     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L426" name="L426"></a> 426         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L427" name="L427"></a> 427         <strong class="reserved">char</strong> ch;
<a id="L428" name="L428"></a> 428         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L429" name="L429"></a> 429         <strong class="reserved">if</strong> ( preserveSpace ) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430             <em class="comment">// Preserving spaces: the text must print exactly as it is,</em>
<a id="L431" name="L431"></a> 431             <em class="comment">// without breaking when spaces appear in the text and without</em>
<a id="L432" name="L432"></a> 432             <em class="comment">// consolidating spaces. If a line terminator is used, a line</em>
<a id="L433" name="L433"></a> 433             <em class="comment">// break will occur.</em>
<a id="L434" name="L434"></a> 434             <strong class="reserved">for</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0 ; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L435" name="L435"></a> 435                 ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> );
<a id="L436" name="L436"></a> 436                 <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L437" name="L437"></a> 437                     <em class="comment">// check if it is surrogate</em>
<a id="L438" name="L438"></a> 438                     <strong class="reserved">if</strong> (++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt;<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                         <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L440" name="L440"></a> 440                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L441" name="L441"></a> 441                         <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L442" name="L442"></a> 442                     <em class="brace">}</em>
<a id="L443" name="L443"></a> 443                     <strong class="reserved">continue</strong>;
<a id="L444" name="L444"></a> 444                 <em class="brace">}</em>
<a id="L445" name="L445"></a> 445                 <strong class="reserved">if</strong> ( unescaped  &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch)) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L447" name="L447"></a> 447                 <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L448" name="L448"></a> 448                     <a href="../D/29721.html" title="Multiple defined in 2 places.">printXMLChar</a>( ch );
<a id="L449" name="L449"></a> 449             <em class="brace">}</em>
<a id="L450" name="L450"></a> 450         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L451" name="L451"></a> 451             <em class="comment">// Not preserving spaces: print one part at a time, and</em>
<a id="L452" name="L452"></a> 452             <em class="comment">// use spaces between parts to break them into different</em>
<a id="L453" name="L453"></a> 453             <em class="comment">// lines. Spaces at beginning of line will be stripped</em>
<a id="L454" name="L454"></a> 454             <em class="comment">// by printing mechanism. Line terminator is treated</em>
<a id="L455" name="L455"></a> 455             <em class="comment">// no different than other text part.</em>
<a id="L456" name="L456"></a> 456             <strong class="reserved">for</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0 ; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L457" name="L457"></a> 457                 ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> );
<a id="L458" name="L458"></a> 458                 <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459                     <em class="comment">// check if it is surrogate</em>
<a id="L460" name="L460"></a> 460                     <strong class="reserved">if</strong> (++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt;<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461                         <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L462" name="L462"></a> 462                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L463" name="L463"></a> 463                         <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L464" name="L464"></a> 464                     <em class="brace">}</em>
<a id="L465" name="L465"></a> 465                     <strong class="reserved">continue</strong>;
<a id="L466" name="L466"></a> 466                 <em class="brace">}</em>
<a id="L467" name="L467"></a> 467 
<a id="L468" name="L468"></a> 468                 <strong class="reserved">if</strong> ( unescaped &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch) )
<a id="L469" name="L469"></a> 469                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L470" name="L470"></a> 470                 <strong class="reserved">else</strong>
<a id="L471" name="L471"></a> 471                     <a href="../D/29721.html" title="Multiple defined in 2 places.">printXMLChar</a>( ch);
<a id="L472" name="L472"></a> 472             <em class="brace">}</em>
<a id="L473" name="L473"></a> 473         <em class="brace">}</em>
<a id="L474" name="L474"></a> 474     <em class="brace">}</em>
<a id="L475" name="L475"></a> 475 
<a id="L476" name="L476"></a> 476 
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25050.html" title="Multiple referred from 288 places.">printText</a>( <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L479" name="L479"></a> 479                               <strong class="reserved">boolean</strong> preserveSpace, <strong class="reserved">boolean</strong> unescaped ) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L480" name="L480"></a> 480         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L481" name="L481"></a> 481         <strong class="reserved">char</strong> ch;
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483         <strong class="reserved">if</strong> ( preserveSpace ) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484             <em class="comment">// Preserving spaces: the text must print exactly as it is,</em>
<a id="L485" name="L485"></a> 485             <em class="comment">// without breaking when spaces appear in the text and without</em>
<a id="L486" name="L486"></a> 486             <em class="comment">// consolidating spaces. If a line terminator is used, a line</em>
<a id="L487" name="L487"></a> 487             <em class="comment">// break will occur.</em>
<a id="L488" name="L488"></a> 488             <strong class="reserved">while</strong> ( <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0 ) <em class="brace">{</em>
<a id="L489" name="L489"></a> 489                 ch = <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>++];
<a id="L490" name="L490"></a> 490                 <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L491" name="L491"></a> 491                     <em class="comment">// check if it is surrogate</em>
<a id="L492" name="L492"></a> 492                     <strong class="reserved">if</strong> ( <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493                         <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>++]);
<a id="L494" name="L494"></a> 494                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L495" name="L495"></a> 495                         <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L496" name="L496"></a> 496                     <em class="brace">}</em>
<a id="L497" name="L497"></a> 497                     <strong class="reserved">continue</strong>;
<a id="L498" name="L498"></a> 498                 <em class="brace">}</em>
<a id="L499" name="L499"></a> 499                 <strong class="reserved">if</strong> ( unescaped &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch))
<a id="L500" name="L500"></a> 500                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L501" name="L501"></a> 501                 <strong class="reserved">else</strong>
<a id="L502" name="L502"></a> 502                     <a href="../D/29721.html" title="Multiple defined in 2 places.">printXMLChar</a>( ch );
<a id="L503" name="L503"></a> 503             <em class="brace">}</em>
<a id="L504" name="L504"></a> 504         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L505" name="L505"></a> 505             <em class="comment">// Not preserving spaces: print one part at a time, and</em>
<a id="L506" name="L506"></a> 506             <em class="comment">// use spaces between parts to break them into different</em>
<a id="L507" name="L507"></a> 507             <em class="comment">// lines. Spaces at beginning of line will be stripped</em>
<a id="L508" name="L508"></a> 508             <em class="comment">// by printing mechanism. Line terminator is treated</em>
<a id="L509" name="L509"></a> 509             <em class="comment">// no different than other text part.</em>
<a id="L510" name="L510"></a> 510             <strong class="reserved">while</strong> ( <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0 ) <em class="brace">{</em>
<a id="L511" name="L511"></a> 511                 ch = <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>++];
<a id="L512" name="L512"></a> 512                 <strong class="reserved">if</strong> (!<a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26536.html" title="Multiple defined in 2 places.">isXML11Valid</a>(ch)) <em class="brace">{</em>
<a id="L513" name="L513"></a> 513                     <em class="comment">// check if it is surrogate</em>
<a id="L514" name="L514"></a> 514                     <strong class="reserved">if</strong> ( <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515                         <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>++]);
<a id="L516" name="L516"></a> 516                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L517" name="L517"></a> 517                         <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L518" name="L518"></a> 518                     <em class="brace">}</em>
<a id="L519" name="L519"></a> 519                     <strong class="reserved">continue</strong>;
<a id="L520" name="L520"></a> 520                 <em class="brace">}</em>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522                 <strong class="reserved">if</strong> ( unescaped &amp;&amp; <a href="../D/9846.html" title="Multiple defined in 2 places.">XML11Char</a>.<a href="../D/26537.html" title="Multiple defined in 2 places.">isXML11ValidLiteral</a>(ch))
<a id="L523" name="L523"></a> 523                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L524" name="L524"></a> 524                 <strong class="reserved">else</strong>
<a id="L525" name="L525"></a> 525                     <a href="../D/29721.html" title="Multiple defined in 2 places.">printXMLChar</a>( ch );
<a id="L526" name="L526"></a> 526             <em class="brace">}</em>
<a id="L527" name="L527"></a> 527         <em class="brace">}</em>
<a id="L528" name="L528"></a> 528     <em class="brace">}</em>
<a id="L529" name="L529"></a> 529 
<a id="L530" name="L530"></a> 530 
<a id="L531" name="L531"></a> 531     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>() <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <strong class="reserved">super</strong>.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L533" name="L533"></a> 533         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L534" name="L534"></a> 534 
<a id="L535" name="L535"></a> 535     <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L183">[^]</a><a href="#L531">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>