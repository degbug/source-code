<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/time/chrono/ChronoZonedDateTimeImpl.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L134">[^]</a><a href="#L382">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L134" title="Defined at 134.">ofBest</a></li>
<li><a href="#L170" title="Defined at 170.">ofInstant</a></li>
<li><a href="#L186" title="Defined at 186.">SuppressWarnings</a></li>
<li><a href="#L187" title="Defined at 187.">create</a></li>
<li><a href="#L200" title="Defined at 200.">ensureValid</a></li>
<li><a href="#L226" title="Defined at 226.">getOffset</a></li>
<li><a href="#L231" title="Defined at 231.">withEarlierOffsetAtOverlap</a></li>
<li><a href="#L243" title="Defined at 243.">withLaterOffsetAtOverlap</a></li>
<li><a href="#L256" title="Defined at 256.">toLocalDateTime</a></li>
<li><a href="#L261" title="Defined at 261.">getZone</a></li>
<li><a href="#L266" title="Defined at 266.">withZoneSameLocal</a></li>
<li><a href="#L271" title="Defined at 271.">withZoneSameInstant</a></li>
<li><a href="#L278" title="Defined at 278.">isSupported</a></li>
<li><a href="#L284" title="Defined at 284.">with</a></li>
<li><a href="#L301" title="Defined at 301.">plus</a></li>
<li><a href="#L310" title="Defined at 310.">until</a></li>
<li><a href="#L336" title="Defined at 336.">writeReplace</a></li>
<li><a href="#L346" title="Defined at 346.">readObject</a></li>
<li><a href="#L350" title="Defined at 350.">writeExternal</a></li>
<li><a href="#L356" title="Defined at 356.">readExternal</a></li>
<li><a href="#L366" title="Defined at 366.">equals</a></li>
<li><a href="#L377" title="Defined at 377.">hashCode</a></li>
<li><a href="#L382" title="Defined at 382.">toString</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  Copyright (c) 2007-2012, Stephen Colebourne &amp; Michael Nascimento Santos
  All rights reserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
   * Neither the name of JSR-310 nor the names of its contributors
     may be used to endorse or promote products derived from this software
     without specific prior written permission.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<a id="L62" name="L62"></a>  62 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.chrono;
<a id="L63" name="L63"></a>  63 
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> static java.time.temporal.ChronoUnit.SECONDS;
<a id="L65" name="L65"></a>  65 
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> java.io.IOException;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> java.io.ObjectInput;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> java.io.ObjectOutput;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> java.time.Instant;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> java.time.LocalDateTime;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> java.time.ZoneId;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> java.time.ZoneOffset;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> java.time.temporal.ChronoField;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> java.time.temporal.ChronoUnit;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> java.time.temporal.Temporal;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> java.time.temporal.TemporalField;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> java.time.temporal.TemporalUnit;
<a id="L81" name="L81"></a>  81 <strong class="reserved">import</strong> java.time.zone.ZoneOffsetTransition;
<a id="L82" name="L82"></a>  82 <strong class="reserved">import</strong> java.time.zone.ZoneRules;
<a id="L83" name="L83"></a>  83 <strong class="reserved">import</strong> java.util.List;
<a id="L84" name="L84"></a>  84 <strong class="reserved">import</strong> java.util.Objects;
<a id="L85" name="L85"></a>  85 
<div class="comment">
  A date-time with a time-zone in the calendar neutral API.
  <p>
  <code>ZoneChronoDateTime</code> is an immutable representation of a date-time with a time-zone.
  This class stores all date and time fields, to a precision of nanoseconds,
  as well as a time-zone and zone offset.
  </p><p>
  The purpose of storing the time-zone is to distinguish the ambiguous case where
  the local time-line overlaps, typically as a result of the end of daylight time.
  Information about the local-time can be obtained using methods on the time-zone.
  @implSpec
  This class is immutable and thread-safe.
  @serial Document the delegation of this class in the serialized-form specification.
  @param <d> the concrete type for the date of this date-time
  @since 1.8</d></p></div>
<a id="L104" name="L104"></a> 104 <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/1356.html" title="Multiple referred from 21 places.">ChronoZonedDateTimeImpl</a>&lt;D <strong class="reserved">extends</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt;
<a id="L105" name="L105"></a> 105         <strong class="reserved">implements</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt;, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L106" name="L106"></a> 106 
<div class="comment">
      Serialization version.</div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -5261813987200935591L;
<a id="L111" name="L111"></a> 111 
<div class="comment">
      The local date-time.</div>
<a id="L115" name="L115"></a> 115     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1517.html#L100" title="Defined at 100 in src/java/time/chrono/ChronoLocalDateTimeImpl.java.">ChronoLocalDateTimeImpl</a>&lt;D&gt; <a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>;
<div class="comment">
      The zone offset.</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<div class="comment">
      The zone ID.</div>
<a id="L123" name="L123"></a> 123     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>;
<a id="L124" name="L124"></a> 124 
<a id="L125" name="L125"></a> 125     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Obtains an instance from a local date-time using the preferred offset if possible.
      @param localDateTime  the local date-time, not null
      @param zone  the zone identifier, not null
      @param preferredOffset  the zone offset, null if no preference
      @return the zoned date-time, not null</div>
<a id="L134" name="L134"></a> 134     <strong class="reserved">static</strong> &lt;R <strong class="reserved">extends</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt; <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;R&gt; <a href="../R/23904.html" title="Multiple referred from 4 places.">ofBest</a>(
<a id="L135" name="L135"></a> 135             <a href="../S/1517.html#L100" title="Defined at 100 in src/java/time/chrono/ChronoLocalDateTimeImpl.java.">ChronoLocalDateTimeImpl</a>&lt;R&gt; <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>, <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> preferredOffset) <em class="brace">{</em>
<a id="L136" name="L136"></a> 136         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>, "localDateTime");
<a id="L137" name="L137"></a> 137         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, "zone");
<a id="L138" name="L138"></a> 138         <strong class="reserved">if</strong> (<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> <strong class="reserved">instanceof</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>) <em class="brace">{</em>
<a id="L139" name="L139"></a> 139             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;&gt;(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>, (<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>) <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L140" name="L140"></a> 140         <em class="brace">}</em>
<a id="L141" name="L141"></a> 141         <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a> rules = <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>.<a href="../D/22187.html" title="Multiple defined in 8 places.">getRules</a>();
<a id="L142" name="L142"></a> 142         <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> isoLDT = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>);
<a id="L143" name="L143"></a> 143         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>&gt; validOffsets = rules.<a href="../D/23522.html" title="Multiple defined in 2 places.">getValidOffsets</a>(isoLDT);
<a id="L144" name="L144"></a> 144         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L145" name="L145"></a> 145         <strong class="reserved">if</strong> (validOffsets.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 1) <em class="brace">{</em>
<a id="L146" name="L146"></a> 146             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = validOffsets.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0);
<a id="L147" name="L147"></a> 147         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (validOffsets.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148             <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans = rules.<a href="../D/23255.html" title="Multiple defined in 2 places.">getTransition</a>(isoLDT);
<a id="L149" name="L149"></a> 149             <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a> = <a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>.<a href="../D/29368.html" title="Multiple defined in 8 places.">plusSeconds</a>(trans.<a href="../D/18627.html" title="Multiple defined in 10 places.">getDuration</a>().<a href="../D/22313.html" title="Multiple defined in 8 places.">getSeconds</a>());
<a id="L150" name="L150"></a> 150             <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = trans.<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>();
<a id="L151" name="L151"></a> 151         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L152" name="L152"></a> 152             <strong class="reserved">if</strong> (preferredOffset != <strong class="reserved">null</strong> &amp;&amp; validOffsets.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(preferredOffset)) <em class="brace">{</em>
<a id="L153" name="L153"></a> 153                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = preferredOffset;
<a id="L154" name="L154"></a> 154             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L155" name="L155"></a> 155                 <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = validOffsets.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(0);
<a id="L156" name="L156"></a> 156             <em class="brace">}</em>
<a id="L157" name="L157"></a> 157         <em class="brace">}</em>
<a id="L158" name="L158"></a> 158         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, "offset");  <em class="comment">// protect against bad ZoneRules</em>
<a id="L159" name="L159"></a> 159         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;&gt;(<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L160" name="L160"></a> 160     <em class="brace">}</em>
<a id="L161" name="L161"></a> 161 
<div class="comment">
      Obtains an instance from an instant using the specified time-zone.
      @param chrono  the chronology, not null
      @param instant  the instant, not null
      @param zone  the zone identifier, not null
      @return the zoned date-time, not null</div>
<a id="L170" name="L170"></a> 170     <strong class="reserved">static</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;?&gt; <a href="../R/23914.html" title="Multiple referred from 14 places.">ofInstant</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>, <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L171" name="L171"></a> 171         <a href="../S/1522.html#L110" title="Defined at 110 in src/java/time/zone/ZoneRules.java.">ZoneRules</a> rules = <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>.<a href="../D/22187.html" title="Multiple defined in 8 places.">getRules</a>();
<a id="L172" name="L172"></a> 172         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = rules.<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>);
<a id="L173" name="L173"></a> 173         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, "offset");  <em class="comment">// protect against bad ZoneRules</em>
<a id="L174" name="L174"></a> 174         <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a> ldt = <a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/28436.html" title="Multiple defined in 3 places.">ofEpochSecond</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../S/1490.html#L618" title="Defined at 618 in src/java/time/Instant.java.">getEpochSecond</a>(), <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>.<a href="../D/20832.html" title="Multiple defined in 7 places.">getNano</a>(), <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L175" name="L175"></a> 175         <a href="../S/1517.html#L100" title="Defined at 100 in src/java/time/chrono/ChronoLocalDateTimeImpl.java.">ChronoLocalDateTimeImpl</a>&lt;?&gt; cldt = (<a href="../S/1517.html#L100" title="Defined at 100 in src/java/time/chrono/ChronoLocalDateTimeImpl.java.">ChronoLocalDateTimeImpl</a>&lt;?&gt;)chrono.<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>(ldt);
<a id="L176" name="L176"></a> 176         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;&gt;(cldt, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L177" name="L177"></a> 177     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Obtains an instance from an <code>Instant</code>.
      @param instant  the instant to create the date-time from, not null
      @param zone  the time-zone to use, validated not null
      @return the zoned date-time, validated not null</div>
<a id="L186" name="L186"></a> 186     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L187" name="L187"></a> 187     <strong class="reserved">private</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;D&gt; <a href="../R/12190.html" title="Multiple referred from 234 places.">create</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>, <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L188" name="L188"></a> 188         <strong class="reserved">return</strong> (<a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;D&gt;)<a href="../D/28441.html" title="Multiple defined in 6 places.">ofInstant</a>(<a href="../D/17663.html" title="Multiple defined in 12 places.">getChronology</a>(), <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L189" name="L189"></a> 189     <em class="brace">}</em>
<a id="L190" name="L190"></a> 190 
<div class="comment">
      Casts the <code>Temporal</code> to <code>ChronoZonedDateTimeImpl</code> ensuring it bas the specified chronology.
      @param chrono  the chronology to check for, not null
      @param temporal  a date-time to cast, not null
      @return the date-time checked and cast to <code>ChronoZonedDateTimeImpl</code>, not null
      @throws ClassCastException if the date-time cannot be cast to ChronoZonedDateTimeImpl
       or the chronology is not equal this Chronology</div>
<a id="L200" name="L200"></a> 200     <strong class="reserved">static</strong> &lt;R <strong class="reserved">extends</strong> <a href="../S/1493.html#L240" title="Defined at 240 in src/java/time/chrono/ChronoLocalDate.java.">ChronoLocalDate</a>&gt; <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;R&gt; <a href="../R/13944.html" title="Multiple referred from 22 places.">ensureValid</a>(<a href="../S/1511.html#L158" title="Defined at 158 in src/java/time/chrono/Chronology.java.">Chronology</a> chrono, <a href="../S/1468.html#L129" title="Defined at 129 in src/java/time/temporal/Temporal.java.">Temporal</a> temporal) <em class="brace">{</em>
<a id="L201" name="L201"></a> 201         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L202" name="L202"></a> 202         <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;R&gt; other = (<a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;R&gt;) temporal;
<a id="L203" name="L203"></a> 203         <strong class="reserved">if</strong> (chrono.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(other.<a href="../D/17663.html" title="Multiple defined in 12 places.">getChronology</a>()) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a>("Chronology mismatch, required: " + chrono.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>()
<a id="L205" name="L205"></a> 205                     + ", actual: " + other.<a href="../D/17663.html" title="Multiple defined in 12 places.">getChronology</a>().<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>());
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207         <strong class="reserved">return</strong> other;
<a id="L208" name="L208"></a> 208     <em class="brace">}</em>
<a id="L209" name="L209"></a> 209 
<a id="L210" name="L210"></a> 210     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Constructor.
      @param dateTime  the date-time, not null
      @param offset  the zone offset, not null
      @param zone  the zone ID, not null</div>
<a id="L218" name="L218"></a> 218     <strong class="reserved">private</strong> ChronoZonedDateTimeImpl(<a href="../S/1517.html#L100" title="Defined at 100 in src/java/time/chrono/ChronoLocalDateTimeImpl.java.">ChronoLocalDateTimeImpl</a>&lt;D&gt; <a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>, <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219         <strong class="reserved">this</strong>.<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a> = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>, "dateTime");
<a id="L220" name="L220"></a> 220         <strong class="reserved">this</strong>.<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, "offset");
<a id="L221" name="L221"></a> 221         <strong class="reserved">this</strong>.<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> = <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, "zone");
<a id="L222" name="L222"></a> 222     <em class="brace">}</em>
<a id="L223" name="L223"></a> 223 
<a id="L224" name="L224"></a> 224     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L225" name="L225"></a> 225     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L226" name="L226"></a> 226     <strong class="reserved">public</strong> <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../R/18115.html" title="Multiple referred from 163 places.">getOffset</a>() <em class="brace">{</em>
<a id="L227" name="L227"></a> 227         <strong class="reserved">return</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>;
<a id="L228" name="L228"></a> 228     <em class="brace">}</em>
<a id="L229" name="L229"></a> 229 
<a id="L230" name="L230"></a> 230     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L231" name="L231"></a> 231     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; withEarlierOffsetAtOverlap() <em class="brace">{</em>
<a id="L232" name="L232"></a> 232         <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans = <a href="../D/23816.html" title="Multiple defined in 10 places.">getZone</a>().<a href="../D/22187.html" title="Multiple defined in 8 places.">getRules</a>().<a href="../D/23255.html" title="Multiple defined in 2 places.">getTransition</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(<strong class="reserved">this</strong>));
<a id="L233" name="L233"></a> 233         <strong class="reserved">if</strong> (trans != <strong class="reserved">null</strong> &amp;&amp; trans.<a href="../S/1520.html#L356" title="Defined at 356 in src/java/time/zone/ZoneOffsetTransition.java.">isOverlap</a>()) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> earlierOffset = trans.<a href="../D/21178.html" title="Multiple defined in 2 places.">getOffsetBefore</a>();
<a id="L235" name="L235"></a> 235             <strong class="reserved">if</strong> (earlierOffset.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L236" name="L236"></a> 236                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;&gt;(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>, earlierOffset, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L237" name="L237"></a> 237             <em class="brace">}</em>
<a id="L238" name="L238"></a> 238         <em class="brace">}</em>
<a id="L239" name="L239"></a> 239         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L240" name="L240"></a> 240     <em class="brace">}</em>
<a id="L241" name="L241"></a> 241 
<a id="L242" name="L242"></a> 242     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L243" name="L243"></a> 243     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; withLaterOffsetAtOverlap() <em class="brace">{</em>
<a id="L244" name="L244"></a> 244         <a href="../S/1520.html#L99" title="Defined at 99 in src/java/time/zone/ZoneOffsetTransition.java.">ZoneOffsetTransition</a> trans = <a href="../D/23816.html" title="Multiple defined in 10 places.">getZone</a>().<a href="../D/22187.html" title="Multiple defined in 8 places.">getRules</a>().<a href="../D/23255.html" title="Multiple defined in 2 places.">getTransition</a>(<a href="../S/1518.html#L135" title="Defined at 135 in src/java/time/LocalDateTime.java.">LocalDateTime</a>.<a href="../D/16586.html" title="Multiple defined in 37 places.">from</a>(<strong class="reserved">this</strong>));
<a id="L245" name="L245"></a> 245         <strong class="reserved">if</strong> (trans != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L246" name="L246"></a> 246             <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = trans.<a href="../D/21177.html" title="Multiple defined in 2 places.">getOffsetAfter</a>();
<a id="L247" name="L247"></a> 247             <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>()) == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L248" name="L248"></a> 248                 <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>&lt;&gt;(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L249" name="L249"></a> 249             <em class="brace">}</em>
<a id="L250" name="L250"></a> 250         <em class="brace">}</em>
<a id="L251" name="L251"></a> 251         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L252" name="L252"></a> 252     <em class="brace">}</em>
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L255" name="L255"></a> 255     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L256" name="L256"></a> 256     <strong class="reserved">public</strong> <a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;D&gt; <a href="../R/29284.html" title="Multiple referred from 16 places.">toLocalDateTime</a>() <em class="brace">{</em>
<a id="L257" name="L257"></a> 257         <strong class="reserved">return</strong> <a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>;
<a id="L258" name="L258"></a> 258     <em class="brace">}</em>
<a id="L259" name="L259"></a> 259 
<a id="L260" name="L260"></a> 260     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L261" name="L261"></a> 261     <strong class="reserved">public</strong> <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../R/19958.html" title="Multiple referred from 66 places.">getZone</a>() <em class="brace">{</em>
<a id="L262" name="L262"></a> 262         <strong class="reserved">return</strong> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>;
<a id="L263" name="L263"></a> 263     <em class="brace">}</em>
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L266" name="L266"></a> 266     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; <a href="../S/1505.html#L360" title="Referred from 360 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">withZoneSameLocal</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L267" name="L267"></a> 267         <strong class="reserved">return</strong> <a href="../S/1505.html#L134" title="Defined at 134 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ofBest</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L268" name="L268"></a> 268     <em class="brace">}</em>
<a id="L269" name="L269"></a> 269 
<a id="L270" name="L270"></a> 270     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L271" name="L271"></a> 271     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; <a href="../R/30518.html" title="Multiple referred from 2 places.">withZoneSameInstant</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L272" name="L272"></a> 272         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, "zone");
<a id="L273" name="L273"></a> 273         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) ? <strong class="reserved">this</strong> : <a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>.<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>), <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L277" name="L277"></a> 277     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L278" name="L278"></a> 278     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/22081.html" title="Multiple referred from 65 places.">isSupported</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field) <em class="brace">{</em>
<a id="L279" name="L279"></a> 279         <strong class="reserved">return</strong> field <strong class="reserved">instanceof</strong> <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a> || (field != <strong class="reserved">null</strong> &amp;&amp; field.<a href="../D/26317.html" title="Multiple defined in 7 places.">isSupportedBy</a>(<strong class="reserved">this</strong>));
<a id="L280" name="L280"></a> 280     <em class="brace">}</em>
<a id="L281" name="L281"></a> 281 
<a id="L282" name="L282"></a> 282     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L283" name="L283"></a> 283     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L284" name="L284"></a> 284     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; <a href="../R/30500.html" title="Multiple referred from 160 places.">with</a>(<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a> field, <strong class="reserved">long</strong> newValue) <em class="brace">{</em>
<a id="L285" name="L285"></a> 285         <strong class="reserved">if</strong> (field <strong class="reserved">instanceof</strong> <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286             <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a> f = (<a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>) field;
<a id="L287" name="L287"></a> 287             <strong class="reserved">switch</strong> (f) <em class="brace">{</em>
<a id="L288" name="L288"></a> 288                 <strong class="reserved">case</strong> <a href="../S/1483.html#L577" title="Defined at 577 in src/java/time/temporal/ChronoField.java.">INSTANT_SECONDS</a>: <strong class="reserved">return</strong> <a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(newValue - <a href="../D/35393.html" title="Multiple defined in 4 places.">toEpochSecond</a>(), <a href="../S/1469.html#L99" title="Defined at 99 in src/java/time/temporal/ChronoUnit.java.">SECONDS</a>);
<a id="L289" name="L289"></a> 289                 <strong class="reserved">case</strong> <a href="../S/1483.html#L591" title="Defined at 591 in src/java/time/temporal/ChronoField.java.">OFFSET_SECONDS</a>: <em class="brace">{</em>
<a id="L290" name="L290"></a> 290                     <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>.<a href="../S/1553.html#L413" title="Defined at 413 in src/java/time/ZoneOffset.java.">ofTotalSeconds</a>(f.<a href="../D/12702.html" title="Multiple defined in 2 places.">checkValidIntValue</a>(newValue));
<a id="L291" name="L291"></a> 291                     <strong class="reserved">return</strong> <a href="../D/13587.html" title="Multiple defined in 90 places.">create</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>.<a href="../D/35414.html" title="Multiple defined in 9 places.">toInstant</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>), <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L292" name="L292"></a> 292                 <em class="brace">}</em>
<a id="L293" name="L293"></a> 293             <em class="brace">}</em>
<a id="L294" name="L294"></a> 294             <strong class="reserved">return</strong> <a href="../S/1505.html#L134" title="Defined at 134 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ofBest</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>.<a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(field, newValue), <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">return</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>.<a href="../D/15634.html" title="Multiple defined in 3 places.">ensureValid</a>(<a href="../D/17663.html" title="Multiple defined in 12 places.">getChronology</a>(), field.<a href="../D/11225.html" title="Multiple defined in 20 places.">adjustInto</a>(<strong class="reserved">this</strong>, newValue));
<a id="L297" name="L297"></a> 297     <em class="brace">}</em>
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L300" name="L300"></a> 300     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L301" name="L301"></a> 301     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; <a href="../R/24754.html" title="Multiple referred from 106 places.">plus</a>(<strong class="reserved">long</strong> amountToAdd, <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> unit) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302         <strong class="reserved">if</strong> (unit <strong class="reserved">instanceof</strong> <a href="../S/1469.html#L77" title="Defined at 77 in src/java/time/temporal/ChronoUnit.java.">ChronoUnit</a>) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303             <strong class="reserved">return</strong> <a href="../D/36897.html" title="Multiple defined in 48 places.">with</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>.<a href="../D/29361.html" title="Multiple defined in 51 places.">plus</a>(amountToAdd, unit));
<a id="L304" name="L304"></a> 304         <em class="brace">}</em>
<a id="L305" name="L305"></a> 305         <strong class="reserved">return</strong> <a href="../S/1505.html#L104" title="Defined at 104 in src/java/time/chrono/ChronoZonedDateTimeImpl.java.">ChronoZonedDateTimeImpl</a>.<a href="../D/15634.html" title="Multiple defined in 3 places.">ensureValid</a>(<a href="../D/17663.html" title="Multiple defined in 12 places.">getChronology</a>(), unit.<a href="../D/11116.html" title="Multiple defined in 14 places.">addTo</a>(<strong class="reserved">this</strong>, amountToAdd));   <em class="comment">/// TODO: Generics replacement Risk!</em>
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 
<a id="L308" name="L308"></a> 308     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L309" name="L309"></a> 309     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L310" name="L310"></a> 310     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/29792.html" title="Multiple referred from 18 places.">until</a>(<a href="../S/1468.html#L129" title="Defined at 129 in src/java/time/temporal/Temporal.java.">Temporal</a> endExclusive, <a href="../S/1473.html#L97" title="Defined at 97 in src/java/time/temporal/TemporalUnit.java.">TemporalUnit</a> unit) <em class="brace">{</em>
<a id="L311" name="L311"></a> 311         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(endExclusive, "endExclusive");
<a id="L312" name="L312"></a> 312         @<a href="../D/8551.html" title="Multiple defined in 725 places.">SuppressWarnings</a>("unchecked")
<a id="L313" name="L313"></a> 313         <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = (<a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;D&gt;) <a href="../D/17663.html" title="Multiple defined in 12 places.">getChronology</a>().<a href="../D/37340.html" title="Multiple defined in 12 places.">zonedDateTime</a>(endExclusive);
<a id="L314" name="L314"></a> 314         <strong class="reserved">if</strong> (unit <strong class="reserved">instanceof</strong> <a href="../S/1469.html#L77" title="Defined at 77 in src/java/time/temporal/ChronoUnit.java.">ChronoUnit</a>) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315             <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>.<a href="../D/36938.html" title="Multiple defined in 3 places.">withZoneSameInstant</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L316" name="L316"></a> 316             <strong class="reserved">return</strong> <a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>.<a href="../D/36020.html" title="Multiple defined in 20 places.">until</a>(<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>.<a href="../D/35430.html" title="Multiple defined in 5 places.">toLocalDateTime</a>(), unit);
<a id="L317" name="L317"></a> 317         <em class="brace">}</em>
<a id="L318" name="L318"></a> 318         <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(unit, "unit");
<a id="L319" name="L319"></a> 319         <strong class="reserved">return</strong> unit.<a href="../D/11827.html" title="Multiple defined in 7 places.">between</a>(<strong class="reserved">this</strong>, <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>);
<a id="L320" name="L320"></a> 320     <em class="brace">}</em>
<a id="L321" name="L321"></a> 321 
<a id="L322" name="L322"></a> 322     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Writes the ChronoZonedDateTime using a
      <a href="../../../serialized-form.html#java.time.chrono.Ser">dedicated serialized form</a>.
      @serialData
      <pre>       out.writeByte(3);                  // identifies a ChronoZonedDateTime
       out.writeObject(toLocalDateTime());
       out.writeObject(getOffset());
       out.writeObject(getZone());
      </pre>
      @return the instance of <code>Ser</code>, not null</div>
<a id="L336" name="L336"></a> 336     <strong class="reserved">private</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/30703.html" title="Multiple referred from 7 places.">writeReplace</a>() <em class="brace">{</em>
<a id="L337" name="L337"></a> 337         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>(<a href="../D/7725.html" title="Multiple defined in 3 places.">Ser</a>.CHRONO_ZONE_DATE_TIME_TYPE, <strong class="reserved">this</strong>);
<a id="L338" name="L338"></a> 338     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<div class="comment">
      Defend against malicious streams.
      @param s the stream to read
      @throws InvalidObjectException always</div>
<a id="L346" name="L346"></a> 346     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a> <em class="brace">{</em>
<a id="L347" name="L347"></a> 347         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Deserialization via serialization delegate");
<a id="L348" name="L348"></a> 348     <em class="brace">}</em>
<a id="L349" name="L349"></a> 349 
<a id="L350" name="L350"></a> 350     <strong class="reserved">void</strong> <a href="../R/30621.html" title="Multiple referred from 43 places.">writeExternal</a>(<a href="../S/1380.html#L39" title="Defined at 39 in src/java/io/ObjectOutput.java.">ObjectOutput</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L351" name="L351"></a> 351         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>);
<a id="L352" name="L352"></a> 352         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L353" name="L353"></a> 353         <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L354" name="L354"></a> 354     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356     <strong class="reserved">static</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;?&gt; <a href="../R/25469.html" title="Multiple referred from 41 places.">readExternal</a>(<a href="../S/1375.html#L39" title="Defined at 39 in src/java/io/ObjectInput.java.">ObjectInput</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L357" name="L357"></a> 357         <a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;?&gt; <a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a> = (<a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;?&gt;) <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L358" name="L358"></a> 358         <a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = (<a href="../S/1553.html#L130" title="Defined at 130 in src/java/time/ZoneOffset.java.">ZoneOffset</a>) <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L359" name="L359"></a> 359         <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a> = (<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a>) <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L360" name="L360"></a> 360         <strong class="reserved">return</strong> <a href="../S/6265.html#L78" title="Defined at 78 in src/com/sun/org/apache/xalan/internal/lib/ExsltDatetime.java.">dateTime</a>.<a href="../D/11613.html" title="Multiple defined in 4 places.">atZone</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>).<a href="../D/36939.html" title="Multiple defined in 3 places.">withZoneSameLocal</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L361" name="L361"></a> 361         <em class="comment">// TODO: ZDT uses ofLenient()</em>
<a id="L362" name="L362"></a> 362     <em class="brace">}</em>
<a id="L363" name="L363"></a> 363 
<a id="L364" name="L364"></a> 364     <em class="comment">//-------------------------------------------------------------------------</em>
<a id="L365" name="L365"></a> 365     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L366" name="L366"></a> 366     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L369" name="L369"></a> 369         <em class="brace">}</em>
<a id="L370" name="L370"></a> 370         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             <strong class="reserved">return</strong> <a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>((<a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;?&gt;) obj) == 0;
<a id="L372" name="L372"></a> 372         <em class="brace">}</em>
<a id="L373" name="L373"></a> 373         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L374" name="L374"></a> 374     <em class="brace">}</em>
<a id="L375" name="L375"></a> 375 
<a id="L376" name="L376"></a> 376     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L377" name="L377"></a> 377     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L378" name="L378"></a> 378         <strong class="reserved">return</strong> <a href="../D/35430.html" title="Multiple defined in 5 places.">toLocalDateTime</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() ^ <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() ^ <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/31454.html" title="Multiple defined in 5 places.">rotateLeft</a>(<a href="../D/23816.html" title="Multiple defined in 10 places.">getZone</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(), 3);
<a id="L379" name="L379"></a> 379     <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L382" name="L382"></a> 382     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L383" name="L383"></a> 383         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> = <a href="../D/35430.html" title="Multiple defined in 5 places.">toLocalDateTime</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + <a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L384" name="L384"></a> 384         <strong class="reserved">if</strong> (<a href="../D/21176.html" title="Multiple defined in 43 places.">getOffset</a>() != <a href="../D/23816.html" title="Multiple defined in 10 places.">getZone</a>()) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385             <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a> += '[' + <a href="../D/23816.html" title="Multiple defined in 10 places.">getZone</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + ']';
<a id="L386" name="L386"></a> 386         <em class="brace">}</em>
<a id="L387" name="L387"></a> 387         <strong class="reserved">return</strong> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>;
<a id="L388" name="L388"></a> 388     <em class="brace">}</em>
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L134">[^]</a><a href="#L382">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>