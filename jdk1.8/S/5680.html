<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L60">[^]</a><a href="#L990">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L60" title="Defined at 60.">booleanValue</a></li>
<li><a href="#L86" title="Defined at 86.">setDsPrefix</a></li>
<li><a href="#L97" title="Defined at 97.">setDs11Prefix</a></li>
<li><a href="#L108" title="Defined at 108.">setXencPrefix</a></li>
<li><a href="#L119" title="Defined at 119.">setXenc11Prefix</a></li>
<li><a href="#L124" title="Defined at 124.">getNextElement</a></li>
<li><a href="#L138" title="Defined at 138.">getSet</a></li>
<li><a href="#L145" title="Defined at 145.">SuppressWarnings</a></li>
<li><a href="#L146" title="Defined at 146.">getSetRec</a></li>
<li><a href="#L195" title="Defined at 195.">outputDOM</a></li>
<li><a href="#L208" title="Defined at 208.">outputDOM</a></li>
<li><a href="#L246" title="Defined at 246.">outputDOMc14nWithComments</a></li>
<li><a href="#L275" title="Defined at 275.">getFullTextChildrenFromElement</a></li>
<li><a href="#L296" title="Defined at 296.">createElementInSignatureSpace</a></li>
<li><a href="#L314" title="Defined at 314.">createElementInSignature11Space</a></li>
<li><a href="#L332" title="Defined at 332.">createElementInEncryptionSpace</a></li>
<li><a href="#L353" title="Defined at 353.">createElementInEncryption11Space</a></li>
<li><a href="#L376" title="Defined at 376.">elementIsInSignatureSpace</a></li>
<li><a href="#L394" title="Defined at 394.">elementIsInSignature11Space</a></li>
<li><a href="#L412" title="Defined at 412.">elementIsInEncryptionSpace</a></li>
<li><a href="#L429" title="Defined at 429.">elementIsInEncryption11Space</a></li>
<li><a href="#L446" title="Defined at 446.">getOwnerDocument</a></li>
<li><a href="#L468" title="Defined at 468.">getOwnerDocument</a></li>
<li><a href="#L498" title="Defined at 498.">createDSctx</a></li>
<li><a href="#L515" title="Defined at 515.">addReturnToElement</a></li>
<li><a href="#L522" title="Defined at 522.">addReturnToElement</a></li>
<li><a href="#L528" title="Defined at 528.">addReturnBeforeChild</a></li>
<li><a href="#L541" title="Defined at 541.">convertNodelistToSet</a></li>
<li><a href="#L568" title="Defined at 568.">circumventBug2650</a></li>
<li><a href="#L590" title="Defined at 590.">SuppressWarnings</a></li>
<li><a href="#L591" title="Defined at 591.">circumventBug2650internal</a></li>
<li><a href="#L654" title="Defined at 654.">selectDsNode</a></li>
<li><a href="#L674" title="Defined at 674.">selectDs11Node</a></li>
<li><a href="#L694" title="Defined at 694.">selectXencNode</a></li>
<li><a href="#L715" title="Defined at 715.">selectDsNodeText</a></li>
<li><a href="#L733" title="Defined at 733.">selectDs11NodeText</a></li>
<li><a href="#L752" title="Defined at 752.">selectNodeText</a></li>
<li><a href="#L771" title="Defined at 771.">selectNode</a></li>
<li><a href="#L790" title="Defined at 790.">selectDsNodes</a></li>
<li><a href="#L799" title="Defined at 799.">selectDs11Nodes</a></li>
<li><a href="#L809" title="Defined at 809.">selectNodes</a></li>
<li><a href="#L826" title="Defined at 826.">excludeNodeFromSet</a></li>
<li><a href="#L846" title="Defined at 846.">getStrFromNode</a></li>
<li><a href="#L878" title="Defined at 878.">isDescendantOrSelf</a></li>
<li><a href="#L902" title="Defined at 902.">ignoreLineBreaks</a></li>
<li><a href="#L920" title="Defined at 920.">getAttributeValue</a></li>
<li><a href="#L931" title="Defined at 931.">protectAgainstWrappingAttack</a></li>
<li><a href="#L990" title="Defined at 990.">protectAgainstWrappingAttack</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Licensed to the Apache Software Foundation (ASF) under one
  or more contributor license agreements. See the NOTICE file
  distributed with this work for additional information
  regarding copyright ownership. The ASF licenses this file
  to you under the Apache License, Version 2.0 (the
  "License"); you may not use this file except in compliance
  with the License. You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied. See the License for the
  specific language governing permissions and limitations
  under the License.</div>
<a id="L23" name="L23"></a>  23 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.security.utils;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.IOException;
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.HashSet;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.List;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.Set;
<a id="L34" name="L34"></a>  34 
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.CanonicalizationException;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.Canonicalizer;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.security.c14n.InvalidCanonicalizerException;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> org.w3c.dom.Attr;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> org.w3c.dom.NodeList;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> org.w3c.dom.ProcessingInstruction;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> org.w3c.dom.Text;
<a id="L46" name="L46"></a>  46 
<div class="comment">
  DOM and XML accessibility and comfort functions.
  @author Christian Geuer-Pollmann</div>
<a id="L52" name="L52"></a>  52 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/9080.html" title="Multiple referred from 274 places.">XMLUtils</a> <em class="brace">{</em>
<a id="L53" name="L53"></a>  53 
<a id="L54" name="L54"></a>  54     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/5680.html#L902" title="Defined at 902 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">ignoreLineBreaks</a> =
<a id="L55" name="L55"></a>  55         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>&gt;() <em class="brace">{</em>
<a id="L56" name="L56"></a>  56             <strong class="reserved">public</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L57" name="L57"></a>  57                 <strong class="reserved">return</strong> <a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.<a href="../D/17286.html" title="Multiple defined in 18 places.">getBoolean</a>
<a id="L58" name="L58"></a>  58                     ("com.sun.org.apache.xml.internal.security.ignoreLineBreaks"));
<a id="L59" name="L59"></a>  59             <em class="brace">}</em>
<a id="L60" name="L60"></a>  60         <em class="brace">}</em>).<a href="../R/10646.html" title="Multiple referred from 249 places.">booleanValue</a>();
<a id="L61" name="L61"></a>  61 
<a id="L62" name="L62"></a>  62     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dsPrefix = "ds";
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> ds11Prefix = "dsig11";
<a id="L64" name="L64"></a>  64     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> xencPrefix = "xenc";
<a id="L65" name="L65"></a>  65     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">volatile</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> xenc11Prefix = "xenc11";
<a id="L66" name="L66"></a>  66 
<div class="comment">
     /** {@link org.apache.commons.logging} logging facility */</div>
<a id="L68" name="L68"></a>  68     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a> <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a> =
<a id="L69" name="L69"></a>  69         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1170.html#L218" title="Defined at 218 in src/java/util/logging/Logger.java.">Logger</a>.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>(<a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<strong class="reserved">class</strong>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L70" name="L70"></a>  70 
<a id="L71" name="L71"></a>  71 
<div class="comment">
      Constructor XMLUtils</div>
<a id="L76" name="L76"></a>  76     <strong class="reserved">private</strong> XMLUtils() <em class="brace">{</em>
<a id="L77" name="L77"></a>  77         <em class="comment">// we don't allow instantiation</em>
<a id="L78" name="L78"></a>  78     <em class="brace">}</em>
<a id="L79" name="L79"></a>  79 
<div class="comment">
      Set the prefix for the digital signature namespace
      @param prefix the new prefix for the digital signature namespace
      @throws SecurityException if a security manager is installed and the
         caller does not have permission to set the prefix</div>
<a id="L86" name="L86"></a>  86     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5696.html#L487" title="Referred from 487 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">setDsPrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L87" name="L87"></a>  87         <a href="../S/5690.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">JavaUtils</a>.<a href="../S/5690.html#L164" title="Defined at 164 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">checkRegisterPermission</a>();
<a id="L88" name="L88"></a>  88         dsPrefix = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L89" name="L89"></a>  89     <em class="brace">}</em>
<a id="L90" name="L90"></a>  90 
<div class="comment">
      Set the prefix for the digital signature 1.1 namespace
      @param prefix the new prefix for the digital signature 1.1 namespace
      @throws SecurityException if a security manager is installed and the
         caller does not have permission to set the prefix</div>
<a id="L97" name="L97"></a>  97     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> setDs11Prefix(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L98" name="L98"></a>  98         <a href="../S/5690.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">JavaUtils</a>.<a href="../S/5690.html#L164" title="Defined at 164 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">checkRegisterPermission</a>();
<a id="L99" name="L99"></a>  99         ds11Prefix = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L100" name="L100"></a> 100     <em class="brace">}</em>
<a id="L101" name="L101"></a> 101 
<div class="comment">
      Set the prefix for the encryption namespace
      @param prefix the new prefix for the encryption namespace
      @throws SecurityException if a security manager is installed and the
         caller does not have permission to set the prefix</div>
<a id="L108" name="L108"></a> 108     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5696.html#L490" title="Referred from 490 in src/com/sun/org/apache/xml/internal/security/utils/ElementProxy.java.">setXencPrefix</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L109" name="L109"></a> 109         <a href="../S/5690.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">JavaUtils</a>.<a href="../S/5690.html#L164" title="Defined at 164 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">checkRegisterPermission</a>();
<a id="L110" name="L110"></a> 110         xencPrefix = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L111" name="L111"></a> 111     <em class="brace">}</em>
<a id="L112" name="L112"></a> 112 
<div class="comment">
      Set the prefix for the encryption namespace 1.1
      @param prefix the new prefix for the encryption namespace 1.1
      @throws SecurityException if a security manager is installed and the
         caller does not have permission to set the prefix</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> setXenc11Prefix(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>) <em class="brace">{</em>
<a id="L120" name="L120"></a> 120         <a href="../S/5690.html#L37" title="Defined at 37 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">JavaUtils</a>.<a href="../S/5690.html#L164" title="Defined at 164 in src/com/sun/org/apache/xml/internal/security/utils/JavaUtils.java.">checkRegisterPermission</a>();
<a id="L121" name="L121"></a> 121         xenc11Prefix = <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L122" name="L122"></a> 122     <em class="brace">}</em>
<a id="L123" name="L123"></a> 123 
<a id="L124" name="L124"></a> 124     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/17910.html" title="Multiple referred from 14 places.">getNextElement</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> el) <em class="brace">{</em>
<a id="L125" name="L125"></a> 125         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = el;
<a id="L126" name="L126"></a> 126         <strong class="reserved">while</strong> ((<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE)) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L128" name="L128"></a> 128         <em class="brace">}</em>
<a id="L129" name="L129"></a> 129         <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L130" name="L130"></a> 130     <em class="brace">}</em>
<a id="L131" name="L131"></a> 131 
<div class="comment">
      @param rootNode
      @param result
      @param exclude
      @param com whether comments or not</div>
<a id="L138" name="L138"></a> 138     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/19002.html" title="Multiple referred from 3 places.">getSet</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> exclude, <strong class="reserved">boolean</strong> com) <em class="brace">{</em>
<a id="L139" name="L139"></a> 139         <strong class="reserved">if</strong> ((exclude != <strong class="reserved">null</strong>) &amp;&amp; <a href="../S/5680.html#L878" title="Defined at 878 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">isDescendantOrSelf</a>(exclude, <a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>)) <em class="brace">{</em>
<a id="L140" name="L140"></a> 140             <strong class="reserved">return</strong>;
<a id="L141" name="L141"></a> 141         <em class="brace">}</em>
<a id="L142" name="L142"></a> 142         <a href="../S/5680.html#L146" title="Defined at 146 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">getSetRec</a>(<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>, <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, exclude, com);
<a id="L143" name="L143"></a> 143     <em class="brace">}</em>
<a id="L144" name="L144"></a> 144 
<a id="L145" name="L145"></a> 145     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("fallthrough")
<a id="L146" name="L146"></a> 146     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/19003.html" title="Multiple referred from 2 places.">getSetRec</a>(<strong class="reserved">final</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>, <strong class="reserved">final</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>,
<a id="L147" name="L147"></a> 147                                 <strong class="reserved">final</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> exclude, <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> com) <em class="brace">{</em>
<a id="L148" name="L148"></a> 148         <strong class="reserved">if</strong> (<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a> == exclude) <em class="brace">{</em>
<a id="L149" name="L149"></a> 149             <strong class="reserved">return</strong>;
<a id="L150" name="L150"></a> 150         <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         <strong class="reserved">switch</strong> (<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L152" name="L152"></a> 152         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE:
<a id="L153" name="L153"></a> 153             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>);
<a id="L154" name="L154"></a> 154             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> el = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>;
<a id="L155" name="L155"></a> 155             <strong class="reserved">if</strong> (el.<a href="../D/24061.html" title="Multiple defined in 12 places.">hasAttributes</a>()) <em class="brace">{</em>
<a id="L156" name="L156"></a> 156                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> nl = el.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L157" name="L157"></a> 157                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0;i &lt; nl.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L158" name="L158"></a> 158                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(nl.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i));
<a id="L159" name="L159"></a> 159                 <em class="brace">}</em>
<a id="L160" name="L160"></a> 160             <em class="brace">}</em>
<a id="L161" name="L161"></a> 161             <em class="comment">//no return keep working</em>
<a id="L162" name="L162"></a> 162         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE:
<a id="L163" name="L163"></a> 163             <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> r = <a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(); r != <strong class="reserved">null</strong>; r = r.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L164" name="L164"></a> 164                 <strong class="reserved">if</strong> (r.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L165" name="L165"></a> 165                     <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(r);
<a id="L166" name="L166"></a> 166                     <strong class="reserved">while</strong> ((r != <strong class="reserved">null</strong>) &amp;&amp; (r.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE)) <em class="brace">{</em>
<a id="L167" name="L167"></a> 167                         r = r.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L168" name="L168"></a> 168                     <em class="brace">}</em>
<a id="L169" name="L169"></a> 169                     <strong class="reserved">if</strong> (r == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170                         <strong class="reserved">return</strong>;
<a id="L171" name="L171"></a> 171                     <em class="brace">}</em>
<a id="L172" name="L172"></a> 172                 <em class="brace">}</em>
<a id="L173" name="L173"></a> 173                 <a href="../S/5680.html#L146" title="Defined at 146 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">getSetRec</a>(r, <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>, exclude, com);
<a id="L174" name="L174"></a> 174             <em class="brace">}</em>
<a id="L175" name="L175"></a> 175             <strong class="reserved">return</strong>;
<a id="L176" name="L176"></a> 176         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.COMMENT_NODE:
<a id="L177" name="L177"></a> 177             <strong class="reserved">if</strong> (com) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178                 <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>);
<a id="L179" name="L179"></a> 179             <em class="brace">}</em>
<a id="L180" name="L180"></a> 180             <strong class="reserved">return</strong>;
<a id="L181" name="L181"></a> 181         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_TYPE_NODE:
<a id="L182" name="L182"></a> 182             <strong class="reserved">return</strong>;
<a id="L183" name="L183"></a> 183         <strong class="reserved">default</strong>:
<a id="L184" name="L184"></a> 184             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/6357.html#L63" title="Defined at 63 in src/com/sun/jmx/snmp/IPAcl/JJTParserState.java.">rootNode</a>);
<a id="L185" name="L185"></a> 185         <em class="brace">}</em>
<a id="L186" name="L186"></a> 186     <em class="brace">}</em>
<a id="L187" name="L187"></a> 187 
<a id="L188" name="L188"></a> 188 
<div class="comment">
      Outputs a DOM tree to an {@link OutputStream}.
      @param contextNode root node of the DOM tree
      @param os the {@link OutputStream}</div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5680.html#L196" title="Referred from 196 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">outputDOM</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> contextNode, <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os) <em class="brace">{</em>
<a id="L196" name="L196"></a> 196         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../D/28603.html" title="Multiple defined in 2 places.">outputDOM</a>(contextNode, os, <strong class="reserved">false</strong>);
<a id="L197" name="L197"></a> 197     <em class="brace">}</em>
<a id="L198" name="L198"></a> 198 
<div class="comment">
      Outputs a DOM tree to an {@link OutputStream}. <i>If an Exception is
      thrown during execution, it's StackTrace is output to System.out, but the
      Exception is not re-thrown.</i>
      @param contextNode root node of the DOM tree
      @param os the {@link OutputStream}
      @param addPreamble</div>
<a id="L208" name="L208"></a> 208     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5680.html#L196" title="Referred from 196 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">outputDOM</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> contextNode, <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os, <strong class="reserved">boolean</strong> addPreamble) <em class="brace">{</em>
<a id="L209" name="L209"></a> 209         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L210" name="L210"></a> 210             <strong class="reserved">if</strong> (addPreamble) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211                 os.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n".<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>("UTF-8"));
<a id="L212" name="L212"></a> 212             <em class="brace">}</em>
<a id="L213" name="L213"></a> 213 
<a id="L214" name="L214"></a> 214             os.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(
<a id="L215" name="L215"></a> 215                 <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_WITH_COMMENTS).<a href="../D/12236.html" title="Multiple defined in 2 places.">canonicalizeSubtree</a>(contextNode)
<a id="L216" name="L216"></a> 216             );
<a id="L217" name="L217"></a> 217         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L218" name="L218"></a> 218             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L220" name="L220"></a> 220             <em class="brace">}</em>
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222         <strong class="reserved">catch</strong> (<a href="../S/5622.html#L27" title="Defined at 27 in src/com/sun/org/apache/xml/internal/security/c14n/InvalidCanonicalizerException.java.">InvalidCanonicalizerException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L223" name="L223"></a> 223             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L224" name="L224"></a> 224                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L225" name="L225"></a> 225             <em class="brace">}</em>
<a id="L226" name="L226"></a> 226         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5608.html#L32" title="Defined at 32 in src/com/sun/org/apache/xml/internal/security/c14n/CanonicalizationException.java.">CanonicalizationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L227" name="L227"></a> 227             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L228" name="L228"></a> 228                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L229" name="L229"></a> 229             <em class="brace">}</em>
<a id="L230" name="L230"></a> 230         <em class="brace">}</em>
<a id="L231" name="L231"></a> 231     <em class="brace">}</em>
<a id="L232" name="L232"></a> 232 
<div class="comment">
      Serializes the <code>contextNode</code> into the OutputStream, <i>but
      suppresses all Exceptions</i>.
      <br>
      NOTE: <i>This should only be used for debugging purposes,
      NOT in a production environment; this method ignores all exceptions,
      so you won't notice if something goes wrong. If you're asking what is to
      be used in a production environment, simply use the code inside the
      <code>try{}</code> statement, but handle the Exceptions appropriately.</i>
      @param contextNode
      @param os</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> outputDOMc14nWithComments(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> contextNode, <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> os) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L248" name="L248"></a> 248             os.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>(
<a id="L249" name="L249"></a> 249                 <a href="../S/5607.html#L54" title="Defined at 54 in src/com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java.">Canonicalizer</a>.ALGO_ID_C14N_WITH_COMMENTS).<a href="../D/12236.html" title="Multiple defined in 2 places.">canonicalizeSubtree</a>(contextNode)
<a id="L250" name="L250"></a> 250             );
<a id="L251" name="L251"></a> 251         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L252" name="L252"></a> 252             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L254" name="L254"></a> 254             <em class="brace">}</em>
<a id="L255" name="L255"></a> 255             <em class="comment">// throw new RuntimeException(ex.getMessage());</em>
<a id="L256" name="L256"></a> 256         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5622.html#L27" title="Defined at 27 in src/com/sun/org/apache/xml/internal/security/c14n/InvalidCanonicalizerException.java.">InvalidCanonicalizerException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L257" name="L257"></a> 257             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L259" name="L259"></a> 259             <em class="brace">}</em>
<a id="L260" name="L260"></a> 260             <em class="comment">// throw new RuntimeException(ex.getMessage());</em>
<a id="L261" name="L261"></a> 261         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5608.html#L32" title="Defined at 32 in src/com/sun/org/apache/xml/internal/security/c14n/CanonicalizationException.java.">CanonicalizationException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L262" name="L262"></a> 262             <strong class="reserved">if</strong> (<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/25833.html" title="Multiple defined in 6 places.">isLoggable</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE)) <em class="brace">{</em>
<a id="L263" name="L263"></a> 263                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L264" name="L264"></a> 264             <em class="brace">}</em>
<a id="L265" name="L265"></a> 265             <em class="comment">// throw new RuntimeException(ex.getMessage());</em>
<a id="L266" name="L266"></a> 266         <em class="brace">}</em>
<a id="L267" name="L267"></a> 267     <em class="brace">}</em>
<a id="L268" name="L268"></a> 268 
<div class="comment">
      Method getFullTextChildrenFromElement
      @param element
      @return the string of children</div>
<a id="L275" name="L275"></a> 275     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16738.html" title="Multiple referred from 4 places.">getFullTextChildrenFromElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>) <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L277" name="L277"></a> 277 
<a id="L278" name="L278"></a> 278         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L279" name="L279"></a> 279         <strong class="reserved">while</strong> (child != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280             <strong class="reserved">if</strong> (child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L281" name="L281"></a> 281                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)child).<a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>());
<a id="L282" name="L282"></a> 282             <em class="brace">}</em>
<a id="L283" name="L283"></a> 283             child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L284" name="L284"></a> 284         <em class="brace">}</em>
<a id="L285" name="L285"></a> 285 
<a id="L286" name="L286"></a> 286         <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L287" name="L287"></a> 287     <em class="brace">}</em>
<a id="L288" name="L288"></a> 288 
<div class="comment">
      Creates an Element in the XML Signature specification namespace.
      @param doc the factory Document
      @param elementName the local name of the Element
      @return the Element</div>
<a id="L296" name="L296"></a> 296     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12405.html" title="Multiple referred from 10 places.">createElementInSignatureSpace</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>) <em class="brace">{</em>
<a id="L297" name="L297"></a> 297         <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Document is null");
<a id="L299" name="L299"></a> 299         <em class="brace">}</em>
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301         <strong class="reserved">if</strong> ((dsPrefix == <strong class="reserved">null</strong>) || (dsPrefix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L302" name="L302"></a> 302             <strong class="reserved">return</strong> doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS, <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L303" name="L303"></a> 303         <em class="brace">}</em>
<a id="L304" name="L304"></a> 304         <strong class="reserved">return</strong> doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS, dsPrefix + ":" + <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L305" name="L305"></a> 305     <em class="brace">}</em>
<a id="L306" name="L306"></a> 306 
<div class="comment">
      Creates an Element in the XML Signature 1.1 specification namespace.
      @param doc the factory Document
      @param elementName the local name of the Element
      @return the Element</div>
<a id="L314" name="L314"></a> 314     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5700.html#L51" title="Referred from 51 in src/com/sun/org/apache/xml/internal/security/utils/Signature11ElementProxy.java.">createElementInSignature11Space</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>) <em class="brace">{</em>
<a id="L315" name="L315"></a> 315         <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Document is null");
<a id="L317" name="L317"></a> 317         <em class="brace">}</em>
<a id="L318" name="L318"></a> 318 
<a id="L319" name="L319"></a> 319         <strong class="reserved">if</strong> ((ds11Prefix == <strong class="reserved">null</strong>) || (ds11Prefix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320             <strong class="reserved">return</strong> doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpec11NS, <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L321" name="L321"></a> 321         <em class="brace">}</em>
<a id="L322" name="L322"></a> 322         <strong class="reserved">return</strong> doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpec11NS, ds11Prefix + ":" + <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L323" name="L323"></a> 323     <em class="brace">}</em>
<a id="L324" name="L324"></a> 324 
<div class="comment">
      Creates an Element in the XML Encryption specification namespace.
      @param doc the factory Document
      @param elementName the local name of the Element
      @return the Element</div>
<a id="L332" name="L332"></a> 332     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12403.html" title="Multiple referred from 8 places.">createElementInEncryptionSpace</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333         <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Document is null");
<a id="L335" name="L335"></a> 335         <em class="brace">}</em>
<a id="L336" name="L336"></a> 336 
<a id="L337" name="L337"></a> 337         <strong class="reserved">if</strong> ((xencPrefix == <strong class="reserved">null</strong>) || (xencPrefix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L338" name="L338"></a> 338             <strong class="reserved">return</strong> doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS, <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L339" name="L339"></a> 339         <em class="brace">}</em>
<a id="L340" name="L340"></a> 340         <strong class="reserved">return</strong>
<a id="L341" name="L341"></a> 341             doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(
<a id="L342" name="L342"></a> 342                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS, xencPrefix + ":" + <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>
<a id="L343" name="L343"></a> 343             );
<a id="L344" name="L344"></a> 344     <em class="brace">}</em>
<a id="L345" name="L345"></a> 345 
<div class="comment">
      Creates an Element in the XML Encryption 1.1 specification namespace.
      @param doc the factory Document
      @param elementName the local name of the Element
      @return the Element</div>
<a id="L353" name="L353"></a> 353     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5638.html#L3145" title="Referred from 3145 in src/com/sun/org/apache/xml/internal/security/encryption/XMLCipher.java.">createElementInEncryption11Space</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354         <strong class="reserved">if</strong> (doc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L355" name="L355"></a> 355             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Document is null");
<a id="L356" name="L356"></a> 356         <em class="brace">}</em>
<a id="L357" name="L357"></a> 357 
<a id="L358" name="L358"></a> 358         <strong class="reserved">if</strong> ((xenc11Prefix == <strong class="reserved">null</strong>) || (xenc11Prefix.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359             <strong class="reserved">return</strong> doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpec11NS, <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>);
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361         <strong class="reserved">return</strong>
<a id="L362" name="L362"></a> 362             doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(
<a id="L363" name="L363"></a> 363                 <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpec11NS, xenc11Prefix + ":" + <a href="../S/1716.html#L81" title="Defined at 81 in src/java/lang/annotation/IncompleteAnnotationException.java.">elementName</a>
<a id="L364" name="L364"></a> 364             );
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      Returns true if the element is in XML Signature namespace and the local
      name equals the supplied one.
      @param element
      @param localName
      @return true if the element is in XML Signature namespace and the local name equals
      the supplied one</div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/13645.html" title="Multiple referred from 22 places.">elementIsInSignatureSpace</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> == <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L378" name="L378"></a> 378             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380 
<a id="L381" name="L381"></a> 381         <strong class="reserved">return</strong> <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L382" name="L382"></a> 382             &amp;&amp; <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>);
<a id="L383" name="L383"></a> 383     <em class="brace">}</em>
<a id="L384" name="L384"></a> 384 
<div class="comment">
      Returns true if the element is in XML Signature 1.1 namespace and the local
      name equals the supplied one.
      @param element
      @param localName
      @return true if the element is in XML Signature namespace and the local name equals
      the supplied one</div>
<a id="L394" name="L394"></a> 394     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/13644.html" title="Multiple referred from 2 places.">elementIsInSignature11Space</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L397" name="L397"></a> 397         <em class="brace">}</em>
<a id="L398" name="L398"></a> 398 
<a id="L399" name="L399"></a> 399         <strong class="reserved">return</strong> <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpec11NS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L400" name="L400"></a> 400             &amp;&amp; <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>);
<a id="L401" name="L401"></a> 401     <em class="brace">}</em>
<a id="L402" name="L402"></a> 402 
<div class="comment">
      Returns true if the element is in XML Encryption namespace and the local
      name equals the supplied one.
      @param element
      @param localName
      @return true if the element is in XML Encryption namespace and the local name
      equals the supplied one</div>
<a id="L412" name="L412"></a> 412     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../S/5752.html#L125" title="Referred from 125 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/implementations/EncryptedKeyResolver.java.">elementIsInEncryptionSpace</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>) <em class="brace">{</em>
<a id="L413" name="L413"></a> 413         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> == <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L415" name="L415"></a> 415         <em class="brace">}</em>
<a id="L416" name="L416"></a> 416         <strong class="reserved">return</strong> <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L417" name="L417"></a> 417             &amp;&amp; <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>);
<a id="L418" name="L418"></a> 418     <em class="brace">}</em>
<a id="L419" name="L419"></a> 419 
<div class="comment">
      Returns true if the element is in XML Encryption 1.1 namespace and the local
      name equals the supplied one.
      @param element
      @param localName
      @return true if the element is in XML Encryption 1.1 namespace and the local name
      equals the supplied one</div>
<a id="L429" name="L429"></a> 429     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> elementIsInEncryption11Space(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>) <em class="brace">{</em>
<a id="L430" name="L430"></a> 430         <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> == <strong class="reserved">null</strong>)<em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L432" name="L432"></a> 432         <em class="brace">}</em>
<a id="L433" name="L433"></a> 433         <strong class="reserved">return</strong> <a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpec11NS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L434" name="L434"></a> 434             &amp;&amp; <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>);
<a id="L435" name="L435"></a> 435     <em class="brace">}</em>
<a id="L436" name="L436"></a> 436 
<div class="comment">
      This method returns the owner document of a particular node.
      This method is necessary because it <i>always</i> returns a
      {@link Document}. {@link Node#getOwnerDocument} returns <code>null</code>
      if the {@link Node} is a {@link Document}.
      @param node
      @return the owner document of the node</div>
<a id="L446" name="L446"></a> 446     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/18201.html" title="Multiple referred from 121 places.">getOwnerDocument</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447         <strong class="reserved">if</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448             <strong class="reserved">return</strong> (<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L449" name="L449"></a> 449         <em class="brace">}</em>
<a id="L450" name="L450"></a> 450         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L451" name="L451"></a> 451             <strong class="reserved">return</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>();
<a id="L452" name="L452"></a> 452         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> npe) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(<a href="../S/5691.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/utils/I18n.java.">I18n</a>.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>("endorsed.jdk1.4.0")
<a id="L454" name="L454"></a> 454                                            + " Original message was \""
<a id="L455" name="L455"></a> 455                                            + npe.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>() + "\"");
<a id="L456" name="L456"></a> 456         <em class="brace">}</em>
<a id="L457" name="L457"></a> 457     <em class="brace">}</em>
<a id="L458" name="L458"></a> 458 
<div class="comment">
      This method returns the first non-null owner document of the Nodes in this Set.
      This method is necessary because it <i>always</i> returns a
      {@link Document}. {@link Node#getOwnerDocument} returns <code>null</code>
      if the {@link Node} is a {@link Document}.
      @param xpathNodeSet
      @return the owner document</div>
<a id="L468" name="L468"></a> 468     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../R/18201.html" title="Multiple referred from 121 places.">getOwnerDocument</a>(<a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; xpathNodeSet) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> npe = <strong class="reserved">null</strong>;
<a id="L470" name="L470"></a> 470         <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> : xpathNodeSet) <em class="brace">{</em>
<a id="L471" name="L471"></a> 471             <strong class="reserved">int</strong> nodeType = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>();
<a id="L472" name="L472"></a> 472             <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE) <em class="brace">{</em>
<a id="L473" name="L473"></a> 473                 <strong class="reserved">return</strong> (<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L474" name="L474"></a> 474             <em class="brace">}</em>
<a id="L475" name="L475"></a> 475             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L476" name="L476"></a> 476                 <strong class="reserved">if</strong> (nodeType == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ATTRIBUTE_NODE) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477                     <strong class="reserved">return</strong> ((<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>)<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>).<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>().<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>();
<a id="L478" name="L478"></a> 478                 <em class="brace">}</em>
<a id="L479" name="L479"></a> 479                 <strong class="reserved">return</strong> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>();
<a id="L480" name="L480"></a> 480             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> e) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481                 npe = e;
<a id="L482" name="L482"></a> 482             <em class="brace">}</em>
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(<a href="../S/5691.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/security/utils/I18n.java.">I18n</a>.<a href="../D/35598.html" title="Multiple defined in 116 places.">translate</a>("endorsed.jdk1.4.0")
<a id="L486" name="L486"></a> 486                                        + " Original message was \""
<a id="L487" name="L487"></a> 487                                        + (npe == <strong class="reserved">null</strong> ? "" : npe.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>()) + "\"");
<a id="L488" name="L488"></a> 488     <em class="brace">}</em>
<a id="L489" name="L489"></a> 489 
<div class="comment">
      Method createDSctx
      @param doc
      @param prefix
      @param namespace
      @return the element.</div>
<a id="L498" name="L498"></a> 498     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> createDSctx(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>) <em class="brace">{</em>
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> ((<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong>) || (<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0)) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("You must supply a prefix");
<a id="L501" name="L501"></a> 501         <em class="brace">}</em>
<a id="L502" name="L502"></a> 502 
<a id="L503" name="L503"></a> 503         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a> = doc.<a href="../D/13841.html" title="Multiple defined in 8 places.">createElementNS</a>(<strong class="reserved">null</strong>, "namespaceContext");
<a id="L504" name="L504"></a> 504 
<a id="L505" name="L505"></a> 505         <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NamespaceSpecNS, "xmlns:" + <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>(), <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>);
<a id="L506" name="L506"></a> 506 
<a id="L507" name="L507"></a> 507         <strong class="reserved">return</strong> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>;
<a id="L508" name="L508"></a> 508     <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<div class="comment">
      Method addReturnToElement
      @param e</div>
<a id="L515" name="L515"></a> 515     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/9942.html" title="Multiple referred from 70 places.">addReturnToElement</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e) <em class="brace">{</em>
<a id="L516" name="L516"></a> 516         <strong class="reserved">if</strong> (!<a href="../S/5680.html#L902" title="Defined at 902 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">ignoreLineBreaks</a>) <em class="brace">{</em>
<a id="L517" name="L517"></a> 517             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = e.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>();
<a id="L518" name="L518"></a> 518             e.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(doc.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>("\n"));
<a id="L519" name="L519"></a> 519         <em class="brace">}</em>
<a id="L520" name="L520"></a> 520     <em class="brace">}</em>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/9942.html" title="Multiple referred from 70 places.">addReturnToElement</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc, <a href="../S/5710.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/security/utils/HelperNodeList.java.">HelperNodeList</a> nl) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523         <strong class="reserved">if</strong> (!<a href="../S/5680.html#L902" title="Defined at 902 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">ignoreLineBreaks</a>) <em class="brace">{</em>
<a id="L524" name="L524"></a> 524             nl.<a href="../D/11365.html" title="Multiple defined in 17 places.">appendChild</a>(doc.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>("\n"));
<a id="L525" name="L525"></a> 525         <em class="brace">}</em>
<a id="L526" name="L526"></a> 526     <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<a id="L528" name="L528"></a> 528     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5654.html#L510" title="Referred from 510 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignature.java.">addReturnBeforeChild</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> e, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529         <strong class="reserved">if</strong> (!<a href="../S/5680.html#L902" title="Defined at 902 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">ignoreLineBreaks</a>) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530             <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc = e.<a href="../D/21292.html" title="Multiple defined in 20 places.">getOwnerDocument</a>();
<a id="L531" name="L531"></a> 531             e.<a href="../D/24733.html" title="Multiple defined in 12 places.">insertBefore</a>(doc.<a href="../D/14246.html" title="Multiple defined in 5 places.">createTextNode</a>("\n"), child);
<a id="L532" name="L532"></a> 532         <em class="brace">}</em>
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<div class="comment">
      Method convertNodelistToSet
      @param xpathNodeSet
      @return the set with the nodelist</div>
<a id="L541" name="L541"></a> 541     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; <a href="../R/12042.html" title="Multiple referred from 2 places.">convertNodelistToSet</a>(<a href="../S/115.html#L52" title="Defined at 52 in src/org/w3c/dom/NodeList.java.">NodeList</a> xpathNodeSet) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542         <strong class="reserved">if</strong> (xpathNodeSet == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L543" name="L543"></a> 543             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt;();
<a id="L544" name="L544"></a> 544         <em class="brace">}</em>
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = xpathNodeSet.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L547" name="L547"></a> 547         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt;(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L548" name="L548"></a> 548 
<a id="L549" name="L549"></a> 549         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550             <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(xpathNodeSet.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i));
<a id="L551" name="L551"></a> 551         <em class="brace">}</em>
<a id="L552" name="L552"></a> 552 
<a id="L553" name="L553"></a> 553         <strong class="reserved">return</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>;
<a id="L554" name="L554"></a> 554     <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<div class="comment">
      This method spreads all namespace attributes in a DOM document to their
      children. This is needed because the XML Signature XPath transform
      must evaluate the XPath against all nodes in the input, even against
      XPath namespace nodes. Through a bug in XalanJ2, the namespace nodes are
      not fully visible in the Xalan XPath model, so we have to do this by
      hand in DOM spaces so that the nodes become visible in XPath space.
      @param doc
      @see <a href="http://nagoya.apache.org/bugzilla/show_bug.cgi?id=2650">
      Namespace axis resolution is not XPath compliant </a></div>
<a id="L568" name="L568"></a> 568     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/11447.html" title="Multiple referred from 4 places.">circumventBug2650</a>(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc) <em class="brace">{</em>
<a id="L569" name="L569"></a> 569 
<a id="L570" name="L570"></a> 570         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> documentElement = doc.<a href="../D/18558.html" title="Multiple defined in 7 places.">getDocumentElement</a>();
<a id="L571" name="L571"></a> 571 
<a id="L572" name="L572"></a> 572         <em class="comment">// if the document element has no xmlns definition, we add xmlns=""</em>
<a id="L573" name="L573"></a> 573         <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> xmlnsAttr =
<a id="L574" name="L574"></a> 574             documentElement.<a href="../D/17095.html" title="Multiple defined in 7 places.">getAttributeNodeNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NamespaceSpecNS, "xmlns");
<a id="L575" name="L575"></a> 575 
<a id="L576" name="L576"></a> 576         <strong class="reserved">if</strong> (xmlnsAttr == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L577" name="L577"></a> 577             documentElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NamespaceSpecNS, "xmlns", "");
<a id="L578" name="L578"></a> 578         <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<a id="L580" name="L580"></a> 580         <a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L591" title="Defined at 591 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">circumventBug2650internal</a>(doc);
<a id="L581" name="L581"></a> 581     <em class="brace">}</em>
<a id="L582" name="L582"></a> 582 
<div class="comment">
      This is the work horse for {@link #circumventBug2650}.
      @param node
      @see <a href="http://nagoya.apache.org/bugzilla/show_bug.cgi?id=2650">
      Namespace axis resolution is not XPath compliant </a></div>
<a id="L590" name="L590"></a> 590     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("fallthrough")
<a id="L591" name="L591"></a> 591     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/5680.html#L580" title="Referred from 580 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">circumventBug2650internal</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <em class="brace">{</em>
<a id="L592" name="L592"></a> 592         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <strong class="reserved">null</strong>;
<a id="L593" name="L593"></a> 593         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling = <strong class="reserved">null</strong>;
<a id="L594" name="L594"></a> 594         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> namespaceNs = <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.NamespaceSpecNS;
<a id="L595" name="L595"></a> 595         <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L596" name="L596"></a> 596             <strong class="reserved">switch</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>()) <em class="brace">{</em>
<a id="L597" name="L597"></a> 597             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE :
<a id="L598" name="L598"></a> 598                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a> = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L599" name="L599"></a> 599                 <strong class="reserved">if</strong> (!<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/24077.html" title="Multiple defined in 16 places.">hasChildNodes</a>()) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600                     <strong class="reserved">break</strong>;
<a id="L601" name="L601"></a> 601                 <em class="brace">}</em>
<a id="L602" name="L602"></a> 602                 <strong class="reserved">if</strong> (<a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/24061.html" title="Multiple defined in 12 places.">hasAttributes</a>()) <em class="brace">{</em>
<a id="L603" name="L603"></a> 603                     <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L604" name="L604"></a> 604                     <strong class="reserved">int</strong> attributesLength = <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>();
<a id="L605" name="L605"></a> 605 
<a id="L606" name="L606"></a> 606                     <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/15287.html" title="Multiple defined in 20 places.">element</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>(); child!=<strong class="reserved">null</strong>;
<a id="L607" name="L607"></a> 607                         child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L608" name="L608"></a> 608 
<a id="L609" name="L609"></a> 609                         <strong class="reserved">if</strong> (child.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L610" name="L610"></a> 610                             <strong class="reserved">continue</strong>;
<a id="L611" name="L611"></a> 611                         <em class="brace">}</em>
<a id="L612" name="L612"></a> 612                         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> childElement = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) child;
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; attributesLength; i++) <em class="brace">{</em>
<a id="L615" name="L615"></a> 615                             <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> currentAttr = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>) <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L616" name="L616"></a> 616                             <strong class="reserved">if</strong> (!namespaceNs.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(currentAttr.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617                                 <strong class="reserved">continue</strong>;
<a id="L618" name="L618"></a> 618                             <em class="brace">}</em>
<a id="L619" name="L619"></a> 619                             <strong class="reserved">if</strong> (childElement.<a href="../D/24060.html" title="Multiple defined in 7 places.">hasAttributeNS</a>(namespaceNs,
<a id="L620" name="L620"></a> 620                                                             currentAttr.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>())) <em class="brace">{</em>
<a id="L621" name="L621"></a> 621                                 <strong class="reserved">continue</strong>;
<a id="L622" name="L622"></a> 622                             <em class="brace">}</em>
<a id="L623" name="L623"></a> 623                             childElement.<a href="../D/31944.html" title="Multiple defined in 6 places.">setAttributeNS</a>(namespaceNs,
<a id="L624" name="L624"></a> 624                                                         currentAttr.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L625" name="L625"></a> 625                                                         currentAttr.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>());
<a id="L626" name="L626"></a> 626                         <em class="brace">}</em>
<a id="L627" name="L627"></a> 627                     <em class="brace">}</em>
<a id="L628" name="L628"></a> 628                 <em class="brace">}</em>
<a id="L629" name="L629"></a> 629             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE :
<a id="L630" name="L630"></a> 630             <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE :
<a id="L631" name="L631"></a> 631                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L632" name="L632"></a> 632                 sibling = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L633" name="L633"></a> 633                 <strong class="reserved">break</strong>;
<a id="L634" name="L634"></a> 634             <em class="brace">}</em>
<a id="L635" name="L635"></a> 635             <strong class="reserved">while</strong> ((sibling == <strong class="reserved">null</strong>) &amp;&amp; (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636                 sibling = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L637" name="L637"></a> 637                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L638" name="L638"></a> 638             <em class="brace">}</em>
<a id="L639" name="L639"></a> 639             <strong class="reserved">if</strong> (sibling == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L640" name="L640"></a> 640                 <strong class="reserved">return</strong>;
<a id="L641" name="L641"></a> 641             <em class="brace">}</em>
<a id="L642" name="L642"></a> 642 
<a id="L643" name="L643"></a> 643             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = sibling;
<a id="L644" name="L644"></a> 644             sibling = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L645" name="L645"></a> 645         <em class="brace">}</em> <strong class="reserved">while</strong> (<strong class="reserved">true</strong>);
<a id="L646" name="L646"></a> 646     <em class="brace">}</em>
<a id="L647" name="L647"></a> 647 
<div class="comment">
      @param sibling
      @param nodeName
      @param number
      @return nodes with the constraint</div>
<a id="L654" name="L654"></a> 654     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/26719.html" title="Multiple referred from 24 places.">selectDsNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655         <strong class="reserved">while</strong> (sibling != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656             <strong class="reserved">if</strong> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L657" name="L657"></a> 657                 &amp;&amp; sibling.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>)) <em class="brace">{</em>
<a id="L658" name="L658"></a> 658                 <strong class="reserved">if</strong> (<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> == 0)<em class="brace">{</em>
<a id="L659" name="L659"></a> 659                     <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)sibling;
<a id="L660" name="L660"></a> 660                 <em class="brace">}</em>
<a id="L661" name="L661"></a> 661                 <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>--;
<a id="L662" name="L662"></a> 662             <em class="brace">}</em>
<a id="L663" name="L663"></a> 663             sibling = sibling.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L664" name="L664"></a> 664         <em class="brace">}</em>
<a id="L665" name="L665"></a> 665         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L666" name="L666"></a> 666     <em class="brace">}</em>
<a id="L667" name="L667"></a> 667 
<div class="comment">
      @param sibling
      @param nodeName
      @param number
      @return nodes with the constraint</div>
<a id="L674" name="L674"></a> 674     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/26717.html" title="Multiple referred from 4 places.">selectDs11Node</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675         <strong class="reserved">while</strong> (sibling != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L676" name="L676"></a> 676             <strong class="reserved">if</strong> (<a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpec11NS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L677" name="L677"></a> 677                 &amp;&amp; sibling.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>)) <em class="brace">{</em>
<a id="L678" name="L678"></a> 678                 <strong class="reserved">if</strong> (<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> == 0)<em class="brace">{</em>
<a id="L679" name="L679"></a> 679                     <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)sibling;
<a id="L680" name="L680"></a> 680                 <em class="brace">}</em>
<a id="L681" name="L681"></a> 681                 <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>--;
<a id="L682" name="L682"></a> 682             <em class="brace">}</em>
<a id="L683" name="L683"></a> 683             sibling = sibling.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L684" name="L684"></a> 684         <em class="brace">}</em>
<a id="L685" name="L685"></a> 685         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L686" name="L686"></a> 686     <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<div class="comment">
      @param sibling
      @param nodeName
      @param number
      @return nodes with the constrain</div>
<a id="L694" name="L694"></a> 694     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/5787.html#L643" title="Referred from 643 in src/com/sun/org/apache/xml/internal/security/keys/KeyInfo.java.">selectXencNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L695" name="L695"></a> 695         <strong class="reserved">while</strong> (sibling != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L696" name="L696"></a> 696             <strong class="reserved">if</strong> (<a href="../S/5694.html#L25" title="Defined at 25 in src/com/sun/org/apache/xml/internal/security/utils/EncryptionConstants.java.">EncryptionConstants</a>.EncryptionSpecNS.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>())
<a id="L697" name="L697"></a> 697                 &amp;&amp; sibling.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>)) <em class="brace">{</em>
<a id="L698" name="L698"></a> 698                 <strong class="reserved">if</strong> (<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> == 0)<em class="brace">{</em>
<a id="L699" name="L699"></a> 699                     <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)sibling;
<a id="L700" name="L700"></a> 700                 <em class="brace">}</em>
<a id="L701" name="L701"></a> 701                 <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>--;
<a id="L702" name="L702"></a> 702             <em class="brace">}</em>
<a id="L703" name="L703"></a> 703             sibling = sibling.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L704" name="L704"></a> 704         <em class="brace">}</em>
<a id="L705" name="L705"></a> 705         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L706" name="L706"></a> 706     <em class="brace">}</em>
<a id="L707" name="L707"></a> 707 
<a id="L708" name="L708"></a> 708 
<div class="comment">
      @param sibling
      @param nodeName
      @param number
      @return nodes with the constrain</div>
<a id="L715" name="L715"></a> 715     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> <a href="../S/5672.html#L340" title="Referred from 340 in src/com/sun/org/apache/xml/internal/security/algorithms/implementations/IntegrityHmac.java.">selectDsNodeText</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L716" name="L716"></a> 716         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n = <a href="../S/5680.html#L654" title="Defined at 654 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">selectDsNode</a>(sibling,<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>,<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>);
<a id="L717" name="L717"></a> 717         <strong class="reserved">if</strong> (n == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L718" name="L718"></a> 718             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L719" name="L719"></a> 719         <em class="brace">}</em>
<a id="L720" name="L720"></a> 720         n = n.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L721" name="L721"></a> 721         <strong class="reserved">while</strong> (n != <strong class="reserved">null</strong> &amp;&amp; n.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L722" name="L722"></a> 722             n = n.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L723" name="L723"></a> 723         <em class="brace">}</em>
<a id="L724" name="L724"></a> 724         <strong class="reserved">return</strong> (<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)n;
<a id="L725" name="L725"></a> 725     <em class="brace">}</em>
<a id="L726" name="L726"></a> 726 
<div class="comment">
      @param sibling
      @param nodeName
      @param number
      @return nodes with the constrain</div>
<a id="L733" name="L733"></a> 733     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> selectDs11NodeText(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L734" name="L734"></a> 734         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n = <a href="../S/5680.html#L674" title="Defined at 674 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">selectDs11Node</a>(sibling,<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>,<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>);
<a id="L735" name="L735"></a> 735         <strong class="reserved">if</strong> (n == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L736" name="L736"></a> 736             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L737" name="L737"></a> 737         <em class="brace">}</em>
<a id="L738" name="L738"></a> 738         n = n.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L739" name="L739"></a> 739         <strong class="reserved">while</strong> (n != <strong class="reserved">null</strong> &amp;&amp; n.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L740" name="L740"></a> 740             n = n.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L741" name="L741"></a> 741         <em class="brace">}</em>
<a id="L742" name="L742"></a> 742         <strong class="reserved">return</strong> (<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)n;
<a id="L743" name="L743"></a> 743     <em class="brace">}</em>
<a id="L744" name="L744"></a> 744 
<div class="comment">
      @param sibling
      @param uri
      @param nodeName
      @param number
      @return nodes with the constrain</div>
<a id="L752" name="L752"></a> 752     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a> <a href="../R/26736.html" title="Multiple referred from 2 places.">selectNodeText</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L753" name="L753"></a> 753         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> n = <a href="../D/31699.html" title="Multiple defined in 3 places.">selectNode</a>(sibling,uri,<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>,<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>);
<a id="L754" name="L754"></a> 754         <strong class="reserved">if</strong> (n == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L755" name="L755"></a> 755             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L756" name="L756"></a> 756         <em class="brace">}</em>
<a id="L757" name="L757"></a> 757         n = n.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L758" name="L758"></a> 758         <strong class="reserved">while</strong> (n != <strong class="reserved">null</strong> &amp;&amp; n.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() != <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L759" name="L759"></a> 759             n = n.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L760" name="L760"></a> 760         <em class="brace">}</em>
<a id="L761" name="L761"></a> 761         <strong class="reserved">return</strong> (<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>)n;
<a id="L762" name="L762"></a> 762     <em class="brace">}</em>
<a id="L763" name="L763"></a> 763 
<div class="comment">
      @param sibling
      @param uri
      @param nodeName
      @param number
      @return nodes with the constrain</div>
<a id="L771" name="L771"></a> 771     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/26733.html" title="Multiple referred from 9 places.">selectNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>, <strong class="reserved">int</strong> <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>) <em class="brace">{</em>
<a id="L772" name="L772"></a> 772         <strong class="reserved">while</strong> (sibling != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L773" name="L773"></a> 773             <strong class="reserved">if</strong> (sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>() != <strong class="reserved">null</strong> &amp;&amp; sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(uri)
<a id="L774" name="L774"></a> 774                 &amp;&amp; sibling.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>)) <em class="brace">{</em>
<a id="L775" name="L775"></a> 775                 <strong class="reserved">if</strong> (<a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a> == 0)<em class="brace">{</em>
<a id="L776" name="L776"></a> 776                     <strong class="reserved">return</strong> (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)sibling;
<a id="L777" name="L777"></a> 777                 <em class="brace">}</em>
<a id="L778" name="L778"></a> 778                 <a href="../S/4997.html#L491" title="Defined at 491 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">number</a>--;
<a id="L779" name="L779"></a> 779             <em class="brace">}</em>
<a id="L780" name="L780"></a> 780             sibling = sibling.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L781" name="L781"></a> 781         <em class="brace">}</em>
<a id="L782" name="L782"></a> 782         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L783" name="L783"></a> 783     <em class="brace">}</em>
<a id="L784" name="L784"></a> 784 
<div class="comment">
      @param sibling
      @param nodeName
      @return nodes with the constrain</div>
<a id="L790" name="L790"></a> 790     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../R/26721.html" title="Multiple referred from 8 places.">selectDsNodes</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>) <em class="brace">{</em>
<a id="L791" name="L791"></a> 791         <strong class="reserved">return</strong> <a href="../S/5680.html#L809" title="Defined at 809 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">selectNodes</a>(sibling, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpecNS, <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>);
<a id="L792" name="L792"></a> 792     <em class="brace">}</em>
<a id="L793" name="L793"></a> 793 
<div class="comment">
      @param sibling
      @param nodeName
      @return nodes with the constrain</div>
<a id="L799" name="L799"></a> 799     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../S/5747.html#L107" title="Referred from 107 in src/com/sun/org/apache/xml/internal/security/keys/keyresolver/implementations/X509DigestResolver.java.">selectDs11Nodes</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800         <strong class="reserved">return</strong> <a href="../S/5680.html#L809" title="Defined at 809 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">selectNodes</a>(sibling, <a href="../D/1829.html" title="Multiple defined in 9 places.">Constants</a>.SignatureSpec11NS, <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>);
<a id="L801" name="L801"></a> 801     <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 
<div class="comment">
      @param sibling
      @param uri
      @param nodeName
      @return nodes with the constraint</div>
<a id="L809" name="L809"></a> 809     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[] <a href="../R/26737.html" title="Multiple referred from 10 places.">selectNodes</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> sibling, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>) <em class="brace">{</em>
<a id="L810" name="L810"></a> 810         <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>&lt;<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>&gt;();
<a id="L811" name="L811"></a> 811         <strong class="reserved">while</strong> (sibling != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L812" name="L812"></a> 812             <strong class="reserved">if</strong> (sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>() != <strong class="reserved">null</strong> &amp;&amp; sibling.<a href="../D/20828.html" title="Multiple defined in 47 places.">getNamespaceURI</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(uri)
<a id="L813" name="L813"></a> 813                 &amp;&amp; sibling.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/833.html#L422" title="Defined at 422 in src/java/util/prefs/Preferences.java.">nodeName</a>)) <em class="brace">{</em>
<a id="L814" name="L814"></a> 814                 <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>((<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>)sibling);
<a id="L815" name="L815"></a> 815             <em class="brace">}</em>
<a id="L816" name="L816"></a> 816             sibling = sibling.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L817" name="L817"></a> 817         <em class="brace">}</em>
<a id="L818" name="L818"></a> 818         <strong class="reserved">return</strong> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>[<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L819" name="L819"></a> 819     <em class="brace">}</em>
<a id="L820" name="L820"></a> 820 
<div class="comment">
      @param signatureElement
      @param inputSet
      @return nodes with the constrain</div>
<a id="L826" name="L826"></a> 826     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; excludeNodeFromSet(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> signatureElement, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; inputSet) <em class="brace">{</em>
<a id="L827" name="L827"></a> 827         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; resultSet = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt;();
<a id="L828" name="L828"></a> 828         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>&gt; <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = inputSet.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L829" name="L829"></a> 829 
<a id="L830" name="L830"></a> 830         <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L831" name="L831"></a> 831             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> inputNode = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L832" name="L832"></a> 832 
<a id="L833" name="L833"></a> 833             <strong class="reserved">if</strong> (!<a href="../S/5680.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">XMLUtils</a>.<a href="../S/5680.html#L878" title="Defined at 878 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">isDescendantOrSelf</a>(signatureElement, inputNode)) <em class="brace">{</em>
<a id="L834" name="L834"></a> 834                 resultSet.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(inputNode);
<a id="L835" name="L835"></a> 835             <em class="brace">}</em>
<a id="L836" name="L836"></a> 836         <em class="brace">}</em>
<a id="L837" name="L837"></a> 837         <strong class="reserved">return</strong> resultSet;
<a id="L838" name="L838"></a> 838     <em class="brace">}</em>
<a id="L839" name="L839"></a> 839 
<div class="comment">
      Method getStrFromNode
      @param xpathnode
      @return the string for the node.</div>
<a id="L846" name="L846"></a> 846     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19197.html" title="Multiple referred from 2 places.">getStrFromNode</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> xpathnode) <em class="brace">{</em>
<a id="L847" name="L847"></a> 847         <strong class="reserved">if</strong> (xpathnode.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L848" name="L848"></a> 848             <em class="comment">// we iterate over all siblings of the context node because eventually,</em>
<a id="L849" name="L849"></a> 849             <em class="comment">// the text is "polluted" with pi's or comments</em>
<a id="L850" name="L850"></a> 850             <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> sb = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>();
<a id="L851" name="L851"></a> 851 
<a id="L852" name="L852"></a> 852             <strong class="reserved">for</strong> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> currentSibling = xpathnode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>().<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L853" name="L853"></a> 853                 currentSibling != <strong class="reserved">null</strong>;
<a id="L854" name="L854"></a> 854                 currentSibling = currentSibling.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>()) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855                 <strong class="reserved">if</strong> (currentSibling.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE) <em class="brace">{</em>
<a id="L856" name="L856"></a> 856                     sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(((<a href="../D/8891.html" title="Multiple defined in 3 places.">Text</a>) currentSibling).<a href="../D/18190.html" title="Multiple defined in 47 places.">getData</a>());
<a id="L857" name="L857"></a> 857                 <em class="brace">}</em>
<a id="L858" name="L858"></a> 858             <em class="brace">}</em>
<a id="L859" name="L859"></a> 859 
<a id="L860" name="L860"></a> 860             <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L861" name="L861"></a> 861         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (xpathnode.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ATTRIBUTE_NODE) <em class="brace">{</em>
<a id="L862" name="L862"></a> 862             <strong class="reserved">return</strong> ((<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>) xpathnode).<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L863" name="L863"></a> 863         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (xpathnode.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE) <em class="brace">{</em>
<a id="L864" name="L864"></a> 864             <strong class="reserved">return</strong> ((<a href="../D/6899.html" title="Multiple defined in 3 places.">ProcessingInstruction</a>) xpathnode).<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L865" name="L865"></a> 865         <em class="brace">}</em>
<a id="L866" name="L866"></a> 866 
<a id="L867" name="L867"></a> 867         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L868" name="L868"></a> 868     <em class="brace">}</em>
<a id="L869" name="L869"></a> 869 
<div class="comment">
      Returns true if the descendantOrSelf is on the descendant-or-self axis
      of the context node.
      @param ctx
      @param descendantOrSelf
      @return true if the node is descendant</div>
<a id="L878" name="L878"></a> 878     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/21349.html" title="Multiple referred from 4 places.">isDescendantOrSelf</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> descendantOrSelf) <em class="brace">{</em>
<a id="L879" name="L879"></a> 879         <strong class="reserved">if</strong> (<a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a> == descendantOrSelf) <em class="brace">{</em>
<a id="L880" name="L880"></a> 880             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L881" name="L881"></a> 881         <em class="brace">}</em>
<a id="L882" name="L882"></a> 882 
<a id="L883" name="L883"></a> 883         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = descendantOrSelf;
<a id="L884" name="L884"></a> 884 
<a id="L885" name="L885"></a> 885         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L887" name="L887"></a> 887                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L888" name="L888"></a> 888             <em class="brace">}</em>
<a id="L889" name="L889"></a> 889 
<a id="L890" name="L890"></a> 890             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> == <a href="../D/14411.html" title="Multiple defined in 6 places.">ctx</a>) <em class="brace">{</em>
<a id="L891" name="L891"></a> 891                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L892" name="L892"></a> 892             <em class="brace">}</em>
<a id="L893" name="L893"></a> 893 
<a id="L894" name="L894"></a> 894             <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ATTRIBUTE_NODE) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = ((<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>) <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>).<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L896" name="L896"></a> 896             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L897" name="L897"></a> 897                 <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a> = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L898" name="L898"></a> 898             <em class="brace">}</em>
<a id="L899" name="L899"></a> 899         <em class="brace">}</em>
<a id="L900" name="L900"></a> 900     <em class="brace">}</em>
<a id="L901" name="L901"></a> 901 
<a id="L902" name="L902"></a> 902     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/20378.html" title="Multiple referred from 10 places.">ignoreLineBreaks</a>() <em class="brace">{</em>
<a id="L903" name="L903"></a> 903         <strong class="reserved">return</strong> <a href="../S/5680.html#L902" title="Defined at 902 in src/com/sun/org/apache/xml/internal/security/utils/XMLUtils.java.">ignoreLineBreaks</a>;
<a id="L904" name="L904"></a> 904     <em class="brace">}</em>
<a id="L905" name="L905"></a> 905 
<div class="comment">
      Returns the attribute value for the attribute with the specified name.
      Returns null if there is no such attribute, or
      the empty string if the attribute value is empty.
      <p>This works around a limitation of the DOM
      <code>Element.getAttributeNode</code> method, which does not distinguish
      between an unspecified attribute and an attribute with a value of
      "" (it returns "" for both cases).
      @param elem the element containing the attribute
      @param name the name of the attribute
      @return the attribute value (may be null if unspecified)</p></div>
<a id="L920" name="L920"></a> 920     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15166.html" title="Multiple referred from 46 places.">getAttributeValue</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921         <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = elem.<a href="../D/17095.html" title="Multiple defined in 7 places.">getAttributeNodeNS</a>(<strong class="reserved">null</strong>, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L922" name="L922"></a> 922         <strong class="reserved">return</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> == <strong class="reserved">null</strong>) ? <strong class="reserved">null</strong> : <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L923" name="L923"></a> 923     <em class="brace">}</em>
<a id="L924" name="L924"></a> 924 
<div class="comment">
      This method is a tree-search to help prevent against wrapping attacks. It checks that no
      two Elements have ID Attributes that match the "value" argument, if this is the case then
      "false" is returned. Note that a return value of "true" does not necessarily mean that
      a matching Element has been found, just that no wrapping attack has been detected.</div>
<a id="L931" name="L931"></a> 931     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/25226.html" title="Multiple referred from 2 places.">protectAgainstWrappingAttack</a>(<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L932" name="L932"></a> 932         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> startParent = <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L933" name="L933"></a> 933         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> processedNode = <strong class="reserved">null</strong>;
<a id="L934" name="L934"></a> 934         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> foundElement = <strong class="reserved">null</strong>;
<a id="L935" name="L935"></a> 935 
<a id="L936" name="L936"></a> 936         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L937" name="L937"></a> 937         <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '#') <em class="brace">{</em>
<a id="L938" name="L938"></a> 938             <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L939" name="L939"></a> 939         <em class="brace">}</em>
<a id="L940" name="L940"></a> 940 
<a id="L941" name="L941"></a> 941         <strong class="reserved">while</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L942" name="L942"></a> 942             <strong class="reserved">if</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L943" name="L943"></a> 943                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> se = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>;
<a id="L944" name="L944"></a> 944 
<a id="L945" name="L945"></a> 945                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = se.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L946" name="L946"></a> 946                 <strong class="reserved">if</strong> (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L947" name="L947"></a> 947                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L948" name="L948"></a> 948                         <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>)<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L949" name="L949"></a> 949                         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25675.html" title="Multiple defined in 7 places.">isId</a>() &amp;&amp; <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>())) <em class="brace">{</em>
<a id="L950" name="L950"></a> 950                             <strong class="reserved">if</strong> (foundElement == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L951" name="L951"></a> 951                                 <em class="comment">// Continue searching to find duplicates</em>
<a id="L952" name="L952"></a> 952                                 foundElement = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/21293.html" title="Multiple defined in 9 places.">getOwnerElement</a>();
<a id="L953" name="L953"></a> 953                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L954" name="L954"></a> 954                                 <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Multiple elements with the same 'Id' attribute value!");
<a id="L955" name="L955"></a> 955                                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L956" name="L956"></a> 956                             <em class="brace">}</em>
<a id="L957" name="L957"></a> 957                         <em class="brace">}</em>
<a id="L958" name="L958"></a> 958                     <em class="brace">}</em>
<a id="L959" name="L959"></a> 959                 <em class="brace">}</em>
<a id="L960" name="L960"></a> 960             <em class="brace">}</em>
<a id="L961" name="L961"></a> 961 
<a id="L962" name="L962"></a> 962             processedNode = <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>;
<a id="L963" name="L963"></a> 963             <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> = <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L964" name="L964"></a> 964 
<a id="L965" name="L965"></a> 965             <em class="comment">// no child, this node is done.</em>
<a id="L966" name="L966"></a> 966             <strong class="reserved">if</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L967" name="L967"></a> 967                 <em class="comment">// close node processing, get sibling</em>
<a id="L968" name="L968"></a> 968                 <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> = processedNode.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L969" name="L969"></a> 969             <em class="brace">}</em>
<a id="L970" name="L970"></a> 970 
<a id="L971" name="L971"></a> 971             <em class="comment">// no more siblings, get parent, all children</em>
<a id="L972" name="L972"></a> 972             <em class="comment">// of parent are processed.</em>
<a id="L973" name="L973"></a> 973             <strong class="reserved">while</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L974" name="L974"></a> 974                 processedNode = processedNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L975" name="L975"></a> 975                 <strong class="reserved">if</strong> (processedNode == startParent) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L977" name="L977"></a> 977                 <em class="brace">}</em>
<a id="L978" name="L978"></a> 978                 <em class="comment">// close parent node processing (processed node now)</em>
<a id="L979" name="L979"></a> 979                 <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> = processedNode.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L980" name="L980"></a> 980             <em class="brace">}</em>
<a id="L981" name="L981"></a> 981         <em class="brace">}</em>
<a id="L982" name="L982"></a> 982         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L983" name="L983"></a> 983     <em class="brace">}</em>
<a id="L984" name="L984"></a> 984 
<div class="comment">
      This method is a tree-search to help prevent against wrapping attacks. It checks that no other
      Element than the given "knownElement" argument has an ID attribute that matches the "value"
      argument, which is the ID value of "knownElement". If this is the case then "false" is returned.</div>
<a id="L990" name="L990"></a> 990     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/25226.html" title="Multiple referred from 2 places.">protectAgainstWrappingAttack</a>(
<a id="L991" name="L991"></a> 991         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> knownElement, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>
<a id="L992" name="L992"></a> 992     ) <em class="brace">{</em>
<a id="L993" name="L993"></a> 993         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> startParent = <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L994" name="L994"></a> 994         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> processedNode = <strong class="reserved">null</strong>;
<a id="L995" name="L995"></a> 995 
<a id="L996" name="L996"></a> 996         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L997" name="L997"></a> 997         <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0) == '#') <em class="brace">{</em>
<a id="L998" name="L998"></a> 998             <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(1);
<a id="L999" name="L999"></a> 999         <em class="brace">}</em>
<a id="L1000" name="L1000"></a>1000 
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">while</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1002" name="L1002"></a>1002             <strong class="reserved">if</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() == <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE) <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003                 <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> se = (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>;
<a id="L1004" name="L1004"></a>1004 
<a id="L1005" name="L1005"></a>1005                 <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> = se.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L1006" name="L1006"></a>1006                 <strong class="reserved">if</strong> (<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007                     <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L1008" name="L1008"></a>1008                         <a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = (<a href="../S/54.html#L186" title="Defined at 186 in src/org/w3c/dom/Attr.java.">Attr</a>)<a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i);
<a id="L1009" name="L1009"></a>1009                         <strong class="reserved">if</strong> (<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/25675.html" title="Multiple defined in 7 places.">isId</a>() &amp;&amp; <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>()) &amp;&amp; se != knownElement) <em class="brace">{</em>
<a id="L1010" name="L1010"></a>1010                             <a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>.<a href="../D/27040.html" title="Multiple defined in 16 places.">log</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.logging.<a href="../S/1180.html#L66" title="Defined at 66 in src/java/util/logging/Level.java.">Level</a>.FINE, "Multiple elements with the same 'Id' attribute value!");
<a id="L1011" name="L1011"></a>1011                             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1012" name="L1012"></a>1012                         <em class="brace">}</em>
<a id="L1013" name="L1013"></a>1013                     <em class="brace">}</em>
<a id="L1014" name="L1014"></a>1014                 <em class="brace">}</em>
<a id="L1015" name="L1015"></a>1015             <em class="brace">}</em>
<a id="L1016" name="L1016"></a>1016 
<a id="L1017" name="L1017"></a>1017             processedNode = <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>;
<a id="L1018" name="L1018"></a>1018             <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> = <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1019" name="L1019"></a>1019 
<a id="L1020" name="L1020"></a>1020             <em class="comment">// no child, this node is done.</em>
<a id="L1021" name="L1021"></a>1021             <strong class="reserved">if</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1022" name="L1022"></a>1022                 <em class="comment">// close node processing, get sibling</em>
<a id="L1023" name="L1023"></a>1023                 <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> = processedNode.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1024" name="L1024"></a>1024             <em class="brace">}</em>
<a id="L1025" name="L1025"></a>1025 
<a id="L1026" name="L1026"></a>1026             <em class="comment">// no more siblings, get parent, all children</em>
<a id="L1027" name="L1027"></a>1027             <em class="comment">// of parent are processed.</em>
<a id="L1028" name="L1028"></a>1028             <strong class="reserved">while</strong> (<a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1029" name="L1029"></a>1029                 processedNode = processedNode.<a href="../D/21403.html" title="Multiple defined in 15 places.">getParentNode</a>();
<a id="L1030" name="L1030"></a>1030                 <strong class="reserved">if</strong> (processedNode == startParent) <em class="brace">{</em>
<a id="L1031" name="L1031"></a>1031                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1032" name="L1032"></a>1032                 <em class="brace">}</em>
<a id="L1033" name="L1033"></a>1033                 <em class="comment">// close parent node processing (processed node now)</em>
<a id="L1034" name="L1034"></a>1034                 <a href="../D/34804.html" title="Multiple defined in 6 places.">startNode</a> = processedNode.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1035" name="L1035"></a>1035             <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036         <em class="brace">}</em>
<a id="L1037" name="L1037"></a>1037         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1038" name="L1038"></a>1038     <em class="brace">}</em>
<a id="L1039" name="L1039"></a>1039 
<a id="L1040" name="L1040"></a>1040 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L60">[^]</a><a href="#L990">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>