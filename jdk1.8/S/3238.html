<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/swing/text/ElementIterator.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L102">[^]</a><a href="#L356">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L102" title="Defined at 102.">incrementIndex</a></li>
<li><a href="#L106" title="Defined at 106.">getElement</a></li>
<li><a href="#L110" title="Defined at 110.">getIndex</a></li>
<li><a href="#L114" title="Defined at 114.">clone</a></li>
<li><a href="#L146" title="Defined at 146.">clone</a></li>
<li><a href="#L170" title="Defined at 170.">first</a></li>
<li><a href="#L188" title="Defined at 188.">depth</a></li>
<li><a href="#L202" title="Defined at 202.">current</a></li>
<li><a href="#L234" title="Defined at 234.">next</a></li>
<li><a href="#L294" title="Defined at 294.">previous</a></li>
<li><a href="#L341" title="Defined at 341.">getDeepestLeaf</a></li>
<li><a href="#L356" title="Defined at 356.">dumpTree</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.swing.<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.Stack;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L30" name="L30"></a>  30 
<div class="comment">
  <p>
  ElementIterator, as the name suggests, iterates over the Element
  tree.  The constructor can be invoked with either Document or an Element
  as an argument.  If the constructor is invoked with a Document as an
  argument then the root of the iteration is the return value of
  document.getDefaultRootElement().
  The iteration happens in a depth-first manner.  In terms of how
  boundary conditions are handled:
  a) if next() is called before first() or current(), the
     root will be returned.
  b) next() returns null to indicate the end of the list.
  c) previous() returns null when the current element is the root
     or next() has returned null.
  The ElementIterator does no locking of the Element tree. This means
  that it does not track any changes.  It is the responsibility of the
  user of this class, to ensure that no changes happen during element
  iteration.
  Simple usage example:
     public void iterate() {
         ElementIterator it = new ElementIterator(root);
         Element elem;
         while (true) {
            if ((elem = next()) != null) {
                // process element
                System.out.println("elem: " + elem.getName());
            } else {
                break;
            }
         }
     }
  @author Sunita Mani</p></div>
<a id="L70" name="L70"></a>  70 
<a id="L71" name="L71"></a>  71 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/2586.html" title="Multiple referred from 18 places.">ElementIterator</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L72" name="L72"></a>  72 
<a id="L73" name="L73"></a>  73 
<a id="L74" name="L74"></a>  74     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L75" name="L75"></a>  75     <strong class="reserved">private</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a>&gt; elementStack = <strong class="reserved">null</strong>;
<a id="L76" name="L76"></a>  76 
<div class="comment">
      The StackItem class stores the element
      as well as a child index.  If the
      index is -1, then the element represented
      on the stack is the element itself.
      Otherwise, the index functions as as index
      into the vector of children of the element.
      In this case, the item on the stack
      represents the "index"th child of the element</div>
<a id="L88" name="L88"></a>  88     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/7552.html" title="Multiple referred from 12 places.">StackItem</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L89" name="L89"></a>  89         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>;
<a id="L90" name="L90"></a>  90         <strong class="reserved">int</strong> childIndex;
<a id="L91" name="L91"></a>  91 
<a id="L92" name="L92"></a>  92         <strong class="reserved">private</strong> StackItem(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem) <em class="brace">{</em>
<div class="comment">
              -1 index implies a self reference,
              as opposed to an index into its
              list of children.</div>
<a id="L98" name="L98"></a>  98             <strong class="reserved">this</strong>.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> = elem;
<a id="L99" name="L99"></a>  99             <strong class="reserved">this</strong>.childIndex = -1;
<a id="L100" name="L100"></a> 100         <em class="brace">}</em>
<a id="L101" name="L101"></a> 101 
<a id="L102" name="L102"></a> 102         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/20499.html" title="Multiple referred from 2 places.">incrementIndex</a>() <em class="brace">{</em>
<a id="L103" name="L103"></a> 103             childIndex++;
<a id="L104" name="L104"></a> 104         <em class="brace">}</em>
<a id="L105" name="L105"></a> 105 
<a id="L106" name="L106"></a> 106         <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16310.html" title="Multiple referred from 379 places.">getElement</a>() <em class="brace">{</em>
<a id="L107" name="L107"></a> 107             <strong class="reserved">return</strong> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>;
<a id="L108" name="L108"></a> 108         <em class="brace">}</em>
<a id="L109" name="L109"></a> 109 
<a id="L110" name="L110"></a> 110         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/17035.html" title="Multiple referred from 302 places.">getIndex</a>() <em class="brace">{</em>
<a id="L111" name="L111"></a> 111             <strong class="reserved">return</strong> childIndex;
<a id="L112" name="L112"></a> 112         <em class="brace">}</em>
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114         <strong class="reserved">protected</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> <em class="brace">{</em>
<a id="L115" name="L115"></a> 115             <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L116" name="L116"></a> 116         <em class="brace">}</em>
<a id="L117" name="L117"></a> 117     <em class="brace">}</em>
<a id="L118" name="L118"></a> 118 
<div class="comment">
      Creates a new ElementIterator. The
      root element is taken to get the
      default root element of the document.
      @param document a Document.</div>
<a id="L126" name="L126"></a> 126     <strong class="reserved">public</strong> ElementIterator(<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> <a href="../D/15104.html" title="Multiple defined in 4 places.">document</a>) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127         <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = <a href="../D/15104.html" title="Multiple defined in 4 places.">document</a>.<a href="../D/18357.html" title="Multiple defined in 4 places.">getDefaultRootElement</a>();
<a id="L128" name="L128"></a> 128     <em class="brace">}</em>
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130 
<div class="comment">
      Creates a new ElementIterator.
      @param root the root Element.</div>
<a id="L136" name="L136"></a> 136     <strong class="reserved">public</strong> ElementIterator(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>) <em class="brace">{</em>
<a id="L137" name="L137"></a> 137         <strong class="reserved">this</strong>.<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> = <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L138" name="L138"></a> 138     <em class="brace">}</em>
<a id="L139" name="L139"></a> 139 
<a id="L140" name="L140"></a> 140 
<div class="comment">
      Clones the ElementIterator.
      @return a cloned ElementIterator Object.</div>
<a id="L146" name="L146"></a> 146     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L147" name="L147"></a> 147 
<a id="L148" name="L148"></a> 148         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L149" name="L149"></a> 149             <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a> it = <strong class="reserved">new</strong> <a href="../S/3238.html#L71" title="Defined at 71 in src/javax/swing/text/ElementIterator.java.">ElementIterator</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>);
<a id="L150" name="L150"></a> 150             <strong class="reserved">if</strong> (elementStack != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L151" name="L151"></a> 151                 it.elementStack = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a>&gt;();
<a id="L152" name="L152"></a> 152                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; elementStack.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(); i++) <em class="brace">{</em>
<a id="L153" name="L153"></a> 153                     <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> = elementStack.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i);
<a id="L154" name="L154"></a> 154                     <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> clonee = (<a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a>)<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L155" name="L155"></a> 155                     it.elementStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(clonee);
<a id="L156" name="L156"></a> 156                 <em class="brace">}</em>
<a id="L157" name="L157"></a> 157             <em class="brace">}</em>
<a id="L158" name="L158"></a> 158             <strong class="reserved">return</strong> it;
<a id="L159" name="L159"></a> 159         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L160" name="L160"></a> 160             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(e);
<a id="L161" name="L161"></a> 161         <em class="brace">}</em>
<a id="L162" name="L162"></a> 162     <em class="brace">}</em>
<a id="L163" name="L163"></a> 163 
<a id="L164" name="L164"></a> 164 
<div class="comment">
      Fetches the first element.
      @return an Element.</div>
<a id="L170" name="L170"></a> 170     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/14628.html" title="Multiple referred from 688 places.">first</a>() <em class="brace">{</em>
<a id="L171" name="L171"></a> 171         <em class="comment">// just in case...</em>
<a id="L172" name="L172"></a> 172         <strong class="reserved">if</strong> (<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L173" name="L173"></a> 173             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L174" name="L174"></a> 174         <em class="brace">}</em>
<a id="L175" name="L175"></a> 175 
<a id="L176" name="L176"></a> 176         elementStack = <strong class="reserved">new</strong> <a href="../S/1186.html#L49" title="Defined at 49 in src/java/util/Stack.java.">Stack</a>&lt;<a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a>&gt;();
<a id="L177" name="L177"></a> 177         <strong class="reserved">if</strong> (<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>() != 0) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178             elementStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">new</strong> <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a>(<a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>));
<a id="L179" name="L179"></a> 179         <em class="brace">}</em>
<a id="L180" name="L180"></a> 180         <strong class="reserved">return</strong> <a href="../S/867.html#L1804" title="Defined at 1804 in src/java/util/HashMap.java.">root</a>;
<a id="L181" name="L181"></a> 181     <em class="brace">}</em>
<a id="L182" name="L182"></a> 182 
<div class="comment">
      Fetches the current depth of element tree.
      @return the depth.</div>
<a id="L188" name="L188"></a> 188     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/13226.html" title="Multiple referred from 309 places.">depth</a>() <em class="brace">{</em>
<a id="L189" name="L189"></a> 189         <strong class="reserved">if</strong> (elementStack == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L190" name="L190"></a> 190             <strong class="reserved">return</strong> 0;
<a id="L191" name="L191"></a> 191         <em class="brace">}</em>
<a id="L192" name="L192"></a> 192         <strong class="reserved">return</strong> elementStack.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L193" name="L193"></a> 193     <em class="brace">}</em>
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195 
<div class="comment">
      Fetches the current Element.
      @return element on top of the stack or
               <code>null</code> if the root element is <code>null</code></div>
<a id="L202" name="L202"></a> 202     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/12858.html" title="Multiple referred from 869 places.">current</a>() <em class="brace">{</em>
<a id="L203" name="L203"></a> 203 
<a id="L204" name="L204"></a> 204         <strong class="reserved">if</strong> (elementStack == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L205" name="L205"></a> 205             <strong class="reserved">return</strong> <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207 
<div class="comment">
          get a handle to the element on top of the stack.</div>
<a id="L211" name="L211"></a> 211         <strong class="reserved">if</strong> (! elementStack.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a>()) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212             <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> = elementStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L213" name="L213"></a> 213             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L214" name="L214"></a> 214             <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L215" name="L215"></a> 215             <em class="comment">// self reference</em>
<a id="L216" name="L216"></a> 216             <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == -1) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217                 <strong class="reserved">return</strong> elem;
<a id="L218" name="L218"></a> 218             <em class="brace">}</em>
<a id="L219" name="L219"></a> 219             <em class="comment">// return the child at location "index".</em>
<a id="L220" name="L220"></a> 220             <strong class="reserved">return</strong> elem.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>);
<a id="L221" name="L221"></a> 221         <em class="brace">}</em>
<a id="L222" name="L222"></a> 222         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L223" name="L223"></a> 223     <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225 
<div class="comment">
      Fetches the next Element. The strategy
      used to locate the next element is
      a depth-first search.
      @return the next element or <code>null</code>
               at the end of the list.</div>
<a id="L234" name="L234"></a> 234     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L235" name="L235"></a> 235 
<div class="comment">
 if current() has not been invoked
           and next is invoked, the very first
           element will be returned. </div>
<a id="L239" name="L239"></a> 239         <strong class="reserved">if</strong> (elementStack == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L240" name="L240"></a> 240             <strong class="reserved">return</strong> <a href="../D/16393.html" title="Multiple defined in 45 places.">first</a>();
<a id="L241" name="L241"></a> 241         <em class="brace">}</em>
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243         <em class="comment">// no more elements</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">if</strong> (elementStack.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L245" name="L245"></a> 245             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L246" name="L246"></a> 246         <em class="brace">}</em>
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248         <em class="comment">// get a handle to the element on top of the stack</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250         <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> = elementStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L251" name="L251"></a> 251         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L252" name="L252"></a> 252         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L253" name="L253"></a> 253 
<a id="L254" name="L254"></a> 254         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+1 &lt; elem.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>()) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255             <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = elem.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>+1);
<a id="L256" name="L256"></a> 256             <strong class="reserved">if</strong> (child.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<div class="comment">
 In this case we merely want to increment
                   the child index of the item on top of the
                   stack.</div>
<a id="L260" name="L260"></a> 260                 <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../S/3238.html#L102" title="Defined at 102 in src/javax/swing/text/ElementIterator.java.">incrementIndex</a>();
<a id="L261" name="L261"></a> 261             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
 In this case we need to push the child(branch)
                   on the stack so that we can iterate over its
                   children. </div>
<a id="L265" name="L265"></a> 265                 elementStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">new</strong> <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a>(child));
<a id="L266" name="L266"></a> 266             <em class="brace">}</em>
<a id="L267" name="L267"></a> 267             <strong class="reserved">return</strong> child;
<a id="L268" name="L268"></a> 268         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<div class="comment">
 No more children for the item on top of the
               stack therefore pop the stack. </div>
<a id="L271" name="L271"></a> 271             elementStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L272" name="L272"></a> 272             <strong class="reserved">if</strong> (!elementStack.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<div class="comment">
 Increment the child index for the item that
                   is now on top of the stack. </div>
<a id="L275" name="L275"></a> 275                 <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = elementStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L276" name="L276"></a> 276                 <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>.<a href="../S/3238.html#L102" title="Defined at 102 in src/javax/swing/text/ElementIterator.java.">incrementIndex</a>();
<div class="comment">
 We now want to return its next child, therefore
                   call next() recursively. </div>
<a id="L279" name="L279"></a> 279                 <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L280" name="L280"></a> 280             <em class="brace">}</em>
<a id="L281" name="L281"></a> 281         <em class="brace">}</em>
<a id="L282" name="L282"></a> 282         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L283" name="L283"></a> 283     <em class="brace">}</em>
<a id="L284" name="L284"></a> 284 
<a id="L285" name="L285"></a> 285 
<div class="comment">
      Fetches the previous Element. If however the current
      element is the last element, or the current element
      is null, then null is returned.
      @return previous <code>Element</code> if available</div>
<a id="L294" name="L294"></a> 294     <strong class="reserved">public</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/24962.html" title="Multiple referred from 157 places.">previous</a>() <em class="brace">{</em>
<a id="L295" name="L295"></a> 295 
<a id="L296" name="L296"></a> 296         <strong class="reserved">int</strong> stackSize;
<a id="L297" name="L297"></a> 297         <strong class="reserved">if</strong> (elementStack == <strong class="reserved">null</strong> || (stackSize = elementStack.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()) == 0) <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L299" name="L299"></a> 299         <em class="brace">}</em>
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301         <em class="comment">// get a handle to the element on top of the stack</em>
<a id="L302" name="L302"></a> 302         <em class="comment">//</em>
<a id="L303" name="L303"></a> 303         <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> = elementStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L304" name="L304"></a> 304         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L305" name="L305"></a> 305         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L306" name="L306"></a> 306 
<a id="L307" name="L307"></a> 307         <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt; 0) <em class="brace">{</em>
<div class="comment">
             /* return child at previous index. */</div>
<a id="L309" name="L309"></a> 309             <strong class="reserved">return</strong> <a href="../S/3238.html#L341" title="Defined at 341 in src/javax/swing/text/ElementIterator.java.">getDeepestLeaf</a>(elem.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(--<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L310" name="L310"></a> 310         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == 0) <em class="brace">{</em>
<div class="comment">
 this implies that current is the element's
               first child, therefore previous is the
               element itself. </div>
<a id="L314" name="L314"></a> 314             <strong class="reserved">return</strong> elem;
<a id="L315" name="L315"></a> 315         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == -1) <em class="brace">{</em>
<a id="L316" name="L316"></a> 316             <strong class="reserved">if</strong> (stackSize == 1) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317                 <em class="comment">// current is the root, nothing before it.</em>
<a id="L318" name="L318"></a> 318                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L319" name="L319"></a> 319             <em class="brace">}</em>
<div class="comment">
 We need to return either the item
               below the top item or one of the
               former's children. </div>
<a id="L323" name="L323"></a> 323             <a href="../S/3238.html#L88" title="Defined at 88 in src/javax/swing/text/ElementIterator.java.">StackItem</a> <a href="../D/35554.html" title="Multiple defined in 2 places.">top</a> = elementStack.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L324" name="L324"></a> 324             <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a> = elementStack.<a href="../D/29287.html" title="Multiple defined in 50 places.">peek</a>();
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326             <em class="comment">// restore the top item.</em>
<a id="L327" name="L327"></a> 327             elementStack.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<a href="../D/35554.html" title="Multiple defined in 2 places.">top</a>);
<a id="L328" name="L328"></a> 328             elem = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>();
<a id="L329" name="L329"></a> 329             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>.<a href="../D/19664.html" title="Multiple defined in 76 places.">getIndex</a>();
<a id="L330" name="L330"></a> 330             <strong class="reserved">return</strong> ((<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> == -1) ? elem : <a href="../S/3238.html#L341" title="Defined at 341 in src/javax/swing/text/ElementIterator.java.">getDeepestLeaf</a>(elem.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>
<a id="L331" name="L331"></a> 331                                                           (<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>)));
<a id="L332" name="L332"></a> 332         <em class="brace">}</em>
<a id="L333" name="L333"></a> 333         <em class="comment">// should never get here.</em>
<a id="L334" name="L334"></a> 334         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L335" name="L335"></a> 335     <em class="brace">}</em>
<a id="L336" name="L336"></a> 336 
<div class="comment">
      Returns the last child of <code>parent</code> that is a leaf. If the
      last child is a not a leaf, this method is called with the last child.</div>
<a id="L341" name="L341"></a> 341     <strong class="reserved">private</strong> <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../R/16002.html" title="Multiple referred from 3 places.">getDeepestLeaf</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342         <strong class="reserved">if</strong> (<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/25780.html" title="Multiple defined in 13 places.">isLeaf</a>()) <em class="brace">{</em>
<a id="L343" name="L343"></a> 343             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L344" name="L344"></a> 344         <em class="brace">}</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">int</strong> childCount = <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18674.html" title="Multiple defined in 5 places.">getElementCount</a>();
<a id="L346" name="L346"></a> 346         <strong class="reserved">if</strong> (childCount == 0) <em class="brace">{</em>
<a id="L347" name="L347"></a> 347             <strong class="reserved">return</strong> <a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>;
<a id="L348" name="L348"></a> 348         <em class="brace">}</em>
<a id="L349" name="L349"></a> 349         <strong class="reserved">return</strong> <a href="../S/3238.html#L341" title="Defined at 341 in src/javax/swing/text/ElementIterator.java.">getDeepestLeaf</a>(<a href="../D/29067.html" title="Multiple defined in 4 places.">parent</a>.<a href="../D/18665.html" title="Multiple defined in 28 places.">getElement</a>(childCount - 1));
<a id="L350" name="L350"></a> 350     <em class="brace">}</em>
<a id="L351" name="L351"></a> 351 
<div class="comment">
      Iterates through the element tree and prints
      out each element and its attributes.</div>
<a id="L356" name="L356"></a> 356     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13606.html" title="Multiple referred from 8 places.">dumpTree</a>() <em class="brace">{</em>
<a id="L357" name="L357"></a> 357 
<a id="L358" name="L358"></a> 358         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem;
<a id="L359" name="L359"></a> 359         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             <strong class="reserved">if</strong> ((elem = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>()) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("elem: " + elem.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L362" name="L362"></a> 362                 <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a> = elem.<a href="../D/17112.html" title="Multiple defined in 109 places.">getAttributes</a>();
<a id="L363" name="L363"></a> 363                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = "";
<a id="L364" name="L364"></a> 364                 <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a> names = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17092.html" title="Multiple defined in 12 places.">getAttributeNames</a>();
<a id="L365" name="L365"></a> 365                 <strong class="reserved">while</strong> (names.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = names.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>();
<a id="L367" name="L367"></a> 367                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> = <a href="../D/11626.html" title="Multiple defined in 2 places.">attr</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L368" name="L368"></a> 368                     <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> <strong class="reserved">instanceof</strong> <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a>) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369                         <em class="comment">// don't go recursive</em>
<a id="L370" name="L370"></a> 370                         s = s + <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> + "=**AttributeSet** ";
<a id="L371" name="L371"></a> 371                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L372" name="L372"></a> 372                         s = s + <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> + "=" + <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> + " ";
<a id="L373" name="L373"></a> 373                     <em class="brace">}</em>
<a id="L374" name="L374"></a> 374                 <em class="brace">}</em>
<a id="L375" name="L375"></a> 375                 <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("attributes: " + s);
<a id="L376" name="L376"></a> 376             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                 <strong class="reserved">break</strong>;
<a id="L378" name="L378"></a> 378             <em class="brace">}</em>
<a id="L379" name="L379"></a> 379         <em class="brace">}</em>
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L102">[^]</a><a href="#L356">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>