<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/Identity.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L139">[^]</a><a href="#L489">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L139" title="Defined at 139.">getName</a></li>
<li><a href="#L148" title="Defined at 148.">getScope</a></li>
<li><a href="#L159" title="Defined at 159.">getPublicKey</a></li>
<li><a href="#L184" title="Defined at 184.">setPublicKey</a></li>
<li><a href="#L207" title="Defined at 207.">setInfo</a></li>
<li><a href="#L219" title="Defined at 219.">getInfo</a></li>
<li><a href="#L245" title="Defined at 245.">addCertificate</a></li>
<li><a href="#L264" title="Defined at 264.">keyEquals</a></li>
<li><a href="#L295" title="Defined at 295.">removeCertificate</a></li>
<li><a href="#L308" title="Defined at 308.">certificates</a></li>
<li><a href="#L333" title="Defined at 333.">equals</a></li>
<li><a href="#L363" title="Defined at 363.">identityEquals</a></li>
<li><a href="#L381" title="Defined at 381.">fullName</a></li>
<li><a href="#L406" title="Defined at 406.">toString</a></li>
<li><a href="#L437" title="Defined at 437.">toString</a></li>
<li><a href="#L452" title="Defined at 452.">printKeys</a></li>
<li><a href="#L462" title="Defined at 462.">printCertificates</a></li>
<li><a href="#L485" title="Defined at 485.">hashCode</a></li>
<li><a href="#L489" title="Defined at 489.">check</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1996, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.*;
<a id="L30" name="L30"></a>  30 
<div class="comment">
  <p>This class represents identities: real-world objects such as people,
  companies or organizations whose identities can be authenticated using
  their public keys. Identities may also be more abstract (or concrete)
  constructs, such as daemon threads or smart cards.
  </p><p>All Identity objects have a name and a public key. Names are
  immutable. Identities may also be scoped. That is, if an Identity is
  specified to have a particular scope, then the name and public
  key of the Identity are unique within that scope.
  </p><p>An Identity also has a set of certificates (all certifying its own
  public key). The Principal names specified in these certificates need
  not be the same, only the key.
  </p><p>An Identity can be subclassed, to include postal and email addresses,
  telephone numbers, images of faces and logos, and so on.
  @see IdentityScope
  @see Signer
  @see Principal
  @author Benjamin Renaud
  @deprecated This class is no longer used. Its functionality has been
  replaced by <code>java.security.KeyStore</code>, the
  <code>java.security.cert</code> package, and
  <code>java.security.Principal</code>.</p></div>
<a id="L59" name="L59"></a>  59 @<a href="../D/2383.html" title="Multiple defined in 2 places.">Deprecated</a>
<a id="L60" name="L60"></a>  60 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/3663.html" title="Multiple referred from 13 places.">Identity</a> <strong class="reserved">implements</strong> <a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L61" name="L61"></a>  61 
<div class="comment">
     /** use serialVersionUID from JDK 1.1.x for interoperability */</div>
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3609922007826600659L;
<a id="L64" name="L64"></a>  64 
<div class="comment">
      The name for this identity.
      @serial</div>
<a id="L70" name="L70"></a>  70     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L71" name="L71"></a>  71 
<div class="comment">
      The public key for this identity.
      @serial</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <a href="../S/1329.html#L46" title="Defined at 46 in src/java/security/PublicKey.java.">PublicKey</a> publicKey;
<a id="L78" name="L78"></a>  78 
<div class="comment">
      Generic, descriptive information about the identity.
      @serial</div>
<a id="L84" name="L84"></a>  84     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = "No further information available.";
<a id="L85" name="L85"></a>  85 
<div class="comment">
      The scope of the identity.
      @serial</div>
<a id="L91" name="L91"></a>  91     <a href="../S/1337.html#L66" title="Defined at 66 in src/java/security/IdentityScope.java.">IdentityScope</a> <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>;
<a id="L92" name="L92"></a>  92 
<div class="comment">
      The certificates for this identity.
      @serial</div>
<a id="L98" name="L98"></a>  98     <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>&gt; <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a>;
<a id="L99" name="L99"></a>  99 
<div class="comment">
      Constructor for serialization only.</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">protected</strong> Identity() <em class="brace">{</em>
<a id="L104" name="L104"></a> 104         <strong class="reserved">this</strong>("restoring...");
<a id="L105" name="L105"></a> 105     <em class="brace">}</em>
<a id="L106" name="L106"></a> 106 
<div class="comment">
      Constructs an identity with the specified name and scope.
      @param name the identity name.
      @param scope the scope of the identity.
      @exception KeyManagementException if there is already an identity
      with the same name in the scope.</div>
<a id="L116" name="L116"></a> 116     <strong class="reserved">public</strong> Identity(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/1337.html#L66" title="Defined at 66 in src/java/security/IdentityScope.java.">IdentityScope</a> <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>) <strong class="reserved">throws</strong>
<a id="L117" name="L117"></a> 117     <a href="../S/1335.html#L46" title="Defined at 46 in src/java/security/KeyManagementException.java.">KeyManagementException</a> <em class="brace">{</em>
<a id="L118" name="L118"></a> 118         <strong class="reserved">this</strong>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L119" name="L119"></a> 119         <strong class="reserved">if</strong> (<a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L120" name="L120"></a> 120             <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>.<a href="../S/1337.html#L218" title="Defined at 218 in src/java/security/IdentityScope.java.">addIdentity</a>(<strong class="reserved">this</strong>);
<a id="L121" name="L121"></a> 121         <em class="brace">}</em>
<a id="L122" name="L122"></a> 122         <strong class="reserved">this</strong>.<a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a> = <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>;
<a id="L123" name="L123"></a> 123     <em class="brace">}</em>
<a id="L124" name="L124"></a> 124 
<div class="comment">
      Constructs an identity with the specified name and no scope.
      @param name the identity name.</div>
<a id="L130" name="L130"></a> 130     <strong class="reserved">public</strong> Identity(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L131" name="L131"></a> 131         <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L132" name="L132"></a> 132     <em class="brace">}</em>
<a id="L133" name="L133"></a> 133 
<div class="comment">
      Returns this identity's name.
      @return the name of this identity.</div>
<a id="L139" name="L139"></a> 139     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L140" name="L140"></a> 140         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L141" name="L141"></a> 141     <em class="brace">}</em>
<a id="L142" name="L142"></a> 142 
<div class="comment">
      Returns this identity's scope.
      @return the scope of this identity.</div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <a href="../S/1337.html#L66" title="Defined at 66 in src/java/security/IdentityScope.java.">IdentityScope</a> <a href="../R/18868.html" title="Multiple referred from 4 places.">getScope</a>() <em class="brace">{</em>
<a id="L149" name="L149"></a> 149         <strong class="reserved">return</strong> <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>;
<a id="L150" name="L150"></a> 150     <em class="brace">}</em>
<a id="L151" name="L151"></a> 151 
<div class="comment">
      Returns this identity's public key.
      @return the public key for this identity.
      @see #setPublicKey</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">public</strong> <a href="../S/1329.html#L46" title="Defined at 46 in src/java/security/PublicKey.java.">PublicKey</a> <a href="../R/18557.html" title="Multiple referred from 24 places.">getPublicKey</a>() <em class="brace">{</em>
<a id="L160" name="L160"></a> 160         <strong class="reserved">return</strong> publicKey;
<a id="L161" name="L161"></a> 161     <em class="brace">}</em>
<a id="L162" name="L162"></a> 162 
<div class="comment">
      Sets this identity's public key. The old key and all of this
      identity's certificates are removed by this operation.
      <p>First, if there is a security manager, its <code>checkSecurityAccess</code>
      method is called with <code>"setIdentityPublicKey"</code>
      as its argument to see if it's ok to set the public key.
      @param key the public key for this identity.
      @exception KeyManagementException if another identity in the
      identity's scope has the same public key, or if another exception occurs.
      @exception  SecurityException  if a security manager exists and its
      <code>checkSecurityAccess</code> method doesn't allow
      setting the public key.
      @see #getPublicKey
      @see SecurityManager#checkSecurityAccess</p></div>
<div class="comment">
     /* Should we throw an exception if this is already set? */</div>
<a id="L184" name="L184"></a> 184     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/1322.html#L145" title="Referred from 145 in src/java/security/Signer.java.">setPublicKey</a>(<a href="../S/1329.html#L46" title="Defined at 46 in src/java/security/PublicKey.java.">PublicKey</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <strong class="reserved">throws</strong> <a href="../S/1335.html#L46" title="Defined at 46 in src/java/security/KeyManagementException.java.">KeyManagementException</a> <em class="brace">{</em>
<a id="L185" name="L185"></a> 185 
<a id="L186" name="L186"></a> 186         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("setIdentityPublicKey");
<a id="L187" name="L187"></a> 187         <strong class="reserved">this</strong>.publicKey = <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L188" name="L188"></a> 188         <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>&gt;();
<a id="L189" name="L189"></a> 189     <em class="brace">}</em>
<a id="L190" name="L190"></a> 190 
<div class="comment">
      Specifies a general information string for this identity.
      <p>First, if there is a security manager, its <code>checkSecurityAccess</code>
      method is called with <code>"setIdentityInfo"</code>
      as its argument to see if it's ok to specify the information string.
      @param info the information string.
      @exception  SecurityException  if a security manager exists and its
      <code>checkSecurityAccess</code> method doesn't allow
      setting the information string.
      @see #getInfo
      @see SecurityManager#checkSecurityAccess</p></div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27563.html" title="Multiple referred from 3 places.">setInfo</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("setIdentityInfo");
<a id="L209" name="L209"></a> 209         <strong class="reserved">this</strong>.<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> = <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L210" name="L210"></a> 210     <em class="brace">}</em>
<a id="L211" name="L211"></a> 211 
<div class="comment">
      Returns general information previously specified for this identity.
      @return general information about this identity.
      @see #setInfo</div>
<a id="L219" name="L219"></a> 219     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> getInfo() <em class="brace">{</em>
<a id="L220" name="L220"></a> 220         <strong class="reserved">return</strong> <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L221" name="L221"></a> 221     <em class="brace">}</em>
<a id="L222" name="L222"></a> 222 
<div class="comment">
      Adds a certificate for this identity. If the identity has a public
      key, the public key in the certificate must be the same, and if
      the identity does not have a public key, the identity's
      public key is set to be that specified in the certificate.
      <p>First, if there is a security manager, its <code>checkSecurityAccess</code>
      method is called with <code>"addIdentityCertificate"</code>
      as its argument to see if it's ok to add a certificate.
      @param certificate the certificate to be added.
      @exception KeyManagementException if the certificate is not valid,
      if the public key in the certificate being added conflicts with
      this identity's public key, or if another exception occurs.
      @exception  SecurityException  if a security manager exists and its
      <code>checkSecurityAccess</code> method doesn't allow
      adding a certificate.
      @see SecurityManager#checkSecurityAccess</p></div>
<a id="L245" name="L245"></a> 245     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5654.html#L821" title="Referred from 821 in src/com/sun/org/apache/xml/internal/security/signature/XMLSignature.java.">addCertificate</a>(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> certificate)
<a id="L246" name="L246"></a> 246     <strong class="reserved">throws</strong> <a href="../S/1335.html#L46" title="Defined at 46 in src/java/security/KeyManagementException.java.">KeyManagementException</a> <em class="brace">{</em>
<a id="L247" name="L247"></a> 247 
<a id="L248" name="L248"></a> 248         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("addIdentityCertificate");
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250         <strong class="reserved">if</strong> (<a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251             <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a> = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>&lt;<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>&gt;();
<a id="L252" name="L252"></a> 252         <em class="brace">}</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">if</strong> (publicKey != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254             <strong class="reserved">if</strong> (!<a href="../S/1252.html#L264" title="Defined at 264 in src/java/security/Identity.java.">keyEquals</a>(publicKey, certificate.<a href="../D/21782.html" title="Multiple defined in 14 places.">getPublicKey</a>())) <em class="brace">{</em>
<a id="L255" name="L255"></a> 255                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1335.html#L46" title="Defined at 46 in src/java/security/KeyManagementException.java.">KeyManagementException</a>(
<a id="L256" name="L256"></a> 256                     "public key different from cert public key");
<a id="L257" name="L257"></a> 257             <em class="brace">}</em>
<a id="L258" name="L258"></a> 258         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L259" name="L259"></a> 259             publicKey = certificate.<a href="../D/21782.html" title="Multiple defined in 14 places.">getPublicKey</a>();
<a id="L260" name="L260"></a> 260         <em class="brace">}</em>
<a id="L261" name="L261"></a> 261         <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a>.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>(certificate);
<a id="L262" name="L262"></a> 262     <em class="brace">}</em>
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/1252.html#L254" title="Referred from 254 in src/java/security/Identity.java.">keyEquals</a>(<a href="../S/1329.html#L46" title="Defined at 46 in src/java/security/PublicKey.java.">PublicKey</a> aKey, <a href="../S/1329.html#L46" title="Defined at 46 in src/java/security/PublicKey.java.">PublicKey</a> anotherKey) <em class="brace">{</em>
<a id="L265" name="L265"></a> 265         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> aKeyFormat = aKey.<a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>();
<a id="L266" name="L266"></a> 266         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> anotherKeyFormat = anotherKey.<a href="../D/19207.html" title="Multiple defined in 14 places.">getFormat</a>();
<a id="L267" name="L267"></a> 267         <strong class="reserved">if</strong> ((aKeyFormat == <strong class="reserved">null</strong>) ^ (anotherKeyFormat == <strong class="reserved">null</strong>))
<a id="L268" name="L268"></a> 268             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L269" name="L269"></a> 269         <strong class="reserved">if</strong> (aKeyFormat != <strong class="reserved">null</strong> &amp;&amp; anotherKeyFormat != <strong class="reserved">null</strong>)
<a id="L270" name="L270"></a> 270             <strong class="reserved">if</strong> (!aKeyFormat.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(anotherKeyFormat))
<a id="L271" name="L271"></a> 271                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L272" name="L272"></a> 272         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(aKey.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>(),
<a id="L273" name="L273"></a> 273                                      anotherKey.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>());
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276 
<div class="comment">
      Removes a certificate from this identity.
      <p>First, if there is a security manager, its <code>checkSecurityAccess</code>
      method is called with <code>"removeIdentityCertificate"</code>
      as its argument to see if it's ok to remove a certificate.
      @param certificate the certificate to be removed.
      @exception KeyManagementException if the certificate is
      missing, or if another exception occurs.
      @exception  SecurityException  if a security manager exists and its
      <code>checkSecurityAccess</code> method doesn't allow
      removing a certificate.
      @see SecurityManager#checkSecurityAccess</p></div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">public</strong> <strong class="reserved">void</strong> removeCertificate(<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> certificate)
<a id="L296" name="L296"></a> 296     <strong class="reserved">throws</strong> <a href="../S/1335.html#L46" title="Defined at 46 in src/java/security/KeyManagementException.java.">KeyManagementException</a> <em class="brace">{</em>
<a id="L297" name="L297"></a> 297         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("removeIdentityCertificate");
<a id="L298" name="L298"></a> 298         <strong class="reserved">if</strong> (<a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299             <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a>.<a href="../D/30774.html" title="Multiple defined in 14 places.">removeElement</a>(certificate);
<a id="L300" name="L300"></a> 300         <em class="brace">}</em>
<a id="L301" name="L301"></a> 301     <em class="brace">}</em>
<a id="L302" name="L302"></a> 302 
<div class="comment">
      Returns a copy of all the certificates for this identity.
      @return a copy of all the certificates for this identity.</div>
<a id="L308" name="L308"></a> 308     <strong class="reserved">public</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] <a href="../R/11010.html" title="Multiple referred from 15 places.">certificates</a>() <em class="brace">{</em>
<a id="L309" name="L309"></a> 309         <strong class="reserved">if</strong> (<a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L310" name="L310"></a> 310             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[0];
<a id="L311" name="L311"></a> 311         <em class="brace">}</em>
<a id="L312" name="L312"></a> 312         <strong class="reserved">int</strong> len = <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L313" name="L313"></a> 313         <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[] certs = <strong class="reserved">new</strong> <a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a>[len];
<a id="L314" name="L314"></a> 314         <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a>.<a href="../D/13501.html" title="Multiple defined in 23 places.">copyInto</a>(certs);
<a id="L315" name="L315"></a> 315         <strong class="reserved">return</strong> certs;
<a id="L316" name="L316"></a> 316     <em class="brace">}</em>
<a id="L317" name="L317"></a> 317 
<div class="comment">
      Tests for equality between the specified object and this identity.
      This first tests to see if the entities actually refer to the same
      object, in which case it returns true. Next, it checks to see if
      the entities have the same name and the same scope. If they do,
      the method returns true. Otherwise, it calls
      {@link #identityEquals(Identity) identityEquals}, which subclasses should
      override.
      @param identity the object to test for equality with this identity.
      @return true if the objects are considered equal, false otherwise.
      @see #identityEquals</div>
<a id="L333" name="L333"></a> 333     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335         <strong class="reserved">if</strong> (<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a> == <strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L337" name="L337"></a> 337         <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<a id="L339" name="L339"></a> 339         <strong class="reserved">if</strong> (<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a> <strong class="reserved">instanceof</strong> <a href="../D/4036.html" title="Multiple defined in 2 places.">Identity</a>) <em class="brace">{</em>
<a id="L340" name="L340"></a> 340             <a href="../D/4036.html" title="Multiple defined in 2 places.">Identity</a> i = (<a href="../D/4036.html" title="Multiple defined in 2 places.">Identity</a>)<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>;
<a id="L341" name="L341"></a> 341             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.<a href="../S/1252.html#L381" title="Defined at 381 in src/java/security/Identity.java.">fullName</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(i.<a href="../S/1252.html#L381" title="Defined at 381 in src/java/security/Identity.java.">fullName</a>())) <em class="brace">{</em>
<a id="L342" name="L342"></a> 342                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L343" name="L343"></a> 343             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L344" name="L344"></a> 344                 <strong class="reserved">return</strong> <a href="../S/1252.html#L363" title="Defined at 363 in src/java/security/Identity.java.">identityEquals</a>(i);
<a id="L345" name="L345"></a> 345             <em class="brace">}</em>
<a id="L346" name="L346"></a> 346         <em class="brace">}</em>
<a id="L347" name="L347"></a> 347         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L348" name="L348"></a> 348     <em class="brace">}</em>
<a id="L349" name="L349"></a> 349 
<div class="comment">
      Tests for equality between the specified identity and this identity.
      This method should be overriden by subclasses to test for equality.
      The default behavior is to return true if the names and public keys
      are equal.
      @param identity the identity to test for equality with this identity.
      @return true if the identities are considered equal, false
      otherwise.
      @see #equals</div>
<a id="L363" name="L363"></a> 363     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../S/1252.html#L344" title="Referred from 344 in src/java/security/Identity.java.">identityEquals</a>(<a href="../D/4036.html" title="Multiple defined in 2 places.">Identity</a> <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364         <strong class="reserved">if</strong> (!<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>(<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>))
<a id="L365" name="L365"></a> 365             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L366" name="L366"></a> 366 
<a id="L367" name="L367"></a> 367         <strong class="reserved">if</strong> ((publicKey == <strong class="reserved">null</strong>) ^ (<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>.publicKey == <strong class="reserved">null</strong>))
<a id="L368" name="L368"></a> 368             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <strong class="reserved">if</strong> (publicKey != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>.publicKey != <strong class="reserved">null</strong>)
<a id="L371" name="L371"></a> 371             <strong class="reserved">if</strong> (!publicKey.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/24301.html" title="Multiple defined in 8 places.">identity</a>.publicKey))
<a id="L372" name="L372"></a> 372                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L375" name="L375"></a> 375 
<a id="L376" name="L376"></a> 376     <em class="brace">}</em>
<a id="L377" name="L377"></a> 377 
<div class="comment">
      Returns a parsable name for identity: identityName.scopeName</div>
<a id="L381" name="L381"></a> 381     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14823.html" title="Multiple referred from 36 places.">fullName</a>() <em class="brace">{</em>
<a id="L382" name="L382"></a> 382         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> parsable = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L383" name="L383"></a> 383         <strong class="reserved">if</strong> (<a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L384" name="L384"></a> 384             parsable += "." + <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>();
<a id="L385" name="L385"></a> 385         <em class="brace">}</em>
<a id="L386" name="L386"></a> 386         <strong class="reserved">return</strong> parsable;
<a id="L387" name="L387"></a> 387     <em class="brace">}</em>
<a id="L388" name="L388"></a> 388 
<div class="comment">
      Returns a short string describing this identity, telling its
      name and its scope (if any).
      <p>First, if there is a security manager, its <code>checkSecurityAccess</code>
      method is called with <code>"printIdentity"</code>
      as its argument to see if it's ok to return the string.
      @return information about this identity, such as its name and the
      name of its scope (if any).
      @exception  SecurityException  if a security manager exists and its
      <code>checkSecurityAccess</code> method doesn't allow
      returning a string describing this identity.
      @see SecurityManager#checkSecurityAccess</p></div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L407" name="L407"></a> 407         <a href="../D/12348.html" title="Multiple defined in 34 places.">check</a>("printIdentity");
<a id="L408" name="L408"></a> 408         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> printable = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L409" name="L409"></a> 409         <strong class="reserved">if</strong> (<a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             printable += "[" + <a href="../S/3978.html#L145" title="Defined at 145 in src/javax/xml/bind/annotation/XmlElementDecl.java.">scope</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>() + "]";
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412         <strong class="reserved">return</strong> printable;
<a id="L413" name="L413"></a> 413     <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<div class="comment">
      Returns a string representation of this identity, with
      optionally more details than that provided by the
      <code>toString</code> method without any arguments.
      <p>First, if there is a security manager, its <code>checkSecurityAccess</code>
      method is called with <code>"printIdentity"</code>
      as its argument to see if it's ok to return the string.
      @param detailed whether or not to provide detailed information.
      @return information about this identity. If <code>detailed</code>
      is true, then this method returns more information than that
      provided by the <code>toString</code> method without any arguments.
      @exception  SecurityException  if a security manager exists and its
      <code>checkSecurityAccess</code> method doesn't allow
      returning a string describing this identity.
      @see #toString
      @see SecurityManager#checkSecurityAccess</p></div>
<a id="L437" name="L437"></a> 437     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>(<strong class="reserved">boolean</strong> detailed) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L439" name="L439"></a> 439         <strong class="reserved">if</strong> (detailed) <em class="brace">{</em>
<a id="L440" name="L440"></a> 440             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\n";
<a id="L441" name="L441"></a> 441             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += <a href="../D/29680.html" title="Multiple defined in 2 places.">printKeys</a>();
<a id="L442" name="L442"></a> 442             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\n" + <a href="../S/1252.html#L462" title="Defined at 462 in src/java/security/Identity.java.">printCertificates</a>();
<a id="L443" name="L443"></a> 443             <strong class="reserved">if</strong> (<a href="../D/24493.html" title="Multiple defined in 8 places.">info</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L444" name="L444"></a> 444                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\n\t" + <a href="../D/24493.html" title="Multiple defined in 8 places.">info</a>;
<a id="L445" name="L445"></a> 445             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L446" name="L446"></a> 446                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\n\tno additional information available.";
<a id="L447" name="L447"></a> 447             <em class="brace">}</em>
<a id="L448" name="L448"></a> 448         <em class="brace">}</em>
<a id="L449" name="L449"></a> 449         <strong class="reserved">return</strong> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>;
<a id="L450" name="L450"></a> 450     <em class="brace">}</em>
<a id="L451" name="L451"></a> 451 
<a id="L452" name="L452"></a> 452     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1252.html#L441" title="Referred from 441 in src/java/security/Identity.java.">printKeys</a>() <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "";
<a id="L454" name="L454"></a> 454         <strong class="reserved">if</strong> (publicKey != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "\tpublic key initialized";
<a id="L456" name="L456"></a> 456         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L457" name="L457"></a> 457             <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = "\tno public key";
<a id="L458" name="L458"></a> 458         <em class="brace">}</em>
<a id="L459" name="L459"></a> 459         <strong class="reserved">return</strong> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>;
<a id="L460" name="L460"></a> 460     <em class="brace">}</em>
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1252.html#L442" title="Referred from 442 in src/java/security/Identity.java.">printCertificates</a>() <em class="brace">{</em>
<a id="L463" name="L463"></a> 463         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> = "";
<a id="L464" name="L464"></a> 464         <strong class="reserved">if</strong> (<a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L465" name="L465"></a> 465             <strong class="reserved">return</strong> "\tno certificates";
<a id="L466" name="L466"></a> 466         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L467" name="L467"></a> 467             <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\tcertificates: \n";
<a id="L468" name="L468"></a> 468 
<a id="L469" name="L469"></a> 469             <strong class="reserved">int</strong> i = 1;
<a id="L470" name="L470"></a> 470             <strong class="reserved">for</strong> (<a href="../D/1346.html" title="Multiple defined in 3 places.">Certificate</a> cert : <a href="../S/1252.html#L308" title="Defined at 308 in src/java/security/Identity.java.">certificates</a>) <em class="brace">{</em>
<a id="L471" name="L471"></a> 471                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\tcertificate " + i++ +
<a id="L472" name="L472"></a> 472                     "\tfor  : " + cert.<a href="../D/21662.html" title="Multiple defined in 14 places.">getPrincipal</a>() + "\n";
<a id="L473" name="L473"></a> 473                 <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a> += "\t\t\tfrom : " +
<a id="L474" name="L474"></a> 474                     cert.<a href="../S/1251.html#L78" title="Defined at 78 in src/java/security/Certificate.java.">getGuarantor</a>() + "\n";
<a id="L475" name="L475"></a> 475             <em class="brace">}</em>
<a id="L476" name="L476"></a> 476         <em class="brace">}</em>
<a id="L477" name="L477"></a> 477         <strong class="reserved">return</strong> <a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>;
<a id="L478" name="L478"></a> 478     <em class="brace">}</em>
<a id="L479" name="L479"></a> 479 
<div class="comment">
      Returns a hashcode for this identity.
      @return a hashcode for this identity.</div>
<a id="L485" name="L485"></a> 485     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L486" name="L486"></a> 486         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L487" name="L487"></a> 487     <em class="brace">}</em>
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/11065.html" title="Multiple referred from 127 places.">check</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> directive) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L491" name="L491"></a> 491         <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L492" name="L492"></a> 492             security.<a href="../S/1785.html#L1758" title="Defined at 1758 in src/java/lang/SecurityManager.java.">checkSecurityAccess</a>(directive);
<a id="L493" name="L493"></a> 493         <em class="brace">}</em>
<a id="L494" name="L494"></a> 494     <em class="brace">}</em>
<a id="L495" name="L495"></a> 495 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L139">[^]</a><a href="#L489">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>