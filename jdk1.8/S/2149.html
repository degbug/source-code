<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/awt/dnd/DragSourceContext.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L240">[^]</a><a href="#L563">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L240" title="Defined at 240.">getDragSource</a></li>
<li><a href="#L249" title="Defined at 249.">getComponent</a></li>
<li><a href="#L258" title="Defined at 258.">getTrigger</a></li>
<li><a href="#L267" title="Defined at 267.">getSourceActions</a></li>
<li><a href="#L285" title="Defined at 285.">setCursor</a></li>
<li><a href="#L296" title="Defined at 296.">getCursor</a></li>
<li><a href="#L312" title="Defined at 312.">addDragSourceListener</a></li>
<li><a href="#L332" title="Defined at 332.">removeDragSourceListener</a></li>
<li><a href="#L344" title="Defined at 344.">transferablesFlavorsChanged</a></li>
<li><a href="#L357" title="Defined at 357.">dragEnter</a></li>
<li><a href="#L376" title="Defined at 376.">dragOver</a></li>
<li><a href="#L395" title="Defined at 395.">dragExit</a></li>
<li><a href="#L414" title="Defined at 414.">dropActionChanged</a></li>
<li><a href="#L433" title="Defined at 433.">dragDropEnd</a></li>
<li><a href="#L451" title="Defined at 451.">dragMouseMoved</a></li>
<li><a href="#L461" title="Defined at 461.">getTransferable</a></li>
<li><a href="#L476" title="Defined at 476.">updateCurrentCursor</a></li>
<li><a href="#L517" title="Defined at 517.">setCursorImpl</a></li>
<li><a href="#L542" title="Defined at 542.">writeObject</a></li>
<li><a href="#L563" title="Defined at 563.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.awt.dnd;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.awt.Component;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.awt.Cursor;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.awt.Image;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.awt.Point;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.awt.datatransfer.DataFlavor;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.awt.datatransfer.Transferable;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.awt.datatransfer.UnsupportedFlavorException;
<a id="L36" name="L36"></a>  36 
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.awt.dnd.peer.DragSourceContextPeer;
<a id="L38" name="L38"></a>  38 
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.io.IOException;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.io.ObjectOutputStream;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L44" name="L44"></a>  44 
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.TooManyListenersException;
<a id="L46" name="L46"></a>  46 
<div class="comment">
  The <code>DragSourceContext</code> class is responsible for managing the
  initiator side of the Drag and Drop protocol. In particular, it is responsible
  for managing drag event notifications to the
  {@linkplain DragSourceListener DragSourceListeners}
  and {@linkplain DragSourceMotionListener DragSourceMotionListeners}, and providing the
  {@link Transferable} representing the source data for the drag operation.
  <p>
  Note that the <code>DragSourceContext</code> itself
  implements the <code>DragSourceListener</code> and
  <code>DragSourceMotionListener</code> interfaces.
  This is to allow the platform peer
  (the {@link DragSourceContextPeer} instance)
  created by the {@link DragSource} to notify
  the <code>DragSourceContext</code> of
  state changes in the ongoing operation. This allows the
  <code>DragSourceContext</code> object to interpose
  itself between the platform and the
  listeners provided by the initiator of the drag operation.
  </p><p>
  <a name="defaultCursor"></a>
  By default, <code>DragSourceContext</code> sets the cursor as appropriate
  for the current state of the drag and drop operation. For example, if
  the user has chosen {@linkplain DnDConstants#ACTION_MOVE the move action},
  and the pointer is over a target that accepts
  the move action, the default move cursor is shown. When
  the pointer is over an area that does not accept the transfer,
  the default "no drop" cursor is shown.
  </p><p>
  This default handling mechanism is disabled when a custom cursor is set
  by the {@link #setCursor} method. When the default handling is disabled,
  it becomes the responsibility
  of the developer to keep the cursor up to date, by listening
  to the <code>DragSource</code> events and calling the <code>setCursor()</code> method.
  Alternatively, you can provide custom cursor behavior by providing
  custom implementations of the <code>DragSource</code>
  and the <code>DragSourceContext</code> classes.
  @see DragSourceListener
  @see DragSourceMotionListener
  @see DnDConstants
  @since 1.2</p></div>
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/2421.html" title="Multiple referred from 15 places.">DragSourceContext</a>
<a id="L92" name="L92"></a>  92     <strong class="reserved">implements</strong> <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a>, <a href="../S/2147.html#L53" title="Defined at 53 in src/java/awt/dnd/DragSourceMotionListener.java.">DragSourceMotionListener</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L93" name="L93"></a>  93 
<a id="L94" name="L94"></a>  94     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -115407898692194719L;
<a id="L95" name="L95"></a>  95 
<a id="L96" name="L96"></a>  96     <em class="comment">// used by updateCurrentCursor</em>
<a id="L97" name="L97"></a>  97 
<div class="comment">
      An <code>int</code> used by updateCurrentCursor()
      indicating that the <code>Cursor</code> should change
      to the default (no drop) <code>Cursor</code>.</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/2015.html" title="Multiple defined in 7 places.">DEFAULT</a> = 0;
<a id="L104" name="L104"></a> 104 
<div class="comment">
      An <code>int</code> used by updateCurrentCursor()
      indicating that the <code>Cursor</code>
      has entered a <code>DropTarget</code>.</div>
<a id="L110" name="L110"></a> 110     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> ENTER   = 1;
<a id="L111" name="L111"></a> 111 
<div class="comment">
      An <code>int</code> used by updateCurrentCursor()
      indicating that the <code>Cursor</code> is
      over a <code>DropTarget</code>.</div>
<a id="L117" name="L117"></a> 117     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> OVER    = 2;
<a id="L118" name="L118"></a> 118 
<div class="comment">
      An <code>int</code> used by updateCurrentCursor()
      indicating that the user operation has changed.</div>
<a id="L123" name="L123"></a> 123 
<a id="L124" name="L124"></a> 124     <strong class="reserved">protected</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> CHANGED = 3;
<a id="L125" name="L125"></a> 125 
<div class="comment">
      Called from <code>DragSource</code>, this constructor creates a new
      <code>DragSourceContext</code> given the
      <code>DragSourceContextPeer</code> for this Drag, the
      <code>DragGestureEvent</code> that triggered the Drag, the initial
      <code>Cursor</code> to use for the Drag, an (optional)
      <code>Image</code> to display while the Drag is taking place, the offset
      of the <code>Image</code> origin from the hotspot at the instant of the
      triggering event, the <code>Transferable</code> subject data, and the
      <code>DragSourceListener</code> to use during the Drag and Drop
      operation.
      <br>
      If <code>DragSourceContextPeer</code> is <code>null</code>
      <code>NullPointerException</code> is thrown.
      <br>
      If <code>DragGestureEvent</code> is <code>null</code>
      <code>NullPointerException</code> is thrown.
      <br>
      If <code>Cursor</code> is <code>null</code> no exception is thrown and
      the default drag cursor behavior is activated for this drag operation.
      <br>
      If <code>Image</code> is <code>null</code> no exception is thrown.
      <br>
      If <code>Image</code> is not <code>null</code> and the offset is
      <code>null</code> <code>NullPointerException</code> is thrown.
      <br>
      If <code>Transferable</code> is <code>null</code>
      <code>NullPointerException</code> is thrown.
      <br>
      If <code>DragSourceListener</code> is <code>null</code> no exception
      is thrown.
      @param dscp       the <code>DragSourceContextPeer</code> for this drag
      @param trigger    the triggering event
      @param dragCursor     the initial <code>Cursor</code> for this drag operation
                            or <code>null</code> for the default cursor handling;
                            see <a href="DragSourceContext.html#defaultCursor">class level documentation</a>
                            for more details on the cursor handling mechanism during drag and drop
      @param dragImage  the <code>Image</code> to drag (or <code>null</code>)
      @param offset     the offset of the image origin from the hotspot at the
                        instant of the triggering event
      @param t          the <code>Transferable</code>
      @param dsl        the <code>DragSourceListener</code>
      @throws IllegalArgumentException if the <code>Component</code> associated
              with the trigger event is <code>null</code>.
      @throws IllegalArgumentException if the <code>DragSource</code> for the
              trigger event is <code>null</code>.
      @throws IllegalArgumentException if the drag action for the
              trigger event is <code>DnDConstants.ACTION_NONE</code>.
      @throws IllegalArgumentException if the source actions for the
              <code>DragGestureRecognizer</code> associated with the trigger
              event are equal to <code>DnDConstants.ACTION_NONE</code>.
      @throws NullPointerException if dscp, trigger, or t are null, or
              if dragImage is non-null and offset is null</div>
<a id="L182" name="L182"></a> 182     <strong class="reserved">public</strong> DragSourceContext(<a href="../S/2138.html#L46" title="Defined at 46 in src/java/awt/dnd/peer/DragSourceContextPeer.java.">DragSourceContextPeer</a> dscp,
<a id="L183" name="L183"></a> 183                              <a href="../S/2139.html#L74" title="Defined at 74 in src/java/awt/dnd/DragGestureEvent.java.">DragGestureEvent</a> trigger, <a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> dragCursor,
<a id="L184" name="L184"></a> 184                              <a href="../S/2102.html#L46" title="Defined at 46 in src/java/awt/Image.java.">Image</a> dragImage, <a href="../S/2123.html#L38" title="Defined at 38 in src/java/awt/Point.java.">Point</a> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> t,
<a id="L185" name="L185"></a> 185                              <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl) <em class="brace">{</em>
<a id="L186" name="L186"></a> 186         <strong class="reserved">if</strong> (dscp == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L187" name="L187"></a> 187             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("DragSourceContextPeer");
<a id="L188" name="L188"></a> 188         <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<a id="L190" name="L190"></a> 190         <strong class="reserved">if</strong> (trigger == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L191" name="L191"></a> 191             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Trigger");
<a id="L192" name="L192"></a> 192         <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<a id="L194" name="L194"></a> 194         <strong class="reserved">if</strong> (trigger.<a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L195" name="L195"></a> 195             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("DragSource");
<a id="L196" name="L196"></a> 196         <em class="brace">}</em>
<a id="L197" name="L197"></a> 197 
<a id="L198" name="L198"></a> 198         <strong class="reserved">if</strong> (trigger.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Component");
<a id="L200" name="L200"></a> 200         <em class="brace">}</em>
<a id="L201" name="L201"></a> 201 
<a id="L202" name="L202"></a> 202         <strong class="reserved">if</strong> (trigger.<a href="../S/2139.html#L131" title="Defined at 131 in src/java/awt/dnd/DragGestureEvent.java.">getSourceAsDragGestureRecognizer</a>().<a href="../D/22604.html" title="Multiple defined in 11 places.">getSourceActions</a>() ==
<a id="L203" name="L203"></a> 203                  <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("source actions");
<a id="L205" name="L205"></a> 205         <em class="brace">}</em>
<a id="L206" name="L206"></a> 206 
<a id="L207" name="L207"></a> 207         <strong class="reserved">if</strong> (trigger.<a href="../S/2139.html#L198" title="Defined at 198 in src/java/awt/dnd/DragGestureEvent.java.">getDragAction</a>() == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE) <em class="brace">{</em>
<a id="L208" name="L208"></a> 208             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("no drag action");
<a id="L209" name="L209"></a> 209         <em class="brace">}</em>
<a id="L210" name="L210"></a> 210 
<a id="L211" name="L211"></a> 211         <strong class="reserved">if</strong> (t == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("Transferable");
<a id="L213" name="L213"></a> 213         <em class="brace">}</em>
<a id="L214" name="L214"></a> 214 
<a id="L215" name="L215"></a> 215         <strong class="reserved">if</strong> (dragImage != <strong class="reserved">null</strong> &amp;&amp; <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("offset");
<a id="L217" name="L217"></a> 217         <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<a id="L219" name="L219"></a> 219         peer         = dscp;
<a id="L220" name="L220"></a> 220         <strong class="reserved">this</strong>.trigger = trigger;
<a id="L221" name="L221"></a> 221         <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>       = dragCursor;
<a id="L222" name="L222"></a> 222         transferable = t;
<a id="L223" name="L223"></a> 223         listener     = dsl;
<a id="L224" name="L224"></a> 224         sourceActions =
<a id="L225" name="L225"></a> 225             trigger.<a href="../S/2139.html#L131" title="Defined at 131 in src/java/awt/dnd/DragGestureEvent.java.">getSourceAsDragGestureRecognizer</a>().<a href="../D/22604.html" title="Multiple defined in 11 places.">getSourceActions</a>();
<a id="L226" name="L226"></a> 226 
<a id="L227" name="L227"></a> 227         useCustomCursor = (dragCursor != <strong class="reserved">null</strong>);
<a id="L228" name="L228"></a> 228 
<a id="L229" name="L229"></a> 229         <a href="../S/2149.html#L476" title="Defined at 476 in src/java/awt/dnd/DragSourceContext.java.">updateCurrentCursor</a>(trigger.<a href="../S/2139.html#L198" title="Defined at 198 in src/java/awt/dnd/DragGestureEvent.java.">getDragAction</a>(), <a href="../D/22604.html" title="Multiple defined in 11 places.">getSourceActions</a>(), <a href="../D/2015.html" title="Multiple defined in 7 places.">DEFAULT</a>);
<a id="L230" name="L230"></a> 230     <em class="brace">}</em>
<a id="L231" name="L231"></a> 231 
<div class="comment">
      Returns the <code>DragSource</code>
      that instantiated this <code>DragSourceContext</code>.
      @return the <code>DragSource</code> that
        instantiated this <code>DragSourceContext</code></div>
<a id="L239" name="L239"></a> 239 
<a id="L240" name="L240"></a> 240     <strong class="reserved">public</strong> <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>   <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>() <em class="brace">{</em> <strong class="reserved">return</strong> trigger.<a href="../R/16253.html" title="Multiple referred from 10 places.">getDragSource</a>(); <em class="brace">}</em>
<a id="L241" name="L241"></a> 241 
<div class="comment">
      Returns the <code>Component</code> associated with this
      <code>DragSourceContext</code>.
      @return the <code>Component</code> that started the drag</div>
<a id="L248" name="L248"></a> 248 
<a id="L249" name="L249"></a> 249     <strong class="reserved">public</strong> <a href="../S/2177.html#L186" title="Defined at 186 in src/java/awt/Component.java.">Component</a>    <a href="../R/15711.html" title="Multiple referred from 414 places.">getComponent</a>() <em class="brace">{</em> <strong class="reserved">return</strong> trigger.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>(); <em class="brace">}</em>
<a id="L250" name="L250"></a> 250 
<div class="comment">
      Returns the <code>DragGestureEvent</code>
      that initially triggered the drag.
      @return the Event that triggered the drag</div>
<a id="L257" name="L257"></a> 257 
<a id="L258" name="L258"></a> 258     <strong class="reserved">public</strong> <a href="../S/2139.html#L74" title="Defined at 74 in src/java/awt/dnd/DragGestureEvent.java.">DragGestureEvent</a> <a href="../S/3455.html#L1434" title="Referred from 1434 in src/javax/management/monitor/Monitor.java.">getTrigger</a>() <em class="brace">{</em> <strong class="reserved">return</strong> trigger; <em class="brace">}</em>
<a id="L259" name="L259"></a> 259 
<div class="comment">
      Returns a bitwise mask of <code>DnDConstants</code> that
      represent the set of drop actions supported by the drag source for the
      drag operation associated with this <code>DragSourceContext</code>.
      @return the drop actions supported by the drag source</div>
<a id="L267" name="L267"></a> 267     <strong class="reserved">public</strong> <strong class="reserved">int</strong>  <a href="../R/19087.html" title="Multiple referred from 12 places.">getSourceActions</a>() <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <strong class="reserved">return</strong> sourceActions;
<a id="L269" name="L269"></a> 269     <em class="brace">}</em>
<a id="L270" name="L270"></a> 270 
<div class="comment">
      Sets the cursor for this drag operation to the specified
      <code>Cursor</code>.  If the specified <code>Cursor</code>
      is <code>null</code>, the default drag cursor behavior is
      activated for this drag operation, otherwise it is deactivated.
      @param c     the initial <code>Cursor</code> for this drag operation,
                            or <code>null</code> for the default cursor handling;
                            see {@linkplain Cursor class
                            level documentation} for more details
                            on the cursor handling during drag and drop</div>
<a id="L284" name="L284"></a> 284 
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/27141.html" title="Multiple referred from 52 places.">setCursor</a>(<a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         useCustomCursor = (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> != <strong class="reserved">null</strong>);
<a id="L287" name="L287"></a> 287         <a href="../S/2149.html#L517" title="Defined at 517 in src/java/awt/dnd/DragSourceContext.java.">setCursorImpl</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L288" name="L288"></a> 288     <em class="brace">}</em>
<a id="L289" name="L289"></a> 289 
<div class="comment">
      Returns the current drag <code>Cursor</code>.
      <p>
      @return the current drag <code>Cursor</code></p></div>
<a id="L295" name="L295"></a> 295 
<a id="L296" name="L296"></a> 296     <strong class="reserved">public</strong> <a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> <a href="../R/15907.html" title="Multiple referred from 31 places.">getCursor</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>; <em class="brace">}</em>
<a id="L297" name="L297"></a> 297 
<div class="comment">
      Add a <code>DragSourceListener</code> to this
      <code>DragSourceContext</code> if one has not already been added.
      If a <code>DragSourceListener</code> already exists,
      this method throws a <code>TooManyListenersException</code>.
      <p>
      @param dsl the <code>DragSourceListener</code> to add.
      Note that while <code>null</code> is not prohibited,
      it is not acceptable as a parameter.
      </p><p>
      @throws TooManyListenersException if
      a <code>DragSourceListener</code> has already been added</p></div>
<a id="L311" name="L311"></a> 311 
<a id="L312" name="L312"></a> 312     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../S/2127.html#L870" title="Referred from 870 in src/java/awt/dnd/DragSource.java.">addDragSourceListener</a>(<a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl) <strong class="reserved">throws</strong> <a href="../S/1184.html#L50" title="Defined at 50 in src/java/util/TooManyListenersException.java.">TooManyListenersException</a> <em class="brace">{</em>
<a id="L313" name="L313"></a> 313         <strong class="reserved">if</strong> (dsl == <strong class="reserved">null</strong>) <strong class="reserved">return</strong>;
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315         <strong class="reserved">if</strong> (<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(dsl)) <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("DragSourceContext may not be its own listener");
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317         <strong class="reserved">if</strong> (listener != <strong class="reserved">null</strong>)
<a id="L318" name="L318"></a> 318             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1184.html#L50" title="Defined at 50 in src/java/util/TooManyListenersException.java.">TooManyListenersException</a>();
<a id="L319" name="L319"></a> 319         <strong class="reserved">else</strong>
<a id="L320" name="L320"></a> 320             listener = dsl;
<a id="L321" name="L321"></a> 321     <em class="brace">}</em>
<a id="L322" name="L322"></a> 322 
<div class="comment">
      Removes the specified <code>DragSourceListener</code>
      from  this <code>DragSourceContext</code>.
      @param dsl the <code>DragSourceListener</code> to remove;
          note that while <code>null</code> is not prohibited,
          it is not acceptable as a parameter</div>
<a id="L331" name="L331"></a> 331 
<a id="L332" name="L332"></a> 332     <strong class="reserved">public</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> removeDragSourceListener(<a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333         <strong class="reserved">if</strong> (listener != <strong class="reserved">null</strong> &amp;&amp; listener.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(dsl)) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334             listener = <strong class="reserved">null</strong>;
<a id="L335" name="L335"></a> 335         <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L336" name="L336"></a> 336             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>();
<a id="L337" name="L337"></a> 337     <em class="brace">}</em>
<a id="L338" name="L338"></a> 338 
<div class="comment">
      Notifies the peer that the <code>Transferable</code>'s
      <code>DataFlavor</code>s have changed.</div>
<a id="L343" name="L343"></a> 343 
<a id="L344" name="L344"></a> 344     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/2149.html#L345" title="Referred from 345 in src/java/awt/dnd/DragSourceContext.java.">transferablesFlavorsChanged</a>() <em class="brace">{</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (peer != <strong class="reserved">null</strong>) peer.<a href="../D/35591.html" title="Multiple defined in 2 places.">transferablesFlavorsChanged</a>();
<a id="L346" name="L346"></a> 346     <em class="brace">}</em>
<a id="L347" name="L347"></a> 347 
<div class="comment">
      Calls <code>dragEnter</code> on the
      <code>DragSourceListener</code>s registered with this
      <code>DragSourceContext</code> and with the associated
      <code>DragSource</code>, and passes them the specified
      <code>DragSourceDragEvent</code>.
      @param dsde the <code>DragSourceDragEvent</code></div>
<a id="L357" name="L357"></a> 357     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13503.html" title="Multiple referred from 7 places.">dragEnter</a>(<a href="../S/2128.html#L72" title="Defined at 72 in src/java/awt/dnd/DragSourceDragEvent.java.">DragSourceDragEvent</a> dsde) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358         <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl = listener;
<a id="L359" name="L359"></a> 359         <strong class="reserved">if</strong> (dsl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L360" name="L360"></a> 360             dsl.<a href="../D/15146.html" title="Multiple defined in 10 places.">dragEnter</a>(dsde);
<a id="L361" name="L361"></a> 361         <em class="brace">}</em>
<a id="L362" name="L362"></a> 362         <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>().<a href="../S/2127.html#L705" title="Defined at 705 in src/java/awt/dnd/DragSource.java.">processDragEnter</a>(dsde);
<a id="L363" name="L363"></a> 363 
<a id="L364" name="L364"></a> 364         <a href="../S/2149.html#L476" title="Defined at 476 in src/java/awt/dnd/DragSourceContext.java.">updateCurrentCursor</a>(<a href="../D/22604.html" title="Multiple defined in 11 places.">getSourceActions</a>(), dsde.<a href="../D/22998.html" title="Multiple defined in 3 places.">getTargetActions</a>(), ENTER);
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<div class="comment">
      Calls <code>dragOver</code> on the
      <code>DragSourceListener</code>s registered with this
      <code>DragSourceContext</code> and with the associated
      <code>DragSource</code>, and passes them the specified
      <code>DragSourceDragEvent</code>.
      @param dsde the <code>DragSourceDragEvent</code></div>
<a id="L376" name="L376"></a> 376     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13509.html" title="Multiple referred from 7 places.">dragOver</a>(<a href="../S/2128.html#L72" title="Defined at 72 in src/java/awt/dnd/DragSourceDragEvent.java.">DragSourceDragEvent</a> dsde) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377         <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl = listener;
<a id="L378" name="L378"></a> 378         <strong class="reserved">if</strong> (dsl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379             dsl.<a href="../D/15152.html" title="Multiple defined in 10 places.">dragOver</a>(dsde);
<a id="L380" name="L380"></a> 380         <em class="brace">}</em>
<a id="L381" name="L381"></a> 381         <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>().<a href="../S/2127.html#L720" title="Defined at 720 in src/java/awt/dnd/DragSource.java.">processDragOver</a>(dsde);
<a id="L382" name="L382"></a> 382 
<a id="L383" name="L383"></a> 383         <a href="../S/2149.html#L476" title="Defined at 476 in src/java/awt/dnd/DragSourceContext.java.">updateCurrentCursor</a>(<a href="../D/22604.html" title="Multiple defined in 11 places.">getSourceActions</a>(), dsde.<a href="../D/22998.html" title="Multiple defined in 3 places.">getTargetActions</a>(), OVER);
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<div class="comment">
      Calls <code>dragExit</code> on the
      <code>DragSourceListener</code>s registered with this
      <code>DragSourceContext</code> and with the associated
      <code>DragSource</code>, and passes them the specified
      <code>DragSourceEvent</code>.
      @param dse the <code>DragSourceEvent</code></div>
<a id="L395" name="L395"></a> 395     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13504.html" title="Multiple referred from 8 places.">dragExit</a>(<a href="../S/2134.html#L60" title="Defined at 60 in src/java/awt/dnd/DragSourceEvent.java.">DragSourceEvent</a> dse) <em class="brace">{</em>
<a id="L396" name="L396"></a> 396         <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl = listener;
<a id="L397" name="L397"></a> 397         <strong class="reserved">if</strong> (dsl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             dsl.<a href="../D/15147.html" title="Multiple defined in 10 places.">dragExit</a>(dse);
<a id="L399" name="L399"></a> 399         <em class="brace">}</em>
<a id="L400" name="L400"></a> 400         <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>().<a href="../S/2127.html#L750" title="Defined at 750 in src/java/awt/dnd/DragSource.java.">processDragExit</a>(dse);
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402         <a href="../S/2149.html#L476" title="Defined at 476 in src/java/awt/dnd/DragSourceContext.java.">updateCurrentCursor</a>(<a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE, <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE, <a href="../D/2015.html" title="Multiple defined in 7 places.">DEFAULT</a>);
<a id="L403" name="L403"></a> 403     <em class="brace">}</em>
<a id="L404" name="L404"></a> 404 
<div class="comment">
      Calls <code>dropActionChanged</code> on the
      <code>DragSourceListener</code>s registered with this
      <code>DragSourceContext</code> and with the associated
      <code>DragSource</code>, and passes them the specified
      <code>DragSourceDragEvent</code>.
      @param dsde the <code>DragSourceDragEvent</code></div>
<a id="L414" name="L414"></a> 414     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13582.html" title="Multiple referred from 7 places.">dropActionChanged</a>(<a href="../S/2128.html#L72" title="Defined at 72 in src/java/awt/dnd/DragSourceDragEvent.java.">DragSourceDragEvent</a> dsde) <em class="brace">{</em>
<a id="L415" name="L415"></a> 415         <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl = listener;
<a id="L416" name="L416"></a> 416         <strong class="reserved">if</strong> (dsl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417             dsl.<a href="../D/15231.html" title="Multiple defined in 10 places.">dropActionChanged</a>(dsde);
<a id="L418" name="L418"></a> 418         <em class="brace">}</em>
<a id="L419" name="L419"></a> 419         <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>().<a href="../S/2127.html#L735" title="Defined at 735 in src/java/awt/dnd/DragSource.java.">processDropActionChanged</a>(dsde);
<a id="L420" name="L420"></a> 420 
<a id="L421" name="L421"></a> 421         <a href="../S/2149.html#L476" title="Defined at 476 in src/java/awt/dnd/DragSourceContext.java.">updateCurrentCursor</a>(<a href="../D/22604.html" title="Multiple defined in 11 places.">getSourceActions</a>(), dsde.<a href="../D/22998.html" title="Multiple defined in 3 places.">getTargetActions</a>(), CHANGED);
<a id="L422" name="L422"></a> 422     <em class="brace">}</em>
<a id="L423" name="L423"></a> 423 
<div class="comment">
      Calls <code>dragDropEnd</code> on the
      <code>DragSourceListener</code>s registered with this
      <code>DragSourceContext</code> and with the associated
      <code>DragSource</code>, and passes them the specified
      <code>DragSourceDropEvent</code>.
      @param dsde the <code>DragSourceDropEvent</code></div>
<a id="L433" name="L433"></a> 433     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13502.html" title="Multiple referred from 4 places.">dragDropEnd</a>(<a href="../S/2133.html#L43" title="Defined at 43 in src/java/awt/dnd/DragSourceDropEvent.java.">DragSourceDropEvent</a> dsde) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434         <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a> dsl = listener;
<a id="L435" name="L435"></a> 435         <strong class="reserved">if</strong> (dsl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436             dsl.<a href="../D/15145.html" title="Multiple defined in 5 places.">dragDropEnd</a>(dsde);
<a id="L437" name="L437"></a> 437         <em class="brace">}</em>
<a id="L438" name="L438"></a> 438         <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>().<a href="../S/2127.html#L765" title="Defined at 765 in src/java/awt/dnd/DragSource.java.">processDragDropEnd</a>(dsde);
<a id="L439" name="L439"></a> 439     <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Calls <code>dragMouseMoved</code> on the
      <code>DragSourceMotionListener</code>s registered with the
      <code>DragSource</code> associated with this
      <code>DragSourceContext</code>, and them passes the specified
      <code>DragSourceDragEvent</code>.
      @param dsde the <code>DragSourceDragEvent</code>
      @since 1.4</div>
<a id="L451" name="L451"></a> 451     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13508.html" title="Multiple referred from 3 places.">dragMouseMoved</a>(<a href="../S/2128.html#L72" title="Defined at 72 in src/java/awt/dnd/DragSourceDragEvent.java.">DragSourceDragEvent</a> dsde) <em class="brace">{</em>
<a id="L452" name="L452"></a> 452         <a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>().<a href="../S/2127.html#L780" title="Defined at 780 in src/java/awt/dnd/DragSource.java.">processDragMouseMoved</a>(dsde);
<a id="L453" name="L453"></a> 453     <em class="brace">}</em>
<a id="L454" name="L454"></a> 454 
<div class="comment">
      Returns the <code>Transferable</code> associated with
      this <code>DragSourceContext</code>.
      @return the <code>Transferable</code></div>
<a id="L461" name="L461"></a> 461     <strong class="reserved">public</strong> <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> <a href="../R/19569.html" title="Multiple referred from 8 places.">getTransferable</a>() <em class="brace">{</em> <strong class="reserved">return</strong> transferable; <em class="brace">}</em>
<a id="L462" name="L462"></a> 462 
<div class="comment">
      If the default drag cursor behavior is active, this method
      sets the default drag cursor for the specified actions
      supported by the drag source, the drop target action,
      and status, otherwise this method does nothing.
      @param sourceAct the actions supported by the drag source
      @param targetAct the drop target action
      @param status one of the fields <code>DEFAULT</code>,
                    <code>ENTER</code>, <code>OVER</code>,
                    <code>CHANGED</code></div>
<a id="L475" name="L475"></a> 475 
<a id="L476" name="L476"></a> 476     <strong class="reserved">protected</strong> <strong class="reserved">synchronized</strong> <strong class="reserved">void</strong> <a href="../R/29841.html" title="Multiple referred from 5 places.">updateCurrentCursor</a>(<strong class="reserved">int</strong> sourceAct, <strong class="reserved">int</strong> targetAct, <strong class="reserved">int</strong> <a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) <em class="brace">{</em>
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478         <em class="comment">// if the cursor has been previously set then don't do any defaults</em>
<a id="L479" name="L479"></a> 479         <em class="comment">// processing.</em>
<a id="L480" name="L480"></a> 480 
<a id="L481" name="L481"></a> 481         <strong class="reserved">if</strong> (useCustomCursor) <em class="brace">{</em>
<a id="L482" name="L482"></a> 482             <strong class="reserved">return</strong>;
<a id="L483" name="L483"></a> 483         <em class="brace">}</em>
<a id="L484" name="L484"></a> 484 
<a id="L485" name="L485"></a> 485         <em class="comment">// do defaults processing</em>
<a id="L486" name="L486"></a> 486 
<a id="L487" name="L487"></a> 487         <a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <strong class="reserved">null</strong>;
<a id="L488" name="L488"></a> 488 
<a id="L489" name="L489"></a> 489         <strong class="reserved">switch</strong> (<a href="../S/2277.html#L669" title="Defined at 669 in src/java/awt/image/PixelGrabber.java.">status</a>) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">default</strong>:
<a id="L491" name="L491"></a> 491                 targetAct = <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE;
<a id="L492" name="L492"></a> 492             <strong class="reserved">case</strong> ENTER:
<a id="L493" name="L493"></a> 493             <strong class="reserved">case</strong> OVER:
<a id="L494" name="L494"></a> 494             <strong class="reserved">case</strong> CHANGED:
<a id="L495" name="L495"></a> 495                 <strong class="reserved">int</strong>    ra = sourceAct &amp; targetAct;
<a id="L496" name="L496"></a> 496 
<a id="L497" name="L497"></a> 497                 <strong class="reserved">if</strong> (ra == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE) <em class="brace">{</em> <em class="comment">// no drop possible</em>
<a id="L498" name="L498"></a> 498                     <strong class="reserved">if</strong> ((sourceAct &amp; <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_LINK) == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_LINK)
<a id="L499" name="L499"></a> 499                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>.DefaultLinkNoDrop;
<a id="L500" name="L500"></a> 500                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((sourceAct &amp; <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_MOVE) == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_MOVE)
<a id="L501" name="L501"></a> 501                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>.DefaultMoveNoDrop;
<a id="L502" name="L502"></a> 502                     <strong class="reserved">else</strong>
<a id="L503" name="L503"></a> 503                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>.DefaultCopyNoDrop;
<a id="L504" name="L504"></a> 504                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em> <em class="comment">// drop possible</em>
<a id="L505" name="L505"></a> 505                     <strong class="reserved">if</strong> ((ra &amp; <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_LINK) == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_LINK)
<a id="L506" name="L506"></a> 506                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>.DefaultLinkDrop;
<a id="L507" name="L507"></a> 507                     <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((ra &amp; <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_MOVE) == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_MOVE)
<a id="L508" name="L508"></a> 508                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>.DefaultMoveDrop;
<a id="L509" name="L509"></a> 509                     <strong class="reserved">else</strong>
<a id="L510" name="L510"></a> 510                         <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/2127.html#L117" title="Defined at 117 in src/java/awt/dnd/DragSource.java.">DragSource</a>.DefaultCopyDrop;
<a id="L511" name="L511"></a> 511                 <em class="brace">}</em>
<a id="L512" name="L512"></a> 512         <em class="brace">}</em>
<a id="L513" name="L513"></a> 513 
<a id="L514" name="L514"></a> 514         <a href="../S/2149.html#L517" title="Defined at 517 in src/java/awt/dnd/DragSourceContext.java.">setCursorImpl</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L515" name="L515"></a> 515     <em class="brace">}</em>
<a id="L516" name="L516"></a> 516 
<a id="L517" name="L517"></a> 517     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/27142.html" title="Multiple referred from 2 places.">setCursorImpl</a>(<a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a> <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518         <strong class="reserved">if</strong> (<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> == <strong class="reserved">null</strong> || !<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L519" name="L519"></a> 519             <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L520" name="L520"></a> 520             <strong class="reserved">if</strong> (peer != <strong class="reserved">null</strong>) peer.<a href="../D/32319.html" title="Multiple defined in 18 places.">setCursor</a>(<a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>);
<a id="L521" name="L521"></a> 521         <em class="brace">}</em>
<a id="L522" name="L522"></a> 522     <em class="brace">}</em>
<a id="L523" name="L523"></a> 523 
<div class="comment">
      Serializes this <code>DragSourceContext</code>. This method first
      performs default serialization. Next, this object's
      <code>Transferable</code> is written out if and only if it can be
      serialized. If not, <code>null</code> is written instead. In this case,
      a <code>DragSourceContext</code> created from the resulting deserialized
      stream will contain a dummy <code>Transferable</code> which supports no
      <code>DataFlavor</code>s. Finally, this object's
      <code>DragSourceListener</code> is written out if and only if it can be
      serialized. If not, <code>null</code> is written instead.
      @serialData The default serializable fields, in alphabetical order,
                  followed by either a <code>Transferable</code> instance, or
                  <code>null</code>, followed by either a
                  <code>DragSourceListener</code> instance, or
                  <code>null</code>.
      @since 1.4</div>
<a id="L542" name="L542"></a> 542     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L543" name="L543"></a> 543         s.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L544" name="L544"></a> 544 
<a id="L545" name="L545"></a> 545         s.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../S/2143.html#L39" title="Defined at 39 in src/java/awt/dnd/SerializationTester.java.">SerializationTester</a>.<a href="../D/35234.html" title="Multiple defined in 11 places.">test</a>(transferable)
<a id="L546" name="L546"></a> 546                       ? transferable : <strong class="reserved">null</strong>);
<a id="L547" name="L547"></a> 547         s.<a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../S/2143.html#L39" title="Defined at 39 in src/java/awt/dnd/SerializationTester.java.">SerializationTester</a>.<a href="../D/35234.html" title="Multiple defined in 11 places.">test</a>(listener)
<a id="L548" name="L548"></a> 548                       ? listener : <strong class="reserved">null</strong>);
<a id="L549" name="L549"></a> 549     <em class="brace">}</em>
<a id="L550" name="L550"></a> 550 
<div class="comment">
      Deserializes this <code>DragSourceContext</code>. This method first
      performs default deserialization for all non-<code>transient</code>
      fields. This object's <code>Transferable</code> and
      <code>DragSourceListener</code> are then deserialized as well by using
      the next two objects in the stream. If the resulting
      <code>Transferable</code> is <code>null</code>, this object's
      <code>Transferable</code> is set to a dummy <code>Transferable</code>
      which supports no <code>DataFlavor</code>s.
      @since 1.4</div>
<a id="L563" name="L563"></a> 563     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L564" name="L564"></a> 564         <strong class="reserved">throws</strong> <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L565" name="L565"></a> 565     <em class="brace">{</em>
<a id="L566" name="L566"></a> 566         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> f = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L567" name="L567"></a> 567 
<a id="L568" name="L568"></a> 568         <a href="../S/2139.html#L74" title="Defined at 74 in src/java/awt/dnd/DragGestureEvent.java.">DragGestureEvent</a> newTrigger = (<a href="../S/2139.html#L74" title="Defined at 74 in src/java/awt/dnd/DragGestureEvent.java.">DragGestureEvent</a>)f.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("trigger", <strong class="reserved">null</strong>);
<a id="L569" name="L569"></a> 569         <strong class="reserved">if</strong> (newTrigger == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L570" name="L570"></a> 570             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Null trigger");
<a id="L571" name="L571"></a> 571         <em class="brace">}</em>
<a id="L572" name="L572"></a> 572         <strong class="reserved">if</strong> (newTrigger.<a href="../D/18596.html" title="Multiple defined in 3 places.">getDragSource</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L573" name="L573"></a> 573             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Null DragSource");
<a id="L574" name="L574"></a> 574         <em class="brace">}</em>
<a id="L575" name="L575"></a> 575         <strong class="reserved">if</strong> (newTrigger.<a href="../D/17859.html" title="Multiple defined in 28 places.">getComponent</a>() == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L576" name="L576"></a> 576             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Null trigger component");
<a id="L577" name="L577"></a> 577         <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579         <strong class="reserved">int</strong> newSourceActions = f.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("sourceActions", 0)
<a id="L580" name="L580"></a> 580                 &amp; (<a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_COPY_OR_MOVE | <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_LINK);
<a id="L581" name="L581"></a> 581         <strong class="reserved">if</strong> (newSourceActions == <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_NONE) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Invalid source actions");
<a id="L583" name="L583"></a> 583         <em class="brace">}</em>
<a id="L584" name="L584"></a> 584         <strong class="reserved">int</strong> triggerActions = newTrigger.<a href="../S/2139.html#L198" title="Defined at 198 in src/java/awt/dnd/DragGestureEvent.java.">getDragAction</a>();
<a id="L585" name="L585"></a> 585         <strong class="reserved">if</strong> (triggerActions != <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_COPY &amp;&amp;
<a id="L586" name="L586"></a> 586                 triggerActions != <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_MOVE &amp;&amp;
<a id="L587" name="L587"></a> 587                 triggerActions != <a href="../S/2153.html#L35" title="Defined at 35 in src/java/awt/dnd/DnDConstants.java.">DnDConstants</a>.ACTION_LINK) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("No drag action");
<a id="L589" name="L589"></a> 589         <em class="brace">}</em>
<a id="L590" name="L590"></a> 590         trigger = newTrigger;
<a id="L591" name="L591"></a> 591 
<a id="L592" name="L592"></a> 592         <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a> = (<a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a>)f.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("cursor", <strong class="reserved">null</strong>);
<a id="L593" name="L593"></a> 593         useCustomCursor = f.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("useCustomCursor", <strong class="reserved">false</strong>);
<a id="L594" name="L594"></a> 594         sourceActions = newSourceActions;
<a id="L595" name="L595"></a> 595 
<a id="L596" name="L596"></a> 596         transferable = (<a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a>)s.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L597" name="L597"></a> 597         listener = (<a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a>)s.<a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>();
<a id="L598" name="L598"></a> 598 
<a id="L599" name="L599"></a> 599         <em class="comment">// Implementation assumes 'transferable' is never null.</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">if</strong> (transferable == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L601" name="L601"></a> 601             <strong class="reserved">if</strong> (emptyTransferable == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L602" name="L602"></a> 602                 emptyTransferable = <strong class="reserved">new</strong> <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a>() <em class="brace">{</em>
<a id="L603" name="L603"></a> 603                         <strong class="reserved">public</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[] <a href="../D/23243.html" title="Multiple defined in 6 places.">getTransferDataFlavors</a>() <em class="brace">{</em>
<a id="L604" name="L604"></a> 604                             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a>[0];
<a id="L605" name="L605"></a> 605                         <em class="brace">}</em>
<a id="L606" name="L606"></a> 606                         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/25399.html" title="Multiple defined in 9 places.">isDataFlavorSupported</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> flavor)
<a id="L607" name="L607"></a> 607                         <em class="brace">{</em>
<a id="L608" name="L608"></a> 608                             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L609" name="L609"></a> 609                         <em class="brace">}</em>
<a id="L610" name="L610"></a> 610                         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/23242.html" title="Multiple defined in 5 places.">getTransferData</a>(<a href="../S/2287.html#L119" title="Defined at 119 in src/java/awt/datatransfer/DataFlavor.java.">DataFlavor</a> flavor)
<a id="L611" name="L611"></a> 611                             <strong class="reserved">throws</strong> <a href="../S/2293.html#L34" title="Defined at 34 in src/java/awt/datatransfer/UnsupportedFlavorException.java.">UnsupportedFlavorException</a>
<a id="L612" name="L612"></a> 612                         <em class="brace">{</em>
<a id="L613" name="L613"></a> 613                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2293.html#L34" title="Defined at 34 in src/java/awt/datatransfer/UnsupportedFlavorException.java.">UnsupportedFlavorException</a>(flavor);
<a id="L614" name="L614"></a> 614                         <em class="brace">}</em>
<a id="L615" name="L615"></a> 615                     <em class="brace">}</em>;
<a id="L616" name="L616"></a> 616             <em class="brace">}</em>
<a id="L617" name="L617"></a> 617             transferable = emptyTransferable;
<a id="L618" name="L618"></a> 618         <em class="brace">}</em>
<a id="L619" name="L619"></a> 619     <em class="brace">}</em>
<a id="L620" name="L620"></a> 620 
<a id="L621" name="L621"></a> 621     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a> emptyTransferable;
<a id="L622" name="L622"></a> 622 
<div class="comment">
      fields</div>
<a id="L626" name="L626"></a> 626 
<a id="L627" name="L627"></a> 627     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/2138.html#L46" title="Defined at 46 in src/java/awt/dnd/peer/DragSourceContextPeer.java.">DragSourceContextPeer</a> peer;
<a id="L628" name="L628"></a> 628 
<div class="comment">
      The event which triggered the start of the drag.
      @serial</div>
<a id="L634" name="L634"></a> 634     <strong class="reserved">private</strong> <a href="../S/2139.html#L74" title="Defined at 74 in src/java/awt/dnd/DragGestureEvent.java.">DragGestureEvent</a>    trigger;
<a id="L635" name="L635"></a> 635 
<div class="comment">
      The current drag cursor.
      @serial</div>
<a id="L641" name="L641"></a> 641     <strong class="reserved">private</strong> <a href="../S/2448.html#L46" title="Defined at 46 in src/java/awt/Cursor.java.">Cursor</a>              <a href="../S/986.html#L3222" title="Defined at 3222 in src/java/util/regex/Pattern.java.">cursor</a>;
<a id="L642" name="L642"></a> 642 
<a id="L643" name="L643"></a> 643     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/2289.html#L42" title="Defined at 42 in src/java/awt/datatransfer/Transferable.java.">Transferable</a>      transferable;
<a id="L644" name="L644"></a> 644 
<a id="L645" name="L645"></a> 645     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <a href="../S/2132.html#L49" title="Defined at 49 in src/java/awt/dnd/DragSourceListener.java.">DragSourceListener</a>    listener;
<a id="L646" name="L646"></a> 646 
<div class="comment">
      <code>true</code> if the custom drag cursor is used instead of the
      default one.
      @serial</div>
<a id="L653" name="L653"></a> 653     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> useCustomCursor;
<a id="L654" name="L654"></a> 654 
<div class="comment">
      A bitwise mask of <code>DnDConstants</code> that represents the set of
      drop actions supported by the drag source for the drag operation associated
      with this <code>DragSourceContext.</code>
      @serial</div>
<a id="L662" name="L662"></a> 662     <strong class="reserved">private</strong> <strong class="reserved">int</strong> sourceActions;
<a id="L663" name="L663"></a> 663 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L240">[^]</a><a href="#L563">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>