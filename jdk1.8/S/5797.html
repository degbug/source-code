<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L265">[^]</a><a href="#L1965">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L265" title="Defined at 265.">asDocumentHandler</a></li>
<li><a href="#L273" title="Defined at 273.">asContentHandler</a></li>
<li><a href="#L281" title="Defined at 281.">asDOMSerializer</a></li>
<li><a href="#L289" title="Defined at 289.">setOutputByteStream</a></li>
<li><a href="#L302" title="Defined at 302.">setOutputCharStream</a></li>
<li><a href="#L315" title="Defined at 315.">setOutputFormat</a></li>
<li><a href="#L327" title="Defined at 327.">reset</a></li>
<li><a href="#L341" title="Defined at 341.">prepare</a></li>
<li><a href="#L406" title="Defined at 406.">serialize</a></li>
<li><a href="#L425" title="Defined at 425.">serialize</a></li>
<li><a href="#L445" title="Defined at 445.">serialize</a></li>
<li><a href="#L466" title="Defined at 466.">serialize</a></li>
<li><a href="#L484" title="Defined at 484.">startDocument</a></li>
<li><a href="#L496" title="Defined at 496.">characters</a></li>
<li><a href="#L576" title="Defined at 576.">ignorableWhitespace</a></li>
<li><a href="#L598" title="Defined at 598.">processingInstruction</a></li>
<li><a href="#L608" title="Defined at 608.">processingInstructionIO</a></li>
<li><a href="#L651" title="Defined at 651.">comment</a></li>
<li><a href="#L662" title="Defined at 662.">comment</a></li>
<li><a href="#L705" title="Defined at 705.">startCDATA</a></li>
<li><a href="#L714" title="Defined at 714.">endCDATA</a></li>
<li><a href="#L723" title="Defined at 723.">startNonEscaping</a></li>
<li><a href="#L732" title="Defined at 732.">endNonEscaping</a></li>
<li><a href="#L741" title="Defined at 741.">startPreserving</a></li>
<li><a href="#L750" title="Defined at 750.">endPreserving</a></li>
<li><a href="#L767" title="Defined at 767.">endDocument</a></li>
<li><a href="#L782" title="Defined at 782.">startEntity</a></li>
<li><a href="#L788" title="Defined at 788.">endEntity</a></li>
<li><a href="#L794" title="Defined at 794.">setDocumentLocator</a></li>
<li><a href="#L805" title="Defined at 805.">skippedEntity</a></li>
<li><a href="#L820" title="Defined at 820.">startPrefixMapping</a></li>
<li><a href="#L829" title="Defined at 829.">endPrefixMapping</a></li>
<li><a href="#L840" title="Defined at 840.">startDTD</a></li>
<li><a href="#L854" title="Defined at 854.">endDTD</a></li>
<li><a href="#L860" title="Defined at 860.">elementDecl</a></li>
<li><a href="#L878" title="Defined at 878.">attributeDecl</a></li>
<li><a href="#L908" title="Defined at 908.">internalEntityDecl</a></li>
<li><a href="#L926" title="Defined at 926.">externalEntityDecl</a></li>
<li><a href="#L938" title="Defined at 938.">unparsedEntityDecl</a></li>
<li><a href="#L970" title="Defined at 970.">notationDecl</a></li>
<li><a href="#L1014" title="Defined at 1014.">serializeNode</a></li>
<li><a href="#L1282" title="Defined at 1282.">serializeDocument</a></li>
<li><a href="#L1321" title="Defined at 1321.">serializeDTD</a></li>
<li><a href="#L1378" title="Defined at 1378.">content</a></li>
<li><a href="#L1422" title="Defined at 1422.">characters</a></li>
<li><a href="#L1476" title="Defined at 1476.">getEntityRef</a></li>
<li><a href="#L1487" title="Defined at 1487.">serializeElement</a></li>
<li><a href="#L1502" title="Defined at 1502.">serializePreRoot</a></li>
<li><a href="#L1522" title="Defined at 1522.">printCDATAText</a></li>
<li><a href="#L1598" title="Defined at 1598.">surrogates</a></li>
<li><a href="#L1640" title="Defined at 1640.">printText</a></li>
<li><a href="#L1680" title="Defined at 1680.">printText</a></li>
<li><a href="#L1724" title="Defined at 1724.">printDoctypeURL</a></li>
<li><a href="#L1741" title="Defined at 1741.">printEscaped</a></li>
<li><a href="#L1772" title="Defined at 1772.">printHex</a></li>
<li><a href="#L1788" title="Defined at 1788.">printEscaped</a></li>
<li><a href="#L1815" title="Defined at 1815.">getElementState</a></li>
<li><a href="#L1828" title="Defined at 1828.">enterElementState</a></li>
<li><a href="#L1871" title="Defined at 1871.">leaveElementState</a></li>
<li><a href="#L1893" title="Defined at 1893.">isDocumentState</a></li>
<li><a href="#L1907" title="Defined at 1907.">getPrefix</a></li>
<li><a href="#L1938" title="Defined at 1938.">modifyDOMError</a></li>
<li><a href="#L1949" title="Defined at 1949.">fatalError</a></li>
<li><a href="#L1965" title="Defined at 1965.">checkUnboundNamespacePrefixedNode</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 1999-2002,2004,2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 
<a id="L22" name="L22"></a>  22 <em class="comment">// Sep 14, 2000:</em>
<a id="L23" name="L23"></a>  23 <em class="comment">//  Fixed comments to preserve whitespaces and add a line break</em>
<a id="L24" name="L24"></a>  24 <em class="comment">//  when indenting. Reported by Gervase Markham &lt;gerv@gerv.net&gt;</em>
<a id="L25" name="L25"></a>  25 <em class="comment">// Sep 14, 2000:</em>
<a id="L26" name="L26"></a>  26 <em class="comment">//  Fixed serializer to report IO exception directly, instead at</em>
<a id="L27" name="L27"></a>  27 <em class="comment">//  the end of document processing.</em>
<a id="L28" name="L28"></a>  28 <em class="comment">//  Reported by Patrick Higgins &lt;phiggins@transzap.com&gt;</em>
<a id="L29" name="L29"></a>  29 <em class="comment">// Sep 13, 2000:</em>
<a id="L30" name="L30"></a>  30 <em class="comment">//   CR in character data will print as &amp;#0D;</em>
<a id="L31" name="L31"></a>  31 <em class="comment">// Aug 25, 2000:</em>
<a id="L32" name="L32"></a>  32 <em class="comment">//   Fixed processing instruction printing inside element content</em>
<a id="L33" name="L33"></a>  33 <em class="comment">//   to not escape content. Reported by Mikael Staldal</em>
<a id="L34" name="L34"></a>  34 <em class="comment">//   &lt;d96-mst@d.kth.se&gt;</em>
<a id="L35" name="L35"></a>  35 <em class="comment">// Aug 25, 2000:</em>
<a id="L36" name="L36"></a>  36 <em class="comment">//   Added ability to omit comments.</em>
<a id="L37" name="L37"></a>  37 <em class="comment">//   Contributed by Anupam Bagchi &lt;abagchi@jtcsv.com&gt;</em>
<a id="L38" name="L38"></a>  38 <em class="comment">// Aug 26, 2000:</em>
<a id="L39" name="L39"></a>  39 <em class="comment">//   Fixed bug in newline handling when preserving spaces.</em>
<a id="L40" name="L40"></a>  40 <em class="comment">//   Contributed by Mike Dusseault &lt;mdusseault@home.com&gt;</em>
<a id="L41" name="L41"></a>  41 <em class="comment">// Aug 29, 2000:</em>
<a id="L42" name="L42"></a>  42 <em class="comment">//   Fixed state.unescaped not being set to false when</em>
<a id="L43" name="L43"></a>  43 <em class="comment">//   entering element state.</em>
<a id="L44" name="L44"></a>  44 <em class="comment">//   Reported by Lowell Vaughn &lt;lvaughn@agillion.com&gt;</em>
<a id="L45" name="L45"></a>  45 
<a id="L46" name="L46"></a>  46 
<a id="L47" name="L47"></a>  47 <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.<a href="../D/31785.html" title="Multiple defined in 18 places.">serialize</a>;
<a id="L48" name="L48"></a>  48 
<a id="L49" name="L49"></a>  49 
<a id="L50" name="L50"></a>  50 <strong class="reserved">import</strong> java.io.IOException;
<a id="L51" name="L51"></a>  51 <strong class="reserved">import</strong> java.io.OutputStream;
<a id="L52" name="L52"></a>  52 <strong class="reserved">import</strong> java.io.Writer;
<a id="L53" name="L53"></a>  53 <strong class="reserved">import</strong> java.util.Hashtable;
<a id="L54" name="L54"></a>  54 <strong class="reserved">import</strong> java.util.Vector;
<a id="L55" name="L55"></a>  55 
<a id="L56" name="L56"></a>  56 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMErrorImpl;
<a id="L57" name="L57"></a>  57 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMLocatorImpl;
<a id="L58" name="L58"></a>  58 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.dom.DOMMessageFormatter;
<a id="L59" name="L59"></a>  59 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.XMLChar;
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> org.w3c.dom.DOMImplementation;
<a id="L61" name="L61"></a>  61 <strong class="reserved">import</strong> org.w3c.dom.Document;
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> org.w3c.dom.DocumentFragment;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> org.w3c.dom.DocumentType;
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> org.w3c.dom.DOMError;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> org.w3c.dom.DOMErrorHandler;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> org.w3c.dom.Entity;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> org.w3c.dom.NamedNodeMap;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> org.w3c.dom.Node;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> org.w3c.dom.Notation;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> org.w3c.dom.ls.LSException;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> org.w3c.dom.ls.LSSerializerFilter;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> org.w3c.dom.traversal.NodeFilter;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> org.xml.sax.ContentHandler;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> org.xml.sax.DTDHandler;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> org.xml.sax.DocumentHandler;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> org.xml.sax.Locator;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> org.xml.sax.ext.DeclHandler;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> org.xml.sax.ext.LexicalHandler;
<a id="L81" name="L81"></a>  81 
<div class="comment">
  Base class for a serializer supporting both DOM and SAX pretty
  serializing of XML/HTML/XHTML documents. Derives classes perform
  the method-specific serializing, this class provides the common
  serializing mechanisms.
  <p>
  The serializer must be initialized with the proper writer and
  output format before it can be used by calling {@link #setOutputCharStream}
  or {@link #setOutputByteStream} for the writer and {@link #setOutputFormat}
  for the output format.
  </p><p>
  The serializer can be reused any number of times, but cannot
  be used concurrently by two threads.
  </p><p>
  If an output stream is used, the encoding is taken from the
  output format (defaults to <tt>UTF-8</tt>). If a writer is
  used, make sure the writer uses the same encoding (if applies)
  as specified in the output format.
  </p><p>
  The serializer supports both DOM and SAX. DOM serializing is done
  by calling {@link #serialize(Document)} and SAX serializing is done by firing
  SAX events and using the serializer as a document handler.
  This also applies to derived class.
  </p><p>
  If an I/O exception occurs while serializing, the serializer
  will not throw an exception directly, but only throw it
  at the end of serializing (either DOM or SAX's {@link
  org.xml.sax.DocumentHandler#endDocument}.
  </p><p>
  For elements that are not specified as whitespace preserving,
  the serializer will potentially break long text lines at space
  boundaries, indent lines, and serialize elements on separate
  lines. Line terminators will be regarded as spaces, and
  spaces at beginning of line will be stripped.
  </p><p>
  When indenting, the serializer is capable of detecting seemingly
  element content, and serializing these elements indented on separate
  lines. An element is serialized indented when it is the first or
  last child of an element, or immediate following or preceding
  another element.
  @author <a href="mailto:arkin@intalio.com">Assaf Arkin</a>
  @author <a href="mailto:rahul.srivastava@sun.com">Rahul Srivastava</a>
  @author Elena Litani, IBM
  @author Sunitha Reddy, Sun Microsystems
  @see Serializer
  @see LSSerializer</p></div>
<a id="L131" name="L131"></a> 131 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/656.html" title="Multiple referred from 3 places.">BaseMarkupSerializer</a>
<a id="L132" name="L132"></a> 132     <strong class="reserved">implements</strong> <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a>, <a href="../D/2556.html" title="Multiple defined in 3 places.">DocumentHandler</a>, <a href="../S/719.html#L68" title="Defined at 68 in src/org/xml/sax/ext/LexicalHandler.java.">LexicalHandler</a>,
<a id="L133" name="L133"></a> 133                <a href="../S/721.html#L74" title="Defined at 74 in src/org/xml/sax/DTDHandler.java.">DTDHandler</a>, <a href="../S/716.html#L72" title="Defined at 72 in src/org/xml/sax/ext/DeclHandler.java.">DeclHandler</a>, <a href="../D/2086.html" title="Multiple defined in 2 places.">DOMSerializer</a>, <a href="../D/7746.html" title="Multiple defined in 3 places.">Serializer</a>
<a id="L134" name="L134"></a> 134 <em class="brace">{</em>
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136     <em class="comment">// DOM L3 implementation</em>
<a id="L137" name="L137"></a> 137     <strong class="reserved">protected</strong> <strong class="reserved">short</strong> features = 0xFFFFFFFF;
<a id="L138" name="L138"></a> 138     <strong class="reserved">protected</strong> <a href="../S/118.html#L58" title="Defined at 58 in src/org/w3c/dom/DOMErrorHandler.java.">DOMErrorHandler</a> fDOMErrorHandler;
<a id="L139" name="L139"></a> 139     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/5426.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/dom/DOMErrorImpl.java.">DOMErrorImpl</a> fDOMError = <strong class="reserved">new</strong> <a href="../S/5426.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/dom/DOMErrorImpl.java.">DOMErrorImpl</a>();
<a id="L140" name="L140"></a> 140     <strong class="reserved">protected</strong> <a href="../S/134.html#L74" title="Defined at 74 in src/org/w3c/dom/ls/LSSerializerFilter.java.">LSSerializerFilter</a> fDOMFilter;
<a id="L141" name="L141"></a> 141 
<a id="L142" name="L142"></a> 142     <strong class="reserved">protected</strong> <a href="../D/2871.html" title="Multiple defined in 2 places.">EncodingInfo</a> _encodingInfo;
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144 
<div class="comment">
      Holds array of all element states that have been entered.
      The array is automatically resized. When leaving an element,
      it's state is not removed but reused when later returning
      to the same nesting level.</div>
<a id="L151" name="L151"></a> 151     <strong class="reserved">private</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a>[]  _elementStates;
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153 
<div class="comment">
      The index of the next state to place in the array,
      or one plus the index of the current state. When zero,
      we are in no state.</div>
<a id="L159" name="L159"></a> 159     <strong class="reserved">private</strong> <strong class="reserved">int</strong>             _elementStateCount;
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161 
<div class="comment">
      Vector holding comments and PIs that come before the root
      element (even after it), see {@link #serializePreRoot}.</div>
<a id="L166" name="L166"></a> 166     <strong class="reserved">private</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>          _preRoot;
<a id="L167" name="L167"></a> 167 
<a id="L168" name="L168"></a> 168 
<div class="comment">
      If the document has been started (header serialized), this
      flag is set to true so it's not started twice.</div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong>       _started;
<a id="L174" name="L174"></a> 174 
<a id="L175" name="L175"></a> 175 
<div class="comment">
      True if the serializer has been prepared. This flag is set
      to false when the serializer is reset prior to using it,
      and to true after it has been prepared for usage.</div>
<a id="L181" name="L181"></a> 181     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong>         _prepared;
<a id="L182" name="L182"></a> 182 
<a id="L183" name="L183"></a> 183 
<div class="comment">
      Association between namespace URIs (keys) and prefixes (values).
      Accumulated here prior to starting an element and placing this
      list in the element state.</div>
<a id="L189" name="L189"></a> 189     <strong class="reserved">protected</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>     _prefixes;
<a id="L190" name="L190"></a> 190 
<a id="L191" name="L191"></a> 191 
<div class="comment">
      The system identifier of the document type, if known.</div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>        _docTypePublicId;
<a id="L196" name="L196"></a> 196 
<a id="L197" name="L197"></a> 197 
<div class="comment">
      The system identifier of the document type, if known.</div>
<a id="L201" name="L201"></a> 201     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>        _docTypeSystemId;
<a id="L202" name="L202"></a> 202 
<a id="L203" name="L203"></a> 203 
<div class="comment">
      The output format associated with this serializer. This will never
      be a null reference. If no format was passed to the constructor,
      the default one for this document type will be used. The format
      object is never changed by the serializer.</div>
<a id="L210" name="L210"></a> 210     <strong class="reserved">protected</strong> <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a>   _format;
<a id="L211" name="L211"></a> 211 
<a id="L212" name="L212"></a> 212 
<div class="comment">
      The printer used for printing text parts.</div>
<a id="L216" name="L216"></a> 216     <strong class="reserved">protected</strong> <a href="../S/5803.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/serialize/Printer.java.">Printer</a>       _printer;
<a id="L217" name="L217"></a> 217 
<a id="L218" name="L218"></a> 218 
<div class="comment">
      True if indenting printer.</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong>       _indenting;
<a id="L223" name="L223"></a> 223 
<div class="comment">
     /** Temporary buffer to store character data */</div>
<a id="L225" name="L225"></a> 225     <strong class="reserved">protected</strong> <strong class="reserved">final</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> fStrBuffer = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>(40);
<a id="L226" name="L226"></a> 226 
<div class="comment">
      The underlying writer.</div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">private</strong> <a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a>          _writer;
<a id="L231" name="L231"></a> 231 
<a id="L232" name="L232"></a> 232 
<div class="comment">
      The output stream.</div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">private</strong> <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a>    _output;
<a id="L237" name="L237"></a> 237 
<div class="comment">
     /** Current node that is being processed  */</div>
<a id="L239" name="L239"></a> 239     <strong class="reserved">protected</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> fCurrentNode = <strong class="reserved">null</strong>;
<a id="L240" name="L240"></a> 240 
<a id="L241" name="L241"></a> 241 
<a id="L242" name="L242"></a> 242 
<a id="L243" name="L243"></a> 243     <em class="comment">//--------------------------------//</em>
<a id="L244" name="L244"></a> 244     <em class="comment">// Constructor and initialization //</em>
<a id="L245" name="L245"></a> 245     <em class="comment">//--------------------------------//</em>
<a id="L246" name="L246"></a> 246 
<a id="L247" name="L247"></a> 247 
<div class="comment">
      Protected constructor can only be used by derived class.
      Must initialize the serializer before serializing any document,
      by calling {@link #setOutputCharStream} or {@link #setOutputByteStream}
                  first</div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">protected</strong> BaseMarkupSerializer( <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> )
<a id="L255" name="L255"></a> 255     <em class="brace">{</em>
<a id="L256" name="L256"></a> 256         <strong class="reserved">int</strong> i;
<a id="L257" name="L257"></a> 257 
<a id="L258" name="L258"></a> 258         _elementStates = <strong class="reserved">new</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a>[ 10 ];
<a id="L259" name="L259"></a> 259         <strong class="reserved">for</strong> ( i = 0 ; i &lt; _elementStates.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; ++i )
<a id="L260" name="L260"></a> 260             _elementStates[ i ] = <strong class="reserved">new</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a>();
<a id="L261" name="L261"></a> 261         _format = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L262" name="L262"></a> 262     <em class="brace">}</em>
<a id="L263" name="L263"></a> 263 
<a id="L264" name="L264"></a> 264 
<a id="L265" name="L265"></a> 265     <strong class="reserved">public</strong> <a href="../D/2556.html" title="Multiple defined in 3 places.">DocumentHandler</a> asDocumentHandler()
<a id="L266" name="L266"></a> 266         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L267" name="L267"></a> 267     <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L269" name="L269"></a> 269         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L270" name="L270"></a> 270     <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272 
<a id="L273" name="L273"></a> 273     <strong class="reserved">public</strong> <a href="../D/1853.html" title="Multiple defined in 2 places.">ContentHandler</a> asContentHandler()
<a id="L274" name="L274"></a> 274         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L275" name="L275"></a> 275     <em class="brace">{</em>
<a id="L276" name="L276"></a> 276         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L277" name="L277"></a> 277         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L278" name="L278"></a> 278     <em class="brace">}</em>
<a id="L279" name="L279"></a> 279 
<a id="L280" name="L280"></a> 280 
<a id="L281" name="L281"></a> 281     <strong class="reserved">public</strong> <a href="../D/2086.html" title="Multiple defined in 2 places.">DOMSerializer</a> <a href="../S/5544.html#L1189" title="Referred from 1189 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">asDOMSerializer</a>()
<a id="L282" name="L282"></a> 282         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L283" name="L283"></a> 283     <em class="brace">{</em>
<a id="L284" name="L284"></a> 284         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L285" name="L285"></a> 285         <strong class="reserved">return</strong> <strong class="reserved">this</strong>;
<a id="L286" name="L286"></a> 286     <em class="brace">}</em>
<a id="L287" name="L287"></a> 287 
<a id="L288" name="L288"></a> 288 
<a id="L289" name="L289"></a> 289     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27875.html" title="Multiple referred from 7 places.">setOutputByteStream</a>( <a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> )
<a id="L290" name="L290"></a> 290     <em class="brace">{</em>
<a id="L291" name="L291"></a> 291         <strong class="reserved">if</strong> ( <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a> == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L292" name="L292"></a> 292             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L293" name="L293"></a> 293                                                            "ArgumentIsNull", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>"output"<em class="brace">}</em>);
<a id="L294" name="L294"></a> 294             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296         _output = <a href="../D/28597.html" title="Multiple defined in 4 places.">output</a>;
<a id="L297" name="L297"></a> 297         _writer = <strong class="reserved">null</strong>;
<a id="L298" name="L298"></a> 298         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L299" name="L299"></a> 299     <em class="brace">}</em>
<a id="L300" name="L300"></a> 300 
<a id="L301" name="L301"></a> 301 
<a id="L302" name="L302"></a> 302     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27876.html" title="Multiple referred from 6 places.">setOutputCharStream</a>( <a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a> )
<a id="L303" name="L303"></a> 303     <em class="brace">{</em>
<a id="L304" name="L304"></a> 304         <strong class="reserved">if</strong> ( <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a> == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L306" name="L306"></a> 306                                                            "ArgumentIsNull", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>"writer"<em class="brace">}</em>);
<a id="L307" name="L307"></a> 307             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L308" name="L308"></a> 308         <em class="brace">}</em>
<a id="L309" name="L309"></a> 309         _writer = <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>;
<a id="L310" name="L310"></a> 310         _output = <strong class="reserved">null</strong>;
<a id="L311" name="L311"></a> 311         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L312" name="L312"></a> 312     <em class="brace">}</em>
<a id="L313" name="L313"></a> 313 
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27877.html" title="Multiple referred from 9 places.">setOutputFormat</a>( <a href="../S/5804.html#L63" title="Defined at 63 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">OutputFormat</a> <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> )
<a id="L316" name="L316"></a> 316     <em class="brace">{</em>
<a id="L317" name="L317"></a> 317         <strong class="reserved">if</strong> ( <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a> == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L319" name="L319"></a> 319                                                            "ArgumentIsNull", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>"format"<em class="brace">}</em>);
<a id="L320" name="L320"></a> 320             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L321" name="L321"></a> 321         <em class="brace">}</em>
<a id="L322" name="L322"></a> 322         _format = <a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>;
<a id="L323" name="L323"></a> 323         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L324" name="L324"></a> 324     <em class="brace">}</em>
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326 
<a id="L327" name="L327"></a> 327     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>()
<a id="L328" name="L328"></a> 328     <em class="brace">{</em>
<a id="L329" name="L329"></a> 329         <strong class="reserved">if</strong> ( _elementStateCount &gt; 1 ) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L331" name="L331"></a> 331                                                            "ResetInMiddle", <strong class="reserved">null</strong>);
<a id="L332" name="L332"></a> 332             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L333" name="L333"></a> 333         <em class="brace">}</em>
<a id="L334" name="L334"></a> 334         _prepared = <strong class="reserved">false</strong>;
<a id="L335" name="L335"></a> 335         fCurrentNode = <strong class="reserved">null</strong>;
<a id="L336" name="L336"></a> 336         fStrBuffer.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(0);
<a id="L337" name="L337"></a> 337         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L338" name="L338"></a> 338     <em class="brace">}</em>
<a id="L339" name="L339"></a> 339 
<a id="L340" name="L340"></a> 340 
<a id="L341" name="L341"></a> 341     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/24927.html" title="Multiple referred from 22 places.">prepare</a>()
<a id="L342" name="L342"></a> 342         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L343" name="L343"></a> 343     <em class="brace">{</em>
<a id="L344" name="L344"></a> 344         <strong class="reserved">if</strong> ( _prepared )
<a id="L345" name="L345"></a> 345             <strong class="reserved">return</strong>;
<a id="L346" name="L346"></a> 346 
<a id="L347" name="L347"></a> 347         <strong class="reserved">if</strong> ( _writer == <strong class="reserved">null</strong> &amp;&amp; _output == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L348" name="L348"></a> 348             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L349" name="L349"></a> 349                                                            "NoWriterSupplied", <strong class="reserved">null</strong>);
<a id="L350" name="L350"></a> 350             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L351" name="L351"></a> 351         <em class="brace">}</em>
<a id="L352" name="L352"></a> 352         <em class="comment">// If the output stream has been set, use it to construct</em>
<a id="L353" name="L353"></a> 353         <em class="comment">// the writer. It is possible that the serializer has been</em>
<a id="L354" name="L354"></a> 354         <em class="comment">// reused with the same output stream and different encoding.</em>
<a id="L355" name="L355"></a> 355 
<a id="L356" name="L356"></a> 356         _encodingInfo = _format.<a href="../D/18750.html" title="Multiple defined in 3 places.">getEncodingInfo</a>();
<a id="L357" name="L357"></a> 357 
<a id="L358" name="L358"></a> 358         <strong class="reserved">if</strong> ( _output != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L359" name="L359"></a> 359             _writer = _encodingInfo.<a href="../D/23733.html" title="Multiple defined in 19 places.">getWriter</a>(_output);
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362         <strong class="reserved">if</strong> ( _format.<a href="../S/5804.html#L383" title="Defined at 383 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">getIndenting</a>() ) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             _indenting = <strong class="reserved">true</strong>;
<a id="L364" name="L364"></a> 364             _printer = <strong class="reserved">new</strong> <a href="../S/5799.html#L36" title="Defined at 36 in src/com/sun/org/apache/xml/internal/serialize/IndentPrinter.java.">IndentPrinter</a>( _writer, _format );
<a id="L365" name="L365"></a> 365         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L366" name="L366"></a> 366             _indenting = <strong class="reserved">false</strong>;
<a id="L367" name="L367"></a> 367             _printer = <strong class="reserved">new</strong> <a href="../S/5803.html#L44" title="Defined at 44 in src/com/sun/org/apache/xml/internal/serialize/Printer.java.">Printer</a>( _writer, _format );
<a id="L368" name="L368"></a> 368         <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L371" name="L371"></a> 371 
<a id="L372" name="L372"></a> 372         _elementStateCount = 0;
<a id="L373" name="L373"></a> 373         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = _elementStates[ 0 ];
<a id="L374" name="L374"></a> 374         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <strong class="reserved">null</strong>;
<a id="L375" name="L375"></a> 375         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> = <strong class="reserved">null</strong>;
<a id="L376" name="L376"></a> 376         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.rawName = <strong class="reserved">null</strong>;
<a id="L377" name="L377"></a> 377         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace = _format.<a href="../S/5804.html#L763" title="Defined at 763 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">getPreserveSpace</a>();
<a id="L378" name="L378"></a> 378         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> = <strong class="reserved">true</strong>;
<a id="L379" name="L379"></a> 379         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterElement = <strong class="reserved">false</strong>;
<a id="L380" name="L380"></a> 380         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterComment = <strong class="reserved">false</strong>;
<a id="L381" name="L381"></a> 381         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData = <strong class="reserved">false</strong>;
<a id="L382" name="L382"></a> 382         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.prefixes = <strong class="reserved">null</strong>;
<a id="L383" name="L383"></a> 383 
<a id="L384" name="L384"></a> 384         _docTypePublicId = _format.<a href="../D/18551.html" title="Multiple defined in 5 places.">getDoctypePublic</a>();
<a id="L385" name="L385"></a> 385         _docTypeSystemId = _format.<a href="../D/18552.html" title="Multiple defined in 5 places.">getDoctypeSystem</a>();
<a id="L386" name="L386"></a> 386         _started = <strong class="reserved">false</strong>;
<a id="L387" name="L387"></a> 387         _prepared = <strong class="reserved">true</strong>;
<a id="L388" name="L388"></a> 388     <em class="brace">}</em>
<a id="L389" name="L389"></a> 389 
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391 
<a id="L392" name="L392"></a> 392     <em class="comment">//----------------------------------//</em>
<a id="L393" name="L393"></a> 393     <em class="comment">// DOM document serializing methods //</em>
<a id="L394" name="L394"></a> 394     <em class="comment">//----------------------------------//</em>
<a id="L395" name="L395"></a> 395 
<a id="L396" name="L396"></a> 396 
<div class="comment">
      Serializes the DOM element using the previously specified
      writer and output format. Throws an exception only if
      an I/O exception occured while serializing.
      @param elem The element to serialize
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L406" name="L406"></a> 406     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26808.html" title="Multiple referred from 42 places.">serialize</a>( <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem )
<a id="L407" name="L407"></a> 407         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L408" name="L408"></a> 408     <em class="brace">{</em>
<a id="L409" name="L409"></a> 409         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L410" name="L410"></a> 410         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L411" name="L411"></a> 411         <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( elem );
<a id="L412" name="L412"></a> 412         _printer.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L413" name="L413"></a> 413         <strong class="reserved">if</strong> ( _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>() != <strong class="reserved">null</strong> )
<a id="L414" name="L414"></a> 414             <strong class="reserved">throw</strong> _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L415" name="L415"></a> 415     <em class="brace">}</em>
<a id="L416" name="L416"></a> 416 
<div class="comment">
      Serializes a node using the previously specified
      writer and output format. Throws an exception only if
      an I/O exception occured while serializing.
      @param node Node to serialize
      @throws IOException An I/O exception occured while serializing</div>
<a id="L425" name="L425"></a> 425     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26808.html" title="Multiple referred from 42 places.">serialize</a>( <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> ) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L426" name="L426"></a> 426         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L427" name="L427"></a> 427         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L428" name="L428"></a> 428         <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> );
<a id="L429" name="L429"></a> 429         <em class="comment">//Print any PIs and Comments which appeared in 'node'</em>
<a id="L430" name="L430"></a> 430         <a href="../S/5797.html#L1502" title="Defined at 1502 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializePreRoot</a>();
<a id="L431" name="L431"></a> 431         _printer.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L432" name="L432"></a> 432         <strong class="reserved">if</strong> ( _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>() != <strong class="reserved">null</strong> )
<a id="L433" name="L433"></a> 433             <strong class="reserved">throw</strong> _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L434" name="L434"></a> 434     <em class="brace">}</em>
<a id="L435" name="L435"></a> 435 
<div class="comment">
      Serializes the DOM document fragmnt using the previously specified
      writer and output format. Throws an exception only if
      an I/O exception occured while serializing.
      @param elem The element to serialize
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L445" name="L445"></a> 445     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26808.html" title="Multiple referred from 42 places.">serialize</a>( <a href="../S/157.html#L81" title="Defined at 81 in src/org/w3c/dom/DocumentFragment.java.">DocumentFragment</a> frag )
<a id="L446" name="L446"></a> 446         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L447" name="L447"></a> 447     <em class="brace">{</em>
<a id="L448" name="L448"></a> 448         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L449" name="L449"></a> 449         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L450" name="L450"></a> 450         <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( frag );
<a id="L451" name="L451"></a> 451         _printer.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L452" name="L452"></a> 452         <strong class="reserved">if</strong> ( _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>() != <strong class="reserved">null</strong> )
<a id="L453" name="L453"></a> 453             <strong class="reserved">throw</strong> _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<a id="L456" name="L456"></a> 456 
<div class="comment">
      Serializes the DOM document using the previously specified
      writer and output format. Throws an exception only if
      an I/O exception occured while serializing.
      @param doc The document to serialize
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L466" name="L466"></a> 466     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/26808.html" title="Multiple referred from 42 places.">serialize</a>( <a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a> doc )
<a id="L467" name="L467"></a> 467         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L468" name="L468"></a> 468     <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L470" name="L470"></a> 470         <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L471" name="L471"></a> 471         <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( doc );
<a id="L472" name="L472"></a> 472         <a href="../S/5797.html#L1502" title="Defined at 1502 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializePreRoot</a>();
<a id="L473" name="L473"></a> 473         _printer.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L474" name="L474"></a> 474         <strong class="reserved">if</strong> ( _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>() != <strong class="reserved">null</strong> )
<a id="L475" name="L475"></a> 475             <strong class="reserved">throw</strong> _printer.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L476" name="L476"></a> 476     <em class="brace">}</em>
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478 
<a id="L479" name="L479"></a> 479     <em class="comment">//------------------------------------------//</em>
<a id="L480" name="L480"></a> 480     <em class="comment">// SAX document handler serializing methods //</em>
<a id="L481" name="L481"></a> 481     <em class="comment">//------------------------------------------//</em>
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483 
<a id="L484" name="L484"></a> 484     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28800.html" title="Multiple referred from 67 places.">startDocument</a>()
<a id="L485" name="L485"></a> 485         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L486" name="L486"></a> 486     <em class="brace">{</em>
<a id="L487" name="L487"></a> 487         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <a href="../D/29556.html" title="Multiple defined in 6 places.">prepare</a>();
<a id="L489" name="L489"></a> 489         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() );
<a id="L491" name="L491"></a> 491         <em class="brace">}</em>
<a id="L492" name="L492"></a> 492         <em class="comment">// Nothing to do here. All the magic happens in startDocument(String)</em>
<a id="L493" name="L493"></a> 493     <em class="brace">}</em>
<a id="L494" name="L494"></a> 494 
<a id="L495" name="L495"></a> 495 
<a id="L496" name="L496"></a> 496     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11056.html" title="Multiple referred from 150 places.">characters</a>( <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> )
<a id="L497" name="L497"></a> 497         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L498" name="L498"></a> 498     <em class="brace">{</em>
<a id="L499" name="L499"></a> 499         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L500" name="L500"></a> 500 
<a id="L501" name="L501"></a> 501         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L502" name="L502"></a> 502         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L503" name="L503"></a> 503 
<a id="L504" name="L504"></a> 504         <em class="comment">// Check if text should be print as CDATA section or unescaped</em>
<a id="L505" name="L505"></a> 505         <em class="comment">// based on elements listed in the output format (the element</em>
<a id="L506" name="L506"></a> 506         <em class="comment">// state) or whether we are inside a CDATA section or entity.</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508         <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData || <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData ) <em class="brace">{</em>
<a id="L509" name="L509"></a> 509             <strong class="reserved">int</strong>          saveIndent;
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511             <em class="comment">// Print a CDATA section. The text is not escaped, but ']]&gt;'</em>
<a id="L512" name="L512"></a> 512             <em class="comment">// appearing in the code must be identified and dealt with.</em>
<a id="L513" name="L513"></a> 513             <em class="comment">// The contents of a text node is considered space preserving.</em>
<a id="L514" name="L514"></a> 514             <strong class="reserved">if</strong> ( ! <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData ) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;![CDATA[" );
<a id="L516" name="L516"></a> 516                 <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData = <strong class="reserved">true</strong>;
<a id="L517" name="L517"></a> 517             <em class="brace">}</em>
<a id="L518" name="L518"></a> 518             saveIndent = _printer.<a href="../D/20911.html" title="Multiple defined in 2 places.">getNextIndent</a>();
<a id="L519" name="L519"></a> 519             _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( 0 );
<a id="L520" name="L520"></a> 520             <strong class="reserved">char</strong> ch;
<a id="L521" name="L521"></a> 521             <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L522" name="L522"></a> 522             <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> ; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L523" name="L523"></a> 523                 ch = <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>];
<a id="L524" name="L524"></a> 524                 <strong class="reserved">if</strong> ( ch == ']' &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2 &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a> &amp;&amp;
<a id="L525" name="L525"></a> 525                      <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1 ] == ']' &amp;&amp; <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2 ] == '&gt;' ) <em class="brace">{</em>
<a id="L526" name="L526"></a> 526                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]]]&gt;&lt;![CDATA[&gt;");
<a id="L527" name="L527"></a> 527                     <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> +=2;
<a id="L528" name="L528"></a> 528                     <strong class="reserved">continue</strong>;
<a id="L529" name="L529"></a> 529                 <em class="brace">}</em>
<a id="L530" name="L530"></a> 530                 <strong class="reserved">if</strong> (!<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>(ch)) <em class="brace">{</em>
<a id="L531" name="L531"></a> 531                     <em class="comment">// check if it is surrogate</em>
<a id="L532" name="L532"></a> 532                     <strong class="reserved">if</strong> (++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>) <em class="brace">{</em>
<a id="L533" name="L533"></a> 533                         <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>]);
<a id="L534" name="L534"></a> 534                     <em class="brace">}</em>
<a id="L535" name="L535"></a> 535                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L536" name="L536"></a> 536                         <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L537" name="L537"></a> 537                     <em class="brace">}</em>
<a id="L538" name="L538"></a> 538                     <strong class="reserved">continue</strong>;
<a id="L539" name="L539"></a> 539                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L540" name="L540"></a> 540                     <strong class="reserved">if</strong> ( ( ch &gt;= ' ' &amp;&amp; _encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>)ch) &amp;&amp; ch != 0xF7 ) ||
<a id="L541" name="L541"></a> 541                         ch == '\n' || ch == '\r' || ch == '\t' ) <em class="brace">{</em>
<a id="L542" name="L542"></a> 542                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)ch);
<a id="L543" name="L543"></a> 543                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L544" name="L544"></a> 544                         <em class="comment">// The character is not printable -- split CDATA section</em>
<a id="L545" name="L545"></a> 545                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]&gt;&amp;#x");
<a id="L546" name="L546"></a> 546                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(ch));
<a id="L547" name="L547"></a> 547                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";&lt;![CDATA[");
<a id="L548" name="L548"></a> 548                     <em class="brace">}</em>
<a id="L549" name="L549"></a> 549                 <em class="brace">}</em>
<a id="L550" name="L550"></a> 550             <em class="brace">}</em>
<a id="L551" name="L551"></a> 551             _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( saveIndent );
<a id="L552" name="L552"></a> 552 
<a id="L553" name="L553"></a> 553         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L554" name="L554"></a> 554 
<a id="L555" name="L555"></a> 555             <strong class="reserved">int</strong> saveIndent;
<a id="L556" name="L556"></a> 556 
<a id="L557" name="L557"></a> 557             <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace ) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558                 <em class="comment">// If preserving space then hold of indentation so no</em>
<a id="L559" name="L559"></a> 559                 <em class="comment">// excessive spaces are printed at line breaks, escape</em>
<a id="L560" name="L560"></a> 560                 <em class="comment">// the text content without replacing spaces and print</em>
<a id="L561" name="L561"></a> 561                 <em class="comment">// the text breaking only at line breaks.</em>
<a id="L562" name="L562"></a> 562                 saveIndent = _printer.<a href="../D/20911.html" title="Multiple defined in 2 places.">getNextIndent</a>();
<a id="L563" name="L563"></a> 563                 _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( 0 );
<a id="L564" name="L564"></a> 564                 <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <strong class="reserved">true</strong>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped );
<a id="L565" name="L565"></a> 565                 _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( saveIndent );
<a id="L566" name="L566"></a> 566             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L567" name="L567"></a> 567                 <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, <strong class="reserved">false</strong>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped );
<a id="L568" name="L568"></a> 568             <em class="brace">}</em>
<a id="L569" name="L569"></a> 569         <em class="brace">}</em>
<a id="L570" name="L570"></a> 570         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L571" name="L571"></a> 571             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L572" name="L572"></a> 572         <em class="brace">}</em>
<a id="L573" name="L573"></a> 573     <em class="brace">}</em>
<a id="L574" name="L574"></a> 574 
<a id="L575" name="L575"></a> 575 
<a id="L576" name="L576"></a> 576     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20375.html" title="Multiple referred from 42 places.">ignorableWhitespace</a>( <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> )
<a id="L577" name="L577"></a> 577         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L578" name="L578"></a> 578     <em class="brace">{</em>
<a id="L579" name="L579"></a> 579         <strong class="reserved">int</strong> i;
<a id="L580" name="L580"></a> 580 
<a id="L581" name="L581"></a> 581         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L583" name="L583"></a> 583 
<a id="L584" name="L584"></a> 584         <em class="comment">// Print ignorable whitespaces only when indenting, after</em>
<a id="L585" name="L585"></a> 585         <em class="comment">// all they are indentation. Cancel the indentation to</em>
<a id="L586" name="L586"></a> 586         <em class="comment">// not indent twice.</em>
<a id="L587" name="L587"></a> 587         <strong class="reserved">if</strong> ( _indenting ) <em class="brace">{</em>
<a id="L588" name="L588"></a> 588             _printer.<a href="../D/34110.html" title="Multiple defined in 2 places.">setThisIndent</a>( 0 );
<a id="L589" name="L589"></a> 589             <strong class="reserved">for</strong> ( i = <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> ; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0 ; ++i )
<a id="L590" name="L590"></a> 590                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ i ] );
<a id="L591" name="L591"></a> 591         <em class="brace">}</em>
<a id="L592" name="L592"></a> 592         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L593" name="L593"></a> 593             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L594" name="L594"></a> 594         <em class="brace">}</em>
<a id="L595" name="L595"></a> 595     <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<a id="L597" name="L597"></a> 597 
<a id="L598" name="L598"></a> 598     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25204.html" title="Multiple referred from 66 places.">processingInstruction</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> code )
<a id="L599" name="L599"></a> 599         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L600" name="L600"></a> 600     <em class="brace">{</em>
<a id="L601" name="L601"></a> 601         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L602" name="L602"></a> 602             <a href="../D/29877.html" title="Multiple defined in 2 places.">processingInstructionIO</a>( <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, code );
<a id="L603" name="L603"></a> 603         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L604" name="L604"></a> 604         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L605" name="L605"></a> 605         <em class="brace">}</em>
<a id="L606" name="L606"></a> 606     <em class="brace">}</em>
<a id="L607" name="L607"></a> 607 
<a id="L608" name="L608"></a> 608     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25205.html" title="Multiple referred from 2 places.">processingInstructionIO</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> code )
<a id="L609" name="L609"></a> 609         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L610" name="L610"></a> 610     <em class="brace">{</em>
<a id="L611" name="L611"></a> 611         <strong class="reserved">int</strong>          <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L612" name="L612"></a> 612         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L615" name="L615"></a> 615 
<a id="L616" name="L616"></a> 616         <em class="comment">// Create the processing instruction textual representation.</em>
<a id="L617" name="L617"></a> 617         <em class="comment">// Make sure we don't have '?&gt;' inside either target or code.</em>
<a id="L618" name="L618"></a> 618         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>( "?&gt;" );
<a id="L619" name="L619"></a> 619         <strong class="reserved">if</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0 )
<a id="L620" name="L620"></a> 620             fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "&lt;?" ).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>( 0, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) );
<a id="L621" name="L621"></a> 621         <strong class="reserved">else</strong>
<a id="L622" name="L622"></a> 622             fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "&lt;?" ).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a> );
<a id="L623" name="L623"></a> 623         <strong class="reserved">if</strong> ( code != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L624" name="L624"></a> 624             fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( ' ' );
<a id="L625" name="L625"></a> 625             <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = code.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>( "?&gt;" );
<a id="L626" name="L626"></a> 626             <strong class="reserved">if</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0 )
<a id="L627" name="L627"></a> 627                 fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( code.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>( 0, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) );
<a id="L628" name="L628"></a> 628             <strong class="reserved">else</strong>
<a id="L629" name="L629"></a> 629                 fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( code );
<a id="L630" name="L630"></a> 630         <em class="brace">}</em>
<a id="L631" name="L631"></a> 631         fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "?&gt;" );
<a id="L632" name="L632"></a> 632 
<a id="L633" name="L633"></a> 633         <em class="comment">// If before the root element (or after it), do not print</em>
<a id="L634" name="L634"></a> 634         <em class="comment">// the PI directly but place it in the pre-root vector.</em>
<a id="L635" name="L635"></a> 635         <strong class="reserved">if</strong> ( <a href="../S/5797.html#L1893" title="Defined at 1893 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">isDocumentState</a>() ) <em class="brace">{</em>
<a id="L636" name="L636"></a> 636             <strong class="reserved">if</strong> ( _preRoot == <strong class="reserved">null</strong> )
<a id="L637" name="L637"></a> 637                 _preRoot = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L638" name="L638"></a> 638             _preRoot.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>( fStrBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() );
<a id="L639" name="L639"></a> 639         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L640" name="L640"></a> 640             _printer.<a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>();
<a id="L641" name="L641"></a> 641             <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( fStrBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), <strong class="reserved">true</strong>, <strong class="reserved">true</strong> );
<a id="L642" name="L642"></a> 642             _printer.<a href="../D/35857.html" title="Multiple defined in 2 places.">unindent</a>();
<a id="L643" name="L643"></a> 643             <strong class="reserved">if</strong> ( _indenting )
<a id="L644" name="L644"></a> 644             <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterElement = <strong class="reserved">true</strong>;
<a id="L645" name="L645"></a> 645         <em class="brace">}</em>
<a id="L646" name="L646"></a> 646 
<a id="L647" name="L647"></a> 647         fStrBuffer.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(0);
<a id="L648" name="L648"></a> 648     <em class="brace">}</em>
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650 
<a id="L651" name="L651"></a> 651     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11671.html" title="Multiple referred from 126 places.">comment</a>( <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> )
<a id="L652" name="L652"></a> 652         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L653" name="L653"></a> 653     <em class="brace">{</em>
<a id="L654" name="L654"></a> 654         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L655" name="L655"></a> 655         <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>( <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>( <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ) );
<a id="L656" name="L656"></a> 656         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L658" name="L658"></a> 658     <em class="brace">}</em>
<a id="L659" name="L659"></a> 659     <em class="brace">}</em>
<a id="L660" name="L660"></a> 660 
<a id="L661" name="L661"></a> 661 
<a id="L662" name="L662"></a> 662     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11671.html" title="Multiple referred from 126 places.">comment</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> )
<a id="L663" name="L663"></a> 663         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L664" name="L664"></a> 664     <em class="brace">{</em>
<a id="L665" name="L665"></a> 665         <strong class="reserved">int</strong>          <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L666" name="L666"></a> 666         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L667" name="L667"></a> 667 
<a id="L668" name="L668"></a> 668         <strong class="reserved">if</strong> ( _format.<a href="../S/5804.html#L555" title="Defined at 555 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">getOmitComments</a>() )
<a id="L669" name="L669"></a> 669             <strong class="reserved">return</strong>;
<a id="L670" name="L670"></a> 670 
<a id="L671" name="L671"></a> 671         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>  = <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L672" name="L672"></a> 672         <em class="comment">// Create the processing comment textual representation.</em>
<a id="L673" name="L673"></a> 673         <em class="comment">// Make sure we don't have '--&gt;' inside the comment.</em>
<a id="L674" name="L674"></a> 674         <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>( "--&gt;" );
<a id="L675" name="L675"></a> 675         <strong class="reserved">if</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &gt;= 0 )
<a id="L676" name="L676"></a> 676             fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "&lt;!--" ).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>( 0, <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) ).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "--&gt;" );
<a id="L677" name="L677"></a> 677         <strong class="reserved">else</strong>
<a id="L678" name="L678"></a> 678             fStrBuffer.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "&lt;!--" ).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> ).<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "--&gt;" );
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680         <em class="comment">// If before the root element (or after it), do not print</em>
<a id="L681" name="L681"></a> 681         <em class="comment">// the comment directly but place it in the pre-root vector.</em>
<a id="L682" name="L682"></a> 682         <strong class="reserved">if</strong> ( <a href="../S/5797.html#L1893" title="Defined at 1893 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">isDocumentState</a>() ) <em class="brace">{</em>
<a id="L683" name="L683"></a> 683             <strong class="reserved">if</strong> ( _preRoot == <strong class="reserved">null</strong> )
<a id="L684" name="L684"></a> 684                 _preRoot = <strong class="reserved">new</strong> <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>();
<a id="L685" name="L685"></a> 685             _preRoot.<a href="../D/10774.html" title="Multiple defined in 24 places.">addElement</a>( fStrBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() );
<a id="L686" name="L686"></a> 686         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L687" name="L687"></a> 687             <em class="comment">// Indent this element on a new line if the first</em>
<a id="L688" name="L688"></a> 688             <em class="comment">// content of the parent element or immediately</em>
<a id="L689" name="L689"></a> 689             <em class="comment">// following an element.</em>
<a id="L690" name="L690"></a> 690             <strong class="reserved">if</strong> ( _indenting &amp;&amp; ! <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace)
<a id="L691" name="L691"></a> 691                 _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L692" name="L692"></a> 692                                                 _printer.<a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>();
<a id="L693" name="L693"></a> 693             <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( fStrBuffer.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), <strong class="reserved">true</strong>, <strong class="reserved">true</strong> );
<a id="L694" name="L694"></a> 694                                                 _printer.<a href="../D/35857.html" title="Multiple defined in 2 places.">unindent</a>();
<a id="L695" name="L695"></a> 695             <strong class="reserved">if</strong> ( _indenting )
<a id="L696" name="L696"></a> 696                 <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterElement = <strong class="reserved">true</strong>;
<a id="L697" name="L697"></a> 697         <em class="brace">}</em>
<a id="L698" name="L698"></a> 698 
<a id="L699" name="L699"></a> 699         fStrBuffer.<a href="../D/33077.html" title="Multiple defined in 10 places.">setLength</a>(0);
<a id="L700" name="L700"></a> 700         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterComment = <strong class="reserved">true</strong>;
<a id="L701" name="L701"></a> 701         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterElement = <strong class="reserved">false</strong>;
<a id="L702" name="L702"></a> 702     <em class="brace">}</em>
<a id="L703" name="L703"></a> 703 
<a id="L704" name="L704"></a> 704 
<a id="L705" name="L705"></a> 705     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28793.html" title="Multiple referred from 30 places.">startCDATA</a>()
<a id="L706" name="L706"></a> 706     <em class="brace">{</em>
<a id="L707" name="L707"></a> 707         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L708" name="L708"></a> 708 
<a id="L709" name="L709"></a> 709         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L710" name="L710"></a> 710         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData = <strong class="reserved">true</strong>;
<a id="L711" name="L711"></a> 711     <em class="brace">}</em>
<a id="L712" name="L712"></a> 712 
<a id="L713" name="L713"></a> 713 
<a id="L714" name="L714"></a> 714     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13755.html" title="Multiple referred from 33 places.">endCDATA</a>()
<a id="L715" name="L715"></a> 715     <em class="brace">{</em>
<a id="L716" name="L716"></a> 716         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L717" name="L717"></a> 717 
<a id="L718" name="L718"></a> 718         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L719" name="L719"></a> 719         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData = <strong class="reserved">false</strong>;
<a id="L720" name="L720"></a> 720     <em class="brace">}</em>
<a id="L721" name="L721"></a> 721 
<a id="L722" name="L722"></a> 722 
<a id="L723" name="L723"></a> 723     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28834.html" title="Multiple referred from 3 places.">startNonEscaping</a>()
<a id="L724" name="L724"></a> 724     <em class="brace">{</em>
<a id="L725" name="L725"></a> 725         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L726" name="L726"></a> 726 
<a id="L727" name="L727"></a> 727         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L728" name="L728"></a> 728         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped = <strong class="reserved">true</strong>;
<a id="L729" name="L729"></a> 729     <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<a id="L731" name="L731"></a> 731 
<a id="L732" name="L732"></a> 732     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13779.html" title="Multiple referred from 3 places.">endNonEscaping</a>()
<a id="L733" name="L733"></a> 733     <em class="brace">{</em>
<a id="L734" name="L734"></a> 734         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L735" name="L735"></a> 735 
<a id="L736" name="L736"></a> 736         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L737" name="L737"></a> 737         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped = <strong class="reserved">false</strong>;
<a id="L738" name="L738"></a> 738     <em class="brace">}</em>
<a id="L739" name="L739"></a> 739 
<a id="L740" name="L740"></a> 740 
<a id="L741" name="L741"></a> 741     <strong class="reserved">public</strong> <strong class="reserved">void</strong> startPreserving()
<a id="L742" name="L742"></a> 742     <em class="brace">{</em>
<a id="L743" name="L743"></a> 743         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L744" name="L744"></a> 744 
<a id="L745" name="L745"></a> 745         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L746" name="L746"></a> 746         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace = <strong class="reserved">true</strong>;
<a id="L747" name="L747"></a> 747     <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<a id="L749" name="L749"></a> 749 
<a id="L750" name="L750"></a> 750     <strong class="reserved">public</strong> <strong class="reserved">void</strong> endPreserving()
<a id="L751" name="L751"></a> 751     <em class="brace">{</em>
<a id="L752" name="L752"></a> 752         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L755" name="L755"></a> 755         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace = <strong class="reserved">false</strong>;
<a id="L756" name="L756"></a> 756     <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<a id="L758" name="L758"></a> 758 
<div class="comment">
      Called at the end of the document to wrap it up.
      Will flush the output stream and throw an exception
      if any I/O error occured while serializing.
      @throws SAXException An I/O exception occured during
       serializing</div>
<a id="L767" name="L767"></a> 767     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13761.html" title="Multiple referred from 58 places.">endDocument</a>()
<a id="L768" name="L768"></a> 768         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L769" name="L769"></a> 769     <em class="brace">{</em>
<a id="L770" name="L770"></a> 770         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L771" name="L771"></a> 771         <em class="comment">// Print all the elements accumulated outside of</em>
<a id="L772" name="L772"></a> 772         <em class="comment">// the root element.</em>
<a id="L773" name="L773"></a> 773         <a href="../S/5797.html#L1502" title="Defined at 1502 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializePreRoot</a>();
<a id="L774" name="L774"></a> 774         <em class="comment">// Flush the output, this is necessary for fStrBuffered output.</em>
<a id="L775" name="L775"></a> 775         _printer.<a href="../D/16474.html" title="Multiple defined in 60 places.">flush</a>();
<a id="L776" name="L776"></a> 776         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L777" name="L777"></a> 777             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L778" name="L778"></a> 778     <em class="brace">}</em>
<a id="L779" name="L779"></a> 779     <em class="brace">}</em>
<a id="L780" name="L780"></a> 780 
<a id="L781" name="L781"></a> 781 
<a id="L782" name="L782"></a> 782     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28814.html" title="Multiple referred from 28 places.">startEntity</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> )
<a id="L783" name="L783"></a> 783     <em class="brace">{</em>
<a id="L784" name="L784"></a> 784         <em class="comment">// ???</em>
<a id="L785" name="L785"></a> 785     <em class="brace">}</em>
<a id="L786" name="L786"></a> 786 
<a id="L787" name="L787"></a> 787 
<a id="L788" name="L788"></a> 788     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13769.html" title="Multiple referred from 20 places.">endEntity</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> )
<a id="L789" name="L789"></a> 789     <em class="brace">{</em>
<a id="L790" name="L790"></a> 790         <em class="comment">// ???</em>
<a id="L791" name="L791"></a> 791     <em class="brace">}</em>
<a id="L792" name="L792"></a> 792 
<a id="L793" name="L793"></a> 793 
<a id="L794" name="L794"></a> 794     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/27270.html" title="Multiple referred from 45 places.">setDocumentLocator</a>( <a href="../D/5191.html" title="Multiple defined in 3 places.">Locator</a> locator )
<a id="L795" name="L795"></a> 795     <em class="brace">{</em>
<a id="L796" name="L796"></a> 796         <em class="comment">// Nothing to do</em>
<a id="L797" name="L797"></a> 797     <em class="brace">}</em>
<a id="L798" name="L798"></a> 798 
<a id="L799" name="L799"></a> 799 
<a id="L800" name="L800"></a> 800     <em class="comment">//-----------------------------------------//</em>
<a id="L801" name="L801"></a> 801     <em class="comment">// SAX content handler serializing methods //</em>
<a id="L802" name="L802"></a> 802     <em class="comment">//-----------------------------------------//</em>
<a id="L803" name="L803"></a> 803 
<a id="L804" name="L804"></a> 804 
<a id="L805" name="L805"></a> 805     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28670.html" title="Multiple referred from 11 places.">skippedEntity</a> ( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> )
<a id="L806" name="L806"></a> 806         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L807" name="L807"></a> 807     <em class="brace">{</em>
<a id="L808" name="L808"></a> 808         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L809" name="L809"></a> 809         <a href="../D/15437.html" title="Multiple defined in 40 places.">endCDATA</a>();
<a id="L810" name="L810"></a> 810         <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L811" name="L811"></a> 811         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&amp;' );
<a id="L812" name="L812"></a> 812         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L813" name="L813"></a> 813         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ';' );
<a id="L814" name="L814"></a> 814         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L815" name="L815"></a> 815             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L816" name="L816"></a> 816     <em class="brace">}</em>
<a id="L817" name="L817"></a> 817     <em class="brace">}</em>
<a id="L818" name="L818"></a> 818 
<a id="L819" name="L819"></a> 819 
<a id="L820" name="L820"></a> 820     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28846.html" title="Multiple referred from 46 places.">startPrefixMapping</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri )
<a id="L821" name="L821"></a> 821         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L822" name="L822"></a> 822     <em class="brace">{</em>
<a id="L823" name="L823"></a> 823         <strong class="reserved">if</strong> ( _prefixes == <strong class="reserved">null</strong> )
<a id="L824" name="L824"></a> 824             _prefixes = <strong class="reserved">new</strong> <a href="../D/3743.html" title="Multiple defined in 2 places.">Hashtable</a>();
<a id="L825" name="L825"></a> 825         _prefixes.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>( uri, <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> == <strong class="reserved">null</strong> ? "" : <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> );
<a id="L826" name="L826"></a> 826     <em class="brace">}</em>
<a id="L827" name="L827"></a> 827 
<a id="L828" name="L828"></a> 828 
<a id="L829" name="L829"></a> 829     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13786.html" title="Multiple referred from 22 places.">endPrefixMapping</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> )
<a id="L830" name="L830"></a> 830         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L831" name="L831"></a> 831     <em class="brace">{</em>
<a id="L832" name="L832"></a> 832     <em class="brace">}</em>
<a id="L833" name="L833"></a> 833 
<a id="L834" name="L834"></a> 834 
<a id="L835" name="L835"></a> 835     <em class="comment">//------------------------------------------//</em>
<a id="L836" name="L836"></a> 836     <em class="comment">// SAX DTD/Decl handler serializing methods //</em>
<a id="L837" name="L837"></a> 837     <em class="comment">//------------------------------------------//</em>
<a id="L838" name="L838"></a> 838 
<a id="L839" name="L839"></a> 839 
<a id="L840" name="L840"></a> 840     <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/28798.html" title="Multiple referred from 16 places.">startDTD</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> )
<a id="L841" name="L841"></a> 841         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L842" name="L842"></a> 842     <em class="brace">{</em>
<a id="L843" name="L843"></a> 843         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L844" name="L844"></a> 844         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L845" name="L845"></a> 845         _docTypePublicId = <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>;
<a id="L846" name="L846"></a> 846         _docTypeSystemId = <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>;
<a id="L847" name="L847"></a> 847 
<a id="L848" name="L848"></a> 848         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L849" name="L849"></a> 849             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L850" name="L850"></a> 850         <em class="brace">}</em>
<a id="L851" name="L851"></a> 851     <em class="brace">}</em>
<a id="L852" name="L852"></a> 852 
<a id="L853" name="L853"></a> 853 
<a id="L854" name="L854"></a> 854     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13759.html" title="Multiple referred from 17 places.">endDTD</a>()
<a id="L855" name="L855"></a> 855     <em class="brace">{</em>
<a id="L856" name="L856"></a> 856         <em class="comment">// Nothing to do here, all the magic occurs in startDocument(String).</em>
<a id="L857" name="L857"></a> 857     <em class="brace">}</em>
<a id="L858" name="L858"></a> 858 
<a id="L859" name="L859"></a> 859 
<a id="L860" name="L860"></a> 860     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13637.html" title="Multiple referred from 56 places.">elementDecl</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> model )
<a id="L861" name="L861"></a> 861         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L862" name="L862"></a> 862     <em class="brace">{</em>
<a id="L863" name="L863"></a> 863         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L864" name="L864"></a> 864         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L865" name="L865"></a> 865         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!ELEMENT " );
<a id="L866" name="L866"></a> 866         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L867" name="L867"></a> 867         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ' ' );
<a id="L868" name="L868"></a> 868         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( model );
<a id="L869" name="L869"></a> 869         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&gt;' );
<a id="L870" name="L870"></a> 870         <strong class="reserved">if</strong> ( _indenting )
<a id="L871" name="L871"></a> 871             _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L872" name="L872"></a> 872         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L873" name="L873"></a> 873             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L874" name="L874"></a> 874         <em class="brace">}</em>
<a id="L875" name="L875"></a> 875     <em class="brace">}</em>
<a id="L876" name="L876"></a> 876 
<a id="L877" name="L877"></a> 877 
<a id="L878" name="L878"></a> 878     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/10404.html" title="Multiple referred from 33 places.">attributeDecl</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> eName, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> aName, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L879" name="L879"></a> 879                                <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> valueDefault, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> )
<a id="L880" name="L880"></a> 880         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L881" name="L881"></a> 881     <em class="brace">{</em>
<a id="L882" name="L882"></a> 882         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L883" name="L883"></a> 883         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L884" name="L884"></a> 884         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!ATTLIST " );
<a id="L885" name="L885"></a> 885         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( eName );
<a id="L886" name="L886"></a> 886         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ' ' );
<a id="L887" name="L887"></a> 887         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( aName );
<a id="L888" name="L888"></a> 888         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ' ' );
<a id="L889" name="L889"></a> 889         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> );
<a id="L890" name="L890"></a> 890         <strong class="reserved">if</strong> ( valueDefault != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L891" name="L891"></a> 891             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ' ' );
<a id="L892" name="L892"></a> 892             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( valueDefault );
<a id="L893" name="L893"></a> 893         <em class="brace">}</em>
<a id="L894" name="L894"></a> 894         <strong class="reserved">if</strong> ( <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L895" name="L895"></a> 895             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " \"" );
<a id="L896" name="L896"></a> 896             <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>( <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> );
<a id="L897" name="L897"></a> 897             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '"' );
<a id="L898" name="L898"></a> 898         <em class="brace">}</em>
<a id="L899" name="L899"></a> 899         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&gt;' );
<a id="L900" name="L900"></a> 900         <strong class="reserved">if</strong> ( _indenting )
<a id="L901" name="L901"></a> 901             _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L902" name="L902"></a> 902         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L903" name="L903"></a> 903             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L904" name="L904"></a> 904     <em class="brace">}</em>
<a id="L905" name="L905"></a> 905     <em class="brace">}</em>
<a id="L906" name="L906"></a> 906 
<a id="L907" name="L907"></a> 907 
<a id="L908" name="L908"></a> 908     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/20928.html" title="Multiple referred from 8 places.">internalEntityDecl</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> )
<a id="L909" name="L909"></a> 909         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L910" name="L910"></a> 910     <em class="brace">{</em>
<a id="L911" name="L911"></a> 911         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L912" name="L912"></a> 912         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L913" name="L913"></a> 913         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!ENTITY " );
<a id="L914" name="L914"></a> 914         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L915" name="L915"></a> 915         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " \"" );
<a id="L916" name="L916"></a> 916         <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>( <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a> );
<a id="L917" name="L917"></a> 917         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "\"&gt;" );
<a id="L918" name="L918"></a> 918         <strong class="reserved">if</strong> ( _indenting )
<a id="L919" name="L919"></a> 919             _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L920" name="L920"></a> 920         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L922" name="L922"></a> 922         <em class="brace">}</em>
<a id="L923" name="L923"></a> 923     <em class="brace">}</em>
<a id="L924" name="L924"></a> 924 
<a id="L925" name="L925"></a> 925 
<a id="L926" name="L926"></a> 926     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14189.html" title="Multiple referred from 8 places.">externalEntityDecl</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> )
<a id="L927" name="L927"></a> 927         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L928" name="L928"></a> 928     <em class="brace">{</em>
<a id="L929" name="L929"></a> 929         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L930" name="L930"></a> 930         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L931" name="L931"></a> 931         <a href="../D/35954.html" title="Multiple defined in 26 places.">unparsedEntityDecl</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, <strong class="reserved">null</strong> );
<a id="L932" name="L932"></a> 932         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L933" name="L933"></a> 933             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L934" name="L934"></a> 934         <em class="brace">}</em>
<a id="L935" name="L935"></a> 935     <em class="brace">}</em>
<a id="L936" name="L936"></a> 936 
<a id="L937" name="L937"></a> 937 
<a id="L938" name="L938"></a> 938     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29743.html" title="Multiple referred from 14 places.">unparsedEntityDecl</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>,
<a id="L939" name="L939"></a> 939                                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> notationName )
<a id="L940" name="L940"></a> 940         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L941" name="L941"></a> 941     <em class="brace">{</em>
<a id="L942" name="L942"></a> 942         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L943" name="L943"></a> 943         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L944" name="L944"></a> 944         <strong class="reserved">if</strong> ( <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> == <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L945" name="L945"></a> 945             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!ENTITY " );
<a id="L946" name="L946"></a> 946             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L947" name="L947"></a> 947             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " SYSTEM " );
<a id="L948" name="L948"></a> 948             <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> );
<a id="L949" name="L949"></a> 949         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L950" name="L950"></a> 950             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!ENTITY " );
<a id="L951" name="L951"></a> 951             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L952" name="L952"></a> 952             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " PUBLIC " );
<a id="L953" name="L953"></a> 953             <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> );
<a id="L954" name="L954"></a> 954             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ' ' );
<a id="L955" name="L955"></a> 955             <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> );
<a id="L956" name="L956"></a> 956         <em class="brace">}</em>
<a id="L957" name="L957"></a> 957         <strong class="reserved">if</strong> ( notationName != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L958" name="L958"></a> 958             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " NDATA " );
<a id="L959" name="L959"></a> 959             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( notationName );
<a id="L960" name="L960"></a> 960         <em class="brace">}</em>
<a id="L961" name="L961"></a> 961         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&gt;' );
<a id="L962" name="L962"></a> 962         <strong class="reserved">if</strong> ( _indenting )
<a id="L963" name="L963"></a> 963             _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L964" name="L964"></a> 964         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L965" name="L965"></a> 965             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L966" name="L966"></a> 966     <em class="brace">}</em>
<a id="L967" name="L967"></a> 967     <em class="brace">}</em>
<a id="L968" name="L968"></a> 968 
<a id="L969" name="L969"></a> 969 
<a id="L970" name="L970"></a> 970     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23809.html" title="Multiple referred from 25 places.">notationDecl</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> )
<a id="L971" name="L971"></a> 971         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L972" name="L972"></a> 972     <em class="brace">{</em>
<a id="L973" name="L973"></a> 973         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L974" name="L974"></a> 974         _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L975" name="L975"></a> 975         <strong class="reserved">if</strong> ( <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!NOTATION " );
<a id="L977" name="L977"></a> 977             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L978" name="L978"></a> 978             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " PUBLIC " );
<a id="L979" name="L979"></a> 979             <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( <a href="../D/29918.html" title="Multiple defined in 2 places.">publicId</a> );
<a id="L980" name="L980"></a> 980             <strong class="reserved">if</strong> ( <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ' ' );
<a id="L982" name="L982"></a> 982                 <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> );
<a id="L983" name="L983"></a> 983             <em class="brace">}</em>
<a id="L984" name="L984"></a> 984         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L985" name="L985"></a> 985             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!NOTATION " );
<a id="L986" name="L986"></a> 986             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L987" name="L987"></a> 987             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " SYSTEM " );
<a id="L988" name="L988"></a> 988             <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( <a href="../D/35191.html" title="Multiple defined in 2 places.">systemId</a> );
<a id="L989" name="L989"></a> 989         <em class="brace">}</em>
<a id="L990" name="L990"></a> 990         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&gt;' );
<a id="L991" name="L991"></a> 991         <strong class="reserved">if</strong> ( _indenting )
<a id="L992" name="L992"></a> 992             _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L993" name="L993"></a> 993         <em class="brace">}</em> <strong class="reserved">catch</strong> ( <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> ) <em class="brace">{</em>
<a id="L994" name="L994"></a> 994             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>( <a href="../S/235.html#L257" title="Defined at 257 in src/org/omg/CORBA/ServerRequest.java.">except</a> );
<a id="L995" name="L995"></a> 995         <em class="brace">}</em>
<a id="L996" name="L996"></a> 996     <em class="brace">}</em>
<a id="L997" name="L997"></a> 997 
<a id="L998" name="L998"></a> 998 
<a id="L999" name="L999"></a> 999     <em class="comment">//------------------------------------------//</em>
<a id="L1000" name="L1000"></a>1000     <em class="comment">// Generic node serializing methods methods //</em>
<a id="L1001" name="L1001"></a>1001     <em class="comment">//------------------------------------------//</em>
<a id="L1002" name="L1002"></a>1002 
<a id="L1003" name="L1003"></a>1003 
<div class="comment">
      Serialize the DOM node. This method is shared across XML, HTML and XHTML
      serializers and the differences are masked out in a separate {@link
      #serializeElement}.
      @param node The node to serialize
      @see #serializeElement
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L1014" name="L1014"></a>1014     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26812.html" title="Multiple referred from 12 places.">serializeNode</a>( <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> )
<a id="L1015" name="L1015"></a>1015         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1016" name="L1016"></a>1016     <em class="brace">{</em>
<a id="L1017" name="L1017"></a>1017         fCurrentNode = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>;
<a id="L1018" name="L1018"></a>1018 
<a id="L1019" name="L1019"></a>1019         <em class="comment">// Based on the node type call the suitable SAX handler.</em>
<a id="L1020" name="L1020"></a>1020         <em class="comment">// Only comments entities and documents which are not</em>
<a id="L1021" name="L1021"></a>1021         <em class="comment">// handled by SAX are serialized directly.</em>
<a id="L1022" name="L1022"></a>1022         <strong class="reserved">switch</strong> ( <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20988.html" title="Multiple defined in 34 places.">getNodeType</a>() ) <em class="brace">{</em>
<a id="L1023" name="L1023"></a>1023         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.TEXT_NODE : <em class="brace">{</em>
<a id="L1024" name="L1024"></a>1024             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L1025" name="L1025"></a>1025 
<a id="L1026" name="L1026"></a>1026             <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L1027" name="L1027"></a>1027             <strong class="reserved">if</strong> ( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1028" name="L1028"></a>1028                 <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L1029" name="L1029"></a>1029                     (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a>() &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_TEXT)!= 0) <em class="brace">{</em>
<a id="L1030" name="L1030"></a>1030                     <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1031" name="L1031"></a>1031                     <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1032" name="L1032"></a>1032                         <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_REJECT:
<a id="L1033" name="L1033"></a>1033                         <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1034" name="L1034"></a>1034                             <strong class="reserved">break</strong>;
<a id="L1035" name="L1035"></a>1035                         <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036                         <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1037" name="L1037"></a>1037                             <a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L1038" name="L1038"></a>1038                         <em class="brace">}</em>
<a id="L1039" name="L1039"></a>1039                     <em class="brace">}</em>
<a id="L1040" name="L1040"></a>1040                 <em class="brace">}</em>
<a id="L1041" name="L1041"></a>1041                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( !_indenting || <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>().preserveSpace
<a id="L1042" name="L1042"></a>1042                      || (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/31035.html" title="Multiple defined in 65 places.">replace</a>('\n',' ').<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>().<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() != 0))
<a id="L1043" name="L1043"></a>1043                     <a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> );
<a id="L1044" name="L1044"></a>1044 
<a id="L1045" name="L1045"></a>1045             <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046             <strong class="reserved">break</strong>;
<a id="L1047" name="L1047"></a>1047         <em class="brace">}</em>
<a id="L1048" name="L1048"></a>1048 
<a id="L1049" name="L1049"></a>1049         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.CDATA_SECTION_NODE : <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L1051" name="L1051"></a>1051             <strong class="reserved">if</strong> ((features &amp; <a href="../S/5808.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/serialize/DOMSerializerImpl.java.">DOMSerializerImpl</a>.CDATA) != 0) <em class="brace">{</em>
<a id="L1052" name="L1052"></a>1052                 <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1053" name="L1053"></a>1053                     <strong class="reserved">if</strong> (fDOMFilter != <strong class="reserved">null</strong>
<a id="L1054" name="L1054"></a>1054                         &amp;&amp; (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a>()
<a id="L1055" name="L1055"></a>1055                             &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_CDATA_SECTION)
<a id="L1056" name="L1056"></a>1056                             != 0) <em class="brace">{</em>
<a id="L1057" name="L1057"></a>1057                         <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1058" name="L1058"></a>1058                         <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1059" name="L1059"></a>1059                             <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_REJECT :
<a id="L1060" name="L1060"></a>1060                             <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_SKIP :
<a id="L1061" name="L1061"></a>1061                                 <em class="brace">{</em>
<a id="L1062" name="L1062"></a>1062                                     <em class="comment">// skip the CDATA node</em>
<a id="L1063" name="L1063"></a>1063                                     <strong class="reserved">return</strong>;
<a id="L1064" name="L1064"></a>1064                                 <em class="brace">}</em>
<a id="L1065" name="L1065"></a>1065                             <strong class="reserved">default</strong> :
<a id="L1066" name="L1066"></a>1066                                 <em class="brace">{</em>
<a id="L1067" name="L1067"></a>1067                                     <em class="comment">//fall through..</em>
<a id="L1068" name="L1068"></a>1068                                 <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069                         <em class="brace">}</em>
<a id="L1070" name="L1070"></a>1070                     <em class="brace">}</em>
<a id="L1071" name="L1071"></a>1071                     <a href="../D/34760.html" title="Multiple defined in 37 places.">startCDATA</a>();
<a id="L1072" name="L1072"></a>1072                     <a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L1073" name="L1073"></a>1073                     <a href="../D/15437.html" title="Multiple defined in 40 places.">endCDATA</a>();
<a id="L1074" name="L1074"></a>1074                 <em class="brace">}</em>
<a id="L1075" name="L1075"></a>1075             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076                 <em class="comment">// transform into a text node</em>
<a id="L1077" name="L1077"></a>1077                 <a href="../D/12339.html" title="Multiple defined in 98 places.">characters</a>(<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L1078" name="L1078"></a>1078             <em class="brace">}</em>
<a id="L1079" name="L1079"></a>1079             <strong class="reserved">break</strong>;
<a id="L1080" name="L1080"></a>1080         <em class="brace">}</em>
<a id="L1081" name="L1081"></a>1081         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.COMMENT_NODE : <em class="brace">{</em>
<a id="L1082" name="L1082"></a>1082             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>;
<a id="L1083" name="L1083"></a>1083 
<a id="L1084" name="L1084"></a>1084             <strong class="reserved">if</strong> ( ! _format.<a href="../S/5804.html#L555" title="Defined at 555 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">getOmitComments</a>() ) <em class="brace">{</em>
<a id="L1085" name="L1085"></a>1085                 <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>();
<a id="L1086" name="L1086"></a>1086                 <strong class="reserved">if</strong> ( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1087" name="L1087"></a>1087 
<a id="L1088" name="L1088"></a>1088                     <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L1089" name="L1089"></a>1089                           (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a>() &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_COMMENT)!= 0) <em class="brace">{</em>
<a id="L1090" name="L1090"></a>1090                           <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1091" name="L1091"></a>1091                           <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1092" name="L1092"></a>1092                               <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_REJECT:
<a id="L1093" name="L1093"></a>1093                               <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1094" name="L1094"></a>1094                                   <em class="comment">// skip the comment node</em>
<a id="L1095" name="L1095"></a>1095                                   <strong class="reserved">return</strong>;
<a id="L1096" name="L1096"></a>1096                               <em class="brace">}</em>
<a id="L1097" name="L1097"></a>1097                               <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1098" name="L1098"></a>1098                                    <em class="comment">// fall through</em>
<a id="L1099" name="L1099"></a>1099                               <em class="brace">}</em>
<a id="L1100" name="L1100"></a>1100                           <em class="brace">}</em>
<a id="L1101" name="L1101"></a>1101                     <em class="brace">}</em>
<a id="L1102" name="L1102"></a>1102                     <a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> );
<a id="L1103" name="L1103"></a>1103                 <em class="brace">}</em>
<a id="L1104" name="L1104"></a>1104             <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105             <strong class="reserved">break</strong>;
<a id="L1106" name="L1106"></a>1106         <em class="brace">}</em>
<a id="L1107" name="L1107"></a>1107 
<a id="L1108" name="L1108"></a>1108         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ENTITY_REFERENCE_NODE : <em class="brace">{</em>
<a id="L1109" name="L1109"></a>1109             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>         child;
<a id="L1110" name="L1110"></a>1110 
<a id="L1111" name="L1111"></a>1111             <a href="../D/15437.html" title="Multiple defined in 40 places.">endCDATA</a>();
<a id="L1112" name="L1112"></a>1112             <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L1113" name="L1113"></a>1113 
<a id="L1114" name="L1114"></a>1114             <strong class="reserved">if</strong> (((features &amp; <a href="../S/5808.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/serialize/DOMSerializerImpl.java.">DOMSerializerImpl</a>.ENTITIES) != 0)
<a id="L1115" name="L1115"></a>1115                 || (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>() == <strong class="reserved">null</strong>)) <em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116                 <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L1117" name="L1117"></a>1117                       (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a>() &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_ENTITY_REFERENCE)!= 0) <em class="brace">{</em>
<a id="L1118" name="L1118"></a>1118                       <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1119" name="L1119"></a>1119                       <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1120" name="L1120"></a>1120                         <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_REJECT:<em class="brace">{</em>
<a id="L1121" name="L1121"></a>1121                             <strong class="reserved">return</strong>; <em class="comment">// remove the node</em>
<a id="L1122" name="L1122"></a>1122                           <em class="brace">}</em>
<a id="L1123" name="L1123"></a>1123                           <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124                               child = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1125" name="L1125"></a>1125                               <strong class="reserved">while</strong> ( child != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1126" name="L1126"></a>1126                                   <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( child );
<a id="L1127" name="L1127"></a>1127                                   child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1128" name="L1128"></a>1128                               <em class="brace">}</em>
<a id="L1129" name="L1129"></a>1129                               <strong class="reserved">return</strong>;
<a id="L1130" name="L1130"></a>1130                           <em class="brace">}</em>
<a id="L1131" name="L1131"></a>1131 
<a id="L1132" name="L1132"></a>1132                           <strong class="reserved">default</strong>: <em class="brace">{</em>
<a id="L1133" name="L1133"></a>1133                                <em class="comment">// fall through</em>
<a id="L1134" name="L1134"></a>1134                           <em class="brace">}</em>
<a id="L1135" name="L1135"></a>1135                       <em class="brace">}</em>
<a id="L1136" name="L1136"></a>1136                   <em class="brace">}</em>
<a id="L1137" name="L1137"></a>1137                 <a href="../D/12696.html" title="Multiple defined in 2 places.">checkUnboundNamespacePrefixedNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1138" name="L1138"></a>1138 
<a id="L1139" name="L1139"></a>1139                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&amp;");
<a id="L1140" name="L1140"></a>1140                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>());
<a id="L1141" name="L1141"></a>1141                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";");
<a id="L1142" name="L1142"></a>1142             <em class="brace">}</em>
<a id="L1143" name="L1143"></a>1143             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144                 child = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1145" name="L1145"></a>1145                 <strong class="reserved">while</strong> ( child != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1146" name="L1146"></a>1146                     <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( child );
<a id="L1147" name="L1147"></a>1147                     child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1148" name="L1148"></a>1148                 <em class="brace">}</em>
<a id="L1149" name="L1149"></a>1149             <em class="brace">}</em>
<a id="L1150" name="L1150"></a>1150 
<a id="L1151" name="L1151"></a>1151             <strong class="reserved">break</strong>;
<a id="L1152" name="L1152"></a>1152         <em class="brace">}</em>
<a id="L1153" name="L1153"></a>1153 
<a id="L1154" name="L1154"></a>1154         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.PROCESSING_INSTRUCTION_NODE : <em class="brace">{</em>
<a id="L1155" name="L1155"></a>1155 
<a id="L1156" name="L1156"></a>1156             <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L1157" name="L1157"></a>1157                   (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a>() &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_PROCESSING_INSTRUCTION)!= 0) <em class="brace">{</em>
<a id="L1158" name="L1158"></a>1158                   <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1159" name="L1159"></a>1159                   <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1160" name="L1160"></a>1160                     <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_REJECT:
<a id="L1161" name="L1161"></a>1161                     <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1162" name="L1162"></a>1162                           <strong class="reserved">return</strong>;  <em class="comment">// skip this node</em>
<a id="L1163" name="L1163"></a>1163                     <em class="brace">}</em>
<a id="L1164" name="L1164"></a>1164                     <strong class="reserved">default</strong>: <em class="brace">{</em> <em class="comment">// fall through</em>
<a id="L1165" name="L1165"></a>1165                     <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166                   <em class="brace">}</em>
<a id="L1167" name="L1167"></a>1167             <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168             <a href="../D/29877.html" title="Multiple defined in 2 places.">processingInstructionIO</a>( <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20983.html" title="Multiple defined in 37 places.">getNodeName</a>(), <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/20992.html" title="Multiple defined in 23 places.">getNodeValue</a>() );
<a id="L1169" name="L1169"></a>1169             <strong class="reserved">break</strong>;
<a id="L1170" name="L1170"></a>1170         <em class="brace">}</em>
<a id="L1171" name="L1171"></a>1171         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.ELEMENT_NODE :  <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172 
<a id="L1173" name="L1173"></a>1173             <strong class="reserved">if</strong> (fDOMFilter !=<strong class="reserved">null</strong> &amp;&amp;
<a id="L1174" name="L1174"></a>1174                   (fDOMFilter.<a href="../D/23670.html" title="Multiple defined in 14 places.">getWhatToShow</a>() &amp; <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.SHOW_ELEMENT)!= 0) <em class="brace">{</em>
<a id="L1175" name="L1175"></a>1175                   <strong class="reserved">short</strong> code = fDOMFilter.<a href="../D/10547.html" title="Multiple defined in 10 places.">acceptNode</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L1176" name="L1176"></a>1176                   <strong class="reserved">switch</strong> (code) <em class="brace">{</em>
<a id="L1177" name="L1177"></a>1177                     <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_REJECT: <em class="brace">{</em>
<a id="L1178" name="L1178"></a>1178                         <strong class="reserved">return</strong>;
<a id="L1179" name="L1179"></a>1179                     <em class="brace">}</em>
<a id="L1180" name="L1180"></a>1180                     <strong class="reserved">case</strong> <a href="../D/6087.html" title="Multiple defined in 2 places.">NodeFilter</a>.FILTER_SKIP: <em class="brace">{</em>
<a id="L1181" name="L1181"></a>1181                         <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> child = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1182" name="L1182"></a>1182                         <strong class="reserved">while</strong> ( child != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1183" name="L1183"></a>1183                             <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( child );
<a id="L1184" name="L1184"></a>1184                             child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1185" name="L1185"></a>1185                         <em class="brace">}</em>
<a id="L1186" name="L1186"></a>1186                         <strong class="reserved">return</strong>;  <em class="comment">// skip this node</em>
<a id="L1187" name="L1187"></a>1187                     <em class="brace">}</em>
<a id="L1188" name="L1188"></a>1188 
<a id="L1189" name="L1189"></a>1189                     <strong class="reserved">default</strong>: <em class="brace">{</em> <em class="comment">// fall through</em>
<a id="L1190" name="L1190"></a>1190                     <em class="brace">}</em>
<a id="L1191" name="L1191"></a>1191                   <em class="brace">}</em>
<a id="L1192" name="L1192"></a>1192             <em class="brace">}</em>
<a id="L1193" name="L1193"></a>1193             <a href="../D/31788.html" title="Multiple defined in 4 places.">serializeElement</a>( (<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> );
<a id="L1194" name="L1194"></a>1194             <strong class="reserved">break</strong>;
<a id="L1195" name="L1195"></a>1195         <em class="brace">}</em>
<a id="L1196" name="L1196"></a>1196         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_NODE : <em class="brace">{</em>
<a id="L1197" name="L1197"></a>1197             <a href="../S/130.html#L55" title="Defined at 55 in src/org/w3c/dom/DocumentType.java.">DocumentType</a>      docType;
<a id="L1198" name="L1198"></a>1198             <a href="../S/119.html#L50" title="Defined at 50 in src/org/w3c/dom/DOMImplementation.java.">DOMImplementation</a> domImpl;
<a id="L1199" name="L1199"></a>1199             <a href="../S/114.html#L56" title="Defined at 56 in src/org/w3c/dom/NamedNodeMap.java.">NamedNodeMap</a>      <a href="../D/27441.html" title="Multiple defined in 12 places.">map</a>;
<a id="L1200" name="L1200"></a>1200             <a href="../D/2913.html" title="Multiple defined in 2 places.">Entity</a>            entity;
<a id="L1201" name="L1201"></a>1201             <a href="../D/6156.html" title="Multiple defined in 2 places.">Notation</a>          notation;
<a id="L1202" name="L1202"></a>1202             <strong class="reserved">int</strong>               i;
<a id="L1203" name="L1203"></a>1203 
<a id="L1204" name="L1204"></a>1204             <a href="../S/5797.html#L1282" title="Defined at 1282 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializeDocument</a>();
<a id="L1205" name="L1205"></a>1205 
<a id="L1206" name="L1206"></a>1206             <em class="comment">// If there is a document type, use the SAX events to</em>
<a id="L1207" name="L1207"></a>1207             <em class="comment">// serialize it.</em>
<a id="L1208" name="L1208"></a>1208             docType = ( (<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> ).<a href="../D/18550.html" title="Multiple defined in 5 places.">getDoctype</a>();
<a id="L1209" name="L1209"></a>1209             <strong class="reserved">if</strong> (docType != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1210" name="L1210"></a>1210                 <em class="comment">// DOM Level 2 (or higher)</em>
<a id="L1211" name="L1211"></a>1211                 domImpl = ( (<a href="../D/2543.html" title="Multiple defined in 2 places.">Document</a>) <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> ).<a href="../D/19619.html" title="Multiple defined in 10 places.">getImplementation</a>();
<a id="L1212" name="L1212"></a>1212                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1213" name="L1213"></a>1213                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> internal;
<a id="L1214" name="L1214"></a>1214 
<a id="L1215" name="L1215"></a>1215                     _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L1216" name="L1216"></a>1216                     _docTypePublicId = docType.<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>();
<a id="L1217" name="L1217"></a>1217                     _docTypeSystemId = docType.<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>();
<a id="L1218" name="L1218"></a>1218                     internal = docType.<a href="../D/19819.html" title="Multiple defined in 2 places.">getInternalSubset</a>();
<a id="L1219" name="L1219"></a>1219                     <strong class="reserved">if</strong> ( internal != <strong class="reserved">null</strong> &amp;&amp; internal.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0 )
<a id="L1220" name="L1220"></a>1220                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( internal );
<a id="L1221" name="L1221"></a>1221                     <a href="../D/15441.html" title="Multiple defined in 29 places.">endDTD</a>();
<a id="L1222" name="L1222"></a>1222                 <em class="brace">}</em>
<a id="L1223" name="L1223"></a>1223                 <em class="comment">// DOM Level 1 -- does implementation have methods?</em>
<a id="L1224" name="L1224"></a>1224                 <strong class="reserved">catch</strong> (<a href="../S/1678.html#L41" title="Defined at 41 in src/java/lang/NoSuchMethodError.java.">NoSuchMethodError</a> nsme) <em class="brace">{</em>
<a id="L1225" name="L1225"></a>1225                     <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a> docTypeClass = docType.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>();
<a id="L1226" name="L1226"></a>1226 
<a id="L1227" name="L1227"></a>1227                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> docTypePublicId = <strong class="reserved">null</strong>;
<a id="L1228" name="L1228"></a>1228                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> docTypeSystemId = <strong class="reserved">null</strong>;
<a id="L1229" name="L1229"></a>1229                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230                         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.reflect.<a href="../D/5605.html" title="Multiple defined in 4 places.">Method</a> <a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a> = docTypeClass.<a href="../D/20584.html" title="Multiple defined in 21 places.">getMethod</a>("getPublicId", (<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>[]) <strong class="reserved">null</strong>);
<a id="L1231" name="L1231"></a>1231                         <strong class="reserved">if</strong> (<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>.<a href="../D/22080.html" title="Multiple defined in 12 places.">getReturnType</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>)) <em class="brace">{</em>
<a id="L1232" name="L1232"></a>1232                             docTypePublicId = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/21781.html" title="Multiple defined in 41 places.">getPublicId</a>.<a href="../D/25050.html" title="Multiple defined in 52 places.">invoke</a>(docType, (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]) <strong class="reserved">null</strong>);
<a id="L1233" name="L1233"></a>1233                         <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234                     <em class="brace">}</em>
<a id="L1235" name="L1235"></a>1235                     <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1236" name="L1236"></a>1236                         <em class="comment">// ignore</em>
<a id="L1237" name="L1237"></a>1237                     <em class="brace">}</em>
<a id="L1238" name="L1238"></a>1238                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1239" name="L1239"></a>1239                         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.reflect.<a href="../D/5605.html" title="Multiple defined in 4 places.">Method</a> <a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a> = docTypeClass.<a href="../D/20584.html" title="Multiple defined in 21 places.">getMethod</a>("getSystemId", (<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>[]) <strong class="reserved">null</strong>);
<a id="L1240" name="L1240"></a>1240                         <strong class="reserved">if</strong> (<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>.<a href="../D/22080.html" title="Multiple defined in 12 places.">getReturnType</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>.<strong class="reserved">class</strong>)) <em class="brace">{</em>
<a id="L1241" name="L1241"></a>1241                             docTypeSystemId = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)<a href="../D/22911.html" title="Multiple defined in 50 places.">getSystemId</a>.<a href="../D/25050.html" title="Multiple defined in 52 places.">invoke</a>(docType, (<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]) <strong class="reserved">null</strong>);
<a id="L1242" name="L1242"></a>1242                         <em class="brace">}</em>
<a id="L1243" name="L1243"></a>1243                     <em class="brace">}</em>
<a id="L1244" name="L1244"></a>1244                     <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L1245" name="L1245"></a>1245                         <em class="comment">// ignore</em>
<a id="L1246" name="L1246"></a>1246                     <em class="brace">}</em>
<a id="L1247" name="L1247"></a>1247                     _printer.<a href="../D/15637.html" title="Multiple defined in 2 places.">enterDTD</a>();
<a id="L1248" name="L1248"></a>1248                     _docTypePublicId = docTypePublicId;
<a id="L1249" name="L1249"></a>1249                     _docTypeSystemId = docTypeSystemId;
<a id="L1250" name="L1250"></a>1250                     <a href="../D/15441.html" title="Multiple defined in 29 places.">endDTD</a>();
<a id="L1251" name="L1251"></a>1251                 <em class="brace">}</em>
<a id="L1252" name="L1252"></a>1252 
<a id="L1253" name="L1253"></a>1253                 <a href="../S/5797.html#L1321" title="Defined at 1321 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializeDTD</a>(docType.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>());
<a id="L1254" name="L1254"></a>1254 
<a id="L1255" name="L1255"></a>1255             <em class="brace">}</em>
<a id="L1256" name="L1256"></a>1256             _started = <strong class="reserved">true</strong>;
<a id="L1257" name="L1257"></a>1257 
<a id="L1258" name="L1258"></a>1258             <em class="comment">// !! Fall through</em>
<a id="L1259" name="L1259"></a>1259         <em class="brace">}</em>
<a id="L1260" name="L1260"></a>1260         <strong class="reserved">case</strong> <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>.DOCUMENT_FRAGMENT_NODE : <em class="brace">{</em>
<a id="L1261" name="L1261"></a>1261             <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a>         child;
<a id="L1262" name="L1262"></a>1262 
<a id="L1263" name="L1263"></a>1263             <em class="comment">// By definition this will happen if the node is a document,</em>
<a id="L1264" name="L1264"></a>1264             <em class="comment">// document fragment, etc. Just serialize its contents. It will</em>
<a id="L1265" name="L1265"></a>1265             <em class="comment">// work well for other nodes that we do not know how to serialize.</em>
<a id="L1266" name="L1266"></a>1266             child = <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/19088.html" title="Multiple defined in 18 places.">getFirstChild</a>();
<a id="L1267" name="L1267"></a>1267             <strong class="reserved">while</strong> ( child != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1268" name="L1268"></a>1268                 <a href="../D/31789.html" title="Multiple defined in 2 places.">serializeNode</a>( child );
<a id="L1269" name="L1269"></a>1269                 child = child.<a href="../D/20935.html" title="Multiple defined in 22 places.">getNextSibling</a>();
<a id="L1270" name="L1270"></a>1270             <em class="brace">}</em>
<a id="L1271" name="L1271"></a>1271             <strong class="reserved">break</strong>;
<a id="L1272" name="L1272"></a>1272         <em class="brace">}</em>
<a id="L1273" name="L1273"></a>1273 
<a id="L1274" name="L1274"></a>1274         <strong class="reserved">default</strong>:
<a id="L1275" name="L1275"></a>1275             <strong class="reserved">break</strong>;
<a id="L1276" name="L1276"></a>1276         <em class="brace">}</em>
<a id="L1277" name="L1277"></a>1277     <em class="brace">}</em>
<a id="L1278" name="L1278"></a>1278 
<a id="L1279" name="L1279"></a>1279 
<div class="comment">
 Serializes XML Declaration, according to 'xml-declaration' property.</div>
<a id="L1282" name="L1282"></a>1282     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/5797.html#L1204" title="Referred from 1204 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializeDocument</a>()<strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1283" name="L1283"></a>1283         <strong class="reserved">int</strong>    i;
<a id="L1284" name="L1284"></a>1284 
<a id="L1285" name="L1285"></a>1285         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dtd = _printer.<a href="../D/26797.html" title="Multiple defined in 2 places.">leaveDTD</a>();
<a id="L1286" name="L1286"></a>1286         <strong class="reserved">if</strong> (! _started) <em class="brace">{</em>
<a id="L1287" name="L1287"></a>1287 
<a id="L1288" name="L1288"></a>1288             <strong class="reserved">if</strong> (! _format.<a href="../D/21196.html" title="Multiple defined in 5 places.">getOmitXMLDeclaration</a>()) <em class="brace">{</em>
<a id="L1289" name="L1289"></a>1289                 <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>    <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>;
<a id="L1290" name="L1290"></a>1290 
<a id="L1291" name="L1291"></a>1291                 <em class="comment">// Serialize the document declaration appreaing at the head</em>
<a id="L1292" name="L1292"></a>1292                 <em class="comment">// of very XML document (unless asked not to).</em>
<a id="L1293" name="L1293"></a>1293                 <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>( "&lt;?xml version=\"" );
<a id="L1294" name="L1294"></a>1294                 <strong class="reserved">if</strong> (_format.<a href="../D/23576.html" title="Multiple defined in 40 places.">getVersion</a>() != <strong class="reserved">null</strong>)
<a id="L1295" name="L1295"></a>1295                     <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( _format.<a href="../D/23576.html" title="Multiple defined in 40 places.">getVersion</a>() );
<a id="L1296" name="L1296"></a>1296                 <strong class="reserved">else</strong>
<a id="L1297" name="L1297"></a>1297                     <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "1.0" );
<a id="L1298" name="L1298"></a>1298                 <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( '"' );
<a id="L1299" name="L1299"></a>1299                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> format_encoding =  _format.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>();
<a id="L1300" name="L1300"></a>1300                 <strong class="reserved">if</strong> (format_encoding != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1301" name="L1301"></a>1301                     <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( " encoding=\"" );
<a id="L1302" name="L1302"></a>1302                     <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( format_encoding );
<a id="L1303" name="L1303"></a>1303                     <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( '"' );
<a id="L1304" name="L1304"></a>1304                 <em class="brace">}</em>
<a id="L1305" name="L1305"></a>1305                 <strong class="reserved">if</strong> (_format.<a href="../D/22692.html" title="Multiple defined in 9 places.">getStandalone</a>() &amp;&amp; _docTypeSystemId == <strong class="reserved">null</strong> &amp;&amp;
<a id="L1306" name="L1306"></a>1306                     _docTypePublicId == <strong class="reserved">null</strong>)
<a id="L1307" name="L1307"></a>1307                     <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( " standalone=\"yes\"" );
<a id="L1308" name="L1308"></a>1308                 <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>( "?&gt;" );
<a id="L1309" name="L1309"></a>1309                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../S/1629.html#L386" title="Defined at 386 in src/java/lang/invoke/LambdaFormEditor.java.">buffer</a> );
<a id="L1310" name="L1310"></a>1310                 _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L1311" name="L1311"></a>1311             <em class="brace">}</em>
<a id="L1312" name="L1312"></a>1312         <em class="brace">}</em>
<a id="L1313" name="L1313"></a>1313 
<a id="L1314" name="L1314"></a>1314         <em class="comment">// Always serialize these, even if not te first root element.</em>
<a id="L1315" name="L1315"></a>1315         <a href="../S/5797.html#L1502" title="Defined at 1502 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializePreRoot</a>();
<a id="L1316" name="L1316"></a>1316 
<a id="L1317" name="L1317"></a>1317     <em class="brace">}</em>
<a id="L1318" name="L1318"></a>1318 
<div class="comment">
 Serializes DTD, if present.</div>
<a id="L1321" name="L1321"></a>1321     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/5797.html#L1253" title="Referred from 1253 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">serializeDTD</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a><em class="brace">{</em>
<a id="L1322" name="L1322"></a>1322 
<a id="L1323" name="L1323"></a>1323         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> dtd = _printer.<a href="../D/26797.html" title="Multiple defined in 2 places.">leaveDTD</a>();
<a id="L1324" name="L1324"></a>1324         <strong class="reserved">if</strong> (! _format.<a href="../S/5804.html#L576" title="Defined at 576 in src/com/sun/org/apache/xml/internal/serialize/OutputFormat.java.">getOmitDocumentType</a>()) <em class="brace">{</em>
<a id="L1325" name="L1325"></a>1325             <strong class="reserved">if</strong> (_docTypeSystemId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1326" name="L1326"></a>1326                 <em class="comment">// System identifier must be specified to print DOCTYPE.</em>
<a id="L1327" name="L1327"></a>1327                 <em class="comment">// If public identifier is specified print 'PUBLIC</em>
<a id="L1328" name="L1328"></a>1328                 <em class="comment">// &lt;public&gt; &lt;system&gt;', if not, print 'SYSTEM &lt;system&gt;'.</em>
<a id="L1329" name="L1329"></a>1329                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!DOCTYPE " );
<a id="L1330" name="L1330"></a>1330                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L1331" name="L1331"></a>1331                 <strong class="reserved">if</strong> (_docTypePublicId != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1332" name="L1332"></a>1332                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " PUBLIC " );
<a id="L1333" name="L1333"></a>1333                     <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( _docTypePublicId );
<a id="L1334" name="L1334"></a>1334                     <strong class="reserved">if</strong> (_indenting) <em class="brace">{</em>
<a id="L1335" name="L1335"></a>1335                         _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L1336" name="L1336"></a>1336                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0 ; i &lt; 18 + <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() ; ++i)
<a id="L1337" name="L1337"></a>1337                             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " " );
<a id="L1338" name="L1338"></a>1338                     <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L1339" name="L1339"></a>1339                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " " );
<a id="L1340" name="L1340"></a>1340                     <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( _docTypeSystemId );
<a id="L1341" name="L1341"></a>1341                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1342" name="L1342"></a>1342                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " SYSTEM " );
<a id="L1343" name="L1343"></a>1343                     <a href="../S/5797.html#L1724" title="Defined at 1724 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printDoctypeURL</a>( _docTypeSystemId );
<a id="L1344" name="L1344"></a>1344                 <em class="brace">}</em>
<a id="L1345" name="L1345"></a>1345 
<a id="L1346" name="L1346"></a>1346                 <em class="comment">// If we accumulated any DTD contents while printing.</em>
<a id="L1347" name="L1347"></a>1347                 <em class="comment">// this would be the place to print it.</em>
<a id="L1348" name="L1348"></a>1348                 <strong class="reserved">if</strong> (dtd != <strong class="reserved">null</strong> &amp;&amp; dtd.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1349" name="L1349"></a>1349                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " [" );
<a id="L1350" name="L1350"></a>1350                     <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( dtd, <strong class="reserved">true</strong>, <strong class="reserved">true</strong> );
<a id="L1351" name="L1351"></a>1351                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ']' );
<a id="L1352" name="L1352"></a>1352                 <em class="brace">}</em>
<a id="L1353" name="L1353"></a>1353 
<a id="L1354" name="L1354"></a>1354                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&gt;" );
<a id="L1355" name="L1355"></a>1355                 _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L1356" name="L1356"></a>1356             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (dtd != <strong class="reserved">null</strong> &amp;&amp; dtd.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0) <em class="brace">{</em>
<a id="L1357" name="L1357"></a>1357                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&lt;!DOCTYPE " );
<a id="L1358" name="L1358"></a>1358                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> );
<a id="L1359" name="L1359"></a>1359                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( " [" );
<a id="L1360" name="L1360"></a>1360                 <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( dtd, <strong class="reserved">true</strong>, <strong class="reserved">true</strong> );
<a id="L1361" name="L1361"></a>1361                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "]&gt;" );
<a id="L1362" name="L1362"></a>1362                 _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L1363" name="L1363"></a>1363             <em class="brace">}</em>
<a id="L1364" name="L1364"></a>1364         <em class="brace">}</em>
<a id="L1365" name="L1365"></a>1365     <em class="brace">}</em>
<a id="L1366" name="L1366"></a>1366 
<a id="L1367" name="L1367"></a>1367 
<div class="comment">
      Must be called by a method about to print any type of content.
      If the element was just opened, the opening tag is closed and
      will be matched to a closing tag. Returns the current element
      state with <tt>empty</tt> and <tt>afterElement</tt> set to false.
      @return The current element state
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L1378" name="L1378"></a>1378     <strong class="reserved">protected</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../R/11982.html" title="Multiple referred from 577 places.">content</a>()
<a id="L1379" name="L1379"></a>1379         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1380" name="L1380"></a>1380     <em class="brace">{</em>
<a id="L1381" name="L1381"></a>1381         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1382" name="L1382"></a>1382 
<a id="L1383" name="L1383"></a>1383         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../S/5797.html#L1815" title="Defined at 1815 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getElementState</a>();
<a id="L1384" name="L1384"></a>1384         <strong class="reserved">if</strong> ( ! <a href="../S/5797.html#L1893" title="Defined at 1893 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">isDocumentState</a>() ) <em class="brace">{</em>
<a id="L1385" name="L1385"></a>1385             <em class="comment">// Need to close CData section first</em>
<a id="L1386" name="L1386"></a>1386             <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData &amp;&amp; ! <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData ) <em class="brace">{</em>
<a id="L1387" name="L1387"></a>1387                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "]]&gt;" );
<a id="L1388" name="L1388"></a>1388                 <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData = <strong class="reserved">false</strong>;
<a id="L1389" name="L1389"></a>1389             <em class="brace">}</em>
<a id="L1390" name="L1390"></a>1390             <em class="comment">// If this is the first content in the element,</em>
<a id="L1391" name="L1391"></a>1391             <em class="comment">// change the state to not-empty and close the</em>
<a id="L1392" name="L1392"></a>1392             <em class="comment">// opening element tag.</em>
<a id="L1393" name="L1393"></a>1393             <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> ) <em class="brace">{</em>
<a id="L1394" name="L1394"></a>1394                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&gt;' );
<a id="L1395" name="L1395"></a>1395                 <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> = <strong class="reserved">false</strong>;
<a id="L1396" name="L1396"></a>1396             <em class="brace">}</em>
<a id="L1397" name="L1397"></a>1397             <em class="comment">// Except for one content type, all of them</em>
<a id="L1398" name="L1398"></a>1398             <em class="comment">// are not last element. That one content</em>
<a id="L1399" name="L1399"></a>1399             <em class="comment">// type will take care of itself.</em>
<a id="L1400" name="L1400"></a>1400             <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterElement = <strong class="reserved">false</strong>;
<a id="L1401" name="L1401"></a>1401             <em class="comment">// Except for one content type, all of them</em>
<a id="L1402" name="L1402"></a>1402             <em class="comment">// are not last comment. That one content</em>
<a id="L1403" name="L1403"></a>1403             <em class="comment">// type will take care of itself.</em>
<a id="L1404" name="L1404"></a>1404             <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterComment = <strong class="reserved">false</strong>;
<a id="L1405" name="L1405"></a>1405         <em class="brace">}</em>
<a id="L1406" name="L1406"></a>1406         <strong class="reserved">return</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1407" name="L1407"></a>1407     <em class="brace">}</em>
<a id="L1408" name="L1408"></a>1408 
<a id="L1409" name="L1409"></a>1409 
<div class="comment">
      Called to print the text contents in the prevailing element format.
      Since this method is capable of printing text as CDATA, it is used
      for that purpose as well. White space handling is determined by the
      current element state. In addition, the output format can dictate
      whether the text is printed as CDATA or unescaped.
      @param text The text to print
      @param unescaped True is should print unescaped
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L1422" name="L1422"></a>1422     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/11056.html" title="Multiple referred from 150 places.">characters</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> )
<a id="L1423" name="L1423"></a>1423         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1424" name="L1424"></a>1424     <em class="brace">{</em>
<a id="L1425" name="L1425"></a>1425         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1426" name="L1426"></a>1426 
<a id="L1427" name="L1427"></a>1427         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>();
<a id="L1428" name="L1428"></a>1428         <em class="comment">// Check if text should be print as CDATA section or unescaped</em>
<a id="L1429" name="L1429"></a>1429         <em class="comment">// based on elements listed in the output format (the element</em>
<a id="L1430" name="L1430"></a>1430         <em class="comment">// state) or whether we are inside a CDATA section or entity.</em>
<a id="L1431" name="L1431"></a>1431 
<a id="L1432" name="L1432"></a>1432         <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData || <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData ) <em class="brace">{</em>
<a id="L1433" name="L1433"></a>1433             <strong class="reserved">int</strong>          <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1434" name="L1434"></a>1434             <strong class="reserved">int</strong>          saveIndent;
<a id="L1435" name="L1435"></a>1435 
<a id="L1436" name="L1436"></a>1436             <em class="comment">// Print a CDATA section. The text is not escaped, but ']]&gt;'</em>
<a id="L1437" name="L1437"></a>1437             <em class="comment">// appearing in the code must be identified and dealt with.</em>
<a id="L1438" name="L1438"></a>1438             <em class="comment">// The contents of a text node is considered space preserving.</em>
<a id="L1439" name="L1439"></a>1439             <strong class="reserved">if</strong> ( ! <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData ) <em class="brace">{</em>
<a id="L1440" name="L1440"></a>1440                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("&lt;![CDATA[");
<a id="L1441" name="L1441"></a>1441                 <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData = <strong class="reserved">true</strong>;
<a id="L1442" name="L1442"></a>1442             <em class="brace">}</em>
<a id="L1443" name="L1443"></a>1443             saveIndent = _printer.<a href="../D/20911.html" title="Multiple defined in 2 places.">getNextIndent</a>();
<a id="L1444" name="L1444"></a>1444             _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( 0 );
<a id="L1445" name="L1445"></a>1445             <a href="../D/29637.html" title="Multiple defined in 2 places.">printCDATAText</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>);
<a id="L1446" name="L1446"></a>1446             _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( saveIndent );
<a id="L1447" name="L1447"></a>1447 
<a id="L1448" name="L1448"></a>1448         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1449" name="L1449"></a>1449 
<a id="L1450" name="L1450"></a>1450             <strong class="reserved">int</strong> saveIndent;
<a id="L1451" name="L1451"></a>1451 
<a id="L1452" name="L1452"></a>1452             <strong class="reserved">if</strong> ( <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace ) <em class="brace">{</em>
<a id="L1453" name="L1453"></a>1453                 <em class="comment">// If preserving space then hold of indentation so no</em>
<a id="L1454" name="L1454"></a>1454                 <em class="comment">// excessive spaces are printed at line breaks, escape</em>
<a id="L1455" name="L1455"></a>1455                 <em class="comment">// the text content without replacing spaces and print</em>
<a id="L1456" name="L1456"></a>1456                 <em class="comment">// the text breaking only at line breaks.</em>
<a id="L1457" name="L1457"></a>1457                 saveIndent = _printer.<a href="../D/20911.html" title="Multiple defined in 2 places.">getNextIndent</a>();
<a id="L1458" name="L1458"></a>1458                 _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( 0 );
<a id="L1459" name="L1459"></a>1459                 <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">true</strong>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped );
<a id="L1460" name="L1460"></a>1460                 _printer.<a href="../D/33347.html" title="Multiple defined in 2 places.">setNextIndent</a>( saveIndent );
<a id="L1461" name="L1461"></a>1461             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1462" name="L1462"></a>1462                 <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">false</strong>, <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped );
<a id="L1463" name="L1463"></a>1463             <em class="brace">}</em>
<a id="L1464" name="L1464"></a>1464         <em class="brace">}</em>
<a id="L1465" name="L1465"></a>1465     <em class="brace">}</em>
<a id="L1466" name="L1466"></a>1466 
<a id="L1467" name="L1467"></a>1467 
<div class="comment">
      Returns the suitable entity reference for this character value,
      or null if no such entity exists. Calling this method with <tt>'&amp;'</tt>
      will return <tt>"&amp;amp;"</tt>.
      @param ch Character value
      @return Character entity name, or null</div>
<a id="L1476" name="L1476"></a>1476     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/5797.html#L1749" title="Referred from 1749 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">getEntityRef</a>( <strong class="reserved">int</strong> ch );
<a id="L1477" name="L1477"></a>1477 
<a id="L1478" name="L1478"></a>1478 
<div class="comment">
      Called to serializee the DOM element. The element is serialized based on
      the serializer's method (XML, HTML, XHTML).
      @param elem The element to serialize
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L1487" name="L1487"></a>1487     <strong class="reserved">protected</strong> <strong class="reserved">abstract</strong> <strong class="reserved">void</strong> <a href="../R/26811.html" title="Multiple referred from 2 places.">serializeElement</a>( <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elem )
<a id="L1488" name="L1488"></a>1488         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>;
<a id="L1489" name="L1489"></a>1489 
<a id="L1490" name="L1490"></a>1490 
<div class="comment">
      Comments and PIs cannot be serialized before the root element,
      because the root element serializes the document type, which
      generally comes first. Instead such PIs and comments are
      accumulated inside a vector and serialized by calling this
      method. Will be called when the root element is serialized
      and when the document finished serializing.
      @throws IOException An I/O exception occured while
        serializing</div>
<a id="L1502" name="L1502"></a>1502     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/26813.html" title="Multiple referred from 7 places.">serializePreRoot</a>()
<a id="L1503" name="L1503"></a>1503         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1504" name="L1504"></a>1504     <em class="brace">{</em>
<a id="L1505" name="L1505"></a>1505         <strong class="reserved">int</strong> i;
<a id="L1506" name="L1506"></a>1506 
<a id="L1507" name="L1507"></a>1507         <strong class="reserved">if</strong> ( _preRoot != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1508" name="L1508"></a>1508             <strong class="reserved">for</strong> ( i = 0 ; i &lt; _preRoot.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() ; ++i ) <em class="brace">{</em>
<a id="L1509" name="L1509"></a>1509                 <a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) _preRoot.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>( i ), <strong class="reserved">true</strong>, <strong class="reserved">true</strong> );
<a id="L1510" name="L1510"></a>1510                 <strong class="reserved">if</strong> ( _indenting )
<a id="L1511" name="L1511"></a>1511                 _printer.<a href="../D/11915.html" title="Multiple defined in 4 places.">breakLine</a>();
<a id="L1512" name="L1512"></a>1512             <em class="brace">}</em>
<a id="L1513" name="L1513"></a>1513             _preRoot.<a href="../D/30689.html" title="Multiple defined in 14 places.">removeAllElements</a>();
<a id="L1514" name="L1514"></a>1514         <em class="brace">}</em>
<a id="L1515" name="L1515"></a>1515     <em class="brace">}</em>
<a id="L1516" name="L1516"></a>1516 
<a id="L1517" name="L1517"></a>1517 
<a id="L1518" name="L1518"></a>1518     <em class="comment">//---------------------------------------------//</em>
<a id="L1519" name="L1519"></a>1519     <em class="comment">// Text pretty printing and formatting methods //</em>
<a id="L1520" name="L1520"></a>1520     <em class="comment">//---------------------------------------------//</em>
<a id="L1521" name="L1521"></a>1521 
<a id="L1522" name="L1522"></a>1522     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../S/5797.html#L1445" title="Referred from 1445 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printCDATAText</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> ) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1523" name="L1523"></a>1523         <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L1524" name="L1524"></a>1524         <strong class="reserved">char</strong> ch;
<a id="L1525" name="L1525"></a>1525 
<a id="L1526" name="L1526"></a>1526         <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0 ; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt;  <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L1527" name="L1527"></a>1527             ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> );
<a id="L1528" name="L1528"></a>1528             <strong class="reserved">if</strong> (ch == ']'
<a id="L1529" name="L1529"></a>1529                 &amp;&amp; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2 &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>
<a id="L1530" name="L1530"></a>1530                 &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 1) == ']'
<a id="L1531" name="L1531"></a>1531                 &amp;&amp; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> + 2) == '&gt;') <em class="brace">{</em> <em class="comment">// check for ']]&gt;'</em>
<a id="L1532" name="L1532"></a>1532                 <strong class="reserved">if</strong> (fDOMErrorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1533" name="L1533"></a>1533                     <em class="comment">// REVISIT: this means that if DOM Error handler is not registered we don't report any</em>
<a id="L1534" name="L1534"></a>1534                     <em class="comment">// fatal errors and might serialize not wellformed document</em>
<a id="L1535" name="L1535"></a>1535                     <strong class="reserved">if</strong> ((features &amp; <a href="../S/5808.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/serialize/DOMSerializerImpl.java.">DOMSerializerImpl</a>.SPLITCDATA) == 0) <em class="brace">{</em>
<a id="L1536" name="L1536"></a>1536                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L1537" name="L1537"></a>1537                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L1538" name="L1538"></a>1538                             "EndingCDATA",
<a id="L1539" name="L1539"></a>1539                             <strong class="reserved">null</strong>);
<a id="L1540" name="L1540"></a>1540                         <strong class="reserved">if</strong> ((features &amp; <a href="../S/5808.html#L82" title="Defined at 82 in src/com/sun/org/apache/xml/internal/serialize/DOMSerializerImpl.java.">DOMSerializerImpl</a>.WELLFORMED) != 0) <em class="brace">{</em>
<a id="L1541" name="L1541"></a>1541                             <em class="comment">// issue fatal error</em>
<a id="L1542" name="L1542"></a>1542                             <a href="../S/5797.html#L1938" title="Defined at 1938 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">modifyDOMError</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>, <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_FATAL_ERROR, "wf-invalid-character", fCurrentNode);
<a id="L1543" name="L1543"></a>1543                             fDOMErrorHandler.<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a>(fDOMError);
<a id="L1544" name="L1544"></a>1544                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/137.html#L58" title="Defined at 58 in src/org/w3c/dom/ls/LSException.java.">LSException</a>(<a href="../S/137.html#L58" title="Defined at 58 in src/org/w3c/dom/ls/LSException.java.">LSException</a>.SERIALIZE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1545" name="L1545"></a>1545                         <em class="brace">}</em>
<a id="L1546" name="L1546"></a>1546                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1547" name="L1547"></a>1547                             <em class="comment">// issue error</em>
<a id="L1548" name="L1548"></a>1548                             <a href="../S/5797.html#L1938" title="Defined at 1938 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">modifyDOMError</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>, <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_ERROR, "cdata-section-not-splitted", fCurrentNode);
<a id="L1549" name="L1549"></a>1549                             <strong class="reserved">if</strong> (!fDOMErrorHandler.<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a>(fDOMError)) <em class="brace">{</em>
<a id="L1550" name="L1550"></a>1550                                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/137.html#L58" title="Defined at 58 in src/org/w3c/dom/ls/LSException.java.">LSException</a>(<a href="../S/137.html#L58" title="Defined at 58 in src/org/w3c/dom/ls/LSException.java.">LSException</a>.SERIALIZE_ERR, <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1551" name="L1551"></a>1551                             <em class="brace">}</em>
<a id="L1552" name="L1552"></a>1552                         <em class="brace">}</em>
<a id="L1553" name="L1553"></a>1553                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1554" name="L1554"></a>1554                         <em class="comment">// issue warning</em>
<a id="L1555" name="L1555"></a>1555                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> =
<a id="L1556" name="L1556"></a>1556                             <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(
<a id="L1557" name="L1557"></a>1557                                 <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN,
<a id="L1558" name="L1558"></a>1558                                 "SplittingCDATA",
<a id="L1559" name="L1559"></a>1559                                 <strong class="reserved">null</strong>);
<a id="L1560" name="L1560"></a>1560                         <a href="../S/5797.html#L1938" title="Defined at 1938 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">modifyDOMError</a>(
<a id="L1561" name="L1561"></a>1561                             <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>,
<a id="L1562" name="L1562"></a>1562                             <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_WARNING,
<a id="L1563" name="L1563"></a>1563                             <strong class="reserved">null</strong>, fCurrentNode);
<a id="L1564" name="L1564"></a>1564                         fDOMErrorHandler.<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a>(fDOMError);
<a id="L1565" name="L1565"></a>1565                     <em class="brace">}</em>
<a id="L1566" name="L1566"></a>1566                 <em class="brace">}</em>
<a id="L1567" name="L1567"></a>1567                 <em class="comment">// split CDATA section</em>
<a id="L1568" name="L1568"></a>1568                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]]]&gt;&lt;![CDATA[&gt;");
<a id="L1569" name="L1569"></a>1569                 <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> += 2;
<a id="L1570" name="L1570"></a>1570                 <strong class="reserved">continue</strong>;
<a id="L1571" name="L1571"></a>1571             <em class="brace">}</em>
<a id="L1572" name="L1572"></a>1572 
<a id="L1573" name="L1573"></a>1573             <strong class="reserved">if</strong> (!<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>(ch)) <em class="brace">{</em>
<a id="L1574" name="L1574"></a>1574                 <em class="comment">// check if it is surrogate</em>
<a id="L1575" name="L1575"></a>1575                 <strong class="reserved">if</strong> (++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt;<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L1576" name="L1576"></a>1576                     <a href="../D/35140.html" title="Multiple defined in 2 places.">surrogates</a>(ch, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>));
<a id="L1577" name="L1577"></a>1577                 <em class="brace">}</em>
<a id="L1578" name="L1578"></a>1578                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1579" name="L1579"></a>1579                     <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)ch+"' is an invalid XML character");
<a id="L1580" name="L1580"></a>1580                 <em class="brace">}</em>
<a id="L1581" name="L1581"></a>1581                 <strong class="reserved">continue</strong>;
<a id="L1582" name="L1582"></a>1582             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1583" name="L1583"></a>1583                 <strong class="reserved">if</strong> ( ( ch &gt;= ' ' &amp;&amp; _encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>)ch) &amp;&amp; ch != 0xF7 ) ||
<a id="L1584" name="L1584"></a>1584                      ch == '\n' || ch == '\r' || ch == '\t' ) <em class="brace">{</em>
<a id="L1585" name="L1585"></a>1585                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)ch);
<a id="L1586" name="L1586"></a>1586                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1587" name="L1587"></a>1587 
<a id="L1588" name="L1588"></a>1588                     <em class="comment">// The character is not printable -- split CDATA section</em>
<a id="L1589" name="L1589"></a>1589                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]&gt;&amp;#x");
<a id="L1590" name="L1590"></a>1590                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(ch));
<a id="L1591" name="L1591"></a>1591                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";&lt;![CDATA[");
<a id="L1592" name="L1592"></a>1592                 <em class="brace">}</em>
<a id="L1593" name="L1593"></a>1593             <em class="brace">}</em>
<a id="L1594" name="L1594"></a>1594         <em class="brace">}</em>
<a id="L1595" name="L1595"></a>1595     <em class="brace">}</em>
<a id="L1596" name="L1596"></a>1596 
<a id="L1597" name="L1597"></a>1597 
<a id="L1598" name="L1598"></a>1598     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/29052.html" title="Multiple referred from 14 places.">surrogates</a>(<strong class="reserved">int</strong> high, <strong class="reserved">int</strong> low) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a><em class="brace">{</em>
<a id="L1599" name="L1599"></a>1599         <strong class="reserved">if</strong> (<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/25654.html" title="Multiple defined in 4 places.">isHighSurrogate</a>(high)) <em class="brace">{</em>
<a id="L1600" name="L1600"></a>1600             <strong class="reserved">if</strong> (!<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/25841.html" title="Multiple defined in 4 places.">isLowSurrogate</a>(low)) <em class="brace">{</em>
<a id="L1601" name="L1601"></a>1601                 <em class="comment">//Invalid XML</em>
<a id="L1602" name="L1602"></a>1602                 <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)low+"' is an invalid XML character");
<a id="L1603" name="L1603"></a>1603             <em class="brace">}</em>
<a id="L1604" name="L1604"></a>1604             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1605" name="L1605"></a>1605                 <strong class="reserved">int</strong> <a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a> = <a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>((<strong class="reserved">char</strong>)high, (<strong class="reserved">char</strong>)low);
<a id="L1606" name="L1606"></a>1606                 <strong class="reserved">if</strong> (!<a href="../D/9870.html" title="Multiple defined in 2 places.">XMLChar</a>.<a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>(<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>)) <em class="brace">{</em>
<a id="L1607" name="L1607"></a>1607                     <em class="comment">//Invalid XML</em>
<a id="L1608" name="L1608"></a>1608                     <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>+"' is an invalid XML character");
<a id="L1609" name="L1609"></a>1609                 <em class="brace">}</em>
<a id="L1610" name="L1610"></a>1610                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1611" name="L1611"></a>1611                     <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>().inCData ) <em class="brace">{</em>
<a id="L1612" name="L1612"></a>1612                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>("]]&gt;&amp;#x");
<a id="L1613" name="L1613"></a>1613                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>));
<a id="L1614" name="L1614"></a>1614                         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(";&lt;![CDATA[");
<a id="L1615" name="L1615"></a>1615                     <em class="brace">}</em>
<a id="L1616" name="L1616"></a>1616                     <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1617" name="L1617"></a>1617                         <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(<a href="../D/35050.html" title="Multiple defined in 2 places.">supplemental</a>);
<a id="L1618" name="L1618"></a>1618                     <em class="brace">}</em>
<a id="L1619" name="L1619"></a>1619                 <em class="brace">}</em>
<a id="L1620" name="L1620"></a>1620             <em class="brace">}</em>
<a id="L1621" name="L1621"></a>1621         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1622" name="L1622"></a>1622             <a href="../D/15986.html" title="Multiple defined in 31 places.">fatalError</a>("The character '"+(<strong class="reserved">char</strong>)high+"' is an invalid XML character");
<a id="L1623" name="L1623"></a>1623         <em class="brace">}</em>
<a id="L1624" name="L1624"></a>1624 
<a id="L1625" name="L1625"></a>1625     <em class="brace">}</em>
<a id="L1626" name="L1626"></a>1626 
<div class="comment">
      Called to print additional text with whitespace handling.
      If spaces are preserved, the text is printed as if by calling
      {@link #printText(String,boolean,boolean)} with a call to {@link Printer#breakLine}
      for each new line. If spaces are not preserved, the text is
      broken at space boundaries if longer than the line width;
      Multiple spaces are printed as such, but spaces at beginning
      of line are removed.
      @param text The text to print
      @param preserveSpace Space preserving flag
      @param unescaped Print unescaped</div>
<a id="L1640" name="L1640"></a>1640     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25050.html" title="Multiple referred from 288 places.">printText</a>( <strong class="reserved">char</strong>[] <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>, <strong class="reserved">int</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>,
<a id="L1641" name="L1641"></a>1641                                     <strong class="reserved">boolean</strong> preserveSpace, <strong class="reserved">boolean</strong> unescaped )
<a id="L1642" name="L1642"></a>1642         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1643" name="L1643"></a>1643     <em class="brace">{</em>
<a id="L1644" name="L1644"></a>1644         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1645" name="L1645"></a>1645         <strong class="reserved">char</strong> ch;
<a id="L1646" name="L1646"></a>1646 
<a id="L1647" name="L1647"></a>1647         <strong class="reserved">if</strong> ( preserveSpace ) <em class="brace">{</em>
<a id="L1648" name="L1648"></a>1648             <em class="comment">// Preserving spaces: the text must print exactly as it is,</em>
<a id="L1649" name="L1649"></a>1649             <em class="comment">// without breaking when spaces appear in the text and without</em>
<a id="L1650" name="L1650"></a>1650             <em class="comment">// consolidating spaces. If a line terminator is used, a line</em>
<a id="L1651" name="L1651"></a>1651             <em class="comment">// break will occur.</em>
<a id="L1652" name="L1652"></a>1652             <strong class="reserved">while</strong> ( <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0 ) <em class="brace">{</em>
<a id="L1653" name="L1653"></a>1653                 ch = <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> ];
<a id="L1654" name="L1654"></a>1654                 ++<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L1655" name="L1655"></a>1655                 <strong class="reserved">if</strong> ( ch == '\n' || ch == '\r' || unescaped )
<a id="L1656" name="L1656"></a>1656                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L1657" name="L1657"></a>1657                 <strong class="reserved">else</strong>
<a id="L1658" name="L1658"></a>1658                     <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>( ch );
<a id="L1659" name="L1659"></a>1659             <em class="brace">}</em>
<a id="L1660" name="L1660"></a>1660         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1661" name="L1661"></a>1661             <em class="comment">// Not preserving spaces: print one part at a time, and</em>
<a id="L1662" name="L1662"></a>1662             <em class="comment">// use spaces between parts to break them into different</em>
<a id="L1663" name="L1663"></a>1663             <em class="comment">// lines. Spaces at beginning of line will be stripped</em>
<a id="L1664" name="L1664"></a>1664             <em class="comment">// by printing mechanism. Line terminator is treated</em>
<a id="L1665" name="L1665"></a>1665             <em class="comment">// no different than other text part.</em>
<a id="L1666" name="L1666"></a>1666             <strong class="reserved">while</strong> ( <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-- &gt; 0 ) <em class="brace">{</em>
<a id="L1667" name="L1667"></a>1667                 ch = <a href="../D/12342.html" title="Multiple defined in 2 places.">chars</a>[ <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> ];
<a id="L1668" name="L1668"></a>1668                 ++<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>;
<a id="L1669" name="L1669"></a>1669                 <strong class="reserved">if</strong> ( ch == ' ' || ch == '\f' || ch == '\t' || ch == '\n' || ch == '\r' )
<a id="L1670" name="L1670"></a>1670                     _printer.<a href="../D/29701.html" title="Multiple defined in 3 places.">printSpace</a>();
<a id="L1671" name="L1671"></a>1671                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( unescaped )
<a id="L1672" name="L1672"></a>1672                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L1673" name="L1673"></a>1673                 <strong class="reserved">else</strong>
<a id="L1674" name="L1674"></a>1674                     <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>( ch );
<a id="L1675" name="L1675"></a>1675             <em class="brace">}</em>
<a id="L1676" name="L1676"></a>1676         <em class="brace">}</em>
<a id="L1677" name="L1677"></a>1677     <em class="brace">}</em>
<a id="L1678" name="L1678"></a>1678 
<a id="L1679" name="L1679"></a>1679 
<a id="L1680" name="L1680"></a>1680     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25050.html" title="Multiple referred from 288 places.">printText</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, <strong class="reserved">boolean</strong> preserveSpace, <strong class="reserved">boolean</strong> unescaped )
<a id="L1681" name="L1681"></a>1681         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1682" name="L1682"></a>1682     <em class="brace">{</em>
<a id="L1683" name="L1683"></a>1683         <strong class="reserved">int</strong> <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a>;
<a id="L1684" name="L1684"></a>1684         <strong class="reserved">char</strong> ch;
<a id="L1685" name="L1685"></a>1685 
<a id="L1686" name="L1686"></a>1686         <strong class="reserved">if</strong> ( preserveSpace ) <em class="brace">{</em>
<a id="L1687" name="L1687"></a>1687             <em class="comment">// Preserving spaces: the text must print exactly as it is,</em>
<a id="L1688" name="L1688"></a>1688             <em class="comment">// without breaking when spaces appear in the text and without</em>
<a id="L1689" name="L1689"></a>1689             <em class="comment">// consolidating spaces. If a line terminator is used, a line</em>
<a id="L1690" name="L1690"></a>1690             <em class="comment">// break will occur.</em>
<a id="L1691" name="L1691"></a>1691             <strong class="reserved">for</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0 ; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() ; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L1692" name="L1692"></a>1692                 ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> );
<a id="L1693" name="L1693"></a>1693                 <strong class="reserved">if</strong> ( ch == '\n' || ch == '\r' || unescaped )
<a id="L1694" name="L1694"></a>1694                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L1695" name="L1695"></a>1695                 <strong class="reserved">else</strong>
<a id="L1696" name="L1696"></a>1696                     <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>( ch );
<a id="L1697" name="L1697"></a>1697             <em class="brace">}</em>
<a id="L1698" name="L1698"></a>1698         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1699" name="L1699"></a>1699             <em class="comment">// Not preserving spaces: print one part at a time, and</em>
<a id="L1700" name="L1700"></a>1700             <em class="comment">// use spaces between parts to break them into different</em>
<a id="L1701" name="L1701"></a>1701             <em class="comment">// lines. Spaces at beginning of line will be stripped</em>
<a id="L1702" name="L1702"></a>1702             <em class="comment">// by printing mechanism. Line terminator is treated</em>
<a id="L1703" name="L1703"></a>1703             <em class="comment">// no different than other text part.</em>
<a id="L1704" name="L1704"></a>1704             <strong class="reserved">for</strong> ( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> = 0 ; <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> &lt; <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() ; ++<a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> ) <em class="brace">{</em>
<a id="L1705" name="L1705"></a>1705                 ch = <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( <a href="../D/24461.html" title="Multiple defined in 6 places.">index</a> );
<a id="L1706" name="L1706"></a>1706                 <strong class="reserved">if</strong> ( ch == ' ' || ch == '\f' || ch == '\t' || ch == '\n' || ch == '\r' )
<a id="L1707" name="L1707"></a>1707                     _printer.<a href="../D/29701.html" title="Multiple defined in 3 places.">printSpace</a>();
<a id="L1708" name="L1708"></a>1708                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( unescaped )
<a id="L1709" name="L1709"></a>1709                     _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ch );
<a id="L1710" name="L1710"></a>1710                 <strong class="reserved">else</strong>
<a id="L1711" name="L1711"></a>1711                     <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>( ch );
<a id="L1712" name="L1712"></a>1712             <em class="brace">}</em>
<a id="L1713" name="L1713"></a>1713         <em class="brace">}</em>
<a id="L1714" name="L1714"></a>1714     <em class="brace">}</em>
<a id="L1715" name="L1715"></a>1715 
<a id="L1716" name="L1716"></a>1716 
<div class="comment">
      Print a document type public or system identifier URL.
      Encapsulates the URL in double quotes, escapes non-printing
      characters and print it equivalent to {@link #printText}.
      @param url The document type url to print</div>
<a id="L1724" name="L1724"></a>1724     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25005.html" title="Multiple referred from 15 places.">printDoctypeURL</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> url )
<a id="L1725" name="L1725"></a>1725         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1726" name="L1726"></a>1726     <em class="brace">{</em>
<a id="L1727" name="L1727"></a>1727         <strong class="reserved">int</strong>                i;
<a id="L1728" name="L1728"></a>1728 
<a id="L1729" name="L1729"></a>1729         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '"' );
<a id="L1730" name="L1730"></a>1730         <strong class="reserved">for</strong>( i = 0 ; i &lt; url.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() ; ++i ) <em class="brace">{</em>
<a id="L1731" name="L1731"></a>1731             <strong class="reserved">if</strong> ( url.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( i ) == '"' ||  url.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( i ) &lt; 0x20 || url.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( i ) &gt; 0x7F ) <em class="brace">{</em>
<a id="L1732" name="L1732"></a>1732                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '%' );
<a id="L1733" name="L1733"></a>1733                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>( url.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( i ) ) );
<a id="L1734" name="L1734"></a>1734             <em class="brace">}</em> <strong class="reserved">else</strong>
<a id="L1735" name="L1735"></a>1735                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( url.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>( i ) );
<a id="L1736" name="L1736"></a>1736         <em class="brace">}</em>
<a id="L1737" name="L1737"></a>1737         _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '"' );
<a id="L1738" name="L1738"></a>1738     <em class="brace">}</em>
<a id="L1739" name="L1739"></a>1739 
<a id="L1740" name="L1740"></a>1740 
<a id="L1741" name="L1741"></a>1741     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25012.html" title="Multiple referred from 21 places.">printEscaped</a>( <strong class="reserved">int</strong> ch )
<a id="L1742" name="L1742"></a>1742         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1743" name="L1743"></a>1743     <em class="brace">{</em>
<a id="L1744" name="L1744"></a>1744         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> charRef;
<a id="L1745" name="L1745"></a>1745         <em class="comment">// If there is a suitable entity reference for this</em>
<a id="L1746" name="L1746"></a>1746         <em class="comment">// character, print it. The list of available entity</em>
<a id="L1747" name="L1747"></a>1747         <em class="comment">// references is almost but not identical between</em>
<a id="L1748" name="L1748"></a>1748         <em class="comment">// XML and HTML.</em>
<a id="L1749" name="L1749"></a>1749         charRef = <a href="../D/18801.html" title="Multiple defined in 4 places.">getEntityRef</a>( ch );
<a id="L1750" name="L1750"></a>1750         <strong class="reserved">if</strong> ( charRef != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1751" name="L1751"></a>1751             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( '&amp;' );
<a id="L1752" name="L1752"></a>1752             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( charRef );
<a id="L1753" name="L1753"></a>1753             _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ';' );
<a id="L1754" name="L1754"></a>1754         <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> ( ( ch &gt;= ' ' &amp;&amp; _encodingInfo.<a href="../D/26090.html" title="Multiple defined in 2 places.">isPrintable</a>((<strong class="reserved">char</strong>)ch) &amp;&amp; ch != 0xF7 ) ||
<a id="L1755" name="L1755"></a>1755                     ch == '\n' || ch == '\r' || ch == '\t' ) <em class="brace">{</em>
<a id="L1756" name="L1756"></a>1756             <em class="comment">// Non printables are below ASCII space but not tab or line</em>
<a id="L1757" name="L1757"></a>1757             <em class="comment">// terminator, ASCII delete, or above a certain Unicode threshold.</em>
<a id="L1758" name="L1758"></a>1758             <strong class="reserved">if</strong> (ch &lt; 0x10000) <em class="brace">{</em>
<a id="L1759" name="L1759"></a>1759                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)ch );
<a id="L1760" name="L1760"></a>1760             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1761" name="L1761"></a>1761                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)(((ch-0x10000)&gt;&gt;10)+0xd800));
<a id="L1762" name="L1762"></a>1762                 _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>((<strong class="reserved">char</strong>)(((ch-0x10000)&amp;0x3ff)+0xdc00));
<a id="L1763" name="L1763"></a>1763             <em class="brace">}</em>
<a id="L1764" name="L1764"></a>1764         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1765" name="L1765"></a>1765                         <a href="../S/5797.html#L1772" title="Defined at 1772 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">printHex</a>(ch);
<a id="L1766" name="L1766"></a>1766         <em class="brace">}</em>
<a id="L1767" name="L1767"></a>1767     <em class="brace">}</em>
<a id="L1768" name="L1768"></a>1768 
<div class="comment">
          Escapes chars</div>
<a id="L1772" name="L1772"></a>1772          <strong class="reserved">final</strong> <strong class="reserved">void</strong> <a href="../R/25018.html" title="Multiple referred from 11 places.">printHex</a>( <strong class="reserved">int</strong> ch) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1773" name="L1773"></a>1773                  _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( "&amp;#x" );
<a id="L1774" name="L1774"></a>1774                  _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>(<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(ch));
<a id="L1775" name="L1775"></a>1775                  _printer.<a href="../D/29710.html" title="Multiple defined in 15 places.">printText</a>( ';' );
<a id="L1776" name="L1776"></a>1776 
<a id="L1777" name="L1777"></a>1777          <em class="brace">}</em>
<a id="L1778" name="L1778"></a>1778 
<a id="L1779" name="L1779"></a>1779 
<div class="comment">
      Escapes a string so it may be printed as text content or attribute
      value. Non printable characters are escaped using character references.
      Where the format specifies a deault entity reference, that reference
      is used (e.g. <tt>&amp;lt;</tt>).
      @param source The string to escape</div>
<a id="L1788" name="L1788"></a>1788     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/25012.html" title="Multiple referred from 21 places.">printEscaped</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> )
<a id="L1789" name="L1789"></a>1789         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L1790" name="L1790"></a>1790     <em class="brace">{</em>
<a id="L1791" name="L1791"></a>1791         <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> i = 0 ; i &lt; <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() ; ++i ) <em class="brace">{</em>
<a id="L1792" name="L1792"></a>1792             <strong class="reserved">int</strong> ch = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i);
<a id="L1793" name="L1793"></a>1793             <strong class="reserved">if</strong> ((ch &amp; 0xfc00) == 0xd800 &amp;&amp; i+1 &lt; <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L1794" name="L1794"></a>1794                 <strong class="reserved">int</strong> lowch = <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(i+1);
<a id="L1795" name="L1795"></a>1795                 <strong class="reserved">if</strong> ((lowch &amp; 0xfc00) == 0xdc00) <em class="brace">{</em>
<a id="L1796" name="L1796"></a>1796                     ch = 0x10000 + ((ch-0xd800)&lt;&lt;10) + lowch-0xdc00;
<a id="L1797" name="L1797"></a>1797                     i++;
<a id="L1798" name="L1798"></a>1798                 <em class="brace">}</em>
<a id="L1799" name="L1799"></a>1799             <em class="brace">}</em>
<a id="L1800" name="L1800"></a>1800             <a href="../D/29660.html" title="Multiple defined in 4 places.">printEscaped</a>(ch);
<a id="L1801" name="L1801"></a>1801         <em class="brace">}</em>
<a id="L1802" name="L1802"></a>1802     <em class="brace">}</em>
<a id="L1803" name="L1803"></a>1803 
<a id="L1804" name="L1804"></a>1804 
<a id="L1805" name="L1805"></a>1805     <em class="comment">//--------------------------------//</em>
<a id="L1806" name="L1806"></a>1806     <em class="comment">// Element state handling methods //</em>
<a id="L1807" name="L1807"></a>1807     <em class="comment">//--------------------------------//</em>
<a id="L1808" name="L1808"></a>1808 
<a id="L1809" name="L1809"></a>1809 
<div class="comment">
      Return the state of the current element.
      @return Current element state</div>
<a id="L1815" name="L1815"></a>1815     <strong class="reserved">protected</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../R/16331.html" title="Multiple referred from 20 places.">getElementState</a>()
<a id="L1816" name="L1816"></a>1816     <em class="brace">{</em>
<a id="L1817" name="L1817"></a>1817         <strong class="reserved">return</strong> _elementStates[ _elementStateCount ];
<a id="L1818" name="L1818"></a>1818     <em class="brace">}</em>
<a id="L1819" name="L1819"></a>1819 
<a id="L1820" name="L1820"></a>1820 
<div class="comment">
      Enter a new element state for the specified element.
      Tag name and space preserving is specified, element
      state is initially empty.
      @return Current element state, or null</div>
<a id="L1828" name="L1828"></a>1828     <strong class="reserved">protected</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../R/13948.html" title="Multiple referred from 8 places.">enterElementState</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>,
<a id="L1829" name="L1829"></a>1829                                               <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rawName, <strong class="reserved">boolean</strong> preserveSpace )
<a id="L1830" name="L1830"></a>1830     <em class="brace">{</em>
<a id="L1831" name="L1831"></a>1831         <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1832" name="L1832"></a>1832 
<a id="L1833" name="L1833"></a>1833         <strong class="reserved">if</strong> ( _elementStateCount + 1 == _elementStates.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ) <em class="brace">{</em>
<a id="L1834" name="L1834"></a>1834             <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a>[] newStates;
<a id="L1835" name="L1835"></a>1835 
<a id="L1836" name="L1836"></a>1836             <em class="comment">// Need to create a larger array of states. This does not happen</em>
<a id="L1837" name="L1837"></a>1837             <em class="comment">// often, unless the document is really deep.</em>
<a id="L1838" name="L1838"></a>1838             newStates = <strong class="reserved">new</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a>[ _elementStates.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + 10 ];
<a id="L1839" name="L1839"></a>1839             <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> i = 0 ; i &lt; _elementStates.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; ++i )
<a id="L1840" name="L1840"></a>1840                 newStates[ i ] = _elementStates[ i ];
<a id="L1841" name="L1841"></a>1841             <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> i = _elementStates.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; i &lt; newStates.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> ; ++i )
<a id="L1842" name="L1842"></a>1842                 newStates[ i ] = <strong class="reserved">new</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a>();
<a id="L1843" name="L1843"></a>1843             _elementStates = newStates;
<a id="L1844" name="L1844"></a>1844         <em class="brace">}</em>
<a id="L1845" name="L1845"></a>1845 
<a id="L1846" name="L1846"></a>1846         ++_elementStateCount;
<a id="L1847" name="L1847"></a>1847         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a> = _elementStates[ _elementStateCount ];
<a id="L1848" name="L1848"></a>1848         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> = <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a>;
<a id="L1849" name="L1849"></a>1849         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> = <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>;
<a id="L1850" name="L1850"></a>1850         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.rawName = rawName;
<a id="L1851" name="L1851"></a>1851         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.preserveSpace = preserveSpace;
<a id="L1852" name="L1852"></a>1852         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.<a href="../D/15347.html" title="Multiple defined in 24 places.">empty</a> = <strong class="reserved">true</strong>;
<a id="L1853" name="L1853"></a>1853         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterElement = <strong class="reserved">false</strong>;
<a id="L1854" name="L1854"></a>1854         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.afterComment = <strong class="reserved">false</strong>;
<a id="L1855" name="L1855"></a>1855         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.doCData = <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.inCData = <strong class="reserved">false</strong>;
<a id="L1856" name="L1856"></a>1856         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.unescaped = <strong class="reserved">false</strong>;
<a id="L1857" name="L1857"></a>1857         <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>.prefixes = _prefixes;
<a id="L1858" name="L1858"></a>1858 
<a id="L1859" name="L1859"></a>1859         _prefixes = <strong class="reserved">null</strong>;
<a id="L1860" name="L1860"></a>1860         <strong class="reserved">return</strong> <a href="../D/34848.html" title="Multiple defined in 2 places.">state</a>;
<a id="L1861" name="L1861"></a>1861     <em class="brace">}</em>
<a id="L1862" name="L1862"></a>1862 
<a id="L1863" name="L1863"></a>1863 
<div class="comment">
      Leave the current element state and return to the
      state of the parent element. If this was the root
      element, return to the state of the document.
      @return Previous element state</div>
<a id="L1871" name="L1871"></a>1871     <strong class="reserved">protected</strong> <a href="../S/5795.html#L35" title="Defined at 35 in src/com/sun/org/apache/xml/internal/serialize/ElementState.java.">ElementState</a> <a href="../R/22462.html" title="Multiple referred from 3 places.">leaveElementState</a>()
<a id="L1872" name="L1872"></a>1872     <em class="brace">{</em>
<a id="L1873" name="L1873"></a>1873         <strong class="reserved">if</strong> ( _elementStateCount &gt; 0 ) <em class="brace">{</em>
<div class="comment">
             /*Corrected by David Blondeau (blondeau@intalio.com)*/</div>
<a id="L1875" name="L1875"></a>1875                 _prefixes = <strong class="reserved">null</strong>;
<a id="L1876" name="L1876"></a>1876                 <em class="comment">//_prefixes = _elementStates[ _elementStateCount ].prefixes;</em>
<a id="L1877" name="L1877"></a>1877             -- _elementStateCount;
<a id="L1878" name="L1878"></a>1878             <strong class="reserved">return</strong> _elementStates[ _elementStateCount ];
<a id="L1879" name="L1879"></a>1879         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1880" name="L1880"></a>1880             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.<a href="../D/16540.html" title="Multiple defined in 20 places.">formatMessage</a>(<a href="../S/5440.html#L36" title="Defined at 36 in src/com/sun/org/apache/xerces/internal/dom/DOMMessageFormatter.java.">DOMMessageFormatter</a>.SERIALIZER_DOMAIN, "Internal", <strong class="reserved">null</strong>);
<a id="L1881" name="L1881"></a>1881             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L1882" name="L1882"></a>1882         <em class="brace">}</em>
<a id="L1883" name="L1883"></a>1883     <em class="brace">}</em>
<a id="L1884" name="L1884"></a>1884 
<a id="L1885" name="L1885"></a>1885 
<div class="comment">
      Returns true if in the state of the document.
      Returns true before entering any element and after
      leaving the root element.
      @return True if in the state of the document</div>
<a id="L1893" name="L1893"></a>1893     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/21375.html" title="Multiple referred from 18 places.">isDocumentState</a>()
<a id="L1894" name="L1894"></a>1894     <em class="brace">{</em>
<a id="L1895" name="L1895"></a>1895         <strong class="reserved">return</strong> _elementStateCount == 0;
<a id="L1896" name="L1896"></a>1896     <em class="brace">}</em>
<a id="L1897" name="L1897"></a>1897 
<a id="L1898" name="L1898"></a>1898 
<div class="comment">
      Returns the namespace prefix for the specified URI.
      If the URI has been mapped to a prefix, returns the
      prefix, otherwise returns null.
      @param namespaceURI The namespace URI
      @return The namespace prefix if known, or null</div>
<a id="L1907" name="L1907"></a>1907     <strong class="reserved">protected</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/18418.html" title="Multiple referred from 112 places.">getPrefix</a>( <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> )
<a id="L1908" name="L1908"></a>1908     <em class="brace">{</em>
<a id="L1909" name="L1909"></a>1909         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>    <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L1910" name="L1910"></a>1910 
<a id="L1911" name="L1911"></a>1911         <strong class="reserved">if</strong> ( _prefixes != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1912" name="L1912"></a>1912             <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) _prefixes.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>( <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> );
<a id="L1913" name="L1913"></a>1913             <strong class="reserved">if</strong> ( <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> != <strong class="reserved">null</strong> )
<a id="L1914" name="L1914"></a>1914                 <strong class="reserved">return</strong> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L1915" name="L1915"></a>1915         <em class="brace">}</em>
<a id="L1916" name="L1916"></a>1916         <strong class="reserved">if</strong> ( _elementStateCount == 0 )
<a id="L1917" name="L1917"></a>1917             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1918" name="L1918"></a>1918         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1919" name="L1919"></a>1919             <strong class="reserved">for</strong> ( <strong class="reserved">int</strong> i = _elementStateCount ; i &gt; 0 ; --i ) <em class="brace">{</em>
<a id="L1920" name="L1920"></a>1920                 <strong class="reserved">if</strong> ( _elementStates[ i ].prefixes != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L1921" name="L1921"></a>1921                     <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) _elementStates[ i ].prefixes.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>( <a href="../S/3963.html#L58" title="Defined at 58 in src/javax/xml/bind/annotation/XmlNs.java.">namespaceURI</a> );
<a id="L1922" name="L1922"></a>1922                     <strong class="reserved">if</strong> ( <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a> != <strong class="reserved">null</strong> )
<a id="L1923" name="L1923"></a>1923                         <strong class="reserved">return</strong> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>;
<a id="L1924" name="L1924"></a>1924                 <em class="brace">}</em>
<a id="L1925" name="L1925"></a>1925             <em class="brace">}</em>
<a id="L1926" name="L1926"></a>1926         <em class="brace">}</em>
<a id="L1927" name="L1927"></a>1927         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L1928" name="L1928"></a>1928     <em class="brace">}</em>
<a id="L1929" name="L1929"></a>1929 
<div class="comment">
      The method modifies global DOM error object
      @param message
      @param severity
      @param type
      @return a DOMError</div>
<a id="L1938" name="L1938"></a>1938     <strong class="reserved">protected</strong> <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a> <a href="../R/23339.html" title="Multiple referred from 9 places.">modifyDOMError</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, <strong class="reserved">short</strong> severity, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)<em class="brace">{</em>
<a id="L1939" name="L1939"></a>1939             fDOMError.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L1940" name="L1940"></a>1940             fDOMError.fMessage = <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>;
<a id="L1941" name="L1941"></a>1941             fDOMError.fType = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L1942" name="L1942"></a>1942             fDOMError.fSeverity = severity;
<a id="L1943" name="L1943"></a>1943             fDOMError.fLocator = <strong class="reserved">new</strong> <a href="../S/5437.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/dom/DOMLocatorImpl.java.">DOMLocatorImpl</a>(-1, -1, -1, <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>, <strong class="reserved">null</strong>);
<a id="L1944" name="L1944"></a>1944             <strong class="reserved">return</strong> fDOMError;
<a id="L1945" name="L1945"></a>1945 
<a id="L1946" name="L1946"></a>1946     <em class="brace">}</em>
<a id="L1947" name="L1947"></a>1947 
<a id="L1948" name="L1948"></a>1948 
<a id="L1949" name="L1949"></a>1949     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14255.html" title="Multiple referred from 46 places.">fatalError</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a><em class="brace">{</em>
<a id="L1950" name="L1950"></a>1950         <strong class="reserved">if</strong> (fDOMErrorHandler != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1951" name="L1951"></a>1951             <a href="../S/5797.html#L1938" title="Defined at 1938 in src/com/sun/org/apache/xml/internal/serialize/BaseMarkupSerializer.java.">modifyDOMError</a>(<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>, <a href="../S/126.html#L49" title="Defined at 49 in src/org/w3c/dom/DOMError.java.">DOMError</a>.SEVERITY_FATAL_ERROR, <strong class="reserved">null</strong>, fCurrentNode);
<a id="L1952" name="L1952"></a>1952             fDOMErrorHandler.<a href="../D/23976.html" title="Multiple defined in 6 places.">handleError</a>(fDOMError);
<a id="L1953" name="L1953"></a>1953         <em class="brace">}</em>
<a id="L1954" name="L1954"></a>1954         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1955" name="L1955"></a>1955             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>(<a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>);
<a id="L1956" name="L1956"></a>1956         <em class="brace">}</em>
<a id="L1957" name="L1957"></a>1957     <em class="brace">}</em>
<a id="L1958" name="L1958"></a>1958 
<div class="comment">
          DOM level 3:
          Check a node to determine if it contains unbound namespace prefixes.
          @param node The node to check for unbound namespace prefices</div>
<a id="L1965" name="L1965"></a>1965          <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/11390.html" title="Multiple referred from 2 places.">checkUnboundNamespacePrefixedNode</a> (<a href="../D/6077.html" title="Multiple defined in 24 places.">Node</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a><em class="brace">{</em>
<a id="L1966" name="L1966"></a>1966 
<a id="L1967" name="L1967"></a>1967          <em class="brace">}</em>
<a id="L1968" name="L1968"></a>1968 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L265">[^]</a><a href="#L1965">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>