<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xml/internal/serializer/ToXMLStream.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L81">[^]</a><a href="#L625">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L81" title="Defined at 81.">CopyFrom</a></li>
<li><a href="#L119" title="Defined at 119.">startDocumentInternal</a></li>
<li><a href="#L198" title="Defined at 198.">endDocument</a></li>
<li><a href="#L231" title="Defined at 231.">startPreserving</a></li>
<li><a href="#L247" title="Defined at 247.">endPreserving</a></li>
<li><a href="#L265" title="Defined at 265.">processingInstruction</a></li>
<li><a href="#L366" title="Defined at 366.">entityReference</a></li>
<li><a href="#L403" title="Defined at 403.">addUniqueAttribute</a></li>
<li><a href="#L452" title="Defined at 452.">addAttribute</a></li>
<li><a href="#L530" title="Defined at 530.">endElement</a></li>
<li><a href="#L542" title="Defined at 542.">namespaceAfterStartElement</a></li>
<li><a href="#L571" title="Defined at 571.">pushNamespace</a></li>
<li><a href="#L595" title="Defined at 595.">reset</a></li>
<li><a href="#L610" title="Defined at 610.">resetToXMLStream</a></li>
<li><a href="#L625" title="Defined at 625.">getXMLVersion</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2004 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
      http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<div class="comment">
  $Id: ToXMLStream.java,v 1.2.4.2 2005/09/15 12:01:25 suresh_emailid Exp $</div>
<a id="L23" name="L23"></a>  23  <strong class="reserved">package</strong> com.sun.org.apache.xml.internal.serializer;
<a id="L24" name="L24"></a>  24 
<a id="L25" name="L25"></a>  25 <strong class="reserved">import</strong> java.io.IOException;
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> javax.xml.transform.ErrorListener;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> javax.xml.transform.Result;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> javax.xml.transform.Transformer;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> javax.xml.transform.TransformerException;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.serializer.utils.MsgKey;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xml.internal.serializer.utils.Utils;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> org.xml.sax.SAXException;
<a id="L35" name="L35"></a>  35 
<div class="comment">
  This class converts SAX or SAX-like calls to a
  serialized xml document.  The xsl:output method is "xml".
  This class is used explicitly in code generated by XSLTC,
  so it is "public", but it should
  be viewed as internal or package private, this is not an API.
  @xsl.usage internal</div>
<a id="L46" name="L46"></a>  46 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/8197.html" title="Multiple referred from 4 places.">ToXMLStream</a> <strong class="reserved">extends</strong> <a href="../S/5551.html#L55" title="Defined at 55 in src/com/sun/org/apache/xml/internal/serializer/ToStream.java.">ToStream</a>
<a id="L47" name="L47"></a>  47 <em class="brace">{</em>
<a id="L48" name="L48"></a>  48 
<div class="comment">
      remembers if we need to write out "]]&gt;" to close the CDATA</div>
<a id="L52" name="L52"></a>  52     <strong class="reserved">boolean</strong> m_cdataTagOpen = <strong class="reserved">false</strong>;
<a id="L53" name="L53"></a>  53 
<a id="L54" name="L54"></a>  54 
<div class="comment">
      Map that tells which XML characters should have special treatment, and it
       provides character to entity name lookup.</div>
<a id="L59" name="L59"></a>  59     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/5546.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">CharInfo</a> m_xmlcharInfo =
<a id="L60" name="L60"></a>  60 <em class="comment">//      new CharInfo(CharInfo.XML_ENTITIES_RESOURCE);</em>
<a id="L61" name="L61"></a>  61         <a href="../S/5546.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">CharInfo</a>.<a href="../S/5546.html#L479" title="Defined at 479 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">getCharInfoInternal</a>(<a href="../S/5546.html#L52" title="Defined at 52 in src/com/sun/org/apache/xml/internal/serializer/CharInfo.java.">CharInfo</a>.XML_ENTITIES_RESOURCE, <a href="../D/5605.html" title="Multiple defined in 4 places.">Method</a>.XML);
<a id="L62" name="L62"></a>  62 
<div class="comment">
      Default constructor.</div>
<a id="L66" name="L66"></a>  66     <strong class="reserved">public</strong> ToXMLStream()
<a id="L67" name="L67"></a>  67     <em class="brace">{</em>
<a id="L68" name="L68"></a>  68         m_charInfo = m_xmlcharInfo;
<a id="L69" name="L69"></a>  69 
<a id="L70" name="L70"></a>  70         <a href="../S/5556.html#L528" title="Defined at 528 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">initCDATA</a>();
<a id="L71" name="L71"></a>  71         <em class="comment">// initialize namespaces</em>
<a id="L72" name="L72"></a>  72         m_prefixMap = <strong class="reserved">new</strong> <a href="../S/5584.html#L67" title="Defined at 67 in src/com/sun/org/apache/xml/internal/serializer/NamespaceMappings.java.">NamespaceMappings</a>();
<a id="L73" name="L73"></a>  73 
<a id="L74" name="L74"></a>  74     <em class="brace">}</em>
<a id="L75" name="L75"></a>  75 
<div class="comment">
      Copy properties from another SerializerToXML.
      @param xmlListener non-null reference to a SerializerToXML object.</div>
<a id="L81" name="L81"></a>  81     <strong class="reserved">public</strong> <strong class="reserved">void</strong> CopyFrom(<a href="../S/5602.html#L46" title="Defined at 46 in src/com/sun/org/apache/xml/internal/serializer/ToXMLStream.java.">ToXMLStream</a> xmlListener)
<a id="L82" name="L82"></a>  82     <em class="brace">{</em>
<a id="L83" name="L83"></a>  83 
<a id="L84" name="L84"></a>  84         m_writer = xmlListener.m_writer;
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86 
<a id="L87" name="L87"></a>  87         <em class="comment">// m_outputStream = xmlListener.m_outputStream;</em>
<a id="L88" name="L88"></a>  88         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> = xmlListener.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>();
<a id="L89" name="L89"></a>  89         <a href="../D/32578.html" title="Multiple defined in 27 places.">setEncoding</a>(<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91         <a href="../D/33418.html" title="Multiple defined in 5 places.">setOmitXMLDeclaration</a>(xmlListener.<a href="../D/21196.html" title="Multiple defined in 5 places.">getOmitXMLDeclaration</a>());
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93         m_ispreserve = xmlListener.m_ispreserve;
<a id="L94" name="L94"></a>  94         m_preserves = xmlListener.m_preserves;
<a id="L95" name="L95"></a>  95         m_isprevtext = xmlListener.m_isprevtext;
<a id="L96" name="L96"></a>  96         m_doIndent = xmlListener.m_doIndent;
<a id="L97" name="L97"></a>  97         <a href="../D/32920.html" title="Multiple defined in 5 places.">setIndentAmount</a>(xmlListener.<a href="../D/19660.html" title="Multiple defined in 5 places.">getIndentAmount</a>());
<a id="L98" name="L98"></a>  98         m_startNewLine = xmlListener.m_startNewLine;
<a id="L99" name="L99"></a>  99         m_needToOutputDocTypeDecl = xmlListener.m_needToOutputDocTypeDecl;
<a id="L100" name="L100"></a> 100         <a href="../D/32492.html" title="Multiple defined in 4 places.">setDoctypeSystem</a>(xmlListener.<a href="../D/18552.html" title="Multiple defined in 5 places.">getDoctypeSystem</a>());
<a id="L101" name="L101"></a> 101         <a href="../D/32491.html" title="Multiple defined in 4 places.">setDoctypePublic</a>(xmlListener.<a href="../D/18551.html" title="Multiple defined in 5 places.">getDoctypePublic</a>());
<a id="L102" name="L102"></a> 102         <a href="../D/33994.html" title="Multiple defined in 10 places.">setStandalone</a>(xmlListener.<a href="../D/22692.html" title="Multiple defined in 9 places.">getStandalone</a>());
<a id="L103" name="L103"></a> 103         <a href="../D/33229.html" title="Multiple defined in 5 places.">setMediaType</a>(xmlListener.<a href="../D/20522.html" title="Multiple defined in 7 places.">getMediaType</a>());
<a id="L104" name="L104"></a> 104         m_maxCharacter = xmlListener.m_maxCharacter;
<a id="L105" name="L105"></a> 105         m_encodingInfo = xmlListener.m_encodingInfo;
<a id="L106" name="L106"></a> 106         m_spaceBeforeClose = xmlListener.m_spaceBeforeClose;
<a id="L107" name="L107"></a> 107         m_cdataStartCalled = xmlListener.m_cdataStartCalled;
<a id="L108" name="L108"></a> 108 
<a id="L109" name="L109"></a> 109     <em class="brace">}</em>
<a id="L110" name="L110"></a> 110 
<div class="comment">
      Receive notification of the beginning of a document.
      @throws org.xml.sax.SAXException Any SAX exception, possibly
                 wrapping another exception.
      @throws org.xml.sax.SAXException</div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28803.html" title="Multiple referred from 18 places.">startDocumentInternal</a>() <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L120" name="L120"></a> 120     <em class="brace">{</em>
<a id="L121" name="L121"></a> 121 
<a id="L122" name="L122"></a> 122         <strong class="reserved">if</strong> (m_needToCallStartDocument)
<a id="L123" name="L123"></a> 123         <em class="brace">{</em>
<a id="L124" name="L124"></a> 124             <strong class="reserved">super</strong>.<a href="../D/34771.html" title="Multiple defined in 5 places.">startDocumentInternal</a>();
<a id="L125" name="L125"></a> 125             m_needToCallStartDocument = <strong class="reserved">false</strong>;
<a id="L126" name="L126"></a> 126 
<a id="L127" name="L127"></a> 127             <strong class="reserved">if</strong> (m_inEntityRef)
<a id="L128" name="L128"></a> 128                 <strong class="reserved">return</strong>;
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130             m_needToOutputDocTypeDecl = <strong class="reserved">true</strong>;
<a id="L131" name="L131"></a> 131             m_startNewLine = <strong class="reserved">false</strong>;
<div class="comment">
 The call to getXMLVersion() might emit an error message
              and we should emit this message regardless of if we are
              writing out an XML header or not.</div>
<a id="L136" name="L136"></a> 136             <strong class="reserved">if</strong> (<a href="../D/21196.html" title="Multiple defined in 5 places.">getOmitXMLDeclaration</a>() == <strong class="reserved">false</strong>)
<a id="L137" name="L137"></a> 137             <em class="brace">{</em>
<a id="L138" name="L138"></a> 138                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a> = <a href="../D/2874.html" title="Multiple defined in 2 places.">Encodings</a>.<a href="../S/5600.html#L212" title="Defined at 212 in src/com/sun/org/apache/xml/internal/serializer/Encodings.java.">getMimeEncoding</a>(<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>());
<a id="L139" name="L139"></a> 139                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = <a href="../D/23576.html" title="Multiple defined in 40 places.">getVersion</a>();
<a id="L140" name="L140"></a> 140                 <strong class="reserved">if</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> == <strong class="reserved">null</strong>)
<a id="L141" name="L141"></a> 141                     <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = "1.0";
<a id="L142" name="L142"></a> 142                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> standalone;
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144                 <strong class="reserved">if</strong> (m_standaloneWasSpecified)
<a id="L145" name="L145"></a> 145                 <em class="brace">{</em>
<a id="L146" name="L146"></a> 146                     standalone = " standalone=\"" + <a href="../D/22692.html" title="Multiple defined in 9 places.">getStandalone</a>() + "\"";
<a id="L147" name="L147"></a> 147                 <em class="brace">}</em>
<a id="L148" name="L148"></a> 148                 <strong class="reserved">else</strong>
<a id="L149" name="L149"></a> 149                 <em class="brace">{</em>
<a id="L150" name="L150"></a> 150                     standalone = "";
<a id="L151" name="L151"></a> 151                 <em class="brace">}</em>
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153                 <strong class="reserved">try</strong>
<a id="L154" name="L154"></a> 154                 <em class="brace">{</em>
<a id="L155" name="L155"></a> 155                     <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a> = m_writer;
<a id="L156" name="L156"></a> 156                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("&lt;?xml version=\"");
<a id="L157" name="L157"></a> 157                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>);
<a id="L158" name="L158"></a> 158                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("\" encoding=\"");
<a id="L159" name="L159"></a> 159                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/1437.html#L371" title="Defined at 371 in src/java/io/Console.java.">encoding</a>);
<a id="L160" name="L160"></a> 160                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('\"');
<a id="L161" name="L161"></a> 161                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(standalone);
<a id="L162" name="L162"></a> 162                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("?&gt;");
<a id="L163" name="L163"></a> 163                     <strong class="reserved">if</strong> (m_doIndent) <em class="brace">{</em>
<a id="L164" name="L164"></a> 164                         <strong class="reserved">if</strong> (m_standaloneWasSpecified
<a id="L165" name="L165"></a> 165                                 || <a href="../D/18551.html" title="Multiple defined in 5 places.">getDoctypePublic</a>() != <strong class="reserved">null</strong>
<a id="L166" name="L166"></a> 166                                 || <a href="../D/18552.html" title="Multiple defined in 5 places.">getDoctypeSystem</a>() != <strong class="reserved">null</strong>
<a id="L167" name="L167"></a> 167                                 || m_isStandalone) <em class="brace">{</em>
<a id="L168" name="L168"></a> 168                             <em class="comment">// We almost never put a newline after the XML</em>
<a id="L169" name="L169"></a> 169                             <em class="comment">// header because this XML could be used as</em>
<a id="L170" name="L170"></a> 170                             <em class="comment">// an extenal general parsed entity</em>
<a id="L171" name="L171"></a> 171                             <em class="comment">// and we don't know the context into which it</em>
<a id="L172" name="L172"></a> 172                             <em class="comment">// will be used in the future.  Only when</em>
<a id="L173" name="L173"></a> 173                             <em class="comment">// standalone, or a doctype system or public is</em>
<a id="L174" name="L174"></a> 174                             <em class="comment">// specified are we free to insert a new line</em>
<a id="L175" name="L175"></a> 175                             <em class="comment">// after the header.  Is it even worth bothering</em>
<a id="L176" name="L176"></a> 176                             <em class="comment">// in these rare cases?</em>
<a id="L177" name="L177"></a> 177                             <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(m_lineSep, 0, m_lineSepLen);
<a id="L178" name="L178"></a> 178                         <em class="brace">}</em>
<a id="L179" name="L179"></a> 179                     <em class="brace">}</em>
<a id="L180" name="L180"></a> 180                 <em class="brace">}</em>
<a id="L181" name="L181"></a> 181                 <strong class="reserved">catch</strong>(<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e)
<a id="L182" name="L182"></a> 182                 <em class="brace">{</em>
<a id="L183" name="L183"></a> 183                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>(e);
<a id="L184" name="L184"></a> 184                 <em class="brace">}</em>
<a id="L185" name="L185"></a> 185 
<a id="L186" name="L186"></a> 186             <em class="brace">}</em>
<a id="L187" name="L187"></a> 187         <em class="brace">}</em>
<a id="L188" name="L188"></a> 188     <em class="brace">}</em>
<a id="L189" name="L189"></a> 189 
<div class="comment">
      Receive notification of the end of a document.
      @throws org.xml.sax.SAXException Any SAX exception, possibly
                 wrapping another exception.
      @throws org.xml.sax.SAXException</div>
<a id="L198" name="L198"></a> 198     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13761.html" title="Multiple referred from 58 places.">endDocument</a>() <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L199" name="L199"></a> 199     <em class="brace">{</em>
<a id="L200" name="L200"></a> 200         <a href="../D/16486.html" title="Multiple defined in 7 places.">flushPending</a>();
<a id="L201" name="L201"></a> 201         <strong class="reserved">if</strong> (m_doIndent &amp;&amp; !m_isprevtext)
<a id="L202" name="L202"></a> 202         <em class="brace">{</em>
<a id="L203" name="L203"></a> 203             <strong class="reserved">try</strong>
<a id="L204" name="L204"></a> 204             <em class="brace">{</em>
<a id="L205" name="L205"></a> 205             <a href="../S/5551.html#L420" title="Defined at 420 in src/com/sun/org/apache/xml/internal/serializer/ToStream.java.">outputLineSep</a>();
<a id="L206" name="L206"></a> 206             <em class="brace">}</em>
<a id="L207" name="L207"></a> 207             <strong class="reserved">catch</strong>(<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e)
<a id="L208" name="L208"></a> 208             <em class="brace">{</em>
<a id="L209" name="L209"></a> 209                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>(e);
<a id="L210" name="L210"></a> 210             <em class="brace">}</em>
<a id="L211" name="L211"></a> 211         <em class="brace">}</em>
<a id="L212" name="L212"></a> 212 
<a id="L213" name="L213"></a> 213         <a href="../S/5551.html#L275" title="Defined at 275 in src/com/sun/org/apache/xml/internal/serializer/ToStream.java.">flushWriter</a>();
<a id="L214" name="L214"></a> 214 
<a id="L215" name="L215"></a> 215         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L216" name="L216"></a> 216             <strong class="reserved">super</strong>.<a href="../S/5556.html#L1146" title="Defined at 1146 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireEndDoc</a>();
<a id="L217" name="L217"></a> 217     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218 
<div class="comment">
      Starts a whitespace preserving section. All characters printed
      within a preserving section are printed without indentation and
      without consolidating multiple spaces. This is equivalent to
      the <tt>xml:space="preserve"</tt> attribute. Only XML
      and HTML serializers need to support this method.
      <p>
      The contents of the whitespace preserving section will be delivered
      through the regular <tt>characters</tt> event.
      @throws org.xml.sax.SAXException</p></div>
<a id="L231" name="L231"></a> 231     <strong class="reserved">public</strong> <strong class="reserved">void</strong> startPreserving() <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L232" name="L232"></a> 232     <em class="brace">{</em>
<a id="L233" name="L233"></a> 233 
<a id="L234" name="L234"></a> 234         <em class="comment">// Not sure this is really what we want.  -sb</em>
<a id="L235" name="L235"></a> 235         m_preserves.<a href="../D/29933.html" title="Multiple defined in 37 places.">push</a>(<strong class="reserved">true</strong>);
<a id="L236" name="L236"></a> 236 
<a id="L237" name="L237"></a> 237         m_ispreserve = <strong class="reserved">true</strong>;
<a id="L238" name="L238"></a> 238     <em class="brace">}</em>
<a id="L239" name="L239"></a> 239 
<div class="comment">
      Ends a whitespace preserving section.
      @see #startPreserving
      @throws org.xml.sax.SAXException</div>
<a id="L247" name="L247"></a> 247     <strong class="reserved">public</strong> <strong class="reserved">void</strong> endPreserving() <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L248" name="L248"></a> 248     <em class="brace">{</em>
<a id="L249" name="L249"></a> 249 
<a id="L250" name="L250"></a> 250         <em class="comment">// Not sure this is really what we want.  -sb</em>
<a id="L251" name="L251"></a> 251         m_ispreserve = m_preserves.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>() ? <strong class="reserved">false</strong> : m_preserves.<a href="../D/29416.html" title="Multiple defined in 30 places.">pop</a>();
<a id="L252" name="L252"></a> 252     <em class="brace">}</em>
<a id="L253" name="L253"></a> 253 
<div class="comment">
      Receive notification of a processing instruction.
      @param target The processing instruction target.
      @param data The processing instruction data, or null if
             none was supplied.
      @throws org.xml.sax.SAXException Any SAX exception, possibly
                 wrapping another exception.
      @throws org.xml.sax.SAXException</div>
<a id="L265" name="L265"></a> 265     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25204.html" title="Multiple referred from 66 places.">processingInstruction</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>)
<a id="L266" name="L266"></a> 266         <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L267" name="L267"></a> 267     <em class="brace">{</em>
<a id="L268" name="L268"></a> 268         <strong class="reserved">if</strong> (m_inEntityRef)
<a id="L269" name="L269"></a> 269             <strong class="reserved">return</strong>;
<a id="L270" name="L270"></a> 270 
<a id="L271" name="L271"></a> 271         <a href="../D/16486.html" title="Multiple defined in 7 places.">flushPending</a>();
<a id="L272" name="L272"></a> 272 
<a id="L273" name="L273"></a> 273         <strong class="reserved">if</strong> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/7352.html" title="Multiple defined in 5 places.">Result</a>.PI_DISABLE_OUTPUT_ESCAPING))
<a id="L274" name="L274"></a> 274         <em class="brace">{</em>
<a id="L275" name="L275"></a> 275             <a href="../D/34805.html" title="Multiple defined in 2 places.">startNonEscaping</a>();
<a id="L276" name="L276"></a> 276         <em class="brace">}</em>
<a id="L277" name="L277"></a> 277         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/7352.html" title="Multiple defined in 5 places.">Result</a>.PI_ENABLE_OUTPUT_ESCAPING))
<a id="L278" name="L278"></a> 278         <em class="brace">{</em>
<a id="L279" name="L279"></a> 279             <a href="../D/15462.html" title="Multiple defined in 2 places.">endNonEscaping</a>();
<a id="L280" name="L280"></a> 280         <em class="brace">}</em>
<a id="L281" name="L281"></a> 281         <strong class="reserved">else</strong>
<a id="L282" name="L282"></a> 282         <em class="brace">{</em>
<a id="L283" name="L283"></a> 283             <strong class="reserved">try</strong>
<a id="L284" name="L284"></a> 284             <em class="brace">{</em>
<a id="L285" name="L285"></a> 285                 <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L286" name="L286"></a> 286                 <em class="brace">{</em>
<a id="L287" name="L287"></a> 287                     <a href="../D/12943.html" title="Multiple defined in 5 places.">closeStartTag</a>();
<a id="L288" name="L288"></a> 288                     m_elemContext.m_startTagOpen = <strong class="reserved">false</strong>;
<a id="L289" name="L289"></a> 289                 <em class="brace">}</em>
<a id="L290" name="L290"></a> 290                 <strong class="reserved">else</strong> <strong class="reserved">if</strong> (m_needToCallStartDocument)
<a id="L291" name="L291"></a> 291                     <a href="../D/34771.html" title="Multiple defined in 5 places.">startDocumentInternal</a>();
<a id="L292" name="L292"></a> 292 
<a id="L293" name="L293"></a> 293                 <strong class="reserved">if</strong> (<a href="../S/5551.html#L2521" title="Defined at 2521 in src/com/sun/org/apache/xml/internal/serializer/ToStream.java.">shouldIndent</a>())
<a id="L294" name="L294"></a> 294                     <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>();
<a id="L295" name="L295"></a> 295 
<a id="L296" name="L296"></a> 296                 <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a> = m_writer;
<a id="L297" name="L297"></a> 297                 <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("&lt;?");
<a id="L298" name="L298"></a> 298                 <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>);
<a id="L299" name="L299"></a> 299 
<a id="L300" name="L300"></a> 300                 <strong class="reserved">if</strong> (<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() &gt; 0
<a id="L301" name="L301"></a> 301                     &amp;&amp; !<a href="../S/1732.html#L123" title="Defined at 123 in src/java/lang/Character.java.">Character</a>.<a href="../D/26262.html" title="Multiple defined in 2 places.">isSpaceChar</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(0)))
<a id="L302" name="L302"></a> 302                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(' ');
<a id="L303" name="L303"></a> 303 
<a id="L304" name="L304"></a> 304                 <strong class="reserved">int</strong> indexOfQLT = <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>("?&gt;");
<a id="L305" name="L305"></a> 305 
<a id="L306" name="L306"></a> 306                 <strong class="reserved">if</strong> (indexOfQLT &gt;= 0)
<a id="L307" name="L307"></a> 307                 <em class="brace">{</em>
<a id="L308" name="L308"></a> 308 
<a id="L309" name="L309"></a> 309                     <em class="comment">// See XSLT spec on error recovery of "?&gt;" in PIs.</em>
<a id="L310" name="L310"></a> 310                     <strong class="reserved">if</strong> (indexOfQLT &gt; 0)
<a id="L311" name="L311"></a> 311                     <em class="brace">{</em>
<a id="L312" name="L312"></a> 312                         <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, indexOfQLT));
<a id="L313" name="L313"></a> 313                     <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("? &gt;"); <em class="comment">// add space between.</em>
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317                     <strong class="reserved">if</strong> ((indexOfQLT + 2) &lt; <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>())
<a id="L318" name="L318"></a> 318                     <em class="brace">{</em>
<a id="L319" name="L319"></a> 319                         <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(indexOfQLT + 2));
<a id="L320" name="L320"></a> 320                     <em class="brace">}</em>
<a id="L321" name="L321"></a> 321                 <em class="brace">}</em>
<a id="L322" name="L322"></a> 322                 <strong class="reserved">else</strong>
<a id="L323" name="L323"></a> 323                 <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L325" name="L325"></a> 325                 <em class="brace">}</em>
<a id="L326" name="L326"></a> 326 
<a id="L327" name="L327"></a> 327                 <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('?');
<a id="L328" name="L328"></a> 328                 <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('&gt;');
<a id="L329" name="L329"></a> 329 
<div class="comment">
                  Before Xalan 1497, a newline char was printed out if not inside of an
                  element. The whitespace is not significant is the output is standalone</div>
<a id="L334" name="L334"></a> 334                 <strong class="reserved">if</strong> (m_elemContext.m_currentElemDepth &lt;= 0 &amp;&amp; m_isStandalone)
<a id="L335" name="L335"></a> 335                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(m_lineSep, 0, m_lineSepLen);
<a id="L336" name="L336"></a> 336 
<a id="L337" name="L337"></a> 337 
<div class="comment">
                  Don't write out any indentation whitespace now,
                  because there may be non-whitespace text after this.
                  Simply mark that at this point if we do decide
                  to indent that we should
                  add a newline on the end of the current line before
                  the indentation at the start of the next line.</div>
<a id="L347" name="L347"></a> 347                 m_startNewLine = <strong class="reserved">true</strong>;
<a id="L348" name="L348"></a> 348             <em class="brace">}</em>
<a id="L349" name="L349"></a> 349             <strong class="reserved">catch</strong>(<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e)
<a id="L350" name="L350"></a> 350             <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>(e);
<a id="L352" name="L352"></a> 352             <em class="brace">}</em>
<a id="L353" name="L353"></a> 353         <em class="brace">}</em>
<a id="L354" name="L354"></a> 354 
<a id="L355" name="L355"></a> 355         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L356" name="L356"></a> 356             <strong class="reserved">super</strong>.<a href="../S/5556.html#L1191" title="Defined at 1191 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireEscapingEvent</a>(<a href="../D/35216.html" title="Multiple defined in 4 places.">target</a>, <a href="../S/6040.html#L177" title="Defined at 177 in src/com/sun/org/apache/xalan/internal/xsltc/dom/BitArray.java.">data</a>);
<a id="L357" name="L357"></a> 357     <em class="brace">}</em>
<a id="L358" name="L358"></a> 358 
<div class="comment">
      Receive notivication of a entityReference.
      @param name The name of the entity.
      @throws org.xml.sax.SAXException</div>
<a id="L366" name="L366"></a> 366     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5544.html#L1268" title="Referred from 1268 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">entityReference</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> org.xml.sax.<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L367" name="L367"></a> 367     <em class="brace">{</em>
<a id="L368" name="L368"></a> 368         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L369" name="L369"></a> 369         <em class="brace">{</em>
<a id="L370" name="L370"></a> 370             <a href="../D/12943.html" title="Multiple defined in 5 places.">closeStartTag</a>();
<a id="L371" name="L371"></a> 371             m_elemContext.m_startTagOpen = <strong class="reserved">false</strong>;
<a id="L372" name="L372"></a> 372         <em class="brace">}</em>
<a id="L373" name="L373"></a> 373 
<a id="L374" name="L374"></a> 374         <strong class="reserved">try</strong>
<a id="L375" name="L375"></a> 375         <em class="brace">{</em>
<a id="L376" name="L376"></a> 376             <strong class="reserved">if</strong> (<a href="../S/5551.html#L2521" title="Defined at 2521 in src/com/sun/org/apache/xml/internal/serializer/ToStream.java.">shouldIndent</a>())
<a id="L377" name="L377"></a> 377                 <a href="../D/24457.html" title="Multiple defined in 13 places.">indent</a>();
<a id="L378" name="L378"></a> 378 
<a id="L379" name="L379"></a> 379             <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a> = m_writer;
<a id="L380" name="L380"></a> 380             <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('&amp;');
<a id="L381" name="L381"></a> 381             <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L382" name="L382"></a> 382             <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(';');
<a id="L383" name="L383"></a> 383         <em class="brace">}</em>
<a id="L384" name="L384"></a> 384         <strong class="reserved">catch</strong>(<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e)
<a id="L385" name="L385"></a> 385         <em class="brace">{</em>
<a id="L386" name="L386"></a> 386             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>(e);
<a id="L387" name="L387"></a> 387         <em class="brace">}</em>
<a id="L388" name="L388"></a> 388 
<a id="L389" name="L389"></a> 389         <strong class="reserved">if</strong> (m_tracer != <strong class="reserved">null</strong>)
<a id="L390" name="L390"></a> 390             <strong class="reserved">super</strong>.<a href="../S/5556.html#L1207" title="Defined at 1207 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">fireEntityReference</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L391" name="L391"></a> 391     <em class="brace">}</em>
<a id="L392" name="L392"></a> 392 
<div class="comment">
      This method is used to add an attribute to the currently open element.
      The caller has guaranted that this attribute is unique, which means that it
      not been seen before and will not be seen again.
      @param name the qualified name of the attribute
      @param value the value of the attribute which can contain only
      ASCII printable characters characters in the range 32 to 127 inclusive.
      @param flags the bit values of this integer give optimization information.</div>
<a id="L403" name="L403"></a> 403     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/5544.html#L330" title="Referred from 330 in src/com/sun/org/apache/xml/internal/serializer/ToUnknownStream.java.">addUniqueAttribute</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">int</strong> <a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a>)
<a id="L404" name="L404"></a> 404         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L405" name="L405"></a> 405     <em class="brace">{</em>
<a id="L406" name="L406"></a> 406         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L407" name="L407"></a> 407         <em class="brace">{</em>
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409             <strong class="reserved">try</strong>
<a id="L410" name="L410"></a> 410             <em class="brace">{</em>
<a id="L411" name="L411"></a> 411                 <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> patchedName = <a href="../S/5556.html#L259" title="Defined at 259 in src/com/sun/org/apache/xml/internal/serializer/SerializerBase.java.">patchName</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L412" name="L412"></a> 412                 <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a> = m_writer;
<a id="L413" name="L413"></a> 413                 <strong class="reserved">if</strong> ((<a href="../D/16441.html" title="Multiple defined in 7 places.">flags</a> &amp; NO_BAD_CHARS) &gt; 0 &amp;&amp; m_xmlcharInfo.onlyQuotAmpLtGt)
<a id="L414" name="L414"></a> 414                 <em class="brace">{</em>
<a id="L415" name="L415"></a> 415                     <em class="comment">// "flags" has indicated that the characters</em>
<a id="L416" name="L416"></a> 416                     <em class="comment">// '&gt;'  '&lt;'   '&amp;'  and '"' are not in the value and</em>
<a id="L417" name="L417"></a> 417                     <em class="comment">// m_htmlcharInfo has recorded that there are no other</em>
<a id="L418" name="L418"></a> 418                     <em class="comment">// entities in the range 32 to 127 so we write out the</em>
<a id="L419" name="L419"></a> 419                     <em class="comment">// value directly</em>
<a id="L420" name="L420"></a> 420 
<a id="L421" name="L421"></a> 421                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(' ');
<a id="L422" name="L422"></a> 422                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(patchedName);
<a id="L423" name="L423"></a> 423                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("=\"");
<a id="L424" name="L424"></a> 424                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>);
<a id="L425" name="L425"></a> 425                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('"');
<a id="L426" name="L426"></a> 426                 <em class="brace">}</em>
<a id="L427" name="L427"></a> 427                 <strong class="reserved">else</strong>
<a id="L428" name="L428"></a> 428                 <em class="brace">{</em>
<a id="L429" name="L429"></a> 429                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(' ');
<a id="L430" name="L430"></a> 430                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>(patchedName);
<a id="L431" name="L431"></a> 431                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>("=\"");
<a id="L432" name="L432"></a> 432                     <a href="../D/36983.html" title="Multiple defined in 2 places.">writeAttrString</a>(<a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, <strong class="reserved">this</strong>.<a href="../D/18747.html" title="Multiple defined in 37 places.">getEncoding</a>());
<a id="L433" name="L433"></a> 433                     <a href="../S/1437.html#L100" title="Defined at 100 in src/java/io/Console.java.">writer</a>.<a href="../D/36968.html" title="Multiple defined in 508 places.">write</a>('"');
<a id="L434" name="L434"></a> 434                 <em class="brace">}</em>
<a id="L435" name="L435"></a> 435             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> e) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>(e);
<a id="L437" name="L437"></a> 437             <em class="brace">}</em>
<a id="L438" name="L438"></a> 438         <em class="brace">}</em>
<a id="L439" name="L439"></a> 439     <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Add an attribute to the current element.
      @param uri the URI associated with the element name
      @param localName local part of the attribute name
      @param rawName   prefix:localName
      @param type
      @param value the value of the attribute
      @param xslAttribute true if this attribute is from an xsl:attribute,
      false if declared within the elements opening tag.
      @throws SAXException</div>
<a id="L452" name="L452"></a> 452     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9616.html" title="Multiple referred from 451 places.">addAttribute</a>(
<a id="L453" name="L453"></a> 453         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri,
<a id="L454" name="L454"></a> 454         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>,
<a id="L455" name="L455"></a> 455         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> rawName,
<a id="L456" name="L456"></a> 456         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L457" name="L457"></a> 457         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>,
<a id="L458" name="L458"></a> 458         <strong class="reserved">boolean</strong> xslAttribute)
<a id="L459" name="L459"></a> 459         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L460" name="L460"></a> 460     <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> (m_elemContext.m_startTagOpen)
<a id="L462" name="L462"></a> 462         <em class="brace">{</em>
<a id="L463" name="L463"></a> 463             <strong class="reserved">boolean</strong> was_added = <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(uri, <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, rawName, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, xslAttribute);
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465 
<div class="comment">
              We don't run this block of code if:
              1. The attribute value was only replaced (was_added is false).
              2. The attribute is from an xsl:attribute element (that is handled
                 in the addAttributeAlways() call just above.
              3. The name starts with "xmlns", i.e. it is a namespace declaration.</div>
<a id="L473" name="L473"></a> 473             <strong class="reserved">if</strong> (was_added &amp;&amp; !xslAttribute &amp;&amp; !rawName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>("xmlns"))
<a id="L474" name="L474"></a> 474             <em class="brace">{</em>
<a id="L475" name="L475"></a> 475                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prefixUsed =
<a id="L476" name="L476"></a> 476                     <a href="../S/5551.html#L2643" title="Defined at 2643 in src/com/sun/org/apache/xml/internal/serializer/ToStream.java.">ensureAttributesNamespaceIsDeclared</a>(
<a id="L477" name="L477"></a> 477                         uri,
<a id="L478" name="L478"></a> 478                         <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>,
<a id="L479" name="L479"></a> 479                         rawName);
<a id="L480" name="L480"></a> 480                 <strong class="reserved">if</strong> (prefixUsed != <strong class="reserved">null</strong>
<a id="L481" name="L481"></a> 481                     &amp;&amp; rawName != <strong class="reserved">null</strong>
<a id="L482" name="L482"></a> 482                     &amp;&amp; !rawName.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(prefixUsed))
<a id="L483" name="L483"></a> 483                 <em class="brace">{</em>
<a id="L484" name="L484"></a> 484                     <em class="comment">// use a different raw name, with the prefix used in the</em>
<a id="L485" name="L485"></a> 485                     <em class="comment">// generated namespace declaration</em>
<a id="L486" name="L486"></a> 486                     rawName = prefixUsed + ":" + <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>;
<a id="L487" name="L487"></a> 487 
<a id="L488" name="L488"></a> 488                 <em class="brace">}</em>
<a id="L489" name="L489"></a> 489             <em class="brace">}</em>
<a id="L490" name="L490"></a> 490             <a href="../D/10661.html" title="Multiple defined in 2 places.">addAttributeAlways</a>(uri, <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a>, rawName, <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>, xslAttribute);
<a id="L491" name="L491"></a> 491         <em class="brace">}</em>
<a id="L492" name="L492"></a> 492         <strong class="reserved">else</strong>
<a id="L493" name="L493"></a> 493         <em class="brace">{</em>
<div class="comment">
              The startTag is closed, yet we are adding an attribute?
              Section: 7.1.3 Creating Attributes Adding an attribute to an
              element after a PI (for example) has been added to it is an
              error. The attributes can be ignored. The spec doesn't explicitly
              say this is disallowed, as it does for child elements, but it
              makes sense to have the same treatment.
              We choose to ignore the attribute which is added too late.</div>
<a id="L505" name="L505"></a> 505             <em class="comment">// Generate a warning of the ignored attributes</em>
<a id="L506" name="L506"></a> 506 
<a id="L507" name="L507"></a> 507             <em class="comment">// Create the warning message</em>
<a id="L508" name="L508"></a> 508             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../D/9445.html" title="Multiple defined in 2 places.">Utils</a>.messages.<a href="../D/14043.html" title="Multiple defined in 4 places.">createMessage</a>(
<a id="L509" name="L509"></a> 509                     <a href="../S/5578.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/utils/MsgKey.java.">MsgKey</a>.ER_ILLEGAL_ATTRIBUTE_POSITION,<strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em> <a href="../D/27005.html" title="Multiple defined in 2 places.">localName</a> <em class="brace">}</em>);
<a id="L510" name="L510"></a> 510 
<a id="L511" name="L511"></a> 511             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L512" name="L512"></a> 512                 <em class="comment">// Prepare to issue the warning message</em>
<a id="L513" name="L513"></a> 513                 <a href="../S/4036.html#L49" title="Defined at 49 in src/javax/xml/transform/Transformer.java.">Transformer</a> tran = <strong class="reserved">super</strong>.<a href="../D/23250.html" title="Multiple defined in 7 places.">getTransformer</a>();
<a id="L514" name="L514"></a> 514                 <a href="../S/4030.html#L53" title="Defined at 53 in src/javax/xml/transform/ErrorListener.java.">ErrorListener</a> errHandler = tran.<a href="../D/18851.html" title="Multiple defined in 9 places.">getErrorListener</a>();
<a id="L515" name="L515"></a> 515 
<a id="L516" name="L516"></a> 516 
<a id="L517" name="L517"></a> 517                 <em class="comment">// Issue the warning message</em>
<a id="L518" name="L518"></a> 518                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != errHandler &amp;&amp; m_sourceLocator != <strong class="reserved">null</strong>)
<a id="L519" name="L519"></a> 519                   errHandler.<a href="../D/36831.html" title="Multiple defined in 36 places.">warning</a>(<strong class="reserved">new</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>, m_sourceLocator));
<a id="L520" name="L520"></a> 520                 <strong class="reserved">else</strong>
<a id="L521" name="L521"></a> 521                   <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L522" name="L522"></a> 522                 <em class="brace">}</em>
<a id="L523" name="L523"></a> 523             <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e)<em class="brace">{</em><em class="brace">}</em>
<a id="L524" name="L524"></a> 524         <em class="brace">}</em>
<a id="L525" name="L525"></a> 525     <em class="brace">}</em>
<a id="L526" name="L526"></a> 526 
<div class="comment">
      @see ExtendedContentHandler#endElement(String)</div>
<a id="L530" name="L530"></a> 530     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/13766.html" title="Multiple referred from 95 places.">endElement</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> elemName) <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L531" name="L531"></a> 531     <em class="brace">{</em>
<a id="L532" name="L532"></a> 532         <a href="../D/15448.html" title="Multiple defined in 90 places.">endElement</a>(<strong class="reserved">null</strong>, <strong class="reserved">null</strong>, elemName);
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<div class="comment">
      This method is used to notify the serializer of a namespace mapping (or node)
      that applies to the current element whose startElement() call has already been seen.
      The official SAX startPrefixMapping(prefix,uri) is to define a mapping for a child
      element that is soon to be seen with a startElement() call. The official SAX call
      does not apply to the current element, hence the reason for this method.</div>
<a id="L542" name="L542"></a> 542     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/23436.html" title="Multiple referred from 14 places.">namespaceAfterStartElement</a>(
<a id="L543" name="L543"></a> 543         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>,
<a id="L544" name="L544"></a> 544         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri)
<a id="L545" name="L545"></a> 545         <strong class="reserved">throws</strong> <a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a>
<a id="L546" name="L546"></a> 546     <em class="brace">{</em>
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548         <em class="comment">// hack for XSLTC with finding URI for default namespace</em>
<a id="L549" name="L549"></a> 549         <strong class="reserved">if</strong> (m_elemContext.m_elementURI == <strong class="reserved">null</strong>)
<a id="L550" name="L550"></a> 550         <em class="brace">{</em>
<a id="L551" name="L551"></a> 551             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prefix1 = <a href="../D/21598.html" title="Multiple defined in 2 places.">getPrefixPart</a>(m_elemContext.m_elementName);
<a id="L552" name="L552"></a> 552             <strong class="reserved">if</strong> (prefix1 == <strong class="reserved">null</strong> &amp;&amp; EMPTYSTRING.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>))
<a id="L553" name="L553"></a> 553             <em class="brace">{</em>
<a id="L554" name="L554"></a> 554                 <em class="comment">// the elements URI is not known yet, and it</em>
<a id="L555" name="L555"></a> 555                 <em class="comment">// doesn't have a prefix, and we are currently</em>
<a id="L556" name="L556"></a> 556                 <em class="comment">// setting the uri for prefix "", so we have</em>
<a id="L557" name="L557"></a> 557                 <em class="comment">// the uri for the element... lets remember it</em>
<a id="L558" name="L558"></a> 558                 m_elemContext.m_elementURI = uri;
<a id="L559" name="L559"></a> 559             <em class="brace">}</em>
<a id="L560" name="L560"></a> 560         <em class="brace">}</em>
<a id="L561" name="L561"></a> 561         <a href="../D/34818.html" title="Multiple defined in 38 places.">startPrefixMapping</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>,uri,<strong class="reserved">false</strong>);
<a id="L562" name="L562"></a> 562         <strong class="reserved">return</strong>;
<a id="L563" name="L563"></a> 563 
<a id="L564" name="L564"></a> 564     <em class="brace">}</em>
<a id="L565" name="L565"></a> 565 
<div class="comment">
      From XSLTC
      Declare a prefix to point to a namespace URI. Inform SAX handler
      if this is a new prefix mapping.</div>
<a id="L571" name="L571"></a> 571     <strong class="reserved">protected</strong> <strong class="reserved">boolean</strong> <a href="../R/25272.html" title="Multiple referred from 3 places.">pushNamespace</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> uri)
<a id="L572" name="L572"></a> 572     <em class="brace">{</em>
<a id="L573" name="L573"></a> 573         <strong class="reserved">try</strong>
<a id="L574" name="L574"></a> 574         <em class="brace">{</em>
<a id="L575" name="L575"></a> 575             <strong class="reserved">if</strong> (m_prefixMap.<a href="../D/29950.html" title="Multiple defined in 2 places.">pushNamespace</a>(
<a id="L576" name="L576"></a> 576                 <a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, uri, m_elemContext.m_currentElemDepth))
<a id="L577" name="L577"></a> 577             <em class="brace">{</em>
<a id="L578" name="L578"></a> 578                 <a href="../D/34818.html" title="Multiple defined in 38 places.">startPrefixMapping</a>(<a href="../S/3963.html#L53" title="Defined at 53 in src/javax/xml/bind/annotation/XmlNs.java.">prefix</a>, uri);
<a id="L579" name="L579"></a> 579                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L580" name="L580"></a> 580             <em class="brace">}</em>
<a id="L581" name="L581"></a> 581         <em class="brace">}</em>
<a id="L582" name="L582"></a> 582         <strong class="reserved">catch</strong> (<a href="../S/726.html#L62" title="Defined at 62 in src/org/xml/sax/SAXException.java.">SAXException</a> e)
<a id="L583" name="L583"></a> 583         <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <em class="comment">// falls through</em>
<a id="L585" name="L585"></a> 585         <em class="brace">}</em>
<a id="L586" name="L586"></a> 586         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L587" name="L587"></a> 587     <em class="brace">}</em>
<div class="comment">
      Try's to reset the super class and reset this class for
      re-use, so that you don't need to create a new serializer
      (mostly for performance reasons).
      @return true if the class was successfuly reset.</div>
<a id="L595" name="L595"></a> 595     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26238.html" title="Multiple referred from 619 places.">reset</a>()
<a id="L596" name="L596"></a> 596     <em class="brace">{</em>
<a id="L597" name="L597"></a> 597         <strong class="reserved">boolean</strong> wasReset = <strong class="reserved">false</strong>;
<a id="L598" name="L598"></a> 598         <strong class="reserved">if</strong> (<strong class="reserved">super</strong>.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>())
<a id="L599" name="L599"></a> 599         <em class="brace">{</em>
<a id="L600" name="L600"></a> 600             <a href="../S/5602.html#L610" title="Defined at 610 in src/com/sun/org/apache/xml/internal/serializer/ToXMLStream.java.">resetToXMLStream</a>();
<a id="L601" name="L601"></a> 601             wasReset = <strong class="reserved">true</strong>;
<a id="L602" name="L602"></a> 602         <em class="brace">}</em>
<a id="L603" name="L603"></a> 603         <strong class="reserved">return</strong> wasReset;
<a id="L604" name="L604"></a> 604     <em class="brace">}</em>
<a id="L605" name="L605"></a> 605 
<div class="comment">
      Reset all of the fields owned by ToStream class</div>
<a id="L610" name="L610"></a> 610     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/5602.html#L600" title="Referred from 600 in src/com/sun/org/apache/xml/internal/serializer/ToXMLStream.java.">resetToXMLStream</a>()
<a id="L611" name="L611"></a> 611     <em class="brace">{</em>
<a id="L612" name="L612"></a> 612         <strong class="reserved">this</strong>.m_cdataTagOpen = <strong class="reserved">false</strong>;
<a id="L613" name="L613"></a> 613 
<a id="L614" name="L614"></a> 614     <em class="brace">}</em>
<a id="L615" name="L615"></a> 615 
<div class="comment">
      This method checks for the XML version of output document.
      If XML version of output document is not specified, then output
      document is of version XML 1.0.
      If XML version of output doucment is specified, but it is not either
      XML 1.0 or XML 1.1, a warning message is generated, the XML Version of
      output document is set to XML 1.0 and processing continues.
      @return string (XML version)</div>
<a id="L625" name="L625"></a> 625     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19917.html" title="Multiple referred from 14 places.">getXMLVersion</a>()
<a id="L626" name="L626"></a> 626     <em class="brace">{</em>
<a id="L627" name="L627"></a> 627         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> xmlVersion = <a href="../D/23576.html" title="Multiple defined in 40 places.">getVersion</a>();
<a id="L628" name="L628"></a> 628         <strong class="reserved">if</strong>(xmlVersion == <strong class="reserved">null</strong> || xmlVersion.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(XMLVERSION10))
<a id="L629" name="L629"></a> 629         <em class="brace">{</em>
<a id="L630" name="L630"></a> 630             xmlVersion = XMLVERSION10;
<a id="L631" name="L631"></a> 631         <em class="brace">}</em>
<a id="L632" name="L632"></a> 632         <strong class="reserved">else</strong> <strong class="reserved">if</strong>(xmlVersion.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(XMLVERSION11))
<a id="L633" name="L633"></a> 633         <em class="brace">{</em>
<a id="L634" name="L634"></a> 634             xmlVersion = XMLVERSION11;
<a id="L635" name="L635"></a> 635         <em class="brace">}</em>
<a id="L636" name="L636"></a> 636         <strong class="reserved">else</strong>
<a id="L637" name="L637"></a> 637         <em class="brace">{</em>
<a id="L638" name="L638"></a> 638             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a> = <a href="../D/9445.html" title="Multiple defined in 2 places.">Utils</a>.messages.<a href="../D/14043.html" title="Multiple defined in 4 places.">createMessage</a>(
<a id="L639" name="L639"></a> 639                                <a href="../S/5578.html#L34" title="Defined at 34 in src/com/sun/org/apache/xml/internal/serializer/utils/MsgKey.java.">MsgKey</a>.ER_XML_VERSION_NOT_SUPPORTED,<strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em> xmlVersion <em class="brace">}</em>);
<a id="L640" name="L640"></a> 640             <strong class="reserved">try</strong>
<a id="L641" name="L641"></a> 641             <em class="brace">{</em>
<a id="L642" name="L642"></a> 642                 <em class="comment">// Prepare to issue the warning message</em>
<a id="L643" name="L643"></a> 643                 <a href="../S/4036.html#L49" title="Defined at 49 in src/javax/xml/transform/Transformer.java.">Transformer</a> tran = <strong class="reserved">super</strong>.<a href="../D/23250.html" title="Multiple defined in 7 places.">getTransformer</a>();
<a id="L644" name="L644"></a> 644                 <a href="../S/4030.html#L53" title="Defined at 53 in src/javax/xml/transform/ErrorListener.java.">ErrorListener</a> errHandler = tran.<a href="../D/18851.html" title="Multiple defined in 9 places.">getErrorListener</a>();
<a id="L645" name="L645"></a> 645                 <em class="comment">// Issue the warning message</em>
<a id="L646" name="L646"></a> 646                 <strong class="reserved">if</strong> (<strong class="reserved">null</strong> != errHandler &amp;&amp; m_sourceLocator != <strong class="reserved">null</strong>)
<a id="L647" name="L647"></a> 647                     errHandler.<a href="../D/36831.html" title="Multiple defined in 36 places.">warning</a>(<strong class="reserved">new</strong> <a href="../S/4051.html#L35" title="Defined at 35 in src/javax/xml/transform/TransformerException.java.">TransformerException</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>, m_sourceLocator));
<a id="L648" name="L648"></a> 648                 <strong class="reserved">else</strong>
<a id="L649" name="L649"></a> 649                     <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1038.html#L2317" title="Defined at 2317 in src/java/util/Formatter.java.">out</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>(<a href="../S/6957.html#L1026" title="Defined at 1026 in src/com/sun/corba/se/impl/io/ObjectStreamClass.java.">msg</a>);
<a id="L650" name="L650"></a> 650             <em class="brace">}</em>
<a id="L651" name="L651"></a> 651             <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e)<em class="brace">{</em><em class="brace">}</em>
<a id="L652" name="L652"></a> 652             xmlVersion = XMLVERSION10;
<a id="L653" name="L653"></a> 653         <em class="brace">}</em>
<a id="L654" name="L654"></a> 654         <strong class="reserved">return</strong> xmlVersion;
<a id="L655" name="L655"></a> 655     <em class="brace">}</em>
<a id="L656" name="L656"></a> 656 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L81">[^]</a><a href="#L625">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>