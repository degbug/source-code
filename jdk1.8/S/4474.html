<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/sql/rowset/serial/SerialClob.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L191">[^]</a><a href="#L682">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L191" title="Defined at 191.">length</a></li>
<li><a href="#L207" title="Defined at 207.">getCharacterStream</a></li>
<li><a href="#L229" title="Defined at 229.">getAsciiStream</a></li>
<li><a href="#L265" title="Defined at 265.">getSubString</a></li>
<li><a href="#L308" title="Defined at 308.">position</a></li>
<li><a href="#L354" title="Defined at 354.">position</a></li>
<li><a href="#L379" title="Defined at 379.">setString</a></li>
<li><a href="#L405" title="Defined at 405.">setString</a></li>
<li><a href="#L457" title="Defined at 457.">setAsciiStream</a></li>
<li><a href="#L489" title="Defined at 489.">setCharacterStream</a></li>
<li><a href="#L515" title="Defined at 515.">truncate</a></li>
<li><a href="#L550" title="Defined at 550.">getCharacterStream</a></li>
<li><a href="#L577" title="Defined at 577.">free</a></li>
<li><a href="#L599" title="Defined at 599.">equals</a></li>
<li><a href="#L616" title="Defined at 616.">hashCode</a></li>
<li><a href="#L628" title="Defined at 628.">clone</a></li>
<li><a href="#L644" title="Defined at 644.">readObject</a></li>
<li><a href="#L663" title="Defined at 663.">writeObject</a></li>
<li><a href="#L682" title="Defined at 682.">isValid</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2003, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.sql.rowset.serial;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.sql.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L31" name="L31"></a>  31 
<div class="comment">
  A serialized mapping in the Java programming language of an SQL
  <code>CLOB</code> value.
  <p>
  The <code>SerialClob</code> class provides a constructor for creating
  an instance from a <code>Clob</code> object.  Note that the <code>Clob</code>
  object should have brought the SQL <code>CLOB</code> value's data over
  to the client before a <code>SerialClob</code> object
  is constructed from it.  The data of an SQL <code>CLOB</code> value can
  be materialized on the client as a stream of Unicode characters.
  </p><p>
  <code>SerialClob</code> methods make it possible to get a substring
  from a <code>SerialClob</code> object or to locate the start of
  a pattern of characters.
  </p><h3> Thread safety </h3>
  <p> A SerialClob is not safe for use by multiple concurrent threads.  If a
  SerialClob is to be used by more than one thread then access to the SerialClob
  should be controlled by appropriate synchronization.
  @author Jonathan Bruce</p></div>
<a id="L54" name="L54"></a>  54 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/7037.html" title="Multiple referred from 8 places.">SerialClob</a> <strong class="reserved">implements</strong> <a href="../S/2587.html#L58" title="Defined at 58 in src/java/sql/Clob.java.">Clob</a>, <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a>, <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a> <em class="brace">{</em>
<a id="L55" name="L55"></a>  55 
<div class="comment">
      A serialized array of characters containing the data of the SQL
      <code>CLOB</code> value that this <code>SerialClob</code> object
      represents.
      @serial</div>
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> <strong class="reserved">char</strong> <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[];
<a id="L64" name="L64"></a>  64 
<div class="comment">
      Internal Clob representation if SerialClob is initialized with a
      Clob. Null if SerialClob is initialized with a char[].</div>
<a id="L69" name="L69"></a>  69     <strong class="reserved">private</strong> <a href="../S/2587.html#L58" title="Defined at 58 in src/java/sql/Clob.java.">Clob</a> clob;
<a id="L70" name="L70"></a>  70 
<div class="comment">
      The length in characters of this <code>SerialClob</code> object's
      internal array of characters.
      @serial</div>
<a id="L77" name="L77"></a>  77     <strong class="reserved">private</strong> <strong class="reserved">long</strong> len;
<a id="L78" name="L78"></a>  78 
<div class="comment">
      The original length in characters of this <code>SerialClob</code>
      object's internal array of characters.
      @serial</div>
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <strong class="reserved">long</strong> origLen;
<a id="L86" name="L86"></a>  86 
<div class="comment">
      Constructs a <code>SerialClob</code> object that is a serialized version of
      the given <code>char</code> array.
      <p>
      The new <code>SerialClob</code> object is initialized with the data from the
      <code>char</code> array, thus allowing disconnected <code>RowSet</code>
      objects to establish a serialized <code>Clob</code> object without touching
      the data source.
      @param ch the char array representing the <code>Clob</code> object to be
              serialized
      @throws SerialException if an error occurs during serialization
      @throws SQLException if a SQL error occurs</p></div>
<a id="L101" name="L101"></a> 101     <strong class="reserved">public</strong> SerialClob(<strong class="reserved">char</strong> ch[]) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L102" name="L102"></a> 102 
<a id="L103" name="L103"></a> 103         <em class="comment">// %%% JMB. Agreed. Add code here to throw a SQLException if no</em>
<a id="L104" name="L104"></a> 104         <em class="comment">// support is available for locatorsUpdateCopy=false</em>
<a id="L105" name="L105"></a> 105         <em class="comment">// Serializing locators is not supported.</em>
<a id="L106" name="L106"></a> 106 
<a id="L107" name="L107"></a> 107         len = ch.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L108" name="L108"></a> 108         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[(<strong class="reserved">int</strong>)len];
<a id="L109" name="L109"></a> 109         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; len ; i++)<em class="brace">{</em>
<a id="L110" name="L110"></a> 110            <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[i] = ch[i];
<a id="L111" name="L111"></a> 111         <em class="brace">}</em>
<a id="L112" name="L112"></a> 112         origLen = len;
<a id="L113" name="L113"></a> 113         clob = <strong class="reserved">null</strong>;
<a id="L114" name="L114"></a> 114     <em class="brace">}</em>
<a id="L115" name="L115"></a> 115 
<div class="comment">
      Constructs a <code>SerialClob</code> object that is a serialized
      version of the given <code>Clob</code> object.
      <p>
      The new <code>SerialClob</code> object is initialized with the
      data from the <code>Clob</code> object; therefore, the
      <code>Clob</code> object should have previously brought the
      SQL <code>CLOB</code> value's data over to the client from
      the database. Otherwise, the new <code>SerialClob</code> object
      object will contain no data.
      </p><p>
      Note: The <code>Clob</code> object supplied to this constructor must
      return non-null for both the <code>Clob.getCharacterStream()</code>
      and <code>Clob.getAsciiStream</code> methods. This <code>SerialClob</code>
      constructor cannot serialize a <code>Clob</code> object in this instance
      and will throw an <code>SQLException</code> object.
      @param  clob the <code>Clob</code> object from which this
          <code>SerialClob</code> object is to be constructed; cannot be null
      @throws SerialException if an error occurs during serialization
      @throws SQLException if a SQL error occurs in capturing the CLOB;
          if the <code>Clob</code> object is a null; or if either of the
          <code>Clob.getCharacterStream()</code> and <code>Clob.getAsciiStream()</code>
          methods on the <code>Clob</code> returns a null
      @see java.sql.Clob</p></div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">public</strong> SerialClob(<a href="../S/2587.html#L58" title="Defined at 58 in src/java/sql/Clob.java.">Clob</a> clob) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144         <strong class="reserved">if</strong> (clob == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L145" name="L145"></a> 145             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a>("Cannot instantiate a SerialClob " +
<a id="L146" name="L146"></a> 146                 "object with a null Clob object");
<a id="L147" name="L147"></a> 147         <em class="brace">}</em>
<a id="L148" name="L148"></a> 148         len = clob.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L149" name="L149"></a> 149         <strong class="reserved">this</strong>.clob = clob;
<a id="L150" name="L150"></a> 150         <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[(<strong class="reserved">int</strong>)len];
<a id="L151" name="L151"></a> 151         <strong class="reserved">int</strong> <a href="../D/30105.html" title="Multiple defined in 434 places.">read</a> = 0;
<a id="L152" name="L152"></a> 152         <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> = 0;
<a id="L153" name="L153"></a> 153 
<a id="L154" name="L154"></a> 154         <strong class="reserved">try</strong> (<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> charStream = clob.<a href="../D/17614.html" title="Multiple defined in 15 places.">getCharacterStream</a>()) <em class="brace">{</em>
<a id="L155" name="L155"></a> 155             <strong class="reserved">if</strong> (charStream == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L156" name="L156"></a> 156                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a>("Invalid Clob object. The call to getCharacterStream " +
<a id="L157" name="L157"></a> 157                     "returned null which cannot be serialized.");
<a id="L158" name="L158"></a> 158             <em class="brace">}</em>
<a id="L159" name="L159"></a> 159 
<a id="L160" name="L160"></a> 160             <em class="comment">// Note: get an ASCII stream in order to null-check it,</em>
<a id="L161" name="L161"></a> 161             <em class="comment">// even though we don't do anything with it.</em>
<a id="L162" name="L162"></a> 162             <strong class="reserved">try</strong> (<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> asciiStream = clob.<a href="../D/17041.html" title="Multiple defined in 4 places.">getAsciiStream</a>()) <em class="brace">{</em>
<a id="L163" name="L163"></a> 163                 <strong class="reserved">if</strong> (asciiStream == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L164" name="L164"></a> 164                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a>("Invalid Clob object. The call to getAsciiStream " +
<a id="L165" name="L165"></a> 165                         "returned null which cannot be serialized.");
<a id="L166" name="L166"></a> 166                 <em class="brace">}</em>
<a id="L167" name="L167"></a> 167             <em class="brace">}</em>
<a id="L168" name="L168"></a> 168 
<a id="L169" name="L169"></a> 169             <strong class="reserved">try</strong> (<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a> = <strong class="reserved">new</strong> <a href="../S/1395.html#L70" title="Defined at 70 in src/java/io/BufferedReader.java.">BufferedReader</a>(charStream)) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L171" name="L171"></a> 171                     <a href="../D/30105.html" title="Multiple defined in 434 places.">read</a> = <a href="../S/1437.html#L135" title="Defined at 135 in src/java/io/Console.java.">reader</a>.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, (<strong class="reserved">int</strong>)(len - <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>));
<a id="L172" name="L172"></a> 172                     <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> += <a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>;
<a id="L173" name="L173"></a> 173                 <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a> &gt; 0);
<a id="L174" name="L174"></a> 174             <em class="brace">}</em>
<a id="L175" name="L175"></a> 175         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L176" name="L176"></a> 176             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("SerialClob: " + <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L177" name="L177"></a> 177         <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<a id="L179" name="L179"></a> 179         origLen = len;
<a id="L180" name="L180"></a> 180     <em class="brace">}</em>
<a id="L181" name="L181"></a> 181 
<div class="comment">
      Retrieves the number of characters in this <code>SerialClob</code>
      object's array of characters.
      @return a <code>long</code> indicating the length in characters of this
              <code>SerialClob</code> object's array of character
      @throws SerialException if an error occurs;
      if <code>free</code> had previously been called on this object</div>
<a id="L191" name="L191"></a> 191     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/22477.html" title="Multiple referred from 12963 places.">length</a>() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L192" name="L192"></a> 192         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L193" name="L193"></a> 193         <strong class="reserved">return</strong> len;
<a id="L194" name="L194"></a> 194     <em class="brace">}</em>
<a id="L195" name="L195"></a> 195 
<div class="comment">
      Returns this <code>SerialClob</code> object's data as a stream
      of Unicode characters. Unlike the related method, <code>getAsciiStream</code>,
      a stream is produced regardless of whether the <code>SerialClob</code> object
      was created with a <code>Clob</code> object or a <code>char</code> array.
      @return a <code>java.io.Reader</code> object containing this
              <code>SerialClob</code> object's data
      @throws SerialException if an error occurs;
      if <code>free</code> had previously been called on this object</div>
<a id="L207" name="L207"></a> 207     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> <a href="../R/15531.html" title="Multiple referred from 24 places.">getCharacterStream</a>() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L208" name="L208"></a> 208         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L209" name="L209"></a> 209         <strong class="reserved">return</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a>) <strong class="reserved">new</strong> <a href="../S/1434.html#L35" title="Defined at 35 in src/java/io/CharArrayReader.java.">CharArrayReader</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L210" name="L210"></a> 210     <em class="brace">}</em>
<a id="L211" name="L211"></a> 211 
<div class="comment">
      Retrieves the <code>CLOB</code> value designated by this <code>SerialClob</code>
      object as an ascii stream. This method forwards the <code>getAsciiStream</code>
      call to the underlying <code>Clob</code> object in the event that this
      <code>SerialClob</code> object is instantiated with a <code>Clob</code>
      object. If this <code>SerialClob</code> object is instantiated with
      a <code>char</code> array, a <code>SerialException</code> object is thrown.
      @return a <code>java.io.InputStream</code> object containing
          this <code>SerialClob</code> object's data
      @throws SerialException if this <code>SerialClob</code> object was not
      instantiated with a <code>Clob</code> object;
      if <code>free</code> had previously been called on this object
      @throws SQLException if there is an error accessing the
          <code>CLOB</code> value represented by the <code>Clob</code> object
      that was used to create this <code>SerialClob</code> object</div>
<a id="L229" name="L229"></a> 229     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/15127.html" title="Multiple referred from 2 places.">getAsciiStream</a>() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L230" name="L230"></a> 230         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L231" name="L231"></a> 231         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.clob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L232" name="L232"></a> 232             <strong class="reserved">return</strong> <strong class="reserved">this</strong>.clob.<a href="../D/17041.html" title="Multiple defined in 4 places.">getAsciiStream</a>();
<a id="L233" name="L233"></a> 233         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L234" name="L234"></a> 234             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Unsupported operation. SerialClob cannot " +
<a id="L235" name="L235"></a> 235                 "return a the CLOB value as an ascii stream, unless instantiated " +
<a id="L236" name="L236"></a> 236                 "with a fully implemented Clob object.");
<a id="L237" name="L237"></a> 237         <em class="brace">}</em>
<a id="L238" name="L238"></a> 238     <em class="brace">}</em>
<a id="L239" name="L239"></a> 239 
<div class="comment">
      Returns a copy of the substring contained in this
      <code>SerialClob</code> object, starting at the given position
      and continuing for the specified number or characters.
      @param pos the position of the first character in the substring
                 to be copied; the first character of the
                 <code>SerialClob</code> object is at position
                 <code>1</code>; must not be less than <code>1</code>,
                 and the sum of the starting position and the length
                 of the substring must be less than the length of this
                 <code>SerialClob</code> object
      @param length the number of characters in the substring to be
                    returned; must not be greater than the length of
                    this <code>SerialClob</code> object, and the
                    sum of the starting position and the length
                    of the substring must be less than the length of this
                    <code>SerialClob</code> object
      @return a <code>String</code> object containing a substring of
              this <code>SerialClob</code> object beginning at the
              given position and containing the specified number of
              consecutive characters
      @throws SerialException if either of the arguments is out of bounds;
      if <code>free</code> had previously been called on this object</div>
<a id="L265" name="L265"></a> 265     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19261.html" title="Multiple referred from 2 places.">getSubString</a>(<strong class="reserved">long</strong> pos, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L266" name="L266"></a> 266 
<a id="L267" name="L267"></a> 267         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L268" name="L268"></a> 268         <strong class="reserved">if</strong> (pos &lt; 1 || pos &gt; <strong class="reserved">this</strong>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position in SerialClob object set");
<a id="L270" name="L270"></a> 270         <em class="brace">}</em>
<a id="L271" name="L271"></a> 271 
<a id="L272" name="L272"></a> 272         <strong class="reserved">if</strong> ((pos-1) + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; <strong class="reserved">this</strong>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L273" name="L273"></a> 273             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position and substring length");
<a id="L274" name="L274"></a> 274         <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<a id="L276" name="L276"></a> 276         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L277" name="L277"></a> 277             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, (<strong class="reserved">int</strong>)pos - 1, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L278" name="L278"></a> 278 
<a id="L279" name="L279"></a> 279         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1594.html#L39" title="Defined at 39 in src/java/lang/StringIndexOutOfBoundsException.java.">StringIndexOutOfBoundsException</a> e) <em class="brace">{</em>
<a id="L280" name="L280"></a> 280             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("StringIndexOutOfBoundsException: " +
<a id="L281" name="L281"></a> 281                 e.<a href="../D/20565.html" title="Multiple defined in 56 places.">getMessage</a>());
<a id="L282" name="L282"></a> 282         <em class="brace">}</em>
<a id="L283" name="L283"></a> 283 
<a id="L284" name="L284"></a> 284     <em class="brace">}</em>
<a id="L285" name="L285"></a> 285 
<div class="comment">
      Returns the position in this <code>SerialClob</code> object
      where the given <code>String</code> object begins, starting
      the search at the specified position. This method returns
      <code>-1</code> if the pattern is not found.
      @param searchStr the <code>String</code> object for which to
                       search
      @param start the position in this <code>SerialClob</code> object
              at which to start the search; the first position is
              <code>1</code>; must not be less than <code>1</code> nor
              greater than the length of this <code>SerialClob</code> object
      @return the position at which the given <code>String</code> object
              begins, starting the search at the specified position;
              <code>-1</code> if the given <code>String</code> object is
              not found or the starting position is out of bounds; position
              numbering for the return value starts at <code>1</code>
      @throws SerialException  if the <code>free</code> method had been
      previously called on this object
      @throws SQLException if there is an error accessing the Clob value
              from the database.</div>
<a id="L308" name="L308"></a> 308     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/24840.html" title="Multiple referred from 1781 places.">position</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> searchStr, <strong class="reserved">long</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>)
<a id="L309" name="L309"></a> 309         <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L310" name="L310"></a> 310         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L311" name="L311"></a> 311         <strong class="reserved">if</strong> (<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &lt; 1 || <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a> &gt; len) <em class="brace">{</em>
<a id="L312" name="L312"></a> 312             <strong class="reserved">return</strong> -1;
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315         <strong class="reserved">char</strong> <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>[] = searchStr.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>();
<a id="L316" name="L316"></a> 316 
<a id="L317" name="L317"></a> 317         <strong class="reserved">int</strong> pos = (<strong class="reserved">int</strong>)<a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>-1;
<a id="L318" name="L318"></a> 318         <strong class="reserved">int</strong> i = 0;
<a id="L319" name="L319"></a> 319         <strong class="reserved">long</strong> patlen = <a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L320" name="L320"></a> 320 
<a id="L321" name="L321"></a> 321         <strong class="reserved">while</strong> (pos &lt; len) <em class="brace">{</em>
<a id="L322" name="L322"></a> 322             <strong class="reserved">if</strong> (<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>[i] == <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[pos]) <em class="brace">{</em>
<a id="L323" name="L323"></a> 323                 <strong class="reserved">if</strong> (i + 1 == patlen) <em class="brace">{</em>
<a id="L324" name="L324"></a> 324                     <strong class="reserved">return</strong> (pos + 1) - (patlen - 1);
<a id="L325" name="L325"></a> 325                 <em class="brace">}</em>
<a id="L326" name="L326"></a> 326                 i++; pos++; <em class="comment">// increment pos, and i</em>
<a id="L327" name="L327"></a> 327 
<a id="L328" name="L328"></a> 328             <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/29283.html" title="Multiple defined in 2 places.">pattern</a>[i] != <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[pos]) <em class="brace">{</em>
<a id="L329" name="L329"></a> 329                 pos++; <em class="comment">// increment pos only</em>
<a id="L330" name="L330"></a> 330             <em class="brace">}</em>
<a id="L331" name="L331"></a> 331         <em class="brace">}</em>
<a id="L332" name="L332"></a> 332         <strong class="reserved">return</strong> -1; <em class="comment">// not found</em>
<a id="L333" name="L333"></a> 333     <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<div class="comment">
      Returns the position in this <code>SerialClob</code> object
      where the given <code>Clob</code> signature begins, starting
      the search at the specified position. This method returns
      <code>-1</code> if the pattern is not found.
      @param searchStr the <code>Clob</code> object for which to search
      @param start the position in this <code>SerialClob</code> object
             at which to begin the search; the first position is
              <code>1</code>; must not be less than <code>1</code> nor
              greater than the length of this <code>SerialClob</code> object
      @return the position at which the given <code>Clob</code>
              object begins in this <code>SerialClob</code> object,
              at or after the specified starting position
      @throws SerialException if an error occurs locating the Clob signature;
      if the <code>free</code> method had been previously called on this object
      @throws SQLException if there is an error accessing the Clob value
              from the database</div>
<a id="L354" name="L354"></a> 354     <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/24840.html" title="Multiple referred from 1781 places.">position</a>(<a href="../S/2587.html#L58" title="Defined at 58 in src/java/sql/Clob.java.">Clob</a> searchStr, <strong class="reserved">long</strong> <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>)
<a id="L355" name="L355"></a> 355         <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L356" name="L356"></a> 356         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L357" name="L357"></a> 357         <strong class="reserved">return</strong> <a href="../D/29463.html" title="Multiple defined in 19 places.">position</a>(searchStr.<a href="../D/22827.html" title="Multiple defined in 2 places.">getSubString</a>(1,(<strong class="reserved">int</strong>)searchStr.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()), <a href="../D/34747.html" title="Multiple defined in 52 places.">start</a>);
<a id="L358" name="L358"></a> 358     <em class="brace">}</em>
<a id="L359" name="L359"></a> 359 
<div class="comment">
      Writes the given Java <code>String</code> to the <code>CLOB</code>
      value that this <code>SerialClob</code> object represents, at the position
      <code>pos</code>.
      @param pos the position at which to start writing to the <code>CLOB</code>
              value that this <code>SerialClob</code> object represents; the first
              position is <code>1</code>; must not be less than <code>1</code> nor
              greater than the length of this <code>SerialClob</code> object
      @param str the string to be written to the <code>CLOB</code>
             value that this <code>SerialClob</code> object represents
      @return the number of characters written
      @throws SerialException if there is an error accessing the
          <code>CLOB</code> value; if an invalid position is set; if an
          invalid offset value is set; if number of bytes to be written
          is greater than the <code>SerialClob</code> length; or the combined
          values of the length and offset is greater than the Clob buffer;
      if the <code>free</code> method had been previously called on this object</div>
<a id="L379" name="L379"></a> 379     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28234.html" title="Multiple referred from 3 places.">setString</a>(<strong class="reserved">long</strong> pos, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L380" name="L380"></a> 380         <strong class="reserved">return</strong> (<a href="../D/34022.html" title="Multiple defined in 12 places.">setString</a>(pos, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, 0, <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()));
<a id="L381" name="L381"></a> 381     <em class="brace">}</em>
<a id="L382" name="L382"></a> 382 
<div class="comment">
      Writes <code>len</code> characters of <code>str</code>, starting
      at character <code>offset</code>, to the <code>CLOB</code> value
      that this <code>Clob</code> represents.
      @param pos the position at which to start writing to the <code>CLOB</code>
              value that this <code>SerialClob</code> object represents; the first
              position is <code>1</code>; must not be less than <code>1</code> nor
              greater than the length of this <code>SerialClob</code> object
      @param str the string to be written to the <code>CLOB</code>
             value that this <code>Clob</code> object represents
      @param offset the offset into <code>str</code> to start reading
             the characters to be written
      @param length the number of characters to be written
      @return the number of characters written
      @throws SerialException if there is an error accessing the
          <code>CLOB</code> value; if an invalid position is set; if an
          invalid offset value is set; if number of bytes to be written
          is greater than the <code>SerialClob</code> length; or the combined
          values of the length and offset is greater than the Clob buffer;
      if the <code>free</code> method had been previously called on this object</div>
<a id="L405" name="L405"></a> 405     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28234.html" title="Multiple referred from 3 places.">setString</a>(<strong class="reserved">long</strong> pos, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>, <strong class="reserved">int</strong> <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>, <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>)
<a id="L406" name="L406"></a> 406         <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L407" name="L407"></a> 407         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L408" name="L408"></a> 408         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> temp = <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>);
<a id="L409" name="L409"></a> 409         <strong class="reserved">char</strong> cPattern[] = temp.<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>();
<a id="L410" name="L410"></a> 410 
<a id="L411" name="L411"></a> 411         <strong class="reserved">if</strong> (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &lt; 0 || <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> &gt; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L412" name="L412"></a> 412             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid offset in byte array set");
<a id="L413" name="L413"></a> 413         <em class="brace">}</em>
<a id="L414" name="L414"></a> 414 
<a id="L415" name="L415"></a> 415         <strong class="reserved">if</strong> (pos &lt; 1 || pos &gt; <strong class="reserved">this</strong>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position in Clob object set");
<a id="L417" name="L417"></a> 417         <em class="brace">}</em>
<a id="L418" name="L418"></a> 418 
<a id="L419" name="L419"></a> 419         <strong class="reserved">if</strong> ((<strong class="reserved">long</strong>)(<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) &gt; origLen) <em class="brace">{</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Buffer is not sufficient to hold the value");
<a id="L421" name="L421"></a> 421         <em class="brace">}</em>
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423         <strong class="reserved">if</strong> ((<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> + <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a>) &gt; <a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>()) <em class="brace">{</em>
<a id="L424" name="L424"></a> 424             <em class="comment">// need check to ensure length + offset !&gt; bytes.length</em>
<a id="L425" name="L425"></a> 425             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid OffSet. Cannot have combined offset " +
<a id="L426" name="L426"></a> 426                 " and length that is greater that the Blob buffer");
<a id="L427" name="L427"></a> 427         <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429         <strong class="reserved">int</strong> i = 0;
<a id="L430" name="L430"></a> 430         pos--;  <em class="comment">//values in the array are at position one less</em>
<a id="L431" name="L431"></a> 431         <strong class="reserved">while</strong> ( i &lt; <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || (<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + i +1) &lt; (<a href="../D/34924.html" title="Multiple defined in 10 places.">str</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - <a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> ) ) <em class="brace">{</em>
<a id="L432" name="L432"></a> 432             <strong class="reserved">this</strong>.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[(<strong class="reserved">int</strong>)pos + i ] = cPattern[<a href="../D/28472.html" title="Multiple defined in 2 places.">offset</a> + i ];
<a id="L433" name="L433"></a> 433             i++;
<a id="L434" name="L434"></a> 434         <em class="brace">}</em>
<a id="L435" name="L435"></a> 435         <strong class="reserved">return</strong> i;
<a id="L436" name="L436"></a> 436     <em class="brace">}</em>
<a id="L437" name="L437"></a> 437 
<div class="comment">
      Retrieves a stream to be used to write Ascii characters to the
      <code>CLOB</code> value that this <code>SerialClob</code> object represents,
      starting at position <code>pos</code>. This method forwards the
      <code>setAsciiStream()</code> call to the underlying <code>Clob</code> object in
      the event that this <code>SerialClob</code> object is instantiated with a
      <code>Clob</code> object. If this <code>SerialClob</code> object is instantiated
       with a <code>char</code> array, a <code>SerialException</code> object is thrown.
      @param pos the position at which to start writing to the
             <code>CLOB</code> object
      @return the stream to which ASCII encoded characters can be written
      @throws SerialException if SerialClob is not instantiated with a
          Clob object;
      if the <code>free</code> method had been previously called on this object
      @throws SQLException if there is an error accessing the
          <code>CLOB</code> value
      @see #getAsciiStream</div>
<a id="L457" name="L457"></a> 457     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../D/6445.html" title="Multiple defined in 3 places.">OutputStream</a> <a href="../S/4474.html#L461" title="Referred from 461 in src/javax/sql/rowset/serial/SerialClob.java.">setAsciiStream</a>(<strong class="reserved">long</strong> pos)
<a id="L458" name="L458"></a> 458         <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L459" name="L459"></a> 459         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L460" name="L460"></a> 460          <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.clob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461              <strong class="reserved">return</strong> <strong class="reserved">this</strong>.clob.<a href="../D/31933.html" title="Multiple defined in 16 places.">setAsciiStream</a>(pos);
<a id="L462" name="L462"></a> 462          <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L463" name="L463"></a> 463              <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Unsupported operation. SerialClob cannot " +
<a id="L464" name="L464"></a> 464                 "return a writable ascii stream\n unless instantiated with a Clob object " +
<a id="L465" name="L465"></a> 465                 "that has a setAsciiStream() implementation");
<a id="L466" name="L466"></a> 466          <em class="brace">}</em>
<a id="L467" name="L467"></a> 467     <em class="brace">}</em>
<a id="L468" name="L468"></a> 468 
<div class="comment">
      Retrieves a stream to be used to write a stream of Unicode characters
      to the <code>CLOB</code> value that this <code>SerialClob</code> object
      represents, at position <code>pos</code>. This method forwards the
      <code>setCharacterStream()</code> call to the underlying <code>Clob</code>
      object in the event that this <code>SerialClob</code> object is instantiated with a
      <code>Clob</code> object. If this <code>SerialClob</code> object is instantiated with
      a <code>char</code> array, a <code>SerialException</code> is thrown.
      @param  pos the position at which to start writing to the
             <code>CLOB</code> value
      @return a stream to which Unicode encoded characters can be written
      @throws SerialException if the SerialClob is not instantiated with
          a Clob object;
      if the <code>free</code> method had been previously called on this object
      @throws SQLException if there is an error accessing the
                 <code>CLOB</code> value
      @see #getCharacterStream</div>
<a id="L489" name="L489"></a> 489     <strong class="reserved">public</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1393.html#L50" title="Defined at 50 in src/java/io/Writer.java.">Writer</a> <a href="../R/27028.html" title="Multiple referred from 23 places.">setCharacterStream</a>(<strong class="reserved">long</strong> pos)
<a id="L490" name="L490"></a> 490         <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>, <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L491" name="L491"></a> 491         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L492" name="L492"></a> 492         <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.clob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493             <strong class="reserved">return</strong> <strong class="reserved">this</strong>.clob.<a href="../D/32136.html" title="Multiple defined in 24 places.">setCharacterStream</a>(pos);
<a id="L494" name="L494"></a> 494         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L495" name="L495"></a> 495             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Unsupported operation. SerialClob cannot " +
<a id="L496" name="L496"></a> 496                 "return a writable character stream\n unless instantiated with a Clob object " +
<a id="L497" name="L497"></a> 497                 "that has a setCharacterStream implementation");
<a id="L498" name="L498"></a> 498         <em class="brace">}</em>
<a id="L499" name="L499"></a> 499     <em class="brace">}</em>
<a id="L500" name="L500"></a> 500 
<div class="comment">
      Truncates the <code>CLOB</code> value that this <code>SerialClob</code>
      object represents so that it has a length of <code>len</code>
      characters.
      <p>
      Truncating a <code>SerialClob</code> object to length 0 has the effect of
      clearing its contents.
      @param length the length, in bytes, to which the <code>CLOB</code>
             value should be truncated
      @throws SerialException if there is an error accessing the
             <code>CLOB</code> value;
      if the <code>free</code> method had been previously called on this object</p></div>
<a id="L515" name="L515"></a> 515     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/29532.html" title="Multiple referred from 7 places.">truncate</a>(<strong class="reserved">long</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L516" name="L516"></a> 516         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L517" name="L517"></a> 517         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; len) <em class="brace">{</em>
<a id="L518" name="L518"></a> 518            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>
<a id="L519" name="L519"></a> 519               ("Length more than what can be truncated");
<a id="L520" name="L520"></a> 520         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L521" name="L521"></a> 521              len = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L522" name="L522"></a> 522              <em class="comment">// re-size the buffer</em>
<a id="L523" name="L523"></a> 523 
<a id="L524" name="L524"></a> 524              <strong class="reserved">if</strong> (len == 0) <em class="brace">{</em>
<a id="L525" name="L525"></a> 525                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">new</strong> <strong class="reserved">char</strong>[] <em class="brace">{</em><em class="brace">}</em>;
<a id="L526" name="L526"></a> 526              <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L527" name="L527"></a> 527                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = (<strong class="reserved">this</strong>.<a href="../D/22827.html" title="Multiple defined in 2 places.">getSubString</a>(1, (<strong class="reserved">int</strong>)len)).<a href="../D/35368.html" title="Multiple defined in 3 places.">toCharArray</a>();
<a id="L528" name="L528"></a> 528              <em class="brace">}</em>
<a id="L529" name="L529"></a> 529         <em class="brace">}</em>
<a id="L530" name="L530"></a> 530     <em class="brace">}</em>
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532 
<div class="comment">
      Returns a <code>Reader</code> object that contains a partial
      <code>SerialClob</code> value, starting
      with the character specified by pos, which is length characters in length.
      @param pos the offset to the first character of the partial value to
      be retrieved.  The first character in the <code>SerialClob</code> is at position 1.
      @param length the length in characters of the partial value to be retrieved.
      @return <code>Reader</code> through which the partial <code>SerialClob</code>
      value can be read.
      @throws SQLException if pos is less than 1 or if pos is greater than the
      number of characters in the <code>SerialClob</code> or if pos + length
      is greater than the number of characters in the <code>SerialClob</code>;
      @throws SerialException if the <code>free</code> method had been previously
      called on this object
      @since 1.6</div>
<a id="L550" name="L550"></a> 550     <strong class="reserved">public</strong> <a href="../S/1412.html#L51" title="Defined at 51 in src/java/io/Reader.java.">Reader</a> <a href="../R/15531.html" title="Multiple referred from 24 places.">getCharacterStream</a>(<strong class="reserved">long</strong> pos, <strong class="reserved">long</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <strong class="reserved">throws</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L551" name="L551"></a> 551         <a href="../D/26427.html" title="Multiple defined in 40 places.">isValid</a>();
<a id="L552" name="L552"></a> 552         <strong class="reserved">if</strong> (pos &lt; 1 || pos &gt; len) <em class="brace">{</em>
<a id="L553" name="L553"></a> 553             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position in Clob object set");
<a id="L554" name="L554"></a> 554         <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556         <strong class="reserved">if</strong> ((pos-1) + <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; len) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid position and substring length");
<a id="L558" name="L558"></a> 558         <em class="brace">}</em>
<a id="L559" name="L559"></a> 559         <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt;= 0) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Invalid length specified");
<a id="L561" name="L561"></a> 561         <em class="brace">}</em>
<a id="L562" name="L562"></a> 562         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1434.html#L35" title="Defined at 35 in src/java/io/CharArrayReader.java.">CharArrayReader</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, (<strong class="reserved">int</strong>)pos, (<strong class="reserved">int</strong>)<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L563" name="L563"></a> 563     <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 
<div class="comment">
      This method frees the <code>SeriableClob</code> object and releases the
      resources that it holds.
      The object is invalid once the <code>free</code> method is called.
      <p>
      If <code>free</code> is called multiple times, the subsequent
      calls to <code>free</code> are treated as a no-op.
      </p>
      @throws SQLException if an error occurs releasing
      the Clob's resources
      @since 1.6</div>
<a id="L577" name="L577"></a> 577     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/14791.html" title="Multiple referred from 62 places.">free</a>() <strong class="reserved">throws</strong> <a href="../S/2604.html#L53" title="Defined at 53 in src/java/sql/SQLException.java.">SQLException</a> <em class="brace">{</em>
<a id="L578" name="L578"></a> 578         <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L579" name="L579"></a> 579             <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = <strong class="reserved">null</strong>;
<a id="L580" name="L580"></a> 580             <strong class="reserved">if</strong> (clob != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L581" name="L581"></a> 581                 clob.<a href="../D/16577.html" title="Multiple defined in 8 places.">free</a>();
<a id="L582" name="L582"></a> 582             <em class="brace">}</em>
<a id="L583" name="L583"></a> 583             clob = <strong class="reserved">null</strong>;
<a id="L584" name="L584"></a> 584         <em class="brace">}</em>
<a id="L585" name="L585"></a> 585     <em class="brace">}</em>
<a id="L586" name="L586"></a> 586 
<div class="comment">
      Compares this SerialClob to the specified object.  The result is {@code
      true} if and only if the argument is not <code>null</code> and is a {@code
      SerialClob} object that represents the same sequence of characters as this
      object.
      @param  obj The object to compare this <code>SerialClob</code> against
      @return  <code>true</code> if the given object represents a <code>SerialClob</code>
               equivalent to this SerialClob, <code>false</code> otherwise</div>
<a id="L599" name="L599"></a> 599     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L600" name="L600"></a> 600         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj) <em class="brace">{</em>
<a id="L601" name="L601"></a> 601             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L602" name="L602"></a> 602         <em class="brace">}</em>
<a id="L603" name="L603"></a> 603         <strong class="reserved">if</strong> (obj <strong class="reserved">instanceof</strong> <a href="../S/4474.html#L54" title="Defined at 54 in src/javax/sql/rowset/serial/SerialClob.java.">SerialClob</a>) <em class="brace">{</em>
<a id="L604" name="L604"></a> 604             <a href="../S/4474.html#L54" title="Defined at 54 in src/javax/sql/rowset/serial/SerialClob.java.">SerialClob</a> sc = (<a href="../S/4474.html#L54" title="Defined at 54 in src/javax/sql/rowset/serial/SerialClob.java.">SerialClob</a>)obj;
<a id="L605" name="L605"></a> 605             <strong class="reserved">if</strong> (<strong class="reserved">this</strong>.len == sc.len) <em class="brace">{</em>
<a id="L606" name="L606"></a> 606                 <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, sc.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L607" name="L607"></a> 607             <em class="brace">}</em>
<a id="L608" name="L608"></a> 608         <em class="brace">}</em>
<a id="L609" name="L609"></a> 609         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L610" name="L610"></a> 610     <em class="brace">}</em>
<a id="L611" name="L611"></a> 611 
<div class="comment">
      Returns a hash code for this <code>SerialClob</code>.
      @return  a hash code value for this object.</div>
<a id="L616" name="L616"></a> 616     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L617" name="L617"></a> 617        <strong class="reserved">return</strong> ((31 + <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>)) * 31 + (<strong class="reserved">int</strong>)len) * 31 + (<strong class="reserved">int</strong>)origLen;
<a id="L618" name="L618"></a> 618     <em class="brace">}</em>
<a id="L619" name="L619"></a> 619 
<div class="comment">
      Returns a clone of this <code>SerialClob</code>. The copy will contain a
      reference to a clone of the internal character array, not a reference
      to the original internal character array of this <code>SerialClob</code> object.
      The underlying <code>Clob</code> object will be set to null.
      @return  a clone of this SerialClob</div>
<a id="L628" name="L628"></a> 628     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L629" name="L629"></a> 629         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L630" name="L630"></a> 630             <a href="../S/4474.html#L54" title="Defined at 54 in src/javax/sql/rowset/serial/SerialClob.java.">SerialClob</a> sc = (<a href="../S/4474.html#L54" title="Defined at 54 in src/javax/sql/rowset/serial/SerialClob.java.">SerialClob</a>) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L631" name="L631"></a> 631             sc.<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> != <strong class="reserved">null</strong>) ? <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, (<strong class="reserved">int</strong>)len) : <strong class="reserved">null</strong>;
<a id="L632" name="L632"></a> 632             sc.clob = <strong class="reserved">null</strong>;
<a id="L633" name="L633"></a> 633             <strong class="reserved">return</strong> sc;
<a id="L634" name="L634"></a> 634         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L635" name="L635"></a> 635             <em class="comment">// this shouldn't happen, since we are Cloneable</em>
<a id="L636" name="L636"></a> 636             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>();
<a id="L637" name="L637"></a> 637         <em class="brace">}</em>
<a id="L638" name="L638"></a> 638     <em class="brace">}</em>
<a id="L639" name="L639"></a> 639 
<div class="comment">
      readObject is called to restore the state of the SerialClob from
      a stream.</div>
<a id="L644" name="L644"></a> 644     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L645" name="L645"></a> 645             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L646" name="L646"></a> 646 
<a id="L647" name="L647"></a> 647         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L648" name="L648"></a> 648        <strong class="reserved">char</strong>[] tmp = (<strong class="reserved">char</strong>[])<a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("buf", <strong class="reserved">null</strong>);
<a id="L649" name="L649"></a> 649        <strong class="reserved">if</strong> (tmp == <strong class="reserved">null</strong>)
<a id="L650" name="L650"></a> 650            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("buf is null and should not be!");
<a id="L651" name="L651"></a> 651        <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> = tmp.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L652" name="L652"></a> 652        len = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("len", 0L);
<a id="L653" name="L653"></a> 653        <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != len)
<a id="L654" name="L654"></a> 654            <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("buf is not the expected size");
<a id="L655" name="L655"></a> 655        origLen = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("origLen", 0L);
<a id="L656" name="L656"></a> 656        clob = (<a href="../S/2587.html#L58" title="Defined at 58 in src/java/sql/Clob.java.">Clob</a>) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("clob", <strong class="reserved">null</strong>);
<a id="L657" name="L657"></a> 657     <em class="brace">}</em>
<a id="L658" name="L658"></a> 658 
<div class="comment">
      writeObject is called to save the state of the SerialClob
      to a stream.</div>
<a id="L663" name="L663"></a> 663     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L664" name="L664"></a> 664             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L665" name="L665"></a> 665 
<a id="L666" name="L666"></a> 666         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L667" name="L667"></a> 667         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("buf", <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>);
<a id="L668" name="L668"></a> 668         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("len", len);
<a id="L669" name="L669"></a> 669         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("origLen", origLen);
<a id="L670" name="L670"></a> 670         <em class="comment">// Note: this check to see if it is an instance of Serializable</em>
<a id="L671" name="L671"></a> 671         <em class="comment">// is for backwards compatibiity</em>
<a id="L672" name="L672"></a> 672         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("clob", clob <strong class="reserved">instanceof</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> ? clob : <strong class="reserved">null</strong>);
<a id="L673" name="L673"></a> 673         s.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L674" name="L674"></a> 674     <em class="brace">}</em>
<a id="L675" name="L675"></a> 675 
<div class="comment">
      Check to see if this object had previously had its <code>free</code> method
      called
      @throws SerialException</div>
<a id="L682" name="L682"></a> 682     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/22162.html" title="Multiple referred from 125 places.">isValid</a>() <strong class="reserved">throws</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a> <em class="brace">{</em>
<a id="L683" name="L683"></a> 683         <strong class="reserved">if</strong> (<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L684" name="L684"></a> 684             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/4476.html#L36" title="Defined at 36 in src/javax/sql/rowset/serial/SerialException.java.">SerialException</a>("Error: You cannot call a method on a "
<a id="L685" name="L685"></a> 685                     + "SerialClob instance once free() has been called.");
<a id="L686" name="L686"></a> 686         <em class="brace">}</em>
<a id="L687" name="L687"></a> 687     <em class="brace">}</em>
<a id="L688" name="L688"></a> 688 
<div class="comment">
      The identifier that assists in the serialization of this <code>SerialClob</code>
      object.</div>
<a id="L693" name="L693"></a> 693     <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -1662519690087375313L;
<a id="L694" name="L694"></a> 694 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L191">[^]</a><a href="#L682">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>