<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/Policy.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L118">[^]</a><a href="#L849">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L118" title="Defined at 118.">isSet</a></li>
<li><a href="#L124" title="Defined at 124.">checkPermission</a></li>
<li><a href="#L149" title="Defined at 149.">getPolicy</a></li>
<li><a href="#L163" title="Defined at 163.">getPolicyNoCheck</a></li>
<li><a href="#L264" title="Defined at 264.">setPolicy</a></li>
<li><a href="#L283" title="Defined at 283.">initPolicy</a></li>
<li><a href="#L381" title="Defined at 381.">getInstance</a></li>
<li><a href="#L441" title="Defined at 441.">getInstance</a></li>
<li><a href="#L501" title="Defined at 501.">getInstance</a></li>
<li><a href="#L526" title="Defined at 526.">handleException</a></li>
<li><a href="#L546" title="Defined at 546.">getProvider</a></li>
<li><a href="#L561" title="Defined at 561.">getType</a></li>
<li><a href="#L576" title="Defined at 576.">getParameters</a></li>
<li><a href="#L606" title="Defined at 606.">getPermissions</a></li>
<li><a href="#L644" title="Defined at 644.">getPermissions</a></li>
<li><a href="#L680" title="Defined at 680.">addStaticPerms</a></li>
<li><a href="#L706" title="Defined at 706.">implies</a></li>
<li><a href="#L743" title="Defined at 743.">refresh</a></li>
<li><a href="#L764" title="Defined at 764.">getType</a></li>
<li><a href="#L766" title="Defined at 766.">getParameters</a></li>
<li><a href="#L768" title="Defined at 768.">getProvider</a></li>
<li><a href="#L771" title="Defined at 771.">getPermissions</a></li>
<li><a href="#L775" title="Defined at 775.">getPermissions</a></li>
<li><a href="#L779" title="Defined at 779.">implies</a></li>
<li><a href="#L783" title="Defined at 783.">refresh</a></li>
<li><a href="#L826" title="Defined at 826.">add</a></li>
<li><a href="#L839" title="Defined at 839.">implies</a></li>
<li><a href="#L849" title="Defined at 849.">elements</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.WeakHashMap;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.util.concurrent.atomic.AtomicReference;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> sun.security.jca.GetInstance;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> sun.security.util.Debug;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> sun.security.util.SecurityConstants;
<a id="L35" name="L35"></a>  35 
<a id="L36" name="L36"></a>  36 
<div class="comment">
  A Policy object is responsible for determining whether code executing
  in the Java runtime environment has permission to perform a
  security-sensitive operation.
  <p> There is only one Policy object installed in the runtime at any
  given time.  A Policy object can be installed by calling the
  <code>setPolicy</code> method.  The installed Policy object can be
  obtained by calling the <code>getPolicy</code> method.
  </p><p> If no Policy object has been installed in the runtime, a call to
  <code>getPolicy</code> installs an instance of the default Policy
  implementation (a default subclass implementation of this abstract class).
  The default Policy implementation can be changed by setting the value
  of the <code>policy.provider</code> security property to the fully qualified
  name of the desired Policy subclass implementation.
  </p><p> Application code can directly subclass Policy to provide a custom
  implementation.  In addition, an instance of a Policy object can be
  constructed by invoking one of the <code>getInstance</code> factory methods
  with a standard type.  The default policy type is "JavaPolicy".
  </p><p> Once a Policy instance has been installed (either by default, or by
  calling <code>setPolicy</code>), the Java runtime invokes its
  <code>implies</code> method when it needs to
  determine whether executing code (encapsulated in a ProtectionDomain)
  can perform SecurityManager-protected operations.  How a Policy object
  retrieves its policy data is up to the Policy implementation itself.
  The policy data may be stored, for example, in a flat ASCII file,
  in a serialized binary file of the Policy class, or in a database.
  </p><p> The <code>refresh</code> method causes the policy object to
  refresh/reload its data.  This operation is implementation-dependent.
  For example, if the policy object stores its data in configuration files,
  calling <code>refresh</code> will cause it to re-read the configuration
  policy files.  If a refresh operation is not supported, this method does
  nothing.  Note that refreshed policy may not have an effect on classes
  in a particular ProtectionDomain. This is dependent on the Policy
  provider's implementation of the <code>implies</code>
  method and its PermissionCollection caching strategy.
  @author Roland Schemers
  @author Gary Ellison
  @see java.security.Provider
  @see java.security.ProtectionDomain
  @see java.security.Permission
  @see java.security.Security security properties</p></div>
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/6129.html" title="Multiple referred from 162 places.">Policy</a> <em class="brace">{</em>
<a id="L87" name="L87"></a>  87 
<div class="comment">
      A read-only empty PermissionCollection instance.
      @since 1.6</div>
<a id="L92" name="L92"></a>  92     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> UNSUPPORTED_EMPTY_COLLECTION =
<a id="L93" name="L93"></a>  93                         <strong class="reserved">new</strong> <a href="../S/1350.html#L802" title="Defined at 802 in src/java/security/Policy.java.">UnsupportedEmptyCollection</a>();
<a id="L94" name="L94"></a>  94 
<a id="L95" name="L95"></a>  95     <em class="comment">// Information about the system-wide policy.</em>
<a id="L96" name="L96"></a>  96     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6138.html" title="Multiple referred from 10 places.">PolicyInfo</a> <em class="brace">{</em>
<a id="L97" name="L97"></a>  97         <em class="comment">// the system-wide policy</em>
<a id="L98" name="L98"></a>  98         <strong class="reserved">final</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> policy;
<a id="L99" name="L99"></a>  99         <em class="comment">// a flag indicating if the system-wide policy has been initialized</em>
<a id="L100" name="L100"></a> 100         <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>;
<a id="L101" name="L101"></a> 101 
<a id="L102" name="L102"></a> 102         PolicyInfo(<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> policy, <strong class="reserved">boolean</strong> <a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>) <em class="brace">{</em>
<a id="L103" name="L103"></a> 103             <strong class="reserved">this</strong>.policy = policy;
<a id="L104" name="L104"></a> 104             <strong class="reserved">this</strong>.<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> = <a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a>;
<a id="L105" name="L105"></a> 105         <em class="brace">}</em>
<a id="L106" name="L106"></a> 106     <em class="brace">}</em>
<a id="L107" name="L107"></a> 107 
<a id="L108" name="L108"></a> 108     <em class="comment">// PolicyInfo is stored in an AtomicReference</em>
<a id="L109" name="L109"></a> 109     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1090.html#L49" title="Defined at 49 in src/java/util/concurrent/atomic/AtomicReference.java.">AtomicReference</a>&lt;<a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>&gt; policy =
<a id="L110" name="L110"></a> 110         <strong class="reserved">new</strong> <a href="../S/1090.html#L49" title="Defined at 49 in src/java/util/concurrent/atomic/AtomicReference.java.">AtomicReference</a>&lt;&gt;(<strong class="reserved">new</strong> <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>(<strong class="reserved">null</strong>, <strong class="reserved">false</strong>));
<a id="L111" name="L111"></a> 111 
<a id="L112" name="L112"></a> 112     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> = <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("policy");
<a id="L113" name="L113"></a> 113 
<a id="L114" name="L114"></a> 114     <em class="comment">// Cache mapping ProtectionDomain.Key to PermissionCollection</em>
<a id="L115" name="L115"></a> 115     <strong class="reserved">private</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>.<a href="../D/4780.html" title="Multiple defined in 5 places.">Key</a>, <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a>&gt; pdMapping;
<a id="L116" name="L116"></a> 116 
<div class="comment">
     /** package private for AccessControlContext and ProtectionDomain */</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/22010.html" title="Multiple referred from 131 places.">isSet</a>()
<a id="L119" name="L119"></a> 119     <em class="brace">{</em>
<a id="L120" name="L120"></a> 120         <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a> pi = policy.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L121" name="L121"></a> 121         <strong class="reserved">return</strong> pi.policy != <strong class="reserved">null</strong> &amp;&amp; pi.<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> == <strong class="reserved">true</strong>;
<a id="L122" name="L122"></a> 122     <em class="brace">}</em>
<a id="L123" name="L123"></a> 123 
<a id="L124" name="L124"></a> 124     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/11295.html" title="Multiple referred from 248 places.">checkPermission</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>) <em class="brace">{</em>
<a id="L125" name="L125"></a> 125         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L126" name="L126"></a> 126         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L127" name="L127"></a> 127             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/1261.html#L313" title="Defined at 313 in src/java/security/SecurityPermission.java.">SecurityPermission</a>("createPolicy." + <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>));
<a id="L128" name="L128"></a> 128         <em class="brace">}</em>
<a id="L129" name="L129"></a> 129     <em class="brace">}</em>
<a id="L130" name="L130"></a> 130 
<div class="comment">
      Returns the installed Policy object. This value should not be cached,
      as it may be changed by a call to <code>setPolicy</code>.
      This method first calls
      <code>SecurityManager.checkPermission</code> with a
      <code>SecurityPermission("getPolicy")</code> permission
      to ensure it's ok to get the Policy object.
      @return the installed Policy.
      @throws SecurityException
             if a security manager exists and its
             <code>checkPermission</code> method doesn't allow
             getting the Policy object.
      @see SecurityManager#checkPermission(Permission)
      @see #setPolicy(java.security.Policy)</div>
<a id="L149" name="L149"></a> 149     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../R/18358.html" title="Multiple referred from 5 places.">getPolicy</a>()
<a id="L150" name="L150"></a> 150     <em class="brace">{</em>
<a id="L151" name="L151"></a> 151         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L152" name="L152"></a> 152         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>)
<a id="L153" name="L153"></a> 153             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(SecurityConstants.GET_POLICY_PERMISSION);
<a id="L154" name="L154"></a> 154         <strong class="reserved">return</strong> <a href="../D/21518.html" title="Multiple defined in 2 places.">getPolicyNoCheck</a>();
<a id="L155" name="L155"></a> 155     <em class="brace">}</em>
<a id="L156" name="L156"></a> 156 
<div class="comment">
      Returns the installed Policy object, skipping the security check.
      Used by ProtectionDomain and getPolicy.
      @return the installed Policy.</div>
<a id="L163" name="L163"></a> 163     <strong class="reserved">static</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../R/18359.html" title="Multiple referred from 5 places.">getPolicyNoCheck</a>()
<a id="L164" name="L164"></a> 164     <em class="brace">{</em>
<a id="L165" name="L165"></a> 165         <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a> pi = policy.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L166" name="L166"></a> 166         <em class="comment">// Use double-check idiom to avoid locking if system-wide policy is</em>
<a id="L167" name="L167"></a> 167         <em class="comment">// already initialized</em>
<a id="L168" name="L168"></a> 168         <strong class="reserved">if</strong> (pi.<a href="../D/24697.html" title="Multiple defined in 4 places.">initialized</a> == <strong class="reserved">false</strong> || pi.policy == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L169" name="L169"></a> 169             <strong class="reserved">synchronized</strong> (<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170                 <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a> pinfo = policy.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>();
<a id="L171" name="L171"></a> 171                 <strong class="reserved">if</strong> (pinfo.policy == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L172" name="L172"></a> 172                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> policy_class = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L173" name="L173"></a> 173                         <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>&gt;() <em class="brace">{</em>
<a id="L174" name="L174"></a> 174                         <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L175" name="L175"></a> 175                             <strong class="reserved">return</strong> <a href="../S/1265.html#L49" title="Defined at 49 in src/java/security/Security.java.">Security</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("policy.provider");
<a id="L176" name="L176"></a> 176                         <em class="brace">}</em>
<a id="L177" name="L177"></a> 177                     <em class="brace">}</em>);
<a id="L178" name="L178"></a> 178                     <strong class="reserved">if</strong> (policy_class == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L179" name="L179"></a> 179                         policy_class = "sun.security.provider.PolicyFile";
<a id="L180" name="L180"></a> 180                     <em class="brace">}</em>
<a id="L181" name="L181"></a> 181 
<a id="L182" name="L182"></a> 182                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L183" name="L183"></a> 183                         pinfo = <strong class="reserved">new</strong> <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>(
<a id="L184" name="L184"></a> 184                             (<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>) <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(policy_class).<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>(),
<a id="L185" name="L185"></a> 185                             <strong class="reserved">true</strong>);
<a id="L186" name="L186"></a> 186                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<div class="comment">
                          The policy_class seems to be an extension
                          so we have to bootstrap loading it via a policy
                          provider that is on the bootclasspath.
                          If it loads then shift gears to using the configured
                          provider.</div>
<a id="L194" name="L194"></a> 194 
<a id="L195" name="L195"></a> 195                         <em class="comment">// install the bootstrap provider to avoid recursion</em>
<a id="L196" name="L196"></a> 196                         <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> polFile = <strong class="reserved">new</strong> sun.security.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../S/4511.html#L220" title="Defined at 220 in src/com/sun/security/auth/PolicyFile.java.">PolicyFile</a>();
<a id="L197" name="L197"></a> 197                         pinfo = <strong class="reserved">new</strong> <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>(polFile, <strong class="reserved">false</strong>);
<a id="L198" name="L198"></a> 198                         policy.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(pinfo);
<a id="L199" name="L199"></a> 199 
<a id="L200" name="L200"></a> 200                         <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> pc = policy_class;
<a id="L201" name="L201"></a> 201                         <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> pol = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L202" name="L202"></a> 202                             <strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>&gt;() <em class="brace">{</em>
<a id="L203" name="L203"></a> 203                             <strong class="reserved">public</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L204" name="L204"></a> 204                                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L205" name="L205"></a> 205                                     <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> cl =
<a id="L206" name="L206"></a> 206                                             <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a>.<a href="../D/22895.html" title="Multiple defined in 7 places.">getSystemClassLoader</a>();
<a id="L207" name="L207"></a> 207                                     <em class="comment">// we want the extension loader</em>
<a id="L208" name="L208"></a> 208                                     <a href="../D/1519.html" title="Multiple defined in 2 places.">ClassLoader</a> extcl = <strong class="reserved">null</strong>;
<a id="L209" name="L209"></a> 209                                     <strong class="reserved">while</strong> (cl != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210                                         extcl = cl;
<a id="L211" name="L211"></a> 211                                         cl = cl.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>();
<a id="L212" name="L212"></a> 212                                     <em class="brace">}</em>
<a id="L213" name="L213"></a> 213                                     <strong class="reserved">return</strong> (extcl != <strong class="reserved">null</strong> ? (<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>)<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>.<a href="../D/16518.html" title="Multiple defined in 6 places.">forName</a>(
<a id="L214" name="L214"></a> 214                                             pc, <strong class="reserved">true</strong>, extcl).<a href="../D/28016.html" title="Multiple defined in 74 places.">newInstance</a>() : <strong class="reserved">null</strong>);
<a id="L215" name="L215"></a> 215                                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216                                     <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L217" name="L217"></a> 217                                         <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("policy provider " +
<a id="L218" name="L218"></a> 218                                                     pc +
<a id="L219" name="L219"></a> 219                                                     " not available");
<a id="L220" name="L220"></a> 220                                         e.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L221" name="L221"></a> 221                                     <em class="brace">}</em>
<a id="L222" name="L222"></a> 222                                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L223" name="L223"></a> 223                                 <em class="brace">}</em>
<a id="L224" name="L224"></a> 224                             <em class="brace">}</em>
<a id="L225" name="L225"></a> 225                         <em class="brace">}</em>);
<div class="comment">
                          if it loaded install it as the policy provider. Otherwise
                          continue to use the system default implementation</div>
<a id="L230" name="L230"></a> 230                         <strong class="reserved">if</strong> (pol != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L231" name="L231"></a> 231                             pinfo = <strong class="reserved">new</strong> <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>(pol, <strong class="reserved">true</strong>);
<a id="L232" name="L232"></a> 232                         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L233" name="L233"></a> 233                             <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L234" name="L234"></a> 234                                 <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("using sun.security.provider.PolicyFile");
<a id="L235" name="L235"></a> 235                             <em class="brace">}</em>
<a id="L236" name="L236"></a> 236                             pinfo = <strong class="reserved">new</strong> <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>(polFile, <strong class="reserved">true</strong>);
<a id="L237" name="L237"></a> 237                         <em class="brace">}</em>
<a id="L238" name="L238"></a> 238                     <em class="brace">}</em>
<a id="L239" name="L239"></a> 239                     policy.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(pinfo);
<a id="L240" name="L240"></a> 240                 <em class="brace">}</em>
<a id="L241" name="L241"></a> 241                 <strong class="reserved">return</strong> pinfo.policy;
<a id="L242" name="L242"></a> 242             <em class="brace">}</em>
<a id="L243" name="L243"></a> 243         <em class="brace">}</em>
<a id="L244" name="L244"></a> 244         <strong class="reserved">return</strong> pi.policy;
<a id="L245" name="L245"></a> 245     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
      Sets the system-wide Policy object. This method first calls
      <code>SecurityManager.checkPermission</code> with a
      <code>SecurityPermission("setPolicy")</code>
      permission to ensure it's ok to set the Policy.
      @param p the new system Policy object.
      @throws SecurityException
             if a security manager exists and its
             <code>checkPermission</code> method doesn't allow
             setting the Policy.
      @see SecurityManager#checkPermission(Permission)
      @see #getPolicy()</div>
<a id="L264" name="L264"></a> 264     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/2677.html#L242" title="Referred from 242 in src/javax/security/auth/Policy.java.">setPolicy</a>(<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> p)
<a id="L265" name="L265"></a> 265     <em class="brace">{</em>
<a id="L266" name="L266"></a> 266         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L267" name="L267"></a> 267         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(
<a id="L268" name="L268"></a> 268                                  <strong class="reserved">new</strong> <a href="../S/1261.html#L313" title="Defined at 313 in src/java/security/SecurityPermission.java.">SecurityPermission</a>("setPolicy"));
<a id="L269" name="L269"></a> 269         <strong class="reserved">if</strong> (p != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270             <a href="../S/1350.html#L283" title="Defined at 283 in src/java/security/Policy.java.">initPolicy</a>(p);
<a id="L271" name="L271"></a> 271         <em class="brace">}</em>
<a id="L272" name="L272"></a> 272         <strong class="reserved">synchronized</strong> (<a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L273" name="L273"></a> 273             policy.<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<strong class="reserved">new</strong> <a href="../S/1350.html#L96" title="Defined at 96 in src/java/security/Policy.java.">PolicyInfo</a>(p, p != <strong class="reserved">null</strong>));
<a id="L274" name="L274"></a> 274         <em class="brace">}</em>
<a id="L275" name="L275"></a> 275     <em class="brace">}</em>
<a id="L276" name="L276"></a> 276 
<div class="comment">
      Initialize superclass state such that a legacy provider can
      handle queries for itself.
      @since 1.4</div>
<a id="L283" name="L283"></a> 283     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../R/20628.html" title="Multiple referred from 3 places.">initPolicy</a> (<strong class="reserved">final</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> p) <em class="brace">{</em>
<div class="comment">
          A policy provider not on the bootclasspath could trigger
          security checks fulfilling a call to either Policy.implies
          or Policy.getPermissions. If this does occur the provider
          must be able to answer for it's own ProtectionDomain
          without triggering additional security checks, otherwise
          the policy implementation will end up in an infinite
          recursion.
          To mitigate this, the provider can collect it's own
          ProtectionDomain and associate a PermissionCollection while
          it is being installed. The currently installed policy
          provider (if there is one) will handle calls to
          Policy.implies or Policy.getPermissions during this
          process.
          This Policy superclass caches away the ProtectionDomain and
          statically binds permissions so that legacy Policy
          implementations will continue to function.</div>
<a id="L304" name="L304"></a> 304 
<a id="L305" name="L305"></a> 305         <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> policyDomain =
<a id="L306" name="L306"></a> 306         <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(<strong class="reserved">new</strong> <a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>&gt;() <em class="brace">{</em>
<a id="L307" name="L307"></a> 307             <strong class="reserved">public</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L308" name="L308"></a> 308                 <strong class="reserved">return</strong> p.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/21746.html" title="Multiple defined in 2 places.">getProtectionDomain</a>();
<a id="L309" name="L309"></a> 309             <em class="brace">}</em>
<a id="L310" name="L310"></a> 310         <em class="brace">}</em>);
<a id="L311" name="L311"></a> 311 
<div class="comment">
          Collect the permissions granted to this protection domain
          so that the provider can be security checked while processing
          calls to Policy.implies or Policy.getPermissions.</div>
<a id="L317" name="L317"></a> 317         <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> policyPerms = <strong class="reserved">null</strong>;
<a id="L318" name="L318"></a> 318         <strong class="reserved">synchronized</strong> (p) <em class="brace">{</em>
<a id="L319" name="L319"></a> 319             <strong class="reserved">if</strong> (p.pdMapping == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                 p.pdMapping = <strong class="reserved">new</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;&gt;();
<a id="L321" name="L321"></a> 321            <em class="brace">}</em>
<a id="L322" name="L322"></a> 322         <em class="brace">}</em>
<a id="L323" name="L323"></a> 323 
<a id="L324" name="L324"></a> 324         <strong class="reserved">if</strong> (policyDomain.<a href="../D/17761.html" title="Multiple defined in 5 places.">getCodeSource</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L325" name="L325"></a> 325             <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> pol = policy.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>().policy;
<a id="L326" name="L326"></a> 326             <strong class="reserved">if</strong> (pol != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L327" name="L327"></a> 327                 policyPerms = pol.<a href="../D/21480.html" title="Multiple defined in 11 places.">getPermissions</a>(policyDomain);
<a id="L328" name="L328"></a> 328             <em class="brace">}</em>
<a id="L329" name="L329"></a> 329 
<a id="L330" name="L330"></a> 330             <strong class="reserved">if</strong> (policyPerms == <strong class="reserved">null</strong>) <em class="brace">{</em> <em class="comment">// assume it has all</em>
<a id="L331" name="L331"></a> 331                 policyPerms = <strong class="reserved">new</strong> <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a>();
<a id="L332" name="L332"></a> 332                 policyPerms.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(SecurityConstants.ALL_PERMISSION);
<a id="L333" name="L333"></a> 333             <em class="brace">}</em>
<a id="L334" name="L334"></a> 334 
<a id="L335" name="L335"></a> 335             <strong class="reserved">synchronized</strong> (p.pdMapping) <em class="brace">{</em>
<a id="L336" name="L336"></a> 336                 <em class="comment">// cache of pd to permissions</em>
<a id="L337" name="L337"></a> 337                 p.pdMapping.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(policyDomain.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, policyPerms);
<a id="L338" name="L338"></a> 338             <em class="brace">}</em>
<a id="L339" name="L339"></a> 339         <em class="brace">}</em>
<a id="L340" name="L340"></a> 340         <strong class="reserved">return</strong>;
<a id="L341" name="L341"></a> 341     <em class="brace">}</em>
<a id="L342" name="L342"></a> 342 
<a id="L343" name="L343"></a> 343 
<div class="comment">
      Returns a Policy object of the specified type.
      <p> This method traverses the list of registered security providers,
      starting with the most preferred Provider.
      A new Policy object encapsulating the
      PolicySpi implementation from the first
      Provider that supports the specified type is returned.
      </p><p> Note that the list of registered providers may be retrieved via
      the {@link Security#getProviders() Security.getProviders()} method.
      @param type the specified Policy type.  See the Policy section in the
         <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#Policy">
         Java Cryptography Architecture Standard Algorithm Name Documentation</a>
         for a list of standard Policy types.
      @param params parameters for the Policy, which may be null.
      @return the new Policy object.
      @exception SecurityException if the caller does not have permission
               to get a Policy instance for the specified type.
      @exception NullPointerException if the specified type is null.
      @exception IllegalArgumentException if the specified parameters
               are not understood by the PolicySpi implementation
               from the selected Provider.
      @exception NoSuchAlgorithmException if no Provider supports a PolicySpi
               implementation for the specified type.
      @see Provider
      @since 1.6</p></div>
<a id="L381" name="L381"></a> 381     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>)
<a id="L382" name="L382"></a> 382                 <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L383" name="L383"></a> 383 
<a id="L384" name="L384"></a> 384         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L385" name="L385"></a> 385         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L386" name="L386"></a> 386             GetInstance.Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("Policy",
<a id="L387" name="L387"></a> 387                                                         <a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a>.<strong class="reserved">class</strong>,
<a id="L388" name="L388"></a> 388                                                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L389" name="L389"></a> 389                                                         <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>);
<a id="L390" name="L390"></a> 390             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1350.html#L749" title="Defined at 749 in src/java/security/Policy.java.">PolicyDelegate</a>((<a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a>)<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>,
<a id="L391" name="L391"></a> 391                                                         <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L392" name="L392"></a> 392                                                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L393" name="L393"></a> 393                                                         <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>);
<a id="L394" name="L394"></a> 394         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L395" name="L395"></a> 395             <strong class="reserved">return</strong> <a href="../D/23978.html" title="Multiple defined in 4 places.">handleException</a>(nsae);
<a id="L396" name="L396"></a> 396         <em class="brace">}</em>
<a id="L397" name="L397"></a> 397     <em class="brace">}</em>
<a id="L398" name="L398"></a> 398 
<div class="comment">
      Returns a Policy object of the specified type.
      <p> A new Policy object encapsulating the
      PolicySpi implementation from the specified provider
      is returned.   The specified provider must be registered
      in the provider list.
      </p><p> Note that the list of registered providers may be retrieved via
      the {@link Security#getProviders() Security.getProviders()} method.
      @param type the specified Policy type.  See the Policy section in the
         <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#Policy">
         Java Cryptography Architecture Standard Algorithm Name Documentation</a>
         for a list of standard Policy types.
      @param params parameters for the Policy, which may be null.
      @param provider the provider.
      @return the new Policy object.
      @exception SecurityException if the caller does not have permission
               to get a Policy instance for the specified type.
      @exception NullPointerException if the specified type is null.
      @exception IllegalArgumentException if the specified provider
               is null or empty,
               or if the specified parameters are not understood by
               the PolicySpi implementation from the specified provider.
      @exception NoSuchProviderException if the specified provider is not
               registered in the security provider list.
      @exception NoSuchAlgorithmException if the specified provider does not
               support a PolicySpi implementation for the specified type.
      @see Provider
      @since 1.6</p></div>
<a id="L441" name="L441"></a> 441     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L442" name="L442"></a> 442                                 <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>,
<a id="L443" name="L443"></a> 443                                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L444" name="L444"></a> 444                 <strong class="reserved">throws</strong> <a href="../S/1205.html#L35" title="Defined at 35 in src/java/security/NoSuchProviderException.java.">NoSuchProviderException</a>, <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L445" name="L445"></a> 445 
<a id="L446" name="L446"></a> 446         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong> || <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0) <em class="brace">{</em>
<a id="L447" name="L447"></a> 447             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("missing provider");
<a id="L448" name="L448"></a> 448         <em class="brace">}</em>
<a id="L449" name="L449"></a> 449 
<a id="L450" name="L450"></a> 450         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L451" name="L451"></a> 451         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L452" name="L452"></a> 452             GetInstance.Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("Policy",
<a id="L453" name="L453"></a> 453                                                         <a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a>.<strong class="reserved">class</strong>,
<a id="L454" name="L454"></a> 454                                                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L455" name="L455"></a> 455                                                         <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>,
<a id="L456" name="L456"></a> 456                                                         <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L457" name="L457"></a> 457             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1350.html#L749" title="Defined at 749 in src/java/security/Policy.java.">PolicyDelegate</a>((<a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a>)<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>,
<a id="L458" name="L458"></a> 458                                                         <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L459" name="L459"></a> 459                                                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L460" name="L460"></a> 460                                                         <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>);
<a id="L461" name="L461"></a> 461         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             <strong class="reserved">return</strong> <a href="../D/23978.html" title="Multiple defined in 4 places.">handleException</a>(nsae);
<a id="L463" name="L463"></a> 463         <em class="brace">}</em>
<a id="L464" name="L464"></a> 464     <em class="brace">}</em>
<a id="L465" name="L465"></a> 465 
<div class="comment">
      Returns a Policy object of the specified type.
      <p> A new Policy object encapsulating the
      PolicySpi implementation from the specified Provider
      object is returned.  Note that the specified Provider object
      does not have to be registered in the provider list.
      @param type the specified Policy type.  See the Policy section in the
         <a href="{@docRoot}/../technotes/guides/security/StandardNames.html#Policy">
         Java Cryptography Architecture Standard Algorithm Name Documentation</a>
         for a list of standard Policy types.
      @param params parameters for the Policy, which may be null.
      @param provider the Provider.
      @return the new Policy object.
      @exception SecurityException if the caller does not have permission
               to get a Policy instance for the specified type.
      @exception NullPointerException if the specified type is null.
      @exception IllegalArgumentException if the specified Provider is null,
               or if the specified parameters are not understood by
               the PolicySpi implementation from the specified Provider.
      @exception NoSuchAlgorithmException if the specified Provider does not
               support a PolicySpi implementation for the specified type.
      @see Provider
      @since 1.6</p></div>
<a id="L501" name="L501"></a> 501     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../R/17115.html" title="Multiple referred from 459 places.">getInstance</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L502" name="L502"></a> 502                                 <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>,
<a id="L503" name="L503"></a> 503                                 <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>)
<a id="L504" name="L504"></a> 504                 <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L505" name="L505"></a> 505 
<a id="L506" name="L506"></a> 506         <strong class="reserved">if</strong> (<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L507" name="L507"></a> 507             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("missing provider");
<a id="L508" name="L508"></a> 508         <em class="brace">}</em>
<a id="L509" name="L509"></a> 509 
<a id="L510" name="L510"></a> 510         <a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L511" name="L511"></a> 511         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L512" name="L512"></a> 512             GetInstance.Instance <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a> = GetInstance.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("Policy",
<a id="L513" name="L513"></a> 513                                                         <a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a>.<strong class="reserved">class</strong>,
<a id="L514" name="L514"></a> 514                                                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L515" name="L515"></a> 515                                                         <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>,
<a id="L516" name="L516"></a> 516                                                         <a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>);
<a id="L517" name="L517"></a> 517             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1350.html#L749" title="Defined at 749 in src/java/security/Policy.java.">PolicyDelegate</a>((<a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a>)<a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>,
<a id="L518" name="L518"></a> 518                                                         <a href="../D/24872.html" title="Multiple defined in 6 places.">instance</a>.<a href="../D/29909.html" title="Multiple defined in 12 places.">provider</a>,
<a id="L519" name="L519"></a> 519                                                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>,
<a id="L520" name="L520"></a> 520                                                         <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>);
<a id="L521" name="L521"></a> 521         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae) <em class="brace">{</em>
<a id="L522" name="L522"></a> 522             <strong class="reserved">return</strong> <a href="../D/23978.html" title="Multiple defined in 4 places.">handleException</a>(nsae);
<a id="L523" name="L523"></a> 523         <em class="brace">}</em>
<a id="L524" name="L524"></a> 524     <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <a href="../R/20094.html" title="Multiple referred from 10 places.">handleException</a>(<a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> nsae)
<a id="L527" name="L527"></a> 527                 <strong class="reserved">throws</strong> <a href="../S/1319.html#L35" title="Defined at 35 in src/java/security/NoSuchAlgorithmException.java.">NoSuchAlgorithmException</a> <em class="brace">{</em>
<a id="L528" name="L528"></a> 528         <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> cause = nsae.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>();
<a id="L529" name="L529"></a> 529         <strong class="reserved">if</strong> (cause <strong class="reserved">instanceof</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>) <em class="brace">{</em>
<a id="L530" name="L530"></a> 530             <strong class="reserved">throw</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>)cause;
<a id="L531" name="L531"></a> 531         <em class="brace">}</em>
<a id="L532" name="L532"></a> 532         <strong class="reserved">throw</strong> nsae;
<a id="L533" name="L533"></a> 533     <em class="brace">}</em>
<a id="L534" name="L534"></a> 534 
<div class="comment">
      Return the Provider of this Policy.
      <p> This Policy instance will only have a Provider if it
      was obtained via a call to <code>Policy.getInstance</code>.
      Otherwise this method returns null.
      @return the Provider of this Policy, or null.
      @since 1.6</p></div>
<a id="L546" name="L546"></a> 546     <strong class="reserved">public</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../R/18534.html" title="Multiple referred from 23 places.">getProvider</a>() <em class="brace">{</em>
<a id="L547" name="L547"></a> 547         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L548" name="L548"></a> 548     <em class="brace">}</em>
<a id="L549" name="L549"></a> 549 
<div class="comment">
      Return the type of this Policy.
      <p> This Policy instance will only have a type if it
      was obtained via a call to <code>Policy.getInstance</code>.
      Otherwise this method returns null.
      @return the type of this Policy, or null.
      @since 1.6</p></div>
<a id="L561" name="L561"></a> 561     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em>
<a id="L562" name="L562"></a> 562         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L563" name="L563"></a> 563     <em class="brace">}</em>
<a id="L564" name="L564"></a> 564 
<div class="comment">
      Return Policy parameters.
      <p> This Policy instance will only have parameters if it
      was obtained via a call to <code>Policy.getInstance</code>.
      Otherwise this method returns null.
      @return Policy parameters, or null.
      @since 1.6</p></div>
<a id="L576" name="L576"></a> 576     <strong class="reserved">public</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../R/18260.html" title="Multiple referred from 9 places.">getParameters</a>() <em class="brace">{</em>
<a id="L577" name="L577"></a> 577         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L578" name="L578"></a> 578     <em class="brace">}</em>
<a id="L579" name="L579"></a> 579 
<div class="comment">
      Return a PermissionCollection object containing the set of
      permissions granted to the specified CodeSource.
      <p> Applications are discouraged from calling this method
      since this operation may not be supported by all policy implementations.
      Applications should solely rely on the <code>implies</code> method
      to perform policy checks.  If an application absolutely must call
      a getPermissions method, it should call
      <code>getPermissions(ProtectionDomain)</code>.
      </p><p> The default implementation of this method returns
      Policy.UNSUPPORTED_EMPTY_COLLECTION.  This method can be
      overridden if the policy implementation can return a set of
      permissions granted to a CodeSource.
      @param codesource the CodeSource to which the returned
               PermissionCollection has been granted.
      @return a set of permissions granted to the specified CodeSource.
               If this operation is supported, the returned
               set of permissions must be a new mutable instance
               and it must support heterogeneous Permission types.
               If this operation is not supported,
               Policy.UNSUPPORTED_EMPTY_COLLECTION is returned.</p></div>
<a id="L606" name="L606"></a> 606     <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/18335.html" title="Multiple referred from 13 places.">getPermissions</a>(<a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> codesource) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607         <strong class="reserved">return</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.UNSUPPORTED_EMPTY_COLLECTION;
<a id="L608" name="L608"></a> 608     <em class="brace">}</em>
<a id="L609" name="L609"></a> 609 
<div class="comment">
      Return a PermissionCollection object containing the set of
      permissions granted to the specified ProtectionDomain.
      <p> Applications are discouraged from calling this method
      since this operation may not be supported by all policy implementations.
      Applications should rely on the <code>implies</code> method
      to perform policy checks.
      </p><p> The default implementation of this method first retrieves
      the permissions returned via <code>getPermissions(CodeSource)</code>
      (the CodeSource is taken from the specified ProtectionDomain),
      as well as the permissions located inside the specified ProtectionDomain.
      All of these permissions are then combined and returned in a new
      PermissionCollection object.  If <code>getPermissions(CodeSource)</code>
      returns Policy.UNSUPPORTED_EMPTY_COLLECTION, then this method
      returns the permissions contained inside the specified ProtectionDomain
      in a new PermissionCollection object.
      </p><p> This method can be overridden if the policy implementation
      supports returning a set of permissions granted to a ProtectionDomain.
      @param domain the ProtectionDomain to which the returned
               PermissionCollection has been granted.
      @return a set of permissions granted to the specified ProtectionDomain.
               If this operation is supported, the returned
               set of permissions must be a new mutable instance
               and it must support heterogeneous Permission types.
               If this operation is not supported,
               Policy.UNSUPPORTED_EMPTY_COLLECTION is returned.
      @since 1.4</p></div>
<a id="L644" name="L644"></a> 644     <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/18335.html" title="Multiple referred from 13 places.">getPermissions</a>(<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645         <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> pc = <strong class="reserved">null</strong>;
<a id="L646" name="L646"></a> 646 
<a id="L647" name="L647"></a> 647         <strong class="reserved">if</strong> (<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a> == <strong class="reserved">null</strong>)
<a id="L648" name="L648"></a> 648             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a>();
<a id="L649" name="L649"></a> 649 
<a id="L650" name="L650"></a> 650         <strong class="reserved">if</strong> (pdMapping == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L651" name="L651"></a> 651             <a href="../S/1350.html#L283" title="Defined at 283 in src/java/security/Policy.java.">initPolicy</a>(<strong class="reserved">this</strong>);
<a id="L652" name="L652"></a> 652         <em class="brace">}</em>
<a id="L653" name="L653"></a> 653 
<a id="L654" name="L654"></a> 654         <strong class="reserved">synchronized</strong> (pdMapping) <em class="brace">{</em>
<a id="L655" name="L655"></a> 655             pc = pdMapping.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L656" name="L656"></a> 656         <em class="brace">}</em>
<a id="L657" name="L657"></a> 657 
<a id="L658" name="L658"></a> 658         <strong class="reserved">if</strong> (pc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L659" name="L659"></a> 659             <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a> perms = <strong class="reserved">new</strong> <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a>();
<a id="L660" name="L660"></a> 660             <strong class="reserved">synchronized</strong> (pc) <em class="brace">{</em>
<a id="L661" name="L661"></a> 661                 <strong class="reserved">for</strong> (<a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; e = pc.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>() ; e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>() ;) <em class="brace">{</em>
<a id="L662" name="L662"></a> 662                     perms.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>());
<a id="L663" name="L663"></a> 663                 <em class="brace">}</em>
<a id="L664" name="L664"></a> 664             <em class="brace">}</em>
<a id="L665" name="L665"></a> 665             <strong class="reserved">return</strong> perms;
<a id="L666" name="L666"></a> 666         <em class="brace">}</em>
<a id="L667" name="L667"></a> 667 
<a id="L668" name="L668"></a> 668         pc = <a href="../D/21480.html" title="Multiple defined in 11 places.">getPermissions</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/17761.html" title="Multiple defined in 5 places.">getCodeSource</a>());
<a id="L669" name="L669"></a> 669         <strong class="reserved">if</strong> (pc == <strong class="reserved">null</strong> || pc == UNSUPPORTED_EMPTY_COLLECTION) <em class="brace">{</em>
<a id="L670" name="L670"></a> 670             pc = <strong class="reserved">new</strong> <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a>();
<a id="L671" name="L671"></a> 671         <em class="brace">}</em>
<a id="L672" name="L672"></a> 672 
<a id="L673" name="L673"></a> 673         <a href="../S/1350.html#L680" title="Defined at 680 in src/java/security/Policy.java.">addStaticPerms</a>(pc, <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/21480.html" title="Multiple defined in 11 places.">getPermissions</a>());
<a id="L674" name="L674"></a> 674         <strong class="reserved">return</strong> pc;
<a id="L675" name="L675"></a> 675     <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<div class="comment">
      add static permissions to provided permission collection</div>
<a id="L680" name="L680"></a> 680     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1350.html#L673" title="Referred from 673 in src/java/security/Policy.java.">addStaticPerms</a>(<a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> perms,
<a id="L681" name="L681"></a> 681                                 <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> statics) <em class="brace">{</em>
<a id="L682" name="L682"></a> 682         <strong class="reserved">if</strong> (statics != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L683" name="L683"></a> 683             <strong class="reserved">synchronized</strong> (statics) <em class="brace">{</em>
<a id="L684" name="L684"></a> 684                 <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; e = statics.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L685" name="L685"></a> 685                 <strong class="reserved">while</strong> (e.<a href="../D/24128.html" title="Multiple defined in 32 places.">hasMoreElements</a>()) <em class="brace">{</em>
<a id="L686" name="L686"></a> 686                     perms.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(e.<a href="../D/28145.html" title="Multiple defined in 35 places.">nextElement</a>());
<a id="L687" name="L687"></a> 687                 <em class="brace">}</em>
<a id="L688" name="L688"></a> 688             <em class="brace">}</em>
<a id="L689" name="L689"></a> 689         <em class="brace">}</em>
<a id="L690" name="L690"></a> 690     <em class="brace">}</em>
<a id="L691" name="L691"></a> 691 
<div class="comment">
      Evaluates the global policy for the permissions granted to
      the ProtectionDomain and tests whether the permission is
      granted.
      @param domain the ProtectionDomain to test
      @param permission the Permission object to be tested for implication.
      @return true if "permission" is a proper subset of a permission
      granted to this ProtectionDomain.
      @see java.security.ProtectionDomain
      @since 1.4</div>
<a id="L706" name="L706"></a> 706     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707         <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> pc;
<a id="L708" name="L708"></a> 708 
<a id="L709" name="L709"></a> 709         <strong class="reserved">if</strong> (pdMapping == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L710" name="L710"></a> 710             <a href="../S/1350.html#L283" title="Defined at 283 in src/java/security/Policy.java.">initPolicy</a>(<strong class="reserved">this</strong>);
<a id="L711" name="L711"></a> 711         <em class="brace">}</em>
<a id="L712" name="L712"></a> 712 
<a id="L713" name="L713"></a> 713         <strong class="reserved">synchronized</strong> (pdMapping) <em class="brace">{</em>
<a id="L714" name="L714"></a> 714             pc = pdMapping.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L715" name="L715"></a> 715         <em class="brace">}</em>
<a id="L716" name="L716"></a> 716 
<a id="L717" name="L717"></a> 717         <strong class="reserved">if</strong> (pc != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L718" name="L718"></a> 718             <strong class="reserved">return</strong> pc.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission);
<a id="L719" name="L719"></a> 719         <em class="brace">}</em>
<a id="L720" name="L720"></a> 720 
<a id="L721" name="L721"></a> 721         pc = <a href="../D/21480.html" title="Multiple defined in 11 places.">getPermissions</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>);
<a id="L722" name="L722"></a> 722         <strong class="reserved">if</strong> (pc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L723" name="L723"></a> 723             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L724" name="L724"></a> 724         <em class="brace">}</em>
<a id="L725" name="L725"></a> 725 
<a id="L726" name="L726"></a> 726         <strong class="reserved">synchronized</strong> (pdMapping) <em class="brace">{</em>
<a id="L727" name="L727"></a> 727             <em class="comment">// cache it</em>
<a id="L728" name="L728"></a> 728             pdMapping.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>.<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>, pc);
<a id="L729" name="L729"></a> 729         <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<a id="L731" name="L731"></a> 731         <strong class="reserved">return</strong> pc.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission);
<a id="L732" name="L732"></a> 732     <em class="brace">}</em>
<a id="L733" name="L733"></a> 733 
<div class="comment">
      Refreshes/reloads the policy configuration. The behavior of this method
      depends on the implementation. For example, calling <code>refresh</code>
      on a file-based policy will cause the file to be re-read.
      <p> The default implementation of this method does nothing.
      This method should be overridden if a refresh operation is supported
      by the policy implementation.</p></div>
<a id="L743" name="L743"></a> 743     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25739.html" title="Multiple referred from 7 places.">refresh</a>() <em class="brace">{</em> <em class="brace">}</em>
<a id="L744" name="L744"></a> 744 
<div class="comment">
      This subclass is returned by the getInstance calls.  All Policy calls
      are delegated to the underlying PolicySpi.</div>
<a id="L749" name="L749"></a> 749     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6130.html" title="Multiple referred from 3 places.">PolicyDelegate</a> <strong class="reserved">extends</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a> <em class="brace">{</em>
<a id="L750" name="L750"></a> 750 
<a id="L751" name="L751"></a> 751         <strong class="reserved">private</strong> <a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a> spi;
<a id="L752" name="L752"></a> 752         <strong class="reserved">private</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> p;
<a id="L753" name="L753"></a> 753         <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L754" name="L754"></a> 754         <strong class="reserved">private</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>;
<a id="L755" name="L755"></a> 755 
<a id="L756" name="L756"></a> 756         <strong class="reserved">private</strong> PolicyDelegate(<a href="../S/1195.html#L45" title="Defined at 45 in src/java/security/PolicySpi.java.">PolicySpi</a> spi, <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> p,
<a id="L757" name="L757"></a> 757                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>) <em class="brace">{</em>
<a id="L758" name="L758"></a> 758             <strong class="reserved">this</strong>.spi = spi;
<a id="L759" name="L759"></a> 759             <strong class="reserved">this</strong>.p = p;
<a id="L760" name="L760"></a> 760             <strong class="reserved">this</strong>.<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L761" name="L761"></a> 761             <strong class="reserved">this</strong>.<a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a> = <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>;
<a id="L762" name="L762"></a> 762         <em class="brace">}</em>
<a id="L763" name="L763"></a> 763 
<a id="L764" name="L764"></a> 764         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/19609.html" title="Multiple referred from 540 places.">getType</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>; <em class="brace">}</em>
<a id="L765" name="L765"></a> 765 
<a id="L766" name="L766"></a> 766         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../D/6725.html" title="Multiple defined in 3 places.">Policy</a>.<a href="../D/6612.html" title="Multiple defined in 2 places.">Parameters</a> <a href="../R/18260.html" title="Multiple referred from 9 places.">getParameters</a>() <em class="brace">{</em> <strong class="reserved">return</strong> <a href="../S/235.html#L141" title="Defined at 141 in src/org/omg/CORBA/ServerRequest.java.">params</a>; <em class="brace">}</em>
<a id="L767" name="L767"></a> 767 
<a id="L768" name="L768"></a> 768         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../D/6950.html" title="Multiple defined in 4 places.">Provider</a> <a href="../R/18534.html" title="Multiple referred from 23 places.">getProvider</a>() <em class="brace">{</em> <strong class="reserved">return</strong> p; <em class="brace">}</em>
<a id="L769" name="L769"></a> 769 
<a id="L770" name="L770"></a> 770         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L771" name="L771"></a> 771         <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/18335.html" title="Multiple referred from 13 places.">getPermissions</a>(<a href="../S/1318.html#L48" title="Defined at 48 in src/java/security/CodeSource.java.">CodeSource</a> codesource) <em class="brace">{</em>
<a id="L772" name="L772"></a> 772             <strong class="reserved">return</strong> spi.<a href="../D/15539.html" title="Multiple defined in 2 places.">engineGetPermissions</a>(codesource);
<a id="L773" name="L773"></a> 773         <em class="brace">}</em>
<a id="L774" name="L774"></a> 774         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L775" name="L775"></a> 775         <strong class="reserved">public</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <a href="../R/18335.html" title="Multiple referred from 13 places.">getPermissions</a>(<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>) <em class="brace">{</em>
<a id="L776" name="L776"></a> 776             <strong class="reserved">return</strong> spi.<a href="../D/15539.html" title="Multiple defined in 2 places.">engineGetPermissions</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>);
<a id="L777" name="L777"></a> 777         <em class="brace">}</em>
<a id="L778" name="L778"></a> 778         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L779" name="L779"></a> 779         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a> <a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>, <a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> perm) <em class="brace">{</em>
<a id="L780" name="L780"></a> 780             <strong class="reserved">return</strong> spi.<a href="../S/1195.html#L57" title="Defined at 57 in src/java/security/PolicySpi.java.">engineImplies</a>(<a href="../D/15115.html" title="Multiple defined in 2 places.">domain</a>, perm);
<a id="L781" name="L781"></a> 781         <em class="brace">}</em>
<a id="L782" name="L782"></a> 782         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L783" name="L783"></a> 783         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/25739.html" title="Multiple referred from 7 places.">refresh</a>() <em class="brace">{</em>
<a id="L784" name="L784"></a> 784             spi.<a href="../D/15558.html" title="Multiple defined in 2 places.">engineRefresh</a>();
<a id="L785" name="L785"></a> 785         <em class="brace">}</em>
<a id="L786" name="L786"></a> 786     <em class="brace">}</em>
<a id="L787" name="L787"></a> 787 
<div class="comment">
      This represents a marker interface for Policy parameters.
      @since 1.6</div>
<a id="L793" name="L793"></a> 793     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">interface</strong> <a href="../R/6021.html" title="Multiple referred from 15 places.">Parameters</a> <em class="brace">{</em> <em class="brace">}</em>
<a id="L794" name="L794"></a> 794 
<div class="comment">
      This class represents a read-only empty PermissionCollection object that
      is returned from the <code>getPermissions(CodeSource)</code> and
      <code>getPermissions(ProtectionDomain)</code>
      methods in the Policy class when those operations are not
      supported by the Policy implementation.</div>
<a id="L802" name="L802"></a> 802     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../S/1350.html#L93" title="Referred from 93 in src/java/security/Policy.java.">UnsupportedEmptyCollection</a>
<a id="L803" name="L803"></a> 803         <strong class="reserved">extends</strong> <a href="../S/1216.html#L94" title="Defined at 94 in src/java/security/PermissionCollection.java.">PermissionCollection</a> <em class="brace">{</em>
<a id="L804" name="L804"></a> 804 
<a id="L805" name="L805"></a> 805         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -8492269157353014774L;
<a id="L806" name="L806"></a> 806 
<a id="L807" name="L807"></a> 807         <strong class="reserved">private</strong> <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a> perms;
<a id="L808" name="L808"></a> 808 
<div class="comment">
          Create a read-only empty PermissionCollection object.</div>
<a id="L812" name="L812"></a> 812         <strong class="reserved">public</strong> UnsupportedEmptyCollection() <em class="brace">{</em>
<a id="L813" name="L813"></a> 813             <strong class="reserved">this</strong>.perms = <strong class="reserved">new</strong> <a href="../S/1353.html#L81" title="Defined at 81 in src/java/security/Permissions.java.">Permissions</a>();
<a id="L814" name="L814"></a> 814             perms.<a href="../D/33663.html" title="Multiple defined in 19 places.">setReadOnly</a>();
<a id="L815" name="L815"></a> 815         <em class="brace">}</em>
<a id="L816" name="L816"></a> 816 
<div class="comment">
          Adds a permission object to the current collection of permission
          objects.
          @param permission the Permission object to add.
          @exception SecurityException - if this PermissionCollection object
                                         has been marked readonly</div>
<a id="L826" name="L826"></a> 826         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L827" name="L827"></a> 827             perms.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(permission);
<a id="L828" name="L828"></a> 828         <em class="brace">}</em>
<a id="L829" name="L829"></a> 829 
<div class="comment">
          Checks to see if the specified permission is implied by the
          collection of Permission objects held in this PermissionCollection.
          @param permission the Permission object to compare.
          @return true if "permission" is implied by the permissions in
          the collection, false if not.</div>
<a id="L839" name="L839"></a> 839         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20435.html" title="Multiple referred from 23 places.">implies</a>(<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a> permission) <em class="brace">{</em>
<a id="L840" name="L840"></a> 840             <strong class="reserved">return</strong> perms.<a href="../D/24381.html" title="Multiple defined in 34 places.">implies</a>(permission);
<a id="L841" name="L841"></a> 841         <em class="brace">}</em>
<a id="L842" name="L842"></a> 842 
<div class="comment">
          Returns an enumeration of all the Permission objects in the
          collection.
          @return an enumeration of all the Permissions.</div>
<a id="L849" name="L849"></a> 849         @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a> <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../D/6689.html" title="Multiple defined in 2 places.">Permission</a>&gt; <a href="../R/13650.html" title="Multiple referred from 679 places.">elements</a>() <em class="brace">{</em>
<a id="L850" name="L850"></a> 850             <strong class="reserved">return</strong> perms.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>();
<a id="L851" name="L851"></a> 851         <em class="brace">}</em>
<a id="L852" name="L852"></a> 852     <em class="brace">}</em>
<a id="L853" name="L853"></a> 853 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L118">[^]</a><a href="#L849">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>