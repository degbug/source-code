<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/BitSet.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L1224">[^]</a><a href="#L1229">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L1224" title="Defined at 1224.">hasNext</a></li>
<li><a href="#L1229" title="Defined at 1229.">nextInt</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2014, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.nio.ByteBuffer;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.nio.ByteOrder;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.nio.LongBuffer;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.util.stream.IntStream;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.util.stream.StreamSupport;
<a id="L34" name="L34"></a>  34 
<div class="comment">
  This class implements a vector of bits that grows as needed. Each
  component of the bit set has a <code>boolean</code> value. The
  bits of a <code>BitSet</code> are indexed by nonnegative integers.
  Individual indexed bits can be examined, set, or cleared. One
  <code>BitSet</code> may be used to modify the contents of another
  <code>BitSet</code> through logical AND, logical inclusive OR, and
  logical exclusive OR operations.
  <p>By default, all bits in the set initially have the value
  <code>false</code>.
  </p><p>Every bit set has a current size, which is the number of bits
  of space currently in use by the bit set. Note that the size is
  related to the implementation of a bit set, so it may change with
  implementation. The length of a bit set relates to logical length
  of a bit set and is defined independently of implementation.
  </p><p>Unless otherwise noted, passing a null parameter to any of the
  methods in a <code>BitSet</code> will result in a
  <code>NullPointerException</code>.
  </p><p>A <code>BitSet</code> is not safe for multithreaded use without
  external synchronization.
  @author  Arthur van Hoff
  @author  Michael McCloskey
  @author  Martin Buchholz
  @since   JDK1.0</p></div>
<a id="L65" name="L65"></a>  65 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/825.html" title="Multiple referred from 100 places.">BitSet</a> <strong class="reserved">implements</strong> <a href="../S/1744.html#L53" title="Defined at 53 in src/java/lang/Cloneable.java.">Cloneable</a>, <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<div class="comment">
      BitSets are packed into arrays of "words."  Currently a word is
      a long, which consists of 64 bits, requiring 6 address bits.
      The choice of word size is determined purely by performance concerns.</div>
<a id="L71" name="L71"></a>  71     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> ADDRESS_BITS_PER_WORD = 6;
<a id="L72" name="L72"></a>  72     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> BITS_PER_WORD = 1 &lt;&lt; ADDRESS_BITS_PER_WORD;
<a id="L73" name="L73"></a>  73     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> BIT_INDEX_MASK = BITS_PER_WORD - 1;
<a id="L74" name="L74"></a>  74 
<div class="comment">
     /* Used to shift left or right for a partial word mask */</div>
<a id="L76" name="L76"></a>  76     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> WORD_MASK = 0xffffffffffffffffL;
<a id="L77" name="L77"></a>  77 
<div class="comment">
      @serialField bits long[]
      The bits in this BitSet.  The ith bit is stored in bits[i/64] at
      bit position i % 64 (where bit position 0 refers to the least
      significant bit and 63 refers to the most significant bit).</div>
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L86" name="L86"></a>  86         <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("bits", <strong class="reserved">long</strong>[].<strong class="reserved">class</strong>),
<a id="L87" name="L87"></a>  87     <em class="brace">}</em>;
<a id="L88" name="L88"></a>  88 
<div class="comment">
      The internal field corresponding to the serialField "bits".</div>
<a id="L92" name="L92"></a>  92     <strong class="reserved">private</strong> <strong class="reserved">long</strong>[] words;
<a id="L93" name="L93"></a>  93 
<div class="comment">
      The number of words in the logical size of this BitSet.</div>
<a id="L97" name="L97"></a>  97     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> wordsInUse = 0;
<a id="L98" name="L98"></a>  98 
<div class="comment">
      Whether the size of "words" is user-specified.  If so, we assume
      the user knows what he's doing and try harder to preserve it.</div>
<a id="L103" name="L103"></a> 103     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">boolean</strong> sizeIsSticky = <strong class="reserved">false</strong>;
<a id="L104" name="L104"></a> 104 
<div class="comment">
     /* use serialVersionUID from JDK 1.0.2 for interoperability */</div>
<a id="L106" name="L106"></a> 106     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 7997698588986878753L;
<a id="L107" name="L107"></a> 107 
<div class="comment">
      Given a bit index, return word index containing it.</div>
<a id="L111" name="L111"></a> 111     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">int</strong> wordIndex(<strong class="reserved">int</strong> bitIndex) <em class="brace">{</em>
<a id="L112" name="L112"></a> 112         <strong class="reserved">return</strong> bitIndex &gt;&gt; ADDRESS_BITS_PER_WORD;
<a id="L113" name="L113"></a> 113     <em class="brace">}</em>
<a id="L114" name="L114"></a> 114 
<div class="comment">
      Every public method must preserve these invariants.</div>
<a id="L118" name="L118"></a> 118     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>() <em class="brace">{</em>
<a id="L119" name="L119"></a> 119         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a>(wordsInUse == 0 || words[wordsInUse - 1] != 0);
<a id="L120" name="L120"></a> 120         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a>(wordsInUse &gt;= 0 &amp;&amp; wordsInUse &lt;= words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L121" name="L121"></a> 121         <a href="../S/1616.html#L490" title="Defined at 490 in src/java/lang/invoke/MethodType.java.">assert</a>(wordsInUse == words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> || words[wordsInUse] == 0);
<a id="L122" name="L122"></a> 122     <em class="brace">}</em>
<a id="L123" name="L123"></a> 123 
<div class="comment">
      Sets the field wordsInUse to the logical size in words of the bit set.
      WARNING:This method assumes that the number of words actually in use is
      less than or equal to the current value of wordsInUse!</div>
<a id="L129" name="L129"></a> 129     <strong class="reserved">private</strong> <strong class="reserved">void</strong> recalculateWordsInUse() <em class="brace">{</em>
<a id="L130" name="L130"></a> 130         <em class="comment">// Traverse the bitset until a used word is found</em>
<a id="L131" name="L131"></a> 131         <strong class="reserved">int</strong> i;
<a id="L132" name="L132"></a> 132         <strong class="reserved">for</strong> (i = wordsInUse-1; i &gt;= 0; i--)
<a id="L133" name="L133"></a> 133             <strong class="reserved">if</strong> (words[i] != 0)
<a id="L134" name="L134"></a> 134                 <strong class="reserved">break</strong>;
<a id="L135" name="L135"></a> 135 
<a id="L136" name="L136"></a> 136         wordsInUse = i+1; <em class="comment">// The new logical size</em>
<a id="L137" name="L137"></a> 137     <em class="brace">}</em>
<a id="L138" name="L138"></a> 138 
<div class="comment">
      Creates a new bit set. All bits are initially <code>false</code>.</div>
<a id="L142" name="L142"></a> 142     <strong class="reserved">public</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>() <em class="brace">{</em>
<a id="L143" name="L143"></a> 143         initWords(BITS_PER_WORD);
<a id="L144" name="L144"></a> 144         sizeIsSticky = <strong class="reserved">false</strong>;
<a id="L145" name="L145"></a> 145     <em class="brace">}</em>
<a id="L146" name="L146"></a> 146 
<div class="comment">
      Creates a bit set whose initial size is large enough to explicitly
      represent bits with indices in the range <code>0</code> through
      <code>nbits-1</code>. All bits are initially <code>false</code>.
      @param  nbits the initial size of the bit set
      @throws NegativeArraySizeException if the specified initial size
              is negative</div>
<a id="L156" name="L156"></a> 156     <strong class="reserved">public</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(<strong class="reserved">int</strong> nbits) <em class="brace">{</em>
<a id="L157" name="L157"></a> 157         <em class="comment">// nbits can't be negative; size 0 is OK</em>
<a id="L158" name="L158"></a> 158         <strong class="reserved">if</strong> (nbits &lt; 0)
<a id="L159" name="L159"></a> 159             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1752.html#L35" title="Defined at 35 in src/java/lang/NegativeArraySizeException.java.">NegativeArraySizeException</a>("nbits &lt; 0: " + nbits);
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161         initWords(nbits);
<a id="L162" name="L162"></a> 162         sizeIsSticky = <strong class="reserved">true</strong>;
<a id="L163" name="L163"></a> 163     <em class="brace">}</em>
<a id="L164" name="L164"></a> 164 
<a id="L165" name="L165"></a> 165     <strong class="reserved">private</strong> <strong class="reserved">void</strong> initWords(<strong class="reserved">int</strong> nbits) <em class="brace">{</em>
<a id="L166" name="L166"></a> 166         words = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[wordIndex(nbits-1) + 1];
<a id="L167" name="L167"></a> 167     <em class="brace">}</em>
<a id="L168" name="L168"></a> 168 
<div class="comment">
      Creates a bit set using words as the internal representation.
      The last word (if there is one) must be non-zero.</div>
<a id="L173" name="L173"></a> 173     <strong class="reserved">private</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(<strong class="reserved">long</strong>[] words) <em class="brace">{</em>
<a id="L174" name="L174"></a> 174         <strong class="reserved">this</strong>.words = words;
<a id="L175" name="L175"></a> 175         <strong class="reserved">this</strong>.wordsInUse = words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L176" name="L176"></a> 176         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L177" name="L177"></a> 177     <em class="brace">}</em>
<a id="L178" name="L178"></a> 178 
<div class="comment">
      Returns a new bit set containing all the bits in the given long array.
      <p>More precisely,
      <br><code>BitSet.valueOf(longs).get(n) == ((longs[n/64] &amp; (1L&lt;&lt;(n%64))) != 0)</code>
      <br>for all <code>n &lt; 64 * longs.length</code>.
      </p><p>This method is equivalent to
      <code>BitSet.valueOf(LongBuffer.wrap(longs))</code>.
      @param longs a long array containing a little-endian representation
             of a sequence of bits to be used as the initial bits of the
             new bit set
      @return a <code>BitSet</code> containing all the bits in the long array
      @since 1.7</p></div>
<a id="L195" name="L195"></a> 195     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<strong class="reserved">long</strong>[] <a href="../D/27088.html" title="Multiple defined in 12 places.">longs</a>) <em class="brace">{</em>
<a id="L196" name="L196"></a> 196         <strong class="reserved">int</strong> n;
<a id="L197" name="L197"></a> 197         <strong class="reserved">for</strong> (n = <a href="../D/27088.html" title="Multiple defined in 12 places.">longs</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; n &gt; 0 &amp;&amp; <a href="../D/27088.html" title="Multiple defined in 12 places.">longs</a>[n - 1] == 0; n--)
<a id="L198" name="L198"></a> 198             ;
<a id="L199" name="L199"></a> 199         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(<a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(<a href="../D/27088.html" title="Multiple defined in 12 places.">longs</a>, n));
<a id="L200" name="L200"></a> 200     <em class="brace">}</em>
<a id="L201" name="L201"></a> 201 
<div class="comment">
      Returns a new bit set containing all the bits in the given long
      buffer between its position and limit.
      <p>More precisely,
      <br><code>BitSet.valueOf(lb).get(n) == ((lb.get(lb.position()+n/64) &amp; (1L&lt;&lt;(n%64))) != 0)</code>
      <br>for all <code>n &lt; 64 * lb.remaining()</code>.
      </p><p>The long buffer is not modified by this method, and no
      reference to the buffer is retained by the bit set.
      @param lb a long buffer containing a little-endian representation
             of a sequence of bits between its position and limit, to be
             used as the initial bits of the new bit set
      @return a <code>BitSet</code> containing all the bits in the buffer in the
              specified range
      @since 1.7</p></div>
<a id="L220" name="L220"></a> 220     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/1857.html#L262" title="Defined at 262 in src/java/nio/LongBuffer.java.">LongBuffer</a> lb) <em class="brace">{</em>
<a id="L221" name="L221"></a> 221         lb = lb.<a href="../D/34633.html" title="Multiple defined in 72 places.">slice</a>();
<a id="L222" name="L222"></a> 222         <strong class="reserved">int</strong> n;
<a id="L223" name="L223"></a> 223         <strong class="reserved">for</strong> (n = lb.<a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a>(); n &gt; 0 &amp;&amp; lb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n - 1) == 0; n--)
<a id="L224" name="L224"></a> 224             ;
<a id="L225" name="L225"></a> 225         <strong class="reserved">long</strong>[] words = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[n];
<a id="L226" name="L226"></a> 226         lb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(words);
<a id="L227" name="L227"></a> 227         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(words);
<a id="L228" name="L228"></a> 228     <em class="brace">}</em>
<a id="L229" name="L229"></a> 229 
<div class="comment">
      Returns a new bit set containing all the bits in the given byte array.
      <p>More precisely,
      <br><code>BitSet.valueOf(bytes).get(n) == ((bytes[n/8] &amp; (1&lt;&lt;(n%8))) != 0)</code>
      <br>for all <code>n &lt;  8 * bytes.length</code>.
      </p><p>This method is equivalent to
      <code>BitSet.valueOf(ByteBuffer.wrap(bytes))</code>.
      @param bytes a byte array containing a little-endian
             representation of a sequence of bits to be used as the
             initial bits of the new bit set
      @return a <code>BitSet</code> containing all the bits in the byte array
      @since 1.7</p></div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<strong class="reserved">byte</strong>[] bytes) <em class="brace">{</em>
<a id="L247" name="L247"></a> 247         <strong class="reserved">return</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a>.<a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(bytes));
<a id="L248" name="L248"></a> 248     <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<div class="comment">
      Returns a new bit set containing all the bits in the given byte
      buffer between its position and limit.
      <p>More precisely,
      <br><code>BitSet.valueOf(bb).get(n) == ((bb.get(bb.position()+n/8) &amp; (1&lt;&lt;(n%8))) != 0)</code>
      <br>for all <code>n &lt; 8 * bb.remaining()</code>.
      </p><p>The byte buffer is not modified by this method, and no
      reference to the buffer is retained by the bit set.
      @param bb a byte buffer containing a little-endian representation
             of a sequence of bits between its position and limit, to be
             used as the initial bits of the new bit set
      @return a <code>BitSet</code> containing all the bits in the buffer in the
              specified range
      @since 1.7</p></div>
<a id="L268" name="L268"></a> 268     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a> bb) <em class="brace">{</em>
<a id="L269" name="L269"></a> 269         bb = bb.<a href="../D/34633.html" title="Multiple defined in 72 places.">slice</a>().<a href="../D/28576.html" title="Multiple defined in 69 places.">order</a>(<a href="../S/1965.html#L37" title="Defined at 37 in src/java/nio/ByteOrder.java.">ByteOrder</a>.LITTLE_ENDIAN);
<a id="L270" name="L270"></a> 270         <strong class="reserved">int</strong> n;
<a id="L271" name="L271"></a> 271         <strong class="reserved">for</strong> (n = bb.<a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a>(); n &gt; 0 &amp;&amp; bb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(n - 1) == 0; n--)
<a id="L272" name="L272"></a> 272             ;
<a id="L273" name="L273"></a> 273         <strong class="reserved">long</strong>[] words = <strong class="reserved">new</strong> <strong class="reserved">long</strong>[(n + 7) / 8];
<a id="L274" name="L274"></a> 274         bb.<a href="../D/26840.html" title="Multiple defined in 12 places.">limit</a>(n);
<a id="L275" name="L275"></a> 275         <strong class="reserved">int</strong> i = 0;
<a id="L276" name="L276"></a> 276         <strong class="reserved">while</strong> (bb.<a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a>() &gt;= 8)
<a id="L277" name="L277"></a> 277             words[i++] = bb.<a href="../D/20280.html" title="Multiple defined in 48 places.">getLong</a>();
<a id="L278" name="L278"></a> 278         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a> = bb.<a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a>(), j = 0; j &lt; <a href="../S/1990.html#L390" title="Defined at 390 in src/java/nio/Buffer.java.">remaining</a>; j++)
<a id="L279" name="L279"></a> 279             words[i] |= (bb.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>() &amp; 0xffL) &lt;&lt; (8 * j);
<a id="L280" name="L280"></a> 280         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(words);
<a id="L281" name="L281"></a> 281     <em class="brace">}</em>
<a id="L282" name="L282"></a> 282 
<div class="comment">
      Returns a new byte array containing all the bits in this bit set.
      <p>More precisely, if
      <br><code>byte[] bytes = s.toByteArray();</code>
      <br>then <code>bytes.length == (s.length()+7)/8</code> and
      <br><code>s.get(n) == ((bytes[n/8] &amp; (1&lt;&lt;(n%8))) != 0)</code>
      <br>for all <code>n &lt; 8 * bytes.length</code>.
      @return a byte array containing a little-endian representation
              of all the bits in this bit set
      @since 1.7</p></div>
<a id="L296" name="L296"></a> 296     <strong class="reserved">public</strong> <strong class="reserved">byte</strong>[] <a href="../D/35362.html" title="Multiple defined in 10 places.">toByteArray</a>() <em class="brace">{</em>
<a id="L297" name="L297"></a> 297         <strong class="reserved">int</strong> n = wordsInUse;
<a id="L298" name="L298"></a> 298         <strong class="reserved">if</strong> (n == 0)
<a id="L299" name="L299"></a> 299             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[0];
<a id="L300" name="L300"></a> 300         <strong class="reserved">int</strong> len = 8 * (n-1);
<a id="L301" name="L301"></a> 301         <strong class="reserved">for</strong> (<strong class="reserved">long</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = words[n - 1]; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != 0; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;&gt;&gt;= 8)
<a id="L302" name="L302"></a> 302             len++;
<a id="L303" name="L303"></a> 303         <strong class="reserved">byte</strong>[] bytes = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[len];
<a id="L304" name="L304"></a> 304         <a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a> bb = <a href="../D/1042.html" title="Multiple defined in 2 places.">ByteBuffer</a>.<a href="../D/36957.html" title="Multiple defined in 35 places.">wrap</a>(bytes).<a href="../D/28576.html" title="Multiple defined in 69 places.">order</a>(<a href="../S/1965.html#L37" title="Defined at 37 in src/java/nio/ByteOrder.java.">ByteOrder</a>.LITTLE_ENDIAN);
<a id="L305" name="L305"></a> 305         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; n - 1; i++)
<a id="L306" name="L306"></a> 306             bb.<a href="../D/30020.html" title="Multiple defined in 17 places.">putLong</a>(words[i]);
<a id="L307" name="L307"></a> 307         <strong class="reserved">for</strong> (<strong class="reserved">long</strong> <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> = words[n - 1]; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> != 0; <a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &gt;&gt;&gt;= 8)
<a id="L308" name="L308"></a> 308             bb.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>((<strong class="reserved">byte</strong>) (<a href="../D/37285.html" title="Multiple defined in 2 places.">x</a> &amp; 0xff));
<a id="L309" name="L309"></a> 309         <strong class="reserved">return</strong> bytes;
<a id="L310" name="L310"></a> 310     <em class="brace">}</em>
<a id="L311" name="L311"></a> 311 
<div class="comment">
      Returns a new long array containing all the bits in this bit set.
      <p>More precisely, if
      <br><code>long[] longs = s.toLongArray();</code>
      <br>then <code>longs.length == (s.length()+63)/64</code> and
      <br><code>s.get(n) == ((longs[n/64] &amp; (1L&lt;&lt;(n%64))) != 0)</code>
      <br>for all <code>n &lt; 64 * longs.length</code>.
      @return a long array containing a little-endian representation
              of all the bits in this bit set
      @since 1.7</p></div>
<a id="L325" name="L325"></a> 325     <strong class="reserved">public</strong> <strong class="reserved">long</strong>[] toLongArray() <em class="brace">{</em>
<a id="L326" name="L326"></a> 326         <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(words, wordsInUse);
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Ensures that the BitSet can hold enough words.
      @param wordsRequired the minimum acceptable number of words.</div>
<a id="L333" name="L333"></a> 333     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(<strong class="reserved">int</strong> wordsRequired) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334         <strong class="reserved">if</strong> (words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; wordsRequired) <em class="brace">{</em>
<a id="L335" name="L335"></a> 335             <em class="comment">// Allocate larger of doubled size or required size</em>
<a id="L336" name="L336"></a> 336             <strong class="reserved">int</strong> <a href="../D/31115.html" title="Multiple defined in 8 places.">request</a> = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(2 * words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>, wordsRequired);
<a id="L337" name="L337"></a> 337             words = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(words, <a href="../D/31115.html" title="Multiple defined in 8 places.">request</a>);
<a id="L338" name="L338"></a> 338             sizeIsSticky = <strong class="reserved">false</strong>;
<a id="L339" name="L339"></a> 339         <em class="brace">}</em>
<a id="L340" name="L340"></a> 340     <em class="brace">}</em>
<a id="L341" name="L341"></a> 341 
<div class="comment">
      Ensures that the BitSet can accommodate a given wordIndex,
      temporarily violating the invariants.  The caller must
      restore the invariants before returning to the user,
      possibly using recalculateWordsInUse().
      @param wordIndex the index to be accommodated.</div>
<a id="L349" name="L349"></a> 349     <strong class="reserved">private</strong> <strong class="reserved">void</strong> expandTo(<strong class="reserved">int</strong> wordIndex) <em class="brace">{</em>
<a id="L350" name="L350"></a> 350         <strong class="reserved">int</strong> wordsRequired = wordIndex+1;
<a id="L351" name="L351"></a> 351         <strong class="reserved">if</strong> (wordsInUse &lt; wordsRequired) <em class="brace">{</em>
<a id="L352" name="L352"></a> 352             <a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(wordsRequired);
<a id="L353" name="L353"></a> 353             wordsInUse = wordsRequired;
<a id="L354" name="L354"></a> 354         <em class="brace">}</em>
<a id="L355" name="L355"></a> 355     <em class="brace">}</em>
<a id="L356" name="L356"></a> 356 
<div class="comment">
      Checks that fromIndex ... toIndex is a valid range of bit indices.</div>
<a id="L360" name="L360"></a> 360     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1462.html#L1068" title="Defined at 1068 in src/java/math/BigInteger.java.">checkRange</a>(<strong class="reserved">int</strong> fromIndex, <strong class="reserved">int</strong> toIndex) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361         <strong class="reserved">if</strong> (fromIndex &lt; 0)
<a id="L362" name="L362"></a> 362             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("fromIndex &lt; 0: " + fromIndex);
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong> (toIndex &lt; 0)
<a id="L364" name="L364"></a> 364             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("toIndex &lt; 0: " + toIndex);
<a id="L365" name="L365"></a> 365         <strong class="reserved">if</strong> (fromIndex &gt; toIndex)
<a id="L366" name="L366"></a> 366             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("fromIndex: " + fromIndex +
<a id="L367" name="L367"></a> 367                                                 " &gt; toIndex: " + toIndex);
<a id="L368" name="L368"></a> 368     <em class="brace">}</em>
<a id="L369" name="L369"></a> 369 
<div class="comment">
      Sets the bit at the specified index to the complement of its
      current value.
      @param  bitIndex the index of the bit to flip
      @throws IndexOutOfBoundsException if the specified index is negative
      @since  1.4</div>
<a id="L378" name="L378"></a> 378     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/16458.html" title="Multiple defined in 3 places.">flip</a>(<strong class="reserved">int</strong> bitIndex) <em class="brace">{</em>
<a id="L379" name="L379"></a> 379         <strong class="reserved">if</strong> (bitIndex &lt; 0)
<a id="L380" name="L380"></a> 380             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("bitIndex &lt; 0: " + bitIndex);
<a id="L381" name="L381"></a> 381 
<a id="L382" name="L382"></a> 382         <strong class="reserved">int</strong> wordIndex = wordIndex(bitIndex);
<a id="L383" name="L383"></a> 383         expandTo(wordIndex);
<a id="L384" name="L384"></a> 384 
<a id="L385" name="L385"></a> 385         words[wordIndex] ^= (1L &lt;&lt; bitIndex);
<a id="L386" name="L386"></a> 386 
<a id="L387" name="L387"></a> 387         recalculateWordsInUse();
<a id="L388" name="L388"></a> 388         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L389" name="L389"></a> 389     <em class="brace">}</em>
<a id="L390" name="L390"></a> 390 
<div class="comment">
      Sets each bit from the specified <code>fromIndex</code> (inclusive) to the
      specified <code>toIndex</code> (exclusive) to the complement of its current
      value.
      @param  fromIndex index of the first bit to flip
      @param  toIndex index after the last bit to flip
      @throws IndexOutOfBoundsException if <code>fromIndex</code> is negative,
              or <code>toIndex</code> is negative, or <code>fromIndex</code> is
              larger than <code>toIndex</code>
      @since  1.4</div>
<a id="L403" name="L403"></a> 403     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/16458.html" title="Multiple defined in 3 places.">flip</a>(<strong class="reserved">int</strong> fromIndex, <strong class="reserved">int</strong> toIndex) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404         <a href="../S/1462.html#L1068" title="Defined at 1068 in src/java/math/BigInteger.java.">checkRange</a>(fromIndex, toIndex);
<a id="L405" name="L405"></a> 405 
<a id="L406" name="L406"></a> 406         <strong class="reserved">if</strong> (fromIndex == toIndex)
<a id="L407" name="L407"></a> 407             <strong class="reserved">return</strong>;
<a id="L408" name="L408"></a> 408 
<a id="L409" name="L409"></a> 409         <strong class="reserved">int</strong> startWordIndex = wordIndex(fromIndex);
<a id="L410" name="L410"></a> 410         <strong class="reserved">int</strong> endWordIndex   = wordIndex(toIndex - 1);
<a id="L411" name="L411"></a> 411         expandTo(endWordIndex);
<a id="L412" name="L412"></a> 412 
<a id="L413" name="L413"></a> 413         <strong class="reserved">long</strong> firstWordMask = WORD_MASK &lt;&lt; fromIndex;
<a id="L414" name="L414"></a> 414         <strong class="reserved">long</strong> lastWordMask  = WORD_MASK &gt;&gt;&gt; -toIndex;
<a id="L415" name="L415"></a> 415         <strong class="reserved">if</strong> (startWordIndex == endWordIndex) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <em class="comment">// Case 1: One word</em>
<a id="L417" name="L417"></a> 417             words[startWordIndex] ^= (firstWordMask &amp; lastWordMask);
<a id="L418" name="L418"></a> 418         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L419" name="L419"></a> 419             <em class="comment">// Case 2: Multiple words</em>
<a id="L420" name="L420"></a> 420             <em class="comment">// Handle first word</em>
<a id="L421" name="L421"></a> 421             words[startWordIndex] ^= firstWordMask;
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423             <em class="comment">// Handle intermediate words, if any</em>
<a id="L424" name="L424"></a> 424             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = startWordIndex+1; i &lt; endWordIndex; i++)
<a id="L425" name="L425"></a> 425                 words[i] ^= WORD_MASK;
<a id="L426" name="L426"></a> 426 
<a id="L427" name="L427"></a> 427             <em class="comment">// Handle last word</em>
<a id="L428" name="L428"></a> 428             words[endWordIndex] ^= lastWordMask;
<a id="L429" name="L429"></a> 429         <em class="brace">}</em>
<a id="L430" name="L430"></a> 430 
<a id="L431" name="L431"></a> 431         recalculateWordsInUse();
<a id="L432" name="L432"></a> 432         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L433" name="L433"></a> 433     <em class="brace">}</em>
<a id="L434" name="L434"></a> 434 
<div class="comment">
      Sets the bit at the specified index to <code>true</code>.
      @param  bitIndex a bit index
      @throws IndexOutOfBoundsException if the specified index is negative
      @since  JDK1.0</div>
<a id="L442" name="L442"></a> 442     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<strong class="reserved">int</strong> bitIndex) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443         <strong class="reserved">if</strong> (bitIndex &lt; 0)
<a id="L444" name="L444"></a> 444             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("bitIndex &lt; 0: " + bitIndex);
<a id="L445" name="L445"></a> 445 
<a id="L446" name="L446"></a> 446         <strong class="reserved">int</strong> wordIndex = wordIndex(bitIndex);
<a id="L447" name="L447"></a> 447         expandTo(wordIndex);
<a id="L448" name="L448"></a> 448 
<a id="L449" name="L449"></a> 449         words[wordIndex] |= (1L &lt;&lt; bitIndex); <em class="comment">// Restores invariants</em>
<a id="L450" name="L450"></a> 450 
<a id="L451" name="L451"></a> 451         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L452" name="L452"></a> 452     <em class="brace">}</em>
<a id="L453" name="L453"></a> 453 
<div class="comment">
      Sets the bit at the specified index to the specified value.
      @param  bitIndex a bit index
      @param  value a boolean value to set
      @throws IndexOutOfBoundsException if the specified index is negative
      @since  1.4</div>
<a id="L462" name="L462"></a> 462     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<strong class="reserved">int</strong> bitIndex, <strong class="reserved">boolean</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L463" name="L463"></a> 463         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)
<a id="L464" name="L464"></a> 464             <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(bitIndex);
<a id="L465" name="L465"></a> 465         <strong class="reserved">else</strong>
<a id="L466" name="L466"></a> 466             <a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>(bitIndex);
<a id="L467" name="L467"></a> 467     <em class="brace">}</em>
<a id="L468" name="L468"></a> 468 
<div class="comment">
      Sets the bits from the specified <code>fromIndex</code> (inclusive) to the
      specified <code>toIndex</code> (exclusive) to <code>true</code>.
      @param  fromIndex index of the first bit to be set
      @param  toIndex index after the last bit to be set
      @throws IndexOutOfBoundsException if <code>fromIndex</code> is negative,
              or <code>toIndex</code> is negative, or <code>fromIndex</code> is
              larger than <code>toIndex</code>
      @since  1.4</div>
<a id="L480" name="L480"></a> 480     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<strong class="reserved">int</strong> fromIndex, <strong class="reserved">int</strong> toIndex) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481         <a href="../S/1462.html#L1068" title="Defined at 1068 in src/java/math/BigInteger.java.">checkRange</a>(fromIndex, toIndex);
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483         <strong class="reserved">if</strong> (fromIndex == toIndex)
<a id="L484" name="L484"></a> 484             <strong class="reserved">return</strong>;
<a id="L485" name="L485"></a> 485 
<a id="L486" name="L486"></a> 486         <em class="comment">// Increase capacity if necessary</em>
<a id="L487" name="L487"></a> 487         <strong class="reserved">int</strong> startWordIndex = wordIndex(fromIndex);
<a id="L488" name="L488"></a> 488         <strong class="reserved">int</strong> endWordIndex   = wordIndex(toIndex - 1);
<a id="L489" name="L489"></a> 489         expandTo(endWordIndex);
<a id="L490" name="L490"></a> 490 
<a id="L491" name="L491"></a> 491         <strong class="reserved">long</strong> firstWordMask = WORD_MASK &lt;&lt; fromIndex;
<a id="L492" name="L492"></a> 492         <strong class="reserved">long</strong> lastWordMask  = WORD_MASK &gt;&gt;&gt; -toIndex;
<a id="L493" name="L493"></a> 493         <strong class="reserved">if</strong> (startWordIndex == endWordIndex) <em class="brace">{</em>
<a id="L494" name="L494"></a> 494             <em class="comment">// Case 1: One word</em>
<a id="L495" name="L495"></a> 495             words[startWordIndex] |= (firstWordMask &amp; lastWordMask);
<a id="L496" name="L496"></a> 496         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L497" name="L497"></a> 497             <em class="comment">// Case 2: Multiple words</em>
<a id="L498" name="L498"></a> 498             <em class="comment">// Handle first word</em>
<a id="L499" name="L499"></a> 499             words[startWordIndex] |= firstWordMask;
<a id="L500" name="L500"></a> 500 
<a id="L501" name="L501"></a> 501             <em class="comment">// Handle intermediate words, if any</em>
<a id="L502" name="L502"></a> 502             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = startWordIndex+1; i &lt; endWordIndex; i++)
<a id="L503" name="L503"></a> 503                 words[i] = WORD_MASK;
<a id="L504" name="L504"></a> 504 
<a id="L505" name="L505"></a> 505             <em class="comment">// Handle last word (restores invariants)</em>
<a id="L506" name="L506"></a> 506             words[endWordIndex] |= lastWordMask;
<a id="L507" name="L507"></a> 507         <em class="brace">}</em>
<a id="L508" name="L508"></a> 508 
<a id="L509" name="L509"></a> 509         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L510" name="L510"></a> 510     <em class="brace">}</em>
<a id="L511" name="L511"></a> 511 
<div class="comment">
      Sets the bits from the specified <code>fromIndex</code> (inclusive) to the
      specified <code>toIndex</code> (exclusive) to the specified value.
      @param  fromIndex index of the first bit to be set
      @param  toIndex index after the last bit to be set
      @param  value value to set the selected bits to
      @throws IndexOutOfBoundsException if <code>fromIndex</code> is negative,
              or <code>toIndex</code> is negative, or <code>fromIndex</code> is
              larger than <code>toIndex</code>
      @since  1.4</div>
<a id="L524" name="L524"></a> 524     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(<strong class="reserved">int</strong> fromIndex, <strong class="reserved">int</strong> toIndex, <strong class="reserved">boolean</strong> <a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>) <em class="brace">{</em>
<a id="L525" name="L525"></a> 525         <strong class="reserved">if</strong> (<a href="../D/36360.html" title="Multiple defined in 73 places.">value</a>)
<a id="L526" name="L526"></a> 526             <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>(fromIndex, toIndex);
<a id="L527" name="L527"></a> 527         <strong class="reserved">else</strong>
<a id="L528" name="L528"></a> 528             <a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>(fromIndex, toIndex);
<a id="L529" name="L529"></a> 529     <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<div class="comment">
      Sets the bit specified by the index to <code>false</code>.
      @param  bitIndex the index of the bit to be cleared
      @throws IndexOutOfBoundsException if the specified index is negative
      @since  JDK1.0</div>
<a id="L538" name="L538"></a> 538     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>(<strong class="reserved">int</strong> bitIndex) <em class="brace">{</em>
<a id="L539" name="L539"></a> 539         <strong class="reserved">if</strong> (bitIndex &lt; 0)
<a id="L540" name="L540"></a> 540             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("bitIndex &lt; 0: " + bitIndex);
<a id="L541" name="L541"></a> 541 
<a id="L542" name="L542"></a> 542         <strong class="reserved">int</strong> wordIndex = wordIndex(bitIndex);
<a id="L543" name="L543"></a> 543         <strong class="reserved">if</strong> (wordIndex &gt;= wordsInUse)
<a id="L544" name="L544"></a> 544             <strong class="reserved">return</strong>;
<a id="L545" name="L545"></a> 545 
<a id="L546" name="L546"></a> 546         words[wordIndex] &amp;= ~(1L &lt;&lt; bitIndex);
<a id="L547" name="L547"></a> 547 
<a id="L548" name="L548"></a> 548         recalculateWordsInUse();
<a id="L549" name="L549"></a> 549         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L550" name="L550"></a> 550     <em class="brace">}</em>
<a id="L551" name="L551"></a> 551 
<div class="comment">
      Sets the bits from the specified <code>fromIndex</code> (inclusive) to the
      specified <code>toIndex</code> (exclusive) to <code>false</code>.
      @param  fromIndex index of the first bit to be cleared
      @param  toIndex index after the last bit to be cleared
      @throws IndexOutOfBoundsException if <code>fromIndex</code> is negative,
              or <code>toIndex</code> is negative, or <code>fromIndex</code> is
              larger than <code>toIndex</code>
      @since  1.4</div>
<a id="L563" name="L563"></a> 563     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>(<strong class="reserved">int</strong> fromIndex, <strong class="reserved">int</strong> toIndex) <em class="brace">{</em>
<a id="L564" name="L564"></a> 564         <a href="../S/1462.html#L1068" title="Defined at 1068 in src/java/math/BigInteger.java.">checkRange</a>(fromIndex, toIndex);
<a id="L565" name="L565"></a> 565 
<a id="L566" name="L566"></a> 566         <strong class="reserved">if</strong> (fromIndex == toIndex)
<a id="L567" name="L567"></a> 567             <strong class="reserved">return</strong>;
<a id="L568" name="L568"></a> 568 
<a id="L569" name="L569"></a> 569         <strong class="reserved">int</strong> startWordIndex = wordIndex(fromIndex);
<a id="L570" name="L570"></a> 570         <strong class="reserved">if</strong> (startWordIndex &gt;= wordsInUse)
<a id="L571" name="L571"></a> 571             <strong class="reserved">return</strong>;
<a id="L572" name="L572"></a> 572 
<a id="L573" name="L573"></a> 573         <strong class="reserved">int</strong> endWordIndex = wordIndex(toIndex - 1);
<a id="L574" name="L574"></a> 574         <strong class="reserved">if</strong> (endWordIndex &gt;= wordsInUse) <em class="brace">{</em>
<a id="L575" name="L575"></a> 575             toIndex = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L576" name="L576"></a> 576             endWordIndex = wordsInUse - 1;
<a id="L577" name="L577"></a> 577         <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579         <strong class="reserved">long</strong> firstWordMask = WORD_MASK &lt;&lt; fromIndex;
<a id="L580" name="L580"></a> 580         <strong class="reserved">long</strong> lastWordMask  = WORD_MASK &gt;&gt;&gt; -toIndex;
<a id="L581" name="L581"></a> 581         <strong class="reserved">if</strong> (startWordIndex == endWordIndex) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582             <em class="comment">// Case 1: One word</em>
<a id="L583" name="L583"></a> 583             words[startWordIndex] &amp;= ~(firstWordMask &amp; lastWordMask);
<a id="L584" name="L584"></a> 584         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L585" name="L585"></a> 585             <em class="comment">// Case 2: Multiple words</em>
<a id="L586" name="L586"></a> 586             <em class="comment">// Handle first word</em>
<a id="L587" name="L587"></a> 587             words[startWordIndex] &amp;= ~firstWordMask;
<a id="L588" name="L588"></a> 588 
<a id="L589" name="L589"></a> 589             <em class="comment">// Handle intermediate words, if any</em>
<a id="L590" name="L590"></a> 590             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = startWordIndex+1; i &lt; endWordIndex; i++)
<a id="L591" name="L591"></a> 591                 words[i] = 0;
<a id="L592" name="L592"></a> 592 
<a id="L593" name="L593"></a> 593             <em class="comment">// Handle last word</em>
<a id="L594" name="L594"></a> 594             words[endWordIndex] &amp;= ~lastWordMask;
<a id="L595" name="L595"></a> 595         <em class="brace">}</em>
<a id="L596" name="L596"></a> 596 
<a id="L597" name="L597"></a> 597         recalculateWordsInUse();
<a id="L598" name="L598"></a> 598         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L599" name="L599"></a> 599     <em class="brace">}</em>
<a id="L600" name="L600"></a> 600 
<div class="comment">
      Sets all of the bits in this BitSet to <code>false</code>.
      @since 1.4</div>
<a id="L606" name="L606"></a> 606     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>() <em class="brace">{</em>
<a id="L607" name="L607"></a> 607         <strong class="reserved">while</strong> (wordsInUse &gt; 0)
<a id="L608" name="L608"></a> 608             words[--wordsInUse] = 0;
<a id="L609" name="L609"></a> 609     <em class="brace">}</em>
<a id="L610" name="L610"></a> 610 
<div class="comment">
      Returns the value of the bit with the specified index. The value
      is <code>true</code> if the bit with the index <code>bitIndex</code>
      is currently set in this <code>BitSet</code>; otherwise, the result
      is <code>false</code>.
      @param  bitIndex   the bit index
      @return the value of the bit with the specified index
      @throws IndexOutOfBoundsException if the specified index is negative</div>
<a id="L621" name="L621"></a> 621     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<strong class="reserved">int</strong> bitIndex) <em class="brace">{</em>
<a id="L622" name="L622"></a> 622         <strong class="reserved">if</strong> (bitIndex &lt; 0)
<a id="L623" name="L623"></a> 623             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("bitIndex &lt; 0: " + bitIndex);
<a id="L624" name="L624"></a> 624 
<a id="L625" name="L625"></a> 625         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L626" name="L626"></a> 626 
<a id="L627" name="L627"></a> 627         <strong class="reserved">int</strong> wordIndex = wordIndex(bitIndex);
<a id="L628" name="L628"></a> 628         <strong class="reserved">return</strong> (wordIndex &lt; wordsInUse)
<a id="L629" name="L629"></a> 629             &amp;&amp; ((words[wordIndex] &amp; (1L &lt;&lt; bitIndex)) != 0);
<a id="L630" name="L630"></a> 630     <em class="brace">}</em>
<a id="L631" name="L631"></a> 631 
<div class="comment">
      Returns a new <code>BitSet</code> composed of bits from this <code>BitSet</code>
      from <code>fromIndex</code> (inclusive) to <code>toIndex</code> (exclusive).
      @param  fromIndex index of the first bit to include
      @param  toIndex index after the last bit to include
      @return a new <code>BitSet</code> from a range of this <code>BitSet</code>
      @throws IndexOutOfBoundsException if <code>fromIndex</code> is negative,
              or <code>toIndex</code> is negative, or <code>fromIndex</code> is
              larger than <code>toIndex</code>
      @since  1.4</div>
<a id="L644" name="L644"></a> 644     <strong class="reserved">public</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<strong class="reserved">int</strong> fromIndex, <strong class="reserved">int</strong> toIndex) <em class="brace">{</em>
<a id="L645" name="L645"></a> 645         <a href="../S/1462.html#L1068" title="Defined at 1068 in src/java/math/BigInteger.java.">checkRange</a>(fromIndex, toIndex);
<a id="L646" name="L646"></a> 646 
<a id="L647" name="L647"></a> 647         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649         <strong class="reserved">int</strong> len = <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>();
<a id="L650" name="L650"></a> 650 
<a id="L651" name="L651"></a> 651         <em class="comment">// If no set bits in range return empty bitset</em>
<a id="L652" name="L652"></a> 652         <strong class="reserved">if</strong> (len &lt;= fromIndex || fromIndex == toIndex)
<a id="L653" name="L653"></a> 653             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(0);
<a id="L654" name="L654"></a> 654 
<a id="L655" name="L655"></a> 655         <em class="comment">// An optimization</em>
<a id="L656" name="L656"></a> 656         <strong class="reserved">if</strong> (toIndex &gt; len)
<a id="L657" name="L657"></a> 657             toIndex = len;
<a id="L658" name="L658"></a> 658 
<a id="L659" name="L659"></a> 659         <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = <strong class="reserved">new</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>(toIndex - fromIndex);
<a id="L660" name="L660"></a> 660         <strong class="reserved">int</strong> targetWords = wordIndex(toIndex - fromIndex - 1) + 1;
<a id="L661" name="L661"></a> 661         <strong class="reserved">int</strong> sourceIndex = wordIndex(fromIndex);
<a id="L662" name="L662"></a> 662         <strong class="reserved">boolean</strong> wordAligned = ((fromIndex &amp; BIT_INDEX_MASK) == 0);
<a id="L663" name="L663"></a> 663 
<a id="L664" name="L664"></a> 664         <em class="comment">// Process all words but the last word</em>
<a id="L665" name="L665"></a> 665         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; targetWords - 1; i++, sourceIndex++)
<a id="L666" name="L666"></a> 666             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.words[i] = wordAligned ? words[sourceIndex] :
<a id="L667" name="L667"></a> 667                 (words[sourceIndex] &gt;&gt;&gt; fromIndex) |
<a id="L668" name="L668"></a> 668                 (words[sourceIndex+1] &lt;&lt; -fromIndex);
<a id="L669" name="L669"></a> 669 
<a id="L670" name="L670"></a> 670         <em class="comment">// Process the last word</em>
<a id="L671" name="L671"></a> 671         <strong class="reserved">long</strong> lastWordMask = WORD_MASK &gt;&gt;&gt; -toIndex;
<a id="L672" name="L672"></a> 672         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.words[targetWords - 1] =
<a id="L673" name="L673"></a> 673             ((toIndex-1) &amp; BIT_INDEX_MASK) &lt; (fromIndex &amp; BIT_INDEX_MASK)
<div class="comment">
             ? /* straddles source words */</div>
<a id="L675" name="L675"></a> 675             ((words[sourceIndex] &gt;&gt;&gt; fromIndex) |
<a id="L676" name="L676"></a> 676              (words[sourceIndex+1] &amp; lastWordMask) &lt;&lt; -fromIndex)
<a id="L677" name="L677"></a> 677             :
<a id="L678" name="L678"></a> 678             ((words[sourceIndex] &amp; lastWordMask) &gt;&gt;&gt; fromIndex);
<a id="L679" name="L679"></a> 679 
<a id="L680" name="L680"></a> 680         <em class="comment">// Set wordsInUse correctly</em>
<a id="L681" name="L681"></a> 681         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.wordsInUse = targetWords;
<a id="L682" name="L682"></a> 682         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.recalculateWordsInUse();
<a id="L683" name="L683"></a> 683         <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L684" name="L684"></a> 684 
<a id="L685" name="L685"></a> 685         <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L686" name="L686"></a> 686     <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<div class="comment">
      Returns the index of the first bit that is set to <code>true</code>
      that occurs on or after the specified starting index. If no such
      bit exists then <code>-1</code> is returned.
      <p>To iterate over the <code>true</code> bits in a <code>BitSet</code>,
      use the following loop:
       </p><pre> {@code
      for (int i = bs.nextSetBit(0); i &gt;= 0; i = bs.nextSetBit(i+1)) {
          // operate on index i here
          if (i == Integer.MAX_VALUE) {
              break; // or (i+1) would overflow
          }
      }}</pre>
      @param  fromIndex the index to start checking from (inclusive)
      @return the index of the next set bit, or <code>-1</code> if there
              is no such bit
      @throws IndexOutOfBoundsException if the specified index is negative
      @since  1.4</div>
<a id="L710" name="L710"></a> 710     <strong class="reserved">public</strong> <strong class="reserved">int</strong> nextSetBit(<strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L711" name="L711"></a> 711         <strong class="reserved">if</strong> (fromIndex &lt; 0)
<a id="L712" name="L712"></a> 712             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("fromIndex &lt; 0: " + fromIndex);
<a id="L713" name="L713"></a> 713 
<a id="L714" name="L714"></a> 714         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L715" name="L715"></a> 715 
<a id="L716" name="L716"></a> 716         <strong class="reserved">int</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = wordIndex(fromIndex);
<a id="L717" name="L717"></a> 717         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> &gt;= wordsInUse)
<a id="L718" name="L718"></a> 718             <strong class="reserved">return</strong> -1;
<a id="L719" name="L719"></a> 719 
<a id="L720" name="L720"></a> 720         <strong class="reserved">long</strong> word = words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>] &amp; (WORD_MASK &lt;&lt; fromIndex);
<a id="L721" name="L721"></a> 721 
<a id="L722" name="L722"></a> 722         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L723" name="L723"></a> 723             <strong class="reserved">if</strong> (word != 0)
<a id="L724" name="L724"></a> 724                 <strong class="reserved">return</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> * BITS_PER_WORD) + <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/28379.html" title="Multiple defined in 2 places.">numberOfTrailingZeros</a>(word);
<a id="L725" name="L725"></a> 725             <strong class="reserved">if</strong> (++<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> == wordsInUse)
<a id="L726" name="L726"></a> 726                 <strong class="reserved">return</strong> -1;
<a id="L727" name="L727"></a> 727             word = words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>];
<a id="L728" name="L728"></a> 728         <em class="brace">}</em>
<a id="L729" name="L729"></a> 729     <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<div class="comment">
      Returns the index of the first bit that is set to <code>false</code>
      that occurs on or after the specified starting index.
      @param  fromIndex the index to start checking from (inclusive)
      @return the index of the next clear bit
      @throws IndexOutOfBoundsException if the specified index is negative
      @since  1.4</div>
<a id="L740" name="L740"></a> 740     <strong class="reserved">public</strong> <strong class="reserved">int</strong> nextClearBit(<strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L741" name="L741"></a> 741         <em class="comment">// Neither spec nor implementation handle bitsets of maximal length.</em>
<a id="L742" name="L742"></a> 742         <em class="comment">// See 4816253.</em>
<a id="L743" name="L743"></a> 743         <strong class="reserved">if</strong> (fromIndex &lt; 0)
<a id="L744" name="L744"></a> 744             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>("fromIndex &lt; 0: " + fromIndex);
<a id="L745" name="L745"></a> 745 
<a id="L746" name="L746"></a> 746         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L747" name="L747"></a> 747 
<a id="L748" name="L748"></a> 748         <strong class="reserved">int</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = wordIndex(fromIndex);
<a id="L749" name="L749"></a> 749         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> &gt;= wordsInUse)
<a id="L750" name="L750"></a> 750             <strong class="reserved">return</strong> fromIndex;
<a id="L751" name="L751"></a> 751 
<a id="L752" name="L752"></a> 752         <strong class="reserved">long</strong> word = ~words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>] &amp; (WORD_MASK &lt;&lt; fromIndex);
<a id="L753" name="L753"></a> 753 
<a id="L754" name="L754"></a> 754         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L755" name="L755"></a> 755             <strong class="reserved">if</strong> (word != 0)
<a id="L756" name="L756"></a> 756                 <strong class="reserved">return</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> * BITS_PER_WORD) + <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/28379.html" title="Multiple defined in 2 places.">numberOfTrailingZeros</a>(word);
<a id="L757" name="L757"></a> 757             <strong class="reserved">if</strong> (++<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> == wordsInUse)
<a id="L758" name="L758"></a> 758                 <strong class="reserved">return</strong> wordsInUse * BITS_PER_WORD;
<a id="L759" name="L759"></a> 759             word = ~words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>];
<a id="L760" name="L760"></a> 760         <em class="brace">}</em>
<a id="L761" name="L761"></a> 761     <em class="brace">}</em>
<a id="L762" name="L762"></a> 762 
<div class="comment">
      Returns the index of the nearest bit that is set to <code>true</code>
      that occurs on or before the specified starting index.
      If no such bit exists, or if <code>-1</code> is given as the
      starting index, then <code>-1</code> is returned.
      <p>To iterate over the <code>true</code> bits in a <code>BitSet</code>,
      use the following loop:
       </p><pre> {@code
      for (int i = bs.length(); (i = bs.previousSetBit(i-1)) &gt;= 0; ) {
          // operate on index i here
      }}</pre>
      @param  fromIndex the index to start checking from (inclusive)
      @return the index of the previous set bit, or <code>-1</code> if there
              is no such bit
      @throws IndexOutOfBoundsException if the specified index is less
              than <code>-1</code>
      @since  1.7</div>
<a id="L784" name="L784"></a> 784     <strong class="reserved">public</strong> <strong class="reserved">int</strong> previousSetBit(<strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L785" name="L785"></a> 785         <strong class="reserved">if</strong> (fromIndex &lt; 0) <em class="brace">{</em>
<a id="L786" name="L786"></a> 786             <strong class="reserved">if</strong> (fromIndex == -1)
<a id="L787" name="L787"></a> 787                 <strong class="reserved">return</strong> -1;
<a id="L788" name="L788"></a> 788             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(
<a id="L789" name="L789"></a> 789                 "fromIndex &lt; -1: " + fromIndex);
<a id="L790" name="L790"></a> 790         <em class="brace">}</em>
<a id="L791" name="L791"></a> 791 
<a id="L792" name="L792"></a> 792         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L793" name="L793"></a> 793 
<a id="L794" name="L794"></a> 794         <strong class="reserved">int</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = wordIndex(fromIndex);
<a id="L795" name="L795"></a> 795         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> &gt;= wordsInUse)
<a id="L796" name="L796"></a> 796             <strong class="reserved">return</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() - 1;
<a id="L797" name="L797"></a> 797 
<a id="L798" name="L798"></a> 798         <strong class="reserved">long</strong> word = words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>] &amp; (WORD_MASK &gt;&gt;&gt; -(fromIndex+1));
<a id="L799" name="L799"></a> 799 
<a id="L800" name="L800"></a> 800         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L801" name="L801"></a> 801             <strong class="reserved">if</strong> (word != 0)
<a id="L802" name="L802"></a> 802                 <strong class="reserved">return</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>+1) * BITS_PER_WORD - 1 - <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/28378.html" title="Multiple defined in 2 places.">numberOfLeadingZeros</a>(word);
<a id="L803" name="L803"></a> 803             <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>-- == 0)
<a id="L804" name="L804"></a> 804                 <strong class="reserved">return</strong> -1;
<a id="L805" name="L805"></a> 805             word = words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>];
<a id="L806" name="L806"></a> 806         <em class="brace">}</em>
<a id="L807" name="L807"></a> 807     <em class="brace">}</em>
<a id="L808" name="L808"></a> 808 
<div class="comment">
      Returns the index of the nearest bit that is set to <code>false</code>
      that occurs on or before the specified starting index.
      If no such bit exists, or if <code>-1</code> is given as the
      starting index, then <code>-1</code> is returned.
      @param  fromIndex the index to start checking from (inclusive)
      @return the index of the previous clear bit, or <code>-1</code> if there
              is no such bit
      @throws IndexOutOfBoundsException if the specified index is less
              than <code>-1</code>
      @since  1.7</div>
<a id="L822" name="L822"></a> 822     <strong class="reserved">public</strong> <strong class="reserved">int</strong> previousClearBit(<strong class="reserved">int</strong> fromIndex) <em class="brace">{</em>
<a id="L823" name="L823"></a> 823         <strong class="reserved">if</strong> (fromIndex &lt; 0) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824             <strong class="reserved">if</strong> (fromIndex == -1)
<a id="L825" name="L825"></a> 825                 <strong class="reserved">return</strong> -1;
<a id="L826" name="L826"></a> 826             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1778.html#L38" title="Defined at 38 in src/java/lang/IndexOutOfBoundsException.java.">IndexOutOfBoundsException</a>(
<a id="L827" name="L827"></a> 827                 "fromIndex &lt; -1: " + fromIndex);
<a id="L828" name="L828"></a> 828         <em class="brace">}</em>
<a id="L829" name="L829"></a> 829 
<a id="L830" name="L830"></a> 830         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L831" name="L831"></a> 831 
<a id="L832" name="L832"></a> 832         <strong class="reserved">int</strong> <a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> = wordIndex(fromIndex);
<a id="L833" name="L833"></a> 833         <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a> &gt;= wordsInUse)
<a id="L834" name="L834"></a> 834             <strong class="reserved">return</strong> fromIndex;
<a id="L835" name="L835"></a> 835 
<a id="L836" name="L836"></a> 836         <strong class="reserved">long</strong> word = ~words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>] &amp; (WORD_MASK &gt;&gt;&gt; -(fromIndex+1));
<a id="L837" name="L837"></a> 837 
<a id="L838" name="L838"></a> 838         <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L839" name="L839"></a> 839             <strong class="reserved">if</strong> (word != 0)
<a id="L840" name="L840"></a> 840                 <strong class="reserved">return</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>+1) * BITS_PER_WORD -1 - <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/28378.html" title="Multiple defined in 2 places.">numberOfLeadingZeros</a>(word);
<a id="L841" name="L841"></a> 841             <strong class="reserved">if</strong> (<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>-- == 0)
<a id="L842" name="L842"></a> 842                 <strong class="reserved">return</strong> -1;
<a id="L843" name="L843"></a> 843             word = ~words[<a href="../S/986.html#L3242" title="Defined at 3242 in src/java/util/regex/Pattern.java.">u</a>];
<a id="L844" name="L844"></a> 844         <em class="brace">}</em>
<a id="L845" name="L845"></a> 845     <em class="brace">}</em>
<a id="L846" name="L846"></a> 846 
<div class="comment">
      Returns the "logical size" of this <code>BitSet</code>: the index of
      the highest set bit in the <code>BitSet</code> plus one. Returns zero
      if the <code>BitSet</code> contains no set bits.
      @return the logical size of this <code>BitSet</code>
      @since  1.2</div>
<a id="L855" name="L855"></a> 855     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() <em class="brace">{</em>
<a id="L856" name="L856"></a> 856         <strong class="reserved">if</strong> (wordsInUse == 0)
<a id="L857" name="L857"></a> 857             <strong class="reserved">return</strong> 0;
<a id="L858" name="L858"></a> 858 
<a id="L859" name="L859"></a> 859         <strong class="reserved">return</strong> BITS_PER_WORD * (wordsInUse - 1) +
<a id="L860" name="L860"></a> 860             (BITS_PER_WORD - <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/28378.html" title="Multiple defined in 2 places.">numberOfLeadingZeros</a>(words[wordsInUse - 1]));
<a id="L861" name="L861"></a> 861     <em class="brace">}</em>
<a id="L862" name="L862"></a> 862 
<div class="comment">
      Returns true if this <code>BitSet</code> contains no bits that are set
      to <code>true</code>.
      @return boolean indicating whether this <code>BitSet</code> is empty
      @since  1.4</div>
<a id="L870" name="L870"></a> 870     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>() <em class="brace">{</em>
<a id="L871" name="L871"></a> 871         <strong class="reserved">return</strong> wordsInUse == 0;
<a id="L872" name="L872"></a> 872     <em class="brace">}</em>
<a id="L873" name="L873"></a> 873 
<div class="comment">
      Returns true if the specified <code>BitSet</code> has any bits set to
      <code>true</code> that are also set to <code>true</code> in this <code>BitSet</code>.
      @param  set <code>BitSet</code> to intersect with
      @return boolean indicating whether this <code>BitSet</code> intersects
              the specified <code>BitSet</code>
      @since  1.4</div>
<a id="L883" name="L883"></a> 883     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24982.html" title="Multiple defined in 23 places.">intersects</a>(<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L884" name="L884"></a> 884         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(wordsInUse, <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse) - 1; i &gt;= 0; i--)
<a id="L885" name="L885"></a> 885             <strong class="reserved">if</strong> ((words[i] &amp; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words[i]) != 0)
<a id="L886" name="L886"></a> 886                 <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L887" name="L887"></a> 887         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L888" name="L888"></a> 888     <em class="brace">}</em>
<a id="L889" name="L889"></a> 889 
<div class="comment">
      Returns the number of bits set to <code>true</code> in this <code>BitSet</code>.
      @return the number of bits set to <code>true</code> in this <code>BitSet</code>
      @since  1.4</div>
<a id="L896" name="L896"></a> 896     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../S/5968.html#L212" title="Defined at 212 in src/com/sun/org/apache/xalan/internal/xsltc/util/IntegerArray.java.">cardinality</a>() <em class="brace">{</em>
<a id="L897" name="L897"></a> 897         <strong class="reserved">int</strong> <a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a> = 0;
<a id="L898" name="L898"></a> 898         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; wordsInUse; i++)
<a id="L899" name="L899"></a> 899             <a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a> += <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>.<a href="../D/11870.html" title="Multiple defined in 3 places.">bitCount</a>(words[i]);
<a id="L900" name="L900"></a> 900         <strong class="reserved">return</strong> <a href="../D/35029.html" title="Multiple defined in 15 places.">sum</a>;
<a id="L901" name="L901"></a> 901     <em class="brace">}</em>
<a id="L902" name="L902"></a> 902 
<div class="comment">
      Performs a logical <b>AND</b> of this target bit set with the
      argument bit set. This bit set is modified so that each bit in it
      has the value <code>true</code> if and only if it both initially
      had the value <code>true</code> and the corresponding bit in the
      bit set argument also had the value <code>true</code>.
      @param set a bit set</div>
<a id="L912" name="L912"></a> 912     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/11334.html" title="Multiple defined in 8 places.">and</a>(<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L913" name="L913"></a> 913         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>)
<a id="L914" name="L914"></a> 914             <strong class="reserved">return</strong>;
<a id="L915" name="L915"></a> 915 
<a id="L916" name="L916"></a> 916         <strong class="reserved">while</strong> (wordsInUse &gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse)
<a id="L917" name="L917"></a> 917             words[--wordsInUse] = 0;
<a id="L918" name="L918"></a> 918 
<a id="L919" name="L919"></a> 919         <em class="comment">// Perform logical AND on words in common</em>
<a id="L920" name="L920"></a> 920         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; wordsInUse; i++)
<a id="L921" name="L921"></a> 921             words[i] &amp;= <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words[i];
<a id="L922" name="L922"></a> 922 
<a id="L923" name="L923"></a> 923         recalculateWordsInUse();
<a id="L924" name="L924"></a> 924         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L925" name="L925"></a> 925     <em class="brace">}</em>
<a id="L926" name="L926"></a> 926 
<div class="comment">
      Performs a logical <b>OR</b> of this bit set with the bit set
      argument. This bit set is modified so that a bit in it has the
      value <code>true</code> if and only if it either already had the
      value <code>true</code> or the corresponding bit in the bit set
      argument has the value <code>true</code>.
      @param set a bit set</div>
<a id="L936" name="L936"></a> 936     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/28550.html" title="Multiple defined in 8 places.">or</a>(<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L937" name="L937"></a> 937         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>)
<a id="L938" name="L938"></a> 938             <strong class="reserved">return</strong>;
<a id="L939" name="L939"></a> 939 
<a id="L940" name="L940"></a> 940         <strong class="reserved">int</strong> wordsInCommon = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(wordsInUse, <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse);
<a id="L941" name="L941"></a> 941 
<a id="L942" name="L942"></a> 942         <strong class="reserved">if</strong> (wordsInUse &lt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse) <em class="brace">{</em>
<a id="L943" name="L943"></a> 943             <a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse);
<a id="L944" name="L944"></a> 944             wordsInUse = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse;
<a id="L945" name="L945"></a> 945         <em class="brace">}</em>
<a id="L946" name="L946"></a> 946 
<a id="L947" name="L947"></a> 947         <em class="comment">// Perform logical OR on words in common</em>
<a id="L948" name="L948"></a> 948         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; wordsInCommon; i++)
<a id="L949" name="L949"></a> 949             words[i] |= <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words[i];
<a id="L950" name="L950"></a> 950 
<a id="L951" name="L951"></a> 951         <em class="comment">// Copy any remaining words</em>
<a id="L952" name="L952"></a> 952         <strong class="reserved">if</strong> (wordsInCommon &lt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse)
<a id="L953" name="L953"></a> 953             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words, wordsInCommon,
<a id="L954" name="L954"></a> 954                              words, wordsInCommon,
<a id="L955" name="L955"></a> 955                              wordsInUse - wordsInCommon);
<a id="L956" name="L956"></a> 956 
<a id="L957" name="L957"></a> 957         <em class="comment">// recalculateWordsInUse() is unnecessary</em>
<a id="L958" name="L958"></a> 958         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L959" name="L959"></a> 959     <em class="brace">}</em>
<a id="L960" name="L960"></a> 960 
<div class="comment">
      Performs a logical <b>XOR</b> of this bit set with the bit set
      argument. This bit set is modified so that a bit in it has the
      value <code>true</code> if and only if one of the following
      statements holds:
      <ul><li>The bit initially has the value <code>true</code>, and the
          corresponding bit in the argument has the value <code>false</code>.
      </li><li>The bit initially has the value <code>false</code>, and the
          corresponding bit in the argument has the value <code>true</code>.
      </li></ul>
      @param  set a bit set</div>
<a id="L975" name="L975"></a> 975     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/1462.html#L3102" title="Defined at 3102 in src/java/math/BigInteger.java.">xor</a>(<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L976" name="L976"></a> 976         <strong class="reserved">int</strong> wordsInCommon = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(wordsInUse, <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse);
<a id="L977" name="L977"></a> 977 
<a id="L978" name="L978"></a> 978         <strong class="reserved">if</strong> (wordsInUse &lt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse) <em class="brace">{</em>
<a id="L979" name="L979"></a> 979             <a href="../D/15596.html" title="Multiple defined in 17 places.">ensureCapacity</a>(<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse);
<a id="L980" name="L980"></a> 980             wordsInUse = <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse;
<a id="L981" name="L981"></a> 981         <em class="brace">}</em>
<a id="L982" name="L982"></a> 982 
<a id="L983" name="L983"></a> 983         <em class="comment">// Perform logical XOR on words in common</em>
<a id="L984" name="L984"></a> 984         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; wordsInCommon; i++)
<a id="L985" name="L985"></a> 985             words[i] ^= <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words[i];
<a id="L986" name="L986"></a> 986 
<a id="L987" name="L987"></a> 987         <em class="comment">// Copy any remaining words</em>
<a id="L988" name="L988"></a> 988         <strong class="reserved">if</strong> (wordsInCommon &lt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse)
<a id="L989" name="L989"></a> 989             <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L493" title="Defined at 493 in src/java/lang/System.java.">arraycopy</a>(<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words, wordsInCommon,
<a id="L990" name="L990"></a> 990                              words, wordsInCommon,
<a id="L991" name="L991"></a> 991                              <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse - wordsInCommon);
<a id="L992" name="L992"></a> 992 
<a id="L993" name="L993"></a> 993         recalculateWordsInUse();
<a id="L994" name="L994"></a> 994         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L995" name="L995"></a> 995     <em class="brace">}</em>
<a id="L996" name="L996"></a> 996 
<div class="comment">
      Clears all of the bits in this <code>BitSet</code> whose corresponding
      bit is set in the specified <code>BitSet</code>.
      @param  set the <code>BitSet</code> with which to mask this
              <code>BitSet</code>
      @since  1.2</div>
<a id="L1005" name="L1005"></a>1005     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/1462.html#L3136" title="Defined at 3136 in src/java/math/BigInteger.java.">andNot</a>(<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L1006" name="L1006"></a>1006         <em class="comment">// Perform logical (a &amp; !b) on words in common</em>
<a id="L1007" name="L1007"></a>1007         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(wordsInUse, <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse) - 1; i &gt;= 0; i--)
<a id="L1008" name="L1008"></a>1008             words[i] &amp;= ~<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words[i];
<a id="L1009" name="L1009"></a>1009 
<a id="L1010" name="L1010"></a>1010         recalculateWordsInUse();
<a id="L1011" name="L1011"></a>1011         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1012" name="L1012"></a>1012     <em class="brace">}</em>
<a id="L1013" name="L1013"></a>1013 
<div class="comment">
      Returns the hash code value for this bit set. The hash code depends
      only on which bits are set within this <code>BitSet</code>.
      <p>The hash code is defined to be the result of the following
      calculation:
       </p><pre> {@code
      public int hashCode() {
          long h = 1234;
          long[] words = toLongArray();
          for (int i = words.length; --i &gt;= 0; )
              h ^= words[i] * (i + 1);
          return (int)((h &gt;&gt; 32) ^ h);
      }}</pre>
      Note that the hash code changes if the set of bits is altered.
      @return the hash code value for this bit set</div>
<a id="L1032" name="L1032"></a>1032     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>() <em class="brace">{</em>
<a id="L1033" name="L1033"></a>1033         <strong class="reserved">long</strong> h = 1234;
<a id="L1034" name="L1034"></a>1034         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = wordsInUse; --i &gt;= 0; )
<a id="L1035" name="L1035"></a>1035             h ^= words[i] * (i + 1);
<a id="L1036" name="L1036"></a>1036 
<a id="L1037" name="L1037"></a>1037         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>)((h &gt;&gt; 32) ^ h);
<a id="L1038" name="L1038"></a>1038     <em class="brace">}</em>
<a id="L1039" name="L1039"></a>1039 
<div class="comment">
      Returns the number of bits of space actually in use by this
      <code>BitSet</code> to represent bit values.
      The maximum element in the set is the size - 1st element.
      @return the number of bits currently in this bit set</div>
<a id="L1047" name="L1047"></a>1047     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048         <strong class="reserved">return</strong> words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> * BITS_PER_WORD;
<a id="L1049" name="L1049"></a>1049     <em class="brace">}</em>
<a id="L1050" name="L1050"></a>1050 
<div class="comment">
      Compares this object against the specified object.
      The result is <code>true</code> if and only if the argument is
      not <code>null</code> and is a <code>Bitset</code> object that has
      exactly the same set of bits set to <code>true</code> as this bit
      set. That is, for every nonnegative <code>int</code> index <code>k</code>,
      <pre>((BitSet)obj).get(k) == this.get(k)</pre>
      must be true. The current sizes of the two bit sets are not compared.
      @param  obj the object to compare with
      @return <code>true</code> if the objects are the same;
              <code>false</code> otherwise
      @see    #size()</div>
<a id="L1065" name="L1065"></a>1065     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> obj) <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066         <strong class="reserved">if</strong> (!(obj <strong class="reserved">instanceof</strong> <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>))
<a id="L1067" name="L1067"></a>1067             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1068" name="L1068"></a>1068         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == obj)
<a id="L1069" name="L1069"></a>1069             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1070" name="L1070"></a>1070 
<a id="L1071" name="L1071"></a>1071         <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = (<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>) obj;
<a id="L1072" name="L1072"></a>1072 
<a id="L1073" name="L1073"></a>1073         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1074" name="L1074"></a>1074         <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1075" name="L1075"></a>1075 
<a id="L1076" name="L1076"></a>1076         <strong class="reserved">if</strong> (wordsInUse != <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.wordsInUse)
<a id="L1077" name="L1077"></a>1077             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1078" name="L1078"></a>1078 
<a id="L1079" name="L1079"></a>1079         <em class="comment">// Check words in use by both BitSets</em>
<a id="L1080" name="L1080"></a>1080         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; wordsInUse; i++)
<a id="L1081" name="L1081"></a>1081             <strong class="reserved">if</strong> (words[i] != <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.words[i])
<a id="L1082" name="L1082"></a>1082                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1083" name="L1083"></a>1083 
<a id="L1084" name="L1084"></a>1084         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1085" name="L1085"></a>1085     <em class="brace">}</em>
<a id="L1086" name="L1086"></a>1086 
<div class="comment">
      Cloning this <code>BitSet</code> produces a new <code>BitSet</code>
      that is equal to it.
      The clone of the bit set is another bit set that has exactly the
      same bits set to <code>true</code> as this bit set.
      @return a clone of this bit set
      @see    #size()</div>
<a id="L1096" name="L1096"></a>1096     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>() <em class="brace">{</em>
<a id="L1097" name="L1097"></a>1097         <strong class="reserved">if</strong> (! sizeIsSticky)
<a id="L1098" name="L1098"></a>1098             <a href="../D/35701.html" title="Multiple defined in 6 places.">trimToSize</a>();
<a id="L1099" name="L1099"></a>1099 
<a id="L1100" name="L1100"></a>1100         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1101" name="L1101"></a>1101             <a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a> = (<a href="../S/856.html#L65" title="Defined at 65 in src/java/util/BitSet.java.">BitSet</a>) <strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1102" name="L1102"></a>1102             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.words = words.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L1103" name="L1103"></a>1103             <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>.<a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1104" name="L1104"></a>1104             <strong class="reserved">return</strong> <a href="../D/31365.html" title="Multiple defined in 7 places.">result</a>;
<a id="L1105" name="L1105"></a>1105         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<a id="L1106" name="L1106"></a>1106             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(e);
<a id="L1107" name="L1107"></a>1107         <em class="brace">}</em>
<a id="L1108" name="L1108"></a>1108     <em class="brace">}</em>
<a id="L1109" name="L1109"></a>1109 
<div class="comment">
      Attempts to reduce internal storage used for the bits in this bit set.
      Calling this method may, but is not required to, affect the value
      returned by a subsequent call to the {@link #size()} method.</div>
<a id="L1115" name="L1115"></a>1115     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../D/35701.html" title="Multiple defined in 6 places.">trimToSize</a>() <em class="brace">{</em>
<a id="L1116" name="L1116"></a>1116         <strong class="reserved">if</strong> (wordsInUse != words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L1117" name="L1117"></a>1117             words = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/13512.html" title="Multiple defined in 12 places.">copyOf</a>(words, wordsInUse);
<a id="L1118" name="L1118"></a>1118             <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1119" name="L1119"></a>1119         <em class="brace">}</em>
<a id="L1120" name="L1120"></a>1120     <em class="brace">}</em>
<a id="L1121" name="L1121"></a>1121 
<div class="comment">
      Save the state of the <code>BitSet</code> instance to a stream (i.e.,
      serialize it).</div>
<a id="L1126" name="L1126"></a>1126     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../D/37124.html" title="Multiple defined in 263 places.">writeObject</a>(<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> s)
<a id="L1127" name="L1127"></a>1127         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1128" name="L1128"></a>1128 
<a id="L1129" name="L1129"></a>1129         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1130" name="L1130"></a>1130 
<a id="L1131" name="L1131"></a>1131         <strong class="reserved">if</strong> (! sizeIsSticky)
<a id="L1132" name="L1132"></a>1132             <a href="../D/35701.html" title="Multiple defined in 6 places.">trimToSize</a>();
<a id="L1133" name="L1133"></a>1133 
<a id="L1134" name="L1134"></a>1134         <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L1135" name="L1135"></a>1135         <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("bits", words);
<a id="L1136" name="L1136"></a>1136         s.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L1137" name="L1137"></a>1137     <em class="brace">}</em>
<a id="L1138" name="L1138"></a>1138 
<div class="comment">
      Reconstitute the <code>BitSet</code> instance from a stream (i.e.,
      deserialize it).</div>
<a id="L1143" name="L1143"></a>1143     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../D/30232.html" title="Multiple defined in 322 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L1144" name="L1144"></a>1144         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L1145" name="L1145"></a>1145 
<a id="L1146" name="L1146"></a>1146         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L1147" name="L1147"></a>1147         words = (<strong class="reserved">long</strong>[]) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("bits", <strong class="reserved">null</strong>);
<a id="L1148" name="L1148"></a>1148 
<a id="L1149" name="L1149"></a>1149         <em class="comment">// Assume maximum length then find real length</em>
<a id="L1150" name="L1150"></a>1150         <em class="comment">// because recalculateWordsInUse assumes maintenance</em>
<a id="L1151" name="L1151"></a>1151         <em class="comment">// or reduction in logical size</em>
<a id="L1152" name="L1152"></a>1152         wordsInUse = words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1153" name="L1153"></a>1153         recalculateWordsInUse();
<a id="L1154" name="L1154"></a>1154         sizeIsSticky = (words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 0 &amp;&amp; words[words.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>-1] == 0L); <em class="comment">// heuristic</em>
<a id="L1155" name="L1155"></a>1155         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1156" name="L1156"></a>1156     <em class="brace">}</em>
<a id="L1157" name="L1157"></a>1157 
<div class="comment">
      Returns a string representation of this bit set. For every index
      for which this <code>BitSet</code> contains a bit in the set
      state, the decimal representation of that index is included in
      the result. Such indices are listed in order from lowest to
      highest, separated by ",&nbsp;" (a comma and a space) and
      surrounded by braces, resulting in the usual mathematical
      notation for a set of integers.
      <p>Example:
      </p><pre>      BitSet drPepper = new BitSet();</pre>
      Now <code>drPepper.toString()</code> returns "<code>{</code>}".
      <pre>      drPepper.set(2);</pre>
      Now <code>drPepper.toString()</code> returns "<code>{2</code>}".
      <pre>      drPepper.set(4);
      drPepper.set(10);</pre>
      Now <code>drPepper.toString()</code> returns "<code>{2, 4, 10</code>}".
      @return a string representation of this bit set</div>
<a id="L1181" name="L1181"></a>1181     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() <em class="brace">{</em>
<a id="L1182" name="L1182"></a>1182         <a href="../D/12504.html" title="Multiple defined in 3 places.">checkInvariants</a>();
<a id="L1183" name="L1183"></a>1183 
<a id="L1184" name="L1184"></a>1184         <strong class="reserved">int</strong> numBits = (wordsInUse &gt; 128) ?
<a id="L1185" name="L1185"></a>1185             <a href="../S/5968.html#L212" title="Defined at 212 in src/com/sun/org/apache/xalan/internal/xsltc/util/IntegerArray.java.">cardinality</a>() : wordsInUse * BITS_PER_WORD;
<a id="L1186" name="L1186"></a>1186         <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a> b = <strong class="reserved">new</strong> <a href="../S/1560.html#L76" title="Defined at 76 in src/java/lang/StringBuilder.java.">StringBuilder</a>(6*numBits + 2);
<a id="L1187" name="L1187"></a>1187         b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('{');
<a id="L1188" name="L1188"></a>1188 
<a id="L1189" name="L1189"></a>1189         <strong class="reserved">int</strong> i = nextSetBit(0);
<a id="L1190" name="L1190"></a>1190         <strong class="reserved">if</strong> (i != -1) <em class="brace">{</em>
<a id="L1191" name="L1191"></a>1191             b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(i);
<a id="L1192" name="L1192"></a>1192             <strong class="reserved">while</strong> (<strong class="reserved">true</strong>) <em class="brace">{</em>
<a id="L1193" name="L1193"></a>1193                 <strong class="reserved">if</strong> (++i &lt; 0) <strong class="reserved">break</strong>;
<a id="L1194" name="L1194"></a>1194                 <strong class="reserved">if</strong> ((i = nextSetBit(i)) &lt; 0) <strong class="reserved">break</strong>;
<a id="L1195" name="L1195"></a>1195                 <strong class="reserved">int</strong> endOfRun = nextClearBit(i);
<a id="L1196" name="L1196"></a>1196                 <strong class="reserved">do</strong> <em class="brace">{</em> b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(", ").<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(i); <em class="brace">}</em>
<a id="L1197" name="L1197"></a>1197                 <strong class="reserved">while</strong> (++i != endOfRun);
<a id="L1198" name="L1198"></a>1198             <em class="brace">}</em>
<a id="L1199" name="L1199"></a>1199         <em class="brace">}</em>
<a id="L1200" name="L1200"></a>1200 
<a id="L1201" name="L1201"></a>1201         b.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>('}');
<a id="L1202" name="L1202"></a>1202         <strong class="reserved">return</strong> b.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L1203" name="L1203"></a>1203     <em class="brace">}</em>
<a id="L1204" name="L1204"></a>1204 
<div class="comment">
      Returns a stream of indices for which this <code>BitSet</code>
      contains a bit in the set state. The indices are returned
      in order, from lowest to highest. The size of the stream
      is the number of bits in the set state, equal to the value
      returned by the {@link #cardinality()} method.
      <p>The bit set must remain constant during the execution of the
      terminal stream operation.  Otherwise, the result of the terminal
      stream operation is undefined.
      @return a stream of integers representing set indices
      @since 1.8</p></div>
<a id="L1219" name="L1219"></a>1219     <strong class="reserved">public</strong> <a href="../S/894.html#L73" title="Defined at 73 in src/java/util/stream/IntStream.java.">IntStream</a> <a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>() <em class="brace">{</em>
<a id="L1220" name="L1220"></a>1220         <strong class="reserved">class</strong> <a href="../S/856.html#L1242" title="Referred from 1242 in src/java/util/BitSet.java.">BitSetIterator</a> <strong class="reserved">implements</strong> <a href="../S/1148.html#L68" title="Defined at 68 in src/java/util/PrimitiveIterator.java.">PrimitiveIterator</a>.<a href="../D/6355.html" title="Multiple defined in 22 places.">OfInt</a> <em class="brace">{</em>
<a id="L1221" name="L1221"></a>1221             <strong class="reserved">int</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = nextSetBit(0);
<a id="L1222" name="L1222"></a>1222 
<a id="L1223" name="L1223"></a>1223             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1224" name="L1224"></a>1224             <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20233.html" title="Multiple referred from 653 places.">hasNext</a>() <em class="brace">{</em>
<a id="L1225" name="L1225"></a>1225                 <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != -1;
<a id="L1226" name="L1226"></a>1226             <em class="brace">}</em>
<a id="L1227" name="L1227"></a>1227 
<a id="L1228" name="L1228"></a>1228             @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1229" name="L1229"></a>1229             <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/23671.html" title="Multiple referred from 33 places.">nextInt</a>() <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230                 <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> != -1) <em class="brace">{</em>
<a id="L1231" name="L1231"></a>1231                     <strong class="reserved">int</strong> ret = <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1232" name="L1232"></a>1232                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = nextSetBit(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>+1);
<a id="L1233" name="L1233"></a>1233                     <strong class="reserved">return</strong> ret;
<a id="L1234" name="L1234"></a>1234                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1235" name="L1235"></a>1235                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L1236" name="L1236"></a>1236                 <em class="brace">}</em>
<a id="L1237" name="L1237"></a>1237             <em class="brace">}</em>
<a id="L1238" name="L1238"></a>1238         <em class="brace">}</em>
<a id="L1239" name="L1239"></a>1239 
<a id="L1240" name="L1240"></a>1240         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/24892.html" title="Multiple defined in 2 places.">intStream</a>(
<a id="L1241" name="L1241"></a>1241                 () -&gt; <a href="../S/1188.html#L41" title="Defined at 41 in src/java/util/Spliterators.java.">Spliterators</a>.<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>(
<a id="L1242" name="L1242"></a>1242                         <strong class="reserved">new</strong> <a href="../S/856.html#L1220" title="Defined at 1220 in src/java/util/BitSet.java.">BitSetIterator</a>(), <a href="../S/5968.html#L212" title="Defined at 212 in src/com/sun/org/apache/xalan/internal/xsltc/util/IntegerArray.java.">cardinality</a>(),
<a id="L1243" name="L1243"></a>1243                         <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L281" title="Defined at 281 in src/java/util/stream/StreamOpFlag.java.">ORDERED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/2027.html" title="Multiple defined in 2 places.">DISTINCT</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L268" title="Defined at 268 in src/java/util/stream/StreamOpFlag.java.">SORTED</a>),
<a id="L1244" name="L1244"></a>1244                 <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L296" title="Defined at 296 in src/java/util/stream/StreamOpFlag.java.">SIZED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.SUBSIZED |
<a id="L1245" name="L1245"></a>1245                         <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L281" title="Defined at 281 in src/java/util/stream/StreamOpFlag.java.">ORDERED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/2027.html" title="Multiple defined in 2 places.">DISTINCT</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L268" title="Defined at 268 in src/java/util/stream/StreamOpFlag.java.">SORTED</a>,
<a id="L1246" name="L1246"></a>1246                 <strong class="reserved">false</strong>);
<a id="L1247" name="L1247"></a>1247     <em class="brace">}</em>
<a id="L1248" name="L1248"></a>1248 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L1224">[^]</a><a href="#L1229">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>