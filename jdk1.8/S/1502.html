<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/time/chrono/HijrahChronology.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L326">[^]</a><a href="#L1102">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L326" title="Defined at 326.">registerVariants</a></li>
<li><a href="#L384" title="Defined at 384.">checkCalendarInit</a></li>
<li><a href="#L403" title="Defined at 403.">getId</a></li>
<li><a href="#L419" title="Defined at 419.">getCalendarType</a></li>
<li><a href="#L437" title="Defined at 437.">date</a></li>
<li><a href="#L452" title="Defined at 452.">date</a></li>
<li><a href="#L468" title="Defined at 468.">dateYearDay</a></li>
<li><a href="#L483" title="Defined at 483.">dateYearDay</a></li>
<li><a href="#L499" title="Defined at 499.">dateEpochDay</a></li>
<li><a href="#L504" title="Defined at 504.">dateNow</a></li>
<li><a href="#L509" title="Defined at 509.">dateNow</a></li>
<li><a href="#L514" title="Defined at 514.">dateNow</a></li>
<li><a href="#L519" title="Defined at 519.">date</a></li>
<li><a href="#L527" title="Defined at 527.">SuppressWarnings</a></li>
<li><a href="#L528" title="Defined at 528.">localDateTime</a></li>
<li><a href="#L533" title="Defined at 533.">SuppressWarnings</a></li>
<li><a href="#L534" title="Defined at 534.">zonedDateTime</a></li>
<li><a href="#L539" title="Defined at 539.">SuppressWarnings</a></li>
<li><a href="#L540" title="Defined at 540.">zonedDateTime</a></li>
<li><a href="#L546" title="Defined at 546.">isLeapYear</a></li>
<li><a href="#L557" title="Defined at 557.">prolepticYear</a></li>
<li><a href="#L565" title="Defined at 565.">eraOf</a></li>
<li><a href="#L575" title="Defined at 575.">eras</a></li>
<li><a href="#L581" title="Defined at 581.">range</a></li>
<li><a href="#L606" title="Defined at 606.">resolveDate</a></li>
<li><a href="#L616" title="Defined at 616.">checkValidYear</a></li>
<li><a href="#L623" title="Defined at 623.">checkValidDayOfYear</a></li>
<li><a href="#L629" title="Defined at 629.">checkValidMonth</a></li>
<li><a href="#L643" title="Defined at 643.">getHijrahDateInfo</a></li>
<li><a href="#L670" title="Defined at 670.">getEpochDay</a></li>
<li><a href="#L691" title="Defined at 691.">getDayOfYear</a></li>
<li><a href="#L702" title="Defined at 702.">getMonthLength</a></li>
<li><a href="#L718" title="Defined at 718.">getYearLength</a></li>
<li><a href="#L727" title="Defined at 727.">getMinimumYear</a></li>
<li><a href="#L736" title="Defined at 736.">getMaximumYear</a></li>
<li><a href="#L745" title="Defined at 745.">getMaximumMonthLength</a></li>
<li><a href="#L754" title="Defined at 754.">getMinimumMonthLength</a></li>
<li><a href="#L763" title="Defined at 763.">getMaximumDayOfYear</a></li>
<li><a href="#L772" title="Defined at 772.">getSmallestMaximumDayOfYear</a></li>
<li><a href="#L784" title="Defined at 784.">epochDayToEpochMonth</a></li>
<li><a href="#L799" title="Defined at 799.">epochMonthToYear</a></li>
<li><a href="#L809" title="Defined at 809.">yearToEpochMonth</a></li>
<li><a href="#L819" title="Defined at 819.">epochMonthToMonth</a></li>
<li><a href="#L829" title="Defined at 829.">epochMonthToEpochDay</a></li>
<li><a href="#L841" title="Defined at 841.">yearMonthToDayOfYear</a></li>
<li><a href="#L854" title="Defined at 854.">epochMonthLength</a></li>
<li><a href="#L878" title="Defined at 878.">readConfigProperties</a></li>
<li><a href="#L907" title="Defined at 907.">loadCalendarData</a></li>
<li><a href="#L995" title="Defined at 995.">createEpochMonths</a></li>
<li><a href="#L1040" title="Defined at 1040.">parseMonths</a></li>
<li><a href="#L1062" title="Defined at 1062.">parseYMD</a></li>
<li><a href="#L1092" title="Defined at 1092.">writeReplace</a></li>
<li><a href="#L1102" title="Defined at 1102.">readObject</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2012, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<div class="comment">
  Copyright (c) 2012, Stephen Colebourne &amp; Michael Nascimento Santos
  All rights reserved.
  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   * Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice,
     this list of conditions and the following disclaimer in the documentation
     and/or other materials provided with the distribution.
   * Neither the name of JSR-310 nor the names of its contributors
     may be used to endorse or promote products derived from this software
     without specific prior written permission.
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div>
<a id="L57" name="L57"></a>  57 
<a id="L58" name="L58"></a>  58 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.<a href="../D/35330.html" title="Multiple defined in 2 places.">time</a>.chrono;
<a id="L59" name="L59"></a>  59 
<a id="L60" name="L60"></a>  60 <strong class="reserved">import</strong> static java.time.temporal.ChronoField.EPOCH_DAY;
<a id="L61" name="L61"></a>  61 
<a id="L62" name="L62"></a>  62 <strong class="reserved">import</strong> java.io.File;
<a id="L63" name="L63"></a>  63 <strong class="reserved">import</strong> java.io.FileInputStream;
<a id="L64" name="L64"></a>  64 <strong class="reserved">import</strong> java.io.IOException;
<a id="L65" name="L65"></a>  65 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L66" name="L66"></a>  66 <strong class="reserved">import</strong> java.io.InvalidObjectException;
<a id="L67" name="L67"></a>  67 <strong class="reserved">import</strong> java.io.ObjectInputStream;
<a id="L68" name="L68"></a>  68 <strong class="reserved">import</strong> java.io.Serializable;
<a id="L69" name="L69"></a>  69 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L70" name="L70"></a>  70 <strong class="reserved">import</strong> java.security.PrivilegedActionException;
<a id="L71" name="L71"></a>  71 <strong class="reserved">import</strong> java.time.Clock;
<a id="L72" name="L72"></a>  72 <strong class="reserved">import</strong> java.time.DateTimeException;
<a id="L73" name="L73"></a>  73 <strong class="reserved">import</strong> java.time.Instant;
<a id="L74" name="L74"></a>  74 <strong class="reserved">import</strong> java.time.LocalDate;
<a id="L75" name="L75"></a>  75 <strong class="reserved">import</strong> java.time.ZoneId;
<a id="L76" name="L76"></a>  76 <strong class="reserved">import</strong> java.time.format.ResolverStyle;
<a id="L77" name="L77"></a>  77 <strong class="reserved">import</strong> java.time.temporal.ChronoField;
<a id="L78" name="L78"></a>  78 <strong class="reserved">import</strong> java.time.temporal.TemporalAccessor;
<a id="L79" name="L79"></a>  79 <strong class="reserved">import</strong> java.time.temporal.TemporalField;
<a id="L80" name="L80"></a>  80 <strong class="reserved">import</strong> java.time.temporal.ValueRange;
<a id="L81" name="L81"></a>  81 <strong class="reserved">import</strong> java.util.Arrays;
<a id="L82" name="L82"></a>  82 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L83" name="L83"></a>  83 <strong class="reserved">import</strong> java.util.List;
<a id="L84" name="L84"></a>  84 <strong class="reserved">import</strong> java.util.Map;
<a id="L85" name="L85"></a>  85 <strong class="reserved">import</strong> java.util.Objects;
<a id="L86" name="L86"></a>  86 <strong class="reserved">import</strong> java.util.Properties;
<a id="L87" name="L87"></a>  87 
<a id="L88" name="L88"></a>  88 <strong class="reserved">import</strong> sun.util.logging.PlatformLogger;
<a id="L89" name="L89"></a>  89 
<div class="comment">
  The Hijrah calendar is a lunar calendar supporting Islamic calendars.
  <p>
  The HijrahChronology follows the rules of the Hijrah calendar system. The Hijrah
  calendar has several variants based on differences in when the new moon is
  determined to have occurred and where the observation is made.
  In some variants the length of each month is
  computed algorithmically from the astronomical data for the moon and earth and
  in others the length of the month is determined by an authorized sighting
  of the new moon. For the algorithmically based calendars the calendar
  can project into the future.
  For sighting based calendars only historical data from past
  sightings is available.
  </p><p>
  The length of each month is 29 or 30 days.
  Ordinary years have 354 days; leap years have 355 days.
  </p><p>
  CLDR and LDML identify variants:
  </p><table cellpadding="2" summary="Variants of Hijrah Calendars">
  <thead>
  <tr class="tableSubHeadingColor">
  <th class="colFirst" align="left">Chronology ID</th>
  <th class="colFirst" align="left">Calendar Type</th>
  <th class="colFirst" align="left">Locale extension, see {@link java.util.Locale}</th>
  <th class="colLast" align="left">Description</th>
  </tr>
  </thead>
  <tbody>
  <tr class="altColor">
  <td>Hijrah-umalqura</td>
  <td>islamic-umalqura</td>
  <td>ca-islamic-umalqura</td>
  <td>Islamic - Umm Al-Qura calendar of Saudi Arabia</td>
  </tr>
  </tbody>
  </table>
  <p>Additional variants may be available through {@link Chronology#getAvailableChronologies()}.
  </p><p>Example</p>
  <p>
  Selecting the chronology from the locale uses {@link Chronology#ofLocale}
  to find the Chronology based on Locale supported BCP 47 extension mechanism
  to request a specific calendar ("ca"). For example,
  </p>
  <pre>       Locale locale = Locale.forLanguageTag("en-US-u-ca-islamic-umalqura");
       Chronology chrono = Chronology.ofLocale(locale);
  </pre>
  @implSpec
  This class is immutable and thread-safe.
  @implNote
  Each Hijrah variant is configured individually. Each variant is defined by a
  property resource that defines the <code>ID</code>, the <code>calendar type</code>,
  the start of the calendar, the alignment with the
  ISO calendar, and the length of each month for a range of years.
  The variants are identified in the <code>calendars.properties</code> file.
  The new properties are prefixed with <code>"calendars.hijrah."</code>:
  <table cellpadding="2" border="0" summary="Configuration of Hijrah Calendar Variants">
  <thead>
  <tr class="tableSubHeadingColor">
  <th class="colFirst" align="left">Property Name</th>
  <th class="colFirst" align="left">Property value</th>
  <th class="colLast" align="left">Description </th>
  </tr>
  </thead>
  <tbody>
  <tr class="altColor">
  <td>calendars.hijrah.{ID}</td>
  <td>The property resource defining the <code>{ID</code>} variant</td>
  <td>The property resource is located with the <code>calendars.properties</code> file</td>
  </tr>
  <tr class="rowColor">
  <td>calendars.hijrah.{ID}.type</td>
  <td>The calendar type</td>
  <td>LDML defines the calendar type names</td>
  </tr>
  </tbody>
  </table>
  <p>
  The Hijrah property resource is a set of properties that describe the calendar.
  The syntax is defined by <code>java.util.Properties#load(Reader)</code>.
  </p><table cellpadding="2" summary="Configuration of Hijrah Calendar">
  <thead>
  <tr class="tableSubHeadingColor">
  <th class="colFirst" align="left"> Property Name</th>
  <th class="colFirst" align="left"> Property value</th>
  <th class="colLast" align="left"> Description </th>
  </tr>
  </thead>
  <tbody>
  <tr class="altColor">
  <td>id</td>
  <td>Chronology Id, for example, "Hijrah-umalqura"</td>
  <td>The Id of the calendar in common usage</td>
  </tr>
  <tr class="rowColor">
  <td>type</td>
  <td>Calendar type, for example, "islamic-umalqura"</td>
  <td>LDML defines the calendar types</td>
  </tr>
  <tr class="altColor">
  <td>version</td>
  <td>Version, for example: "1.8.0_1"</td>
  <td>The version of the Hijrah variant data</td>
  </tr>
  <tr class="rowColor">
  <td>iso-start</td>
  <td>ISO start date, formatted as <code>yyyy-MM-dd</code>, for example: "1900-04-30"</td>
  <td>The ISO date of the first day of the minimum Hijrah year.</td>
  </tr>
  <tr class="altColor">
  <td>yyyy - a numeric 4 digit year, for example "1434"</td>
  <td>The value is a sequence of 12 month lengths,
  for example: "29 30 29 30 29 30 30 30 29 30 29 29"</td>
  <td>The lengths of the 12 months of the year separated by whitespace.
  A numeric year property must be present for every year without any gaps.
  The month lengths must be between 29-32 inclusive.
  </td>
  </tr>
  </tbody>
  </table>
  @since 1.8</div>
<a id="L217" name="L217"></a> 217 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/3436.html" title="Multiple referred from 15 places.">HijrahChronology</a> <strong class="reserved">extends</strong> <a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a> <strong class="reserved">implements</strong> <a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L218" name="L218"></a> 218 
<div class="comment">
      The Hijrah Calendar id.</div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> typeId;
<div class="comment">
      The Hijrah calendarType.</div>
<a id="L226" name="L226"></a> 226     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> calendarType;
<div class="comment">
      Serialization version.</div>
<a id="L230" name="L230"></a> 230     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 3127340209035924785L;
<div class="comment">
      Singleton instance of the Islamic Umm Al-Qura calendar of Saudi Arabia.
      Other Hijrah chronology variants may be available from
      {@link Chronology#getAvailableChronologies}.</div>
<a id="L236" name="L236"></a> 236     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1502.html#L217" title="Defined at 217 in src/java/time/chrono/HijrahChronology.java.">HijrahChronology</a> INSTANCE;
<div class="comment">
      Flag to indicate the initialization of configuration data is complete.
      @see #checkCalendarInit()</div>
<a id="L241" name="L241"></a> 241     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> initComplete;
<div class="comment">
      Array of epoch days indexed by Hijrah Epoch month.
      Computed by {@link #loadCalendarData}.</div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong>[] hijrahEpochMonthStartDays;
<div class="comment">
      The minimum epoch day of this Hijrah calendar.
      Computed by {@link #loadCalendarData}.</div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> minEpochDay;
<div class="comment">
      The maximum epoch day for which calendar data is available.
      Computed by {@link #loadCalendarData}.</div>
<a id="L256" name="L256"></a> 256     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> maxEpochDay;
<div class="comment">
      The minimum epoch month.
      Computed by {@link #loadCalendarData}.</div>
<a id="L261" name="L261"></a> 261     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> hijrahStartEpochMonth;
<div class="comment">
      The minimum length of a month.
      Computed by {@link #createEpochMonths}.</div>
<a id="L266" name="L266"></a> 266     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> minMonthLength;
<div class="comment">
      The maximum length of a month.
      Computed by {@link #createEpochMonths}.</div>
<a id="L271" name="L271"></a> 271     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> maxMonthLength;
<div class="comment">
      The minimum length of a year in days.
      Computed by {@link #createEpochMonths}.</div>
<a id="L276" name="L276"></a> 276     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> minYearLength;
<div class="comment">
      The maximum length of a year in days.
      Computed by {@link #createEpochMonths}.</div>
<a id="L281" name="L281"></a> 281     <strong class="reserved">private</strong> <strong class="reserved">transient</strong> <strong class="reserved">int</strong> maxYearLength;
<div class="comment">
      A reference to the properties stored in
      ${java.home}/lib/calendars.properties</div>
<a id="L286" name="L286"></a> 286     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">transient</strong> <strong class="reserved">static</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> calendarProperties;
<a id="L287" name="L287"></a> 287 
<div class="comment">
      Prefix of property names for Hijrah calendar variants.</div>
<a id="L291" name="L291"></a> 291     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> PROP_PREFIX = "calendar.hijrah.";
<div class="comment">
      Suffix of property names containing the calendar type of a variant.</div>
<a id="L295" name="L295"></a> 295     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> PROP_TYPE_SUFFIX = ".type";
<a id="L296" name="L296"></a> 296 
<div class="comment">
      Static initialization of the predefined calendars found in the
      lib/calendars.properties file.</div>
<a id="L301" name="L301"></a> 301     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L302" name="L302"></a> 302         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L303" name="L303"></a> 303             calendarProperties = sun.util.calendar.BaseCalendar.getCalendarProperties();
<a id="L304" name="L304"></a> 304         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>("Can't initialize lib/calendars.properties", ioe);
<a id="L306" name="L306"></a> 306         <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 
<a id="L308" name="L308"></a> 308         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L309" name="L309"></a> 309             INSTANCE = <strong class="reserved">new</strong> <a href="../S/1502.html#L217" title="Defined at 217 in src/java/time/chrono/HijrahChronology.java.">HijrahChronology</a>("Hijrah-umalqura");
<a id="L310" name="L310"></a> 310             <em class="comment">// Register it by its aliases</em>
<a id="L311" name="L311"></a> 311             <a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>.<a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(INSTANCE, "Hijrah");
<a id="L312" name="L312"></a> 312             <a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>.<a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(INSTANCE, "islamic");
<a id="L313" name="L313"></a> 313         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L314" name="L314"></a> 314             <em class="comment">// Absence of Hijrah calendar is fatal to initializing this class.</em>
<a id="L315" name="L315"></a> 315             PlatformLogger <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = PlatformLogger.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>("java.time.chrono");
<a id="L316" name="L316"></a> 316             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/34428.html" title="Multiple defined in 5 places.">severe</a>("Unable to initialize Hijrah calendar: Hijrah-umalqura", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L317" name="L317"></a> 317             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>("Unable to initialize Hijrah-umalqura calendar", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/17525.html" title="Multiple defined in 41 places.">getCause</a>());
<a id="L318" name="L318"></a> 318         <em class="brace">}</em>
<a id="L319" name="L319"></a> 319         <a href="../S/1502.html#L326" title="Defined at 326 in src/java/time/chrono/HijrahChronology.java.">registerVariants</a>();
<a id="L320" name="L320"></a> 320     <em class="brace">}</em>
<a id="L321" name="L321"></a> 321 
<div class="comment">
      For each Hijrah variant listed, create the HijrahChronology and register it.
      Exceptions during initialization are logged but otherwise ignored.</div>
<a id="L326" name="L326"></a> 326     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">void</strong> <a href="../S/1502.html#L319" title="Referred from 319 in src/java/time/chrono/HijrahChronology.java.">registerVariants</a>() <em class="brace">{</em>
<a id="L327" name="L327"></a> 327         <strong class="reserved">for</strong> (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> : calendarProperties.<a href="../S/1039.html#L1030" title="Defined at 1030 in src/java/util/Properties.java.">stringPropertyNames</a>()) <em class="brace">{</em>
<a id="L328" name="L328"></a> 328             <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/34843.html" title="Multiple defined in 24 places.">startsWith</a>(PROP_PREFIX)) <em class="brace">{</em>
<a id="L329" name="L329"></a> 329                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(PROP_PREFIX.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>());
<a id="L330" name="L330"></a> 330                 <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/24468.html" title="Multiple defined in 74 places.">indexOf</a>('.') &gt;= 0) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331                     <strong class="reserved">continue</strong>;   <em class="comment">// no name or not a simple name of a calendar</em>
<a id="L332" name="L332"></a> 332                 <em class="brace">}</em>
<a id="L333" name="L333"></a> 333                 <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(INSTANCE.<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>())) <em class="brace">{</em>
<a id="L334" name="L334"></a> 334                     <strong class="reserved">continue</strong>;           <em class="comment">// do not duplicate the default</em>
<a id="L335" name="L335"></a> 335                 <em class="brace">}</em>
<a id="L336" name="L336"></a> 336                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L337" name="L337"></a> 337                     <em class="comment">// Create and register the variant</em>
<a id="L338" name="L338"></a> 338                     <a href="../S/1502.html#L217" title="Defined at 217 in src/java/time/chrono/HijrahChronology.java.">HijrahChronology</a> chrono = <strong class="reserved">new</strong> <a href="../S/1502.html#L217" title="Defined at 217 in src/java/time/chrono/HijrahChronology.java.">HijrahChronology</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L339" name="L339"></a> 339                     <a href="../S/1492.html#L127" title="Defined at 127 in src/java/time/chrono/AbstractChronology.java.">AbstractChronology</a>.<a href="../D/30526.html" title="Multiple defined in 2 places.">registerChrono</a>(chrono);
<a id="L340" name="L340"></a> 340                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                     <em class="comment">// Log error and continue</em>
<a id="L342" name="L342"></a> 342                     PlatformLogger <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = PlatformLogger.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>("java.time.chrono");
<a id="L343" name="L343"></a> 343                     <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/34428.html" title="Multiple defined in 5 places.">severe</a>("Unable to initialize Hijrah calendar: " + <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L344" name="L344"></a> 344                 <em class="brace">}</em>
<a id="L345" name="L345"></a> 345             <em class="brace">}</em>
<a id="L346" name="L346"></a> 346         <em class="brace">}</em>
<a id="L347" name="L347"></a> 347     <em class="brace">}</em>
<a id="L348" name="L348"></a> 348 
<div class="comment">
      Create a HijrahChronology for the named variant.
      The resource and calendar type are retrieved from properties
      in the <code>calendars.properties</code>.
      The property names are <code>"calendar.hijrah." + id</code>
      and  <code>"calendar.hijrah." + id + ".type"</code>
      @param id the id of the calendar
      @throws DateTimeException if the calendar type is missing from the properties file.
      @throws IllegalArgumentException if the id is empty</div>
<a id="L359" name="L359"></a> 359     <strong class="reserved">private</strong> HijrahChronology(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>) <strong class="reserved">throws</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a> <em class="brace">{</em>
<a id="L360" name="L360"></a> 360         <strong class="reserved">if</strong> (<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("calendar id is empty");
<a id="L362" name="L362"></a> 362         <em class="brace">}</em>
<a id="L363" name="L363"></a> 363         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> propName = PROP_PREFIX + <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> + PROP_TYPE_SUFFIX;
<a id="L364" name="L364"></a> 364         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> calType = calendarProperties.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(propName);
<a id="L365" name="L365"></a> 365         <strong class="reserved">if</strong> (calType == <strong class="reserved">null</strong> || calType.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L366" name="L366"></a> 366             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("calendarType is missing or empty for: " + propName);
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368         <strong class="reserved">this</strong>.typeId = <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>;
<a id="L369" name="L369"></a> 369         <strong class="reserved">this</strong>.calendarType = calType;
<a id="L370" name="L370"></a> 370     <em class="brace">}</em>
<a id="L371" name="L371"></a> 371 
<div class="comment">
      Check and ensure that the calendar data has been initialized.
      The initialization check is performed at the boundary between
      public and package methods.  If a public calls another public method
      a check is not necessary in the caller.
      The constructors of HijrahDate call {@link #getEpochDay} or
      {@link #getHijrahDateInfo} so every call from HijrahDate to a
      HijrahChronology via package private methods has been checked.
      @throws DateTimeException if the calendar data configuration is
          malformed or IOExceptions occur loading the data</div>
<a id="L384" name="L384"></a> 384     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/11100.html" title="Multiple referred from 4 places.">checkCalendarInit</a>() <em class="brace">{</em>
<a id="L385" name="L385"></a> 385         <em class="comment">// Keep this short so it can be inlined for performance</em>
<a id="L386" name="L386"></a> 386         <strong class="reserved">if</strong> (initComplete == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L387" name="L387"></a> 387             <a href="../S/1502.html#L907" title="Defined at 907 in src/java/time/chrono/HijrahChronology.java.">loadCalendarData</a>();
<a id="L388" name="L388"></a> 388             initComplete = <strong class="reserved">true</strong>;
<a id="L389" name="L389"></a> 389         <em class="brace">}</em>
<a id="L390" name="L390"></a> 390     <em class="brace">}</em>
<a id="L391" name="L391"></a> 391 
<a id="L392" name="L392"></a> 392     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Gets the ID of the chronology.
      <p>
      The ID uniquely identifies the <code>Chronology</code>. It can be used to
      lookup the <code>Chronology</code> using {@link Chronology#of(String)}.
      @return the chronology ID, non-null
      @see #getCalendarType()</p></div>
<a id="L402" name="L402"></a> 402     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L403" name="L403"></a> 403     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/16968.html" title="Multiple referred from 227 places.">getId</a>() <em class="brace">{</em>
<a id="L404" name="L404"></a> 404         <strong class="reserved">return</strong> typeId;
<a id="L405" name="L405"></a> 405     <em class="brace">}</em>
<a id="L406" name="L406"></a> 406 
<div class="comment">
      Gets the calendar type of the Islamic calendar.
      <p>
      The calendar type is an identifier defined by the
      <em>Unicode Locale Data Markup Language (LDML)</em> specification.
      It can be used to lookup the <code>Chronology</code> using {@link Chronology#of(String)}.
      @return the calendar system type; non-null if the calendar has
         a standard type, otherwise null
      @see #getId()</p></div>
<a id="L418" name="L418"></a> 418     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L419" name="L419"></a> 419     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15426.html" title="Multiple referred from 12 places.">getCalendarType</a>() <em class="brace">{</em>
<a id="L420" name="L420"></a> 420         <strong class="reserved">return</strong> calendarType;
<a id="L421" name="L421"></a> 421     <em class="brace">}</em>
<a id="L422" name="L422"></a> 422 
<a id="L423" name="L423"></a> 423     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Obtains a local date in Hijrah calendar system from the
      era, year-of-era, month-of-year and day-of-month fields.
      @param era  the Hijrah era, not null
      @param yearOfEra  the year-of-era
      @param month  the month-of-year
      @param dayOfMonth  the day-of-month
      @return the Hijrah local date, not null
      @throws DateTimeException if unable to create the date
      @throws ClassCastException if the <code>era</code> is not a <code>HijrahEra</code></div>
<a id="L436" name="L436"></a> 436     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L437" name="L437"></a> 437     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12898.html" title="Multiple referred from 780 places.">date</a>(<a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a> era, <strong class="reserved">int</strong> yearOfEra, <strong class="reserved">int</strong> month, <strong class="reserved">int</strong> dayOfMonth) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>(era, yearOfEra), month, dayOfMonth);
<a id="L439" name="L439"></a> 439     <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Obtains a local date in Hijrah calendar system from the
      proleptic-year, month-of-year and day-of-month fields.
      @param prolepticYear  the proleptic-year
      @param month  the month-of-year
      @param dayOfMonth  the day-of-month
      @return the Hijrah local date, not null
      @throws DateTimeException if unable to create the date</div>
<a id="L451" name="L451"></a> 451     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L452" name="L452"></a> 452     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12898.html" title="Multiple referred from 780 places.">date</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, <strong class="reserved">int</strong> month, <strong class="reserved">int</strong> dayOfMonth) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <strong class="reserved">return</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<strong class="reserved">this</strong>, <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, month, dayOfMonth);
<a id="L454" name="L454"></a> 454     <em class="brace">}</em>
<a id="L455" name="L455"></a> 455 
<div class="comment">
      Obtains a local date in Hijrah calendar system from the
      era, year-of-era and day-of-year fields.
      @param era  the Hijrah era, not null
      @param yearOfEra  the year-of-era
      @param dayOfYear  the day-of-year
      @return the Hijrah local date, not null
      @throws DateTimeException if unable to create the date
      @throws ClassCastException if the <code>era</code> is not a <code>HijrahEra</code></div>
<a id="L467" name="L467"></a> 467     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L468" name="L468"></a> 468     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12903.html" title="Multiple referred from 14 places.">dateYearDay</a>(<a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a> era, <strong class="reserved">int</strong> yearOfEra, <strong class="reserved">int</strong> dayOfYear) <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">return</strong> <a href="../D/14468.html" title="Multiple defined in 12 places.">dateYearDay</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>(era, yearOfEra), dayOfYear);
<a id="L470" name="L470"></a> 470     <em class="brace">}</em>
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Obtains a local date in Hijrah calendar system from the
      proleptic-year and day-of-year fields.
      @param prolepticYear  the proleptic-year
      @param dayOfYear  the day-of-year
      @return the Hijrah local date, not null
      @throws DateTimeException if the value of the year is out of range,
       or if the day-of-year is invalid for the year</div>
<a id="L482" name="L482"></a> 482     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L483" name="L483"></a> 483     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12903.html" title="Multiple referred from 14 places.">dateYearDay</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, <strong class="reserved">int</strong> dayOfYear) <em class="brace">{</em>
<a id="L484" name="L484"></a> 484         <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<strong class="reserved">this</strong>, <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, 1, 1);
<a id="L485" name="L485"></a> 485         <strong class="reserved">if</strong> (dayOfYear &gt; <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/26825.html" title="Multiple defined in 5 places.">lengthOfYear</a>()) <em class="brace">{</em>
<a id="L486" name="L486"></a> 486             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid dayOfYear: " + dayOfYear);
<a id="L487" name="L487"></a> 487         <em class="brace">}</em>
<a id="L488" name="L488"></a> 488         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>.<a href="../D/29362.html" title="Multiple defined in 12 places.">plusDays</a>(dayOfYear - 1);
<a id="L489" name="L489"></a> 489     <em class="brace">}</em>
<a id="L490" name="L490"></a> 490 
<div class="comment">
      Obtains a local date in the Hijrah calendar system from the epoch-day.
      @param epochDay  the epoch day
      @return the Hijrah local date, not null
      @throws DateTimeException if unable to create the date</div>
<a id="L498" name="L498"></a> 498     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>  <em class="comment">// override with covariant return type</em>
<a id="L499" name="L499"></a> 499     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12899.html" title="Multiple referred from 3 places.">dateEpochDay</a>(<strong class="reserved">long</strong> epochDay) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500         <strong class="reserved">return</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>.<a href="../D/28434.html" title="Multiple defined in 2 places.">ofEpochDay</a>(<strong class="reserved">this</strong>, epochDay);
<a id="L501" name="L501"></a> 501     <em class="brace">}</em>
<a id="L502" name="L502"></a> 502 
<a id="L503" name="L503"></a> 503     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L504" name="L504"></a> 504     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12900.html" title="Multiple referred from 13 places.">dateNow</a>() <em class="brace">{</em>
<a id="L505" name="L505"></a> 505         <strong class="reserved">return</strong> <a href="../D/14465.html" title="Multiple defined in 18 places.">dateNow</a>(<a href="../S/1552.html#L134" title="Defined at 134 in src/java/time/Clock.java.">Clock</a>.<a href="../S/1552.html#L177" title="Defined at 177 in src/java/time/Clock.java.">systemDefaultZone</a>());
<a id="L506" name="L506"></a> 506     <em class="brace">}</em>
<a id="L507" name="L507"></a> 507 
<a id="L508" name="L508"></a> 508     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L509" name="L509"></a> 509     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12900.html" title="Multiple referred from 13 places.">dateNow</a>(<a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510         <strong class="reserved">return</strong> <a href="../D/14465.html" title="Multiple defined in 18 places.">dateNow</a>(<a href="../S/1552.html#L134" title="Defined at 134 in src/java/time/Clock.java.">Clock</a>.<a href="../S/1552.html#L196" title="Defined at 196 in src/java/time/Clock.java.">system</a>(<a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>));
<a id="L511" name="L511"></a> 511     <em class="brace">}</em>
<a id="L512" name="L512"></a> 512 
<a id="L513" name="L513"></a> 513     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L514" name="L514"></a> 514     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12900.html" title="Multiple referred from 13 places.">dateNow</a>(<a href="../S/1552.html#L134" title="Defined at 134 in src/java/time/Clock.java.">Clock</a> clock) <em class="brace">{</em>
<a id="L515" name="L515"></a> 515         <strong class="reserved">return</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a>(<a href="../S/1549.html#L137" title="Defined at 137 in src/java/time/LocalDate.java.">LocalDate</a>.<a href="../D/28344.html" title="Multiple defined in 43 places.">now</a>(clock));
<a id="L516" name="L516"></a> 516     <em class="brace">}</em>
<a id="L517" name="L517"></a> 517 
<a id="L518" name="L518"></a> 518     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L519" name="L519"></a> 519     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/12898.html" title="Multiple referred from 780 places.">date</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L520" name="L520"></a> 520         <strong class="reserved">if</strong> (temporal <strong class="reserved">instanceof</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>) <em class="brace">{</em>
<a id="L521" name="L521"></a> 521             <strong class="reserved">return</strong> (<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>) temporal;
<a id="L522" name="L522"></a> 522         <em class="brace">}</em>
<a id="L523" name="L523"></a> 523         <strong class="reserved">return</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>.<a href="../D/28434.html" title="Multiple defined in 2 places.">ofEpochDay</a>(<strong class="reserved">this</strong>, temporal.<a href="../D/20280.html" title="Multiple defined in 48 places.">getLong</a>(<a href="../S/1483.html#L423" title="Defined at 423 in src/java/time/temporal/ChronoField.java.">EPOCH_DAY</a>));
<a id="L524" name="L524"></a> 524     <em class="brace">}</em>
<a id="L525" name="L525"></a> 525 
<a id="L526" name="L526"></a> 526     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L527" name="L527"></a> 527     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L528" name="L528"></a> 528     <strong class="reserved">public</strong> <a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>&gt; <a href="../R/22642.html" title="Multiple referred from 46 places.">localDateTime</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L529" name="L529"></a> 529         <strong class="reserved">return</strong> (<a href="../S/1503.html#L120" title="Defined at 120 in src/java/time/chrono/ChronoLocalDateTime.java.">ChronoLocalDateTime</a>&lt;<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>&gt;) <strong class="reserved">super</strong>.<a href="../D/27003.html" title="Multiple defined in 6 places.">localDateTime</a>(temporal);
<a id="L530" name="L530"></a> 530     <em class="brace">}</em>
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L533" name="L533"></a> 533     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L534" name="L534"></a> 534     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>&gt; <a href="../R/30870.html" title="Multiple referred from 13 places.">zonedDateTime</a>(<a href="../S/1477.html#L103" title="Defined at 103 in src/java/time/temporal/TemporalAccessor.java.">TemporalAccessor</a> temporal) <em class="brace">{</em>
<a id="L535" name="L535"></a> 535         <strong class="reserved">return</strong> (<a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>&gt;) <strong class="reserved">super</strong>.<a href="../D/37340.html" title="Multiple defined in 12 places.">zonedDateTime</a>(temporal);
<a id="L536" name="L536"></a> 536     <em class="brace">}</em>
<a id="L537" name="L537"></a> 537 
<a id="L538" name="L538"></a> 538     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L539" name="L539"></a> 539     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L540" name="L540"></a> 540     <strong class="reserved">public</strong> <a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>&gt; <a href="../R/30870.html" title="Multiple referred from 13 places.">zonedDateTime</a>(<a href="../S/1490.html#L207" title="Defined at 207 in src/java/time/Instant.java.">Instant</a> <a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>, <a href="../S/1533.html#L177" title="Defined at 177 in src/java/time/ZoneId.java.">ZoneId</a> <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>) <em class="brace">{</em>
<a id="L541" name="L541"></a> 541         <strong class="reserved">return</strong> (<a href="../S/1497.html#L121" title="Defined at 121 in src/java/time/chrono/ChronoZonedDateTime.java.">ChronoZonedDateTime</a>&lt;<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>&gt;) <strong class="reserved">super</strong>.<a href="../D/37340.html" title="Multiple defined in 12 places.">zonedDateTime</a>(<a href="../D/24875.html" title="Multiple defined in 5 places.">instant</a>, <a href="../S/1481.html#L267" title="Defined at 267 in src/java/time/temporal/TemporalQueries.java.">zone</a>);
<a id="L542" name="L542"></a> 542     <em class="brace">}</em>
<a id="L543" name="L543"></a> 543 
<a id="L544" name="L544"></a> 544     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L545" name="L545"></a> 545     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L546" name="L546"></a> 546     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21646.html" title="Multiple referred from 35 places.">isLeapYear</a>(<strong class="reserved">long</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>) <em class="brace">{</em>
<a id="L547" name="L547"></a> 547         <a href="../S/1502.html#L384" title="Defined at 384 in src/java/time/chrono/HijrahChronology.java.">checkCalendarInit</a>();
<a id="L548" name="L548"></a> 548         <strong class="reserved">int</strong> epochMonth = <a href="../S/1502.html#L809" title="Defined at 809 in src/java/time/chrono/HijrahChronology.java.">yearToEpochMonth</a>((<strong class="reserved">int</strong>) <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>);
<a id="L549" name="L549"></a> 549         <strong class="reserved">if</strong> (epochMonth &lt; 0 || epochMonth &gt; maxEpochDay) <em class="brace">{</em>
<a id="L550" name="L550"></a> 550             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Hijrah date out of range");
<a id="L551" name="L551"></a> 551         <em class="brace">}</em>
<a id="L552" name="L552"></a> 552         <strong class="reserved">int</strong> len = <a href="../S/1502.html#L718" title="Defined at 718 in src/java/time/chrono/HijrahChronology.java.">getYearLength</a>((<strong class="reserved">int</strong>) <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>);
<a id="L553" name="L553"></a> 553         <strong class="reserved">return</strong> (len &gt; 354);
<a id="L554" name="L554"></a> 554     <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L557" name="L557"></a> 557     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25212.html" title="Multiple referred from 107 places.">prolepticYear</a>(<a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a> era, <strong class="reserved">int</strong> yearOfEra) <em class="brace">{</em>
<a id="L558" name="L558"></a> 558         <strong class="reserved">if</strong> (era <strong class="reserved">instanceof</strong> <a href="../S/1504.html#L86" title="Defined at 86 in src/java/time/chrono/HijrahEra.java.">HijrahEra</a> == <strong class="reserved">false</strong>) <em class="brace">{</em>
<a id="L559" name="L559"></a> 559             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1727.html#L41" title="Defined at 41 in src/java/lang/ClassCastException.java.">ClassCastException</a>("Era must be HijrahEra");
<a id="L560" name="L560"></a> 560         <em class="brace">}</em>
<a id="L561" name="L561"></a> 561         <strong class="reserved">return</strong> yearOfEra;
<a id="L562" name="L562"></a> 562     <em class="brace">}</em>
<a id="L563" name="L563"></a> 563 
<a id="L564" name="L564"></a> 564     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L565" name="L565"></a> 565     <strong class="reserved">public</strong> <a href="../S/1504.html#L86" title="Defined at 86 in src/java/time/chrono/HijrahEra.java.">HijrahEra</a> <a href="../R/13998.html" title="Multiple referred from 3 places.">eraOf</a>(<strong class="reserved">int</strong> eraValue) <em class="brace">{</em>
<a id="L566" name="L566"></a> 566         <strong class="reserved">switch</strong> (eraValue) <em class="brace">{</em>
<a id="L567" name="L567"></a> 567             <strong class="reserved">case</strong> 1:
<a id="L568" name="L568"></a> 568                 <strong class="reserved">return</strong> <a href="../S/1504.html#L86" title="Defined at 86 in src/java/time/chrono/HijrahEra.java.">HijrahEra</a>.AH;
<a id="L569" name="L569"></a> 569             <strong class="reserved">default</strong>:
<a id="L570" name="L570"></a> 570                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("invalid Hijrah era");
<a id="L571" name="L571"></a> 571         <em class="brace">}</em>
<a id="L572" name="L572"></a> 572     <em class="brace">}</em>
<a id="L573" name="L573"></a> 573 
<a id="L574" name="L574"></a> 574     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L575" name="L575"></a> 575     <strong class="reserved">public</strong> <a href="../D/5090.html" title="Multiple defined in 5 places.">List</a>&lt;<a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a>&gt; <a href="../R/13999.html" title="Multiple referred from 57 places.">eras</a>() <em class="brace">{</em>
<a id="L576" name="L576"></a> 576         <strong class="reserved">return</strong> <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.&lt;<a href="../S/1498.html#L104" title="Defined at 104 in src/java/time/chrono/Era.java.">Era</a>&gt;<a href="../D/11544.html" title="Multiple defined in 4 places.">asList</a>(<a href="../S/1504.html#L86" title="Defined at 86 in src/java/time/chrono/HijrahEra.java.">HijrahEra</a>.<a href="../D/36382.html" title="Multiple defined in 31 places.">values</a>());
<a id="L577" name="L577"></a> 577     <em class="brace">}</em>
<a id="L578" name="L578"></a> 578 
<a id="L579" name="L579"></a> 579     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L580" name="L580"></a> 580     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L581" name="L581"></a> 581     <strong class="reserved">public</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a> <a href="../R/25397.html" title="Multiple referred from 275 places.">range</a>(<a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a> field) <em class="brace">{</em>
<a id="L582" name="L582"></a> 582         <a href="../S/1502.html#L384" title="Defined at 384 in src/java/time/chrono/HijrahChronology.java.">checkCalendarInit</a>();
<a id="L583" name="L583"></a> 583         <strong class="reserved">if</strong> (field <strong class="reserved">instanceof</strong> <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a>) <em class="brace">{</em>
<a id="L584" name="L584"></a> 584             <a href="../S/1483.html#L101" title="Defined at 101 in src/java/time/temporal/ChronoField.java.">ChronoField</a> f = field;
<a id="L585" name="L585"></a> 585             <strong class="reserved">switch</strong> (f) <em class="brace">{</em>
<a id="L586" name="L586"></a> 586                 <strong class="reserved">case</strong> <a href="../S/1483.html#L395" title="Defined at 395 in src/java/time/temporal/ChronoField.java.">DAY_OF_MONTH</a>:
<a id="L587" name="L587"></a> 587                     <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, 1, <a href="../S/1502.html#L754" title="Defined at 754 in src/java/time/chrono/HijrahChronology.java.">getMinimumMonthLength</a>(), <a href="../S/1502.html#L745" title="Defined at 745 in src/java/time/chrono/HijrahChronology.java.">getMaximumMonthLength</a>());
<a id="L588" name="L588"></a> 588                 <strong class="reserved">case</strong> <a href="../S/1483.html#L413" title="Defined at 413 in src/java/time/temporal/ChronoField.java.">DAY_OF_YEAR</a>:
<a id="L589" name="L589"></a> 589                     <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, <a href="../S/1502.html#L763" title="Defined at 763 in src/java/time/chrono/HijrahChronology.java.">getMaximumDayOfYear</a>());
<a id="L590" name="L590"></a> 590                 <strong class="reserved">case</strong> <a href="../S/1483.html#L439" title="Defined at 439 in src/java/time/temporal/ChronoField.java.">ALIGNED_WEEK_OF_MONTH</a>:
<a id="L591" name="L591"></a> 591                     <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, 5);
<a id="L592" name="L592"></a> 592                 <strong class="reserved">case</strong> <a href="../S/1483.html#L545" title="Defined at 545 in src/java/time/temporal/ChronoField.java.">YEAR</a>:
<a id="L593" name="L593"></a> 593                 <strong class="reserved">case</strong> <a href="../S/1483.html#L521" title="Defined at 521 in src/java/time/temporal/ChronoField.java.">YEAR_OF_ERA</a>:
<a id="L594" name="L594"></a> 594                     <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(<a href="../S/1502.html#L727" title="Defined at 727 in src/java/time/chrono/HijrahChronology.java.">getMinimumYear</a>(), <a href="../S/1502.html#L736" title="Defined at 736 in src/java/time/chrono/HijrahChronology.java.">getMaximumYear</a>());
<a id="L595" name="L595"></a> 595                 <strong class="reserved">case</strong> <a href="../S/1483.html#L562" title="Defined at 562 in src/java/time/temporal/ChronoField.java.">ERA</a>:
<a id="L596" name="L596"></a> 596                     <strong class="reserved">return</strong> <a href="../S/1476.html#L90" title="Defined at 90 in src/java/time/temporal/ValueRange.java.">ValueRange</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(1, 1);
<a id="L597" name="L597"></a> 597                 <strong class="reserved">default</strong>:
<a id="L598" name="L598"></a> 598                     <strong class="reserved">return</strong> field.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>();
<a id="L599" name="L599"></a> 599             <em class="brace">}</em>
<a id="L600" name="L600"></a> 600         <em class="brace">}</em>
<a id="L601" name="L601"></a> 601         <strong class="reserved">return</strong> field.<a href="../D/30095.html" title="Multiple defined in 38 places.">range</a>();
<a id="L602" name="L602"></a> 602     <em class="brace">}</em>
<a id="L603" name="L603"></a> 603 
<a id="L604" name="L604"></a> 604     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L605" name="L605"></a> 605     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>  <em class="comment">// override for return type</em>
<a id="L606" name="L606"></a> 606     <strong class="reserved">public</strong> <a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a> <a href="../R/26331.html" title="Multiple referred from 6 places.">resolveDate</a>(<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../S/1475.html#L94" title="Defined at 94 in src/java/time/temporal/TemporalField.java.">TemporalField</a>, <a href="../S/1720.html#L54" title="Defined at 54 in src/java/lang/Long.java.">Long</a>&gt; fieldValues, <a href="../S/1542.html#L77" title="Defined at 77 in src/java/time/format/ResolverStyle.java.">ResolverStyle</a> resolverStyle) <em class="brace">{</em>
<a id="L607" name="L607"></a> 607         <strong class="reserved">return</strong> (<a href="../S/1508.html#L119" title="Defined at 119 in src/java/time/chrono/HijrahDate.java.">HijrahDate</a>) <strong class="reserved">super</strong>.<a href="../D/31252.html" title="Multiple defined in 7 places.">resolveDate</a>(fieldValues, resolverStyle);
<a id="L608" name="L608"></a> 608     <em class="brace">}</em>
<a id="L609" name="L609"></a> 609 
<a id="L610" name="L610"></a> 610     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Check the validity of a year.
      @param prolepticYear the year to check</div>
<a id="L616" name="L616"></a> 616     <strong class="reserved">int</strong> <a href="../S/1508.html#L541" title="Referred from 541 in src/java/time/chrono/HijrahDate.java.">checkValidYear</a>(<strong class="reserved">long</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617         <strong class="reserved">if</strong> (<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a> &lt; <a href="../S/1502.html#L727" title="Defined at 727 in src/java/time/chrono/HijrahChronology.java.">getMinimumYear</a>() || <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a> &gt; <a href="../S/1502.html#L736" title="Defined at 736 in src/java/time/chrono/HijrahChronology.java.">getMaximumYear</a>()) <em class="brace">{</em>
<a id="L618" name="L618"></a> 618             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid Hijrah year: " + <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>);
<a id="L619" name="L619"></a> 619         <em class="brace">}</em>
<a id="L620" name="L620"></a> 620         <strong class="reserved">return</strong> (<strong class="reserved">int</strong>) <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>;
<a id="L621" name="L621"></a> 621     <em class="brace">}</em>
<a id="L622" name="L622"></a> 622 
<a id="L623" name="L623"></a> 623     <strong class="reserved">void</strong> checkValidDayOfYear(<strong class="reserved">int</strong> dayOfYear) <em class="brace">{</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">if</strong> (dayOfYear &lt; 1 || dayOfYear &gt; <a href="../S/1502.html#L763" title="Defined at 763 in src/java/time/chrono/HijrahChronology.java.">getMaximumDayOfYear</a>()) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid Hijrah day of year: " + dayOfYear);
<a id="L626" name="L626"></a> 626         <em class="brace">}</em>
<a id="L627" name="L627"></a> 627     <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629     <strong class="reserved">void</strong> <a href="../S/1502.html#L672" title="Referred from 672 in src/java/time/chrono/HijrahChronology.java.">checkValidMonth</a>(<strong class="reserved">int</strong> month) <em class="brace">{</em>
<a id="L630" name="L630"></a> 630         <strong class="reserved">if</strong> (month &lt; 1 || month &gt; 12) <em class="brace">{</em>
<a id="L631" name="L631"></a> 631             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid Hijrah month: " + month);
<a id="L632" name="L632"></a> 632         <em class="brace">}</em>
<a id="L633" name="L633"></a> 633     <em class="brace">}</em>
<a id="L634" name="L634"></a> 634 
<a id="L635" name="L635"></a> 635     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Returns an array containing the Hijrah year, month and day
      computed from the epoch day.
      @param epochDay  the EpochDay
      @return int[0] = YEAR, int[1] = MONTH, int[2] = DATE</div>
<a id="L643" name="L643"></a> 643     <strong class="reserved">int</strong>[] <a href="../S/1508.html#L284" title="Referred from 284 in src/java/time/chrono/HijrahDate.java.">getHijrahDateInfo</a>(<strong class="reserved">int</strong> epochDay) <em class="brace">{</em>
<a id="L644" name="L644"></a> 644         <a href="../S/1502.html#L384" title="Defined at 384 in src/java/time/chrono/HijrahChronology.java.">checkCalendarInit</a>();    <em class="comment">// ensure that the chronology is initialized</em>
<a id="L645" name="L645"></a> 645         <strong class="reserved">if</strong> (epochDay &lt; minEpochDay || epochDay &gt;= maxEpochDay) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Hijrah date out of range");
<a id="L647" name="L647"></a> 647         <em class="brace">}</em>
<a id="L648" name="L648"></a> 648 
<a id="L649" name="L649"></a> 649         <strong class="reserved">int</strong> epochMonth = <a href="../S/1502.html#L784" title="Defined at 784 in src/java/time/chrono/HijrahChronology.java.">epochDayToEpochMonth</a>(epochDay);
<a id="L650" name="L650"></a> 650         <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../S/1502.html#L799" title="Defined at 799 in src/java/time/chrono/HijrahChronology.java.">epochMonthToYear</a>(epochMonth);
<a id="L651" name="L651"></a> 651         <strong class="reserved">int</strong> month = <a href="../S/1502.html#L819" title="Defined at 819 in src/java/time/chrono/HijrahChronology.java.">epochMonthToMonth</a>(epochMonth);
<a id="L652" name="L652"></a> 652         <strong class="reserved">int</strong> day1 = <a href="../S/1502.html#L829" title="Defined at 829 in src/java/time/chrono/HijrahChronology.java.">epochMonthToEpochDay</a>(epochMonth);
<a id="L653" name="L653"></a> 653         <strong class="reserved">int</strong> <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> = epochDay - day1; <em class="comment">// epochDay - dayOfEpoch(year, month);</em>
<a id="L654" name="L654"></a> 654 
<a id="L655" name="L655"></a> 655         <strong class="reserved">int</strong> dateInfo[] = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[3];
<a id="L656" name="L656"></a> 656         dateInfo[0] = <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>;
<a id="L657" name="L657"></a> 657         dateInfo[1] = month + 1; <em class="comment">// change to 1-based.</em>
<a id="L658" name="L658"></a> 658         dateInfo[2] = <a href="../D/14462.html" title="Multiple defined in 21 places.">date</a> + 1; <em class="comment">// change to 1-based.</em>
<a id="L659" name="L659"></a> 659         <strong class="reserved">return</strong> dateInfo;
<a id="L660" name="L660"></a> 660     <em class="brace">}</em>
<a id="L661" name="L661"></a> 661 
<div class="comment">
      Return the epoch day computed from Hijrah year, month, and day.
      @param prolepticYear the year to represent, 0-origin
      @param monthOfYear the month-of-year to represent, 1-origin
      @param dayOfMonth the day-of-month to represent, 1-origin
      @return the epoch day</div>
<a id="L670" name="L670"></a> 670     <strong class="reserved">long</strong> <a href="../R/16422.html" title="Multiple referred from 2 places.">getEpochDay</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, <strong class="reserved">int</strong> monthOfYear, <strong class="reserved">int</strong> dayOfMonth) <em class="brace">{</em>
<a id="L671" name="L671"></a> 671         <a href="../S/1502.html#L384" title="Defined at 384 in src/java/time/chrono/HijrahChronology.java.">checkCalendarInit</a>();    <em class="comment">// ensure that the chronology is initialized</em>
<a id="L672" name="L672"></a> 672         <a href="../S/1502.html#L629" title="Defined at 629 in src/java/time/chrono/HijrahChronology.java.">checkValidMonth</a>(monthOfYear);
<a id="L673" name="L673"></a> 673         <strong class="reserved">int</strong> epochMonth = <a href="../S/1502.html#L809" title="Defined at 809 in src/java/time/chrono/HijrahChronology.java.">yearToEpochMonth</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>) + (monthOfYear - 1);
<a id="L674" name="L674"></a> 674         <strong class="reserved">if</strong> (epochMonth &lt; 0 || epochMonth &gt;= hijrahEpochMonthStartDays.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L675" name="L675"></a> 675             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid Hijrah date, year: " +
<a id="L676" name="L676"></a> 676                     <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a> +  ", month: " + monthOfYear);
<a id="L677" name="L677"></a> 677         <em class="brace">}</em>
<a id="L678" name="L678"></a> 678         <strong class="reserved">if</strong> (dayOfMonth &lt; 1 || dayOfMonth &gt; <a href="../S/1502.html#L702" title="Defined at 702 in src/java/time/chrono/HijrahChronology.java.">getMonthLength</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, monthOfYear)) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid Hijrah day of month: " + dayOfMonth);
<a id="L680" name="L680"></a> 680         <em class="brace">}</em>
<a id="L681" name="L681"></a> 681         <strong class="reserved">return</strong> <a href="../S/1502.html#L829" title="Defined at 829 in src/java/time/chrono/HijrahChronology.java.">epochMonthToEpochDay</a>(epochMonth) + (dayOfMonth - 1);
<a id="L682" name="L682"></a> 682     <em class="brace">}</em>
<a id="L683" name="L683"></a> 683 
<div class="comment">
      Returns day of year for the year and month.
      @param prolepticYear a proleptic year
      @param month a month, 1-origin
      @return the day of year, 1-origin</div>
<a id="L691" name="L691"></a> 691     <strong class="reserved">int</strong> <a href="../R/15964.html" title="Multiple referred from 18 places.">getDayOfYear</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, <strong class="reserved">int</strong> month) <em class="brace">{</em>
<a id="L692" name="L692"></a> 692         <strong class="reserved">return</strong> <a href="../S/1502.html#L841" title="Defined at 841 in src/java/time/chrono/HijrahChronology.java.">yearMonthToDayOfYear</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, (month - 1));
<a id="L693" name="L693"></a> 693     <em class="brace">}</em>
<a id="L694" name="L694"></a> 694 
<div class="comment">
      Returns month length for the year and month.
      @param prolepticYear a proleptic year
      @param monthOfYear a month, 1-origin.
      @return the length of the month</div>
<a id="L702" name="L702"></a> 702     <strong class="reserved">int</strong> <a href="../R/17792.html" title="Multiple referred from 21 places.">getMonthLength</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, <strong class="reserved">int</strong> monthOfYear) <em class="brace">{</em>
<a id="L703" name="L703"></a> 703         <strong class="reserved">int</strong> epochMonth = <a href="../S/1502.html#L809" title="Defined at 809 in src/java/time/chrono/HijrahChronology.java.">yearToEpochMonth</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>) + (monthOfYear - 1);
<a id="L704" name="L704"></a> 704         <strong class="reserved">if</strong> (epochMonth &lt; 0 || epochMonth &gt;= hijrahEpochMonthStartDays.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Invalid Hijrah date, year: " +
<a id="L706" name="L706"></a> 706                     <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a> +  ", month: " + monthOfYear);
<a id="L707" name="L707"></a> 707         <em class="brace">}</em>
<a id="L708" name="L708"></a> 708         <strong class="reserved">return</strong> <a href="../S/1502.html#L854" title="Defined at 854 in src/java/time/chrono/HijrahChronology.java.">epochMonthLength</a>(epochMonth);
<a id="L709" name="L709"></a> 709     <em class="brace">}</em>
<a id="L710" name="L710"></a> 710 
<div class="comment">
      Returns year length.
      Note: The 12th month must exist in the data.
      @param prolepticYear a proleptic year
      @return year length in days</div>
<a id="L718" name="L718"></a> 718     <strong class="reserved">int</strong> <a href="../R/19950.html" title="Multiple referred from 5 places.">getYearLength</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>) <em class="brace">{</em>
<a id="L719" name="L719"></a> 719         <strong class="reserved">return</strong> <a href="../S/1502.html#L841" title="Defined at 841 in src/java/time/chrono/HijrahChronology.java.">yearMonthToDayOfYear</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, 12);
<a id="L720" name="L720"></a> 720     <em class="brace">}</em>
<a id="L721" name="L721"></a> 721 
<div class="comment">
      Return the minimum supported Hijrah year.
      @return the minimum</div>
<a id="L727" name="L727"></a> 727     <strong class="reserved">int</strong> <a href="../R/17745.html" title="Multiple referred from 2 places.">getMinimumYear</a>() <em class="brace">{</em>
<a id="L728" name="L728"></a> 728         <strong class="reserved">return</strong> <a href="../S/1502.html#L799" title="Defined at 799 in src/java/time/chrono/HijrahChronology.java.">epochMonthToYear</a>(0);
<a id="L729" name="L729"></a> 729     <em class="brace">}</em>
<a id="L730" name="L730"></a> 730 
<div class="comment">
      Return the maximum supported Hijrah ear.
      @return the minimum</div>
<a id="L736" name="L736"></a> 736     <strong class="reserved">int</strong> <a href="../R/17626.html" title="Multiple referred from 2 places.">getMaximumYear</a>() <em class="brace">{</em>
<a id="L737" name="L737"></a> 737         <strong class="reserved">return</strong> <a href="../S/1502.html#L799" title="Defined at 799 in src/java/time/chrono/HijrahChronology.java.">epochMonthToYear</a>(hijrahEpochMonthStartDays.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1) - 1;
<a id="L738" name="L738"></a> 738     <em class="brace">}</em>
<a id="L739" name="L739"></a> 739 
<div class="comment">
      Returns maximum day-of-month.
      @return maximum day-of-month</div>
<a id="L745" name="L745"></a> 745     <strong class="reserved">int</strong> <a href="../S/1502.html#L587" title="Referred from 587 in src/java/time/chrono/HijrahChronology.java.">getMaximumMonthLength</a>() <em class="brace">{</em>
<a id="L746" name="L746"></a> 746         <strong class="reserved">return</strong> maxMonthLength;
<a id="L747" name="L747"></a> 747     <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<div class="comment">
      Returns smallest maximum day-of-month.
      @return smallest maximum day-of-month</div>
<a id="L754" name="L754"></a> 754     <strong class="reserved">int</strong> <a href="../S/1502.html#L587" title="Referred from 587 in src/java/time/chrono/HijrahChronology.java.">getMinimumMonthLength</a>() <em class="brace">{</em>
<a id="L755" name="L755"></a> 755         <strong class="reserved">return</strong> minMonthLength;
<a id="L756" name="L756"></a> 756     <em class="brace">}</em>
<a id="L757" name="L757"></a> 757 
<div class="comment">
      Returns maximum day-of-year.
      @return maximum day-of-year</div>
<a id="L763" name="L763"></a> 763     <strong class="reserved">int</strong> <a href="../R/17615.html" title="Multiple referred from 2 places.">getMaximumDayOfYear</a>() <em class="brace">{</em>
<a id="L764" name="L764"></a> 764         <strong class="reserved">return</strong> maxYearLength;
<a id="L765" name="L765"></a> 765     <em class="brace">}</em>
<a id="L766" name="L766"></a> 766 
<div class="comment">
      Returns smallest maximum day-of-year.
      @return smallest maximum day-of-year</div>
<a id="L772" name="L772"></a> 772     <strong class="reserved">int</strong> getSmallestMaximumDayOfYear() <em class="brace">{</em>
<a id="L773" name="L773"></a> 773         <strong class="reserved">return</strong> minYearLength;
<a id="L774" name="L774"></a> 774     <em class="brace">}</em>
<a id="L775" name="L775"></a> 775 
<div class="comment">
      Returns the epochMonth found by locating the epochDay in the table. The
      epochMonth is the index in the table
      @param epochDay
      @return The index of the element of the start of the month containing the
      epochDay.</div>
<a id="L784" name="L784"></a> 784     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1502.html#L649" title="Referred from 649 in src/java/time/chrono/HijrahChronology.java.">epochDayToEpochMonth</a>(<strong class="reserved">int</strong> epochDay) <em class="brace">{</em>
<a id="L785" name="L785"></a> 785         <em class="comment">// binary search</em>
<a id="L786" name="L786"></a> 786         <strong class="reserved">int</strong> ndx = <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/11841.html" title="Multiple defined in 21 places.">binarySearch</a>(hijrahEpochMonthStartDays, epochDay);
<a id="L787" name="L787"></a> 787         <strong class="reserved">if</strong> (ndx &lt; 0) <em class="brace">{</em>
<a id="L788" name="L788"></a> 788             ndx = -ndx - 2;
<a id="L789" name="L789"></a> 789         <em class="brace">}</em>
<a id="L790" name="L790"></a> 790         <strong class="reserved">return</strong> ndx;
<a id="L791" name="L791"></a> 791     <em class="brace">}</em>
<a id="L792" name="L792"></a> 792 
<div class="comment">
      Returns the year computed from the epochMonth
      @param epochMonth the epochMonth
      @return the Hijrah Year</div>
<a id="L799" name="L799"></a> 799     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/13981.html" title="Multiple referred from 3 places.">epochMonthToYear</a>(<strong class="reserved">int</strong> epochMonth) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800         <strong class="reserved">return</strong> (epochMonth + hijrahStartEpochMonth) / 12;
<a id="L801" name="L801"></a> 801     <em class="brace">}</em>
<a id="L802" name="L802"></a> 802 
<div class="comment">
      Returns the epochMonth for the Hijrah Year.
      @param year the HijrahYear
      @return the epochMonth for the beginning of the year.</div>
<a id="L809" name="L809"></a> 809     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/30847.html" title="Multiple referred from 4 places.">yearToEpochMonth</a>(<strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>) <em class="brace">{</em>
<a id="L810" name="L810"></a> 810         <strong class="reserved">return</strong> (<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> * 12) - hijrahStartEpochMonth;
<a id="L811" name="L811"></a> 811     <em class="brace">}</em>
<a id="L812" name="L812"></a> 812 
<div class="comment">
      Returns the Hijrah month from the epochMonth.
      @param epochMonth the epochMonth
      @return the month of the Hijrah Year</div>
<a id="L819" name="L819"></a> 819     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1502.html#L651" title="Referred from 651 in src/java/time/chrono/HijrahChronology.java.">epochMonthToMonth</a>(<strong class="reserved">int</strong> epochMonth) <em class="brace">{</em>
<a id="L820" name="L820"></a> 820         <strong class="reserved">return</strong> (epochMonth + hijrahStartEpochMonth) % 12;
<a id="L821" name="L821"></a> 821     <em class="brace">}</em>
<a id="L822" name="L822"></a> 822 
<div class="comment">
      Returns the epochDay for the start of the epochMonth.
      @param epochMonth the epochMonth
      @return the epochDay for the start of the epochMonth.</div>
<a id="L829" name="L829"></a> 829     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/13979.html" title="Multiple referred from 4 places.">epochMonthToEpochDay</a>(<strong class="reserved">int</strong> epochMonth) <em class="brace">{</em>
<a id="L830" name="L830"></a> 830         <strong class="reserved">return</strong> hijrahEpochMonthStartDays[epochMonth];
<a id="L831" name="L831"></a> 831 
<a id="L832" name="L832"></a> 832     <em class="brace">}</em>
<a id="L833" name="L833"></a> 833 
<div class="comment">
      Returns the day of year for the requested HijrahYear and month.
      @param prolepticYear the Hijrah year
      @param month the Hijrah month
      @return the day of year for the start of the month of the year</div>
<a id="L841" name="L841"></a> 841     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../R/30846.html" title="Multiple referred from 2 places.">yearMonthToDayOfYear</a>(<strong class="reserved">int</strong> <a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>, <strong class="reserved">int</strong> month) <em class="brace">{</em>
<a id="L842" name="L842"></a> 842         <strong class="reserved">int</strong> epochMonthFirst = <a href="../S/1502.html#L809" title="Defined at 809 in src/java/time/chrono/HijrahChronology.java.">yearToEpochMonth</a>(<a href="../D/29887.html" title="Multiple defined in 6 places.">prolepticYear</a>);
<a id="L843" name="L843"></a> 843         <strong class="reserved">return</strong> <a href="../S/1502.html#L829" title="Defined at 829 in src/java/time/chrono/HijrahChronology.java.">epochMonthToEpochDay</a>(epochMonthFirst + month)
<a id="L844" name="L844"></a> 844                 - <a href="../S/1502.html#L829" title="Defined at 829 in src/java/time/chrono/HijrahChronology.java.">epochMonthToEpochDay</a>(epochMonthFirst);
<a id="L845" name="L845"></a> 845     <em class="brace">}</em>
<a id="L846" name="L846"></a> 846 
<div class="comment">
      Returns the length of the epochMonth. It is computed from the start of
      the following month minus the start of the requested month.
      @param epochMonth the epochMonth; assumed to be within range
      @return the length in days of the epochMonth</div>
<a id="L854" name="L854"></a> 854     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/1502.html#L708" title="Referred from 708 in src/java/time/chrono/HijrahChronology.java.">epochMonthLength</a>(<strong class="reserved">int</strong> epochMonth) <em class="brace">{</em>
<a id="L855" name="L855"></a> 855         <em class="comment">// The very last entry in the epochMonth table is not the start of a month</em>
<a id="L856" name="L856"></a> 856         <strong class="reserved">return</strong> hijrahEpochMonthStartDays[epochMonth + 1]
<a id="L857" name="L857"></a> 857                 - hijrahEpochMonthStartDays[epochMonth];
<a id="L858" name="L858"></a> 858     <em class="brace">}</em>
<a id="L859" name="L859"></a> 859 
<a id="L860" name="L860"></a> 860     <em class="comment">//-----------------------------------------------------------------------</em>
<a id="L861" name="L861"></a> 861     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> KEY_ID = "id";
<a id="L862" name="L862"></a> 862     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> KEY_TYPE = "type";
<a id="L863" name="L863"></a> 863     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> KEY_VERSION = "version";
<a id="L864" name="L864"></a> 864     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> KEY_ISO_START = "iso-start";
<a id="L865" name="L865"></a> 865 
<div class="comment">
      Return the configuration properties from the resource.
      <p>
      The default location of the variant configuration resource is:
      </p><pre>        "$java.home/lib/" + resource-name
      </pre>
      @param resource the name of the calendar property resource
      @return a Properties containing the properties read from the resource.
      @throws Exception if access to the property resource fails</div>
<a id="L878" name="L878"></a> 878     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> <a href="../S/1502.html#L911" title="Referred from 911 in src/java/time/chrono/HijrahChronology.java.">readConfigProperties</a>(<strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resource) <strong class="reserved">throws</strong> <a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <em class="brace">{</em>
<a id="L879" name="L879"></a> 879         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L880" name="L880"></a> 880             <strong class="reserved">return</strong> <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>
<a id="L881" name="L881"></a> 881                     .<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>((<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>&gt;)
<a id="L882" name="L882"></a> 882                         () -&gt; <em class="brace">{</em>
<a id="L883" name="L883"></a> 883                         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> libDir = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>("java.home") + <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>.<a href="../D/31774.html" title="Multiple defined in 7 places.">separator</a> + "lib";
<a id="L884" name="L884"></a> 884                         <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a> = <strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(libDir, resource);
<a id="L885" name="L885"></a> 885                         <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> props = <strong class="reserved">new</strong> <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a>();
<a id="L886" name="L886"></a> 886                         <strong class="reserved">try</strong> (<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> = <strong class="reserved">new</strong> <a href="../S/1386.html#L49" title="Defined at 49 in src/java/io/FileInputStream.java.">FileInputStream</a>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>)) <em class="brace">{</em>
<a id="L887" name="L887"></a> 887                             props.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>);
<a id="L888" name="L888"></a> 888                         <em class="brace">}</em>
<a id="L889" name="L889"></a> 889                         <strong class="reserved">return</strong> props;
<a id="L890" name="L890"></a> 890                     <em class="brace">}</em>);
<a id="L891" name="L891"></a> 891         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> pax) <em class="brace">{</em>
<a id="L892" name="L892"></a> 892             <strong class="reserved">throw</strong> pax.<a href="../D/18894.html" title="Multiple defined in 26 places.">getException</a>();
<a id="L893" name="L893"></a> 893         <em class="brace">}</em>
<a id="L894" name="L894"></a> 894     <em class="brace">}</em>
<a id="L895" name="L895"></a> 895 
<div class="comment">
      Loads and processes the Hijrah calendar properties file for this calendarType.
      The starting Hijrah date and the corresponding ISO date are
      extracted and used to calculate the epochDate offset.
      The version number is identified and ignored.
      Everything else is the data for a year with containing the length of each
      of 12 months.
      @throws DateTimeException if initialization of the calendar data from the
          resource fails</div>
<a id="L907" name="L907"></a> 907     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1502.html#L387" title="Referred from 387 in src/java/time/chrono/HijrahChronology.java.">loadCalendarData</a>() <em class="brace">{</em>
<a id="L908" name="L908"></a> 908         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L909" name="L909"></a> 909             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> resourceName = calendarProperties.<a href="../D/21720.html" title="Multiple defined in 77 places.">getProperty</a>(PROP_PREFIX + typeId);
<a id="L910" name="L910"></a> 910             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(resourceName, "Resource missing for calendar: " + PROP_PREFIX + typeId);
<a id="L911" name="L911"></a> 911             <a href="../S/1039.html#L122" title="Defined at 122 in src/java/util/Properties.java.">Properties</a> props = <a href="../S/1502.html#L878" title="Defined at 878 in src/java/time/chrono/HijrahChronology.java.">readConfigProperties</a>(resourceName);
<a id="L912" name="L912"></a> 912 
<a id="L913" name="L913"></a> 913             <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <strong class="reserved">int</strong>[]&gt; years = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;();
<a id="L914" name="L914"></a> 914             <strong class="reserved">int</strong> minYear = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L915" name="L915"></a> 915             <strong class="reserved">int</strong> maxYear = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L916" name="L916"></a> 916             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = <strong class="reserved">null</strong>;
<a id="L917" name="L917"></a> 917             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L918" name="L918"></a> 918             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = <strong class="reserved">null</strong>;
<a id="L919" name="L919"></a> 919             <strong class="reserved">int</strong> isoStart = 0;
<a id="L920" name="L920"></a> 920             <strong class="reserved">for</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; entry : props.<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>()) <em class="brace">{</em>
<a id="L921" name="L921"></a> 921                 <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) entry.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>();
<a id="L922" name="L922"></a> 922                 <strong class="reserved">switch</strong> (<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>) <em class="brace">{</em>
<a id="L923" name="L923"></a> 923                     <strong class="reserved">case</strong> KEY_ID:
<a id="L924" name="L924"></a> 924                         <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L925" name="L925"></a> 925                         <strong class="reserved">break</strong>;
<a id="L926" name="L926"></a> 926                     <strong class="reserved">case</strong> KEY_TYPE:
<a id="L927" name="L927"></a> 927                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L928" name="L928"></a> 928                         <strong class="reserved">break</strong>;
<a id="L929" name="L929"></a> 929                     <strong class="reserved">case</strong> KEY_VERSION:
<a id="L930" name="L930"></a> 930                         <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L931" name="L931"></a> 931                         <strong class="reserved">break</strong>;
<a id="L932" name="L932"></a> 932                     <strong class="reserved">case</strong> KEY_ISO_START: <em class="brace">{</em>
<a id="L933" name="L933"></a> 933                         <strong class="reserved">int</strong>[] ymd = <a href="../S/1502.html#L1062" title="Defined at 1062 in src/java/time/chrono/HijrahChronology.java.">parseYMD</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>());
<a id="L934" name="L934"></a> 934                         isoStart = (<strong class="reserved">int</strong>) <a href="../S/1549.html#L137" title="Defined at 137 in src/java/time/LocalDate.java.">LocalDate</a>.<a href="../D/28425.html" title="Multiple defined in 123 places.">of</a>(ymd[0], ymd[1], ymd[2]).<a href="../D/35390.html" title="Multiple defined in 6 places.">toEpochDay</a>();
<a id="L935" name="L935"></a> 935                         <strong class="reserved">break</strong>;
<a id="L936" name="L936"></a> 936                     <em class="brace">}</em>
<a id="L937" name="L937"></a> 937                     <strong class="reserved">default</strong>:
<a id="L938" name="L938"></a> 938                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L939" name="L939"></a> 939                             <em class="comment">// Everything else is either a year or invalid</em>
<a id="L940" name="L940"></a> 940                             <strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L941" name="L941"></a> 941                             <strong class="reserved">int</strong>[] months = <a href="../S/1502.html#L1040" title="Defined at 1040 in src/java/time/chrono/HijrahChronology.java.">parseMonths</a>((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) entry.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>());
<a id="L942" name="L942"></a> 942                             years.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>, months);
<a id="L943" name="L943"></a> 943                             maxYear = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(maxYear, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L944" name="L944"></a> 944                             minYear = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(minYear, <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L945" name="L945"></a> 945                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> nfe) <em class="brace">{</em>
<a id="L946" name="L946"></a> 946                             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("bad key: " + <a href="../D/26706.html" title="Multiple defined in 2 places.">key</a>);
<a id="L947" name="L947"></a> 947                         <em class="brace">}</em>
<a id="L948" name="L948"></a> 948                 <em class="brace">}</em>
<a id="L949" name="L949"></a> 949             <em class="brace">}</em>
<a id="L950" name="L950"></a> 950 
<a id="L951" name="L951"></a> 951             <strong class="reserved">if</strong> (!<a href="../D/19565.html" title="Multiple defined in 69 places.">getId</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>)) <em class="brace">{</em>
<a id="L952" name="L952"></a> 952                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Configuration is for a different calendar: " + <a href="../D/24291.html" title="Multiple defined in 202 places.">id</a>);
<a id="L953" name="L953"></a> 953             <em class="brace">}</em>
<a id="L954" name="L954"></a> 954             <strong class="reserved">if</strong> (!<a href="../D/17463.html" title="Multiple defined in 9 places.">getCalendarType</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>)) <em class="brace">{</em>
<a id="L955" name="L955"></a> 955                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Configuration is for a different calendar type: " + <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L956" name="L956"></a> 956             <em class="brace">}</em>
<a id="L957" name="L957"></a> 957             <strong class="reserved">if</strong> (<a href="../D/36409.html" title="Multiple defined in 4 places.">version</a> == <strong class="reserved">null</strong> || <a href="../D/36409.html" title="Multiple defined in 4 places.">version</a>.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L958" name="L958"></a> 958                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Configuration does not contain a version");
<a id="L959" name="L959"></a> 959             <em class="brace">}</em>
<a id="L960" name="L960"></a> 960             <strong class="reserved">if</strong> (isoStart == 0) <em class="brace">{</em>
<a id="L961" name="L961"></a> 961                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Configuration does not contain a ISO start date");
<a id="L962" name="L962"></a> 962             <em class="brace">}</em>
<a id="L963" name="L963"></a> 963 
<a id="L964" name="L964"></a> 964             <em class="comment">// Now create and validate the array of epochDays indexed by epochMonth</em>
<a id="L965" name="L965"></a> 965             hijrahStartEpochMonth = minYear * 12;
<a id="L966" name="L966"></a> 966             minEpochDay = isoStart;
<a id="L967" name="L967"></a> 967             hijrahEpochMonthStartDays = <a href="../S/1502.html#L995" title="Defined at 995 in src/java/time/chrono/HijrahChronology.java.">createEpochMonths</a>(minEpochDay, minYear, maxYear, years);
<a id="L968" name="L968"></a> 968             maxEpochDay = hijrahEpochMonthStartDays[hijrahEpochMonthStartDays.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> - 1];
<a id="L969" name="L969"></a> 969 
<a id="L970" name="L970"></a> 970             <em class="comment">// Compute the min and max year length in days.</em>
<a id="L971" name="L971"></a> 971             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = minYear; <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt; maxYear; <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>++) <em class="brace">{</em>
<a id="L972" name="L972"></a> 972                 <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = <a href="../S/1502.html#L718" title="Defined at 718 in src/java/time/chrono/HijrahChronology.java.">getYearLength</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);
<a id="L973" name="L973"></a> 973                 minYearLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(minYearLength, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L974" name="L974"></a> 974                 maxYearLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(maxYearLength, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L975" name="L975"></a> 975             <em class="brace">}</em>
<a id="L976" name="L976"></a> 976         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L977" name="L977"></a> 977             <em class="comment">// Log error and throw a DateTimeException</em>
<a id="L978" name="L978"></a> 978             PlatformLogger <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a> = PlatformLogger.<a href="../D/20268.html" title="Multiple defined in 6 places.">getLogger</a>("java.time.chrono");
<a id="L979" name="L979"></a> 979             <a href="../S/835.html#L1128" title="Defined at 1128 in src/java/util/prefs/WindowsPreferences.java.">logger</a>.<a href="../D/34428.html" title="Multiple defined in 5 places.">severe</a>("Unable to initialize Hijrah calendar proxy: " + typeId, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L980" name="L980"></a> 980             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1485.html#L75" title="Defined at 75 in src/java/time/DateTimeException.java.">DateTimeException</a>("Unable to initialize HijrahCalendar: " + typeId, <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L981" name="L981"></a> 981         <em class="brace">}</em>
<a id="L982" name="L982"></a> 982     <em class="brace">}</em>
<a id="L983" name="L983"></a> 983 
<div class="comment">
      Converts the map of year to month lengths ranging from minYear to maxYear
      into a linear contiguous array of epochDays. The index is the hijrahMonth
      computed from year and month and offset by minYear. The value of each
      entry is the epochDay corresponding to the first day of the month.
      @param minYear The minimum year for which data is provided
      @param maxYear The maximum year for which data is provided
      @param years a Map of year to the array of 12 month lengths
      @return array of epochDays for each month from min to max</div>
<a id="L995" name="L995"></a> 995     <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] <a href="../S/1502.html#L967" title="Referred from 967 in src/java/time/chrono/HijrahChronology.java.">createEpochMonths</a>(<strong class="reserved">int</strong> epochDay, <strong class="reserved">int</strong> minYear, <strong class="reserved">int</strong> maxYear, <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>, <strong class="reserved">int</strong>[]&gt; years) <em class="brace">{</em>
<a id="L996" name="L996"></a> 996         <em class="comment">// Compute the size for the array of dates</em>
<a id="L997" name="L997"></a> 997         <strong class="reserved">int</strong> numMonths = (maxYear - minYear + 1) * 12 + 1;
<a id="L998" name="L998"></a> 998 
<a id="L999" name="L999"></a> 999         <em class="comment">// Initialize the running epochDay as the corresponding ISO Epoch day</em>
<a id="L1000" name="L1000"></a>1000         <strong class="reserved">int</strong> epochMonth = 0; <em class="comment">// index into array of epochMonths</em>
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">int</strong>[] epochMonths = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[numMonths];
<a id="L1002" name="L1002"></a>1002         minMonthLength = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE;
<a id="L1003" name="L1003"></a>1003         maxMonthLength = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MIN_VALUE;
<a id="L1004" name="L1004"></a>1004 
<a id="L1005" name="L1005"></a>1005         <em class="comment">// Only whole years are valid, any zero's in the array are illegal</em>
<a id="L1006" name="L1006"></a>1006         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> = minYear; <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a> &lt;= maxYear; <a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>++) <em class="brace">{</em>
<a id="L1007" name="L1007"></a>1007             <strong class="reserved">int</strong>[] months = years.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/37306.html" title="Multiple defined in 2 places.">year</a>);<em class="comment">// must not be gaps</em>
<a id="L1008" name="L1008"></a>1008             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> month = 0; month &lt; 12; month++) <em class="brace">{</em>
<a id="L1009" name="L1009"></a>1009                 <strong class="reserved">int</strong> <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> = months[month];
<a id="L1010" name="L1010"></a>1010                 epochMonths[epochMonth++] = epochDay;
<a id="L1011" name="L1011"></a>1011 
<a id="L1012" name="L1012"></a>1012                 <strong class="reserved">if</strong> (<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &lt; 29 || <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> &gt; 32) <em class="brace">{</em>
<a id="L1013" name="L1013"></a>1013                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Invalid month length in year: " + minYear);
<a id="L1014" name="L1014"></a>1014                 <em class="brace">}</em>
<a id="L1015" name="L1015"></a>1015                 epochDay += <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>;
<a id="L1016" name="L1016"></a>1016                 minMonthLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27697.html" title="Multiple defined in 28 places.">min</a>(minMonthLength, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1017" name="L1017"></a>1017                 maxMonthLength = <a href="../S/1768.html#L105" title="Defined at 105 in src/java/lang/Math.java.">Math</a>.<a href="../D/27569.html" title="Multiple defined in 28 places.">max</a>(maxMonthLength, <a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1018" name="L1018"></a>1018             <em class="brace">}</em>
<a id="L1019" name="L1019"></a>1019         <em class="brace">}</em>
<a id="L1020" name="L1020"></a>1020 
<a id="L1021" name="L1021"></a>1021         <em class="comment">// Insert the final epochDay</em>
<a id="L1022" name="L1022"></a>1022         epochMonths[epochMonth++] = epochDay;
<a id="L1023" name="L1023"></a>1023 
<a id="L1024" name="L1024"></a>1024         <strong class="reserved">if</strong> (epochMonth != epochMonths.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>) <em class="brace">{</em>
<a id="L1025" name="L1025"></a>1025             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("Did not fill epochMonths exactly: ndx = " + epochMonth
<a id="L1026" name="L1026"></a>1026                     + " should be " + epochMonths.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1027" name="L1027"></a>1027         <em class="brace">}</em>
<a id="L1028" name="L1028"></a>1028 
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">return</strong> epochMonths;
<a id="L1030" name="L1030"></a>1030     <em class="brace">}</em>
<a id="L1031" name="L1031"></a>1031 
<div class="comment">
      Parses the 12 months lengths from a property value for a specific year.
      @param line the value of a year property
      @return an array of int[12] containing the 12 month lengths
      @throws IllegalArgumentException if the number of months is not 12
      @throws NumberFormatException if the 12 tokens are not numbers</div>
<a id="L1040" name="L1040"></a>1040     <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] <a href="../S/1502.html#L941" title="Referred from 941 in src/java/time/chrono/HijrahChronology.java.">parseMonths</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a>) <em class="brace">{</em>
<a id="L1041" name="L1041"></a>1041         <strong class="reserved">int</strong>[] months = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[12];
<a id="L1042" name="L1042"></a>1042         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>[] numbers = <a href="../S/7696.html#L44" title="Defined at 44 in src/com/sun/javadoc/SourcePosition.java.">line</a>.<a href="../D/34718.html" title="Multiple defined in 12 places.">split</a>("\\s");
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">if</strong> (numbers.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> != 12) <em class="brace">{</em>
<a id="L1044" name="L1044"></a>1044             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("wrong number of months on line: " + <a href="../S/1150.html#L71" title="Defined at 71 in src/java/util/Arrays.java.">Arrays</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(numbers) + "; count: " + numbers.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L1045" name="L1045"></a>1045         <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; 12; i++) <em class="brace">{</em>
<a id="L1047" name="L1047"></a>1047             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048                 months[i] = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(numbers[i]);
<a id="L1049" name="L1049"></a>1049             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> nfe) <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("bad key: " + numbers[i]);
<a id="L1051" name="L1051"></a>1051             <em class="brace">}</em>
<a id="L1052" name="L1052"></a>1052         <em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053         <strong class="reserved">return</strong> months;
<a id="L1054" name="L1054"></a>1054     <em class="brace">}</em>
<a id="L1055" name="L1055"></a>1055 
<div class="comment">
      Parse yyyy-MM-dd into a 3 element array [yyyy, mm, dd].
      @param string the input string
      @return the 3 element array with year, month, day</div>
<a id="L1062" name="L1062"></a>1062     <strong class="reserved">private</strong> <strong class="reserved">int</strong>[] <a href="../S/1502.html#L933" title="Referred from 933 in src/java/time/chrono/HijrahChronology.java.">parseYMD</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>) <em class="brace">{</em>
<a id="L1063" name="L1063"></a>1063         <em class="comment">// yyyy-MM-dd</em>
<a id="L1064" name="L1064"></a>1064         <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a> = <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/35698.html" title="Multiple defined in 9 places.">trim</a>();
<a id="L1065" name="L1065"></a>1065         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066             <strong class="reserved">if</strong> (<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(4) != '-' || <a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/12321.html" title="Multiple defined in 24 places.">charAt</a>(7) != '-') <em class="brace">{</em>
<a id="L1067" name="L1067"></a>1067                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("date must be yyyy-MM-dd");
<a id="L1068" name="L1068"></a>1068             <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069             <strong class="reserved">int</strong>[] ymd = <strong class="reserved">new</strong> <strong class="reserved">int</strong>[3];
<a id="L1070" name="L1070"></a>1070             ymd[0] = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(0, 4));
<a id="L1071" name="L1071"></a>1071             ymd[1] = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(5, 7));
<a id="L1072" name="L1072"></a>1072             ymd[2] = <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/36373.html" title="Multiple defined in 48 places.">valueOf</a>(<a href="../S/4997.html#L463" title="Defined at 463 in src/com/sun/org/apache/xpath/internal/compiler/Compiler.java.">string</a>.<a href="../D/35013.html" title="Multiple defined in 26 places.">substring</a>(8, 10));
<a id="L1073" name="L1073"></a>1073             <strong class="reserved">return</strong> ymd;
<a id="L1074" name="L1074"></a>1074         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1762.html#L38" title="Defined at 38 in src/java/lang/NumberFormatException.java.">NumberFormatException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L1075" name="L1075"></a>1075             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("date must be yyyy-MM-dd", <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>);
<a id="L1076" name="L1076"></a>1076         <em class="brace">}</em>
<a id="L1077" name="L1077"></a>1077     <em class="brace">}</em>
<a id="L1078" name="L1078"></a>1078 
<a id="L1079" name="L1079"></a>1079     <em class="comment">//-----------------------------------------------------------------------</em>
<div class="comment">
      Writes the Chronology using a
      <a href="../../../serialized-form.html#java.time.chrono.Ser">dedicated serialized form</a>.
      @serialData
      <pre>       out.writeByte(1);     // identifies a Chronology
       out.writeUTF(getId());
      </pre>
      @return the instance of <code>Ser</code>, not null</div>
<a id="L1091" name="L1091"></a>1091     @<a href="../S/1740.html#L51" title="Defined at 51 in src/java/lang/Override.java.">Override</a>
<a id="L1092" name="L1092"></a>1092     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/30703.html" title="Multiple referred from 7 places.">writeReplace</a>() <em class="brace">{</em>
<a id="L1093" name="L1093"></a>1093         <strong class="reserved">return</strong> <strong class="reserved">super</strong>.<a href="../D/37149.html" title="Multiple defined in 50 places.">writeReplace</a>();
<a id="L1094" name="L1094"></a>1094     <em class="brace">}</em>
<a id="L1095" name="L1095"></a>1095 
<div class="comment">
      Defend against malicious streams.
      @param s the stream to read
      @throws InvalidObjectException always</div>
<a id="L1102" name="L1102"></a>1102     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s) <strong class="reserved">throws</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a> <em class="brace">{</em>
<a id="L1103" name="L1103"></a>1103         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1428.html#L38" title="Defined at 38 in src/java/io/InvalidObjectException.java.">InvalidObjectException</a>("Deserialization via serialization delegate");
<a id="L1104" name="L1104"></a>1104     <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L326">[^]</a><a href="#L1102">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>