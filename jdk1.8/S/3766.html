<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/print/PrintServiceLookup.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L76">[^]</a><a href="#L424">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L76" title="Defined at 76.">getServicesForContext</a></li>
<li><a href="#L86" title="Defined at 86.">getListOfLookupServices</a></li>
<li><a href="#L90" title="Defined at 90.">initListOfLookupServices</a></li>
<li><a href="#L97" title="Defined at 97.">getRegisteredServices</a></li>
<li><a href="#L101" title="Defined at 101.">initRegisteredServices</a></li>
<li><a href="#L121" title="Defined at 121.">lookupPrintServices</a></li>
<li><a href="#L149" title="Defined at 149.">lookupMultiDocPrintServices</a></li>
<li><a href="#L178" title="Defined at 178.">lookupDefaultPrintService</a></li>
<li><a href="#L209" title="Defined at 209.">registerServiceProvider</a></li>
<li><a href="#L247" title="Defined at 247.">registerService</a></li>
<li><a href="#L287" title="Defined at 287.">getPrintServices</a></li>
<li><a href="#L297" title="Defined at 297.">getPrintServices</a></li>
<li><a href="#L317" title="Defined at 317.">getMultiDocPrintServices</a></li>
<li><a href="#L327" title="Defined at 327.">getDefaultPrintService</a></li>
<li><a href="#L329" title="Defined at 329.">getAllLookupServices</a></li>
<li><a href="#L367" title="Defined at 367.">getServices</a></li>
<li><a href="#L424" title="Defined at 424.">getMultiDocServices</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2002, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 
<a id="L27" name="L27"></a>  27 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.<a href="../D/29620.html" title="Multiple defined in 86 places.">print</a>;
<a id="L28" name="L28"></a>  28 
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> javax.print.attribute.AttributeSet;
<a id="L32" name="L32"></a>  32 
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> sun.awt.AppContext;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.util.ServiceLoader;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.ServiceConfigurationError;
<a id="L36" name="L36"></a>  36 
<div class="comment">
 Implementations of this class provide lookup services for
   print services (typically equivalent to printers) of a particular type.
   <p>
   Multiple implementations may be installed concurrently.
   All implementations must be able to describe the located printers
   as instances of a PrintService.
   Typically implementations of this service class are located
   automatically in JAR files (see the SPI JAR file specification).
   These classes must be instantiable using a default constructor.
   Alternatively applications may explicitly register instances
   at runtime.
   </p><p>
   Applications use only the static methods of this abstract class.
   The instance methods are implemented by a service provider in a subclass
   and the unification of the results from all installed lookup classes
   are reported by the static methods of this class when called by
   the application.
   </p><p>
   A PrintServiceLookup implementor is recommended to check for the
   SecurityManager.checkPrintJobAccess() to deny access to untrusted code.
   Following this recommended policy means that untrusted code may not
   be able to locate any print services. Downloaded applets are the most
   common example of untrusted code.
   </p><p>
   This check is made on a per lookup service basis to allow flexibility in
   the policy to reflect the needs of different lookup services.
   </p><p>
   Services which are registered by registerService(PrintService)
   will not be included in lookup results if a security manager is
   installed and its checkPrintJobAccess() method denies access.</p></div>
<a id="L68" name="L68"></a>  68 
<a id="L69" name="L69"></a>  69 <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <strong class="reserved">class</strong> <a href="../R/6238.html" title="Multiple referred from 11 places.">PrintServiceLookup</a> <em class="brace">{</em>
<a id="L70" name="L70"></a>  70 
<a id="L71" name="L71"></a>  71     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/7160.html" title="Multiple referred from 10 places.">Services</a> <em class="brace">{</em>
<a id="L72" name="L72"></a>  72         <strong class="reserved">private</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> listOfLookupServices = <strong class="reserved">null</strong>;
<a id="L73" name="L73"></a>  73         <strong class="reserved">private</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> registeredServices = <strong class="reserved">null</strong>;
<a id="L74" name="L74"></a>  74     <em class="brace">}</em>
<a id="L75" name="L75"></a>  75 
<a id="L76" name="L76"></a>  76     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/7890.html" title="Multiple defined in 2 places.">Services</a> <a href="../R/19000.html" title="Multiple referred from 4 places.">getServicesForContext</a>() <em class="brace">{</em>
<a id="L77" name="L77"></a>  77         <a href="../D/7890.html" title="Multiple defined in 2 places.">Services</a> services =
<a id="L78" name="L78"></a>  78             (<a href="../D/7890.html" title="Multiple defined in 2 places.">Services</a>)AppContext.getAppContext().<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/7890.html" title="Multiple defined in 2 places.">Services</a>.<strong class="reserved">class</strong>);
<a id="L79" name="L79"></a>  79         <strong class="reserved">if</strong> (services == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L80" name="L80"></a>  80             services = <strong class="reserved">new</strong> <a href="../D/7890.html" title="Multiple defined in 2 places.">Services</a>();
<a id="L81" name="L81"></a>  81             AppContext.getAppContext().<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/7890.html" title="Multiple defined in 2 places.">Services</a>.<strong class="reserved">class</strong>, services);
<a id="L82" name="L82"></a>  82         <em class="brace">}</em>
<a id="L83" name="L83"></a>  83         <strong class="reserved">return</strong> services;
<a id="L84" name="L84"></a>  84     <em class="brace">}</em>
<a id="L85" name="L85"></a>  85 
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../R/17384.html" title="Multiple referred from 3 places.">getListOfLookupServices</a>() <em class="brace">{</em>
<a id="L87" name="L87"></a>  87         <strong class="reserved">return</strong> <a href="../S/3766.html#L76" title="Defined at 76 in src/javax/print/PrintServiceLookup.java.">getServicesForContext</a>().listOfLookupServices;
<a id="L88" name="L88"></a>  88     <em class="brace">}</em>
<a id="L89" name="L89"></a>  89 
<a id="L90" name="L90"></a>  90     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../S/3766.html#L335" title="Referred from 335 in src/javax/print/PrintServiceLookup.java.">initListOfLookupServices</a>() <em class="brace">{</em>
<a id="L91" name="L91"></a>  91         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> listOfLookupServices = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>();
<a id="L92" name="L92"></a>  92         <a href="../S/3766.html#L76" title="Defined at 76 in src/javax/print/PrintServiceLookup.java.">getServicesForContext</a>().listOfLookupServices = listOfLookupServices;
<a id="L93" name="L93"></a>  93         <strong class="reserved">return</strong> listOfLookupServices;
<a id="L94" name="L94"></a>  94     <em class="brace">}</em>
<a id="L95" name="L95"></a>  95 
<a id="L96" name="L96"></a>  96 
<a id="L97" name="L97"></a>  97     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../R/18649.html" title="Multiple referred from 3 places.">getRegisteredServices</a>() <em class="brace">{</em>
<a id="L98" name="L98"></a>  98         <strong class="reserved">return</strong> <a href="../S/3766.html#L76" title="Defined at 76 in src/javax/print/PrintServiceLookup.java.">getServicesForContext</a>().registeredServices;
<a id="L99" name="L99"></a>  99     <em class="brace">}</em>
<a id="L100" name="L100"></a> 100 
<a id="L101" name="L101"></a> 101     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../S/3766.html#L254" title="Referred from 254 in src/javax/print/PrintServiceLookup.java.">initRegisteredServices</a>() <em class="brace">{</em>
<a id="L102" name="L102"></a> 102         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> registeredServices = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>();
<a id="L103" name="L103"></a> 103         <a href="../S/3766.html#L76" title="Defined at 76 in src/javax/print/PrintServiceLookup.java.">getServicesForContext</a>().registeredServices = registeredServices;
<a id="L104" name="L104"></a> 104         <strong class="reserved">return</strong> registeredServices;
<a id="L105" name="L105"></a> 105     <em class="brace">}</em>
<a id="L106" name="L106"></a> 106 
<div class="comment">
      Locates print services capable of printing the specified
      {@link DocFlavor}.
      @param flavor the flavor to print. If null, this constraint is not
             used.
      @param attributes attributes that the print service must support.
      If null this constraint is not used.
      @return array of matching <code>PrintService</code> objects
      representing print services that support the specified flavor
      attributes.  If no services match, the array is zero-length.</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[]
<a id="L121" name="L121"></a> 121         <a href="../S/2220.html#L108" title="Referred from 108 in src/java/awt/print/PrinterJob.java.">lookupPrintServices</a>(<a href="../S/3764.html#L446" title="Defined at 446 in src/javax/print/DocFlavor.java.">DocFlavor</a> flavor,
<a id="L122" name="L122"></a> 122                             <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <a href="../D/22449.html" title="Multiple defined in 3 places.">getServices</a>(flavor, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L124" name="L124"></a> 124         <strong class="reserved">return</strong> (<a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[])(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]));
<a id="L125" name="L125"></a> 125     <em class="brace">}</em>
<a id="L126" name="L126"></a> 126 
<a id="L127" name="L127"></a> 127 
<div class="comment">
      Locates MultiDoc print Services capable of printing MultiDocs
      containing all the specified doc flavors.
      <p> This method is useful to help locate a service that can print
      a <code>MultiDoc</code> in which the elements may be different
      flavors. An application could perform this itself by multiple lookups
      on each <code>DocFlavor</code> in turn and collating the results,
      but the lookup service may be able to do this more efficiently.
      @param flavors the flavors to print. If null or empty this
             constraint is not used.
      Otherwise return only multidoc print services that can print all
      specified doc flavors.
      @param attributes attributes that the print service must
      support.  If null this constraint is not used.
      @return array of matching {@link MultiDocPrintService} objects.
      If no services match, the array is zero-length.</p></div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3768.html#L34" title="Defined at 34 in src/javax/print/MultiDocPrintService.java.">MultiDocPrintService</a>[]
<a id="L149" name="L149"></a> 149         lookupMultiDocPrintServices(<a href="../S/3764.html#L446" title="Defined at 446 in src/javax/print/DocFlavor.java.">DocFlavor</a>[] flavors,
<a id="L150" name="L150"></a> 150                                     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L151" name="L151"></a> 151         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <a href="../S/3766.html#L424" title="Defined at 424 in src/javax/print/PrintServiceLookup.java.">getMultiDocServices</a>(flavors, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L152" name="L152"></a> 152         <strong class="reserved">return</strong> (<a href="../S/3768.html#L34" title="Defined at 34 in src/javax/print/MultiDocPrintService.java.">MultiDocPrintService</a>[])
<a id="L153" name="L153"></a> 153             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/3768.html#L34" title="Defined at 34 in src/javax/print/MultiDocPrintService.java.">MultiDocPrintService</a>[<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L154" name="L154"></a> 154     <em class="brace">}</em>
<a id="L155" name="L155"></a> 155 
<a id="L156" name="L156"></a> 156 
<div class="comment">
      Locates the default print service for this environment.
      This may return null.
      If multiple lookup services each specify a default, the
      chosen service is not precisely defined, but a
      platform native service, rather than an installed service,
      is usually returned as the default.  If there is no clearly
      identifiable
      platform native default print service, the default is the first
      to be located in an implementation-dependent manner.
      <p>
      This may include making use of any preferences API that is available
      as part of the Java or native platform.
      This algorithm may be overridden by a user setting the property
      javax.print.defaultPrinter.
      A service specified must be discovered to be valid and currently
      available to be returned as the default.
      @return the default PrintService.</p></div>
<a id="L177" name="L177"></a> 177 
<a id="L178" name="L178"></a> 178     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a> lookupDefaultPrintService() <em class="brace">{</em>
<a id="L179" name="L179"></a> 179 
<a id="L180" name="L180"></a> 180         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a> psIterator = <a href="../S/3766.html#L329" title="Defined at 329 in src/javax/print/PrintServiceLookup.java.">getAllLookupServices</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L181" name="L181"></a> 181         <strong class="reserved">while</strong> (psIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L182" name="L182"></a> 182             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L183" name="L183"></a> 183                 <a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a> lus = (<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>)psIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L184" name="L184"></a> 184                 <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a> service = lus.<a href="../S/3766.html#L327" title="Defined at 327 in src/javax/print/PrintServiceLookup.java.">getDefaultPrintService</a>();
<a id="L185" name="L185"></a> 185                 <strong class="reserved">if</strong> (service != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L186" name="L186"></a> 186                     <strong class="reserved">return</strong> service;
<a id="L187" name="L187"></a> 187                 <em class="brace">}</em>
<a id="L188" name="L188"></a> 188             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L189" name="L189"></a> 189             <em class="brace">}</em>
<a id="L190" name="L190"></a> 190         <em class="brace">}</em>
<a id="L191" name="L191"></a> 191         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L192" name="L192"></a> 192     <em class="brace">}</em>
<a id="L193" name="L193"></a> 193 
<a id="L194" name="L194"></a> 194 
<div class="comment">
      Allows an application to explicitly register a class that
      implements lookup services. The registration will not persist
      across VM invocations.
      This is useful if an application needs to make a new service
      available that is not part of the installation.
      If the lookup service is already registered, or cannot be registered,
      the method returns false.
      <p>
      @param sp an implementation of a lookup service.
      @return <code>true</code> if the new lookup service is newly
              registered; <code>false</code> otherwise.</p></div>
<a id="L209" name="L209"></a> 209     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> <a href="../R/25815.html" title="Multiple referred from 21 places.">registerServiceProvider</a>(<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a> sp) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210         <strong class="reserved">synchronized</strong> (<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L211" name="L211"></a> 211             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a> psIterator = <a href="../S/3766.html#L329" title="Defined at 329 in src/javax/print/PrintServiceLookup.java.">getAllLookupServices</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L212" name="L212"></a> 212             <strong class="reserved">while</strong> (psIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L214" name="L214"></a> 214                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> lus = psIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L215" name="L215"></a> 215                     <strong class="reserved">if</strong> (lus.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() == sp.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>()) <em class="brace">{</em>
<a id="L216" name="L216"></a> 216                         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L217" name="L217"></a> 217                     <em class="brace">}</em>
<a id="L218" name="L218"></a> 218                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L219" name="L219"></a> 219                 <em class="brace">}</em>
<a id="L220" name="L220"></a> 220             <em class="brace">}</em>
<a id="L221" name="L221"></a> 221             <a href="../S/3766.html#L86" title="Defined at 86 in src/javax/print/PrintServiceLookup.java.">getListOfLookupServices</a>().<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(sp);
<a id="L222" name="L222"></a> 222             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L223" name="L223"></a> 223         <em class="brace">}</em>
<a id="L224" name="L224"></a> 224 
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<a id="L227" name="L227"></a> 227 
<div class="comment">
      Allows an application to directly register an instance of a
      class which implements a print service.
      The lookup operations for this service will be
      performed by the PrintServiceLookup class using the attribute
      values and classes reported by the service.
      This may be less efficient than a lookup
      service tuned for that service.
      Therefore registering a <code>PrintServiceLookup</code> instance
      instead is recommended.
      The method returns true if this service is not previously
      registered and is now successfully registered.
      This method should not be called with StreamPrintService instances.
      They will always fail to register and the method will return false.
      @param service an implementation of a print service.
      @return <code>true</code> if the service is newly
              registered; <code>false</code> otherwise.</div>
<a id="L246" name="L246"></a> 246 
<a id="L247" name="L247"></a> 247     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">boolean</strong> registerService(<a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a> service) <em class="brace">{</em>
<a id="L248" name="L248"></a> 248         <strong class="reserved">synchronized</strong> (<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L249" name="L249"></a> 249             <strong class="reserved">if</strong> (service <strong class="reserved">instanceof</strong> <a href="../S/3765.html#L56" title="Defined at 56 in src/javax/print/StreamPrintService.java.">StreamPrintService</a>) <em class="brace">{</em>
<a id="L250" name="L250"></a> 250                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L251" name="L251"></a> 251             <em class="brace">}</em>
<a id="L252" name="L252"></a> 252             <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> registeredServices = <a href="../S/3766.html#L97" title="Defined at 97 in src/javax/print/PrintServiceLookup.java.">getRegisteredServices</a>();
<a id="L253" name="L253"></a> 253             <strong class="reserved">if</strong> (registeredServices == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254                 registeredServices = <a href="../S/3766.html#L101" title="Defined at 101 in src/javax/print/PrintServiceLookup.java.">initRegisteredServices</a>();
<a id="L255" name="L255"></a> 255             <em class="brace">}</em>
<a id="L256" name="L256"></a> 256             <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L257" name="L257"></a> 257               <strong class="reserved">if</strong> (registeredServices.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(service)) <em class="brace">{</em>
<a id="L258" name="L258"></a> 258                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L259" name="L259"></a> 259               <em class="brace">}</em>
<a id="L260" name="L260"></a> 260             <em class="brace">}</em>
<a id="L261" name="L261"></a> 261             registeredServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(service);
<a id="L262" name="L262"></a> 262             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L263" name="L263"></a> 263         <em class="brace">}</em>
<a id="L264" name="L264"></a> 264     <em class="brace">}</em>
<a id="L265" name="L265"></a> 265 
<a id="L266" name="L266"></a> 266 
<div class="comment">
     Locates services that can be positively confirmed to support
     the combination of attributes and DocFlavors specified.
     This method is not called directly by applications.
     <p>
     Implemented by a service provider, used by the static methods
     of this class.
     </p><p>
     The results should be the same as obtaining all the PrintServices
     and querying each one individually on its support for the
     specified attributes and flavors, but the process can be more
     efficient by taking advantage of the capabilities of lookup services
     for the print services.
     @param flavor of document required.  If null it is ignored.
     @param attributes required to be supported. If null this
     constraint is not used.
     @return array of matching PrintServices. If no services match, the
     array is zero-length.</p></div>
<a id="L287" name="L287"></a> 287     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[] <a href="../R/18476.html" title="Multiple referred from 2 places.">getPrintServices</a>(<a href="../S/3764.html#L446" title="Defined at 446 in src/javax/print/DocFlavor.java.">DocFlavor</a> flavor,
<a id="L288" name="L288"></a> 288                                                     <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L289" name="L289"></a> 289 
<div class="comment">
      Not called directly by applications.
      Implemented by a service provider, used by the static methods
      of this class.
      @return array of all PrintServices known to this lookup service
      class. If none are found, the array is zero-length.</div>
<a id="L297" name="L297"></a> 297     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[] <a href="../R/18476.html" title="Multiple referred from 2 places.">getPrintServices</a>() ;
<a id="L298" name="L298"></a> 298 
<a id="L299" name="L299"></a> 299 
<div class="comment">
     Not called directly by applications.
     <p>
     Implemented by a service provider, used by the static methods
     of this class.
     </p><p>
     Locates MultiDoc print services which can be positively confirmed
     to support the combination of attributes and DocFlavors specified.
     </p><p>
     @param flavors of documents required. If null or empty it is ignored.
     @param attributes required to be supported. If null this
      constraint is not used.
     @return array of matching PrintServices. If no services match, the
     array is zero-length.</p></div>
<a id="L316" name="L316"></a> 316     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/3768.html#L34" title="Defined at 34 in src/javax/print/MultiDocPrintService.java.">MultiDocPrintService</a>[]
<a id="L317" name="L317"></a> 317         <a href="../S/3766.html#L434" title="Referred from 434 in src/javax/print/PrintServiceLookup.java.">getMultiDocPrintServices</a>(<a href="../S/3764.html#L446" title="Defined at 446 in src/javax/print/DocFlavor.java.">DocFlavor</a>[] flavors,
<a id="L318" name="L318"></a> 318                                  <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L319" name="L319"></a> 319 
<div class="comment">
      Not called directly by applications.
      Implemented by a service provider, and called by the print lookup
      service
      @return the default PrintService for this lookup service.
      If there is no default, returns null.</div>
<a id="L327" name="L327"></a> 327     <strong class="reserved">public</strong> <strong class="reserved">abstract</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a> <a href="../S/3766.html#L184" title="Referred from 184 in src/javax/print/PrintServiceLookup.java.">getDefaultPrintService</a>();
<a id="L328" name="L328"></a> 328 
<a id="L329" name="L329"></a> 329     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../R/15021.html" title="Multiple referred from 4 places.">getAllLookupServices</a>() <em class="brace">{</em>
<a id="L330" name="L330"></a> 330         <strong class="reserved">synchronized</strong> (<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331             <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> listOfLookupServices = <a href="../S/3766.html#L86" title="Defined at 86 in src/javax/print/PrintServiceLookup.java.">getListOfLookupServices</a>();
<a id="L332" name="L332"></a> 332             <strong class="reserved">if</strong> (listOfLookupServices != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L333" name="L333"></a> 333                 <strong class="reserved">return</strong> listOfLookupServices;
<a id="L334" name="L334"></a> 334             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L335" name="L335"></a> 335                 listOfLookupServices = <a href="../S/3766.html#L90" title="Defined at 90 in src/javax/print/PrintServiceLookup.java.">initListOfLookupServices</a>();
<a id="L336" name="L336"></a> 336             <em class="brace">}</em>
<a id="L337" name="L337"></a> 337             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L338" name="L338"></a> 338                 <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>(
<a id="L339" name="L339"></a> 339                      <strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>() <em class="brace">{</em>
<a id="L340" name="L340"></a> 340                         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>&gt; <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> =
<a id="L342" name="L342"></a> 342                                 <a href="../S/1190.html#L185" title="Defined at 185 in src/java/util/ServiceLoader.java.">ServiceLoader</a>.<a href="../D/26888.html" title="Multiple defined in 27 places.">load</a>(<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>.<strong class="reserved">class</strong>).
<a id="L343" name="L343"></a> 343                                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L344" name="L344"></a> 344                             <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> los = <a href="../S/3766.html#L86" title="Defined at 86 in src/javax/print/PrintServiceLookup.java.">getListOfLookupServices</a>();
<a id="L345" name="L345"></a> 345                             <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346                                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L347" name="L347"></a> 347                                     los.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>());
<a id="L348" name="L348"></a> 348                                 <em class="brace">}</em>  <strong class="reserved">catch</strong> (<a href="../S/1155.html#L59" title="Defined at 59 in src/java/util/ServiceConfigurationError.java.">ServiceConfigurationError</a> err) <em class="brace">{</em>
<div class="comment">
                                     /* In the applet case, we continue */</div>
<a id="L350" name="L350"></a> 350                                     <strong class="reserved">if</strong> (<a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>() != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351                                         err.<a href="../D/29703.html" title="Multiple defined in 46 places.">printStackTrace</a>();
<a id="L352" name="L352"></a> 352                                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L353" name="L353"></a> 353                                         <strong class="reserved">throw</strong> err;
<a id="L354" name="L354"></a> 354                                     <em class="brace">}</em>
<a id="L355" name="L355"></a> 355                                 <em class="brace">}</em>
<a id="L356" name="L356"></a> 356                             <em class="brace">}</em>
<a id="L357" name="L357"></a> 357                             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L358" name="L358"></a> 358                         <em class="brace">}</em>
<a id="L359" name="L359"></a> 359                 <em class="brace">}</em>);
<a id="L360" name="L360"></a> 360             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> e) <em class="brace">{</em>
<a id="L361" name="L361"></a> 361             <em class="brace">}</em>
<a id="L362" name="L362"></a> 362 
<a id="L363" name="L363"></a> 363             <strong class="reserved">return</strong> listOfLookupServices;
<a id="L364" name="L364"></a> 364         <em class="brace">}</em>
<a id="L365" name="L365"></a> 365     <em class="brace">}</em>
<a id="L366" name="L366"></a> 366 
<a id="L367" name="L367"></a> 367     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../R/18999.html" title="Multiple referred from 9 places.">getServices</a>(<a href="../S/3764.html#L446" title="Defined at 446 in src/javax/print/DocFlavor.java.">DocFlavor</a> flavor,
<a id="L368" name="L368"></a> 368                                          <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L369" name="L369"></a> 369 
<a id="L370" name="L370"></a> 370         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> listOfServices = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>();
<a id="L371" name="L371"></a> 371         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a> psIterator = <a href="../S/3766.html#L329" title="Defined at 329 in src/javax/print/PrintServiceLookup.java.">getAllLookupServices</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L372" name="L372"></a> 372         <strong class="reserved">while</strong> (psIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L373" name="L373"></a> 373             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L374" name="L374"></a> 374                 <a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a> lus = (<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>)psIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L375" name="L375"></a> 375                 <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[] services=<strong class="reserved">null</strong>;
<a id="L376" name="L376"></a> 376                 <strong class="reserved">if</strong> (flavor == <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L378" name="L378"></a> 378                     services = lus.<a href="../D/21669.html" title="Multiple defined in 2 places.">getPrintServices</a>();
<a id="L379" name="L379"></a> 379                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> tr) <em class="brace">{</em>
<a id="L380" name="L380"></a> 380                     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L382" name="L382"></a> 382                     services = lus.<a href="../D/21669.html" title="Multiple defined in 2 places.">getPrintServices</a>(flavor, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L383" name="L383"></a> 383                 <em class="brace">}</em>
<a id="L384" name="L384"></a> 384                 <strong class="reserved">if</strong> (services == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385                     <strong class="reserved">continue</strong>;
<a id="L386" name="L386"></a> 386                 <em class="brace">}</em>
<a id="L387" name="L387"></a> 387                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;services.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L388" name="L388"></a> 388                     listOfServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(services[i]);
<a id="L389" name="L389"></a> 389                 <em class="brace">}</em>
<a id="L390" name="L390"></a> 390             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391             <em class="brace">}</em>
<a id="L392" name="L392"></a> 392         <em class="brace">}</em>
<div class="comment">
         /* add any directly registered services */</div>
<a id="L394" name="L394"></a> 394         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> registeredServices = <strong class="reserved">null</strong>;
<a id="L395" name="L395"></a> 395         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L396" name="L396"></a> 396           <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L397" name="L397"></a> 397           <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             security.<a href="../S/1785.html#L1377" title="Defined at 1377 in src/java/lang/SecurityManager.java.">checkPrintJobAccess</a>();
<a id="L399" name="L399"></a> 399           <em class="brace">}</em>
<a id="L400" name="L400"></a> 400           registeredServices = <a href="../S/3766.html#L97" title="Defined at 97 in src/javax/print/PrintServiceLookup.java.">getRegisteredServices</a>();
<a id="L401" name="L401"></a> 401         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se) <em class="brace">{</em>
<a id="L402" name="L402"></a> 402         <em class="brace">}</em>
<a id="L403" name="L403"></a> 403         <strong class="reserved">if</strong> (registeredServices != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L404" name="L404"></a> 404             <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[] services = (<a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[])
<a id="L405" name="L405"></a> 405                 registeredServices.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(
<a id="L406" name="L406"></a> 406                            <strong class="reserved">new</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[registeredServices.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L407" name="L407"></a> 407             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;services.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L408" name="L408"></a> 408                 <strong class="reserved">if</strong> (!listOfServices.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(services[i])) <em class="brace">{</em>
<a id="L409" name="L409"></a> 409                     <strong class="reserved">if</strong> (flavor == <strong class="reserved">null</strong> &amp;&amp; <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410                         listOfServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(services[i]);
<a id="L411" name="L411"></a> 411                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (((flavor != <strong class="reserved">null</strong> &amp;&amp;
<a id="L412" name="L412"></a> 412                                  services[i].<a href="../S/3757.html#L168" title="Defined at 168 in src/javax/print/PrintService.java.">isDocFlavorSupported</a>(flavor)) ||
<a id="L413" name="L413"></a> 413                                 flavor == <strong class="reserved">null</strong>) &amp;&amp;
<a id="L414" name="L414"></a> 414                                <strong class="reserved">null</strong> == services[i].<a href="../D/23441.html" title="Multiple defined in 2 places.">getUnsupportedAttributes</a>(
<a id="L415" name="L415"></a> 415                                                       flavor, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>)) <em class="brace">{</em>
<a id="L416" name="L416"></a> 416                         listOfServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(services[i]);
<a id="L417" name="L417"></a> 417                     <em class="brace">}</em>
<a id="L418" name="L418"></a> 418                 <em class="brace">}</em>
<a id="L419" name="L419"></a> 419             <em class="brace">}</em>
<a id="L420" name="L420"></a> 420         <em class="brace">}</em>
<a id="L421" name="L421"></a> 421         <strong class="reserved">return</strong> listOfServices;
<a id="L422" name="L422"></a> 422     <em class="brace">}</em>
<a id="L423" name="L423"></a> 423 
<a id="L424" name="L424"></a> 424     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> <a href="../S/3766.html#L151" title="Referred from 151 in src/javax/print/PrintServiceLookup.java.">getMultiDocServices</a>(<a href="../S/3764.html#L446" title="Defined at 446 in src/javax/print/DocFlavor.java.">DocFlavor</a>[] flavors,
<a id="L425" name="L425"></a> 425                                                  <a href="../D/585.html" title="Multiple defined in 3 places.">AttributeSet</a> <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) <em class="brace">{</em>
<a id="L426" name="L426"></a> 426 
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> listOfServices = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>();
<a id="L429" name="L429"></a> 429         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a> psIterator = <a href="../S/3766.html#L329" title="Defined at 329 in src/javax/print/PrintServiceLookup.java.">getAllLookupServices</a>().<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L430" name="L430"></a> 430         <strong class="reserved">while</strong> (psIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L431" name="L431"></a> 431             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L432" name="L432"></a> 432                 <a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a> lus = (<a href="../S/3766.html#L69" title="Defined at 69 in src/javax/print/PrintServiceLookup.java.">PrintServiceLookup</a>)psIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L433" name="L433"></a> 433                 <a href="../S/3768.html#L34" title="Defined at 34 in src/javax/print/MultiDocPrintService.java.">MultiDocPrintService</a>[] services  =
<a id="L434" name="L434"></a> 434                     lus.<a href="../S/3766.html#L317" title="Defined at 317 in src/javax/print/PrintServiceLookup.java.">getMultiDocPrintServices</a>(flavors, <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>);
<a id="L435" name="L435"></a> 435                 <strong class="reserved">if</strong> (services == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L436" name="L436"></a> 436                     <strong class="reserved">continue</strong>;
<a id="L437" name="L437"></a> 437                 <em class="brace">}</em>
<a id="L438" name="L438"></a> 438                 <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;services.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L439" name="L439"></a> 439                     listOfServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(services[i]);
<a id="L440" name="L440"></a> 440                 <em class="brace">}</em>
<a id="L441" name="L441"></a> 441             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L442" name="L442"></a> 442             <em class="brace">}</em>
<a id="L443" name="L443"></a> 443         <em class="brace">}</em>
<div class="comment">
         /* add any directly registered services */</div>
<a id="L445" name="L445"></a> 445         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> registeredServices = <strong class="reserved">null</strong>;
<a id="L446" name="L446"></a> 446         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L447" name="L447"></a> 447           <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> security = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L448" name="L448"></a> 448           <strong class="reserved">if</strong> (security != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449             security.<a href="../S/1785.html#L1377" title="Defined at 1377 in src/java/lang/SecurityManager.java.">checkPrintJobAccess</a>();
<a id="L450" name="L450"></a> 450           <em class="brace">}</em>
<a id="L451" name="L451"></a> 451           registeredServices = <a href="../S/3766.html#L97" title="Defined at 97 in src/javax/print/PrintServiceLookup.java.">getRegisteredServices</a>();
<a id="L452" name="L452"></a> 452         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1582.html#L45" title="Defined at 45 in src/java/lang/Exception.java.">Exception</a> e) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454         <strong class="reserved">if</strong> (registeredServices != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L455" name="L455"></a> 455             <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[] services = (<a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[])
<a id="L456" name="L456"></a> 456                 registeredServices.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(
<a id="L457" name="L457"></a> 457                            <strong class="reserved">new</strong> <a href="../S/3757.html#L61" title="Defined at 61 in src/javax/print/PrintService.java.">PrintService</a>[registeredServices.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L458" name="L458"></a> 458             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i=0; i&lt;services.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; i++) <em class="brace">{</em>
<a id="L459" name="L459"></a> 459                 <strong class="reserved">if</strong> (services[i] <strong class="reserved">instanceof</strong> <a href="../S/3768.html#L34" title="Defined at 34 in src/javax/print/MultiDocPrintService.java.">MultiDocPrintService</a> &amp;&amp;
<a id="L460" name="L460"></a> 460                     !listOfServices.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(services[i])) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461                     <strong class="reserved">if</strong> (flavors == <strong class="reserved">null</strong> || flavors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a> == 0) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462                         listOfServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(services[i]);
<a id="L463" name="L463"></a> 463                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L464" name="L464"></a> 464                         <strong class="reserved">boolean</strong> supported = <strong class="reserved">true</strong>;
<a id="L465" name="L465"></a> 465                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> f=0; f&lt;flavors.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>; f++) <em class="brace">{</em>
<a id="L466" name="L466"></a> 466                             <strong class="reserved">if</strong> (services[i].<a href="../S/3757.html#L168" title="Defined at 168 in src/javax/print/PrintService.java.">isDocFlavorSupported</a>(flavors[f])) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467 
<a id="L468" name="L468"></a> 468                                 <strong class="reserved">if</strong> (services[i].<a href="../D/23441.html" title="Multiple defined in 2 places.">getUnsupportedAttributes</a>(
<a id="L469" name="L469"></a> 469                                      flavors[f], <a href="../S/1947.html#L156" title="Defined at 156 in src/java/nio/file/FileTreeWalker.java.">attributes</a>) != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470                                         supported = <strong class="reserved">false</strong>;
<a id="L471" name="L471"></a> 471                                         <strong class="reserved">break</strong>;
<a id="L472" name="L472"></a> 472                                 <em class="brace">}</em>
<a id="L473" name="L473"></a> 473                             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L474" name="L474"></a> 474                                 supported = <strong class="reserved">false</strong>;
<a id="L475" name="L475"></a> 475                                 <strong class="reserved">break</strong>;
<a id="L476" name="L476"></a> 476                             <em class="brace">}</em>
<a id="L477" name="L477"></a> 477                         <em class="brace">}</em>
<a id="L478" name="L478"></a> 478                         <strong class="reserved">if</strong> (supported) <em class="brace">{</em>
<a id="L479" name="L479"></a> 479                             listOfServices.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(services[i]);
<a id="L480" name="L480"></a> 480                         <em class="brace">}</em>
<a id="L481" name="L481"></a> 481                     <em class="brace">}</em>
<a id="L482" name="L482"></a> 482                 <em class="brace">}</em>
<a id="L483" name="L483"></a> 483             <em class="brace">}</em>
<a id="L484" name="L484"></a> 484         <em class="brace">}</em>
<a id="L485" name="L485"></a> 485         <strong class="reserved">return</strong> listOfServices;
<a id="L486" name="L486"></a> 486     <em class="brace">}</em>
<a id="L487" name="L487"></a> 487 
<a id="L488" name="L488"></a> 488 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L76">[^]</a><a href="#L424">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>