<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L94">[^]</a><a href="#L505">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L94" title="Defined at 94.">traverseGlobal</a></li>
<li><a href="#L140" title="Defined at 140.">traverseLocal</a></li>
<li><a href="#L156" title="Defined at 156.">traverseSimpleTypeDecl</a></li>
<li><a href="#L169" title="Defined at 169.">genAnonTypeName</a></li>
<li><a href="#L192" title="Defined at 192.">getSimpleType</a></li>
<li><a href="#L435" title="Defined at 435.">findDTValidator</a></li>
<li><a href="#L480" title="Defined at 480.">checkBuiltIn</a></li>
<li><a href="#L489" title="Defined at 489.">isListDatatype</a></li>
<li><a href="#L505" title="Defined at 505.">errorType</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2007, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<div class="comment">
  Copyright 2001-2005 The Apache Software Foundation.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
       http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.</div>
<a id="L20" name="L20"></a>  20 
<a id="L21" name="L21"></a>  21 <strong class="reserved">package</strong> com.sun.org.apache.xerces.internal.<a href="../S/7010.html#L693" title="Defined at 693 in src/com/sun/corba/se/impl/encoding/CodeSetConversion.java.">impl</a>.xs.traversers;
<a id="L22" name="L22"></a>  22 
<a id="L23" name="L23"></a>  23 <strong class="reserved">import</strong> java.util.ArrayList;
<a id="L24" name="L24"></a>  24 <strong class="reserved">import</strong> java.util.Vector;
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.InvalidDatatypeFacetException;
<a id="L27" name="L27"></a>  27 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.SchemaDVFactory;
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.XSSimpleType;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.xs.SchemaDVFactoryImpl;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.dv.xs.XSSimpleTypeDecl;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.SchemaGrammar;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.SchemaSymbols;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.XSAnnotationImpl;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.XInt;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.impl.xs.util.XSObjectListImpl;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.util.DOMUtil;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xni.QName;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSConstants;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSObjectList;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> com.sun.org.apache.xerces.internal.xs.XSTypeDefinition;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> org.w3c.dom.Element;
<a id="L42" name="L42"></a>  42 
<div class="comment">
  The simple type definition schema component traverser.
  <simpletype final="(#all" | (list union restriction)) id="ID" name="NCName" {any attributes with non-schema namespace . .}>
    Content: (annotation?, (restriction | list | union))
  </simpletype>
  <restriction base="QName" id="ID" {any attributes with non-schema namespace . .}>
    Content: (annotation?, (simpleType?, (minExclusive | minInclusive | maxExclusive | maxInclusive | totalDigits | fractionDigits | length | minLength | maxLength | enumeration | whiteSpace | pattern)*))
  </restriction>
  <list id="ID" itemtype="QName" {any attributes with non-schema namespace . .}>
    Content: (annotation?, (simpleType?))
  </list>
  <union id="ID" membertypes="List" of qname {any attributes with non-schema namespace . .}>
    Content: (annotation?, (simpleType*))
  </union>
  @xerces.internal
  @author Elena Litani, IBM
  @author Neeraj Bajaj, Sun Microsystems, Inc.
  @author Sandy Gao, IBM
  @version $Id: XSDSimpleTypeTraverser.java,v 1.7 2010-11-01 04:40:02 joehw Exp $</div>
<a id="L83" name="L83"></a>  83 <strong class="reserved">class</strong> <a href="../R/9200.html" title="Multiple referred from 2 places.">XSDSimpleTypeTraverser</a> <strong class="reserved">extends</strong> <a href="../S/5097.html#L63" title="Defined at 63 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">XSDAbstractTraverser</a> <em class="brace">{</em>
<a id="L84" name="L84"></a>  84 
<a id="L85" name="L85"></a>  85     <em class="comment">// whether the type being parsed is a S4S built-in type.</em>
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> fIsBuiltIn = <strong class="reserved">false</strong>;
<a id="L87" name="L87"></a>  87 
<a id="L88" name="L88"></a>  88     XSDSimpleTypeTraverser (<a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a> <a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>,
<a id="L89" name="L89"></a>  89             <a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a> gAttrCheck) <em class="brace">{</em>
<a id="L90" name="L90"></a>  90         <strong class="reserved">super</strong>(<a href="../S/5398.html#L302" title="Defined at 302 in src/com/sun/org/apache/xerces/internal/jaxp/JAXPValidatorComponent.java.">handler</a>, gAttrCheck);
<a id="L91" name="L91"></a>  91     <em class="brace">}</em>
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93     <em class="comment">//return qualified name of simpleType or empty string if error occured</em>
<a id="L94" name="L94"></a>  94     <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../R/29493.html" title="Multiple referred from 16 places.">traverseGlobal</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elmNode,
<a id="L95" name="L95"></a>  95             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L96" name="L96"></a>  96             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L97" name="L97"></a>  97 
<a id="L98" name="L98"></a>  98         <em class="comment">// General Attribute Checking</em>
<a id="L99" name="L99"></a>  99         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(elmNode, <strong class="reserved">true</strong>, schemaDoc);
<a id="L100" name="L100"></a> 100         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> nameAtt = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_NAME];
<a id="L101" name="L101"></a> 101         <strong class="reserved">if</strong> (nameAtt == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L102" name="L102"></a> 102             attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_NAME] = NO_NAME;
<a id="L103" name="L103"></a> 103         <em class="brace">}</em>
<a id="L104" name="L104"></a> 104         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../S/5086.html#L156" title="Defined at 156 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">traverseSimpleTypeDecl</a>(elmNode, attrValues, schemaDoc, grammar);
<a id="L105" name="L105"></a> 105         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(attrValues, schemaDoc);
<a id="L106" name="L106"></a> 106 
<a id="L107" name="L107"></a> 107         <em class="comment">// if it's a global type without a name, return null</em>
<a id="L108" name="L108"></a> 108         <strong class="reserved">if</strong> (nameAtt == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L109" name="L109"></a> 109             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-att-must-appear", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE, <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME<em class="brace">}</em>, elmNode);
<a id="L110" name="L110"></a> 110             <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <strong class="reserved">null</strong>;
<a id="L111" name="L111"></a> 111         <em class="brace">}</em>
<a id="L112" name="L112"></a> 112 
<a id="L113" name="L113"></a> 113         <em class="comment">// don't add global components without name to the grammar</em>
<a id="L114" name="L114"></a> 114         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L115" name="L115"></a> 115             <strong class="reserved">if</strong> (grammar.<a href="../D/19331.html" title="Multiple defined in 3 places.">getGlobalTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()) == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L116" name="L116"></a> 116                 grammar.<a href="../D/10826.html" title="Multiple defined in 6 places.">addGlobalSimpleTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L117" name="L117"></a> 117             <em class="brace">}</em>
<a id="L118" name="L118"></a> 118 
<a id="L119" name="L119"></a> 119             <em class="comment">// also add it to extended map</em>
<a id="L120" name="L120"></a> 120             <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> loc = fSchemaHandler.<a href="../S/5082.html#L1922" title="Defined at 1922 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">schemaDocument2SystemId</a>(schemaDoc);
<a id="L121" name="L121"></a> 121             <strong class="reserved">final</strong> <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> type2 = grammar.<a href="../D/19331.html" title="Multiple defined in 3 places.">getGlobalTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(), loc);
<a id="L122" name="L122"></a> 122             <strong class="reserved">if</strong> (type2 == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123                 grammar.<a href="../D/10826.html" title="Multiple defined in 6 places.">addGlobalSimpleTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>, loc);
<a id="L124" name="L124"></a> 124             <em class="brace">}</em>
<a id="L125" name="L125"></a> 125 
<a id="L126" name="L126"></a> 126             <em class="comment">// handle duplicates</em>
<a id="L127" name="L127"></a> 127             <strong class="reserved">if</strong> (fSchemaHandler.fTolerateDuplicates) <em class="brace">{</em>
<a id="L128" name="L128"></a> 128                 <strong class="reserved">if</strong> (type2 != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L129" name="L129"></a> 129                     <strong class="reserved">if</strong> (type2 <strong class="reserved">instanceof</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                         <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>) type2;
<a id="L131" name="L131"></a> 131                     <em class="brace">}</em>
<a id="L132" name="L132"></a> 132                 <em class="brace">}</em>
<a id="L133" name="L133"></a> 133                 fSchemaHandler.<a href="../D/10827.html" title="Multiple defined in 7 places.">addGlobalTypeDecl</a>(<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L134" name="L134"></a> 134             <em class="brace">}</em>
<a id="L135" name="L135"></a> 135         <em class="brace">}</em>
<a id="L136" name="L136"></a> 136 
<a id="L137" name="L137"></a> 137         <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L138" name="L138"></a> 138     <em class="brace">}</em>
<a id="L139" name="L139"></a> 139 
<a id="L140" name="L140"></a> 140     <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../R/29497.html" title="Multiple referred from 14 places.">traverseLocal</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elmNode,
<a id="L141" name="L141"></a> 141             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L142" name="L142"></a> 142             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L143" name="L143"></a> 143 
<a id="L144" name="L144"></a> 144         <em class="comment">// General Attribute Checking</em>
<a id="L145" name="L145"></a> 145         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(elmNode, <strong class="reserved">false</strong>, schemaDoc);
<a id="L146" name="L146"></a> 146         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/16629.html" title="Multiple defined in 2 places.">genAnonTypeName</a>(elmNode);
<a id="L147" name="L147"></a> 147         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> = <a href="../D/22521.html" title="Multiple defined in 3 places.">getSimpleType</a> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, elmNode, attrValues, schemaDoc, grammar);
<a id="L148" name="L148"></a> 148         <strong class="reserved">if</strong> (<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a> <strong class="reserved">instanceof</strong> <a href="../S/5206.html#L65" title="Defined at 65 in src/com/sun/org/apache/xerces/internal/impl/dv/xs/XSSimpleTypeDecl.java.">XSSimpleTypeDecl</a>) <em class="brace">{</em>
<a id="L149" name="L149"></a> 149             ((<a href="../S/5206.html#L65" title="Defined at 65 in src/com/sun/org/apache/xerces/internal/impl/dv/xs/XSSimpleTypeDecl.java.">XSSimpleTypeDecl</a>)<a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>).<a href="../S/5206.html#L3199" title="Defined at 3199 in src/com/sun/org/apache/xerces/internal/impl/dv/xs/XSSimpleTypeDecl.java.">setAnonymous</a>(<strong class="reserved">true</strong>);
<a id="L150" name="L150"></a> 150         <em class="brace">}</em>
<a id="L151" name="L151"></a> 151         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(attrValues, schemaDoc);
<a id="L152" name="L152"></a> 152 
<a id="L153" name="L153"></a> 153         <strong class="reserved">return</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>;
<a id="L154" name="L154"></a> 154     <em class="brace">}</em>
<a id="L155" name="L155"></a> 155 
<a id="L156" name="L156"></a> 156     <strong class="reserved">private</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../S/5086.html#L104" title="Referred from 104 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">traverseSimpleTypeDecl</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> simpleTypeDecl,
<a id="L157" name="L157"></a> 157             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues,
<a id="L158" name="L158"></a> 158             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc,
<a id="L159" name="L159"></a> 159             <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L160" name="L160"></a> 160 
<a id="L161" name="L161"></a> 161         <em class="comment">// get name and final values</em>
<a id="L162" name="L162"></a> 162         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = (<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_NAME];
<a id="L163" name="L163"></a> 163         <strong class="reserved">return</strong> <a href="../D/22521.html" title="Multiple defined in 3 places.">getSimpleType</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, simpleTypeDecl, attrValues, schemaDoc, grammar);
<a id="L164" name="L164"></a> 164     <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<div class="comment">
      Generate a name for an anonymous type</div>
<a id="L169" name="L169"></a> 169     <strong class="reserved">private</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/14838.html" title="Multiple referred from 3 places.">genAnonTypeName</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> simpleTypeDecl) <em class="brace">{</em>
<a id="L170" name="L170"></a> 170 
<a id="L171" name="L171"></a> 171         <em class="comment">// Generate a unique name for the anonymous type by concatenating together the</em>
<a id="L172" name="L172"></a> 172         <em class="comment">// names of parent nodes</em>
<a id="L173" name="L173"></a> 173         <em class="comment">// The name is quite good for debugging/error purposes, but we may want to</em>
<a id="L174" name="L174"></a> 174         <em class="comment">// revisit how this is done for performance reasons (LM).</em>
<a id="L175" name="L175"></a> 175         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a> = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>("#AnonType_");
<a id="L176" name="L176"></a> 176         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>(simpleTypeDecl);
<a id="L177" name="L177"></a> 177         <strong class="reserved">while</strong> (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <strong class="reserved">null</strong> &amp;&amp; (<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> != <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22122.html" title="Multiple defined in 25 places.">getRoot</a>(<a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/18553.html" title="Multiple defined in 33 places.">getDocument</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>)))) <em class="brace">{</em>
<a id="L178" name="L178"></a> 178             <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>.<a href="../D/17064.html" title="Multiple defined in 72 places.">getAttribute</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ATT_NAME));
<a id="L179" name="L179"></a> 179             <a href="../D/28235.html" title="Multiple defined in 11 places.">node</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/21392.html" title="Multiple defined in 42 places.">getParent</a>(<a href="../D/28235.html" title="Multiple defined in 11 places.">node</a>);
<a id="L180" name="L180"></a> 180         <em class="brace">}</em>
<a id="L181" name="L181"></a> 181         <strong class="reserved">return</strong> <a href="../D/35766.html" title="Multiple defined in 4 places.">typeName</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L182" name="L182"></a> 182     <em class="brace">}</em>
<a id="L183" name="L183"></a> 183 
<div class="comment">
      @param name
      @param simpleTypeDecl
      @param attrValues
      @param schemaDoc
      @param grammar
      @return</div>
<a id="L192" name="L192"></a> 192     <strong class="reserved">private</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../R/19050.html" title="Multiple referred from 4 places.">getSimpleType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> simpleTypeDecl, <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] attrValues, <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc, <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a> grammar) <em class="brace">{</em>
<a id="L193" name="L193"></a> 193         <a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a> finalAttr = (<a href="../S/5059.html#L29" title="Defined at 29 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XInt.java.">XInt</a>)attrValues[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_FINAL];
<a id="L194" name="L194"></a> 194         <strong class="reserved">int</strong> finalProperty = finalAttr == <strong class="reserved">null</strong> ? schemaDoc.fFinalDefault : finalAttr.<a href="../D/24897.html" title="Multiple defined in 21 places.">intValue</a>();
<a id="L195" name="L195"></a> 195         <em class="comment">// annotation?,(list|restriction|union)</em>
<a id="L196" name="L196"></a> 196         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(simpleTypeDecl);
<a id="L197" name="L197"></a> 197         <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">null</strong>;
<a id="L198" name="L198"></a> 198         <strong class="reserved">if</strong> (child != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199             <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation = <a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(child, attrValues, <strong class="reserved">false</strong>, schemaDoc);
<a id="L200" name="L200"></a> 200             <strong class="reserved">if</strong> (annotation != <strong class="reserved">null</strong>)
<a id="L201" name="L201"></a> 201                 <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] <em class="brace">{</em>annotation<em class="brace">}</em>;
<a id="L202" name="L202"></a> 202             child = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L203" name="L203"></a> 203         <em class="brace">}</em>
<a id="L204" name="L204"></a> 204         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L205" name="L205"></a> 205             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(simpleTypeDecl);
<a id="L206" name="L206"></a> 206             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L207" name="L207"></a> 207                 <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation = <a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(simpleTypeDecl, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, attrValues, <strong class="reserved">false</strong>, schemaDoc);
<a id="L208" name="L208"></a> 208                 <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a>[] <em class="brace">{</em>annotation<em class="brace">}</em>;
<a id="L209" name="L209"></a> 209             <em class="brace">}</em>
<a id="L210" name="L210"></a> 210         <em class="brace">}</em>
<a id="L211" name="L211"></a> 211         <em class="comment">// (list|restriction|union)</em>
<a id="L212" name="L212"></a> 212         <strong class="reserved">if</strong> (child == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L213" name="L213"></a> 213             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.2", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE, "(annotation?, (restriction | list | union))"<em class="brace">}</em>, simpleTypeDecl);
<a id="L214" name="L214"></a> 214             <strong class="reserved">return</strong> <a href="../S/5086.html#L505" title="Defined at 505 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">errorType</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace, <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION);
<a id="L215" name="L215"></a> 215         <em class="brace">}</em>
<a id="L216" name="L216"></a> 216         <em class="comment">// derivation type: restriction/list/union</em>
<a id="L217" name="L217"></a> 217         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> varietyProperty = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(child);
<a id="L218" name="L218"></a> 218         <strong class="reserved">short</strong> refType = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L219" name="L219"></a> 219         <strong class="reserved">boolean</strong> restriction = <strong class="reserved">false</strong>, <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">false</strong>, <strong class="reserved">union</strong> = <strong class="reserved">false</strong>;
<a id="L220" name="L220"></a> 220         <strong class="reserved">if</strong> (varietyProperty.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_RESTRICTION)) <em class="brace">{</em>
<a id="L221" name="L221"></a> 221             refType = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION;
<a id="L222" name="L222"></a> 222             restriction = <strong class="reserved">true</strong>;
<a id="L223" name="L223"></a> 223         <em class="brace">}</em>
<a id="L224" name="L224"></a> 224         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (varietyProperty.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_LIST)) <em class="brace">{</em>
<a id="L225" name="L225"></a> 225             refType = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_LIST;
<a id="L226" name="L226"></a> 226             <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <strong class="reserved">true</strong>;
<a id="L227" name="L227"></a> 227         <em class="brace">}</em>
<a id="L228" name="L228"></a> 228         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (varietyProperty.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_UNION)) <em class="brace">{</em>
<a id="L229" name="L229"></a> 229             refType = <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_UNION;
<a id="L230" name="L230"></a> 230             <strong class="reserved">union</strong> = <strong class="reserved">true</strong>;
<a id="L231" name="L231"></a> 231         <em class="brace">}</em>
<a id="L232" name="L232"></a> 232         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L233" name="L233"></a> 233             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE, "(annotation?, (restriction | list | union))", varietyProperty<em class="brace">}</em>, simpleTypeDecl);
<a id="L234" name="L234"></a> 234             <strong class="reserved">return</strong> <a href="../S/5086.html#L505" title="Defined at 505 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">errorType</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace, <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION);
<a id="L235" name="L235"></a> 235         <em class="brace">}</em>
<a id="L236" name="L236"></a> 236         <em class="comment">// nothing should follow this element</em>
<a id="L237" name="L237"></a> 237         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> nextChild = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(child);
<a id="L238" name="L238"></a> 238         <strong class="reserved">if</strong> (nextChild != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L239" name="L239"></a> 239             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE, "(annotation?, (restriction | list | union))", <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(nextChild)<em class="brace">}</em>, nextChild);
<a id="L240" name="L240"></a> 240         <em class="brace">}</em>
<a id="L241" name="L241"></a> 241         <em class="comment">// General Attribute Checking: get base/item/member types</em>
<a id="L242" name="L242"></a> 242         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] contentAttrs = fAttrChecker.<a href="../D/12371.html" title="Multiple defined in 5 places.">checkAttributes</a>(child, <strong class="reserved">false</strong>, schemaDoc);
<a id="L243" name="L243"></a> 243         <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> baseTypeName = (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>)contentAttrs[restriction ?
<a id="L244" name="L244"></a> 244                 <a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_BASE :
<a id="L245" name="L245"></a> 245                     <a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_ITEMTYPE];
<a id="L246" name="L246"></a> 246         <a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a> memberTypes = (<a href="../S/846.html#L83" title="Defined at 83 in src/java/util/Vector.java.">Vector</a>)contentAttrs[<a href="../S/5092.html#L75" title="Defined at 75 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">XSAttributeChecker</a>.ATTIDX_MEMBERTYPES];
<a id="L247" name="L247"></a> 247         <em class="comment">//content = {annotation?,simpleType?...}</em>
<a id="L248" name="L248"></a> 248         <a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/19089.html" title="Multiple defined in 4 places.">getFirstChildElement</a>(child);
<a id="L249" name="L249"></a> 249         <em class="comment">//check content (annotation?, ...)</em>
<a id="L250" name="L250"></a> 250         <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_ANNOTATION)) <em class="brace">{</em>
<a id="L251" name="L251"></a> 251             <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation = <a href="../S/5097.html#L108" title="Defined at 108 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseAnnotationDecl</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, contentAttrs, <strong class="reserved">false</strong>, schemaDoc);
<a id="L252" name="L252"></a> 252             <strong class="reserved">if</strong> (annotation != <strong class="reserved">null</strong> ) <em class="brace">{</em>
<a id="L253" name="L253"></a> 253                 <strong class="reserved">if</strong>(<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L254" name="L254"></a> 254                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] <em class="brace">{</em>annotation<em class="brace">}</em>;
<a id="L255" name="L255"></a> 255                 <em class="brace">}</em>
<a id="L256" name="L256"></a> 256                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L257" name="L257"></a> 257                     <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] tempArray = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a>[2];
<a id="L258" name="L258"></a> 258                     tempArray[0] = <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>[0];
<a id="L259" name="L259"></a> 259                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = tempArray;
<a id="L260" name="L260"></a> 260                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>[1] = annotation;
<a id="L261" name="L261"></a> 261                 <em class="brace">}</em>
<a id="L262" name="L262"></a> 262             <em class="brace">}</em>
<a id="L263" name="L263"></a> 263             <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L264" name="L264"></a> 264         <em class="brace">}</em>
<a id="L265" name="L265"></a> 265         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L266" name="L266"></a> 266             <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/22891.html" title="Multiple defined in 2 places.">getSyntheticAnnotation</a>(child);
<a id="L267" name="L267"></a> 267             <strong class="reserved">if</strong> (<a href="../D/35255.html" title="Multiple defined in 4 places.">text</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L268" name="L268"></a> 268                 <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> annotation = <a href="../S/5097.html#L200" title="Defined at 200 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseSyntheticAnnotation</a>(child, <a href="../D/35255.html" title="Multiple defined in 4 places.">text</a>, contentAttrs, <strong class="reserved">false</strong>, schemaDoc);
<a id="L269" name="L269"></a> 269                 <strong class="reserved">if</strong> (<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L270" name="L270"></a> 270                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] <em class="brace">{</em>annotation<em class="brace">}</em>;
<a id="L271" name="L271"></a> 271                 <em class="brace">}</em>
<a id="L272" name="L272"></a> 272                 <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L273" name="L273"></a> 273                     <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a> [] tempArray = <strong class="reserved">new</strong> <a href="../S/5101.html#L43" title="Defined at 43 in src/com/sun/org/apache/xerces/internal/impl/xs/XSAnnotationImpl.java.">XSAnnotationImpl</a>[2];
<a id="L274" name="L274"></a> 274                     tempArray[0] = <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>[0];
<a id="L275" name="L275"></a> 275                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> = tempArray;
<a id="L276" name="L276"></a> 276                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>[1] = annotation;
<a id="L277" name="L277"></a> 277                 <em class="brace">}</em>
<a id="L278" name="L278"></a> 278             <em class="brace">}</em>
<a id="L279" name="L279"></a> 279         <em class="brace">}</em>
<a id="L280" name="L280"></a> 280         <em class="comment">// get base type from "base" attribute</em>
<a id="L281" name="L281"></a> 281         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> baseValidator = <strong class="reserved">null</strong>;
<a id="L282" name="L282"></a> 282         <strong class="reserved">if</strong> ((restriction || <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) &amp;&amp; baseTypeName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L283" name="L283"></a> 283             baseValidator = <a href="../S/5086.html#L435" title="Defined at 435 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">findDTValidator</a>(child, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, baseTypeName, refType, schemaDoc);
<a id="L284" name="L284"></a> 284             <em class="comment">// if its the built-in type, return null from here</em>
<a id="L285" name="L285"></a> 285             <strong class="reserved">if</strong> (baseValidator == <strong class="reserved">null</strong> &amp;&amp; fIsBuiltIn) <em class="brace">{</em>
<a id="L286" name="L286"></a> 286                 fIsBuiltIn = <strong class="reserved">false</strong>;
<a id="L287" name="L287"></a> 287                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L288" name="L288"></a> 288             <em class="brace">}</em>
<a id="L289" name="L289"></a> 289         <em class="brace">}</em>
<a id="L290" name="L290"></a> 290         <em class="comment">// get types from "memberTypes" attribute</em>
<a id="L291" name="L291"></a> 291         <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a> dTValidators = <strong class="reserved">null</strong>;
<a id="L292" name="L292"></a> 292         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> dv = <strong class="reserved">null</strong>;
<a id="L293" name="L293"></a> 293         <a href="../S/5373.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xs/XSObjectList.java.">XSObjectList</a> dvs;
<a id="L294" name="L294"></a> 294         <strong class="reserved">if</strong> (<strong class="reserved">union</strong> &amp;&amp; memberTypes != <strong class="reserved">null</strong> &amp;&amp; memberTypes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() &gt; 0) <em class="brace">{</em>
<a id="L295" name="L295"></a> 295             <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = memberTypes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L296" name="L296"></a> 296             dTValidators = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>(<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L297" name="L297"></a> 297             <em class="comment">// for each qname in the list</em>
<a id="L298" name="L298"></a> 298             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>; i++) <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                 <em class="comment">// get the type decl</em>
<a id="L300" name="L300"></a> 300                 dv = <a href="../S/5086.html#L435" title="Defined at 435 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">findDTValidator</a>(child, <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, (<a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a>)memberTypes.<a href="../D/15289.html" title="Multiple defined in 23 places.">elementAt</a>(i),
<a id="L301" name="L301"></a> 301                         <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_UNION, schemaDoc);
<a id="L302" name="L302"></a> 302                 <strong class="reserved">if</strong> (dv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L303" name="L303"></a> 303                     <em class="comment">// if it's a union, expand it</em>
<a id="L304" name="L304"></a> 304                     <strong class="reserved">if</strong> (dv.<a href="../D/23568.html" title="Multiple defined in 3 places.">getVariety</a>() == <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>.VARIETY_UNION) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305                         dvs = dv.<a href="../D/20529.html" title="Multiple defined in 3 places.">getMemberTypes</a>();
<a id="L306" name="L306"></a> 306                         <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; dvs.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); j++)
<a id="L307" name="L307"></a> 307                             dTValidators.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dvs.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(j));
<a id="L308" name="L308"></a> 308                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L309" name="L309"></a> 309                         dTValidators.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dv);
<a id="L310" name="L310"></a> 310                     <em class="brace">}</em>
<a id="L311" name="L311"></a> 311                 <em class="brace">}</em>
<a id="L312" name="L312"></a> 312             <em class="brace">}</em>
<a id="L313" name="L313"></a> 313         <em class="brace">}</em>
<a id="L314" name="L314"></a> 314 
<a id="L315" name="L315"></a> 315         <em class="comment">// check if there is a child "simpleType"</em>
<a id="L316" name="L316"></a> 316         <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE)) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317             <strong class="reserved">if</strong> (restriction || <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) <em class="brace">{</em>
<a id="L318" name="L318"></a> 318                 <em class="comment">// it's an error for both "base" and "simpleType" to appear</em>
<a id="L319" name="L319"></a> 319                 <strong class="reserved">if</strong> (baseTypeName != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L320" name="L320"></a> 320                     <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> ? "src-simple-type.3.a" : "src-simple-type.2.a", <strong class="reserved">null</strong>, <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L321" name="L321"></a> 321                 <em class="brace">}</em>
<a id="L322" name="L322"></a> 322                 <strong class="reserved">if</strong> (baseValidator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L323" name="L323"></a> 323                     <em class="comment">// traverse this child to get the base type</em>
<a id="L324" name="L324"></a> 324                     baseValidator = <a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, schemaDoc, grammar);
<a id="L325" name="L325"></a> 325                 <em class="brace">}</em>
<a id="L326" name="L326"></a> 326                 <em class="comment">// get the next element</em>
<a id="L327" name="L327"></a> 327                 <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L328" name="L328"></a> 328             <em class="brace">}</em>
<a id="L329" name="L329"></a> 329             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<strong class="reserved">union</strong>) <em class="brace">{</em>
<a id="L330" name="L330"></a> 330                 <strong class="reserved">if</strong> (dTValidators == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L331" name="L331"></a> 331                     dTValidators = <strong class="reserved">new</strong> <a href="../D/498.html" title="Multiple defined in 2 places.">ArrayList</a>(2);
<a id="L332" name="L332"></a> 332                 <em class="brace">}</em>
<a id="L333" name="L333"></a> 333                 <strong class="reserved">do</strong> <em class="brace">{</em>
<a id="L334" name="L334"></a> 334                     <em class="comment">// traverse this child to get the member type</em>
<a id="L335" name="L335"></a> 335                     dv = <a href="../D/35667.html" title="Multiple defined in 7 places.">traverseLocal</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, schemaDoc, grammar);
<a id="L336" name="L336"></a> 336                     <strong class="reserved">if</strong> (dv != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L337" name="L337"></a> 337                         <em class="comment">// if it's a union, expand it</em>
<a id="L338" name="L338"></a> 338                         <strong class="reserved">if</strong> (dv.<a href="../D/23568.html" title="Multiple defined in 3 places.">getVariety</a>() == <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>.VARIETY_UNION) <em class="brace">{</em>
<a id="L339" name="L339"></a> 339                             dvs = dv.<a href="../D/20529.html" title="Multiple defined in 3 places.">getMemberTypes</a>();
<a id="L340" name="L340"></a> 340                             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> j = 0; j &lt; dvs.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); j++) <em class="brace">{</em>
<a id="L341" name="L341"></a> 341                                 dTValidators.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dvs.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(j));
<a id="L342" name="L342"></a> 342                             <em class="brace">}</em>
<a id="L343" name="L343"></a> 343                         <em class="brace">}</em>
<a id="L344" name="L344"></a> 344                         <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L345" name="L345"></a> 345                             dTValidators.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(dv);
<a id="L346" name="L346"></a> 346                         <em class="brace">}</em>
<a id="L347" name="L347"></a> 347                     <em class="brace">}</em>
<a id="L348" name="L348"></a> 348                     <em class="comment">// get the next element</em>
<a id="L349" name="L349"></a> 349                     <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> = <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20936.html" title="Multiple defined in 4 places.">getNextSiblingElement</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L350" name="L350"></a> 350                 <em class="brace">}</em> <strong class="reserved">while</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> != <strong class="reserved">null</strong> &amp;&amp; <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>).<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_SIMPLETYPE));
<a id="L351" name="L351"></a> 351             <em class="brace">}</em>
<a id="L352" name="L352"></a> 352         <em class="brace">}</em>
<a id="L353" name="L353"></a> 353         <strong class="reserved">else</strong> <strong class="reserved">if</strong> ((restriction || <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) &amp;&amp; baseTypeName == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L354" name="L354"></a> 354             <em class="comment">// it's an error if neither "base/itemType" nor "simpleType" appears</em>
<a id="L355" name="L355"></a> 355             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>(<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> ? "src-simple-type.3.b" : "src-simple-type.2.b", <strong class="reserved">null</strong>, child);
<a id="L356" name="L356"></a> 356         <em class="brace">}</em>
<a id="L357" name="L357"></a> 357         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<strong class="reserved">union</strong> &amp;&amp; (memberTypes == <strong class="reserved">null</strong> || memberTypes.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0)) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358             <em class="comment">// it's an error if "memberTypes" is empty and no "simpleType" appears</em>
<a id="L359" name="L359"></a> 359             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("src-union-memberTypes-or-simpleTypes", <strong class="reserved">null</strong>, child);
<a id="L360" name="L360"></a> 360         <em class="brace">}</em>
<a id="L361" name="L361"></a> 361         <em class="comment">// error finding "base" or error traversing "simpleType".</em>
<a id="L362" name="L362"></a> 362         <em class="comment">// don't need to report an error, since some error has been reported.</em>
<a id="L363" name="L363"></a> 363         <strong class="reserved">if</strong> ((restriction || <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) &amp;&amp; baseValidator == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L364" name="L364"></a> 364             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(contentAttrs, schemaDoc);
<a id="L365" name="L365"></a> 365             <strong class="reserved">return</strong> <a href="../S/5086.html#L505" title="Defined at 505 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">errorType</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace,
<a id="L366" name="L366"></a> 366                     restriction ? <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION : <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_LIST);
<a id="L367" name="L367"></a> 367         <em class="brace">}</em>
<a id="L368" name="L368"></a> 368         <em class="comment">// error finding "memberTypes" or error traversing "simpleType".</em>
<a id="L369" name="L369"></a> 369         <em class="comment">// don't need to report an error, since some error has been reported.</em>
<a id="L370" name="L370"></a> 370         <strong class="reserved">if</strong> (<strong class="reserved">union</strong> &amp;&amp; (dTValidators == <strong class="reserved">null</strong> || dTValidators.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0)) <em class="brace">{</em>
<a id="L371" name="L371"></a> 371             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(contentAttrs, schemaDoc);
<a id="L372" name="L372"></a> 372             <strong class="reserved">return</strong> <a href="../S/5086.html#L505" title="Defined at 505 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">errorType</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace,
<a id="L373" name="L373"></a> 373                     <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_UNION);
<a id="L374" name="L374"></a> 374         <em class="brace">}</em>
<a id="L375" name="L375"></a> 375         <em class="comment">// item type of list types can't have list content</em>
<a id="L376" name="L376"></a> 376         <strong class="reserved">if</strong> (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> &amp;&amp; <a href="../S/5086.html#L489" title="Defined at 489 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">isListDatatype</a>(baseValidator)) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("cos-st-restricts.2.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, baseValidator.<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>()<em class="brace">}</em>, child);
<a id="L378" name="L378"></a> 378             fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(contentAttrs, schemaDoc);
<a id="L379" name="L379"></a> 379             <strong class="reserved">return</strong> <a href="../S/5086.html#L505" title="Defined at 505 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">errorType</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace,
<a id="L380" name="L380"></a> 380                     <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_LIST);
<a id="L381" name="L381"></a> 381         <em class="brace">}</em>
<a id="L382" name="L382"></a> 382         <em class="comment">// create the simple type based on the "base" type</em>
<a id="L383" name="L383"></a> 383         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> newDecl = <strong class="reserved">null</strong>;
<a id="L384" name="L384"></a> 384         <strong class="reserved">if</strong> (restriction) <em class="brace">{</em>
<a id="L385" name="L385"></a> 385             newDecl = fSchemaHandler.fDVFactory.<a href="../D/14282.html" title="Multiple defined in 3 places.">createTypeRestriction</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace, (<strong class="reserved">short</strong>)finalProperty, baseValidator,
<a id="L386" name="L386"></a> 386                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> == <strong class="reserved">null</strong>? <strong class="reserved">null</strong> : <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>(<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>, <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L387" name="L387"></a> 387         <em class="brace">}</em>
<a id="L388" name="L388"></a> 388         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) <em class="brace">{</em>
<a id="L389" name="L389"></a> 389             newDecl = fSchemaHandler.fDVFactory.<a href="../D/14281.html" title="Multiple defined in 3 places.">createTypeList</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace, (<strong class="reserved">short</strong>)finalProperty, baseValidator,
<a id="L390" name="L390"></a> 390                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> == <strong class="reserved">null</strong>? <strong class="reserved">null</strong> : <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>(<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>, <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L391" name="L391"></a> 391         <em class="brace">}</em>
<a id="L392" name="L392"></a> 392         <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<strong class="reserved">union</strong>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>[] memberDecls = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>[]) dTValidators.<a href="../D/35348.html" title="Multiple defined in 117 places.">toArray</a>(<strong class="reserved">new</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>[dTValidators.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>()]);
<a id="L394" name="L394"></a> 394             newDecl = fSchemaHandler.fDVFactory.<a href="../D/14283.html" title="Multiple defined in 3 places.">createTypeUnion</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace, (<strong class="reserved">short</strong>)finalProperty, memberDecls,
<a id="L395" name="L395"></a> 395                     <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> == <strong class="reserved">null</strong>? <strong class="reserved">null</strong> : <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>(<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>, <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L396" name="L396"></a> 396         <em class="brace">}</em>
<a id="L397" name="L397"></a> 397         <em class="comment">// now traverse facets, if it's derived by restriction</em>
<a id="L398" name="L398"></a> 398         <strong class="reserved">if</strong> (restriction &amp;&amp; <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L399" name="L399"></a> 399             <a href="../S/5097.html#L264" title="Defined at 264 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">FacetInfo</a> fi = <a href="../S/5097.html#L279" title="Defined at 279 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDAbstractTraverser.java.">traverseFacets</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>, baseValidator, schemaDoc);
<a id="L400" name="L400"></a> 400             <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> = fi.nodeAfterFacets;
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L403" name="L403"></a> 403                 fValidationState.<a href="../S/5239.html#L80" title="Defined at 80 in src/com/sun/org/apache/xerces/internal/impl/validation/ValidationState.java.">setNamespaceSupport</a>(schemaDoc.fNamespaceSupport);
<a id="L404" name="L404"></a> 404                 newDecl.<a href="../D/11452.html" title="Multiple defined in 4 places.">applyFacets</a>(fi.facetdata, fi.fPresentFacets, fi.fFixedFacets, fValidationState);
<a id="L405" name="L405"></a> 405             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/5226.html#L32" title="Defined at 32 in src/com/sun/org/apache/xerces/internal/impl/dv/InvalidDatatypeFacetException.java.">InvalidDatatypeFacetException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L406" name="L406"></a> 406                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>(<a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>(), <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>.<a href="../D/17020.html" title="Multiple defined in 3 places.">getArgs</a>(), child);
<a id="L407" name="L407"></a> 407                 <em class="comment">// Recreate the type, ignoring the facets</em>
<a id="L408" name="L408"></a> 408                 newDecl = fSchemaHandler.fDVFactory.<a href="../D/14282.html" title="Multiple defined in 3 places.">createTypeRestriction</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, schemaDoc.fTargetNamespace, (<strong class="reserved">short</strong>)finalProperty, baseValidator,
<a id="L409" name="L409"></a> 409                         <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a> == <strong class="reserved">null</strong>? <strong class="reserved">null</strong> : <strong class="reserved">new</strong> <a href="../S/5058.html#L41" title="Defined at 41 in src/com/sun/org/apache/xerces/internal/impl/xs/util/XSObjectListImpl.java.">XSObjectListImpl</a>(<a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>, <a href="../D/11345.html" title="Multiple defined in 5 places.">annotations</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>));
<a id="L410" name="L410"></a> 410             <em class="brace">}</em>
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412         <em class="comment">// no element should appear after this point</em>
<a id="L413" name="L413"></a> 413         <strong class="reserved">if</strong> (<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L414" name="L414"></a> 414             <strong class="reserved">if</strong> (restriction) <em class="brace">{</em>
<a id="L415" name="L415"></a> 415                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_RESTRICTION, "(annotation?, (simpleType?, (minExclusive | minInclusive | maxExclusive | maxInclusive | totalDigits | fractionDigits | length | minLength | maxLength | enumeration | whiteSpace | pattern)*))", <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>)<em class="brace">}</em>, <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L416" name="L416"></a> 416             <em class="brace">}</em>
<a id="L417" name="L417"></a> 417             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>) <em class="brace">{</em>
<a id="L418" name="L418"></a> 418                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_LIST, "(annotation?, (simpleType?))", <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>)<em class="brace">}</em>, <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L419" name="L419"></a> 419             <em class="brace">}</em>
<a id="L420" name="L420"></a> 420             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<strong class="reserved">union</strong>) <em class="brace">{</em>
<a id="L421" name="L421"></a> 421                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("s4s-elt-must-match.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em><a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.ELT_UNION, "(annotation?, (simpleType*))", <a href="../S/5319.html#L47" title="Defined at 47 in src/com/sun/org/apache/xerces/internal/util/DOMUtil.java.">DOMUtil</a>.<a href="../D/20201.html" title="Multiple defined in 44 places.">getLocalName</a>(<a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>)<em class="brace">}</em>, <a href="../D/13364.html" title="Multiple defined in 2 places.">content</a>);
<a id="L422" name="L422"></a> 422             <em class="brace">}</em>
<a id="L423" name="L423"></a> 423         <em class="brace">}</em>
<a id="L424" name="L424"></a> 424         fAttrChecker.<a href="../S/5092.html#L1710" title="Defined at 1710 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSAttributeChecker.java.">returnAttrArray</a>(contentAttrs, schemaDoc);
<a id="L425" name="L425"></a> 425         <em class="comment">// return the new type</em>
<a id="L426" name="L426"></a> 426         <strong class="reserved">return</strong> newDecl;
<a id="L427" name="L427"></a> 427     <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<a id="L429" name="L429"></a> 429     <em class="comment">//@param: elm - top element</em>
<a id="L430" name="L430"></a> 430     <em class="comment">//@param: baseTypeStr - type (base/itemType/memberTypes)</em>
<a id="L431" name="L431"></a> 431     <em class="comment">//@param: baseRefContext:  whether the caller is using this type as a base for restriction, union or list</em>
<a id="L432" name="L432"></a> 432     <em class="comment">//return XSSimpleType available for the baseTypeStr, null if not found or disallowed.</em>
<a id="L433" name="L433"></a> 433     <em class="comment">// also throws an error if the base type won't allow itself to be used in this context.</em>
<a id="L434" name="L434"></a> 434     <em class="comment">// REVISIT: can this code be re-used?</em>
<a id="L435" name="L435"></a> 435     <strong class="reserved">private</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../R/14369.html" title="Multiple referred from 2 places.">findDTValidator</a>(<a href="../D/2794.html" title="Multiple defined in 8 places.">Element</a> elm, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> refName,
<a id="L436" name="L436"></a> 436             <a href="../D/6976.html" title="Multiple defined in 5 places.">QName</a> baseTypeStr, <strong class="reserved">short</strong> baseRefContext,
<a id="L437" name="L437"></a> 437             <a href="../S/5083.html#L48" title="Defined at 48 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDocumentInfo.java.">XSDocumentInfo</a> schemaDoc) <em class="brace">{</em>
<a id="L438" name="L438"></a> 438         <strong class="reserved">if</strong> (baseTypeStr == <strong class="reserved">null</strong>)
<a id="L439" name="L439"></a> 439             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L440" name="L440"></a> 440 
<a id="L441" name="L441"></a> 441         <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a> baseType = (<a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>)fSchemaHandler.<a href="../D/19320.html" title="Multiple defined in 2 places.">getGlobalDecl</a>(schemaDoc, <a href="../S/5082.html#L136" title="Defined at 136 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDHandler.java.">XSDHandler</a>.TYPEDECL_TYPE, baseTypeStr, elm);
<a id="L442" name="L442"></a> 442         <strong class="reserved">if</strong> (baseType == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L443" name="L443"></a> 443             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L444" name="L444"></a> 444         <em class="brace">}</em>
<a id="L445" name="L445"></a> 445         <strong class="reserved">if</strong> (baseType.<a href="../D/23317.html" title="Multiple defined in 4 places.">getTypeCategory</a>() != <a href="../S/5343.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSTypeDefinition.java.">XSTypeDefinition</a>.SIMPLE_TYPE) <em class="brace">{</em>
<a id="L446" name="L446"></a> 446             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("cos-st-restricts.1.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>baseTypeStr.rawname, refName<em class="brace">}</em>, elm);
<a id="L447" name="L447"></a> 447             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L448" name="L448"></a> 448         <em class="brace">}</em>
<a id="L449" name="L449"></a> 449 
<a id="L450" name="L450"></a> 450         <em class="comment">// if it's a complex type, or if its restriction of anySimpleType</em>
<a id="L451" name="L451"></a> 451         <strong class="reserved">if</strong> (baseType == <a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.fAnySimpleType &amp;&amp;
<a id="L452" name="L452"></a> 452             baseRefContext == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION) <em class="brace">{</em>
<a id="L453" name="L453"></a> 453             <em class="comment">// if the base type is anySimpleType and the current type is</em>
<a id="L454" name="L454"></a> 454             <em class="comment">// a S4S built-in type, return null. (not an error).</em>
<a id="L455" name="L455"></a> 455             <strong class="reserved">if</strong> (<a href="../S/5086.html#L480" title="Defined at 480 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">checkBuiltIn</a>(refName, schemaDoc.fTargetNamespace)) <em class="brace">{</em>
<a id="L456" name="L456"></a> 456                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L457" name="L457"></a> 457             <em class="brace">}</em>
<a id="L458" name="L458"></a> 458             <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("cos-st-restricts.1.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>baseTypeStr.rawname, refName<em class="brace">}</em>, elm);
<a id="L459" name="L459"></a> 459             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L460" name="L460"></a> 460         <em class="brace">}</em>
<a id="L461" name="L461"></a> 461 
<a id="L462" name="L462"></a> 462         <strong class="reserved">if</strong> ((baseType.<a href="../D/19077.html" title="Multiple defined in 4 places.">getFinal</a>() &amp; baseRefContext) != 0) <em class="brace">{</em>
<a id="L463" name="L463"></a> 463             <strong class="reserved">if</strong> (baseRefContext == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("st-props-correct.3", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>refName, baseTypeStr.rawname<em class="brace">}</em>, elm);
<a id="L465" name="L465"></a> 465             <em class="brace">}</em>
<a id="L466" name="L466"></a> 466             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (baseRefContext == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_LIST) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("cos-st-restricts.2.3.1.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>baseTypeStr.rawname, refName<em class="brace">}</em>, elm);
<a id="L468" name="L468"></a> 468             <em class="brace">}</em>
<a id="L469" name="L469"></a> 469             <strong class="reserved">else</strong> <strong class="reserved">if</strong> (baseRefContext == <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_UNION) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470                 <a href="../D/31098.html" title="Multiple defined in 6 places.">reportSchemaError</a>("cos-st-restricts.3.3.1.1", <strong class="reserved">new</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[]<em class="brace">{</em>baseTypeStr.rawname, refName<em class="brace">}</em>, elm);
<a id="L471" name="L471"></a> 471             <em class="brace">}</em>
<a id="L472" name="L472"></a> 472             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L473" name="L473"></a> 473         <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<a id="L475" name="L475"></a> 475         <strong class="reserved">return</strong> (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)baseType;
<a id="L476" name="L476"></a> 476     <em class="brace">}</em>
<a id="L477" name="L477"></a> 477 
<a id="L478" name="L478"></a> 478     <em class="comment">// check whethe the type denoted by the name and namespace is a S4S</em>
<a id="L479" name="L479"></a> 479     <em class="comment">// built-in type. update fIsBuiltIn at the same time.</em>
<a id="L480" name="L480"></a> 480     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> <a href="../S/5086.html#L455" title="Referred from 455 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">checkBuiltIn</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>) <em class="brace">{</em>
<a id="L481" name="L481"></a> 481         <strong class="reserved">if</strong> (<a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a> != <a href="../S/5043.html#L31" title="Defined at 31 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaSymbols.java.">SchemaSymbols</a>.URI_SCHEMAFORSCHEMA)
<a id="L482" name="L482"></a> 482             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L483" name="L483"></a> 483         <strong class="reserved">if</strong> (<a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.SG_SchemaNS.<a href="../D/19331.html" title="Multiple defined in 3 places.">getGlobalTypeDecl</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) != <strong class="reserved">null</strong>)
<a id="L484" name="L484"></a> 484             fIsBuiltIn = <strong class="reserved">true</strong>;
<a id="L485" name="L485"></a> 485         <strong class="reserved">return</strong> fIsBuiltIn;
<a id="L486" name="L486"></a> 486     <em class="brace">}</em>
<a id="L487" name="L487"></a> 487 
<a id="L488" name="L488"></a> 488     <em class="comment">// find if a datatype validator is a list or has list datatype member.</em>
<a id="L489" name="L489"></a> 489     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../S/5086.html#L376" title="Referred from 376 in src/com/sun/org/apache/xerces/internal/impl/xs/traversers/XSDSimpleTypeTraverser.java.">isListDatatype</a>(<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> validator) <em class="brace">{</em>
<a id="L490" name="L490"></a> 490         <strong class="reserved">if</strong> (validator.<a href="../D/23568.html" title="Multiple defined in 3 places.">getVariety</a>() == <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>.VARIETY_LIST)
<a id="L491" name="L491"></a> 491             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L492" name="L492"></a> 492 
<a id="L493" name="L493"></a> 493         <strong class="reserved">if</strong> (validator.<a href="../D/23568.html" title="Multiple defined in 3 places.">getVariety</a>() == <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>.VARIETY_UNION) <em class="brace">{</em>
<a id="L494" name="L494"></a> 494             <a href="../S/5373.html#L30" title="Defined at 30 in src/com/sun/org/apache/xerces/internal/xs/XSObjectList.java.">XSObjectList</a> temp = validator.<a href="../D/20529.html" title="Multiple defined in 3 places.">getMemberTypes</a>();
<a id="L495" name="L495"></a> 495             <strong class="reserved">for</strong> (<strong class="reserved">int</strong> i = 0; i &lt; temp.<a href="../D/20075.html" title="Multiple defined in 116 places.">getLength</a>(); i++) <em class="brace">{</em>
<a id="L496" name="L496"></a> 496                 <strong class="reserved">if</strong> (((<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)temp.<a href="../D/26564.html" title="Multiple defined in 60 places.">item</a>(i)).<a href="../D/23568.html" title="Multiple defined in 3 places.">getVariety</a>() == <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>.VARIETY_LIST) <em class="brace">{</em>
<a id="L497" name="L497"></a> 497                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L498" name="L498"></a> 498                 <em class="brace">}</em>
<a id="L499" name="L499"></a> 499             <em class="brace">}</em>
<a id="L500" name="L500"></a> 500         <em class="brace">}</em>
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L503" name="L503"></a> 503     <em class="brace">}</em><em class="comment">//isListDatatype(XSSimpleTypeDecl):boolean</em>
<a id="L504" name="L504"></a> 504 
<a id="L505" name="L505"></a> 505     <strong class="reserved">private</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> <a href="../R/14022.html" title="Multiple referred from 11 places.">errorType</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>, <strong class="reserved">short</strong> refType) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506         <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a> stringType = (<a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>)<a href="../S/5045.html#L81" title="Defined at 81 in src/com/sun/org/apache/xerces/internal/impl/xs/SchemaGrammar.java.">SchemaGrammar</a>.SG_SchemaNS.<a href="../D/23323.html" title="Multiple defined in 14 places.">getTypeDefinition</a>("string");
<a id="L507" name="L507"></a> 507         <strong class="reserved">switch</strong> (refType) <em class="brace">{</em>
<a id="L508" name="L508"></a> 508         <strong class="reserved">case</strong> <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_RESTRICTION:
<a id="L509" name="L509"></a> 509             <strong class="reserved">return</strong> fSchemaHandler.fDVFactory.<a href="../D/14282.html" title="Multiple defined in 3 places.">createTypeRestriction</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>, (<strong class="reserved">short</strong>)0,
<a id="L510" name="L510"></a> 510                     stringType, <strong class="reserved">null</strong>);
<a id="L511" name="L511"></a> 511         <strong class="reserved">case</strong> <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_LIST:
<a id="L512" name="L512"></a> 512             <strong class="reserved">return</strong> fSchemaHandler.fDVFactory.<a href="../D/14281.html" title="Multiple defined in 3 places.">createTypeList</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>, (<strong class="reserved">short</strong>)0,
<a id="L513" name="L513"></a> 513                     stringType, <strong class="reserved">null</strong>);
<a id="L514" name="L514"></a> 514         <strong class="reserved">case</strong> <a href="../S/5346.html#L26" title="Defined at 26 in src/com/sun/org/apache/xerces/internal/xs/XSConstants.java.">XSConstants</a>.DERIVATION_UNION:
<a id="L515" name="L515"></a> 515             <strong class="reserved">return</strong> fSchemaHandler.fDVFactory.<a href="../D/14283.html" title="Multiple defined in 3 places.">createTypeUnion</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/27870.html" title="Multiple defined in 10 places.">namespace</a>, (<strong class="reserved">short</strong>)0,
<a id="L516" name="L516"></a> 516                     <strong class="reserved">new</strong> <a href="../S/5227.html#L37" title="Defined at 37 in src/com/sun/org/apache/xerces/internal/impl/dv/XSSimpleType.java.">XSSimpleType</a>[]<em class="brace">{</em>stringType<em class="brace">}</em>, <strong class="reserved">null</strong>);
<a id="L517" name="L517"></a> 517         <em class="brace">}</em>
<a id="L518" name="L518"></a> 518 
<a id="L519" name="L519"></a> 519         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L520" name="L520"></a> 520     <em class="brace">}</em>
<a id="L521" name="L521"></a> 521 
<a id="L522" name="L522"></a> 522 <em class="brace">}</em><em class="comment">//class XSDSimpleTypeTraverser</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L94">[^]</a><a href="#L505">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>