<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/security/cert/X509CRLSelector.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L121">[^]</a><a href="#L703">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L121" title="Defined at 121.">setIssuers</a></li>
<li><a href="#L197" title="Defined at 197.">setIssuerNames</a></li>
<li><a href="#L222" title="Defined at 222.">addIssuer</a></li>
<li><a href="#L246" title="Defined at 246.">addIssuerName</a></li>
<li><a href="#L274" title="Defined at 274.">addIssuerName</a></li>
<li><a href="#L289" title="Defined at 289.">addIssuerNameInternal</a></li>
<li><a href="#L311" title="Defined at 311.">cloneAndCheckIssuerNames</a></li>
<li><a href="#L344" title="Defined at 344.">cloneIssuerNames</a></li>
<li><a href="#L364" title="Defined at 364.">parseIssuerNames</a></li>
<li><a href="#L390" title="Defined at 390.">setMinCRLNumber</a></li>
<li><a href="#L402" title="Defined at 402.">setMaxCRLNumber</a></li>
<li><a href="#L421" title="Defined at 421.">setDateAndTime</a></li>
<li><a href="#L433" title="Defined at 433.">setDateAndTime</a></li>
<li><a href="#L450" title="Defined at 450.">setCertificateChecking</a></li>
<li><a href="#L468" title="Defined at 468.">getIssuers</a></li>
<li><a href="#L498" title="Defined at 498.">getIssuerNames</a></li>
<li><a href="#L512" title="Defined at 512.">getMinCRL</a></li>
<li><a href="#L524" title="Defined at 524.">getMaxCRL</a></li>
<li><a href="#L542" title="Defined at 542.">getDateAndTime</a></li>
<li><a href="#L558" title="Defined at 558.">getCertificateChecking</a></li>
<li><a href="#L568" title="Defined at 568.">toString</a></li>
<li><a href="#L596" title="Defined at 596.">match</a></li>
<li><a href="#L703" title="Defined at 703.">clone</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.cert;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.IOException;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.math.BigInteger;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.util.*;
<a id="L31" name="L31"></a>  31 
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> javax.security.auth.x500.X500Principal;
<a id="L33" name="L33"></a>  33 
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> sun.security.util.Debug;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> sun.security.util.DerInputStream;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> sun.security.x509.CRLNumberExtension;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> sun.security.x509.X500Name;
<a id="L38" name="L38"></a>  38 
<div class="comment">
  A <code>CRLSelector</code> that selects <code>X509CRLs</code> that
  match all specified criteria. This class is particularly useful when
  selecting CRLs from a <code>CertStore</code> to check revocation status
  of a particular certificate.
  <p>
  When first constructed, an <code>X509CRLSelector</code> has no criteria
  enabled and each of the <code>get</code> methods return a default
  value (<code>null</code>). Therefore, the <a href="#L596" title="Defined at 596.">match</a> method
  would return <code>true</code> for any <code>X509CRL</code>. Typically,
  several criteria are enabled (by calling <a href="#L121" title="Defined at 121.">setIssuers</a>
  or <a href="#L421" title="Defined at 421.">setDateAndTime</a>, for instance) and then the
  <code>X509CRLSelector</code> is passed to
  {@link CertStore#getCRLs CertStore.getCRLs} or some similar
  method.
  </p><p>
  Please refer to <a href="http://www.ietf.org/rfc/rfc3280.txt">RFC 3280:
  Internet X.509 Public Key Infrastructure Certificate and CRL Profile</a>
  for definitions of the X.509 CRL fields and extensions mentioned below.
  </p><p>
  <b>Concurrent Access</b>
  </p><p>
  Unless otherwise specified, the methods defined in this class are not
  thread-safe. Multiple threads that need to access a single
  object concurrently should synchronize amongst themselves and
  provide the necessary locking. Multiple threads each manipulating
  separate objects need not synchronize.
  @see CRLSelector
  @see X509CRL
  @since       1.4
  @author      Steve Hanna</p></div>
<a id="L73" name="L73"></a>  73 <strong class="reserved">public</strong> <strong class="reserved">class</strong> <a href="../R/8909.html" title="Multiple referred from 2 places.">X509CRLSelector</a> <strong class="reserved">implements</strong> <a href="../S/1291.html#L48" title="Defined at 48 in src/java/security/cert/CRLSelector.java.">CRLSelector</a> <em class="brace">{</em>
<a id="L74" name="L74"></a>  74 
<a id="L75" name="L75"></a>  75     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L76" name="L76"></a>  76         <a href="../S/1295.html#L40" title="Defined at 40 in src/java/security/cert/CertPathHelperImpl.java.">CertPathHelperImpl</a>.<a href="../D/24646.html" title="Multiple defined in 91 places.">initialize</a>();
<a id="L77" name="L77"></a>  77     <em class="brace">}</em>
<a id="L78" name="L78"></a>  78 
<a id="L79" name="L79"></a>  79     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a> <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> = <a href="../D/2238.html" title="Multiple defined in 2 places.">Debug</a>.<a href="../D/19762.html" title="Multiple defined in 157 places.">getInstance</a>("certpath");
<a id="L80" name="L80"></a>  80     <strong class="reserved">private</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; issuerNames;
<a id="L81" name="L81"></a>  81     <strong class="reserved">private</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt; issuerX500Principals;
<a id="L82" name="L82"></a>  82     <strong class="reserved">private</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> minCRL;
<a id="L83" name="L83"></a>  83     <strong class="reserved">private</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> maxCRL;
<a id="L84" name="L84"></a>  84     <strong class="reserved">private</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> dateAndTime;
<a id="L85" name="L85"></a>  85     <strong class="reserved">private</strong> <a href="../D/9813.html" title="Multiple defined in 2 places.">X509Certificate</a> certChecking;
<a id="L86" name="L86"></a>  86     <strong class="reserved">private</strong> <strong class="reserved">long</strong> skew = 0;
<a id="L87" name="L87"></a>  87 
<div class="comment">
      Creates an <code>X509CRLSelector</code>. Initially, no criteria are set
      so any <code>X509CRL</code> will match.</div>
<a id="L92" name="L92"></a>  92     <strong class="reserved">public</strong> X509CRLSelector() <em class="brace">{</em><em class="brace">}</em>
<a id="L93" name="L93"></a>  93 
<div class="comment">
      Sets the issuerNames criterion. The issuer distinguished name in the
      <code>X509CRL</code> must match at least one of the specified
      distinguished names. If <code>null</code>, any issuer distinguished name
      will do.
      <p>
      This method allows the caller to specify, with a single method call,
      the complete set of issuer names which <code>X509CRLs</code> may contain.
      The specified value replaces the previous value for the issuerNames
      criterion.
      </p><p>
      The <code>names</code> parameter (if not <code>null</code>) is a
      <code>Collection</code> of <code>X500Principal</code>s.
      </p><p>
      Note that the <code>names</code> parameter can contain duplicate
      distinguished names, but they may be removed from the
      <code>Collection</code> of names returned by the
      <a href="#L468" title="Defined at 468.">getIssuers</a> method.
      </p><p>
      Note that a copy is performed on the <code>Collection</code> to
      protect against subsequent modifications.
      @param issuers a <code>Collection</code> of X500Principals
        (or <code>null</code>)
      @see #getIssuers
      @since 1.5</p></div>
<a id="L121" name="L121"></a> 121     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setIssuers(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt; issuers) <em class="brace">{</em>
<a id="L122" name="L122"></a> 122         <strong class="reserved">if</strong> ((issuers == <strong class="reserved">null</strong>) || issuers.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L123" name="L123"></a> 123             issuerNames = <strong class="reserved">null</strong>;
<a id="L124" name="L124"></a> 124             issuerX500Principals = <strong class="reserved">null</strong>;
<a id="L125" name="L125"></a> 125         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L126" name="L126"></a> 126             <em class="comment">// clone</em>
<a id="L127" name="L127"></a> 127             issuerX500Principals = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt;(issuers);
<a id="L128" name="L128"></a> 128             issuerNames = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L129" name="L129"></a> 129             <strong class="reserved">for</strong> (<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a> p : issuerX500Principals) <em class="brace">{</em>
<a id="L130" name="L130"></a> 130                 issuerNames.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(p.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>());
<a id="L131" name="L131"></a> 131             <em class="brace">}</em>
<a id="L132" name="L132"></a> 132         <em class="brace">}</em>
<a id="L133" name="L133"></a> 133     <em class="brace">}</em>
<a id="L134" name="L134"></a> 134 
<div class="comment">
      <strong>Note:</strong> use {@linkplain #setIssuers(Collection)} instead
      or only specify the byte array form of distinguished names when using
      this method. See {@link #addIssuerName(String)} for more information.
      <p>
      Sets the issuerNames criterion. The issuer distinguished name in the
      <code>X509CRL</code> must match at least one of the specified
      distinguished names. If <code>null</code>, any issuer distinguished name
      will do.
      </p><p>
      This method allows the caller to specify, with a single method call,
      the complete set of issuer names which <code>X509CRLs</code> may contain.
      The specified value replaces the previous value for the issuerNames
      criterion.
      </p><p>
      The <code>names</code> parameter (if not <code>null</code>) is a
      <code>Collection</code> of names. Each name is a <code>String</code>
      or a byte array representing a distinguished name (in
      <a href="http://www.ietf.org/rfc/rfc2253.txt">RFC 2253</a> or
      ASN.1 DER encoded form, respectively). If <code>null</code> is supplied
      as the value for this argument, no issuerNames check will be performed.
      </p><p>
      Note that the <code>names</code> parameter can contain duplicate
      distinguished names, but they may be removed from the
      <code>Collection</code> of names returned by the
      <a href="#L498" title="Defined at 498.">getIssuerNames</a> method.
      </p><p>
      If a name is specified as a byte array, it should contain a single DER
      encoded distinguished name, as defined in X.501. The ASN.1 notation for
      this structure is as follows.
      </p><pre>{@code
      Name ::= CHOICE {
        RDNSequence }
      RDNSequence ::= SEQUENCE OF RelativeDistinguishedName
      RelativeDistinguishedName ::=
        SET SIZE (1 .. MAX) OF AttributeTypeAndValue
      AttributeTypeAndValue ::= SEQUENCE {
        type     AttributeType,
        value    AttributeValue }
      AttributeType ::= OBJECT IDENTIFIER
      AttributeValue ::= ANY DEFINED BY AttributeType
      ....
      DirectoryString ::= CHOICE {
            teletexString           TeletexString (SIZE (1..MAX)),
            printableString         PrintableString (SIZE (1..MAX)),
            universalString         UniversalString (SIZE (1..MAX)),
            utf8String              UTF8String (SIZE (1.. MAX)),
            bmpString               BMPString (SIZE (1..MAX)) }
      }</pre>
      <p>
      Note that a deep copy is performed on the <code>Collection</code> to
      protect against subsequent modifications.
      @param names a <code>Collection</code> of names (or <code>null</code>)
      @throws IOException if a parsing error occurs
      @see #getIssuerNames</p></div>
<a id="L197" name="L197"></a> 197     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setIssuerNames(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;?&gt; names) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L198" name="L198"></a> 198         <strong class="reserved">if</strong> (names == <strong class="reserved">null</strong> || names.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() == 0) <em class="brace">{</em>
<a id="L199" name="L199"></a> 199             issuerNames = <strong class="reserved">null</strong>;
<a id="L200" name="L200"></a> 200             issuerX500Principals = <strong class="reserved">null</strong>;
<a id="L201" name="L201"></a> 201         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L202" name="L202"></a> 202             <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; tempNames = <a href="../S/1287.html#L311" title="Defined at 311 in src/java/security/cert/X509CRLSelector.java.">cloneAndCheckIssuerNames</a>(names);
<a id="L203" name="L203"></a> 203             <em class="comment">// Ensure that we either set both of these or neither</em>
<a id="L204" name="L204"></a> 204             issuerX500Principals = <a href="../S/1287.html#L364" title="Defined at 364 in src/java/security/cert/X509CRLSelector.java.">parseIssuerNames</a>(tempNames);
<a id="L205" name="L205"></a> 205             issuerNames = tempNames;
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207     <em class="brace">}</em>
<a id="L208" name="L208"></a> 208 
<div class="comment">
      Adds a name to the issuerNames criterion. The issuer distinguished
      name in the <code>X509CRL</code> must match at least one of the specified
      distinguished names.
      <p>
      This method allows the caller to add a name to the set of issuer names
      which <code>X509CRLs</code> may contain. The specified name is added to
      any previous value for the issuerNames criterion.
      If the specified name is a duplicate, it may be ignored.
      @param issuer the issuer as X500Principal
      @since 1.5</p></div>
<a id="L222" name="L222"></a> 222     <strong class="reserved">public</strong> <strong class="reserved">void</strong> addIssuer(<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a> issuer) <em class="brace">{</em>
<a id="L223" name="L223"></a> 223         <a href="../S/1287.html#L289" title="Defined at 289 in src/java/security/cert/X509CRLSelector.java.">addIssuerNameInternal</a>(issuer.<a href="../D/18742.html" title="Multiple defined in 18 places.">getEncoded</a>(), issuer);
<a id="L224" name="L224"></a> 224     <em class="brace">}</em>
<a id="L225" name="L225"></a> 225 
<div class="comment">
      <strong>Denigrated</strong>, use
      {@linkplain #addIssuer(X500Principal)} or
      {@linkplain #addIssuerName(byte[])} instead. This method should not be
      relied on as it can fail to match some CRLs because of a loss of
      encoding information in the RFC 2253 String form of some distinguished
      names.
      <p>
      Adds a name to the issuerNames criterion. The issuer distinguished
      name in the <code>X509CRL</code> must match at least one of the specified
      distinguished names.
      </p><p>
      This method allows the caller to add a name to the set of issuer names
      which <code>X509CRLs</code> may contain. The specified name is added to
      any previous value for the issuerNames criterion.
      If the specified name is a duplicate, it may be ignored.
      @param name the name in RFC 2253 form
      @throws IOException if a parsing error occurs</p></div>
<a id="L246" name="L246"></a> 246     <strong class="reserved">public</strong> <strong class="reserved">void</strong> addIssuerName(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L247" name="L247"></a> 247         <a href="../S/1287.html#L289" title="Defined at 289 in src/java/security/cert/X509CRLSelector.java.">addIssuerNameInternal</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">new</strong> X500Name(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>).asX500Principal());
<a id="L248" name="L248"></a> 248     <em class="brace">}</em>
<a id="L249" name="L249"></a> 249 
<div class="comment">
      Adds a name to the issuerNames criterion. The issuer distinguished
      name in the <code>X509CRL</code> must match at least one of the specified
      distinguished names.
      <p>
      This method allows the caller to add a name to the set of issuer names
      which <code>X509CRLs</code> may contain. The specified name is added to
      any previous value for the issuerNames criterion. If the specified name
      is a duplicate, it may be ignored.
      If a name is specified as a byte array, it should contain a single DER
      encoded distinguished name, as defined in X.501. The ASN.1 notation for
      this structure is as follows.
      </p><p>
      The name is provided as a byte array. This byte array should contain
      a single DER encoded distinguished name, as defined in X.501. The ASN.1
      notation for this structure appears in the documentation for
      <a href="#L197" title="Defined at 197.">setIssuerNames</a>.
      </p><p>
      Note that the byte array supplied here is cloned to protect against
      subsequent modifications.
      @param name a byte array containing the name in ASN.1 DER encoded form
      @throws IOException if a parsing error occurs</p></div>
<a id="L274" name="L274"></a> 274     <strong class="reserved">public</strong> <strong class="reserved">void</strong> addIssuerName(<strong class="reserved">byte</strong>[] <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L275" name="L275"></a> 275         <em class="comment">// clone because byte arrays are modifiable</em>
<a id="L276" name="L276"></a> 276         <a href="../S/1287.html#L289" title="Defined at 289 in src/java/security/cert/X509CRLSelector.java.">addIssuerNameInternal</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>(), <strong class="reserved">new</strong> X500Name(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>).asX500Principal());
<a id="L277" name="L277"></a> 277     <em class="brace">}</em>
<a id="L278" name="L278"></a> 278 
<div class="comment">
      A private method that adds a name (String or byte array) to the
      issuerNames criterion. The issuer distinguished
      name in the <code>X509CRL</code> must match at least one of the specified
      distinguished names.
      @param name the name in string or byte array form
      @param principal the name in X500Principal form
      @throws IOException if a parsing error occurs</div>
<a id="L289" name="L289"></a> 289     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/9808.html" title="Multiple referred from 3 places.">addIssuerNameInternal</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a> <a href="../S/1894.html#L297" title="Defined at 297 in src/java/nio/file/attribute/AclEntry.java.">principal</a>) <em class="brace">{</em>
<a id="L290" name="L290"></a> 290         <strong class="reserved">if</strong> (issuerNames == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291             issuerNames = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L292" name="L292"></a> 292         <em class="brace">}</em>
<a id="L293" name="L293"></a> 293         <strong class="reserved">if</strong> (issuerX500Principals == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L294" name="L294"></a> 294             issuerX500Principals = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt;();
<a id="L295" name="L295"></a> 295         <em class="brace">}</em>
<a id="L296" name="L296"></a> 296         issuerNames.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L297" name="L297"></a> 297         issuerX500Principals.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/1894.html#L297" title="Defined at 297 in src/java/nio/file/attribute/AclEntry.java.">principal</a>);
<a id="L298" name="L298"></a> 298     <em class="brace">}</em>
<a id="L299" name="L299"></a> 299 
<div class="comment">
      Clone and check an argument of the form passed to
      setIssuerNames. Throw an IOException if the argument is malformed.
      @param names a <code>Collection</code> of names. Each entry is a
                   String or a byte array (the name, in string or ASN.1
                   DER encoded form, respectively). <code>null</code> is
                   not an acceptable value.
      @return a deep copy of the specified <code>Collection</code>
      @throws IOException if a parsing error occurs</div>
<a id="L311" name="L311"></a> 311     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../R/11556.html" title="Multiple referred from 2 places.">cloneAndCheckIssuerNames</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;?&gt; names)
<a id="L312" name="L312"></a> 312         <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L313" name="L313"></a> 313     <em class="brace">{</em>
<a id="L314" name="L314"></a> 314         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; namesCopy = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;();
<a id="L315" name="L315"></a> 315         <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;?&gt; i = names.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L316" name="L316"></a> 316         <strong class="reserved">while</strong> (i.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L317" name="L317"></a> 317             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> nameObject = i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L318" name="L318"></a> 318             <strong class="reserved">if</strong> (!(nameObject <strong class="reserved">instanceof</strong> <strong class="reserved">byte</strong> []) &amp;&amp;
<a id="L319" name="L319"></a> 319                 !(nameObject <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>))
<a id="L320" name="L320"></a> 320                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>("name not byte array or String");
<a id="L321" name="L321"></a> 321             <strong class="reserved">if</strong> (nameObject <strong class="reserved">instanceof</strong> <strong class="reserved">byte</strong> [])
<a id="L322" name="L322"></a> 322                 namesCopy.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(((<strong class="reserved">byte</strong> []) nameObject).<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>());
<a id="L323" name="L323"></a> 323             <strong class="reserved">else</strong>
<a id="L324" name="L324"></a> 324                 namesCopy.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(nameObject);
<a id="L325" name="L325"></a> 325         <em class="brace">}</em>
<a id="L326" name="L326"></a> 326         <strong class="reserved">return</strong>(namesCopy);
<a id="L327" name="L327"></a> 327     <em class="brace">}</em>
<a id="L328" name="L328"></a> 328 
<div class="comment">
      Clone an argument of the form passed to setIssuerNames.
      Throw a RuntimeException if the argument is malformed.
      <p>
      This method wraps cloneAndCheckIssuerNames, changing any IOException
      into a RuntimeException. This method should be used when the object being
      cloned has already been checked, so there should never be any exceptions.
      @param names a <code>Collection</code> of names. Each entry is a
                   String or a byte array (the name, in string or ASN.1
                   DER encoded form, respectively). <code>null</code> is
                   not an acceptable value.
      @return a deep copy of the specified <code>Collection</code>
      @throws RuntimeException if a parsing error occurs</p></div>
<a id="L344" name="L344"></a> 344     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../S/1287.html#L502" title="Referred from 502 in src/java/security/cert/X509CRLSelector.java.">cloneIssuerNames</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; names) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <strong class="reserved">return</strong> <a href="../S/1287.html#L311" title="Defined at 311 in src/java/security/cert/X509CRLSelector.java.">cloneAndCheckIssuerNames</a>(names);
<a id="L347" name="L347"></a> 347         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> ioe) <em class="brace">{</em>
<a id="L348" name="L348"></a> 348             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1723.html#L43" title="Defined at 43 in src/java/lang/RuntimeException.java.">RuntimeException</a>(ioe);
<a id="L349" name="L349"></a> 349         <em class="brace">}</em>
<a id="L350" name="L350"></a> 350     <em class="brace">}</em>
<a id="L351" name="L351"></a> 351 
<div class="comment">
      Parse an argument of the form passed to setIssuerNames,
      returning a Collection of issuerX500Principals.
      Throw an IOException if the argument is malformed.
      @param names a <code>Collection</code> of names. Each entry is a
                   String or a byte array (the name, in string or ASN.1
                   DER encoded form, respectively). <code>Null</code> is
                   not an acceptable value.
      @return a HashSet of issuerX500Principals
      @throws IOException if a parsing error occurs</div>
<a id="L364" name="L364"></a> 364     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt; <a href="../S/1287.html#L204" title="Referred from 204 in src/java/security/cert/X509CRLSelector.java.">parseIssuerNames</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; names)
<a id="L365" name="L365"></a> 365     <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L366" name="L366"></a> 366         <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt; x500Principals = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt;();
<a id="L367" name="L367"></a> 367         <strong class="reserved">for</strong> (<a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; t = names.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>(); t.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>(); ) <em class="brace">{</em>
<a id="L368" name="L368"></a> 368             <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> nameObject = t.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L369" name="L369"></a> 369             <strong class="reserved">if</strong> (nameObject <strong class="reserved">instanceof</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>) <em class="brace">{</em>
<a id="L370" name="L370"></a> 370                 x500Principals.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">new</strong> X500Name((<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a>)nameObject).asX500Principal());
<a id="L371" name="L371"></a> 371             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L372" name="L372"></a> 372                 <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L373" name="L373"></a> 373                     x500Principals.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<strong class="reserved">new</strong> <a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>((<strong class="reserved">byte</strong>[])nameObject));
<a id="L374" name="L374"></a> 374                 <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a> e) <em class="brace">{</em>
<a id="L375" name="L375"></a> 375                     <strong class="reserved">throw</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>)<strong class="reserved">new</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>("Invalid name").<a href="../D/24507.html" title="Multiple defined in 7 places.">initCause</a>(e);
<a id="L376" name="L376"></a> 376                 <em class="brace">}</em>
<a id="L377" name="L377"></a> 377             <em class="brace">}</em>
<a id="L378" name="L378"></a> 378         <em class="brace">}</em>
<a id="L379" name="L379"></a> 379         <strong class="reserved">return</strong> x500Principals;
<a id="L380" name="L380"></a> 380     <em class="brace">}</em>
<a id="L381" name="L381"></a> 381 
<div class="comment">
      Sets the minCRLNumber criterion. The <code>X509CRL</code> must have a
      CRL number extension whose value is greater than or equal to the
      specified value. If <code>null</code>, no minCRLNumber check will be
      done.
      @param minCRL the minimum CRL number accepted (or <code>null</code>)</div>
<a id="L390" name="L390"></a> 390     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setMinCRLNumber(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> minCRL) <em class="brace">{</em>
<a id="L391" name="L391"></a> 391         <strong class="reserved">this</strong>.minCRL = minCRL;
<a id="L392" name="L392"></a> 392     <em class="brace">}</em>
<a id="L393" name="L393"></a> 393 
<div class="comment">
      Sets the maxCRLNumber criterion. The <code>X509CRL</code> must have a
      CRL number extension whose value is less than or equal to the
      specified value. If <code>null</code>, no maxCRLNumber check will be
      done.
      @param maxCRL the maximum CRL number accepted (or <code>null</code>)</div>
<a id="L402" name="L402"></a> 402     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setMaxCRLNumber(<a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> maxCRL) <em class="brace">{</em>
<a id="L403" name="L403"></a> 403         <strong class="reserved">this</strong>.maxCRL = maxCRL;
<a id="L404" name="L404"></a> 404     <em class="brace">}</em>
<a id="L405" name="L405"></a> 405 
<div class="comment">
      Sets the dateAndTime criterion. The specified date must be
      equal to or later than the value of the thisUpdate component
      of the <code>X509CRL</code> and earlier than the value of the
      nextUpdate component. There is no match if the <code>X509CRL</code>
      does not contain a nextUpdate component.
      If <code>null</code>, no dateAndTime check will be done.
      <p>
      Note that the <code>Date</code> supplied here is cloned to protect
      against subsequent modifications.
      @param dateAndTime the <code>Date</code> to match against
                         (or <code>null</code>)
      @see #getDateAndTime</p></div>
<a id="L421" name="L421"></a> 421     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../S/1295.html#L64" title="Referred from 64 in src/java/security/cert/CertPathHelperImpl.java.">setDateAndTime</a>(<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> dateAndTime) <em class="brace">{</em>
<a id="L422" name="L422"></a> 422         <strong class="reserved">if</strong> (dateAndTime == <strong class="reserved">null</strong>)
<a id="L423" name="L423"></a> 423             <strong class="reserved">this</strong>.dateAndTime = <strong class="reserved">null</strong>;
<a id="L424" name="L424"></a> 424         <strong class="reserved">else</strong>
<a id="L425" name="L425"></a> 425             <strong class="reserved">this</strong>.dateAndTime = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(dateAndTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>());
<a id="L426" name="L426"></a> 426         <strong class="reserved">this</strong>.skew = 0;
<a id="L427" name="L427"></a> 427     <em class="brace">}</em>
<a id="L428" name="L428"></a> 428 
<div class="comment">
      Sets the dateAndTime criterion and allows for the specified clock skew
      (in milliseconds) when checking against the validity period of the CRL.</div>
<a id="L433" name="L433"></a> 433     <strong class="reserved">void</strong> <a href="../S/1295.html#L64" title="Referred from 64 in src/java/security/cert/CertPathHelperImpl.java.">setDateAndTime</a>(<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> dateAndTime, <strong class="reserved">long</strong> skew) <em class="brace">{</em>
<a id="L434" name="L434"></a> 434         <strong class="reserved">this</strong>.dateAndTime =
<a id="L435" name="L435"></a> 435             (dateAndTime == <strong class="reserved">null</strong> ? <strong class="reserved">null</strong> : <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(dateAndTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>()));
<a id="L436" name="L436"></a> 436         <strong class="reserved">this</strong>.skew = skew;
<a id="L437" name="L437"></a> 437     <em class="brace">}</em>
<a id="L438" name="L438"></a> 438 
<div class="comment">
      Sets the certificate being checked. This is not a criterion. Rather,
      it is optional information that may help a <code>CertStore</code>
      find CRLs that would be relevant when checking revocation for the
      specified certificate. If <code>null</code> is specified, then no
      such optional information is provided.
      @param cert the <code>X509Certificate</code> being checked
                  (or <code>null</code>)
      @see #getCertificateChecking</div>
<a id="L450" name="L450"></a> 450     <strong class="reserved">public</strong> <strong class="reserved">void</strong> setCertificateChecking(<a href="../D/9813.html" title="Multiple defined in 2 places.">X509Certificate</a> cert) <em class="brace">{</em>
<a id="L451" name="L451"></a> 451         certChecking = cert;
<a id="L452" name="L452"></a> 452     <em class="brace">}</em>
<a id="L453" name="L453"></a> 453 
<div class="comment">
      Returns the issuerNames criterion. The issuer distinguished
      name in the <code>X509CRL</code> must match at least one of the specified
      distinguished names. If the value returned is <code>null</code>, any
      issuer distinguished name will do.
      <p>
      If the value returned is not <code>null</code>, it is a
      unmodifiable <code>Collection</code> of <code>X500Principal</code>s.
      @return an unmodifiable <code>Collection</code> of names
        (or <code>null</code>)
      @see #setIssuers
      @since 1.5</p></div>
<a id="L468" name="L468"></a> 468     <strong class="reserved">public</strong> <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt; getIssuers() <em class="brace">{</em>
<a id="L469" name="L469"></a> 469         <strong class="reserved">if</strong> (issuerX500Principals == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L470" name="L470"></a> 470             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L471" name="L471"></a> 471         <em class="brace">}</em>
<a id="L472" name="L472"></a> 472         <strong class="reserved">return</strong> <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../S/1147.html#L1012" title="Defined at 1012 in src/java/util/Collections.java.">unmodifiableCollection</a>(issuerX500Principals);
<a id="L473" name="L473"></a> 473     <em class="brace">}</em>
<a id="L474" name="L474"></a> 474 
<div class="comment">
      Returns a copy of the issuerNames criterion. The issuer distinguished
      name in the <code>X509CRL</code> must match at least one of the specified
      distinguished names. If the value returned is <code>null</code>, any
      issuer distinguished name will do.
      <p>
      If the value returned is not <code>null</code>, it is a
      <code>Collection</code> of names. Each name is a <code>String</code>
      or a byte array representing a distinguished name (in RFC 2253 or
      ASN.1 DER encoded form, respectively).  Note that the
      <code>Collection</code> returned may contain duplicate names.
      </p><p>
      If a name is specified as a byte array, it should contain a single DER
      encoded distinguished name, as defined in X.501. The ASN.1 notation for
      this structure is given in the documentation for
      <a href="#L197" title="Defined at 197.">setIssuerNames</a>.
      </p><p>
      Note that a deep copy is performed on the <code>Collection</code> to
      protect against subsequent modifications.
      @return a <code>Collection</code> of names (or <code>null</code>)
      @see #setIssuerNames</p></div>
<a id="L498" name="L498"></a> 498     <strong class="reserved">public</strong> <a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; getIssuerNames() <em class="brace">{</em>
<a id="L499" name="L499"></a> 499         <strong class="reserved">if</strong> (issuerNames == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L500" name="L500"></a> 500             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L501" name="L501"></a> 501         <em class="brace">}</em>
<a id="L502" name="L502"></a> 502         <strong class="reserved">return</strong> <a href="../S/1287.html#L344" title="Defined at 344 in src/java/security/cert/X509CRLSelector.java.">cloneIssuerNames</a>(issuerNames);
<a id="L503" name="L503"></a> 503     <em class="brace">}</em>
<a id="L504" name="L504"></a> 504 
<div class="comment">
      Returns the minCRLNumber criterion. The <code>X509CRL</code> must have a
      CRL number extension whose value is greater than or equal to the
      specified value. If <code>null</code>, no minCRLNumber check will be done.
      @return the minimum CRL number accepted (or <code>null</code>)</div>
<a id="L512" name="L512"></a> 512     <strong class="reserved">public</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> getMinCRL() <em class="brace">{</em>
<a id="L513" name="L513"></a> 513         <strong class="reserved">return</strong> minCRL;
<a id="L514" name="L514"></a> 514     <em class="brace">}</em>
<a id="L515" name="L515"></a> 515 
<div class="comment">
      Returns the maxCRLNumber criterion. The <code>X509CRL</code> must have a
      CRL number extension whose value is less than or equal to the
      specified value. If <code>null</code>, no maxCRLNumber check will be
      done.
      @return the maximum CRL number accepted (or <code>null</code>)</div>
<a id="L524" name="L524"></a> 524     <strong class="reserved">public</strong> <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> getMaxCRL() <em class="brace">{</em>
<a id="L525" name="L525"></a> 525         <strong class="reserved">return</strong> maxCRL;
<a id="L526" name="L526"></a> 526     <em class="brace">}</em>
<a id="L527" name="L527"></a> 527 
<div class="comment">
      Returns the dateAndTime criterion. The specified date must be
      equal to or later than the value of the thisUpdate component
      of the <code>X509CRL</code> and earlier than the value of the
      nextUpdate component. There is no match if the
      <code>X509CRL</code> does not contain a nextUpdate component.
      If <code>null</code>, no dateAndTime check will be done.
      <p>
      Note that the <code>Date</code> returned is cloned to protect against
      subsequent modifications.
      @return the <code>Date</code> to match against (or <code>null</code>)
      @see #setDateAndTime</p></div>
<a id="L542" name="L542"></a> 542     <strong class="reserved">public</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> getDateAndTime() <em class="brace">{</em>
<a id="L543" name="L543"></a> 543         <strong class="reserved">if</strong> (dateAndTime == <strong class="reserved">null</strong>)
<a id="L544" name="L544"></a> 544             <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L545" name="L545"></a> 545         <strong class="reserved">return</strong> (<a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>) dateAndTime.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L546" name="L546"></a> 546     <em class="brace">}</em>
<a id="L547" name="L547"></a> 547 
<div class="comment">
      Returns the certificate being checked. This is not a criterion. Rather,
      it is optional information that may help a <code>CertStore</code>
      find CRLs that would be relevant when checking revocation for the
      specified certificate. If the value returned is <code>null</code>, then
      no such optional information is provided.
      @return the certificate being checked (or <code>null</code>)
      @see #setCertificateChecking</div>
<a id="L558" name="L558"></a> 558     <strong class="reserved">public</strong> <a href="../D/9813.html" title="Multiple defined in 2 places.">X509Certificate</a> getCertificateChecking() <em class="brace">{</em>
<a id="L559" name="L559"></a> 559         <strong class="reserved">return</strong> certChecking;
<a id="L560" name="L560"></a> 560     <em class="brace">}</em>
<a id="L561" name="L561"></a> 561 
<div class="comment">
      Returns a printable representation of the <code>X509CRLSelector</code>.
      @return a <code>String</code> describing the contents of the
              <code>X509CRLSelector</code>.</div>
<a id="L568" name="L568"></a> 568     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L569" name="L569"></a> 569         <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a> sb = <strong class="reserved">new</strong> <a href="../S/1583.html#L97" title="Defined at 97 in src/java/lang/StringBuffer.java.">StringBuffer</a>();
<a id="L570" name="L570"></a> 570         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("X509CRLSelector: [\n");
<a id="L571" name="L571"></a> 571         <strong class="reserved">if</strong> (issuerNames != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L572" name="L572"></a> 572             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("  IssuerNames:\n");
<a id="L573" name="L573"></a> 573             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; i = issuerNames.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L574" name="L574"></a> 574             <strong class="reserved">while</strong> (i.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>())
<a id="L575" name="L575"></a> 575                 sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("    " + i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() + "\n");
<a id="L576" name="L576"></a> 576         <em class="brace">}</em>
<a id="L577" name="L577"></a> 577         <strong class="reserved">if</strong> (minCRL != <strong class="reserved">null</strong>)
<a id="L578" name="L578"></a> 578             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("  minCRLNumber: " + minCRL + "\n");
<a id="L579" name="L579"></a> 579         <strong class="reserved">if</strong> (maxCRL != <strong class="reserved">null</strong>)
<a id="L580" name="L580"></a> 580             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("  maxCRLNumber: " + maxCRL + "\n");
<a id="L581" name="L581"></a> 581         <strong class="reserved">if</strong> (dateAndTime != <strong class="reserved">null</strong>)
<a id="L582" name="L582"></a> 582             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("  dateAndTime: " + dateAndTime + "\n");
<a id="L583" name="L583"></a> 583         <strong class="reserved">if</strong> (certChecking != <strong class="reserved">null</strong>)
<a id="L584" name="L584"></a> 584             sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("  Certificate being checked: " + certChecking + "\n");
<a id="L585" name="L585"></a> 585         sb.<a href="../D/11357.html" title="Multiple defined in 137 places.">append</a>("]");
<a id="L586" name="L586"></a> 586         <strong class="reserved">return</strong> sb.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>();
<a id="L587" name="L587"></a> 587     <em class="brace">}</em>
<a id="L588" name="L588"></a> 588 
<div class="comment">
      Decides whether a <code>CRL</code> should be selected.
      @param crl the <code>CRL</code> to be checked
      @return <code>true</code> if the <code>CRL</code> should be selected,
              <code>false</code> otherwise</div>
<a id="L596" name="L596"></a> 596     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/23117.html" title="Multiple referred from 460 places.">match</a>(<a href="../S/1282.html#L46" title="Defined at 46 in src/java/security/cert/CRL.java.">CRL</a> crl) <em class="brace">{</em>
<a id="L597" name="L597"></a> 597         <strong class="reserved">if</strong> (!(crl <strong class="reserved">instanceof</strong> <a href="../S/1311.html#L112" title="Defined at 112 in src/java/security/cert/X509CRL.java.">X509CRL</a>)) <em class="brace">{</em>
<a id="L598" name="L598"></a> 598             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L599" name="L599"></a> 599         <em class="brace">}</em>
<a id="L600" name="L600"></a> 600         <a href="../S/1311.html#L112" title="Defined at 112 in src/java/security/cert/X509CRL.java.">X509CRL</a> xcrl = (<a href="../S/1311.html#L112" title="Defined at 112 in src/java/security/cert/X509CRL.java.">X509CRL</a>)crl;
<a id="L601" name="L601"></a> 601 
<div class="comment">
         /* match on issuer name */</div>
<a id="L603" name="L603"></a> 603         <strong class="reserved">if</strong> (issuerNames != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L604" name="L604"></a> 604             <a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a> issuer = xcrl.<a href="../D/19847.html" title="Multiple defined in 2 places.">getIssuerX500Principal</a>();
<a id="L605" name="L605"></a> 605             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt; i = issuerX500Principals.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L606" name="L606"></a> 606             <strong class="reserved">boolean</strong> found = <strong class="reserved">false</strong>;
<a id="L607" name="L607"></a> 607             <strong class="reserved">while</strong> (!found &amp;&amp; i.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L608" name="L608"></a> 608                 <strong class="reserved">if</strong> (i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>().<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(issuer)) <em class="brace">{</em>
<a id="L609" name="L609"></a> 609                     found = <strong class="reserved">true</strong>;
<a id="L610" name="L610"></a> 610                 <em class="brace">}</em>
<a id="L611" name="L611"></a> 611             <em class="brace">}</em>
<a id="L612" name="L612"></a> 612             <strong class="reserved">if</strong> (!found) <em class="brace">{</em>
<a id="L613" name="L613"></a> 613                 <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L614" name="L614"></a> 614                     <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: issuer DNs "
<a id="L615" name="L615"></a> 615                         + "don't match");
<a id="L616" name="L616"></a> 616                 <em class="brace">}</em>
<a id="L617" name="L617"></a> 617                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L618" name="L618"></a> 618             <em class="brace">}</em>
<a id="L619" name="L619"></a> 619         <em class="brace">}</em>
<a id="L620" name="L620"></a> 620 
<a id="L621" name="L621"></a> 621         <strong class="reserved">if</strong> ((minCRL != <strong class="reserved">null</strong>) || (maxCRL != <strong class="reserved">null</strong>)) <em class="brace">{</em>
<div class="comment">
             /* Get CRL number extension from CRL */</div>
<a id="L623" name="L623"></a> 623             <strong class="reserved">byte</strong>[] crlNumExtVal = xcrl.<a href="../S/1308.html#L185" title="Defined at 185 in src/java/security/cert/X509Extension.java.">getExtensionValue</a>("2.5.29.20");
<a id="L624" name="L624"></a> 624             <strong class="reserved">if</strong> (crlNumExtVal == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L625" name="L625"></a> 625                 <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L626" name="L626"></a> 626                     <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: no CRLNumber");
<a id="L627" name="L627"></a> 627                 <em class="brace">}</em>
<a id="L628" name="L628"></a> 628             <em class="brace">}</em>
<a id="L629" name="L629"></a> 629             <a href="../S/1462.html#L123" title="Defined at 123 in src/java/math/BigInteger.java.">BigInteger</a> crlNum;
<a id="L630" name="L630"></a> 630             <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L631" name="L631"></a> 631                 DerInputStream <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">new</strong> DerInputStream(crlNumExtVal);
<a id="L632" name="L632"></a> 632                 <strong class="reserved">byte</strong>[] encoded = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.getOctetString();
<a id="L633" name="L633"></a> 633                 CRLNumberExtension crlNumExt =
<a id="L634" name="L634"></a> 634                     <strong class="reserved">new</strong> CRLNumberExtension(<a href="../S/1770.html#L43" title="Defined at 43 in src/java/lang/Boolean.java.">Boolean</a>.FALSE, encoded);
<a id="L635" name="L635"></a> 635                 crlNum = crlNumExt.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(CRLNumberExtension.NUMBER);
<a id="L636" name="L636"></a> 636             <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <a href="../S/5015.html#L111" title="Defined at 111 in src/com/sun/org/apache/xerces/internal/impl/xpath/regex/RegexParser.java.">ex</a>) <em class="brace">{</em>
<a id="L637" name="L637"></a> 637                 <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                     <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: exception in "
<a id="L639" name="L639"></a> 639                         + "decoding CRL number");
<a id="L640" name="L640"></a> 640                 <em class="brace">}</em>
<a id="L641" name="L641"></a> 641                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L642" name="L642"></a> 642             <em class="brace">}</em>
<a id="L643" name="L643"></a> 643 
<div class="comment">
             /* match on minCRLNumber */</div>
<a id="L645" name="L645"></a> 645             <strong class="reserved">if</strong> (minCRL != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L646" name="L646"></a> 646                 <strong class="reserved">if</strong> (crlNum.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(minCRL) &lt; 0) <em class="brace">{</em>
<a id="L647" name="L647"></a> 647                     <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L648" name="L648"></a> 648                         <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: CRLNumber too small");
<a id="L649" name="L649"></a> 649                     <em class="brace">}</em>
<a id="L650" name="L650"></a> 650                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L651" name="L651"></a> 651                 <em class="brace">}</em>
<a id="L652" name="L652"></a> 652             <em class="brace">}</em>
<a id="L653" name="L653"></a> 653 
<div class="comment">
             /* match on maxCRLNumber */</div>
<a id="L655" name="L655"></a> 655             <strong class="reserved">if</strong> (maxCRL != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L656" name="L656"></a> 656                 <strong class="reserved">if</strong> (crlNum.<a href="../D/13068.html" title="Multiple defined in 86 places.">compareTo</a>(maxCRL) &gt; 0) <em class="brace">{</em>
<a id="L657" name="L657"></a> 657                     <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L658" name="L658"></a> 658                         <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: CRLNumber too large");
<a id="L659" name="L659"></a> 659                     <em class="brace">}</em>
<a id="L660" name="L660"></a> 660                     <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L661" name="L661"></a> 661                 <em class="brace">}</em>
<a id="L662" name="L662"></a> 662             <em class="brace">}</em>
<a id="L663" name="L663"></a> 663         <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<a id="L665" name="L665"></a> 665 
<div class="comment">
         /* match on dateAndTime */</div>
<a id="L667" name="L667"></a> 667         <strong class="reserved">if</strong> (dateAndTime != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L668" name="L668"></a> 668             <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> crlThisUpdate = xcrl.<a href="../S/1311.html#L333" title="Defined at 333 in src/java/security/cert/X509CRL.java.">getThisUpdate</a>();
<a id="L669" name="L669"></a> 669             <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> nextUpdate = xcrl.<a href="../S/1311.html#L341" title="Defined at 341 in src/java/security/cert/X509CRL.java.">getNextUpdate</a>();
<a id="L670" name="L670"></a> 670             <strong class="reserved">if</strong> (nextUpdate == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L671" name="L671"></a> 671                 <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L672" name="L672"></a> 672                     <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: nextUpdate null");
<a id="L673" name="L673"></a> 673                 <em class="brace">}</em>
<a id="L674" name="L674"></a> 674                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L675" name="L675"></a> 675             <em class="brace">}</em>
<a id="L676" name="L676"></a> 676             <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> nowPlusSkew = dateAndTime;
<a id="L677" name="L677"></a> 677             <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a> nowMinusSkew = dateAndTime;
<a id="L678" name="L678"></a> 678             <strong class="reserved">if</strong> (skew &gt; 0) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679                 nowPlusSkew = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(dateAndTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>() + skew);
<a id="L680" name="L680"></a> 680                 nowMinusSkew = <strong class="reserved">new</strong> <a href="../D/2208.html" title="Multiple defined in 2 places.">Date</a>(dateAndTime.<a href="../D/23142.html" title="Multiple defined in 14 places.">getTime</a>() - skew);
<a id="L681" name="L681"></a> 681             <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<a id="L683" name="L683"></a> 683             <em class="comment">// Check that the test date is within the validity interval:</em>
<a id="L684" name="L684"></a> 684             <em class="comment">//   [ thisUpdate - MAX_CLOCK_SKEW,</em>
<a id="L685" name="L685"></a> 685             <em class="comment">//     nextUpdate + MAX_CLOCK_SKEW ]</em>
<a id="L686" name="L686"></a> 686             <strong class="reserved">if</strong> (nowMinusSkew.<a href="../D/11257.html" title="Multiple defined in 3 places.">after</a>(nextUpdate)
<a id="L687" name="L687"></a> 687                 || nowPlusSkew.<a href="../D/11800.html" title="Multiple defined in 3 places.">before</a>(crlThisUpdate)) <em class="brace">{</em>
<a id="L688" name="L688"></a> 688                 <strong class="reserved">if</strong> (<a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L689" name="L689"></a> 689                     <a href="../D/14486.html" title="Multiple defined in 5 places.">debug</a>.<a href="../D/29725.html" title="Multiple defined in 27 places.">println</a>("X509CRLSelector.match: update out-of-range");
<a id="L690" name="L690"></a> 690                 <em class="brace">}</em>
<a id="L691" name="L691"></a> 691                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L692" name="L692"></a> 692             <em class="brace">}</em>
<a id="L693" name="L693"></a> 693         <em class="brace">}</em>
<a id="L694" name="L694"></a> 694 
<a id="L695" name="L695"></a> 695         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L696" name="L696"></a> 696     <em class="brace">}</em>
<a id="L697" name="L697"></a> 697 
<div class="comment">
      Returns a copy of this object.
      @return the copy</div>
<a id="L703" name="L703"></a> 703     <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../R/11555.html" title="Multiple referred from 1378 places.">clone</a>() <em class="brace">{</em>
<a id="L704" name="L704"></a> 704         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L705" name="L705"></a> 705             <a href="../S/1287.html#L73" title="Defined at 73 in src/java/security/cert/X509CRLSelector.java.">X509CRLSelector</a> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = (<a href="../S/1287.html#L73" title="Defined at 73 in src/java/security/cert/X509CRLSelector.java.">X509CRLSelector</a>)<strong class="reserved">super</strong>.<a href="../D/12888.html" title="Multiple defined in 229 places.">clone</a>();
<a id="L706" name="L706"></a> 706             <strong class="reserved">if</strong> (issuerNames != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L707" name="L707"></a> 707                 <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.issuerNames =
<a id="L708" name="L708"></a> 708                         <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(issuerNames);
<a id="L709" name="L709"></a> 709                 <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.issuerX500Principals =
<a id="L710" name="L710"></a> 710                         <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/9807.html" title="Multiple defined in 2 places.">X500Principal</a>&gt;(issuerX500Principals);
<a id="L711" name="L711"></a> 711             <em class="brace">}</em>
<a id="L712" name="L712"></a> 712             <strong class="reserved">return</strong> <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>;
<a id="L713" name="L713"></a> 713         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1725.html#L45" title="Defined at 45 in src/java/lang/CloneNotSupportedException.java.">CloneNotSupportedException</a> e) <em class="brace">{</em>
<div class="comment">
             /* Cannot happen */</div>
<a id="L715" name="L715"></a> 715             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4325.html" title="Multiple defined in 2 places.">InternalError</a>(e.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(), e);
<a id="L716" name="L716"></a> 716         <em class="brace">}</em>
<a id="L717" name="L717"></a> 717     <em class="brace">}</em>
<a id="L718" name="L718"></a> 718 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L121">[^]</a><a href="#L703">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>