<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/javax/security/auth/Subject.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L238">[^]</a><a href="#L1432">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L238" title="Defined at 238.">setReadOnly</a></li>
<li><a href="#L254" title="Defined at 254.">isReadOnly</a></li>
<li><a href="#L283" title="Defined at 283.">getSubject</a></li>
<li><a href="#L343" title="Defined at 343.">doAs</a></li>
<li><a href="#L404" title="Defined at 404.">doAs</a></li>
<li><a href="#L461" title="Defined at 461.">doAsPrivileged</a></li>
<li><a href="#L527" title="Defined at 527.">doAsPrivileged</a></li>
<li><a href="#L553" title="Defined at 553.">createContext</a></li>
<li><a href="#L585" title="Defined at 585.">getPrincipals</a></li>
<li><a href="#L616" title="Defined at 616.">getPrincipals</a></li>
<li><a href="#L641" title="Defined at 641.">getPublicCredentials</a></li>
<li><a href="#L673" title="Defined at 673.">getPrivateCredentials</a></li>
<li><a href="#L712" title="Defined at 712.">getPublicCredentials</a></li>
<li><a href="#L751" title="Defined at 751.">getPrivateCredentials</a></li>
<li><a href="#L791" title="Defined at 791.">equals</a></li>
<li><a href="#L842" title="Defined at 842.">toString</a></li>
<li><a href="#L851" title="Defined at 851.">toString</a></li>
<li><a href="#L906" title="Defined at 906.">hashCode</a></li>
<li><a href="#L941" title="Defined at 941.">getCredHashCode</a></li>
<li><a href="#L952" title="Defined at 952.">writeObject</a></li>
<li><a href="#L962" title="Defined at 962.">SuppressWarnings</a></li>
<li><a href="#L963" title="Defined at 963.">readObject</a></li>
<li><a href="#L1043" title="Defined at 1043.">size</a></li>
<li><a href="#L1047" title="Defined at 1047.">iterator</a></li>
<li><a href="#L1099" title="Defined at 1099.">add</a></li>
<li><a href="#L1140" title="Defined at 1140.">remove</a></li>
<li><a href="#L1169" title="Defined at 1169.">contains</a></li>
<li><a href="#L1208" title="Defined at 1208.">removeAll</a></li>
<li><a href="#L1244" title="Defined at 1244.">retainAll</a></li>
<li><a href="#L1286" title="Defined at 1286.">clear</a></li>
<li><a href="#L1315" title="Defined at 1315.">writeObject</a></li>
<li><a href="#L1332" title="Defined at 1332.">SuppressWarnings</a></li>
<li><a href="#L1333" title="Defined at 1333.">readObject</a></li>
<li><a href="#L1377" title="Defined at 1377.">SuppressWarnings</a></li>
<li><a href="#L1378" title="Defined at 1378.">populateSet</a></li>
<li><a href="#L1424" title="Defined at 1424.">size</a></li>
<li><a href="#L1428" title="Defined at 1428.">iterator</a></li>
<li><a href="#L1432" title="Defined at 1432.">add</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1998, 2013, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../D/26637.html" title="Multiple defined in 6 places.">javax</a>.security.auth;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.util.*;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.*;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.lang.reflect.*;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.text.MessageFormat;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.security.AccessController;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.security.AccessControlContext;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.security.DomainCombiner;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.security.Permission;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.security.PermissionCollection;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.security.Principal;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.security.PrivilegedAction;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.security.PrivilegedExceptionAction;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.security.PrivilegedActionException;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.security.ProtectionDomain;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> sun.security.util.ResourcesMgr;
<a id="L43" name="L43"></a>  43 
<div class="comment">
  <p> A <code>Subject</code> represents a grouping of related information
  for a single entity, such as a person.
  Such information includes the Subject's identities as well as
  its security-related attributes
  (passwords and cryptographic keys, for example).
  </p><p> Subjects may potentially have multiple identities.
  Each identity is represented as a <code>Principal</code>
  within the <code>Subject</code>.  Principals simply bind names to a
  <code>Subject</code>.  For example, a <code>Subject</code> that happens
  to be a person, Alice, might have two Principals:
  one which binds "Alice Bar", the name on her driver license,
  to the <code>Subject</code>, and another which binds,
  "999-99-9999", the number on her student identification card,
  to the <code>Subject</code>.  Both Principals refer to the same
  <code>Subject</code> even though each has a different name.
  </p><p> A <code>Subject</code> may also own security-related attributes,
  which are referred to as credentials.
  Sensitive credentials that require special protection, such as
  private cryptographic keys, are stored within a private credential
  <code>Set</code>.  Credentials intended to be shared, such as
  public key certificates or Kerberos server tickets are stored
  within a public credential <code>Set</code>.  Different permissions
  are required to access and modify the different credential Sets.
  </p><p> To retrieve all the Principals associated with a <code>Subject</code>,
  invoke the <code>getPrincipals</code> method.  To retrieve
  all the public or private credentials belonging to a <code>Subject</code>,
  invoke the <code>getPublicCredentials</code> method or
  <code>getPrivateCredentials</code> method, respectively.
  To modify the returned <code>Set</code> of Principals and credentials,
  use the methods defined in the <code>Set</code> class.
  For example:
  </p><pre>       Subject subject;
       Principal principal;
       Object credential;
       // add a Principal and credential to the Subject
       subject.getPrincipals().add(principal);
       subject.getPublicCredentials().add(credential);
  </pre>
  <p> This <code>Subject</code> class implements <code>Serializable</code>.
  While the Principals associated with the <code>Subject</code> are serialized,
  the credentials associated with the <code>Subject</code> are not.
  Note that the <code>java.security.Principal</code> class
  does not implement <code>Serializable</code>.  Therefore all concrete
  <code>Principal</code> implementations associated with Subjects
  must implement <code>Serializable</code>.
  @see java.security.Principal
  @see java.security.DomainCombiner</p></div>
<a id="L100" name="L100"></a> 100 <strong class="reserved">public</strong> <strong class="reserved">final</strong> <strong class="reserved">class</strong> <a href="../R/7749.html" title="Multiple referred from 235 places.">Subject</a> <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L101" name="L101"></a> 101 
<a id="L102" name="L102"></a> 102     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = -8308522755600156056L;
<a id="L103" name="L103"></a> 103 
<div class="comment">
      A <code>Set</code> that provides a view of all of this
      Subject's Principals
      <p>
      @serial Each element in this set is a
               <code>java.security.Principal</code>.
               The set is a <code>Subject.SecureSet</code>.</p></div>
<a id="L114" name="L114"></a> 114     <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; principals;
<a id="L115" name="L115"></a> 115 
<div class="comment">
      Sets that provide a view of all of this
      Subject's Credentials</div>
<a id="L120" name="L120"></a> 120     <strong class="reserved">transient</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; pubCredentials;
<a id="L121" name="L121"></a> 121     <strong class="reserved">transient</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; privCredentials;
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Whether this Subject is read-only
      @serial</div>
<a id="L128" name="L128"></a> 128     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> readOnly = <strong class="reserved">false</strong>;
<a id="L129" name="L129"></a> 129 
<a id="L130" name="L130"></a> 130     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PRINCIPAL_SET = 1;
<a id="L131" name="L131"></a> 131     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PUB_CREDENTIAL_SET = 2;
<a id="L132" name="L132"></a> 132     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> PRIV_CREDENTIAL_SET = 3;
<a id="L133" name="L133"></a> 133 
<a id="L134" name="L134"></a> 134     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>[] NULL_PD_ARRAY
<a id="L135" name="L135"></a> 135         = <strong class="reserved">new</strong> <a href="../S/1249.html#L61" title="Defined at 61 in src/java/security/ProtectionDomain.java.">ProtectionDomain</a>[0];
<a id="L136" name="L136"></a> 136 
<div class="comment">
      Create an instance of a <code>Subject</code>
      with an empty <code>Set</code> of Principals and empty
      Sets of public and private credentials.
      <p> The newly constructed Sets check whether this <code>Subject</code>
      has been set read-only before permitting subsequent modifications.
      The newly created Sets also prevent illegal modifications
      by ensuring that callers have sufficient permissions.
      </p><p> To modify the Principals Set, the caller must have
      <code>AuthPermission("modifyPrincipals")</code>.
      To modify the public credential Set, the caller must have
      <code>AuthPermission("modifyPublicCredentials")</code>.
      To modify the private credential Set, the caller must have
      <code>AuthPermission("modifyPrivateCredentials")</code>.</p></div>
<a id="L154" name="L154"></a> 154     <strong class="reserved">public</strong> Subject() <em class="brace">{</em>
<a id="L155" name="L155"></a> 155 
<a id="L156" name="L156"></a> 156         <strong class="reserved">this</strong>.principals = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>
<a id="L157" name="L157"></a> 157                         (<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt;(<strong class="reserved">this</strong>, PRINCIPAL_SET));
<a id="L158" name="L158"></a> 158         <strong class="reserved">this</strong>.pubCredentials = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>
<a id="L159" name="L159"></a> 159                         (<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(<strong class="reserved">this</strong>, PUB_CREDENTIAL_SET));
<a id="L160" name="L160"></a> 160         <strong class="reserved">this</strong>.privCredentials = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>
<a id="L161" name="L161"></a> 161                         (<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(<strong class="reserved">this</strong>, PRIV_CREDENTIAL_SET));
<a id="L162" name="L162"></a> 162     <em class="brace">}</em>
<a id="L163" name="L163"></a> 163 
<div class="comment">
      Create an instance of a <code>Subject</code> with
      Principals and credentials.
      <p> The Principals and credentials from the specified Sets
      are copied into newly constructed Sets.
      These newly created Sets check whether this <code>Subject</code>
      has been set read-only before permitting subsequent modifications.
      The newly created Sets also prevent illegal modifications
      by ensuring that callers have sufficient permissions.
      </p><p> To modify the Principals Set, the caller must have
      <code>AuthPermission("modifyPrincipals")</code>.
      To modify the public credential Set, the caller must have
      <code>AuthPermission("modifyPublicCredentials")</code>.
      To modify the private credential Set, the caller must have
      <code>AuthPermission("modifyPrivateCredentials")</code>.
      </p><p>
      @param readOnly true if the <code>Subject</code> is to be read-only,
               and false otherwise. </p><p>
      @param principals the <code>Set</code> of Principals
               to be associated with this <code>Subject</code>. </p><p>
      @param pubCredentials the <code>Set</code> of public credentials
               to be associated with this <code>Subject</code>. </p><p>
      @param privCredentials the <code>Set</code> of private credentials
               to be associated with this <code>Subject</code>.
      @exception NullPointerException if the specified
               <code>principals</code>, <code>pubCredentials</code>,
               or <code>privCredentials</code> are <code>null</code>.</p></div>
<a id="L199" name="L199"></a> 199     <strong class="reserved">public</strong> Subject(<strong class="reserved">boolean</strong> readOnly, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;? <strong class="reserved">extends</strong> <a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; principals,
<a id="L200" name="L200"></a> 200                    <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;?&gt; pubCredentials, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;?&gt; privCredentials)
<a id="L201" name="L201"></a> 201     <em class="brace">{</em>
<a id="L202" name="L202"></a> 202 
<a id="L203" name="L203"></a> 203         <strong class="reserved">if</strong> (principals == <strong class="reserved">null</strong> ||
<a id="L204" name="L204"></a> 204             pubCredentials == <strong class="reserved">null</strong> ||
<a id="L205" name="L205"></a> 205             privCredentials == <strong class="reserved">null</strong>)
<a id="L206" name="L206"></a> 206             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L207" name="L207"></a> 207                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.input.s."));
<a id="L208" name="L208"></a> 208 
<a id="L209" name="L209"></a> 209         <strong class="reserved">this</strong>.principals = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>(<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt;
<a id="L210" name="L210"></a> 210                                 (<strong class="reserved">this</strong>, PRINCIPAL_SET, principals));
<a id="L211" name="L211"></a> 211         <strong class="reserved">this</strong>.pubCredentials = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>(<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;
<a id="L212" name="L212"></a> 212                                 (<strong class="reserved">this</strong>, PUB_CREDENTIAL_SET, pubCredentials));
<a id="L213" name="L213"></a> 213         <strong class="reserved">this</strong>.privCredentials = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>(<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;
<a id="L214" name="L214"></a> 214                                 (<strong class="reserved">this</strong>, PRIV_CREDENTIAL_SET, privCredentials));
<a id="L215" name="L215"></a> 215         <strong class="reserved">this</strong>.readOnly = readOnly;
<a id="L216" name="L216"></a> 216     <em class="brace">}</em>
<a id="L217" name="L217"></a> 217 
<div class="comment">
      Set this <code>Subject</code> to be read-only.
      <p> Modifications (additions and removals) to this Subject's
      <code>Principal</code> <code>Set</code> and
      credential Sets will be disallowed.
      The <code>destroy</code> operation on this Subject's credentials will
      still be permitted.
      </p><p> Subsequent attempts to modify the Subject's <code>Principal</code>
      and credential Sets will result in an
      <code>IllegalStateException</code> being thrown.
      Also, once a <code>Subject</code> is read-only,
      it can not be reset to being writable again.
      </p><p>
      @exception SecurityException if the caller does not have permission
               to set this <code>Subject</code> to be read-only.</p></div>
<a id="L238" name="L238"></a> 238     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/28000.html" title="Multiple referred from 34 places.">setReadOnly</a>() <em class="brace">{</em>
<a id="L239" name="L239"></a> 239         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L240" name="L240"></a> 240         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L241" name="L241"></a> 241             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.SET_READ_ONLY_PERMISSION);
<a id="L242" name="L242"></a> 242         <em class="brace">}</em>
<a id="L243" name="L243"></a> 243 
<a id="L244" name="L244"></a> 244         <strong class="reserved">this</strong>.readOnly = <strong class="reserved">true</strong>;
<a id="L245" name="L245"></a> 245     <em class="brace">}</em>
<a id="L246" name="L246"></a> 246 
<div class="comment">
      Query whether this <code>Subject</code> is read-only.
      <p>
      @return true if this <code>Subject</code> is read-only, false otherwise.</p></div>
<a id="L254" name="L254"></a> 254     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/21929.html" title="Multiple referred from 136 places.">isReadOnly</a>() <em class="brace">{</em>
<a id="L255" name="L255"></a> 255         <strong class="reserved">return</strong> <strong class="reserved">this</strong>.readOnly;
<a id="L256" name="L256"></a> 256     <em class="brace">}</em>
<a id="L257" name="L257"></a> 257 
<div class="comment">
      Get the <code>Subject</code> associated with the provided
      <code>AccessControlContext</code>.
      <p> The <code>AccessControlContext</code> may contain many
      Subjects (from nested <code>doAs</code> calls).
      In this situation, the most recent <code>Subject</code> associated
      with the <code>AccessControlContext</code> is returned.
      </p><p>
      @param  acc the <code>AccessControlContext</code> from which to retrieve
               the <code>Subject</code>.
      @return  the <code>Subject</code> associated with the provided
               <code>AccessControlContext</code>, or <code>null</code>
               if no <code>Subject</code> is associated
               with the provided <code>AccessControlContext</code>.
      @exception SecurityException if the caller does not have permission
               to get the <code>Subject</code>. </p><p>
      @exception NullPointerException if the provided
               <code>AccessControlContext</code> is <code>null</code>.</p></div>
<a id="L283" name="L283"></a> 283     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> <a href="../R/19265.html" title="Multiple referred from 8 places.">getSubject</a>(<strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L284" name="L284"></a> 284 
<a id="L285" name="L285"></a> 285         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L286" name="L286"></a> 286         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.GET_SUBJECT_PERMISSION);
<a id="L288" name="L288"></a> 288         <em class="brace">}</em>
<a id="L289" name="L289"></a> 289 
<a id="L290" name="L290"></a> 290         <strong class="reserved">if</strong> (acc == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L291" name="L291"></a> 291             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>(ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>
<a id="L292" name="L292"></a> 292                 ("invalid.null.AccessControlContext.provided"));
<a id="L293" name="L293"></a> 293         <em class="brace">}</em>
<a id="L294" name="L294"></a> 294 
<a id="L295" name="L295"></a> 295         <em class="comment">// return the Subject from the DomainCombiner of the provided context</em>
<a id="L296" name="L296"></a> 296         <strong class="reserved">return</strong> <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L297" name="L297"></a> 297             (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>&gt;() <em class="brace">{</em>
<a id="L298" name="L298"></a> 298             <strong class="reserved">public</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L299" name="L299"></a> 299                 <a href="../S/1213.html#L81" title="Defined at 81 in src/java/security/DomainCombiner.java.">DomainCombiner</a> dc = acc.<a href="../S/1212.html#L352" title="Defined at 352 in src/java/security/AccessControlContext.java.">getDomainCombiner</a>();
<a id="L300" name="L300"></a> 300                 <strong class="reserved">if</strong> (!(dc <strong class="reserved">instanceof</strong> <a href="../S/2641.html#L47" title="Defined at 47 in src/javax/security/auth/SubjectDomainCombiner.java.">SubjectDomainCombiner</a>))
<a id="L301" name="L301"></a> 301                     <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L302" name="L302"></a> 302                 <a href="../S/2641.html#L47" title="Defined at 47 in src/javax/security/auth/SubjectDomainCombiner.java.">SubjectDomainCombiner</a> sdc = (<a href="../S/2641.html#L47" title="Defined at 47 in src/javax/security/auth/SubjectDomainCombiner.java.">SubjectDomainCombiner</a>)dc;
<a id="L303" name="L303"></a> 303                 <strong class="reserved">return</strong> sdc.<a href="../D/22833.html" title="Multiple defined in 5 places.">getSubject</a>();
<a id="L304" name="L304"></a> 304             <em class="brace">}</em>
<a id="L305" name="L305"></a> 305         <em class="brace">}</em>);
<a id="L306" name="L306"></a> 306     <em class="brace">}</em>
<a id="L307" name="L307"></a> 307 
<div class="comment">
      Perform work as a particular <code>Subject</code>.
      <p> This method first retrieves the current Thread's
      <code>AccessControlContext</code> via
      <code>AccessController.getContext</code>,
      and then instantiates a new <code>AccessControlContext</code>
      using the retrieved context along with a new
      <code>SubjectDomainCombiner</code> (constructed using
      the provided <code>Subject</code>).
      Finally, this method invokes <code>AccessController.doPrivileged</code>,
      passing it the provided <code>PrivilegedAction</code>,
      as well as the newly constructed <code>AccessControlContext</code>.
      </p><p>
      @param subject the <code>Subject</code> that the specified
                       <code>action</code> will run as.  This parameter
                       may be <code>null</code>. </p><p>
      @param <t> the type of the value returned by the PrivilegedAction's
                       <code>run</code> method.
      @param action the code to be run as the specified
                       <code>Subject</code>. </t></p><p>
      @return the value returned by the PrivilegedAction's
                       <code>run</code> method.
      @exception NullPointerException if the <code>PrivilegedAction</code>
                       is <code>null</code>. </p><p>
      @exception SecurityException if the caller does not have permission
                       to invoke this method.</p></div>
<a id="L343" name="L343"></a> 343     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> doAs(<strong class="reserved">final</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject,
<a id="L344" name="L344"></a> 344                         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>) <em class="brace">{</em>
<a id="L345" name="L345"></a> 345 
<a id="L346" name="L346"></a> 346         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L347" name="L347"></a> 347         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L348" name="L348"></a> 348             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.DO_AS_PERMISSION);
<a id="L349" name="L349"></a> 349         <em class="brace">}</em>
<a id="L350" name="L350"></a> 350         <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L351" name="L351"></a> 351             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L352" name="L352"></a> 352                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.action.provided"));
<a id="L353" name="L353"></a> 353 
<a id="L354" name="L354"></a> 354         <em class="comment">// set up the new Subject-based AccessControlContext</em>
<a id="L355" name="L355"></a> 355         <em class="comment">// for doPrivileged</em>
<a id="L356" name="L356"></a> 356         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> currentAcc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L357" name="L357"></a> 357 
<a id="L358" name="L358"></a> 358         <em class="comment">// call doPrivileged and push this new context on the stack</em>
<a id="L359" name="L359"></a> 359         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L360" name="L360"></a> 360                                         (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>,
<a id="L361" name="L361"></a> 361                                         <a href="../D/13730.html" title="Multiple defined in 14 places.">createContext</a>(subject, currentAcc));
<a id="L362" name="L362"></a> 362     <em class="brace">}</em>
<a id="L363" name="L363"></a> 363 
<div class="comment">
      Perform work as a particular <code>Subject</code>.
      <p> This method first retrieves the current Thread's
      <code>AccessControlContext</code> via
      <code>AccessController.getContext</code>,
      and then instantiates a new <code>AccessControlContext</code>
      using the retrieved context along with a new
      <code>SubjectDomainCombiner</code> (constructed using
      the provided <code>Subject</code>).
      Finally, this method invokes <code>AccessController.doPrivileged</code>,
      passing it the provided <code>PrivilegedExceptionAction</code>,
      as well as the newly constructed <code>AccessControlContext</code>.
      </p><p>
      @param subject the <code>Subject</code> that the specified
                       <code>action</code> will run as.  This parameter
                       may be <code>null</code>. </p><p>
      @param <t> the type of the value returned by the
                       PrivilegedExceptionAction's <code>run</code> method.
      @param action the code to be run as the specified
                       <code>Subject</code>. </t></p><p>
      @return the value returned by the
                       PrivilegedExceptionAction's <code>run</code> method.
      @exception PrivilegedActionException if the
                       <code>PrivilegedExceptionAction.run</code>
                       method throws a checked exception. </p><p>
      @exception NullPointerException if the specified
                       <code>PrivilegedExceptionAction</code> is
                       <code>null</code>. </p><p>
      @exception SecurityException if the caller does not have permission
                       to invoke this method.</p></div>
<a id="L404" name="L404"></a> 404     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> doAs(<strong class="reserved">final</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject,
<a id="L405" name="L405"></a> 405                         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>)
<a id="L406" name="L406"></a> 406                         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> <em class="brace">{</em>
<a id="L407" name="L407"></a> 407 
<a id="L408" name="L408"></a> 408         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L409" name="L409"></a> 409         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L410" name="L410"></a> 410             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.DO_AS_PERMISSION);
<a id="L411" name="L411"></a> 411         <em class="brace">}</em>
<a id="L412" name="L412"></a> 412 
<a id="L413" name="L413"></a> 413         <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L414" name="L414"></a> 414             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L415" name="L415"></a> 415                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.action.provided"));
<a id="L416" name="L416"></a> 416 
<a id="L417" name="L417"></a> 417         <em class="comment">// set up the new Subject-based AccessControlContext for doPrivileged</em>
<a id="L418" name="L418"></a> 418         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> currentAcc = <a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/17976.html" title="Multiple defined in 99 places.">getContext</a>();
<a id="L419" name="L419"></a> 419 
<a id="L420" name="L420"></a> 420         <em class="comment">// call doPrivileged and push this new context on the stack</em>
<a id="L421" name="L421"></a> 421         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L422" name="L422"></a> 422                                         (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>,
<a id="L423" name="L423"></a> 423                                         <a href="../D/13730.html" title="Multiple defined in 14 places.">createContext</a>(subject, currentAcc));
<a id="L424" name="L424"></a> 424     <em class="brace">}</em>
<a id="L425" name="L425"></a> 425 
<div class="comment">
      Perform privileged work as a particular <code>Subject</code>.
      <p> This method behaves exactly as <code>Subject.doAs</code>,
      except that instead of retrieving the current Thread's
      <code>AccessControlContext</code>, it uses the provided
      <code>AccessControlContext</code>.  If the provided
      <code>AccessControlContext</code> is <code>null</code>,
      this method instantiates a new <code>AccessControlContext</code>
      with an empty collection of ProtectionDomains.
      </p><p>
      @param subject the <code>Subject</code> that the specified
                       <code>action</code> will run as.  This parameter
                       may be <code>null</code>. </p><p>
      @param <t> the type of the value returned by the PrivilegedAction's
                       <code>run</code> method.
      @param action the code to be run as the specified
                       <code>Subject</code>. </t></p><p>
      @param acc the <code>AccessControlContext</code> to be tied to the
                       specified <i>subject</i> and <i>action</i>. </p><p>
      @return the value returned by the PrivilegedAction's
                       <code>run</code> method.
      @exception NullPointerException if the <code>PrivilegedAction</code>
                       is <code>null</code>. </p><p>
      @exception SecurityException if the caller does not have permission
                       to invoke this method.</p></div>
<a id="L461" name="L461"></a> 461     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> doAsPrivileged(<strong class="reserved">final</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject,
<a id="L462" name="L462"></a> 462                         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>,
<a id="L463" name="L463"></a> 463                         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464 
<a id="L465" name="L465"></a> 465         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L466" name="L466"></a> 466         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L467" name="L467"></a> 467             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.DO_AS_PRIVILEGED_PERMISSION);
<a id="L468" name="L468"></a> 468         <em class="brace">}</em>
<a id="L469" name="L469"></a> 469 
<a id="L470" name="L470"></a> 470         <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L471" name="L471"></a> 471             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L472" name="L472"></a> 472                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.action.provided"));
<a id="L473" name="L473"></a> 473 
<a id="L474" name="L474"></a> 474         <em class="comment">// set up the new Subject-based AccessControlContext</em>
<a id="L475" name="L475"></a> 475         <em class="comment">// for doPrivileged</em>
<a id="L476" name="L476"></a> 476         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> callerAcc =
<a id="L477" name="L477"></a> 477                 (acc == <strong class="reserved">null</strong> ?
<a id="L478" name="L478"></a> 478                 <strong class="reserved">new</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a>(NULL_PD_ARRAY) :
<a id="L479" name="L479"></a> 479                 acc);
<a id="L480" name="L480"></a> 480 
<a id="L481" name="L481"></a> 481         <em class="comment">// call doPrivileged and push this new context on the stack</em>
<a id="L482" name="L482"></a> 482         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L483" name="L483"></a> 483                                         (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>,
<a id="L484" name="L484"></a> 484                                         <a href="../D/13730.html" title="Multiple defined in 14 places.">createContext</a>(subject, callerAcc));
<a id="L485" name="L485"></a> 485     <em class="brace">}</em>
<a id="L486" name="L486"></a> 486 
<div class="comment">
      Perform privileged work as a particular <code>Subject</code>.
      <p> This method behaves exactly as <code>Subject.doAs</code>,
      except that instead of retrieving the current Thread's
      <code>AccessControlContext</code>, it uses the provided
      <code>AccessControlContext</code>.  If the provided
      <code>AccessControlContext</code> is <code>null</code>,
      this method instantiates a new <code>AccessControlContext</code>
      with an empty collection of ProtectionDomains.
      </p><p>
      @param subject the <code>Subject</code> that the specified
                       <code>action</code> will run as.  This parameter
                       may be <code>null</code>. </p><p>
      @param <t> the type of the value returned by the
                       PrivilegedExceptionAction's <code>run</code> method.
      @param action the code to be run as the specified
                       <code>Subject</code>. </t></p><p>
      @param acc the <code>AccessControlContext</code> to be tied to the
                       specified <i>subject</i> and <i>action</i>. </p><p>
      @return the value returned by the
                       PrivilegedExceptionAction's <code>run</code> method.
      @exception PrivilegedActionException if the
                       <code>PrivilegedExceptionAction.run</code>
                       method throws a checked exception. </p><p>
      @exception NullPointerException if the specified
                       <code>PrivilegedExceptionAction</code> is
                       <code>null</code>. </p><p>
      @exception SecurityException if the caller does not have permission
                       to invoke this method.</p></div>
<a id="L527" name="L527"></a> 527     <strong class="reserved">public</strong> <strong class="reserved">static</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> doAsPrivileged(<strong class="reserved">final</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject,
<a id="L528" name="L528"></a> 528                         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1263.html#L45" title="Defined at 45 in src/java/security/PrivilegedExceptionAction.java.">PrivilegedExceptionAction</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>,
<a id="L529" name="L529"></a> 529                         <strong class="reserved">final</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc)
<a id="L530" name="L530"></a> 530                         <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1259.html#L50" title="Defined at 50 in src/java/security/PrivilegedActionException.java.">PrivilegedActionException</a> <em class="brace">{</em>
<a id="L531" name="L531"></a> 531 
<a id="L532" name="L532"></a> 532         <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L533" name="L533"></a> 533         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L534" name="L534"></a> 534             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.DO_AS_PRIVILEGED_PERMISSION);
<a id="L535" name="L535"></a> 535         <em class="brace">}</em>
<a id="L536" name="L536"></a> 536 
<a id="L537" name="L537"></a> 537         <strong class="reserved">if</strong> (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a> == <strong class="reserved">null</strong>)
<a id="L538" name="L538"></a> 538             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L539" name="L539"></a> 539                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.action.provided"));
<a id="L540" name="L540"></a> 540 
<a id="L541" name="L541"></a> 541         <em class="comment">// set up the new Subject-based AccessControlContext for doPrivileged</em>
<a id="L542" name="L542"></a> 542         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> callerAcc =
<a id="L543" name="L543"></a> 543                 (acc == <strong class="reserved">null</strong> ?
<a id="L544" name="L544"></a> 544                 <strong class="reserved">new</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a>(NULL_PD_ARRAY) :
<a id="L545" name="L545"></a> 545                 acc);
<a id="L546" name="L546"></a> 546 
<a id="L547" name="L547"></a> 547         <em class="comment">// call doPrivileged and push this new context on the stack</em>
<a id="L548" name="L548"></a> 548         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L549" name="L549"></a> 549                                         (<a href="../D/10591.html" title="Multiple defined in 3 places.">action</a>,
<a id="L550" name="L550"></a> 550                                         <a href="../D/13730.html" title="Multiple defined in 14 places.">createContext</a>(subject, callerAcc));
<a id="L551" name="L551"></a> 551     <em class="brace">}</em>
<a id="L552" name="L552"></a> 552 
<a id="L553" name="L553"></a> 553     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> <a href="../R/12310.html" title="Multiple referred from 6 places.">createContext</a>(<strong class="reserved">final</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject,
<a id="L554" name="L554"></a> 554                                         <strong class="reserved">final</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> acc) <em class="brace">{</em>
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556 
<a id="L557" name="L557"></a> 557         <strong class="reserved">return</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L558" name="L558"></a> 558             (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a>&gt;() <em class="brace">{</em>
<a id="L559" name="L559"></a> 559             <strong class="reserved">public</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L560" name="L560"></a> 560                 <strong class="reserved">if</strong> (subject == <strong class="reserved">null</strong>)
<a id="L561" name="L561"></a> 561                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a>(acc, <strong class="reserved">null</strong>);
<a id="L562" name="L562"></a> 562                 <strong class="reserved">else</strong>
<a id="L563" name="L563"></a> 563                     <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1212.html#L77" title="Defined at 77 in src/java/security/AccessControlContext.java.">AccessControlContext</a>
<a id="L564" name="L564"></a> 564                                         (acc,
<a id="L565" name="L565"></a> 565                                         <strong class="reserved">new</strong> <a href="../S/2641.html#L47" title="Defined at 47 in src/javax/security/auth/SubjectDomainCombiner.java.">SubjectDomainCombiner</a>(subject));
<a id="L566" name="L566"></a> 566             <em class="brace">}</em>
<a id="L567" name="L567"></a> 567         <em class="brace">}</em>);
<a id="L568" name="L568"></a> 568     <em class="brace">}</em>
<a id="L569" name="L569"></a> 569 
<div class="comment">
      Return the <code>Set</code> of Principals associated with this
      <code>Subject</code>.  Each <code>Principal</code> represents
      an identity for this <code>Subject</code>.
      <p> The returned <code>Set</code> is backed by this Subject's
      internal <code>Principal</code> <code>Set</code>.  Any modification
      to the returned <code>Set</code> affects the internal
      <code>Principal</code> <code>Set</code> as well.
      </p><p>
      @return  The <code>Set</code> of Principals associated with this
               <code>Subject</code>.</p></div>
<a id="L585" name="L585"></a> 585     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; <a href="../R/18472.html" title="Multiple referred from 60 places.">getPrincipals</a>() <em class="brace">{</em>
<a id="L586" name="L586"></a> 586 
<a id="L587" name="L587"></a> 587         <em class="comment">// always return an empty Set instead of null</em>
<a id="L588" name="L588"></a> 588         <em class="comment">// so LoginModules can add to the Set if necessary</em>
<a id="L589" name="L589"></a> 589         <strong class="reserved">return</strong> principals;
<a id="L590" name="L590"></a> 590     <em class="brace">}</em>
<a id="L591" name="L591"></a> 591 
<div class="comment">
      Return a <code>Set</code> of Principals associated with this
      <code>Subject</code> that are instances or subclasses of the specified
      <code>Class</code>.
      <p> The returned <code>Set</code> is not backed by this Subject's
      internal <code>Principal</code> <code>Set</code>.  A new
      <code>Set</code> is created and returned for each method invocation.
      Modifications to the returned <code>Set</code>
      will not affect the internal <code>Principal</code> <code>Set</code>.
      </p><p>
      @param <t> the type of the class modeled by <code>c</code>
      @param c the returned <code>Set</code> of Principals will all be
               instances of this class.
      @return a <code>Set</code> of Principals that are instances of the
               specified <code>Class</code>.
      @exception NullPointerException if the specified <code>Class</code>
                       is <code>null</code>.</t></p></div>
<a id="L616" name="L616"></a> 616     <strong class="reserved">public</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <strong class="reserved">extends</strong> <a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/18472.html" title="Multiple referred from 60 places.">getPrincipals</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617 
<a id="L618" name="L618"></a> 618         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>)
<a id="L619" name="L619"></a> 619             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L620" name="L620"></a> 620                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.Class.provided"));
<a id="L621" name="L621"></a> 621 
<a id="L622" name="L622"></a> 622         <em class="comment">// always return an empty Set instead of null</em>
<a id="L623" name="L623"></a> 623         <em class="comment">// so LoginModules can add to the Set if necessary</em>
<a id="L624" name="L624"></a> 624         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1533.html" title="Multiple defined in 2 places.">ClassSet</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;(PRINCIPAL_SET, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L625" name="L625"></a> 625     <em class="brace">}</em>
<a id="L626" name="L626"></a> 626 
<div class="comment">
      Return the <code>Set</code> of public credentials held by this
      <code>Subject</code>.
      <p> The returned <code>Set</code> is backed by this Subject's
      internal public Credential <code>Set</code>.  Any modification
      to the returned <code>Set</code> affects the internal public
      Credential <code>Set</code> as well.
      </p><p>
      @return  A <code>Set</code> of public credentials held by this
               <code>Subject</code>.</p></div>
<a id="L641" name="L641"></a> 641     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../R/18553.html" title="Multiple referred from 4 places.">getPublicCredentials</a>() <em class="brace">{</em>
<a id="L642" name="L642"></a> 642 
<a id="L643" name="L643"></a> 643         <em class="comment">// always return an empty Set instead of null</em>
<a id="L644" name="L644"></a> 644         <em class="comment">// so LoginModules can add to the Set if necessary</em>
<a id="L645" name="L645"></a> 645         <strong class="reserved">return</strong> pubCredentials;
<a id="L646" name="L646"></a> 646     <em class="brace">}</em>
<a id="L647" name="L647"></a> 647 
<div class="comment">
      Return the <code>Set</code> of private credentials held by this
      <code>Subject</code>.
      <p> The returned <code>Set</code> is backed by this Subject's
      internal private Credential <code>Set</code>.  Any modification
      to the returned <code>Set</code> affects the internal private
      Credential <code>Set</code> as well.
      </p><p> A caller requires permissions to access the Credentials
      in the returned <code>Set</code>, or to modify the
      <code>Set</code> itself.  A <code>SecurityException</code>
      is thrown if the caller does not have the proper permissions.
      </p><p> While iterating through the <code>Set</code>,
      a <code>SecurityException</code> is thrown
      if the caller does not have permission to access a
      particular Credential.  The <code>Iterator</code>
      is nevertheless advanced to next element in the <code>Set</code>.
      </p><p>
      @return  A <code>Set</code> of private credentials held by this
               <code>Subject</code>.</p></div>
<a id="L673" name="L673"></a> 673     <strong class="reserved">public</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; <a href="../R/18484.html" title="Multiple referred from 5 places.">getPrivateCredentials</a>() <em class="brace">{</em>
<a id="L674" name="L674"></a> 674 
<a id="L675" name="L675"></a> 675         <em class="comment">// XXX</em>
<a id="L676" name="L676"></a> 676         <em class="comment">// we do not need a security check for</em>
<a id="L677" name="L677"></a> 677         <em class="comment">// AuthPermission(getPrivateCredentials)</em>
<a id="L678" name="L678"></a> 678         <em class="comment">// because we already restrict access to private credentials</em>
<a id="L679" name="L679"></a> 679         <em class="comment">// via the PrivateCredentialPermission.  all the extra AuthPermission</em>
<a id="L680" name="L680"></a> 680         <em class="comment">// would do is protect the set operations themselves</em>
<a id="L681" name="L681"></a> 681         <em class="comment">// (like size()), which don't seem security-sensitive.</em>
<a id="L682" name="L682"></a> 682 
<a id="L683" name="L683"></a> 683         <em class="comment">// always return an empty Set instead of null</em>
<a id="L684" name="L684"></a> 684         <em class="comment">// so LoginModules can add to the Set if necessary</em>
<a id="L685" name="L685"></a> 685         <strong class="reserved">return</strong> privCredentials;
<a id="L686" name="L686"></a> 686     <em class="brace">}</em>
<a id="L687" name="L687"></a> 687 
<div class="comment">
      Return a <code>Set</code> of public credentials associated with this
      <code>Subject</code> that are instances or subclasses of the specified
      <code>Class</code>.
      <p> The returned <code>Set</code> is not backed by this Subject's
      internal public Credential <code>Set</code>.  A new
      <code>Set</code> is created and returned for each method invocation.
      Modifications to the returned <code>Set</code>
      will not affect the internal public Credential <code>Set</code>.
      </p><p>
      @param <t> the type of the class modeled by <code>c</code>
      @param c the returned <code>Set</code> of public credentials will all be
               instances of this class.
      @return a <code>Set</code> of public credentials that are instances
               of the  specified <code>Class</code>.
      @exception NullPointerException if the specified <code>Class</code>
               is <code>null</code>.</t></p></div>
<a id="L712" name="L712"></a> 712     <strong class="reserved">public</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/18553.html" title="Multiple referred from 4 places.">getPublicCredentials</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L713" name="L713"></a> 713 
<a id="L714" name="L714"></a> 714         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>)
<a id="L715" name="L715"></a> 715             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L716" name="L716"></a> 716                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.Class.provided"));
<a id="L717" name="L717"></a> 717 
<a id="L718" name="L718"></a> 718         <em class="comment">// always return an empty Set instead of null</em>
<a id="L719" name="L719"></a> 719         <em class="comment">// so LoginModules can add to the Set if necessary</em>
<a id="L720" name="L720"></a> 720         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1533.html" title="Multiple defined in 2 places.">ClassSet</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;(PUB_CREDENTIAL_SET, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L721" name="L721"></a> 721     <em class="brace">}</em>
<a id="L722" name="L722"></a> 722 
<div class="comment">
      Return a <code>Set</code> of private credentials associated with this
      <code>Subject</code> that are instances or subclasses of the specified
      <code>Class</code>.
      <p> The caller must have permission to access all of the
      requested Credentials, or a <code>SecurityException</code>
      will be thrown.
      </p><p> The returned <code>Set</code> is not backed by this Subject's
      internal private Credential <code>Set</code>.  A new
      <code>Set</code> is created and returned for each method invocation.
      Modifications to the returned <code>Set</code>
      will not affect the internal private Credential <code>Set</code>.
      </p><p>
      @param <t> the type of the class modeled by <code>c</code>
      @param c the returned <code>Set</code> of private credentials will all be
               instances of this class.
      @return a <code>Set</code> of private credentials that are instances
               of the  specified <code>Class</code>.
      @exception NullPointerException if the specified <code>Class</code>
               is <code>null</code>.</t></p></div>
<a id="L751" name="L751"></a> 751     <strong class="reserved">public</strong> &lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/18484.html" title="Multiple referred from 5 places.">getPrivateCredentials</a>(<a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753         <em class="comment">// XXX</em>
<a id="L754" name="L754"></a> 754         <em class="comment">// we do not need a security check for</em>
<a id="L755" name="L755"></a> 755         <em class="comment">// AuthPermission(getPrivateCredentials)</em>
<a id="L756" name="L756"></a> 756         <em class="comment">// because we already restrict access to private credentials</em>
<a id="L757" name="L757"></a> 757         <em class="comment">// via the PrivateCredentialPermission.  all the extra AuthPermission</em>
<a id="L758" name="L758"></a> 758         <em class="comment">// would do is protect the set operations themselves</em>
<a id="L759" name="L759"></a> 759         <em class="comment">// (like size()), which don't seem security-sensitive.</em>
<a id="L760" name="L760"></a> 760 
<a id="L761" name="L761"></a> 761         <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> == <strong class="reserved">null</strong>)
<a id="L762" name="L762"></a> 762             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L763" name="L763"></a> 763                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.Class.provided"));
<a id="L764" name="L764"></a> 764 
<a id="L765" name="L765"></a> 765         <em class="comment">// always return an empty Set instead of null</em>
<a id="L766" name="L766"></a> 766         <em class="comment">// so LoginModules can add to the Set if necessary</em>
<a id="L767" name="L767"></a> 767         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/1533.html" title="Multiple defined in 2 places.">ClassSet</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;(PRIV_CREDENTIAL_SET, <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L768" name="L768"></a> 768     <em class="brace">}</em>
<a id="L769" name="L769"></a> 769 
<div class="comment">
      Compares the specified Object with this <code>Subject</code>
      for equality.  Returns true if the given object is also a Subject
      and the two <code>Subject</code> instances are equivalent.
      More formally, two <code>Subject</code> instances are
      equal if their <code>Principal</code> and <code>Credential</code>
      Sets are equal.
      <p>
      @param o Object to be compared for equality with this
               <code>Subject</code>.
      @return true if the specified Object is equal to this
               <code>Subject</code>.
      @exception SecurityException if the caller does not have permission
               to access the private credentials for this <code>Subject</code>,
               or if the caller does not have permission to access the
               private credentials for the provided <code>Subject</code>.</p></div>
<a id="L791" name="L791"></a> 791     <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/13992.html" title="Multiple referred from 5400 places.">equals</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L792" name="L792"></a> 792 
<a id="L793" name="L793"></a> 793         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>)
<a id="L794" name="L794"></a> 794             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L795" name="L795"></a> 795 
<a id="L796" name="L796"></a> 796         <strong class="reserved">if</strong> (<strong class="reserved">this</strong> == <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>)
<a id="L797" name="L797"></a> 797             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L798" name="L798"></a> 798 
<a id="L799" name="L799"></a> 799         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>) <em class="brace">{</em>
<a id="L800" name="L800"></a> 800 
<a id="L801" name="L801"></a> 801             <strong class="reserved">final</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> that = (<a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>)<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>;
<a id="L802" name="L802"></a> 802 
<a id="L803" name="L803"></a> 803             <em class="comment">// check the principal and credential sets</em>
<a id="L804" name="L804"></a> 804             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; thatPrincipals;
<a id="L805" name="L805"></a> 805             <strong class="reserved">synchronized</strong>(that.principals) <em class="brace">{</em>
<a id="L806" name="L806"></a> 806                 <em class="comment">// avoid deadlock from dual locks</em>
<a id="L807" name="L807"></a> 807                 thatPrincipals = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt;(that.principals);
<a id="L808" name="L808"></a> 808             <em class="brace">}</em>
<a id="L809" name="L809"></a> 809             <strong class="reserved">if</strong> (!principals.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(thatPrincipals)) <em class="brace">{</em>
<a id="L810" name="L810"></a> 810                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L811" name="L811"></a> 811             <em class="brace">}</em>
<a id="L812" name="L812"></a> 812 
<a id="L813" name="L813"></a> 813             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; thatPubCredentials;
<a id="L814" name="L814"></a> 814             <strong class="reserved">synchronized</strong>(that.pubCredentials) <em class="brace">{</em>
<a id="L815" name="L815"></a> 815                 <em class="comment">// avoid deadlock from dual locks</em>
<a id="L816" name="L816"></a> 816                 thatPubCredentials = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(that.pubCredentials);
<a id="L817" name="L817"></a> 817             <em class="brace">}</em>
<a id="L818" name="L818"></a> 818             <strong class="reserved">if</strong> (!pubCredentials.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(thatPubCredentials)) <em class="brace">{</em>
<a id="L819" name="L819"></a> 819                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L820" name="L820"></a> 820             <em class="brace">}</em>
<a id="L821" name="L821"></a> 821 
<a id="L822" name="L822"></a> 822             <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; thatPrivCredentials;
<a id="L823" name="L823"></a> 823             <strong class="reserved">synchronized</strong>(that.privCredentials) <em class="brace">{</em>
<a id="L824" name="L824"></a> 824                 <em class="comment">// avoid deadlock from dual locks</em>
<a id="L825" name="L825"></a> 825                 thatPrivCredentials = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(that.privCredentials);
<a id="L826" name="L826"></a> 826             <em class="brace">}</em>
<a id="L827" name="L827"></a> 827             <strong class="reserved">if</strong> (!privCredentials.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(thatPrivCredentials)) <em class="brace">{</em>
<a id="L828" name="L828"></a> 828                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L829" name="L829"></a> 829             <em class="brace">}</em>
<a id="L830" name="L830"></a> 830             <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L831" name="L831"></a> 831         <em class="brace">}</em>
<a id="L832" name="L832"></a> 832         <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L833" name="L833"></a> 833     <em class="brace">}</em>
<a id="L834" name="L834"></a> 834 
<div class="comment">
      Return the String representation of this <code>Subject</code>.
      <p>
      @return the String representation of this <code>Subject</code>.</p></div>
<a id="L842" name="L842"></a> 842     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>() <em class="brace">{</em>
<a id="L843" name="L843"></a> 843         <strong class="reserved">return</strong> <a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(<strong class="reserved">true</strong>);
<a id="L844" name="L844"></a> 844     <em class="brace">}</em>
<a id="L845" name="L845"></a> 845 
<div class="comment">
      package private convenience method to print out the Subject
      without firing off a security check when trying to access
      the Private Credentials</div>
<a id="L851" name="L851"></a> 851     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/29337.html" title="Multiple referred from 3013 places.">toString</a>(<strong class="reserved">boolean</strong> includePrivateCredentials) <em class="brace">{</em>
<a id="L852" name="L852"></a> 852 
<a id="L853" name="L853"></a> 853         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> s = ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("Subject.");
<a id="L854" name="L854"></a> 854         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> suffix = "";
<a id="L855" name="L855"></a> 855 
<a id="L856" name="L856"></a> 856         <strong class="reserved">synchronized</strong>(principals) <em class="brace">{</em>
<a id="L857" name="L857"></a> 857             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; pI = principals.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L858" name="L858"></a> 858             <strong class="reserved">while</strong> (pI.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L859" name="L859"></a> 859                 <a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a> p = pI.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L860" name="L860"></a> 860                 suffix = suffix + ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>(".Principal.") +
<a id="L861" name="L861"></a> 861                         p.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("NEWLINE");
<a id="L862" name="L862"></a> 862             <em class="brace">}</em>
<a id="L863" name="L863"></a> 863         <em class="brace">}</em>
<a id="L864" name="L864"></a> 864 
<a id="L865" name="L865"></a> 865         <strong class="reserved">synchronized</strong>(pubCredentials) <em class="brace">{</em>
<a id="L866" name="L866"></a> 866             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; pI = pubCredentials.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L867" name="L867"></a> 867             <strong class="reserved">while</strong> (pI.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L868" name="L868"></a> 868                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = pI.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L869" name="L869"></a> 869                 suffix = suffix +
<a id="L870" name="L870"></a> 870                         ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>(".Public.Credential.") +
<a id="L871" name="L871"></a> 871                         <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() + ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("NEWLINE");
<a id="L872" name="L872"></a> 872             <em class="brace">}</em>
<a id="L873" name="L873"></a> 873         <em class="brace">}</em>
<a id="L874" name="L874"></a> 874 
<a id="L875" name="L875"></a> 875         <strong class="reserved">if</strong> (includePrivateCredentials) <em class="brace">{</em>
<a id="L876" name="L876"></a> 876             <strong class="reserved">synchronized</strong>(privCredentials) <em class="brace">{</em>
<a id="L877" name="L877"></a> 877                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; pI = privCredentials.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L878" name="L878"></a> 878                 <strong class="reserved">while</strong> (pI.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L879" name="L879"></a> 879                     <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L880" name="L880"></a> 880                         <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = pI.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L881" name="L881"></a> 881                         suffix += ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>
<a id="L882" name="L882"></a> 882                                         (".Private.Credential.") +
<a id="L883" name="L883"></a> 883                                         <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>() +
<a id="L884" name="L884"></a> 884                                         ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("NEWLINE");
<a id="L885" name="L885"></a> 885                     <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se) <em class="brace">{</em>
<a id="L886" name="L886"></a> 886                         suffix += ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>
<a id="L887" name="L887"></a> 887                                 (".Private.Credential.inaccessible.");
<a id="L888" name="L888"></a> 888                         <strong class="reserved">break</strong>;
<a id="L889" name="L889"></a> 889                     <em class="brace">}</em>
<a id="L890" name="L890"></a> 890                 <em class="brace">}</em>
<a id="L891" name="L891"></a> 891             <em class="brace">}</em>
<a id="L892" name="L892"></a> 892         <em class="brace">}</em>
<a id="L893" name="L893"></a> 893         <strong class="reserved">return</strong> s + suffix;
<a id="L894" name="L894"></a> 894     <em class="brace">}</em>
<a id="L895" name="L895"></a> 895 
<div class="comment">
      Returns a hashcode for this <code>Subject</code>.
      <p>
      @return a hashcode for this <code>Subject</code>.
      @exception SecurityException if the caller does not have permission
               to access this Subject's private credentials.</p></div>
<a id="L906" name="L906"></a> 906     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/20298.html" title="Multiple referred from 715 places.">hashCode</a>() <em class="brace">{</em>
<a id="L907" name="L907"></a> 907 
<div class="comment">
          The hashcode is derived exclusive or-ing the
          hashcodes of this Subject's Principals and credentials.
          If a particular credential was destroyed
          (<code>credential.hashCode()</code> throws an
          <code>IllegalStateException</code>),
          the hashcode for that credential is derived via:
          <code>credential.getClass().toString().hashCode()</code>.</div>
<a id="L918" name="L918"></a> 918 
<a id="L919" name="L919"></a> 919         <strong class="reserved">int</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> = 0;
<a id="L920" name="L920"></a> 920 
<a id="L921" name="L921"></a> 921         <strong class="reserved">synchronized</strong>(principals) <em class="brace">{</em>
<a id="L922" name="L922"></a> 922             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; pIterator = principals.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L923" name="L923"></a> 923             <strong class="reserved">while</strong> (pIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L924" name="L924"></a> 924                 <a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a> p = pIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L925" name="L925"></a> 925                 <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> ^= p.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L926" name="L926"></a> 926             <em class="brace">}</em>
<a id="L927" name="L927"></a> 927         <em class="brace">}</em>
<a id="L928" name="L928"></a> 928 
<a id="L929" name="L929"></a> 929         <strong class="reserved">synchronized</strong>(pubCredentials) <em class="brace">{</em>
<a id="L930" name="L930"></a> 930             <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt; pubCIterator = pubCredentials.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L931" name="L931"></a> 931             <strong class="reserved">while</strong> (pubCIterator.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L932" name="L932"></a> 932                 <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a> ^= <a href="../S/2639.html#L941" title="Defined at 941 in src/javax/security/auth/Subject.java.">getCredHashCode</a>(pubCIterator.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>());
<a id="L933" name="L933"></a> 933             <em class="brace">}</em>
<a id="L934" name="L934"></a> 934         <em class="brace">}</em>
<a id="L935" name="L935"></a> 935         <strong class="reserved">return</strong> <a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>;
<a id="L936" name="L936"></a> 936     <em class="brace">}</em>
<a id="L937" name="L937"></a> 937 
<div class="comment">
      get a credential's hashcode</div>
<a id="L941" name="L941"></a> 941     <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../S/2639.html#L932" title="Referred from 932 in src/javax/security/auth/Subject.java.">getCredHashCode</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L942" name="L942"></a> 942         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L943" name="L943"></a> 943             <strong class="reserved">return</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L944" name="L944"></a> 944         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a> ise) <em class="brace">{</em>
<a id="L945" name="L945"></a> 945             <strong class="reserved">return</strong> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>().<a href="../D/24220.html" title="Multiple defined in 552 places.">hashCode</a>();
<a id="L946" name="L946"></a> 946         <em class="brace">}</em>
<a id="L947" name="L947"></a> 947     <em class="brace">}</em>
<a id="L948" name="L948"></a> 948 
<div class="comment">
      Writes this object out to a stream (i.e., serializes it).</div>
<a id="L952" name="L952"></a> 952     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> oos)
<a id="L953" name="L953"></a> 953                 <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L954" name="L954"></a> 954         <strong class="reserved">synchronized</strong>(principals) <em class="brace">{</em>
<a id="L955" name="L955"></a> 955             oos.<a href="../D/14752.html" title="Multiple defined in 6 places.">defaultWriteObject</a>();
<a id="L956" name="L956"></a> 956         <em class="brace">}</em>
<a id="L957" name="L957"></a> 957     <em class="brace">}</em>
<a id="L958" name="L958"></a> 958 
<div class="comment">
      Reads this object from a stream (i.e., deserializes it)</div>
<a id="L962" name="L962"></a> 962     @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L963" name="L963"></a> 963     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> s)
<a id="L964" name="L964"></a> 964                 <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a> <em class="brace">{</em>
<a id="L965" name="L965"></a> 965 
<a id="L966" name="L966"></a> 966         <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> gf = s.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L967" name="L967"></a> 967 
<a id="L968" name="L968"></a> 968         readOnly = gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("readOnly", <strong class="reserved">false</strong>);
<a id="L969" name="L969"></a> 969 
<a id="L970" name="L970"></a> 970         <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt; inputPrincs = (<a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt;)gf.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("principals", <strong class="reserved">null</strong>);
<a id="L971" name="L971"></a> 971 
<a id="L972" name="L972"></a> 972         <em class="comment">// Rewrap the principals into a SecureSet</em>
<a id="L973" name="L973"></a> 973         <strong class="reserved">if</strong> (inputPrincs == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L974" name="L974"></a> 974             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>
<a id="L975" name="L975"></a> 975                 (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("invalid.null.input.s."));
<a id="L976" name="L976"></a> 976         <em class="brace">}</em>
<a id="L977" name="L977"></a> 977         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L978" name="L978"></a> 978             principals = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>(<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt;
<a id="L979" name="L979"></a> 979                                 (<strong class="reserved">this</strong>, PRINCIPAL_SET, inputPrincs));
<a id="L980" name="L980"></a> 980         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> npe) <em class="brace">{</em>
<a id="L981" name="L981"></a> 981             <em class="comment">// Sometimes people deserialize the principals set only.</em>
<a id="L982" name="L982"></a> 982             <em class="comment">// Subject is not accessible, so just don't fail.</em>
<a id="L983" name="L983"></a> 983             principals = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>
<a id="L984" name="L984"></a> 984                         (<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>&gt;(<strong class="reserved">this</strong>, PRINCIPAL_SET));
<a id="L985" name="L985"></a> 985         <em class="brace">}</em>
<a id="L986" name="L986"></a> 986 
<a id="L987" name="L987"></a> 987         <em class="comment">// The Credential {@code Set} is not serialized, but we do not</em>
<a id="L988" name="L988"></a> 988         <em class="comment">// want the default deserialization routine to set it to null.</em>
<a id="L989" name="L989"></a> 989         <strong class="reserved">this</strong>.pubCredentials = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>
<a id="L990" name="L990"></a> 990                         (<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(<strong class="reserved">this</strong>, PUB_CREDENTIAL_SET));
<a id="L991" name="L991"></a> 991         <strong class="reserved">this</strong>.privCredentials = <a href="../S/1147.html#L80" title="Defined at 80 in src/java/util/Collections.java.">Collections</a>.<a href="../D/35175.html" title="Multiple defined in 2 places.">synchronizedSet</a>
<a id="L992" name="L992"></a> 992                         (<strong class="reserved">new</strong> <a href="../S/2639.html#L1000" title="Defined at 1000 in src/javax/security/auth/Subject.java.">SecureSet</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;(<strong class="reserved">this</strong>, PRIV_CREDENTIAL_SET));
<a id="L993" name="L993"></a> 993     <em class="brace">}</em>
<a id="L994" name="L994"></a> 994 
<div class="comment">
      Prevent modifications unless caller has permission.
      @serial include</div>
<a id="L1000" name="L1000"></a>1000     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/6988.html" title="Multiple referred from 10 places.">SecureSet</a>&lt;E&gt;
<a id="L1001" name="L1001"></a>1001         <strong class="reserved">extends</strong> <a href="../S/869.html#L58" title="Defined at 58 in src/java/util/AbstractSet.java.">AbstractSet</a>&lt;E&gt;
<a id="L1002" name="L1002"></a>1002         <strong class="reserved">implements</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1407.html#L169" title="Defined at 169 in src/java/io/Serializable.java.">Serializable</a> <em class="brace">{</em>
<a id="L1003" name="L1003"></a>1003 
<a id="L1004" name="L1004"></a>1004         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">long</strong> serialVersionUID = 7911754171111800359L;
<a id="L1005" name="L1005"></a>1005 
<div class="comment">
          @serialField this$0 Subject The outer Subject instance.
          @serialField elements LinkedList The elements in this set.</div>
<a id="L1010" name="L1010"></a>1010         <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>[] serialPersistentFields = <em class="brace">{</em>
<a id="L1011" name="L1011"></a>1011             <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("this$0", <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.<strong class="reserved">class</strong>),
<a id="L1012" name="L1012"></a>1012             <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("elements", <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>.<strong class="reserved">class</strong>),
<a id="L1013" name="L1013"></a>1013             <strong class="reserved">new</strong> <a href="../D/6334.html" title="Multiple defined in 3 places.">ObjectStreamField</a>("which", <strong class="reserved">int</strong>.<strong class="reserved">class</strong>)
<a id="L1014" name="L1014"></a>1014         <em class="brace">}</em>;
<a id="L1015" name="L1015"></a>1015 
<a id="L1016" name="L1016"></a>1016         <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject;
<a id="L1017" name="L1017"></a>1017         <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt; <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>;
<a id="L1018" name="L1018"></a>1018 
<div class="comment">
          @serial An integer identifying the type of objects contained
               in this set.  If <code>which == 1</code>,
               this is a Principal set and all the elements are
               of type <code>java.security.Principal</code>.
               If <code>which == 2</code>, this is a public credential
               set and all the elements are of type <code>Object</code>.
               If <code>which == 3</code>, this is a private credential
               set and all the elements are of type <code>Object</code>.</div>
<a id="L1029" name="L1029"></a>1029         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>;
<a id="L1030" name="L1030"></a>1030 
<a id="L1031" name="L1031"></a>1031         SecureSet(<a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject, <strong class="reserved">int</strong> <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>) <em class="brace">{</em>
<a id="L1032" name="L1032"></a>1032             <strong class="reserved">this</strong>.subject = subject;
<a id="L1033" name="L1033"></a>1033             <strong class="reserved">this</strong>.<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> = <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>;
<a id="L1034" name="L1034"></a>1034             <strong class="reserved">this</strong>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt;();
<a id="L1035" name="L1035"></a>1035         <em class="brace">}</em>
<a id="L1036" name="L1036"></a>1036 
<a id="L1037" name="L1037"></a>1037         SecureSet(<a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a> subject, <strong class="reserved">int</strong> <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>, <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;? <strong class="reserved">extends</strong> E&gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>) <em class="brace">{</em>
<a id="L1038" name="L1038"></a>1038             <strong class="reserved">this</strong>.subject = subject;
<a id="L1039" name="L1039"></a>1039             <strong class="reserved">this</strong>.<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> = <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>;
<a id="L1040" name="L1040"></a>1040             <strong class="reserved">this</strong>.<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt;(<a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>);
<a id="L1041" name="L1041"></a>1041         <em class="brace">}</em>
<a id="L1042" name="L1042"></a>1042 
<a id="L1043" name="L1043"></a>1043         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L1044" name="L1044"></a>1044             <strong class="reserved">return</strong> <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1045" name="L1045"></a>1045         <em class="brace">}</em>
<a id="L1046" name="L1046"></a>1046 
<a id="L1047" name="L1047"></a>1047         <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L1048" name="L1048"></a>1048             <strong class="reserved">final</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt; <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a> = <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>;
<a id="L1049" name="L1049"></a>1049             <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt;() <em class="brace">{</em>
<a id="L1050" name="L1050"></a>1050                 <a href="../S/1187.html#L60" title="Defined at 60 in src/java/util/ListIterator.java.">ListIterator</a>&lt;E&gt; i = <a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/26876.html" title="Multiple defined in 26 places.">listIterator</a>(0);
<a id="L1051" name="L1051"></a>1051 
<a id="L1052" name="L1052"></a>1052                 <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>() <em class="brace">{</em><strong class="reserved">return</strong> i.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>();<em class="brace">}</em>
<a id="L1053" name="L1053"></a>1053 
<a id="L1054" name="L1054"></a>1054                 <strong class="reserved">public</strong> E <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>() <em class="brace">{</em>
<a id="L1055" name="L1055"></a>1055                     <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1056" name="L1056"></a>1056                         <strong class="reserved">return</strong> i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1057" name="L1057"></a>1057                     <em class="brace">}</em>
<a id="L1058" name="L1058"></a>1058 
<a id="L1059" name="L1059"></a>1059                     <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1060" name="L1060"></a>1060                     <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1061" name="L1061"></a>1061                         <strong class="reserved">try</strong> <em class="brace">{</em>
<a id="L1062" name="L1062"></a>1062                             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/2645.html#L104" title="Defined at 104 in src/javax/security/auth/PrivateCredentialPermission.java.">PrivateCredentialPermission</a>
<a id="L1063" name="L1063"></a>1063                                 (<a href="../D/26871.html" title="Multiple defined in 42 places.">list</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(i.<a href="../D/28157.html" title="Multiple defined in 12 places.">nextIndex</a>()).<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L1064" name="L1064"></a>1064                                 subject.<a href="../D/21663.html" title="Multiple defined in 4 places.">getPrincipals</a>()));
<a id="L1065" name="L1065"></a>1065                         <em class="brace">}</em> <strong class="reserved">catch</strong> (<a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a> se) <em class="brace">{</em>
<a id="L1066" name="L1066"></a>1066                             i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1067" name="L1067"></a>1067                             <strong class="reserved">throw</strong> (se);
<a id="L1068" name="L1068"></a>1068                         <em class="brace">}</em>
<a id="L1069" name="L1069"></a>1069                     <em class="brace">}</em>
<a id="L1070" name="L1070"></a>1070                     <strong class="reserved">return</strong> i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1071" name="L1071"></a>1071                 <em class="brace">}</em>
<a id="L1072" name="L1072"></a>1072 
<a id="L1073" name="L1073"></a>1073                 <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>() <em class="brace">{</em>
<a id="L1074" name="L1074"></a>1074 
<a id="L1075" name="L1075"></a>1075                     <strong class="reserved">if</strong> (subject.<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L1076" name="L1076"></a>1076                         <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>(ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>
<a id="L1077" name="L1077"></a>1077                                 ("Subject.is.read.only"));
<a id="L1078" name="L1078"></a>1078                     <em class="brace">}</em>
<a id="L1079" name="L1079"></a>1079 
<a id="L1080" name="L1080"></a>1080                     <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1081" name="L1081"></a>1081                     <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1082" name="L1082"></a>1082                         <strong class="reserved">switch</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>) <em class="brace">{</em>
<a id="L1083" name="L1083"></a>1083                         <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRINCIPAL_SET:
<a id="L1084" name="L1084"></a>1084                             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.MODIFY_PRINCIPALS_PERMISSION);
<a id="L1085" name="L1085"></a>1085                             <strong class="reserved">break</strong>;
<a id="L1086" name="L1086"></a>1086                         <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PUB_CREDENTIAL_SET:
<a id="L1087" name="L1087"></a>1087                             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.MODIFY_PUBLIC_CREDENTIALS_PERMISSION);
<a id="L1088" name="L1088"></a>1088                             <strong class="reserved">break</strong>;
<a id="L1089" name="L1089"></a>1089                         <strong class="reserved">default</strong>:
<a id="L1090" name="L1090"></a>1090                             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.MODIFY_PRIVATE_CREDENTIALS_PERMISSION);
<a id="L1091" name="L1091"></a>1091                             <strong class="reserved">break</strong>;
<a id="L1092" name="L1092"></a>1092                         <em class="brace">}</em>
<a id="L1093" name="L1093"></a>1093                     <em class="brace">}</em>
<a id="L1094" name="L1094"></a>1094                     i.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1095" name="L1095"></a>1095                 <em class="brace">}</em>
<a id="L1096" name="L1096"></a>1096             <em class="brace">}</em>;
<a id="L1097" name="L1097"></a>1097         <em class="brace">}</em>
<a id="L1098" name="L1098"></a>1098 
<a id="L1099" name="L1099"></a>1099         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(E <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L1100" name="L1100"></a>1100 
<a id="L1101" name="L1101"></a>1101             <strong class="reserved">if</strong> (subject.<a href="../D/26131.html" title="Multiple defined in 90 places.">isReadOnly</a>()) <em class="brace">{</em>
<a id="L1102" name="L1102"></a>1102                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>
<a id="L1103" name="L1103"></a>1103                         (ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>("Subject.is.read.only"));
<a id="L1104" name="L1104"></a>1104             <em class="brace">}</em>
<a id="L1105" name="L1105"></a>1105 
<a id="L1106" name="L1106"></a>1106             <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.lang.<a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1107" name="L1107"></a>1107             <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1108" name="L1108"></a>1108                 <strong class="reserved">switch</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>) <em class="brace">{</em>
<a id="L1109" name="L1109"></a>1109                 <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRINCIPAL_SET:
<a id="L1110" name="L1110"></a>1110                     sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.MODIFY_PRINCIPALS_PERMISSION);
<a id="L1111" name="L1111"></a>1111                     <strong class="reserved">break</strong>;
<a id="L1112" name="L1112"></a>1112                 <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PUB_CREDENTIAL_SET:
<a id="L1113" name="L1113"></a>1113                     sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.MODIFY_PUBLIC_CREDENTIALS_PERMISSION);
<a id="L1114" name="L1114"></a>1114                     <strong class="reserved">break</strong>;
<a id="L1115" name="L1115"></a>1115                 <strong class="reserved">default</strong>:
<a id="L1116" name="L1116"></a>1116                     sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<a href="../S/2639.html#L1445" title="Defined at 1445 in src/javax/security/auth/Subject.java.">AuthPermissionHolder</a>.MODIFY_PRIVATE_CREDENTIALS_PERMISSION);
<a id="L1117" name="L1117"></a>1117                     <strong class="reserved">break</strong>;
<a id="L1118" name="L1118"></a>1118                 <em class="brace">}</em>
<a id="L1119" name="L1119"></a>1119             <em class="brace">}</em>
<a id="L1120" name="L1120"></a>1120 
<a id="L1121" name="L1121"></a>1121             <strong class="reserved">switch</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>) <em class="brace">{</em>
<a id="L1122" name="L1122"></a>1122             <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRINCIPAL_SET:
<a id="L1123" name="L1123"></a>1123                 <strong class="reserved">if</strong> (!(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> <strong class="reserved">instanceof</strong> <a href="../D/6815.html" title="Multiple defined in 2 places.">Principal</a>)) <em class="brace">{</em>
<a id="L1124" name="L1124"></a>1124                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>(ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>
<a id="L1125" name="L1125"></a>1125                         ("attempting.to.add.an.object.which.is.not.an.instance.of.java.security.Principal.to.a.Subject.s.Principal.Set"));
<a id="L1126" name="L1126"></a>1126                 <em class="brace">}</em>
<a id="L1127" name="L1127"></a>1127                 <strong class="reserved">break</strong>;
<a id="L1128" name="L1128"></a>1128             <strong class="reserved">default</strong>:
<a id="L1129" name="L1129"></a>1129                 <em class="comment">// ok to add Objects of any kind to credential sets</em>
<a id="L1130" name="L1130"></a>1130                 <strong class="reserved">break</strong>;
<a id="L1131" name="L1131"></a>1131             <em class="brace">}</em>
<a id="L1132" name="L1132"></a>1132 
<a id="L1133" name="L1133"></a>1133             <em class="comment">// check for duplicates</em>
<a id="L1134" name="L1134"></a>1134             <strong class="reserved">if</strong> (!<a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/13313.html" title="Multiple defined in 245 places.">contains</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>))
<a id="L1135" name="L1135"></a>1135                 <strong class="reserved">return</strong> <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L1136" name="L1136"></a>1136             <strong class="reserved">else</strong>
<a id="L1137" name="L1137"></a>1137                 <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1138" name="L1138"></a>1138         <em class="brace">}</em>
<a id="L1139" name="L1139"></a>1139 
<a id="L1140" name="L1140"></a>1140         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/25882.html" title="Multiple referred from 1115 places.">remove</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L1141" name="L1141"></a>1141 
<a id="L1142" name="L1142"></a>1142             <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; e = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1143" name="L1143"></a>1143             <strong class="reserved">while</strong> (e.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1144" name="L1144"></a>1144                 E <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1145" name="L1145"></a>1145                 <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1146" name="L1146"></a>1146                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1147" name="L1147"></a>1147                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1148" name="L1148"></a>1148                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L1149" name="L1149"></a>1149                         (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;E&gt;() <em class="brace">{</em>
<a id="L1150" name="L1150"></a>1150                         <strong class="reserved">public</strong> E <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1151" name="L1151"></a>1151                             <strong class="reserved">return</strong> e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1152" name="L1152"></a>1152                         <em class="brace">}</em>
<a id="L1153" name="L1153"></a>1153                     <em class="brace">}</em>);
<a id="L1154" name="L1154"></a>1154                 <em class="brace">}</em>
<a id="L1155" name="L1155"></a>1155 
<a id="L1156" name="L1156"></a>1156                 <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1157" name="L1157"></a>1157                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1158" name="L1158"></a>1158                         e.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1159" name="L1159"></a>1159                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1160" name="L1160"></a>1160                     <em class="brace">}</em>
<a id="L1161" name="L1161"></a>1161                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>)) <em class="brace">{</em>
<a id="L1162" name="L1162"></a>1162                     e.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1163" name="L1163"></a>1163                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1164" name="L1164"></a>1164                 <em class="brace">}</em>
<a id="L1165" name="L1165"></a>1165             <em class="brace">}</em>
<a id="L1166" name="L1166"></a>1166             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1167" name="L1167"></a>1167         <em class="brace">}</em>
<a id="L1168" name="L1168"></a>1168 
<a id="L1169" name="L1169"></a>1169         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/11949.html" title="Multiple referred from 682 places.">contains</a>(<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L1170" name="L1170"></a>1170             <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; e = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1171" name="L1171"></a>1171             <strong class="reserved">while</strong> (e.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1172" name="L1172"></a>1172                 E <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1173" name="L1173"></a>1173                 <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1174" name="L1174"></a>1174                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1175" name="L1175"></a>1175                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1176" name="L1176"></a>1176 
<a id="L1177" name="L1177"></a>1177                     <em class="comment">// For private credentials:</em>
<a id="L1178" name="L1178"></a>1178                     <em class="comment">// If the caller does not have read permission for</em>
<a id="L1179" name="L1179"></a>1179                     <em class="comment">// for o.getClass(), we throw a SecurityException.</em>
<a id="L1180" name="L1180"></a>1180                     <em class="comment">// Otherwise we check the private cred set to see whether</em>
<a id="L1181" name="L1181"></a>1181                     <em class="comment">// it contains the Object</em>
<a id="L1182" name="L1182"></a>1182 
<a id="L1183" name="L1183"></a>1183                     <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1184" name="L1184"></a>1184                     <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1185" name="L1185"></a>1185                         sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/2645.html#L104" title="Defined at 104 in src/javax/security/auth/PrivateCredentialPermission.java.">PrivateCredentialPermission</a>
<a id="L1186" name="L1186"></a>1186                                                 (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L1187" name="L1187"></a>1187                                                 subject.<a href="../D/21663.html" title="Multiple defined in 4 places.">getPrincipals</a>()));
<a id="L1188" name="L1188"></a>1188                     <em class="brace">}</em>
<a id="L1189" name="L1189"></a>1189                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L1190" name="L1190"></a>1190                         (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;E&gt;() <em class="brace">{</em>
<a id="L1191" name="L1191"></a>1191                         <strong class="reserved">public</strong> E <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1192" name="L1192"></a>1192                             <strong class="reserved">return</strong> e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1193" name="L1193"></a>1193                         <em class="brace">}</em>
<a id="L1194" name="L1194"></a>1194                     <em class="brace">}</em>);
<a id="L1195" name="L1195"></a>1195                 <em class="brace">}</em>
<a id="L1196" name="L1196"></a>1196 
<a id="L1197" name="L1197"></a>1197                 <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1198" name="L1198"></a>1198                     <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1199" name="L1199"></a>1199                         <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1200" name="L1200"></a>1200                     <em class="brace">}</em>
<a id="L1201" name="L1201"></a>1201                 <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>)) <em class="brace">{</em>
<a id="L1202" name="L1202"></a>1202                     <strong class="reserved">return</strong> <strong class="reserved">true</strong>;
<a id="L1203" name="L1203"></a>1203                 <em class="brace">}</em>
<a id="L1204" name="L1204"></a>1204             <em class="brace">}</em>
<a id="L1205" name="L1205"></a>1205             <strong class="reserved">return</strong> <strong class="reserved">false</strong>;
<a id="L1206" name="L1206"></a>1206         <em class="brace">}</em>
<a id="L1207" name="L1207"></a>1207 
<a id="L1208" name="L1208"></a>1208         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/25889.html" title="Multiple referred from 59 places.">removeAll</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1209" name="L1209"></a>1209             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1210" name="L1210"></a>1210             <strong class="reserved">boolean</strong> modified = <strong class="reserved">false</strong>;
<a id="L1211" name="L1211"></a>1211             <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; e = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1212" name="L1212"></a>1212             <strong class="reserved">while</strong> (e.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1213" name="L1213"></a>1213                 E <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1214" name="L1214"></a>1214                 <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1215" name="L1215"></a>1215                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1216" name="L1216"></a>1216                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1217" name="L1217"></a>1217                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L1218" name="L1218"></a>1218                         (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;E&gt;() <em class="brace">{</em>
<a id="L1219" name="L1219"></a>1219                         <strong class="reserved">public</strong> E <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1220" name="L1220"></a>1220                             <strong class="reserved">return</strong> e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1221" name="L1221"></a>1221                         <em class="brace">}</em>
<a id="L1222" name="L1222"></a>1222                     <em class="brace">}</em>);
<a id="L1223" name="L1223"></a>1223                 <em class="brace">}</em>
<a id="L1224" name="L1224"></a>1224 
<a id="L1225" name="L1225"></a>1225                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;?&gt; ce = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1226" name="L1226"></a>1226                 <strong class="reserved">while</strong> (ce.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1227" name="L1227"></a>1227                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = ce.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1228" name="L1228"></a>1228                     <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1229" name="L1229"></a>1229                         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1230" name="L1230"></a>1230                             e.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1231" name="L1231"></a>1231                             modified = <strong class="reserved">true</strong>;
<a id="L1232" name="L1232"></a>1232                             <strong class="reserved">break</strong>;
<a id="L1233" name="L1233"></a>1233                         <em class="brace">}</em>
<a id="L1234" name="L1234"></a>1234                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>)) <em class="brace">{</em>
<a id="L1235" name="L1235"></a>1235                         e.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1236" name="L1236"></a>1236                         modified = <strong class="reserved">true</strong>;
<a id="L1237" name="L1237"></a>1237                         <strong class="reserved">break</strong>;
<a id="L1238" name="L1238"></a>1238                     <em class="brace">}</em>
<a id="L1239" name="L1239"></a>1239                 <em class="brace">}</em>
<a id="L1240" name="L1240"></a>1240             <em class="brace">}</em>
<a id="L1241" name="L1241"></a>1241             <strong class="reserved">return</strong> modified;
<a id="L1242" name="L1242"></a>1242         <em class="brace">}</em>
<a id="L1243" name="L1243"></a>1243 
<a id="L1244" name="L1244"></a>1244         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/26446.html" title="Multiple referred from 10 places.">retainAll</a>(<a href="../S/875.html#L144" title="Defined at 144 in src/java/util/Collection.java.">Collection</a>&lt;?&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1245" name="L1245"></a>1245             <a href="../S/859.html#L38" title="Defined at 38 in src/java/util/Objects.java.">Objects</a>.<a href="../D/31141.html" title="Multiple defined in 4 places.">requireNonNull</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>);
<a id="L1246" name="L1246"></a>1246             <strong class="reserved">boolean</strong> modified = <strong class="reserved">false</strong>;
<a id="L1247" name="L1247"></a>1247             <strong class="reserved">boolean</strong> retain = <strong class="reserved">false</strong>;
<a id="L1248" name="L1248"></a>1248             <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; e = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1249" name="L1249"></a>1249             <strong class="reserved">while</strong> (e.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1250" name="L1250"></a>1250                 retain = <strong class="reserved">false</strong>;
<a id="L1251" name="L1251"></a>1251                 E <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1252" name="L1252"></a>1252                 <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1253" name="L1253"></a>1253                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1254" name="L1254"></a>1254                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1255" name="L1255"></a>1255                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L1256" name="L1256"></a>1256                         (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;E&gt;() <em class="brace">{</em>
<a id="L1257" name="L1257"></a>1257                         <strong class="reserved">public</strong> E <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1258" name="L1258"></a>1258                             <strong class="reserved">return</strong> e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1259" name="L1259"></a>1259                         <em class="brace">}</em>
<a id="L1260" name="L1260"></a>1260                     <em class="brace">}</em>);
<a id="L1261" name="L1261"></a>1261                 <em class="brace">}</em>
<a id="L1262" name="L1262"></a>1262 
<a id="L1263" name="L1263"></a>1263                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;?&gt; ce = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1264" name="L1264"></a>1264                 <strong class="reserved">while</strong> (ce.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1265" name="L1265"></a>1265                     <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> = ce.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1266" name="L1266"></a>1266                     <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1267" name="L1267"></a>1267                         <strong class="reserved">if</strong> (<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1268" name="L1268"></a>1268                             retain = <strong class="reserved">true</strong>;
<a id="L1269" name="L1269"></a>1269                             <strong class="reserved">break</strong>;
<a id="L1270" name="L1270"></a>1270                         <em class="brace">}</em>
<a id="L1271" name="L1271"></a>1271                     <em class="brace">}</em> <strong class="reserved">else</strong> <strong class="reserved">if</strong> (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/15685.html" title="Multiple defined in 654 places.">equals</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>)) <em class="brace">{</em>
<a id="L1272" name="L1272"></a>1272                         retain = <strong class="reserved">true</strong>;
<a id="L1273" name="L1273"></a>1273                         <strong class="reserved">break</strong>;
<a id="L1274" name="L1274"></a>1274                     <em class="brace">}</em>
<a id="L1275" name="L1275"></a>1275                 <em class="brace">}</em>
<a id="L1276" name="L1276"></a>1276 
<a id="L1277" name="L1277"></a>1277                 <strong class="reserved">if</strong> (!retain) <em class="brace">{</em>
<a id="L1278" name="L1278"></a>1278                     e.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1279" name="L1279"></a>1279                     retain = <strong class="reserved">false</strong>;
<a id="L1280" name="L1280"></a>1280                     modified = <strong class="reserved">true</strong>;
<a id="L1281" name="L1281"></a>1281                 <em class="brace">}</em>
<a id="L1282" name="L1282"></a>1282             <em class="brace">}</em>
<a id="L1283" name="L1283"></a>1283             <strong class="reserved">return</strong> modified;
<a id="L1284" name="L1284"></a>1284         <em class="brace">}</em>
<a id="L1285" name="L1285"></a>1285 
<a id="L1286" name="L1286"></a>1286         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11497.html" title="Multiple referred from 522 places.">clear</a>() <em class="brace">{</em>
<a id="L1287" name="L1287"></a>1287             <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; e = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1288" name="L1288"></a>1288             <strong class="reserved">while</strong> (e.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1289" name="L1289"></a>1289                 E <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1290" name="L1290"></a>1290                 <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1291" name="L1291"></a>1291                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1292" name="L1292"></a>1292                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1293" name="L1293"></a>1293                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L1294" name="L1294"></a>1294                         (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;E&gt;() <em class="brace">{</em>
<a id="L1295" name="L1295"></a>1295                         <strong class="reserved">public</strong> E <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1296" name="L1296"></a>1296                             <strong class="reserved">return</strong> e.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1297" name="L1297"></a>1297                         <em class="brace">}</em>
<a id="L1298" name="L1298"></a>1298                     <em class="brace">}</em>);
<a id="L1299" name="L1299"></a>1299                 <em class="brace">}</em>
<a id="L1300" name="L1300"></a>1300                 e.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>();
<a id="L1301" name="L1301"></a>1301             <em class="brace">}</em>
<a id="L1302" name="L1302"></a>1302         <em class="brace">}</em>
<a id="L1303" name="L1303"></a>1303 
<div class="comment">
          Writes this object out to a stream (i.e., serializes it).
          <p>
          @serialData If this is a private credential set,
               a security check is performed to ensure that
               the caller has permission to access each credential
               in the set.  If the security check passes,
               the set is serialized.</p></div>
<a id="L1315" name="L1315"></a>1315         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/30680.html" title="Multiple referred from 184 places.">writeObject</a>(<a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a> oos)
<a id="L1316" name="L1316"></a>1316                 <strong class="reserved">throws</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.io.<a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L1317" name="L1317"></a>1317 
<a id="L1318" name="L1318"></a>1318             <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> == <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1319" name="L1319"></a>1319                 <em class="comment">// check permissions before serializing</em>
<a id="L1320" name="L1320"></a>1320                 <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;E&gt; i = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1321" name="L1321"></a>1321                 <strong class="reserved">while</strong> (i.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1322" name="L1322"></a>1322                     i.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1323" name="L1323"></a>1323                 <em class="brace">}</em>
<a id="L1324" name="L1324"></a>1324             <em class="brace">}</em>
<a id="L1325" name="L1325"></a>1325             <a href="../S/1381.html#L162" title="Defined at 162 in src/java/io/ObjectOutputStream.java.">ObjectOutputStream</a>.<a href="../S/1381.html#L878" title="Defined at 878 in src/java/io/ObjectOutputStream.java.">PutField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = oos.<a href="../D/29995.html" title="Multiple defined in 2 places.">putFields</a>();
<a id="L1326" name="L1326"></a>1326             <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("this$0", subject);
<a id="L1327" name="L1327"></a>1327             <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("elements", <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a>);
<a id="L1328" name="L1328"></a>1328             <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>("which", <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>);
<a id="L1329" name="L1329"></a>1329             oos.<a href="../D/37065.html" title="Multiple defined in 3 places.">writeFields</a>();
<a id="L1330" name="L1330"></a>1330         <em class="brace">}</em>
<a id="L1331" name="L1331"></a>1331 
<a id="L1332" name="L1332"></a>1332         @<a href="../R/7764.html" title="Multiple referred from 264 places.">SuppressWarnings</a>("unchecked")
<a id="L1333" name="L1333"></a>1333         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/25518.html" title="Multiple referred from 189 places.">readObject</a>(<a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a> ois)
<a id="L1334" name="L1334"></a>1334             <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>, <a href="../S/1705.html#L53" title="Defined at 53 in src/java/lang/ClassNotFoundException.java.">ClassNotFoundException</a>
<a id="L1335" name="L1335"></a>1335         <em class="brace">{</em>
<a id="L1336" name="L1336"></a>1336             <a href="../S/1378.html#L206" title="Defined at 206 in src/java/io/ObjectInputStream.java.">ObjectInputStream</a>.<a href="../S/1378.html#L1079" title="Defined at 1079 in src/java/io/ObjectInputStream.java.">GetField</a> <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a> = ois.<a href="../D/30181.html" title="Multiple defined in 6 places.">readFields</a>();
<a id="L1337" name="L1337"></a>1337             subject = (<a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("this$0", <strong class="reserved">null</strong>);
<a id="L1338" name="L1338"></a>1338             <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> = <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("which", 0);
<a id="L1339" name="L1339"></a>1339 
<a id="L1340" name="L1340"></a>1340             <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt; tmp = (<a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt;) <a href="../D/16020.html" title="Multiple defined in 2 places.">fields</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>("elements", <strong class="reserved">null</strong>);
<a id="L1341" name="L1341"></a>1341             <strong class="reserved">if</strong> (tmp.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>() != <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>.<strong class="reserved">class</strong>) <em class="brace">{</em>
<a id="L1342" name="L1342"></a>1342                 <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = <strong class="reserved">new</strong> <a href="../S/848.html#L83" title="Defined at 83 in src/java/util/LinkedList.java.">LinkedList</a>&lt;E&gt;(tmp);
<a id="L1343" name="L1343"></a>1343             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1344" name="L1344"></a>1344                 <a href="../D/15313.html" title="Multiple defined in 25 places.">elements</a> = tmp;
<a id="L1345" name="L1345"></a>1345             <em class="brace">}</em>
<a id="L1346" name="L1346"></a>1346         <em class="brace">}</em>
<a id="L1347" name="L1347"></a>1347     <em class="brace">}</em>
<a id="L1348" name="L1348"></a>1348 
<div class="comment">
      This class implements a <code>Set</code> which returns only
      members that are an instance of a specified Class.</div>
<a id="L1353" name="L1353"></a>1353     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/1403.html" title="Multiple referred from 3 places.">ClassSet</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <strong class="reserved">extends</strong> <a href="../S/869.html#L58" title="Defined at 58 in src/java/util/AbstractSet.java.">AbstractSet</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <em class="brace">{</em>
<a id="L1354" name="L1354"></a>1354 
<a id="L1355" name="L1355"></a>1355         <strong class="reserved">private</strong> <strong class="reserved">int</strong> <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>;
<a id="L1356" name="L1356"></a>1356         <strong class="reserved">private</strong> <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1357" name="L1357"></a>1357         <strong class="reserved">private</strong> <a href="../S/1160.html#L85" title="Defined at 85 in src/java/util/Set.java.">Set</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>;
<a id="L1358" name="L1358"></a>1358 
<a id="L1359" name="L1359"></a>1359         ClassSet(<strong class="reserved">int</strong> <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>, <a href="../S/1722.html#L119" title="Defined at 119 in src/java/lang/Class.java.">Class</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>) <em class="brace">{</em>
<a id="L1360" name="L1360"></a>1360             <strong class="reserved">this</strong>.<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> = <a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>;
<a id="L1361" name="L1361"></a>1361             <strong class="reserved">this</strong>.<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a> = <a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>;
<a id="L1362" name="L1362"></a>1362             <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a> = <strong class="reserved">new</strong> <a href="../S/1136.html#L89" title="Defined at 89 in src/java/util/HashSet.java.">HashSet</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt;();
<a id="L1363" name="L1363"></a>1363 
<a id="L1364" name="L1364"></a>1364             <strong class="reserved">switch</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>) <em class="brace">{</em>
<a id="L1365" name="L1365"></a>1365             <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRINCIPAL_SET:
<a id="L1366" name="L1366"></a>1366                 <strong class="reserved">synchronized</strong>(principals) <em class="brace">{</em> <a href="../S/2639.html#L1378" title="Defined at 1378 in src/javax/security/auth/Subject.java.">populateSet</a>(); <em class="brace">}</em>
<a id="L1367" name="L1367"></a>1367                 <strong class="reserved">break</strong>;
<a id="L1368" name="L1368"></a>1368             <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PUB_CREDENTIAL_SET:
<a id="L1369" name="L1369"></a>1369                 <strong class="reserved">synchronized</strong>(pubCredentials) <em class="brace">{</em> <a href="../S/2639.html#L1378" title="Defined at 1378 in src/javax/security/auth/Subject.java.">populateSet</a>(); <em class="brace">}</em>
<a id="L1370" name="L1370"></a>1370                 <strong class="reserved">break</strong>;
<a id="L1371" name="L1371"></a>1371             <strong class="reserved">default</strong>:
<a id="L1372" name="L1372"></a>1372                 <strong class="reserved">synchronized</strong>(privCredentials) <em class="brace">{</em> <a href="../S/2639.html#L1378" title="Defined at 1378 in src/javax/security/auth/Subject.java.">populateSet</a>(); <em class="brace">}</em>
<a id="L1373" name="L1373"></a>1373                 <strong class="reserved">break</strong>;
<a id="L1374" name="L1374"></a>1374             <em class="brace">}</em>
<a id="L1375" name="L1375"></a>1375         <em class="brace">}</em>
<a id="L1376" name="L1376"></a>1376 
<a id="L1377" name="L1377"></a>1377         @<div class="comment">
/*To suppress warning from line 1374*/</div>
<a id="L1378" name="L1378"></a>1378         <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/24834.html" title="Multiple referred from 3 places.">populateSet</a>() <em class="brace">{</em>
<a id="L1379" name="L1379"></a>1379             <strong class="reserved">final</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;?&gt; <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>;
<a id="L1380" name="L1380"></a>1380             <strong class="reserved">switch</strong>(<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a>) <em class="brace">{</em>
<a id="L1381" name="L1381"></a>1381             <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRINCIPAL_SET:
<a id="L1382" name="L1382"></a>1382                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.<strong class="reserved">this</strong>.principals.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1383" name="L1383"></a>1383                 <strong class="reserved">break</strong>;
<a id="L1384" name="L1384"></a>1384             <strong class="reserved">case</strong> <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PUB_CREDENTIAL_SET:
<a id="L1385" name="L1385"></a>1385                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.<strong class="reserved">this</strong>.pubCredentials.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1386" name="L1386"></a>1386                 <strong class="reserved">break</strong>;
<a id="L1387" name="L1387"></a>1387             <strong class="reserved">default</strong>:
<a id="L1388" name="L1388"></a>1388                 <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a> = <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.<strong class="reserved">this</strong>.privCredentials.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1389" name="L1389"></a>1389                 <strong class="reserved">break</strong>;
<a id="L1390" name="L1390"></a>1390             <em class="brace">}</em>
<a id="L1391" name="L1391"></a>1391 
<a id="L1392" name="L1392"></a>1392             <em class="comment">// Check whether the caller has permisson to get</em>
<a id="L1393" name="L1393"></a>1393             <em class="comment">// credentials of Class c</em>
<a id="L1394" name="L1394"></a>1394 
<a id="L1395" name="L1395"></a>1395             <strong class="reserved">while</strong> (<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>()) <em class="brace">{</em>
<a id="L1396" name="L1396"></a>1396                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>;
<a id="L1397" name="L1397"></a>1397                 <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> == <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1398" name="L1398"></a>1398                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1248.html#L264" title="Defined at 264 in src/java/security/AccessController.java.">AccessController</a>.<a href="../D/15060.html" title="Multiple defined in 7 places.">doPrivileged</a>
<a id="L1399" name="L1399"></a>1399                         (<strong class="reserved">new</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.security.<a href="../S/1321.html#L42" title="Defined at 42 in src/java/security/PrivilegedAction.java.">PrivilegedAction</a>&lt;<a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>&gt;() <em class="brace">{</em>
<a id="L1400" name="L1400"></a>1400                         <strong class="reserved">public</strong> <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a> <a href="../D/31480.html" title="Multiple defined in 101 places.">run</a>() <em class="brace">{</em>
<a id="L1401" name="L1401"></a>1401                             <strong class="reserved">return</strong> <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1402" name="L1402"></a>1402                         <em class="brace">}</em>
<a id="L1403" name="L1403"></a>1403                     <em class="brace">}</em>);
<a id="L1404" name="L1404"></a>1404                 <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1405" name="L1405"></a>1405                     <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a> = <a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>.<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L1406" name="L1406"></a>1406                 <em class="brace">}</em>
<a id="L1407" name="L1407"></a>1407                 <strong class="reserved">if</strong> (<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/25213.html" title="Multiple defined in 7 places.">isAssignableFrom</a>(<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>())) <em class="brace">{</em>
<a id="L1408" name="L1408"></a>1408                     <strong class="reserved">if</strong> (<a href="../D/36852.html" title="Multiple defined in 6 places.">which</a> != <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.PRIV_CREDENTIAL_SET) <em class="brace">{</em>
<a id="L1409" name="L1409"></a>1409                         <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>((<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>)<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>);
<a id="L1410" name="L1410"></a>1410                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L1411" name="L1411"></a>1411                         <em class="comment">// Check permission for private creds</em>
<a id="L1412" name="L1412"></a>1412                         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L1413" name="L1413"></a>1413                         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L1414" name="L1414"></a>1414                             sm.<a href="../D/12594.html" title="Multiple defined in 22 places.">checkPermission</a>(<strong class="reserved">new</strong> <a href="../S/2645.html#L104" title="Defined at 104 in src/javax/security/auth/PrivateCredentialPermission.java.">PrivateCredentialPermission</a>
<a id="L1415" name="L1415"></a>1415                                                 (<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/20784.html" title="Multiple defined in 355 places.">getName</a>(),
<a id="L1416" name="L1416"></a>1416                                                 <a href="../S/2639.html#L100" title="Defined at 100 in src/javax/security/auth/Subject.java.">Subject</a>.<strong class="reserved">this</strong>.<a href="../D/21663.html" title="Multiple defined in 4 places.">getPrincipals</a>()));
<a id="L1417" name="L1417"></a>1417                         <em class="brace">}</em>
<a id="L1418" name="L1418"></a>1418                         <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>((<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>)<a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>);
<a id="L1419" name="L1419"></a>1419                     <em class="brace">}</em>
<a id="L1420" name="L1420"></a>1420                 <em class="brace">}</em>
<a id="L1421" name="L1421"></a>1421             <em class="brace">}</em>
<a id="L1422" name="L1422"></a>1422         <em class="brace">}</em>
<a id="L1423" name="L1423"></a>1423 
<a id="L1424" name="L1424"></a>1424         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L1425" name="L1425"></a>1425             <strong class="reserved">return</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>();
<a id="L1426" name="L1426"></a>1426         <em class="brace">}</em>
<a id="L1427" name="L1427"></a>1427 
<a id="L1428" name="L1428"></a>1428         <strong class="reserved">public</strong> <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a>&gt; <a href="../R/22304.html" title="Multiple referred from 905 places.">iterator</a>() <em class="brace">{</em>
<a id="L1429" name="L1429"></a>1429             <strong class="reserved">return</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/26592.html" title="Multiple defined in 126 places.">iterator</a>();
<a id="L1430" name="L1430"></a>1430         <em class="brace">}</em>
<a id="L1431" name="L1431"></a>1431 
<a id="L1432" name="L1432"></a>1432         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/9592.html" title="Multiple referred from 2612 places.">add</a>(<a href="../D/8701.html" title="Multiple defined in 3 places.">T</a> <a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>) <em class="brace">{</em>
<a id="L1433" name="L1433"></a>1433 
<a id="L1434" name="L1434"></a>1434             <strong class="reserved">if</strong> (!<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>.<a href="../D/17675.html" title="Multiple defined in 6 places.">getClass</a>().<a href="../D/25213.html" title="Multiple defined in 7 places.">isAssignableFrom</a>(<a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>)) <em class="brace">{</em>
<a id="L1435" name="L1435"></a>1435                 <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a> <a href="../S/1616.html#L125" title="Defined at 125 in src/java/lang/invoke/MethodType.java.">form</a> = <strong class="reserved">new</strong> <a href="../S/2460.html#L344" title="Defined at 344 in src/java/text/MessageFormat.java.">MessageFormat</a>(ResourcesMgr.<a href="../D/22769.html" title="Multiple defined in 35 places.">getString</a>
<a id="L1436" name="L1436"></a>1436                         ("attempting.to.add.an.object.which.is.not.an.instance.of.class"));
<a id="L1437" name="L1437"></a>1437                 <a href="../D/6272.html" title="Multiple defined in 7 places.">Object</a>[] <a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a> = <em class="brace">{</em><a href="../S/986.html#L3167" title="Defined at 3167 in src/java/util/regex/Pattern.java.">c</a>.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>()<em class="brace">}</em>;
<a id="L1438" name="L1438"></a>1438                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1580.html#L34" title="Defined at 34 in src/java/lang/SecurityException.java.">SecurityException</a>(<a href="../S/1616.html#L125" title="Defined at 125 in src/java/lang/invoke/MethodType.java.">form</a>.<a href="../D/16531.html" title="Multiple defined in 87 places.">format</a>(<a href="../S/2041.html#L132" title="Defined at 132 in src/java/nio/channels/Pipe.java.">source</a>));
<a id="L1439" name="L1439"></a>1439             <em class="brace">}</em>
<a id="L1440" name="L1440"></a>1440 
<a id="L1441" name="L1441"></a>1441             <strong class="reserved">return</strong> <a href="../D/31832.html" title="Multiple defined in 134 places.">set</a>.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(<a href="../S/986.html#L3177" title="Defined at 3177 in src/java/util/regex/Pattern.java.">o</a>);
<a id="L1442" name="L1442"></a>1442         <em class="brace">}</em>
<a id="L1443" name="L1443"></a>1443     <em class="brace">}</em>
<a id="L1444" name="L1444"></a>1444 
<a id="L1445" name="L1445"></a>1445     <strong class="reserved">static</strong> <strong class="reserved">class</strong> <a href="../R/567.html" title="Multiple referred from 12 places.">AuthPermissionHolder</a> <em class="brace">{</em>
<a id="L1446" name="L1446"></a>1446         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> DO_AS_PERMISSION =
<a id="L1447" name="L1447"></a>1447             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("doAs");
<a id="L1448" name="L1448"></a>1448 
<a id="L1449" name="L1449"></a>1449         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> DO_AS_PRIVILEGED_PERMISSION =
<a id="L1450" name="L1450"></a>1450             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("doAsPrivileged");
<a id="L1451" name="L1451"></a>1451 
<a id="L1452" name="L1452"></a>1452         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> SET_READ_ONLY_PERMISSION =
<a id="L1453" name="L1453"></a>1453             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("setReadOnly");
<a id="L1454" name="L1454"></a>1454 
<a id="L1455" name="L1455"></a>1455         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> GET_SUBJECT_PERMISSION =
<a id="L1456" name="L1456"></a>1456             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("getSubject");
<a id="L1457" name="L1457"></a>1457 
<a id="L1458" name="L1458"></a>1458         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> MODIFY_PRINCIPALS_PERMISSION =
<a id="L1459" name="L1459"></a>1459             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("modifyPrincipals");
<a id="L1460" name="L1460"></a>1460 
<a id="L1461" name="L1461"></a>1461         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> MODIFY_PUBLIC_CREDENTIALS_PERMISSION =
<a id="L1462" name="L1462"></a>1462             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("modifyPublicCredentials");
<a id="L1463" name="L1463"></a>1463 
<a id="L1464" name="L1464"></a>1464         <strong class="reserved">static</strong> <strong class="reserved">final</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a> MODIFY_PRIVATE_CREDENTIALS_PERMISSION =
<a id="L1465" name="L1465"></a>1465             <strong class="reserved">new</strong> <a href="../S/2649.html#L129" title="Defined at 129 in src/javax/security/auth/AuthPermission.java.">AuthPermission</a>("modifyPrivateCredentials");
<a id="L1466" name="L1466"></a>1466     <em class="brace">}</em>
<a id="L1467" name="L1467"></a>1467 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L238">[^]</a><a href="#L1432">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>