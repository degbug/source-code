<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>src/java/util/zip/ZipFile.java</title>
<meta name="robots" content="noindex,nofollow">
<meta name="generator" content="GLOBAL-6.6.3">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<a id="TOP" name="TOP"></a><div class="comment">
/* [&lt;][&gt;]<a href="#L89">[^]</a><a href="#L818">[v]</a>[top]<a href="#BOTTOM">[bottom]</a><a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
<hr>
<h2 class="header">DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href="#L89" title="Defined at 89.">initIDs</a></li>
<li><a href="#L285" title="Defined at 285.">getComment</a></li>
<li><a href="#L303" title="Defined at 303.">getEntry</a></li>
<li><a href="#L320" title="Defined at 320.">getEntry</a></li>
<li><a href="#L324" title="Defined at 324.">freeEntry</a></li>
<li><a href="#L344" title="Defined at 344.">getInputStream</a></li>
<li><a href="#L397" title="Defined at 397.">close</a></li>
<li><a href="#L415" title="Defined at 415.">fill</a></li>
<li><a href="#L428" title="Defined at 428.">available</a></li>
<li><a href="#L436" title="Defined at 436.">finalize</a></li>
<li><a href="#L445" title="Defined at 445.">getInflater</a></li>
<li><a href="#L460" title="Defined at 460.">releaseInflater</a></li>
<li><a href="#L476" title="Defined at 476.">getName</a></li>
<li><a href="#L487" title="Defined at 487.">hasMoreElements</a></li>
<li><a href="#L491" title="Defined at 491.">hasNext</a></li>
<li><a href="#L498" title="Defined at 498.">nextElement</a></li>
<li><a href="#L502" title="Defined at 502.">next</a></li>
<li><a href="#L536" title="Defined at 536.">entries</a></li>
<li><a href="#L549" title="Defined at 549.">stream</a></li>
<li><a href="#L556" title="Defined at 556.">getZipEntry</a></li>
<li><a href="#L588" title="Defined at 588.">getNextEntry</a></li>
<li><a href="#L595" title="Defined at 595.">size</a></li>
<li><a href="#L608" title="Defined at 608.">close</a></li>
<li><a href="#L661" title="Defined at 661.">finalize</a></li>
<li><a href="#L665" title="Defined at 665.">close</a></li>
<li><a href="#L667" title="Defined at 667.">ensureOpen</a></li>
<li><a href="#L677" title="Defined at 677.">ensureOpenOrZipException</a></li>
<li><a href="#L701" title="Defined at 701.">read</a></li>
<li><a href="#L729" title="Defined at 729.">read</a></li>
<li><a href="#L738" title="Defined at 738.">skip</a></li>
<li><a href="#L749" title="Defined at 749.">available</a></li>
<li><a href="#L753" title="Defined at 753.">size</a></li>
<li><a href="#L757" title="Defined at 757.">close</a></li>
<li><a href="#L774" title="Defined at 774.">finalize</a></li>
<li><a href="#L793" title="Defined at 793.">startsWithLocHeader</a></li>
<li><a href="#L797" title="Defined at 797.">open</a></li>
<li><a href="#L799" title="Defined at 799.">getTotal</a></li>
<li><a href="#L800" title="Defined at 800.">startsWithLOC</a></li>
<li><a href="#L801" title="Defined at 801.">read</a></li>
<li><a href="#L805" title="Defined at 805.">getEntryTime</a></li>
<li><a href="#L806" title="Defined at 806.">getEntryCrc</a></li>
<li><a href="#L807" title="Defined at 807.">getEntryCSize</a></li>
<li><a href="#L808" title="Defined at 808.">getEntrySize</a></li>
<li><a href="#L809" title="Defined at 809.">getEntryMethod</a></li>
<li><a href="#L810" title="Defined at 810.">getEntryFlag</a></li>
<li><a href="#L811" title="Defined at 811.">getCommentBytes</a></li>
<li><a href="#L816" title="Defined at 816.">getEntryBytes</a></li>
<li><a href="#L818" title="Defined at 818.">getZipMessage</a></li>
</ol>
<hr>
<pre>
<div class="comment">
  Copyright (c) 1995, 2015, Oracle and/or its affiliates. All rights reserved.
  ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.</div>
<a id="L25" name="L25"></a>  25 
<a id="L26" name="L26"></a>  26 <strong class="reserved">package</strong> <a href="../S/3625.html#L43" title="Defined at 43 in src/javax/management/remote/rmi/RMIConnectionImpl_Stub.java.">java</a>.util.zip;
<a id="L27" name="L27"></a>  27 
<a id="L28" name="L28"></a>  28 <strong class="reserved">import</strong> java.io.Closeable;
<a id="L29" name="L29"></a>  29 <strong class="reserved">import</strong> java.io.InputStream;
<a id="L30" name="L30"></a>  30 <strong class="reserved">import</strong> java.io.IOException;
<a id="L31" name="L31"></a>  31 <strong class="reserved">import</strong> java.io.EOFException;
<a id="L32" name="L32"></a>  32 <strong class="reserved">import</strong> java.io.File;
<a id="L33" name="L33"></a>  33 <strong class="reserved">import</strong> java.nio.charset.Charset;
<a id="L34" name="L34"></a>  34 <strong class="reserved">import</strong> java.nio.charset.StandardCharsets;
<a id="L35" name="L35"></a>  35 <strong class="reserved">import</strong> java.util.ArrayDeque;
<a id="L36" name="L36"></a>  36 <strong class="reserved">import</strong> java.util.Deque;
<a id="L37" name="L37"></a>  37 <strong class="reserved">import</strong> java.util.Enumeration;
<a id="L38" name="L38"></a>  38 <strong class="reserved">import</strong> java.util.HashMap;
<a id="L39" name="L39"></a>  39 <strong class="reserved">import</strong> java.util.Iterator;
<a id="L40" name="L40"></a>  40 <strong class="reserved">import</strong> java.util.Map;
<a id="L41" name="L41"></a>  41 <strong class="reserved">import</strong> java.util.NoSuchElementException;
<a id="L42" name="L42"></a>  42 <strong class="reserved">import</strong> java.util.Spliterator;
<a id="L43" name="L43"></a>  43 <strong class="reserved">import</strong> java.util.Spliterators;
<a id="L44" name="L44"></a>  44 <strong class="reserved">import</strong> java.util.WeakHashMap;
<a id="L45" name="L45"></a>  45 <strong class="reserved">import</strong> java.util.stream.Stream;
<a id="L46" name="L46"></a>  46 <strong class="reserved">import</strong> java.util.stream.StreamSupport;
<a id="L47" name="L47"></a>  47 
<a id="L48" name="L48"></a>  48 <strong class="reserved">import</strong> static java.util.zip.ZipConstants64.*;
<a id="L49" name="L49"></a>  49 
<div class="comment">
  This class is used to read entries from a zip file.
  <p> Unless otherwise noted, passing a <tt>null</tt> argument to a constructor
  or method in this class will cause a <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a> to be
  thrown.
  @author      David Connelly</p></div>
<a id="L59" name="L59"></a>  59 <strong class="reserved">public</strong>
<a id="L60" name="L60"></a>  60 <strong class="reserved">class</strong> <a href="../R/9336.html" title="Multiple referred from 25 places.">ZipFile</a> <strong class="reserved">implements</strong> <a href="../S/1016.html#L34" title="Defined at 34 in src/java/util/zip/ZipConstants.java.">ZipConstants</a>, <a href="../S/1405.html#L37" title="Defined at 37 in src/java/io/Closeable.java.">Closeable</a> <em class="brace">{</em>
<a id="L61" name="L61"></a>  61     <strong class="reserved">private</strong> <strong class="reserved">long</strong> jzfile;           <em class="comment">// address of jzfile data</em>
<a id="L62" name="L62"></a>  62     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;     <em class="comment">// zip file name</em>
<a id="L63" name="L63"></a>  63     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> total;       <em class="comment">// total number of entries</em>
<a id="L64" name="L64"></a>  64     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> locsig;  <em class="comment">// if zip file starts with LOCSIG (usually true)</em>
<a id="L65" name="L65"></a>  65     <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> closeRequested = <strong class="reserved">false</strong>;
<a id="L66" name="L66"></a>  66 
<a id="L67" name="L67"></a>  67     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/12.html#L144" title="Defined at 144 in src/launcher/manifest_info.h.">STORED</a> = <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>.<a href="../S/12.html#L144" title="Defined at 144 in src/launcher/manifest_info.h.">STORED</a>;
<a id="L68" name="L68"></a>  68     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> <a href="../S/12.html#L145" title="Defined at 145 in src/launcher/manifest_info.h.">DEFLATED</a> = <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>.<a href="../S/12.html#L145" title="Defined at 145 in src/launcher/manifest_info.h.">DEFLATED</a>;
<a id="L69" name="L69"></a>  69 
<div class="comment">
      Mode flag to open a zip file for reading.</div>
<a id="L73" name="L73"></a>  73     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> OPEN_READ = 0x1;
<a id="L74" name="L74"></a>  74 
<div class="comment">
      Mode flag to open a zip file and mark it for deletion.  The file will be
      deleted some time between the moment that it is opened and the moment
      that it is closed, but its contents will remain accessible via the
      <tt>ZipFile</tt> object until either the close method is invoked or the
      virtual machine exits.</div>
<a id="L82" name="L82"></a>  82     <strong class="reserved">public</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> OPEN_DELETE = 0x4;
<a id="L83" name="L83"></a>  83 
<a id="L84" name="L84"></a>  84     <strong class="reserved">static</strong> <em class="brace">{</em>
<div class="comment">
         /* Zip library is loaded from System.initializeSystemClass */</div>
<a id="L86" name="L86"></a>  86         <a href="../D/24550.html" title="Multiple defined in 53 places.">initIDs</a>();
<a id="L87" name="L87"></a>  87     <em class="brace">}</em>
<a id="L88" name="L88"></a>  88 
<a id="L89" name="L89"></a>  89     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/20590.html" title="Multiple referred from 52 places.">initIDs</a>();
<a id="L90" name="L90"></a>  90 
<a id="L91" name="L91"></a>  91     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">boolean</strong> usemmap;
<a id="L92" name="L92"></a>  92 
<a id="L93" name="L93"></a>  93     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L94" name="L94"></a>  94         <em class="comment">// A system prpperty to disable mmap use to avoid vm crash when</em>
<a id="L95" name="L95"></a>  95         <em class="comment">// in-use zip file is accidently overwritten by others.</em>
<a id="L96" name="L96"></a>  96         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> prop = sun.misc.VM.getSavedProperty("sun.zip.disableMemoryMapping");
<a id="L97" name="L97"></a>  97         usemmap = (prop == <strong class="reserved">null</strong> ||
<a id="L98" name="L98"></a>  98                    !(prop.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>() == 0 || prop.<a href="../D/15687.html" title="Multiple defined in 6 places.">equalsIgnoreCase</a>("true")));
<a id="L99" name="L99"></a>  99     <em class="brace">}</em>
<a id="L100" name="L100"></a> 100 
<div class="comment">
      Opens a zip file for reading.
      <p>First, if there is a security manager, its <code>checkRead</code>
      method is called with the <code>name</code> argument as its argument
      to ensure the read is allowed.
      </p><p>The UTF-8 {@link java.nio.charset.Charset charset} is used to
      decode the entry names and comments.
      @param name the name of the zip file
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred
      @throws SecurityException if a security manager exists and its
              <code>checkRead</code> method doesn't allow read access to the file.
      @see SecurityManager#checkRead(java.lang.String)</p></div>
<a id="L119" name="L119"></a> 119     <strong class="reserved">public</strong> ZipFile(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L120" name="L120"></a> 120         <strong class="reserved">this</strong>(<strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>), OPEN_READ);
<a id="L121" name="L121"></a> 121     <em class="brace">}</em>
<a id="L122" name="L122"></a> 122 
<div class="comment">
      Opens a new <code>ZipFile</code> to read from the specified
      <code>File</code> object in the specified mode.  The mode argument
      must be either <tt>OPEN_READ</tt> or <tt>OPEN_READ | OPEN_DELETE</tt>.
      <p>First, if there is a security manager, its <code>checkRead</code>
      method is called with the <code>name</code> argument as its argument to
      ensure the read is allowed.
      </p><p>The UTF-8 {@link java.nio.charset.Charset charset} is used to
      decode the entry names and comments
      @param file the ZIP file to be opened for reading
      @param mode the mode in which the file is to be opened
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred
      @throws SecurityException if a security manager exists and
              its <code>checkRead</code> method
              doesn't allow read access to the file,
              or its <code>checkDelete</code> method doesn't allow deleting
              the file when the <tt>OPEN_DELETE</tt> flag is set.
      @throws IllegalArgumentException if the <tt>mode</tt> argument is invalid
      @see SecurityManager#checkRead(java.lang.String)
      @since 1.3</p></div>
<a id="L148" name="L148"></a> 148     <strong class="reserved">public</strong> ZipFile(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <strong class="reserved">int</strong> mode) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L149" name="L149"></a> 149         <strong class="reserved">this</strong>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, mode, <a href="../S/2006.html#L35" title="Defined at 35 in src/java/nio/charset/StandardCharsets.java.">StandardCharsets</a>.UTF_8);
<a id="L150" name="L150"></a> 150     <em class="brace">}</em>
<a id="L151" name="L151"></a> 151 
<div class="comment">
      Opens a ZIP file for reading given the specified File object.
      <p>The UTF-8 {@link java.nio.charset.Charset charset} is used to
      decode the entry names and comments.
      @param file the ZIP file to be opened for reading
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred</p></div>
<a id="L162" name="L162"></a> 162     <strong class="reserved">public</strong> ZipFile(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>) <strong class="reserved">throws</strong> <a href="../S/1009.html#L39" title="Defined at 39 in src/java/util/zip/ZipException.java.">ZipException</a>, <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L163" name="L163"></a> 163         <strong class="reserved">this</strong>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, OPEN_READ);
<a id="L164" name="L164"></a> 164     <em class="brace">}</em>
<a id="L165" name="L165"></a> 165 
<a id="L166" name="L166"></a> 166     <strong class="reserved">private</strong> <a href="../S/1017.html#L44" title="Defined at 44 in src/java/util/zip/ZipCoder.java.">ZipCoder</a> zc;
<a id="L167" name="L167"></a> 167 
<div class="comment">
      Opens a new <code>ZipFile</code> to read from the specified
      <code>File</code> object in the specified mode.  The mode argument
      must be either <tt>OPEN_READ</tt> or <tt>OPEN_READ | OPEN_DELETE</tt>.
      <p>First, if there is a security manager, its <code>checkRead</code>
      method is called with the <code>name</code> argument as its argument to
      ensure the read is allowed.
      @param file the ZIP file to be opened for reading
      @param mode the mode in which the file is to be opened
      @param charset
             the {@linkplain java.nio.charset.Charset charset} to
             be used to decode the ZIP entry name and comment that are not
             encoded by using UTF-8 encoding (indicated by entry's general
             purpose flag).
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred
      @throws SecurityException
              if a security manager exists and its <code>checkRead</code>
              method doesn't allow read access to the file,or its
              <code>checkDelete</code> method doesn't allow deleting the
              file when the <tt>OPEN_DELETE</tt> flag is set
      @throws IllegalArgumentException if the <tt>mode</tt> argument is invalid
      @see SecurityManager#checkRead(java.lang.String)
      @since 1.7</p></div>
<a id="L200" name="L200"></a> 200     <strong class="reserved">public</strong> ZipFile(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <strong class="reserved">int</strong> mode, <a href="../S/2005.html#L271" title="Defined at 271 in src/java/nio/charset/Charset.java.">Charset</a> <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L201" name="L201"></a> 201     <em class="brace">{</em>
<a id="L202" name="L202"></a> 202         <strong class="reserved">if</strong> (((mode &amp; OPEN_READ) == 0) ||
<a id="L203" name="L203"></a> 203             ((mode &amp; ~(OPEN_READ | OPEN_DELETE)) != 0)) <em class="brace">{</em>
<a id="L204" name="L204"></a> 204             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../D/4055.html" title="Multiple defined in 2 places.">IllegalArgumentException</a>("Illegal mode: 0x"+
<a id="L205" name="L205"></a> 205                                                <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.<a href="../D/35410.html" title="Multiple defined in 5 places.">toHexString</a>(mode));
<a id="L206" name="L206"></a> 206         <em class="brace">}</em>
<a id="L207" name="L207"></a> 207         <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../D/21434.html" title="Multiple defined in 38 places.">getPath</a>();
<a id="L208" name="L208"></a> 208         <a href="../D/7682.html" title="Multiple defined in 2 places.">SecurityManager</a> sm = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L333" title="Defined at 333 in src/java/lang/System.java.">getSecurityManager</a>();
<a id="L209" name="L209"></a> 209         <strong class="reserved">if</strong> (sm != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L210" name="L210"></a> 210             sm.<a href="../D/12614.html" title="Multiple defined in 5 places.">checkRead</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L211" name="L211"></a> 211             <strong class="reserved">if</strong> ((mode &amp; OPEN_DELETE) != 0) <em class="brace">{</em>
<a id="L212" name="L212"></a> 212                 sm.<a href="../S/1785.html#L1006" title="Defined at 1006 in src/java/lang/SecurityManager.java.">checkDelete</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>);
<a id="L213" name="L213"></a> 213             <em class="brace">}</em>
<a id="L214" name="L214"></a> 214         <em class="brace">}</em>
<a id="L215" name="L215"></a> 215         <strong class="reserved">if</strong> (<a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a> == <strong class="reserved">null</strong>)
<a id="L216" name="L216"></a> 216             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("charset is null");
<a id="L217" name="L217"></a> 217         <strong class="reserved">this</strong>.zc = <a href="../S/1017.html#L44" title="Defined at 44 in src/java/util/zip/ZipCoder.java.">ZipCoder</a>.<a href="../D/16676.html" title="Multiple defined in 434 places.">get</a>(<a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>);
<a id="L218" name="L218"></a> 218         <strong class="reserved">long</strong> t0 = <a href="../S/1557.html#L59" title="Defined at 59 in src/java/lang/System.java.">System</a>.<a href="../S/1557.html#L399" title="Defined at 399 in src/java/lang/System.java.">nanoTime</a>();
<a id="L219" name="L219"></a> 219         jzfile = <a href="../D/28509.html" title="Multiple defined in 32 places.">open</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, mode, <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>.<a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a>(), usemmap);
<a id="L220" name="L220"></a> 220         sun.misc.PerfCounter.getZipFileOpenTime().addElapsedTimeFrom(t0);
<a id="L221" name="L221"></a> 221         sun.misc.PerfCounter.getZipFileCount().<a href="../D/24445.html" title="Multiple defined in 3 places.">increment</a>();
<a id="L222" name="L222"></a> 222         <strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L223" name="L223"></a> 223         <strong class="reserved">this</strong>.total = <a href="../S/1014.html#L799" title="Defined at 799 in src/java/util/zip/ZipFile.java.">getTotal</a>(jzfile);
<a id="L224" name="L224"></a> 224         <strong class="reserved">this</strong>.locsig = <a href="../S/1014.html#L800" title="Defined at 800 in src/java/util/zip/ZipFile.java.">startsWithLOC</a>(jzfile);
<a id="L225" name="L225"></a> 225     <em class="brace">}</em>
<a id="L226" name="L226"></a> 226 
<div class="comment">
      Opens a zip file for reading.
      <p>First, if there is a security manager, its <code>checkRead</code>
      method is called with the <code>name</code> argument as its argument
      to ensure the read is allowed.
      @param name the name of the zip file
      @param charset
             the {@linkplain java.nio.charset.Charset charset} to
             be used to decode the ZIP entry name and comment that are not
             encoded by using UTF-8 encoding (indicated by entry's general
             purpose flag).
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred
      @throws SecurityException
              if a security manager exists and its <code>checkRead</code>
              method doesn't allow read access to the file
      @see SecurityManager#checkRead(java.lang.String)
      @since 1.7</p></div>
<a id="L251" name="L251"></a> 251     <strong class="reserved">public</strong> ZipFile(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <a href="../S/2005.html#L271" title="Defined at 271 in src/java/nio/charset/Charset.java.">Charset</a> <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L252" name="L252"></a> 252     <em class="brace">{</em>
<a id="L253" name="L253"></a> 253         <strong class="reserved">this</strong>(<strong class="reserved">new</strong> <a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>), OPEN_READ, <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>);
<a id="L254" name="L254"></a> 254     <em class="brace">}</em>
<a id="L255" name="L255"></a> 255 
<div class="comment">
      Opens a ZIP file for reading given the specified File object.
      @param file the ZIP file to be opened for reading
      @param charset
             The {@linkplain java.nio.charset.Charset charset} to be
             used to decode the ZIP entry name and comment (ignored if
             the <a href="package-summary.html#lang_encoding"> language
             encoding bit</a> of the ZIP entry's general purpose bit
             flag is set).
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred
      @since 1.7</div>
<a id="L271" name="L271"></a> 271     <strong class="reserved">public</strong> ZipFile(<a href="../S/1433.html#L149" title="Defined at 149 in src/java/io/File.java.">File</a> <a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, <a href="../S/2005.html#L271" title="Defined at 271 in src/java/nio/charset/Charset.java.">Charset</a> <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>
<a id="L272" name="L272"></a> 272     <em class="brace">{</em>
<a id="L273" name="L273"></a> 273         <strong class="reserved">this</strong>(<a href="../D/16022.html" title="Multiple defined in 3 places.">file</a>, OPEN_READ, <a href="../D/12344.html" title="Multiple defined in 2 places.">charset</a>);
<a id="L274" name="L274"></a> 274     <em class="brace">}</em>
<a id="L275" name="L275"></a> 275 
<div class="comment">
      Returns the zip file comment, or null if none.
      @return the comment string for the zip file, or null if none
      @throws IllegalStateException if the zip file has been closed
      Since 1.7</div>
<a id="L285" name="L285"></a> 285     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/15691.html" title="Multiple referred from 5 places.">getComment</a>() <em class="brace">{</em>
<a id="L286" name="L286"></a> 286         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L287" name="L287"></a> 287             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L288" name="L288"></a> 288             <strong class="reserved">byte</strong>[] bcomm = <a href="../S/1014.html#L811" title="Defined at 811 in src/java/util/zip/ZipFile.java.">getCommentBytes</a>(jzfile);
<a id="L289" name="L289"></a> 289             <strong class="reserved">if</strong> (bcomm == <strong class="reserved">null</strong>)
<a id="L290" name="L290"></a> 290                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L291" name="L291"></a> 291             <strong class="reserved">return</strong> zc.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(bcomm, bcomm.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L292" name="L292"></a> 292         <em class="brace">}</em>
<a id="L293" name="L293"></a> 293     <em class="brace">}</em>
<a id="L294" name="L294"></a> 294 
<div class="comment">
      Returns the zip file entry for the specified name, or null
      if not found.
      @param name the name of the entry
      @return the zip file entry, or null if not found
      @throws IllegalStateException if the zip file has been closed</div>
<a id="L303" name="L303"></a> 303     <strong class="reserved">public</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> <a href="../R/16396.html" title="Multiple referred from 29 places.">getEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>) <em class="brace">{</em>
<a id="L304" name="L304"></a> 304         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L305" name="L305"></a> 305             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("name");
<a id="L306" name="L306"></a> 306         <em class="brace">}</em>
<a id="L307" name="L307"></a> 307         <strong class="reserved">long</strong> jzentry = 0;
<a id="L308" name="L308"></a> 308         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L309" name="L309"></a> 309             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L310" name="L310"></a> 310             jzentry = <a href="../D/18807.html" title="Multiple defined in 12 places.">getEntry</a>(jzfile, zc.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>), <strong class="reserved">true</strong>);
<a id="L311" name="L311"></a> 311             <strong class="reserved">if</strong> (jzentry != 0) <em class="brace">{</em>
<a id="L312" name="L312"></a> 312                 <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> ze = <a href="../S/1014.html#L556" title="Defined at 556 in src/java/util/zip/ZipFile.java.">getZipEntry</a>(<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, jzentry);
<a id="L313" name="L313"></a> 313                 <a href="../S/1014.html#L324" title="Defined at 324 in src/java/util/zip/ZipFile.java.">freeEntry</a>(jzfile, jzentry);
<a id="L314" name="L314"></a> 314                 <strong class="reserved">return</strong> ze;
<a id="L315" name="L315"></a> 315             <em class="brace">}</em>
<a id="L316" name="L316"></a> 316         <em class="brace">}</em>
<a id="L317" name="L317"></a> 317         <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L318" name="L318"></a> 318     <em class="brace">}</em>
<a id="L319" name="L319"></a> 319 
<a id="L320" name="L320"></a> 320     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/16396.html" title="Multiple referred from 29 places.">getEntry</a>(<strong class="reserved">long</strong> jzfile, <strong class="reserved">byte</strong>[] <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>,
<a id="L321" name="L321"></a> 321                                         <strong class="reserved">boolean</strong> addSlash);
<a id="L322" name="L322"></a> 322 
<a id="L323" name="L323"></a> 323     <em class="comment">// freeEntry releases the C jzentry struct.</em>
<a id="L324" name="L324"></a> 324     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/14792.html" title="Multiple referred from 3 places.">freeEntry</a>(<strong class="reserved">long</strong> jzfile, <strong class="reserved">long</strong> jzentry);
<a id="L325" name="L325"></a> 325 
<a id="L326" name="L326"></a> 326     <em class="comment">// the outstanding inputstreams that need to be closed,</em>
<a id="L327" name="L327"></a> 327     <em class="comment">// mapped to the inflater objects they use.</em>
<a id="L328" name="L328"></a> 328     <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>, <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a>&gt; streams = <strong class="reserved">new</strong> <a href="../S/934.html#L136" title="Defined at 136 in src/java/util/WeakHashMap.java.">WeakHashMap</a>&lt;&gt;();
<a id="L329" name="L329"></a> 329 
<div class="comment">
      Returns an input stream for reading the contents of the specified
      zip file entry.
      <p> Closing this ZIP file will, in turn, close all input
      streams that have been returned by invocations of this method.
      @param entry the zip file entry
      @return the input stream for reading the contents of the specified
      zip file entry.
      @throws ZipException if a ZIP format error has occurred
      @throws IOException if an I/O error has occurred
      @throws IllegalStateException if the zip file has been closed</p></div>
<a id="L344" name="L344"></a> 344     <strong class="reserved">public</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../R/17098.html" title="Multiple referred from 170 places.">getInputStream</a>(<a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> entry) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L345" name="L345"></a> 345         <strong class="reserved">if</strong> (entry == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L346" name="L346"></a> 346             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1559.html#L53" title="Defined at 53 in src/java/lang/NullPointerException.java.">NullPointerException</a>("entry");
<a id="L347" name="L347"></a> 347         <em class="brace">}</em>
<a id="L348" name="L348"></a> 348         <strong class="reserved">long</strong> jzentry = 0;
<a id="L349" name="L349"></a> 349         <a href="../S/1014.html#L687" title="Defined at 687 in src/java/util/zip/ZipFile.java.">ZipFileInputStream</a> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">null</strong>;
<a id="L350" name="L350"></a> 350         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L351" name="L351"></a> 351             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L352" name="L352"></a> 352             <strong class="reserved">if</strong> (!zc.<a href="../S/1017.html#L123" title="Defined at 123 in src/java/util/zip/ZipCoder.java.">isUTF8</a>() &amp;&amp; (entry.flag &amp; EFS) != 0) <em class="brace">{</em>
<a id="L353" name="L353"></a> 353                 jzentry = <a href="../D/18807.html" title="Multiple defined in 12 places.">getEntry</a>(jzfile, zc.<a href="../S/1017.html#L106" title="Defined at 106 in src/java/util/zip/ZipCoder.java.">getBytesUTF8</a>(entry.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>), <strong class="reserved">false</strong>);
<a id="L354" name="L354"></a> 354             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L355" name="L355"></a> 355                 jzentry = <a href="../D/18807.html" title="Multiple defined in 12 places.">getEntry</a>(jzfile, zc.<a href="../D/17415.html" title="Multiple defined in 35 places.">getBytes</a>(entry.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>), <strong class="reserved">false</strong>);
<a id="L356" name="L356"></a> 356             <em class="brace">}</em>
<a id="L357" name="L357"></a> 357             <strong class="reserved">if</strong> (jzentry == 0) <em class="brace">{</em>
<a id="L358" name="L358"></a> 358                 <strong class="reserved">return</strong> <strong class="reserved">null</strong>;
<a id="L359" name="L359"></a> 359             <em class="brace">}</em>
<a id="L360" name="L360"></a> 360             <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a> = <strong class="reserved">new</strong> <a href="../S/1014.html#L687" title="Defined at 687 in src/java/util/zip/ZipFile.java.">ZipFileInputStream</a>(jzentry);
<a id="L361" name="L361"></a> 361 
<a id="L362" name="L362"></a> 362             <strong class="reserved">switch</strong> (<a href="../S/1014.html#L809" title="Defined at 809 in src/java/util/zip/ZipFile.java.">getEntryMethod</a>(jzentry)) <em class="brace">{</em>
<a id="L363" name="L363"></a> 363             <strong class="reserved">case</strong> <a href="../S/12.html#L144" title="Defined at 144 in src/launcher/manifest_info.h.">STORED</a>:
<a id="L364" name="L364"></a> 364                 <strong class="reserved">synchronized</strong> (streams) <em class="brace">{</em>
<a id="L365" name="L365"></a> 365                     streams.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, <strong class="reserved">null</strong>);
<a id="L366" name="L366"></a> 366                 <em class="brace">}</em>
<a id="L367" name="L367"></a> 367                 <strong class="reserved">return</strong> <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>;
<a id="L368" name="L368"></a> 368             <strong class="reserved">case</strong> <a href="../S/12.html#L145" title="Defined at 145 in src/launcher/manifest_info.h.">DEFLATED</a>:
<a id="L369" name="L369"></a> 369                 <em class="comment">// MORE: Compute good size for inflater stream:</em>
<a id="L370" name="L370"></a> 370                 <strong class="reserved">long</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../S/1014.html#L808" title="Defined at 808 in src/java/util/zip/ZipFile.java.">getEntrySize</a>(jzentry) + 2; <em class="comment">// Inflater likes a bit of slack</em>
<a id="L371" name="L371"></a> 371                 <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &gt; 65536) <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = 8192;
<a id="L372" name="L372"></a> 372                 <strong class="reserved">if</strong> (<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> &lt;= 0) <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = 4096;
<a id="L373" name="L373"></a> 373                 <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf = <a href="../S/1014.html#L445" title="Defined at 445 in src/java/util/zip/ZipFile.java.">getInflater</a>();
<a id="L374" name="L374"></a> 374                 <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a> =
<a id="L375" name="L375"></a> 375                     <strong class="reserved">new</strong> <a href="../S/1014.html#L386" title="Defined at 386 in src/java/util/zip/ZipFile.java.">ZipFileInflaterInputStream</a>(<a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>, inf, (<strong class="reserved">int</strong>)<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L376" name="L376"></a> 376                 <strong class="reserved">synchronized</strong> (streams) <em class="brace">{</em>
<a id="L377" name="L377"></a> 377                     streams.<a href="../D/29971.html" title="Multiple defined in 370 places.">put</a>(<a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>, inf);
<a id="L378" name="L378"></a> 378                 <em class="brace">}</em>
<a id="L379" name="L379"></a> 379                 <strong class="reserved">return</strong> <a href="../D/25134.html" title="Multiple defined in 5 places.">is</a>;
<a id="L380" name="L380"></a> 380             <strong class="reserved">default</strong>:
<a id="L381" name="L381"></a> 381                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1009.html#L39" title="Defined at 39 in src/java/util/zip/ZipException.java.">ZipException</a>("invalid compression method");
<a id="L382" name="L382"></a> 382             <em class="brace">}</em>
<a id="L383" name="L383"></a> 383         <em class="brace">}</em>
<a id="L384" name="L384"></a> 384     <em class="brace">}</em>
<a id="L385" name="L385"></a> 385 
<a id="L386" name="L386"></a> 386     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../S/1014.html#L375" title="Referred from 375 in src/java/util/zip/ZipFile.java.">ZipFileInflaterInputStream</a> <strong class="reserved">extends</strong> <a href="../S/1001.html#L42" title="Defined at 42 in src/java/util/zip/InflaterInputStream.java.">InflaterInputStream</a> <em class="brace">{</em>
<a id="L387" name="L387"></a> 387         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> closeRequested = <strong class="reserved">false</strong>;
<a id="L388" name="L388"></a> 388         <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> eof = <strong class="reserved">false</strong>;
<a id="L389" name="L389"></a> 389         <strong class="reserved">private</strong> <strong class="reserved">final</strong> <a href="../S/1014.html#L687" title="Defined at 687 in src/java/util/zip/ZipFile.java.">ZipFileInputStream</a> zfin;
<a id="L390" name="L390"></a> 390 
<a id="L391" name="L391"></a> 391         ZipFileInflaterInputStream(<a href="../S/1014.html#L687" title="Defined at 687 in src/java/util/zip/ZipFile.java.">ZipFileInputStream</a> zfin, <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf,
<a id="L392" name="L392"></a> 392                 <strong class="reserved">int</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>) <em class="brace">{</em>
<a id="L393" name="L393"></a> 393             <strong class="reserved">super</strong>(zfin, inf, <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>);
<a id="L394" name="L394"></a> 394             <strong class="reserved">this</strong>.zfin = zfin;
<a id="L395" name="L395"></a> 395         <em class="brace">}</em>
<a id="L396" name="L396"></a> 396 
<a id="L397" name="L397"></a> 397         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L398" name="L398"></a> 398             <strong class="reserved">if</strong> (closeRequested)
<a id="L399" name="L399"></a> 399                 <strong class="reserved">return</strong>;
<a id="L400" name="L400"></a> 400             closeRequested = <strong class="reserved">true</strong>;
<a id="L401" name="L401"></a> 401 
<a id="L402" name="L402"></a> 402             <strong class="reserved">super</strong>.<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L403" name="L403"></a> 403             <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf;
<a id="L404" name="L404"></a> 404             <strong class="reserved">synchronized</strong> (streams) <em class="brace">{</em>
<a id="L405" name="L405"></a> 405                 inf = streams.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<strong class="reserved">this</strong>);
<a id="L406" name="L406"></a> 406             <em class="brace">}</em>
<a id="L407" name="L407"></a> 407             <strong class="reserved">if</strong> (inf != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L408" name="L408"></a> 408                 <a href="../S/1014.html#L460" title="Defined at 460 in src/java/util/zip/ZipFile.java.">releaseInflater</a>(inf);
<a id="L409" name="L409"></a> 409             <em class="brace">}</em>
<a id="L410" name="L410"></a> 410         <em class="brace">}</em>
<a id="L411" name="L411"></a> 411 
<a id="L412" name="L412"></a> 412         <em class="comment">// Override fill() method to provide an extra "dummy" byte</em>
<a id="L413" name="L413"></a> 413         <em class="comment">// at the end of the input stream. This is required when</em>
<a id="L414" name="L414"></a> 414         <em class="comment">// using the "nowrap" Inflater option.</em>
<a id="L415" name="L415"></a> 415         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14291.html" title="Multiple referred from 1747 places.">fill</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L416" name="L416"></a> 416             <strong class="reserved">if</strong> (eof) <em class="brace">{</em>
<a id="L417" name="L417"></a> 417                 <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1440.html#L42" title="Defined at 42 in src/java/io/EOFException.java.">EOFException</a>("Unexpected end of ZLIB input stream");
<a id="L418" name="L418"></a> 418             <em class="brace">}</em>
<a id="L419" name="L419"></a> 419             len = <a href="../D/24395.html" title="Multiple defined in 2 places.">in</a>.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, 0, <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L420" name="L420"></a> 420             <strong class="reserved">if</strong> (len == -1) <em class="brace">{</em>
<a id="L421" name="L421"></a> 421                 <a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>[0] = 0;
<a id="L422" name="L422"></a> 422                 len = 1;
<a id="L423" name="L423"></a> 423                 eof = <strong class="reserved">true</strong>;
<a id="L424" name="L424"></a> 424             <em class="brace">}</em>
<a id="L425" name="L425"></a> 425             inf.<a href="../D/32954.html" title="Multiple defined in 12 places.">setInput</a>(<a href="../D/11927.html" title="Multiple defined in 8 places.">buf</a>, 0, len);
<a id="L426" name="L426"></a> 426         <em class="brace">}</em>
<a id="L427" name="L427"></a> 427 
<a id="L428" name="L428"></a> 428         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/10425.html" title="Multiple referred from 160 places.">available</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L429" name="L429"></a> 429             <strong class="reserved">if</strong> (closeRequested)
<a id="L430" name="L430"></a> 430                 <strong class="reserved">return</strong> 0;
<a id="L431" name="L431"></a> 431             <strong class="reserved">long</strong> avail = zfin.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>() - inf.<a href="../D/17424.html" title="Multiple defined in 2 places.">getBytesWritten</a>();
<a id="L432" name="L432"></a> 432             <strong class="reserved">return</strong> (avail &gt; (<strong class="reserved">long</strong>) <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE ?
<a id="L433" name="L433"></a> 433                     <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE : (<strong class="reserved">int</strong>) avail);
<a id="L434" name="L434"></a> 434         <em class="brace">}</em>
<a id="L435" name="L435"></a> 435 
<a id="L436" name="L436"></a> 436         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <strong class="reserved">throws</strong> <a href="../S/1726.html#L114" title="Defined at 114 in src/java/lang/Throwable.java.">Throwable</a> <em class="brace">{</em>
<a id="L437" name="L437"></a> 437             <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L438" name="L438"></a> 438         <em class="brace">}</em>
<a id="L439" name="L439"></a> 439     <em class="brace">}</em>
<a id="L440" name="L440"></a> 440 
<div class="comment">
      Gets an inflater from the list of available inflaters or allocates
      a new one.</div>
<a id="L445" name="L445"></a> 445     <strong class="reserved">private</strong> <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> <a href="../S/1014.html#L373" title="Referred from 373 in src/java/util/zip/ZipFile.java.">getInflater</a>() <em class="brace">{</em>
<a id="L446" name="L446"></a> 446         <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf;
<a id="L447" name="L447"></a> 447         <strong class="reserved">synchronized</strong> (inflaterCache) <em class="brace">{</em>
<a id="L448" name="L448"></a> 448             <strong class="reserved">while</strong> (<strong class="reserved">null</strong> != (inf = inflaterCache.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>())) <em class="brace">{</em>
<a id="L449" name="L449"></a> 449                 <strong class="reserved">if</strong> (<strong class="reserved">false</strong> == inf.<a href="../S/1004.html#L392" title="Defined at 392 in src/java/util/zip/Inflater.java.">ended</a>()) <em class="brace">{</em>
<a id="L450" name="L450"></a> 450                     <strong class="reserved">return</strong> inf;
<a id="L451" name="L451"></a> 451                 <em class="brace">}</em>
<a id="L452" name="L452"></a> 452             <em class="brace">}</em>
<a id="L453" name="L453"></a> 453         <em class="brace">}</em>
<a id="L454" name="L454"></a> 454         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a>(<strong class="reserved">true</strong>);
<a id="L455" name="L455"></a> 455     <em class="brace">}</em>
<a id="L456" name="L456"></a> 456 
<div class="comment">
      Releases the specified inflater to the list of available inflaters.</div>
<a id="L460" name="L460"></a> 460     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1014.html#L408" title="Referred from 408 in src/java/util/zip/ZipFile.java.">releaseInflater</a>(<a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf) <em class="brace">{</em>
<a id="L461" name="L461"></a> 461         <strong class="reserved">if</strong> (<strong class="reserved">false</strong> == inf.<a href="../S/1004.html#L392" title="Defined at 392 in src/java/util/zip/Inflater.java.">ended</a>()) <em class="brace">{</em>
<a id="L462" name="L462"></a> 462             inf.<a href="../D/31151.html" title="Multiple defined in 296 places.">reset</a>();
<a id="L463" name="L463"></a> 463             <strong class="reserved">synchronized</strong> (inflaterCache) <em class="brace">{</em>
<a id="L464" name="L464"></a> 464                 inflaterCache.<a href="../D/10632.html" title="Multiple defined in 301 places.">add</a>(inf);
<a id="L465" name="L465"></a> 465             <em class="brace">}</em>
<a id="L466" name="L466"></a> 466         <em class="brace">}</em>
<a id="L467" name="L467"></a> 467     <em class="brace">}</em>
<a id="L468" name="L468"></a> 468 
<a id="L469" name="L469"></a> 469     <em class="comment">// List of available Inflater objects for decompression</em>
<a id="L470" name="L470"></a> 470     <strong class="reserved">private</strong> <a href="../S/1133.html#L193" title="Defined at 193 in src/java/util/Deque.java.">Deque</a>&lt;<a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a>&gt; inflaterCache = <strong class="reserved">new</strong> <a href="../S/996.html#L85" title="Defined at 85 in src/java/util/ArrayDeque.java.">ArrayDeque</a>&lt;&gt;();
<a id="L471" name="L471"></a> 471 
<div class="comment">
      Returns the path name of the ZIP file.
      @return the path name of the ZIP file</div>
<a id="L476" name="L476"></a> 476     <strong class="reserved">public</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../R/17826.html" title="Multiple referred from 2652 places.">getName</a>() <em class="brace">{</em>
<a id="L477" name="L477"></a> 477         <strong class="reserved">return</strong> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L478" name="L478"></a> 478     <em class="brace">}</em>
<a id="L479" name="L479"></a> 479 
<a id="L480" name="L480"></a> 480     <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/9333.html" title="Multiple referred from 2 places.">ZipEntryIterator</a> <strong class="reserved">implements</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;<a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>&gt;, <a href="../D/4461.html" title="Multiple defined in 3 places.">Iterator</a>&lt;<a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>&gt; <em class="brace">{</em>
<a id="L481" name="L481"></a> 481         <strong class="reserved">private</strong> <strong class="reserved">int</strong> i = 0;
<a id="L482" name="L482"></a> 482 
<a id="L483" name="L483"></a> 483         <strong class="reserved">public</strong> ZipEntryIterator() <em class="brace">{</em>
<a id="L484" name="L484"></a> 484             <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L485" name="L485"></a> 485         <em class="brace">}</em>
<a id="L486" name="L486"></a> 486 
<a id="L487" name="L487"></a> 487         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20227.html" title="Multiple referred from 465 places.">hasMoreElements</a>() <em class="brace">{</em>
<a id="L488" name="L488"></a> 488             <strong class="reserved">return</strong> <a href="../D/24134.html" title="Multiple defined in 81 places.">hasNext</a>();
<a id="L489" name="L489"></a> 489         <em class="brace">}</em>
<a id="L490" name="L490"></a> 490 
<a id="L491" name="L491"></a> 491         <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../R/20233.html" title="Multiple referred from 653 places.">hasNext</a>() <em class="brace">{</em>
<a id="L492" name="L492"></a> 492             <strong class="reserved">synchronized</strong> (<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L493" name="L493"></a> 493                 <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L494" name="L494"></a> 494                 <strong class="reserved">return</strong> i &lt; total;
<a id="L495" name="L495"></a> 495             <em class="brace">}</em>
<a id="L496" name="L496"></a> 496         <em class="brace">}</em>
<a id="L497" name="L497"></a> 497 
<a id="L498" name="L498"></a> 498         <strong class="reserved">public</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> <a href="../R/23661.html" title="Multiple referred from 479 places.">nextElement</a>() <em class="brace">{</em>
<a id="L499" name="L499"></a> 499             <strong class="reserved">return</strong> <a href="../D/28131.html" title="Multiple defined in 273 places.">next</a>();
<a id="L500" name="L500"></a> 500         <em class="brace">}</em>
<a id="L501" name="L501"></a> 501 
<a id="L502" name="L502"></a> 502         <strong class="reserved">public</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> <a href="../R/23650.html" title="Multiple referred from 3301 places.">next</a>() <em class="brace">{</em>
<a id="L503" name="L503"></a> 503             <strong class="reserved">synchronized</strong> (<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L504" name="L504"></a> 504                 <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L505" name="L505"></a> 505                 <strong class="reserved">if</strong> (i &gt;= total) <em class="brace">{</em>
<a id="L506" name="L506"></a> 506                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1128.html#L38" title="Defined at 38 in src/java/util/NoSuchElementException.java.">NoSuchElementException</a>();
<a id="L507" name="L507"></a> 507                 <em class="brace">}</em>
<a id="L508" name="L508"></a> 508                 <strong class="reserved">long</strong> jzentry = <a href="../D/20898.html" title="Multiple defined in 3 places.">getNextEntry</a>(jzfile, i++);
<a id="L509" name="L509"></a> 509                 <strong class="reserved">if</strong> (jzentry == 0) <em class="brace">{</em>
<a id="L510" name="L510"></a> 510                     <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>;
<a id="L511" name="L511"></a> 511                     <strong class="reserved">if</strong> (closeRequested) <em class="brace">{</em>
<a id="L512" name="L512"></a> 512                         <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a> = "ZipFile concurrently closed";
<a id="L513" name="L513"></a> 513                     <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L514" name="L514"></a> 514                         <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a> = <a href="../S/1014.html#L818" title="Defined at 818 in src/java/util/zip/ZipFile.java.">getZipMessage</a>(<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.jzfile);
<a id="L515" name="L515"></a> 515                     <em class="brace">}</em>
<a id="L516" name="L516"></a> 516                     <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1007.html#L34" title="Defined at 34 in src/java/util/zip/ZipError.java.">ZipError</a>("jzentry == 0" +
<a id="L517" name="L517"></a> 517                                        ",\n jzfile = " + <a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.jzfile +
<a id="L518" name="L518"></a> 518                                        ",\n total = " + <a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.total +
<a id="L519" name="L519"></a> 519                                        ",\n name = " + <a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> +
<a id="L520" name="L520"></a> 520                                        ",\n i = " + i +
<a id="L521" name="L521"></a> 521                                        ",\n message = " + <a href="../D/27673.html" title="Multiple defined in 6 places.">message</a>
<a id="L522" name="L522"></a> 522                         );
<a id="L523" name="L523"></a> 523                 <em class="brace">}</em>
<a id="L524" name="L524"></a> 524                 <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> ze = <a href="../S/1014.html#L556" title="Defined at 556 in src/java/util/zip/ZipFile.java.">getZipEntry</a>(<strong class="reserved">null</strong>, jzentry);
<a id="L525" name="L525"></a> 525                 <a href="../S/1014.html#L324" title="Defined at 324 in src/java/util/zip/ZipFile.java.">freeEntry</a>(jzfile, jzentry);
<a id="L526" name="L526"></a> 526                 <strong class="reserved">return</strong> ze;
<a id="L527" name="L527"></a> 527             <em class="brace">}</em>
<a id="L528" name="L528"></a> 528         <em class="brace">}</em>
<a id="L529" name="L529"></a> 529     <em class="brace">}</em>
<a id="L530" name="L530"></a> 530 
<div class="comment">
      Returns an enumeration of the ZIP file entries.
      @return an enumeration of the ZIP file entries
      @throws IllegalStateException if the zip file has been closed</div>
<a id="L536" name="L536"></a> 536     <strong class="reserved">public</strong> <a href="../S/1134.html#L61" title="Defined at 61 in src/java/util/Enumeration.java.">Enumeration</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>&gt; <a href="../R/13953.html" title="Multiple referred from 182 places.">entries</a>() <em class="brace">{</em>
<a id="L537" name="L537"></a> 537         <strong class="reserved">return</strong> <strong class="reserved">new</strong> <a href="../S/1014.html#L480" title="Defined at 480 in src/java/util/zip/ZipFile.java.">ZipEntryIterator</a>();
<a id="L538" name="L538"></a> 538     <em class="brace">}</em>
<a id="L539" name="L539"></a> 539 
<div class="comment">
      Return an ordered <code>Stream</code> over the ZIP file entries.
      Entries appear in the <code>Stream</code> in the order they appear in
      the central directory of the ZIP file.
      @return an ordered <code>Stream</code> of entries in this ZIP file
      @throws IllegalStateException if the zip file has been closed
      @since 1.8</div>
<a id="L549" name="L549"></a> 549     <strong class="reserved">public</strong> <a href="../S/903.html#L154" title="Defined at 154 in src/java/util/stream/Stream.java.">Stream</a>&lt;? <strong class="reserved">extends</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>&gt; <a href="../R/28940.html" title="Multiple referred from 1410 places.">stream</a>() <em class="brace">{</em>
<a id="L550" name="L550"></a> 550         <strong class="reserved">return</strong> <a href="../S/888.html#L40" title="Defined at 40 in src/java/util/stream/StreamSupport.java.">StreamSupport</a>.<a href="../D/34926.html" title="Multiple defined in 21 places.">stream</a>(<a href="../S/1188.html#L41" title="Defined at 41 in src/java/util/Spliterators.java.">Spliterators</a>.<a href="../D/34729.html" title="Multiple defined in 111 places.">spliterator</a>(
<a id="L551" name="L551"></a> 551                 <strong class="reserved">new</strong> <a href="../S/1014.html#L480" title="Defined at 480 in src/java/util/zip/ZipFile.java.">ZipEntryIterator</a>(), <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>(),
<a id="L552" name="L552"></a> 552                 <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../S/915.html#L281" title="Defined at 281 in src/java/util/stream/StreamOpFlag.java.">ORDERED</a> | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.<a href="../D/2027.html" title="Multiple defined in 2 places.">DISTINCT</a> |
<a id="L553" name="L553"></a> 553                         <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.IMMUTABLE | <a href="../S/1151.html#L296" title="Defined at 296 in src/java/util/Spliterator.java.">Spliterator</a>.NONNULL), <strong class="reserved">false</strong>);
<a id="L554" name="L554"></a> 554     <em class="brace">}</em>
<a id="L555" name="L555"></a> 555 
<a id="L556" name="L556"></a> 556     <strong class="reserved">private</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> <a href="../R/19956.html" title="Multiple referred from 2 places.">getZipEntry</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">long</strong> jzentry) <em class="brace">{</em>
<a id="L557" name="L557"></a> 557         <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a> e = <strong class="reserved">new</strong> <a href="../S/1005.html#L41" title="Defined at 41 in src/java/util/zip/ZipEntry.java.">ZipEntry</a>();
<a id="L558" name="L558"></a> 558         e.flag = <a href="../S/1014.html#L810" title="Defined at 810 in src/java/util/zip/ZipFile.java.">getEntryFlag</a>(jzentry);  <em class="comment">// get the flag first</em>
<a id="L559" name="L559"></a> 559         <strong class="reserved">if</strong> (<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L560" name="L560"></a> 560             e.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>;
<a id="L561" name="L561"></a> 561         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L562" name="L562"></a> 562             <strong class="reserved">byte</strong>[] bname = <a href="../S/1014.html#L816" title="Defined at 816 in src/java/util/zip/ZipFile.java.">getEntryBytes</a>(jzentry, JZENTRY_NAME);
<a id="L563" name="L563"></a> 563             <strong class="reserved">if</strong> (!zc.<a href="../S/1017.html#L123" title="Defined at 123 in src/java/util/zip/ZipCoder.java.">isUTF8</a>() &amp;&amp; (e.flag &amp; EFS) != 0) <em class="brace">{</em>
<a id="L564" name="L564"></a> 564                 e.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = zc.<a href="../S/1017.html#L115" title="Defined at 115 in src/java/util/zip/ZipCoder.java.">toStringUTF8</a>(bname, bname.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L565" name="L565"></a> 565             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L566" name="L566"></a> 566                 e.<a href="../D/27856.html" title="Multiple defined in 46 places.">name</a> = zc.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(bname, bname.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L567" name="L567"></a> 567             <em class="brace">}</em>
<a id="L568" name="L568"></a> 568         <em class="brace">}</em>
<a id="L569" name="L569"></a> 569         e.xdostime = <a href="../S/1014.html#L805" title="Defined at 805 in src/java/util/zip/ZipFile.java.">getEntryTime</a>(jzentry);
<a id="L570" name="L570"></a> 570         e.crc = <a href="../S/1014.html#L806" title="Defined at 806 in src/java/util/zip/ZipFile.java.">getEntryCrc</a>(jzentry);
<a id="L571" name="L571"></a> 571         e.<a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../S/1014.html#L808" title="Defined at 808 in src/java/util/zip/ZipFile.java.">getEntrySize</a>(jzentry);
<a id="L572" name="L572"></a> 572         e.csize = <a href="../S/1014.html#L807" title="Defined at 807 in src/java/util/zip/ZipFile.java.">getEntryCSize</a>(jzentry);
<a id="L573" name="L573"></a> 573         e.method = <a href="../S/1014.html#L809" title="Defined at 809 in src/java/util/zip/ZipFile.java.">getEntryMethod</a>(jzentry);
<a id="L574" name="L574"></a> 574         e.<a href="../S/1005.html#L454" title="Defined at 454 in src/java/util/zip/ZipEntry.java.">setExtra0</a>(<a href="../S/1014.html#L816" title="Defined at 816 in src/java/util/zip/ZipFile.java.">getEntryBytes</a>(jzentry, JZENTRY_EXTRA), <strong class="reserved">false</strong>);
<a id="L575" name="L575"></a> 575         <strong class="reserved">byte</strong>[] bcomm = <a href="../S/1014.html#L816" title="Defined at 816 in src/java/util/zip/ZipFile.java.">getEntryBytes</a>(jzentry, JZENTRY_COMMENT);
<a id="L576" name="L576"></a> 576         <strong class="reserved">if</strong> (bcomm == <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L577" name="L577"></a> 577             e.<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a> = <strong class="reserved">null</strong>;
<a id="L578" name="L578"></a> 578         <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L579" name="L579"></a> 579             <strong class="reserved">if</strong> (!zc.<a href="../S/1017.html#L123" title="Defined at 123 in src/java/util/zip/ZipCoder.java.">isUTF8</a>() &amp;&amp; (e.flag &amp; EFS) != 0) <em class="brace">{</em>
<a id="L580" name="L580"></a> 580                 e.<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a> = zc.<a href="../S/1017.html#L115" title="Defined at 115 in src/java/util/zip/ZipCoder.java.">toStringUTF8</a>(bcomm, bcomm.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L581" name="L581"></a> 581             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L582" name="L582"></a> 582                 e.<a href="../D/13011.html" title="Multiple defined in 65 places.">comment</a> = zc.<a href="../D/35493.html" title="Multiple defined in 1021 places.">toString</a>(bcomm, bcomm.<a href="../D/26813.html" title="Multiple defined in 43 places.">length</a>);
<a id="L583" name="L583"></a> 583             <em class="brace">}</em>
<a id="L584" name="L584"></a> 584         <em class="brace">}</em>
<a id="L585" name="L585"></a> 585         <strong class="reserved">return</strong> e;
<a id="L586" name="L586"></a> 586     <em class="brace">}</em>
<a id="L587" name="L587"></a> 587 
<a id="L588" name="L588"></a> 588     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/17912.html" title="Multiple referred from 6 places.">getNextEntry</a>(<strong class="reserved">long</strong> jzfile, <strong class="reserved">int</strong> i);
<a id="L589" name="L589"></a> 589 
<div class="comment">
      Returns the number of entries in the ZIP file.
      @return the number of entries in the ZIP file
      @throws IllegalStateException if the zip file has been closed</div>
<a id="L595" name="L595"></a> 595     <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L596" name="L596"></a> 596         <a href="../D/15620.html" title="Multiple defined in 19 places.">ensureOpen</a>();
<a id="L597" name="L597"></a> 597         <strong class="reserved">return</strong> total;
<a id="L598" name="L598"></a> 598     <em class="brace">}</em>
<a id="L599" name="L599"></a> 599 
<div class="comment">
      Closes the ZIP file.
      <p> Closing this ZIP file will close all of the input streams
      previously returned by invocations of the {@link #getInputStream
      getInputStream} method.
      @throws IOException if an I/O error has occurred</p></div>
<a id="L608" name="L608"></a> 608     <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L609" name="L609"></a> 609         <strong class="reserved">if</strong> (closeRequested)
<a id="L610" name="L610"></a> 610             <strong class="reserved">return</strong>;
<a id="L611" name="L611"></a> 611         closeRequested = <strong class="reserved">true</strong>;
<a id="L612" name="L612"></a> 612 
<a id="L613" name="L613"></a> 613         <strong class="reserved">synchronized</strong> (<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L614" name="L614"></a> 614             <em class="comment">// Close streams, release their inflaters</em>
<a id="L615" name="L615"></a> 615             <strong class="reserved">synchronized</strong> (streams) <em class="brace">{</em>
<a id="L616" name="L616"></a> 616                 <strong class="reserved">if</strong> (<strong class="reserved">false</strong> == streams.<a href="../D/25493.html" title="Multiple defined in 113 places.">isEmpty</a>()) <em class="brace">{</em>
<a id="L617" name="L617"></a> 617                     <a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>&lt;<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>, <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a>&gt; <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a> = <strong class="reserved">new</strong> <a href="../S/867.html#L137" title="Defined at 137 in src/java/util/HashMap.java.">HashMap</a>&lt;&gt;(streams);
<a id="L618" name="L618"></a> 618                     streams.<a href="../D/12817.html" title="Multiple defined in 199 places.">clear</a>();
<a id="L619" name="L619"></a> 619                     <strong class="reserved">for</strong> (<a href="../D/5398.html" title="Multiple defined in 3 places.">Map</a>.<a href="../D/2925.html" title="Multiple defined in 20 places.">Entry</a>&lt;<a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a>, <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a>&gt; e : <a href="../D/13475.html" title="Multiple defined in 92 places.">copy</a>.<a href="../D/15653.html" title="Multiple defined in 34 places.">entrySet</a>()) <em class="brace">{</em>
<a id="L620" name="L620"></a> 620                         e.<a href="../D/19919.html" title="Multiple defined in 41 places.">getKey</a>().<a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L621" name="L621"></a> 621                         <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf = e.<a href="../D/23531.html" title="Multiple defined in 212 places.">getValue</a>();
<a id="L622" name="L622"></a> 622                         <strong class="reserved">if</strong> (inf != <strong class="reserved">null</strong>) <em class="brace">{</em>
<a id="L623" name="L623"></a> 623                             inf.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L624" name="L624"></a> 624                         <em class="brace">}</em>
<a id="L625" name="L625"></a> 625                     <em class="brace">}</em>
<a id="L626" name="L626"></a> 626                 <em class="brace">}</em>
<a id="L627" name="L627"></a> 627             <em class="brace">}</em>
<a id="L628" name="L628"></a> 628 
<a id="L629" name="L629"></a> 629             <em class="comment">// Release cached inflaters</em>
<a id="L630" name="L630"></a> 630             <a href="../S/1004.html#L74" title="Defined at 74 in src/java/util/zip/Inflater.java.">Inflater</a> inf;
<a id="L631" name="L631"></a> 631             <strong class="reserved">synchronized</strong> (inflaterCache) <em class="brace">{</em>
<a id="L632" name="L632"></a> 632                 <strong class="reserved">while</strong> (<strong class="reserved">null</strong> != (inf = inflaterCache.<a href="../D/29402.html" title="Multiple defined in 36 places.">poll</a>())) <em class="brace">{</em>
<a id="L633" name="L633"></a> 633                     inf.<a href="../D/15431.html" title="Multiple defined in 52 places.">end</a>();
<a id="L634" name="L634"></a> 634                 <em class="brace">}</em>
<a id="L635" name="L635"></a> 635             <em class="brace">}</em>
<a id="L636" name="L636"></a> 636 
<a id="L637" name="L637"></a> 637             <strong class="reserved">if</strong> (jzfile != 0) <em class="brace">{</em>
<a id="L638" name="L638"></a> 638                 <em class="comment">// Close the zip file</em>
<a id="L639" name="L639"></a> 639                 <strong class="reserved">long</strong> zf = <strong class="reserved">this</strong>.jzfile;
<a id="L640" name="L640"></a> 640                 jzfile = 0;
<a id="L641" name="L641"></a> 641 
<a id="L642" name="L642"></a> 642                 <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>(zf);
<a id="L643" name="L643"></a> 643             <em class="brace">}</em>
<a id="L644" name="L644"></a> 644         <em class="brace">}</em>
<a id="L645" name="L645"></a> 645     <em class="brace">}</em>
<a id="L646" name="L646"></a> 646 
<div class="comment">
      Ensures that the system resources held by this ZipFile object are
      released when there are no more references to it.
      <p>
      Since the time when GC would invoke this method is undetermined,
      it is strongly recommended that applications invoke the <code>close</code>
      method as soon they have finished accessing this <code>ZipFile</code>.
      This will prevent holding up system resources for an undetermined
      length of time.
      @throws IOException if an I/O error has occurred
      @see    java.util.zip.ZipFile#close()</p></div>
<a id="L661" name="L661"></a> 661     <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L662" name="L662"></a> 662         <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L663" name="L663"></a> 663     <em class="brace">}</em>
<a id="L664" name="L664"></a> 664 
<a id="L665" name="L665"></a> 665     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>(<strong class="reserved">long</strong> jzfile);
<a id="L666" name="L666"></a> 666 
<a id="L667" name="L667"></a> 667     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../R/13930.html" title="Multiple referred from 102 places.">ensureOpen</a>() <em class="brace">{</em>
<a id="L668" name="L668"></a> 668         <strong class="reserved">if</strong> (closeRequested) <em class="brace">{</em>
<a id="L669" name="L669"></a> 669             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("zip file closed");
<a id="L670" name="L670"></a> 670         <em class="brace">}</em>
<a id="L671" name="L671"></a> 671 
<a id="L672" name="L672"></a> 672         <strong class="reserved">if</strong> (jzfile == 0) <em class="brace">{</em>
<a id="L673" name="L673"></a> 673             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1555.html#L38" title="Defined at 38 in src/java/lang/IllegalStateException.java.">IllegalStateException</a>("The object is not initialized.");
<a id="L674" name="L674"></a> 674         <em class="brace">}</em>
<a id="L675" name="L675"></a> 675     <em class="brace">}</em>
<a id="L676" name="L676"></a> 676 
<a id="L677" name="L677"></a> 677     <strong class="reserved">private</strong> <strong class="reserved">void</strong> <a href="../S/1014.html#L715" title="Referred from 715 in src/java/util/zip/ZipFile.java.">ensureOpenOrZipException</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L678" name="L678"></a> 678         <strong class="reserved">if</strong> (closeRequested) <em class="brace">{</em>
<a id="L679" name="L679"></a> 679             <strong class="reserved">throw</strong> <strong class="reserved">new</strong> <a href="../S/1009.html#L39" title="Defined at 39 in src/java/util/zip/ZipException.java.">ZipException</a>("ZipFile closed");
<a id="L680" name="L680"></a> 680         <em class="brace">}</em>
<a id="L681" name="L681"></a> 681     <em class="brace">}</em>
<a id="L682" name="L682"></a> 682 
<div class="comment">
      Inner class implementing the input stream used to read a
      (possibly compressed) zip file entry.</div>
<a id="L687" name="L687"></a> 687    <strong class="reserved">private</strong> <strong class="reserved">class</strong> <a href="../R/9338.html" title="Multiple referred from 4 places.">ZipFileInputStream</a> <strong class="reserved">extends</strong> <a href="../D/4231.html" title="Multiple defined in 3 places.">InputStream</a> <em class="brace">{</em>
<a id="L688" name="L688"></a> 688         <strong class="reserved">private</strong> <strong class="reserved">volatile</strong> <strong class="reserved">boolean</strong> closeRequested = <strong class="reserved">false</strong>;
<a id="L689" name="L689"></a> 689         <strong class="reserved">protected</strong> <strong class="reserved">long</strong> jzentry; <em class="comment">// address of jzentry data</em>
<a id="L690" name="L690"></a> 690         <strong class="reserved">private</strong>   <strong class="reserved">long</strong> pos;     <em class="comment">// current position within entry data</em>
<a id="L691" name="L691"></a> 691         <strong class="reserved">protected</strong> <strong class="reserved">long</strong> rem;     <em class="comment">// number of remaining bytes within entry</em>
<a id="L692" name="L692"></a> 692         <strong class="reserved">protected</strong> <strong class="reserved">long</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;    <em class="comment">// uncompressed size of this entry</em>
<a id="L693" name="L693"></a> 693 
<a id="L694" name="L694"></a> 694         ZipFileInputStream(<strong class="reserved">long</strong> jzentry) <em class="brace">{</em>
<a id="L695" name="L695"></a> 695             pos = 0;
<a id="L696" name="L696"></a> 696             rem = <a href="../S/1014.html#L807" title="Defined at 807 in src/java/util/zip/ZipFile.java.">getEntryCSize</a>(jzentry);
<a id="L697" name="L697"></a> 697             <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a> = <a href="../S/1014.html#L808" title="Defined at 808 in src/java/util/zip/ZipFile.java.">getEntrySize</a>(jzentry);
<a id="L698" name="L698"></a> 698             <strong class="reserved">this</strong>.jzentry = jzentry;
<a id="L699" name="L699"></a> 699         <em class="brace">}</em>
<a id="L700" name="L700"></a> 700 
<a id="L701" name="L701"></a> 701         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25407.html" title="Multiple referred from 1300 places.">read</a>(<strong class="reserved">byte</strong> b[], <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L702" name="L702"></a> 702             <strong class="reserved">synchronized</strong> (<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L703" name="L703"></a> 703                 <strong class="reserved">long</strong> rem = <strong class="reserved">this</strong>.rem;
<a id="L704" name="L704"></a> 704                 <strong class="reserved">long</strong> pos = <strong class="reserved">this</strong>.pos;
<a id="L705" name="L705"></a> 705                 <strong class="reserved">if</strong> (rem == 0) <em class="brace">{</em>
<a id="L706" name="L706"></a> 706                     <strong class="reserved">return</strong> -1;
<a id="L707" name="L707"></a> 707                 <em class="brace">}</em>
<a id="L708" name="L708"></a> 708                 <strong class="reserved">if</strong> (len &lt;= 0) <em class="brace">{</em>
<a id="L709" name="L709"></a> 709                     <strong class="reserved">return</strong> 0;
<a id="L710" name="L710"></a> 710                 <em class="brace">}</em>
<a id="L711" name="L711"></a> 711                 <strong class="reserved">if</strong> (len &gt; rem) <em class="brace">{</em>
<a id="L712" name="L712"></a> 712                     len = (<strong class="reserved">int</strong>) rem;
<a id="L713" name="L713"></a> 713                 <em class="brace">}</em>
<a id="L714" name="L714"></a> 714 
<a id="L715" name="L715"></a> 715                 <a href="../S/1014.html#L677" title="Defined at 677 in src/java/util/zip/ZipFile.java.">ensureOpenOrZipException</a>();
<a id="L716" name="L716"></a> 716                 len = <a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.jzfile, jzentry, pos, b,
<a id="L717" name="L717"></a> 717                                    off, len);
<a id="L718" name="L718"></a> 718                 <strong class="reserved">if</strong> (len &gt; 0) <em class="brace">{</em>
<a id="L719" name="L719"></a> 719                     <strong class="reserved">this</strong>.pos = (pos + len);
<a id="L720" name="L720"></a> 720                     <strong class="reserved">this</strong>.rem = (rem - len);
<a id="L721" name="L721"></a> 721                 <em class="brace">}</em>
<a id="L722" name="L722"></a> 722             <em class="brace">}</em>
<a id="L723" name="L723"></a> 723             <strong class="reserved">if</strong> (rem == 0) <em class="brace">{</em>
<a id="L724" name="L724"></a> 724                 <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L725" name="L725"></a> 725             <em class="brace">}</em>
<a id="L726" name="L726"></a> 726             <strong class="reserved">return</strong> len;
<a id="L727" name="L727"></a> 727         <em class="brace">}</em>
<a id="L728" name="L728"></a> 728 
<a id="L729" name="L729"></a> 729         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/25407.html" title="Multiple referred from 1300 places.">read</a>() <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a> <em class="brace">{</em>
<a id="L730" name="L730"></a> 730             <strong class="reserved">byte</strong>[] b = <strong class="reserved">new</strong> <strong class="reserved">byte</strong>[1];
<a id="L731" name="L731"></a> 731             <strong class="reserved">if</strong> (<a href="../D/30105.html" title="Multiple defined in 434 places.">read</a>(b, 0, 1) == 1) <em class="brace">{</em>
<a id="L732" name="L732"></a> 732                 <strong class="reserved">return</strong> b[0] &amp; 0xff;
<a id="L733" name="L733"></a> 733             <em class="brace">}</em> <strong class="reserved">else</strong> <em class="brace">{</em>
<a id="L734" name="L734"></a> 734                 <strong class="reserved">return</strong> -1;
<a id="L735" name="L735"></a> 735             <em class="brace">}</em>
<a id="L736" name="L736"></a> 736         <em class="brace">}</em>
<a id="L737" name="L737"></a> 737 
<a id="L738" name="L738"></a> 738         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/28643.html" title="Multiple referred from 174 places.">skip</a>(<strong class="reserved">long</strong> n) <em class="brace">{</em>
<a id="L739" name="L739"></a> 739             <strong class="reserved">if</strong> (n &gt; rem)
<a id="L740" name="L740"></a> 740                 n = rem;
<a id="L741" name="L741"></a> 741             pos += n;
<a id="L742" name="L742"></a> 742             rem -= n;
<a id="L743" name="L743"></a> 743             <strong class="reserved">if</strong> (rem == 0) <em class="brace">{</em>
<a id="L744" name="L744"></a> 744                 <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L745" name="L745"></a> 745             <em class="brace">}</em>
<a id="L746" name="L746"></a> 746             <strong class="reserved">return</strong> n;
<a id="L747" name="L747"></a> 747         <em class="brace">}</em>
<a id="L748" name="L748"></a> 748 
<a id="L749" name="L749"></a> 749         <strong class="reserved">public</strong> <strong class="reserved">int</strong> <a href="../R/10425.html" title="Multiple referred from 160 places.">available</a>() <em class="brace">{</em>
<a id="L750" name="L750"></a> 750             <strong class="reserved">return</strong> rem &gt; <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE ? <a href="../D/4299.html" title="Multiple defined in 4 places.">Integer</a>.MAX_VALUE : (<strong class="reserved">int</strong>) rem;
<a id="L751" name="L751"></a> 751         <em class="brace">}</em>
<a id="L752" name="L752"></a> 752 
<a id="L753" name="L753"></a> 753         <strong class="reserved">public</strong> <strong class="reserved">long</strong> <a href="../R/28639.html" title="Multiple referred from 5617 places.">size</a>() <em class="brace">{</em>
<a id="L754" name="L754"></a> 754             <strong class="reserved">return</strong> <a href="../D/34593.html" title="Multiple defined in 204 places.">size</a>;
<a id="L755" name="L755"></a> 755         <em class="brace">}</em>
<a id="L756" name="L756"></a> 756 
<a id="L757" name="L757"></a> 757         <strong class="reserved">public</strong> <strong class="reserved">void</strong> <a href="../R/11587.html" title="Multiple referred from 410 places.">close</a>() <em class="brace">{</em>
<a id="L758" name="L758"></a> 758             <strong class="reserved">if</strong> (closeRequested)
<a id="L759" name="L759"></a> 759                 <strong class="reserved">return</strong>;
<a id="L760" name="L760"></a> 760             closeRequested = <strong class="reserved">true</strong>;
<a id="L761" name="L761"></a> 761 
<a id="L762" name="L762"></a> 762             rem = 0;
<a id="L763" name="L763"></a> 763             <strong class="reserved">synchronized</strong> (<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>) <em class="brace">{</em>
<a id="L764" name="L764"></a> 764                 <strong class="reserved">if</strong> (jzentry != 0 &amp;&amp; <a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.jzfile != 0) <em class="brace">{</em>
<a id="L765" name="L765"></a> 765                     <a href="../S/1014.html#L324" title="Defined at 324 in src/java/util/zip/ZipFile.java.">freeEntry</a>(<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a>.<strong class="reserved">this</strong>.jzfile, jzentry);
<a id="L766" name="L766"></a> 766                     jzentry = 0;
<a id="L767" name="L767"></a> 767                 <em class="brace">}</em>
<a id="L768" name="L768"></a> 768             <em class="brace">}</em>
<a id="L769" name="L769"></a> 769             <strong class="reserved">synchronized</strong> (streams) <em class="brace">{</em>
<a id="L770" name="L770"></a> 770                 streams.<a href="../D/30677.html" title="Multiple defined in 356 places.">remove</a>(<strong class="reserved">this</strong>);
<a id="L771" name="L771"></a> 771             <em class="brace">}</em>
<a id="L772" name="L772"></a> 772         <em class="brace">}</em>
<a id="L773" name="L773"></a> 773 
<a id="L774" name="L774"></a> 774         <strong class="reserved">protected</strong> <strong class="reserved">void</strong> <a href="../R/14337.html" title="Multiple referred from 5 places.">finalize</a>() <em class="brace">{</em>
<a id="L775" name="L775"></a> 775             <a href="../D/12922.html" title="Multiple defined in 218 places.">close</a>();
<a id="L776" name="L776"></a> 776         <em class="brace">}</em>
<a id="L777" name="L777"></a> 777     <em class="brace">}</em>
<a id="L778" name="L778"></a> 778 
<a id="L779" name="L779"></a> 779     <strong class="reserved">static</strong> <em class="brace">{</em>
<a id="L780" name="L780"></a> 780         sun.misc.SharedSecrets.setJavaUtilZipFileAccess(
<a id="L781" name="L781"></a> 781             <strong class="reserved">new</strong> sun.misc.JavaUtilZipFileAccess() <em class="brace">{</em>
<a id="L782" name="L782"></a> 782                 <strong class="reserved">public</strong> <strong class="reserved">boolean</strong> <a href="../S/1014.html#L793" title="Defined at 793 in src/java/util/zip/ZipFile.java.">startsWithLocHeader</a>(<a href="../S/1014.html#L60" title="Defined at 60 in src/java/util/zip/ZipFile.java.">ZipFile</a> zip) <em class="brace">{</em>
<a id="L783" name="L783"></a> 783                     <strong class="reserved">return</strong> zip.<a href="../S/1014.html#L793" title="Defined at 793 in src/java/util/zip/ZipFile.java.">startsWithLocHeader</a>();
<a id="L784" name="L784"></a> 784                 <em class="brace">}</em>
<a id="L785" name="L785"></a> 785              <em class="brace">}</em>
<a id="L786" name="L786"></a> 786         );
<a id="L787" name="L787"></a> 787     <em class="brace">}</em>
<a id="L788" name="L788"></a> 788 
<div class="comment">
      Returns <code>true</code> if, and only if, the zip file begins with {@code
      LOCSIG}.</div>
<a id="L793" name="L793"></a> 793     <strong class="reserved">private</strong> <strong class="reserved">boolean</strong> <a href="../R/28872.html" title="Multiple referred from 2 places.">startsWithLocHeader</a>() <em class="brace">{</em>
<a id="L794" name="L794"></a> 794         <strong class="reserved">return</strong> locsig;
<a id="L795" name="L795"></a> 795     <em class="brace">}</em>
<a id="L796" name="L796"></a> 796 
<a id="L797" name="L797"></a> 797     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/23970.html" title="Multiple referred from 49 places.">open</a>(<a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../D/27856.html" title="Multiple defined in 46 places.">name</a>, <strong class="reserved">int</strong> mode, <strong class="reserved">long</strong> <a href="../S/1433.html#L935" title="Defined at 935 in src/java/io/File.java.">lastModified</a>,
<a id="L798" name="L798"></a> 798                                     <strong class="reserved">boolean</strong> usemmap) <strong class="reserved">throws</strong> <a href="../S/1392.html#L39" title="Defined at 39 in src/java/io/IOException.java.">IOException</a>;
<a id="L799" name="L799"></a> 799     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../S/1014.html#L223" title="Referred from 223 in src/java/util/zip/ZipFile.java.">getTotal</a>(<strong class="reserved">long</strong> jzfile);
<a id="L800" name="L800"></a> 800     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">boolean</strong> <a href="../S/1014.html#L224" title="Referred from 224 in src/java/util/zip/ZipFile.java.">startsWithLOC</a>(<strong class="reserved">long</strong> jzfile);
<a id="L801" name="L801"></a> 801     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../R/25407.html" title="Multiple referred from 1300 places.">read</a>(<strong class="reserved">long</strong> jzfile, <strong class="reserved">long</strong> jzentry,
<a id="L802" name="L802"></a> 802                                    <strong class="reserved">long</strong> pos, <strong class="reserved">byte</strong>[] b, <strong class="reserved">int</strong> off, <strong class="reserved">int</strong> len);
<a id="L803" name="L803"></a> 803 
<a id="L804" name="L804"></a> 804     <em class="comment">// access to the native zentry object</em>
<a id="L805" name="L805"></a> 805     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../S/1014.html#L569" title="Referred from 569 in src/java/util/zip/ZipFile.java.">getEntryTime</a>(<strong class="reserved">long</strong> jzentry);
<a id="L806" name="L806"></a> 806     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../S/1014.html#L570" title="Referred from 570 in src/java/util/zip/ZipFile.java.">getEntryCrc</a>(<strong class="reserved">long</strong> jzentry);
<a id="L807" name="L807"></a> 807     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/16401.html" title="Multiple referred from 2 places.">getEntryCSize</a>(<strong class="reserved">long</strong> jzentry);
<a id="L808" name="L808"></a> 808     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">long</strong> <a href="../R/16408.html" title="Multiple referred from 3 places.">getEntrySize</a>(<strong class="reserved">long</strong> jzentry);
<a id="L809" name="L809"></a> 809     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../R/16405.html" title="Multiple referred from 2 places.">getEntryMethod</a>(<strong class="reserved">long</strong> jzentry);
<a id="L810" name="L810"></a> 810     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">int</strong> <a href="../S/1014.html#L558" title="Referred from 558 in src/java/util/zip/ZipFile.java.">getEntryFlag</a>(<strong class="reserved">long</strong> jzentry);
<a id="L811" name="L811"></a> 811     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">byte</strong>[] <a href="../S/1014.html#L288" title="Referred from 288 in src/java/util/zip/ZipFile.java.">getCommentBytes</a>(<strong class="reserved">long</strong> jzfile);
<a id="L812" name="L812"></a> 812 
<a id="L813" name="L813"></a> 813     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> JZENTRY_NAME = 0;
<a id="L814" name="L814"></a> 814     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> JZENTRY_EXTRA = 1;
<a id="L815" name="L815"></a> 815     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">final</strong> <strong class="reserved">int</strong> JZENTRY_COMMENT = 2;
<a id="L816" name="L816"></a> 816     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <strong class="reserved">byte</strong>[] <a href="../R/16400.html" title="Multiple referred from 3 places.">getEntryBytes</a>(<strong class="reserved">long</strong> jzentry, <strong class="reserved">int</strong> <a href="../D/35749.html" title="Multiple defined in 239 places.">type</a>);
<a id="L817" name="L817"></a> 817 
<a id="L818" name="L818"></a> 818     <strong class="reserved">private</strong> <strong class="reserved">static</strong> <strong class="reserved">native</strong> <a href="../D/8419.html" title="Multiple defined in 2 places.">String</a> <a href="../S/1014.html#L514" title="Referred from 514 in src/java/util/zip/ZipFile.java.">getZipMessage</a>(<strong class="reserved">long</strong> jzfile);
<a id="L819" name="L819"></a> 819 <em class="brace">}</em>
</pre>
<hr>
<div class="comment">
/* [&lt;][&gt;]<a href="#L89">[^]</a><a href="#L818">[v]</a><a href="#TOP">[top]</a>[bottom]<a href="../mains.html">[index]</a><a href="../help.html">[help]</a> */</div>
</body></html>